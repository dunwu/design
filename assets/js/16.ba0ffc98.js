(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{356:function(t,a,v){"use strict";v.r(a);var r=v(4),_=Object(r.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"å¾®æœåŠ¡åŸºæœ¬åŸç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¾®æœåŠ¡åŸºæœ¬åŸç†"}},[t._v("#")]),t._v(" å¾®æœåŠ¡åŸºæœ¬åŸç†")]),t._v(" "),a("h2",{attrs:{id:"å¾®æœåŠ¡ç®€ä»‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¾®æœåŠ¡ç®€ä»‹"}},[t._v("#")]),t._v(" å¾®æœåŠ¡ç®€ä»‹")]),t._v(" "),a("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯å¾®æœåŠ¡æ¶æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯å¾®æœåŠ¡æ¶æ„"}},[t._v("#")]),t._v(" ä»€ä¹ˆæ˜¯å¾®æœåŠ¡æ¶æ„")]),t._v(" "),a("p",[t._v("äº’è”ç½‘åº”ç”¨æ¶æ„å¤§è‡´çš„æ¼”è¿›æ–¹å‘ä¸ºï¼šå•ä½“æ¶æ„ -> æœåŠ¡åŒ–æ¶æ„ -> å¾®æœåŠ¡æ¶æ„ã€‚")]),t._v(" "),a("p",[t._v("å¾®æœåŠ¡æ¶æ„çš„ç‰¹ç‚¹ï¼š")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("æœåŠ¡æ‹†åˆ†ç²’åº¦æ›´ç»†")]),t._v("ï¼šæ ¹æ®ä¸šåŠ¡æ‹†åˆ†ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("ç‹¬ç«‹éƒ¨ç½²")]),t._v("ï¼šæ¯ä¸ªæœåŠ¡éƒ¨ç½²åœ¨ç‰©ç†ä¸Šéš”ç¦»ï¼Œäº’ä¸å½±å“ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("ç‹¬ç«‹ç»´æŠ¤")]),t._v("ï¼šæ ¹æ®ç»„ç»‡æ¶æ„æ‹†åˆ†ï¼Œåˆ†å›¢é˜Ÿç»´æŠ¤ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("æœåŠ¡æ²»ç†")]),t._v("ï¼šæœåŠ¡æ•°é‡å˜å¤šï¼Œéœ€è¦æœ‰ç»Ÿä¸€çš„æœåŠ¡æ²»ç†å¹³å°ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"å¦‚ä½•æƒè¡¡å¾®æœåŠ¡çš„åˆ©å¼Š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•æƒè¡¡å¾®æœåŠ¡çš„åˆ©å¼Š"}},[t._v("#")]),t._v(" å¦‚ä½•æƒè¡¡å¾®æœåŠ¡çš„åˆ©å¼Š")]),t._v(" "),a("p",[t._v("ä¼˜ç‚¹")]),t._v(" "),a("ul",[a("li",[t._v("å¼ºæ¨¡å—åŒ–è¾¹ç•Œ")]),t._v(" "),a("li",[t._v("å¯ç‹¬ç«‹éƒ¨ç½²")]),t._v(" "),a("li",[t._v("æŠ€æœ¯å¤šæ ·æ€§")])]),t._v(" "),a("p",[t._v("ç¼ºç‚¹")]),t._v(" "),a("ul",[a("li",[t._v("åˆ†å¸ƒå¼å¤æ‚åº¦")]),t._v(" "),a("li",[t._v("æœ€ç»ˆä¸€è‡´æ€§")]),t._v(" "),a("li",[t._v("è¿ç»´å¤æ‚åº¦")]),t._v(" "),a("li",[t._v("æµ‹è¯•å¤æ‚åº¦")])]),t._v(" "),a("h3",{attrs:{id:"åº·å¨å®šå¾‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åº·å¨å®šå¾‹"}},[t._v("#")]),t._v(" åº·å¨å®šå¾‹")]),t._v(" "),a("ul",[a("li",[t._v("ç¬¬ä¸€å®šå¾‹ï¼šç»„ç»‡æ²Ÿé€šæ–¹å¼ä¼šé€šè¿‡ç³»ç»Ÿè®¾è®¡è¡¨è¾¾å‡ºæ¥")]),t._v(" "),a("li",[t._v("ç¬¬äºŒå®šå¾‹ï¼šæ—¶é—´å†å¤šä¸€ä»¶äº‹æƒ…ä¹Ÿä¸å¯èƒ½åšçš„å®Œç¾ï¼Œä½†æ€»æœ‰æ—¶é—´åšå®Œä¸€ä»¶äº‹æƒ…")]),t._v(" "),a("li",[t._v("ç¬¬ä¸‰å®šå¾‹ï¼šçº¿å‹ç³»ç»Ÿå’Œçº¿å‹ç»„ç»‡æ¶æ„é—´æœ‰æ½œåœ¨çš„å¼‚è´¨åŒæ€ç‰¹æ€§")]),t._v(" "),a("li",[t._v("ç¬¬å››å®šå¾‹ï¼šå¤§çš„ç³»ç»Ÿç»„ç»‡æ€»æ˜¯æ¯”å°ç³»ç»Ÿæ›´å€¾å‘äºåˆ†è§£")])]),t._v(" "),a("h3",{attrs:{id:"å¦‚ä½•æ‹†åˆ†å¾®æœåŠ¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•æ‹†åˆ†å¾®æœåŠ¡"}},[t._v("#")]),t._v(" å¦‚ä½•æ‹†åˆ†å¾®æœåŠ¡")]),t._v(" "),a("p",[t._v("åº”ç”¨å¾®æœåŠ¡åŒ–æ¶æ„å‰ï¼Œè¦æ€è€ƒå‡ ä¸ªé—®é¢˜ï¼š")]),t._v(" "),a("p",[t._v("ä»€ä¹ˆæ—¶å€™è¿›è¡ŒæœåŠ¡åŒ–æ‹†åˆ†ï¼Ÿå¦‚ä½•æ‹†åˆ†æœåŠ¡ï¼Ÿ")]),t._v(" "),a("p",[t._v("å½“åº”ç”¨å¤æ‚åº¦ã€å¼€å‘å›¢é˜Ÿè†¨èƒ€åˆ°éš¾ä»¥ç»´æŠ¤æ—¶ï¼Œå°±è¯¥è€ƒè™‘æœåŠ¡åŒ–æ‹†åˆ†äº†ã€‚")]),t._v(" "),a("p",[t._v("æ‹†åˆ†æœåŠ¡çš„æ€è€ƒç»´åº¦ï¼š")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("ä¸šåŠ¡ç»´åº¦")]),t._v("ï¼šä¸šåŠ¡å’Œæ•°æ®å…³ç³»å¯†åˆ‡çš„åº”è¯¥æ”¾åœ¨ä¸€èµ·ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("åŠŸèƒ½ç»´åº¦")]),t._v("ï¼šå…¬å…±åŠŸèƒ½èšåˆä¸ºä¸€ä¸ªæœåŠ¡ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("ç»„ç»‡æ¶æ„")]),t._v("ï¼šæ ¹æ®å®é™…ç»„ç»‡æ¶æ„ï¼Œå¤©ç„¶åˆ†ä¸ºä¸åŒçš„å›¢é˜Ÿï¼Œæ¯ä¸ªå›¢é˜Ÿç‹¬ç«‹ç»´æŠ¤è‹¥å¹²å¾®æœåŠ¡ã€‚")])]),t._v(" "),a("p",[t._v("æ‹†åˆ†æœåŠ¡çš„å‰ç½®æ¡ä»¶ï¼š")]),t._v(" "),a("p",[t._v("åº”ç”¨å¾®æœåŠ¡æ¶æ„è¦å…ˆè§£å†³ä»¥ä¸‹é—®é¢˜ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("æœåŠ¡å¦‚ä½•å®š")]),t._v(" "),a("li",[t._v("æœåŠ¡å¦‚ä½•å‘å¸ƒå’Œè®¢é˜…")]),t._v(" "),a("li",[t._v("æœåŠ¡å¦‚ä½•ç›‘æ§")]),t._v(" "),a("li",[t._v("æœåŠ¡å¦‚ä½•æ²»ç†")]),t._v(" "),a("li",[t._v("æ•…éšœå¦‚ä½•å®šä½")])]),t._v(" "),a("h2",{attrs:{id:"å¾®æœåŠ¡æŠ€æœ¯æ¶æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¾®æœåŠ¡æŠ€æœ¯æ¶æ„"}},[t._v("#")]),t._v(" å¾®æœåŠ¡æŠ€æœ¯æ¶æ„")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/dunwu/images/master/snap/20200716195006.png",alt:"img"}})]),t._v(" "),a("p",[a("strong",[t._v("ç¬¬ä¸€å±‚ï¼šæ¥å…¥å±‚")])]),t._v(" "),a("p",[t._v("å¤–éƒ¨è®¾å¤‡è®¿é—®çš„ç»Ÿä¸€æ¥å…¥å±‚ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("ç¬¬äºŒå±‚ï¼šèšåˆæœåŠ¡å±‚")])]),t._v(" "),a("p",[t._v("å¯¹ä¸‹å±‚çš„åŸºç¡€æœåŠ¡åšä¸€äº›èšåˆï¼Œå‰ªè£çš„å·¥ä½œï¼Œé€‚é…ä¸Šå±‚ä¸åŒè®¾å¤‡çš„æ•°æ®è¾“å‡ºã€‚")]),t._v(" "),a("p",[a("strong",[t._v("ç¬¬ä¸‰å±‚ï¼šåŸºç¡€æœåŠ¡å±‚")])]),t._v(" "),a("p",[t._v("æ¯”è¾ƒç»†ç²’åº¦çš„å¾®æœåŠ¡å±‚ï¼Œæä¾›åŸºç¡€çš„æ ¸å¿ƒæœåŠ¡ï¼Œå…¬å…±æœåŠ¡ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/dunwu/images/master/snap/20200716195117.png",alt:"img"}})]),t._v(" "),a("h2",{attrs:{id:"æœåŠ¡æ³¨å†Œå‘ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡æ³¨å†Œå‘ç°"}},[t._v("#")]),t._v(" æœåŠ¡æ³¨å†Œå‘ç°")]),t._v(" "),a("p",[t._v("åœ¨å¾®æœåŠ¡æ¶æ„ä¸‹ï¼Œä¸»è¦æœ‰ä¸‰ç§è§’è‰²ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("æœåŠ¡æä¾›è€…ï¼ˆRPC Server / Providerï¼‰")]),t._v(" "),a("li",[t._v("æœåŠ¡æ¶ˆè´¹è€…ï¼ˆRPC Client / Consumerï¼‰")]),t._v(" "),a("li",[t._v("æœåŠ¡æ³¨å†Œä¸­å¿ƒï¼ˆRegistryï¼‰")])]),t._v(" "),a("p",[t._v("æ³¨å†Œä¸­å¿ƒçš„å®ç°ä¾èµ–ä»¥ä¸‹æœºåˆ¶ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("æ³¨å†Œä¸­å¿ƒ API")]),t._v(" "),a("li",[t._v("é›†ç¾¤éƒ¨ç½²ï¼šå¦‚æœæ³¨å†Œä¸­å¿ƒæ˜¯å•ç‚¹ï¼Œæ— æ³•ä¿éšœé«˜å¯ç”¨ã€‚")]),t._v(" "),a("li",[t._v("å…ƒæ•°æ®å­˜å‚¨ï¼šä¾‹å¦‚ ZooKeeper å°†æ•°æ®ä»¥å±‚æ¬¡åŒ–çš„ç›®å½•ç»“æ„å­˜å‚¨ã€‚")]),t._v(" "),a("li",[t._v("æœåŠ¡å¥åº·æ£€æŸ¥ï¼šä½¿ç”¨é•¿è¿æ¥æˆ–å¿ƒè·³æ¢æµ‹æ–¹å¼æ£€æŸ¥æœåŠ¡å¥åº·çŠ¶æ€ã€‚")]),t._v(" "),a("li",[t._v("æœåŠ¡çŠ¶æ€å˜æ›´é€šçŸ¥ï¼šå¯ä»¥åŸºäºè®¢é˜…è€…æ¨¡å¼å®ç°ï¼Œä¾‹å¦‚ ZooKeeper çš„ Watch æœºåˆ¶ã€‚")]),t._v(" "),a("li",[t._v("ç™½åå•æœºåˆ¶")])]),t._v(" "),a("p",[t._v("æ³¨å†Œä¸­å¿ƒçš„æœåŠ¡æ³¨å†Œå’Œå‘ç°éƒ½æ˜¯åŸºäº API çš„ã€‚ä¸€èˆ¬éœ€è¦æ”¯æŒä»¥ä¸‹åŠŸèƒ½ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("æœåŠ¡æ³¨å†Œ")]),t._v(" "),a("li",[t._v("æœåŠ¡æ³¨é”€")]),t._v(" "),a("li",[t._v("æ¥å£ç»­çº¦ï¼ˆå¿ƒè·³ï¼‰")]),t._v(" "),a("li",[t._v("æœåŠ¡è®¢é˜…")]),t._v(" "),a("li",[t._v("å¯ç”¨æœåŠ¡åŒæ­¥")]),t._v(" "),a("li",[t._v("æœåŠ¡æŸ¥è¯¢")]),t._v(" "),a("li",[t._v("æœåŠ¡ä¿®æ”¹")])]),t._v(" "),a("h3",{attrs:{id:"æ³¨å†Œä¸­å¿ƒçš„å·¥ä½œæµç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨å†Œä¸­å¿ƒçš„å·¥ä½œæµç¨‹"}},[t._v("#")]),t._v(" æ³¨å†Œä¸­å¿ƒçš„å·¥ä½œæµç¨‹")]),t._v(" "),a("p",[t._v("ä¸€èˆ¬æ¥è®²ï¼Œæ³¨å†Œä¸­å¿ƒçš„å·¥ä½œæµç¨‹æ˜¯ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("æœåŠ¡æä¾›è€…åœ¨å¯åŠ¨æ—¶ï¼Œæ ¹æ®æœåŠ¡å‘å¸ƒæ–‡ä»¶ä¸­é…ç½®çš„å‘å¸ƒä¿¡æ¯å‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±çš„æœåŠ¡ã€‚")]),t._v(" "),a("li",[t._v("æœåŠ¡æ¶ˆè´¹è€…åœ¨å¯åŠ¨æ—¶ï¼Œæ ¹æ®æ¶ˆè´¹è€…é…ç½®æ–‡ä»¶ä¸­é…ç½®çš„æœåŠ¡ä¿¡æ¯å‘æ³¨å†Œä¸­å¿ƒè®¢é˜…è‡ªå·±æ‰€éœ€è¦çš„æœåŠ¡ã€‚")]),t._v(" "),a("li",[t._v("æ³¨å†Œä¸­å¿ƒè¿”å›æœåŠ¡æä¾›è€…åœ°å€åˆ—è¡¨ç»™æœåŠ¡æ¶ˆè´¹è€…ã€‚")]),t._v(" "),a("li",[t._v("å½“æœåŠ¡æä¾›è€…å‘ç”Ÿå˜åŒ–ï¼Œæ¯”å¦‚æœ‰èŠ‚ç‚¹æ–°å¢æˆ–è€…é”€æ¯ï¼Œæ³¨å†Œä¸­å¿ƒå°†å˜æ›´é€šçŸ¥ç»™æœåŠ¡æ¶ˆè´¹è€…ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"æ³¨å†Œä¸­å¿ƒå®ç°æ¨¡å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨å†Œä¸­å¿ƒå®ç°æ¨¡å¼"}},[t._v("#")]),t._v(" æ³¨å†Œä¸­å¿ƒå®ç°æ¨¡å¼")]),t._v(" "),a("h4",{attrs:{id:"åº”ç”¨å†…æ³¨å†Œå’Œå‘ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åº”ç”¨å†…æ³¨å†Œå’Œå‘ç°"}},[t._v("#")]),t._v(" åº”ç”¨å†…æ³¨å†Œå’Œå‘ç°")]),t._v(" "),a("p",[t._v("é‡‡ç”¨åº”ç”¨å†…æ³¨å†Œä¸å‘ç°çš„æ–¹å¼ï¼Œæœ€å…¸å‹çš„æ¡ˆä¾‹è¦å± Netflix å¼€æºçš„ Eurekaï¼Œå®˜æ–¹æ¶æ„å›¾å¦‚ä¸‹ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/dunwu/images/master/snap/20200720194412.png",alt:"img"}})]),t._v(" "),a("p",[t._v("å¯¹ç€è¿™å¼ å›¾ï¼Œæˆ‘æ¥ä»‹ç»ä¸‹ Eureka çš„æ¶æ„ï¼Œå®ƒä¸»è¦ç”±ä¸‰ä¸ªé‡è¦çš„ç»„ä»¶ç»„æˆï¼š")]),t._v(" "),a("ul",[a("li",[t._v("Eureka Serverï¼šæ³¨å†Œä¸­å¿ƒçš„æœåŠ¡ç«¯ï¼Œå®ç°äº†æœåŠ¡ä¿¡æ¯æ³¨å†Œã€å­˜å‚¨ä»¥åŠæŸ¥è¯¢ç­‰åŠŸèƒ½ã€‚")]),t._v(" "),a("li",[t._v("æœåŠ¡ç«¯çš„ Eureka Clientï¼šé›†æˆåœ¨æœåŠ¡ç«¯çš„æ³¨å†Œä¸­å¿ƒ SDKï¼ŒæœåŠ¡æä¾›è€…é€šè¿‡è°ƒç”¨ SDKï¼Œå®ç°æœåŠ¡æ³¨å†Œã€åæ³¨å†Œç­‰åŠŸèƒ½ã€‚")]),t._v(" "),a("li",[t._v("å®¢æˆ·ç«¯çš„ Eureka Clientï¼šé›†æˆåœ¨å®¢æˆ·ç«¯çš„æ³¨å†Œä¸­å¿ƒ SDKï¼ŒæœåŠ¡æ¶ˆè´¹è€…é€šè¿‡è°ƒç”¨ SDKï¼Œå®ç°æœåŠ¡è®¢é˜…ã€æœåŠ¡æ›´æ–°ç­‰åŠŸèƒ½ã€‚")])]),t._v(" "),a("h4",{attrs:{id:"åº”ç”¨å¤–æ³¨å†Œå’Œå‘ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åº”ç”¨å¤–æ³¨å†Œå’Œå‘ç°"}},[t._v("#")]),t._v(" åº”ç”¨å¤–æ³¨å†Œå’Œå‘ç°")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/dunwu/images/master/snap/20200720194519.png",alt:"img"}})]),t._v(" "),a("p",[t._v("é€šè¿‡è¿™å¼ æ¶æ„å›¾ï¼Œå¯ä»¥çœ‹å‡ºæ¥ä½¿ç”¨ Consul å®ç°åº”ç”¨å¤–æœåŠ¡æ³¨å†Œå’Œå‘ç°ä¸»è¦ä¾é ä¸‰ä¸ªé‡è¦çš„ç»„ä»¶ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("Consulï¼šæ³¨å†Œä¸­å¿ƒçš„æœåŠ¡ç«¯ï¼Œå®ç°æœåŠ¡æ³¨å†Œä¿¡æ¯çš„å­˜å‚¨ï¼Œå¹¶æä¾›æ³¨å†Œå’Œå‘ç°æœåŠ¡ã€‚")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/gliderlabs/registrator",target:"_blank",rel:"noopener noreferrer"}},[t._v("Registrator"),a("OutboundLink")],1),t._v("ï¼šä¸€ä¸ªå¼€æºçš„ç¬¬ä¸‰æ–¹æœåŠ¡ç®¡ç†å™¨é¡¹ç›®ï¼Œå®ƒé€šè¿‡ç›‘å¬æœåŠ¡éƒ¨ç½²çš„ Docker å®ä¾‹æ˜¯å¦å­˜æ´»ï¼Œæ¥è´Ÿè´£æœåŠ¡æä¾›è€…çš„æ³¨å†Œå’Œé”€æ¯ã€‚")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/hashicorp/consul-template",target:"_blank",rel:"noopener noreferrer"}},[t._v("Consul Template"),a("OutboundLink")],1),t._v("ï¼šå®šæ—¶ä»æ³¨å†Œä¸­å¿ƒæœåŠ¡ç«¯è·å–æœ€æ–°çš„æœåŠ¡æä¾›è€…èŠ‚ç‚¹åˆ—è¡¨å¹¶åˆ·æ–° LB é…ç½®ï¼ˆæ¯”å¦‚ Nginx çš„ upstreamï¼‰ï¼Œè¿™æ ·æœåŠ¡æ¶ˆè´¹è€…å°±é€šè¿‡è®¿é—® Nginx å°±å¯ä»¥è·å–æœ€æ–°çš„æœåŠ¡æä¾›è€…ä¿¡æ¯ã€‚")])]),t._v(" "),a("h4",{attrs:{id:"æ³¨å†Œä¸­å¿ƒé€‰å‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨å†Œä¸­å¿ƒé€‰å‹"}},[t._v("#")]),t._v(" æ³¨å†Œä¸­å¿ƒé€‰å‹")]),t._v(" "),a("h5",{attrs:{id:"é«˜å¯ç”¨æ€§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é«˜å¯ç”¨æ€§"}},[t._v("#")]),t._v(" é«˜å¯ç”¨æ€§")]),t._v(" "),a("p",[t._v("é›†ç¾¤éƒ¨ç½²ï¼Œé€šè¿‡éƒ¨ç½²å¤šä¸ªå®ä¾‹ç»„æˆé›†ç¾¤æ¥ä¿è¯é«˜å¯ç”¨æ€§ã€‚")]),t._v(" "),a("p",[t._v("å¤š IDC éƒ¨ç½²ï¼Œå³éƒ¨ç½²åœ¨ä¸æ­¢ä¸€ä¸ªæœºæˆ¿ã€‚")]),t._v(" "),a("h5",{attrs:{id:"æ•°æ®ä¸€è‡´æ€§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®ä¸€è‡´æ€§"}},[t._v("#")]),t._v(" æ•°æ®ä¸€è‡´æ€§")]),t._v(" "),a("p",[t._v("æ ¹æ® CAP ç†è®ºï¼Œä¸‰è€…ä¸èƒ½åŒæ—¶æ»¡è¶³ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("CP å‹æ³¨å†Œä¸­å¿ƒï¼Œç‰ºç‰²å¯ç”¨æ€§æ¥ä¿è¯æ•°æ®å¼ºä¸€è‡´æ€§ï¼Œæœ€å…¸å‹çš„ä¾‹å­å°±æ˜¯ ZooKeeperï¼Œetcdï¼ŒConsul äº†ã€‚ZooKeeper é›†ç¾¤å†…åªæœ‰ä¸€ä¸ª Leaderï¼Œè€Œä¸”åœ¨ Leader æ— æ³•ä½¿ç”¨çš„æ—¶å€™é€šè¿‡ Paxos ç®—æ³•é€‰ä¸¾å‡ºä¸€ä¸ªæ–°çš„ Leaderã€‚è¿™ä¸ª Leader çš„ç›®çš„å°±æ˜¯ä¿è¯å†™ä¿¡æ¯çš„æ—¶å€™åªå‘è¿™ä¸ª Leader å†™å…¥ï¼ŒLeader ä¼šåŒæ­¥ä¿¡æ¯åˆ° Followersï¼Œè¿™ä¸ªè¿‡ç¨‹å°±å¯ä»¥ä¿è¯æ•°æ®çš„å¼ºä¸€è‡´æ€§ã€‚ä½†å¦‚æœå¤šä¸ª ZooKeeper ä¹‹é—´ç½‘ç»œå‡ºç°é—®é¢˜ï¼Œé€ æˆå‡ºç°å¤šä¸ª Leaderï¼Œå‘ç”Ÿè„‘è£‚çš„è¯ï¼Œæ³¨å†Œä¸­å¿ƒå°±ä¸å¯ç”¨äº†ã€‚è€Œ etcd å’Œ Consul é›†ç¾¤å†…éƒ½æ˜¯é€šè¿‡ raft åè®®æ¥ä¿è¯å¼ºä¸€è‡´æ€§ï¼Œå¦‚æœå‡ºç°è„‘è£‚çš„è¯ï¼Œ æ³¨å†Œä¸­å¿ƒä¹Ÿä¸å¯ç”¨ã€‚")]),t._v(" "),a("li",[t._v("AP å‹æ³¨å†Œä¸­å¿ƒï¼Œç‰ºç‰²ä¸€è‡´æ€§æ¥ä¿è¯å¯ç”¨æ€§ï¼Œæœ€å…¸å‹çš„ä¾‹å­å°±æ˜¯ Eureka äº†ã€‚å¯¹æ¯”ä¸‹ Zookeeperï¼ŒEureka ä¸ç”¨é€‰ä¸¾ä¸€ä¸ª Leaderï¼Œæ¯ä¸ª Eureka æœåŠ¡å™¨å•ç‹¬ä¿å­˜æœåŠ¡æ³¨å†Œåœ°å€ï¼Œå› æ­¤æœ‰å¯èƒ½å‡ºç°æ•°æ®ä¿¡æ¯ä¸ä¸€è‡´çš„æƒ…å†µã€‚ä½†æ˜¯å½“ç½‘ç»œå‡ºç°é—®é¢˜çš„æ—¶å€™ï¼Œæ¯å°æœåŠ¡å™¨éƒ½å¯ä»¥å®Œæˆç‹¬ç«‹çš„æœåŠ¡ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"æœåŠ¡æ³¨å†Œå‘ç°çš„é—®é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡æ³¨å†Œå‘ç°çš„é—®é¢˜"}},[t._v("#")]),t._v(" æœåŠ¡æ³¨å†Œå‘ç°çš„é—®é¢˜")]),t._v(" "),a("h4",{attrs:{id:"å¤šæ³¨å†Œä¸­å¿ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¤šæ³¨å†Œä¸­å¿ƒ"}},[t._v("#")]),t._v(" å¤šæ³¨å†Œä¸­å¿ƒ")]),t._v(" "),a("p",[t._v("å¯¹äºæœåŠ¡æ¶ˆè´¹è€…æ¥è¯´ï¼Œè¦èƒ½å¤ŸåŒæ—¶ä»å¤šä¸ªæ³¨å†Œä¸­å¿ƒè®¢é˜…æœåŠ¡ï¼›å¯¹äºæœåŠ¡æä¾›è€…æ¥è¯´ï¼Œè¦èƒ½å¤ŸåŒæ—¶å‘å¤šä¸ªæ³¨å†Œä¸­å¿ƒæ³¨å†ŒæœåŠ¡ã€‚")]),t._v(" "),a("h4",{attrs:{id:"å¹¶è¡Œè®¢é˜…æœåŠ¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¹¶è¡Œè®¢é˜…æœåŠ¡"}},[t._v("#")]),t._v(" å¹¶è¡Œè®¢é˜…æœåŠ¡")]),t._v(" "),a("p",[t._v("å¯ä»¥æ¯è®¢é˜…ä¸€ä¸ªæœåŠ¡å°±å•ç‹¬ç”¨ä¸€ä¸ªçº¿ç¨‹æ¥å¤„ç†ï¼Œè¿™æ ·çš„è¯å³ä½¿é‡åˆ°ä¸ªåˆ«æœåŠ¡èŠ‚ç‚¹è¿æ¥è¶…æ—¶ï¼Œå…¶ä»–æœåŠ¡èŠ‚ç‚¹çš„åˆå§‹åŒ–è¿æ¥ä¹Ÿä¸å—å½±å“ï¼Œæœ€æ…¢ä¹Ÿå°±æ˜¯è¿™ä¸ªæœåŠ¡èŠ‚ç‚¹çš„åˆå§‹åŒ–è¿æ¥è€—è´¹çš„æ—¶é—´ï¼Œæœ€ç»ˆæ‰€æœ‰æœåŠ¡èŠ‚ç‚¹çš„åˆå§‹åŒ–è¿æ¥è€—æ—¶æ§åˆ¶åœ¨äº† 30 ç§’ä»¥å†…ã€‚")]),t._v(" "),a("h4",{attrs:{id:"æ‰¹é‡æ³¨é”€æœåŠ¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ‰¹é‡æ³¨é”€æœåŠ¡"}},[t._v("#")]),t._v(" æ‰¹é‡æ³¨é”€æœåŠ¡")]),t._v(" "),a("p",[t._v("éœ€è¦å®šæ—¶å»æ¸…ç†æ³¨å†Œä¸­å¿ƒä¸­çš„â€œåƒµå°¸èŠ‚ç‚¹â€ï¼Œå¦‚æœæ”¯æŒæ‰¹é‡æ³¨é”€æœåŠ¡ï¼Œå°±å¯ä»¥ä¸€æ¬¡è°ƒç”¨å°±æŠŠè¯¥èŠ‚ç‚¹ä¸Šæä¾›çš„æ‰€æœ‰æœåŠ¡åŒæ—¶æ³¨é”€æ‰ã€‚")]),t._v(" "),a("h4",{attrs:{id:"æœåŠ¡å˜æ›´ä¿¡æ¯åŒæ­¥æ›´æ–°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡å˜æ›´ä¿¡æ¯åŒæ­¥æ›´æ–°"}},[t._v("#")]),t._v(" æœåŠ¡å˜æ›´ä¿¡æ¯åŒæ­¥æ›´æ–°")]),t._v(" "),a("p",[t._v("ä¸ºäº†å‡å°‘æœåŠ¡æ¶ˆè´¹è€…ä»æ³¨å†Œä¸­å¿ƒä¸­æ‹‰å–çš„æœåŠ¡å¯ç”¨èŠ‚ç‚¹ä¿¡æ¯çš„æ•°æ®é‡ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥é€šè¿‡å¢é‡æ›´æ–°çš„æ–¹å¼ï¼Œæ³¨å†Œä¸­å¿ƒåªè¿”å›å˜åŒ–çš„é‚£éƒ¨åˆ†èŠ‚ç‚¹ä¿¡æ¯ï¼Œå°¤å…¶åœ¨åªæœ‰å°‘æ•°èŠ‚ç‚¹ä¿¡æ¯å˜æ›´æ—¶ï¼Œæ­¤ä¸¾å¯ä»¥å¤§å¤§å‡å°‘æœåŠ¡æ¶ˆè´¹è€…ä»æ³¨å†Œä¸­å¿ƒæ‹‰å–çš„æ•°æ®é‡ï¼Œä»è€Œæœ€å¤§ç¨‹åº¦é¿å…äº§ç”Ÿç½‘ç»œé£æš´ã€‚")]),t._v(" "),a("h3",{attrs:{id:"è¯†åˆ«æœåŠ¡èŠ‚ç‚¹æ˜¯å¦å­˜æ´»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¯†åˆ«æœåŠ¡èŠ‚ç‚¹æ˜¯å¦å­˜æ´»"}},[t._v("#")]),t._v(" è¯†åˆ«æœåŠ¡èŠ‚ç‚¹æ˜¯å¦å­˜æ´»")]),t._v(" "),a("h4",{attrs:{id:"å¿ƒè·³å¼€å…³ä¿æŠ¤æœºåˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¿ƒè·³å¼€å…³ä¿æŠ¤æœºåˆ¶"}},[t._v("#")]),t._v(" å¿ƒè·³å¼€å…³ä¿æŠ¤æœºåˆ¶")]),t._v(" "),a("p",[t._v("åœ¨ç½‘ç»œé¢‘ç¹æŠ–åŠ¨çš„æƒ…å†µä¸‹ï¼Œæ³¨å†Œä¸­å¿ƒä¸­å¯ç”¨çš„èŠ‚ç‚¹ä¼šä¸æ–­å˜åŒ–ï¼Œè¿™æ—¶å€™æœåŠ¡æ¶ˆè´¹è€…ä¼šé¢‘ç¹æ”¶åˆ°æœåŠ¡æä¾›è€…èŠ‚ç‚¹å˜æ›´çš„ä¿¡æ¯ï¼Œäºæ˜¯å°±ä¸æ–­åœ°è¯·æ±‚æ³¨å†Œä¸­å¿ƒæ¥æ‹‰å–æœ€æ–°çš„å¯ç”¨æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯ã€‚å½“æœ‰æˆç™¾ä¸Šåƒä¸ªæœåŠ¡æ¶ˆè´¹è€…ï¼ŒåŒæ—¶è¯·æ±‚æ³¨å†Œä¸­å¿ƒè·å–æœ€æ–°çš„æœåŠ¡æä¾›è€…çš„èŠ‚ç‚¹ä¿¡æ¯æ—¶ï¼Œå¯èƒ½ä¼šæŠŠæ³¨å†Œä¸­å¿ƒçš„å¸¦å®½ç»™å æ»¡ï¼Œå°¤å…¶æ˜¯æ³¨å†Œä¸­å¿ƒæ˜¯ç™¾å…†ç½‘å¡çš„æƒ…å†µä¸‹ã€‚")]),t._v(" "),a("p",[t._v("æ‰€ä»¥é’ˆå¯¹è¿™ç§æƒ…å†µï¼Œ"),a("strong",[t._v("éœ€è¦ä¸€ç§ä¿æŠ¤æœºåˆ¶ï¼Œå³ä½¿åœ¨ç½‘ç»œé¢‘ç¹æŠ–åŠ¨çš„æ—¶å€™ï¼ŒæœåŠ¡æ¶ˆè´¹è€…ä¹Ÿä¸è‡³äºåŒæ—¶å»è¯·æ±‚æ³¨å†Œä¸­å¿ƒè·å–æœ€æ–°çš„æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘æ›¾ç»å°±é‡åˆ°è¿‡è¿™ç§æƒ…å†µï¼Œä¸€ä¸ªå¯è¡Œçš„è§£å†³æ–¹æ¡ˆå°±æ˜¯ç»™æ³¨å†Œä¸­å¿ƒè®¾ç½®ä¸€ä¸ªå¼€å…³ï¼Œå½“å¼€å…³æ‰“å¼€æ—¶ï¼Œå³ä½¿ç½‘ç»œé¢‘ç¹æŠ–åŠ¨ï¼Œæ³¨å†Œä¸­å¿ƒä¹Ÿä¸ä¼šé€šçŸ¥æ‰€æœ‰çš„æœåŠ¡æ¶ˆè´¹è€…æœ‰æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯å˜æ›´ï¼Œæ¯”å¦‚åªç»™ 10% çš„æœåŠ¡æ¶ˆè´¹è€…è¿”å›å˜æ›´ï¼Œè¿™æ ·çš„è¯å°±èƒ½å°†æ³¨å†Œä¸­å¿ƒçš„è¯·æ±‚é‡å‡å°‘åˆ°åŸæ¥çš„ 1/10ã€‚")]),t._v(" "),a("p",[t._v("å½“ç„¶æ‰“å¼€è¿™ä¸ªå¼€å…³ä¹Ÿæ˜¯æœ‰ä¸€å®šä»£ä»·çš„ï¼Œå®ƒä¼šå¯¼è‡´æœåŠ¡æ¶ˆè´¹è€…æ„ŸçŸ¥æœ€æ–°çš„æœåŠ¡èŠ‚ç‚¹ä¿¡æ¯å»¶è¿Ÿï¼ŒåŸå…ˆå¯èƒ½åœ¨ 10s å†…å°±èƒ½æ„ŸçŸ¥åˆ°æœåŠ¡æä¾›è€…èŠ‚ç‚¹ä¿¡æ¯çš„å˜æ›´ï¼Œç°åœ¨å¯èƒ½ä¼šå»¶è¿Ÿåˆ°å‡ åˆ†é’Ÿï¼Œæ‰€ä»¥åœ¨ç½‘ç»œæ­£å¸¸çš„æƒ…å†µä¸‹ï¼Œå¼€å…³å¹¶ä¸é€‚åˆæ‰“å¼€ï¼›å¯ä»¥ä½œä¸ºä¸€ä¸ªç´§æ€¥æªæ–½ï¼Œåœ¨ç½‘ç»œé¢‘ç¹æŠ–åŠ¨çš„æ—¶å€™ï¼Œæ‰æ‰“å¼€è¿™ä¸ªå¼€å…³ã€‚")]),t._v(" "),a("h4",{attrs:{id:"æœåŠ¡èŠ‚ç‚¹æ‘˜é™¤ä¿æŠ¤æœºåˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡èŠ‚ç‚¹æ‘˜é™¤ä¿æŠ¤æœºåˆ¶"}},[t._v("#")]),t._v(" æœåŠ¡èŠ‚ç‚¹æ‘˜é™¤ä¿æŠ¤æœºåˆ¶")]),t._v(" "),a("p",[t._v("æœåŠ¡æä¾›è€…åœ¨è¿›ç¨‹å¯åŠ¨æ—¶ï¼Œä¼šæ³¨å†ŒæœåŠ¡åˆ°æ³¨å†Œä¸­å¿ƒï¼Œå¹¶æ¯éš”ä¸€æ®µæ—¶é—´ï¼Œæ±‡æŠ¥å¿ƒè·³ç»™æ³¨å†Œä¸­å¿ƒï¼Œä»¥æ ‡è¯†è‡ªå·±çš„å­˜æ´»çŠ¶æ€ã€‚å¦‚æœéš”äº†ä¸€æ®µå›ºå®šæ—¶é—´åï¼ŒæœåŠ¡æä¾›è€…ä»ç„¶æ²¡æœ‰æ±‡æŠ¥å¿ƒè·³ç»™æ³¨å†Œä¸­å¿ƒï¼Œæ³¨å†Œä¸­å¿ƒå°±ä¼šè®¤ä¸ºè¯¥èŠ‚ç‚¹å·²ç»å¤„äºâ€œdeadâ€çŠ¶æ€ï¼Œäºæ˜¯ä»æœåŠ¡çš„å¯ç”¨èŠ‚ç‚¹ä¿¡æ¯ä¸­ç§»é™¤å‡ºå»ã€‚")]),t._v(" "),a("p",[t._v("å¦‚æœé‡åˆ°ç½‘ç»œé—®é¢˜ï¼Œå¤§æ‰¹æœåŠ¡æä¾›è€…èŠ‚ç‚¹æ±‡æŠ¥ç»™æ³¨å†Œä¸­å¿ƒçš„å¿ƒè·³ä¿¡æ¯éƒ½å¯èƒ½ä¼šä¼ è¾¾å¤±è´¥ï¼Œæ³¨å†Œä¸­å¿ƒå°±ä¼šæŠŠå®ƒä»¬éƒ½ä»å¯ç”¨èŠ‚ç‚¹åˆ—è¡¨ä¸­ç§»é™¤å‡ºå»ï¼Œé€ æˆå‰©ä¸‹çš„å¯ç”¨èŠ‚ç‚¹éš¾ä»¥æ‰¿å—æ‰€æœ‰çš„è°ƒç”¨ï¼Œå¼•èµ·â€œé›ªå´©â€ã€‚ä½†æ˜¯è¿™ç§æƒ…å†µä¸‹ï¼Œå¯èƒ½å¤§éƒ¨åˆ†æœåŠ¡æä¾›è€…èŠ‚ç‚¹æ˜¯å¯ç”¨çš„ï¼Œä»…ä»…å› ä¸ºç½‘ç»œåŸå› æ— æ³•æ±‡æŠ¥å¿ƒè·³ç»™æ³¨å†Œä¸­å¿ƒå°±è¢«â€œæ— æƒ…â€çš„æ‘˜é™¤äº†ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("è¿™ä¸ªæ—¶å€™å°±éœ€è¦æ ¹æ®å®é™…ä¸šåŠ¡çš„æƒ…å†µï¼Œè®¾å®šä¸€ä¸ªé˜ˆå€¼æ¯”ä¾‹ï¼Œå³ä½¿é‡åˆ°åˆšæ‰è¯´çš„è¿™ç§æƒ…å†µï¼Œæ³¨å†Œä¸­å¿ƒä¹Ÿä¸èƒ½æ‘˜é™¤è¶…è¿‡è¿™ä¸ªé˜ˆå€¼æ¯”ä¾‹çš„èŠ‚ç‚¹")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("è¿™ä¸ªé˜ˆå€¼æ¯”ä¾‹å¯ä»¥æ ¹æ®å®é™…ä¸šåŠ¡çš„å†—ä½™åº¦æ¥ç¡®å®šï¼Œæˆ‘é€šå¸¸ä¼šæŠŠè¿™ä¸ªæ¯”ä¾‹è®¾å®šåœ¨ 20%ï¼Œå°±æ˜¯è¯´æ³¨å†Œä¸­å¿ƒä¸èƒ½æ‘˜é™¤è¶…è¿‡ 20% çš„èŠ‚ç‚¹ã€‚å› ä¸ºå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼ŒèŠ‚ç‚¹çš„å˜åŒ–ä¸ä¼šè¿™ä¹ˆé¢‘ç¹ï¼Œåªæœ‰åœ¨ç½‘ç»œæŠ–åŠ¨æˆ–è€…ä¸šåŠ¡æ˜ç¡®è¦ä¸‹çº¿å¤§æ‰¹é‡èŠ‚ç‚¹çš„æƒ…å†µä¸‹æ‰æœ‰å¯èƒ½å‘ç”Ÿã€‚è€Œä¸šåŠ¡æ˜ç¡®è¦ä¸‹çº¿å¤§æ‰¹é‡èŠ‚ç‚¹çš„æƒ…å†µæ˜¯å¯ä»¥é¢„çŸ¥çš„ï¼Œè¿™ç§æƒ…å†µä¸‹å¯ä»¥å…³é—­é˜ˆå€¼ä¿æŠ¤ï¼›è€Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œåº”è¯¥æ‰“å¼€é˜ˆå€¼ä¿æŠ¤ï¼Œä»¥é˜²æ­¢ç½‘ç»œæŠ–åŠ¨æ—¶ï¼Œå¤§æ‰¹é‡å¯ç”¨çš„æœåŠ¡èŠ‚ç‚¹è¢«æ‘˜é™¤ã€‚")]),t._v(" "),a("h2",{attrs:{id:"æœåŠ¡é€šä¿¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡é€šä¿¡"}},[t._v("#")]),t._v(" æœåŠ¡é€šä¿¡")]),t._v(" "),a("p",[t._v("é€šè¿‡æ³¨å†Œä¸­å¿ƒï¼ŒæœåŠ¡æ¶ˆè´¹è€…å’ŒæœåŠ¡æä¾›è€…å°±å¯ä»¥æ„ŸçŸ¥å½¼æ­¤ï¼Œä½†æ˜¯ï¼Œè¦å®ç°äº¤äº’è¿˜å¿…é¡»è§£å†³é€šä¿¡é—®é¢˜ï¼š")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("é€šä¿¡åè®®")]),t._v("ã€‚å³æœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…ä¹‹é—´ä»¥ä»€ä¹ˆæ ·çš„ "),a("strong",[t._v("åè®®")]),t._v(" è¿›è¡Œç½‘ç»œé€šä¿¡ï¼Œè¯´ç™½äº†ï¼Œæ˜¯è¦è§£å†³å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å¦‚ä½•å»ºç«‹è¿æ¥ã€ç®¡ç†è¿æ¥ä»¥åŠæœåŠ¡ç«¯å¦‚ä½•å¤„ç†è¯·æ±‚çš„é—®é¢˜ã€‚æ˜¯é‡‡ç”¨å››å±‚ TCPã€UDP åè®®ï¼Œè¿˜æ˜¯é‡‡ç”¨ä¸ƒå±‚ HTTP åè®®ï¼Œè¿˜æ˜¯é‡‡ç”¨å…¶ä»–åè®®ï¼Ÿä¾‹å¦‚ï¼šDubbo åŸºäº TCP é€šä¿¡ï¼›è€Œ Spring Cloud åŸºäº HTTP REST é€šä¿¡ã€‚TCP é€šä¿¡æ–¹å¼ï¼Œä¼ è¾“æ•ˆç‡æ›´é«˜ï¼›ä½†æ˜¯ HTTP æ–¹å¼å¤©ç„¶å¯ä»¥æä¾›å¯¹å¤–æœåŠ¡ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("ä¼ è¾“æ–¹å¼")]),t._v("ã€‚å³æœåŠ¡æä¾›è€…å’ŒæœåŠ¡æ¶ˆè´¹è€…ä¹‹é—´çš„æ•°æ®ä¼ è¾“é‡‡ç”¨å“ªç§æ–¹å¼ã€‚æ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥ï¼Ÿæ˜¯åœ¨å•è¿æ¥ä¸Šä¼ è¾“ï¼Œè¿˜æ˜¯å¤šè·¯å¤ç”¨ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("åºåˆ—åŒ–å’Œååºåˆ—åŒ–")]),t._v("ã€‚å®ƒä¸»è¦è§£å†³å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯é‡‡ç”¨å“ªç§æ•°æ®ç¼–è§£ç çš„é—®é¢˜ã€‚å¸¸è§çš„åºåˆ—åŒ–æ–¹å¼åŒ…æ‹¬ï¼šXMLã€JSONï¼›äºŒè¿›åˆ¶ç±»å¦‚ï¼š"),a("a",{attrs:{href:"https://github.com/apache/thrift",target:"_blank",rel:"noopener noreferrer"}},[t._v("thrift"),a("OutboundLink")],1),t._v("ã€"),a("a",{attrs:{href:"https://github.com/protocolbuffers/protobuf",target:"_blank",rel:"noopener noreferrer"}},[t._v("protobuf"),a("OutboundLink")],1),t._v("ã€"),a("a",{attrs:{href:"http://hessian.caucho.com/doc/hessian-overview.xtp",target:"_blank",rel:"noopener noreferrer"}},[t._v("hessian"),a("OutboundLink")],1),t._v("ã€JDKã€‚")])]),t._v(" "),a("h3",{attrs:{id:"åºåˆ—åŒ–æ–¹å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åºåˆ—åŒ–æ–¹å¼"}},[t._v("#")]),t._v(" åºåˆ—åŒ–æ–¹å¼")]),t._v(" "),a("p",[t._v("åºåˆ—åŒ–æ–¹å¼çš„é€‰å‹ï¼Œä¸€èˆ¬åŸºäºä»¥ä¸‹è€ƒè™‘ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("æ”¯æŒæ•°æ®ç»“æ„ç±»å‹çš„ä¸°å¯Œåº¦")]),t._v(" "),a("li",[t._v("è·¨è¯­è¨€æ”¯æŒ")]),t._v(" "),a("li",[t._v("æ€§èƒ½")])]),t._v(" "),a("blockquote",[a("p",[t._v("ğŸ‘‰ å‚è€ƒï¼š"),a("a",{attrs:{href:"https://dunwu.github.io/blog/pages/2b2f0f/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Java åºåˆ—åŒ–"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"é€šä¿¡åè®®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é€šä¿¡åè®®"}},[t._v("#")]),t._v(" é€šä¿¡åè®®")]),t._v(" "),a("p",[t._v("å¾®æœåŠ¡æ¡†æ¶å¯¹æ¯”ï¼š")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th",[t._v("RPC")]),t._v(" "),a("th",[t._v("REST")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("è€¦åˆæ€§")]),t._v(" "),a("td",[t._v("å¼ºè€¦åˆ")]),t._v(" "),a("td",[t._v("æ¾æ•£è€¦åˆ")])]),t._v(" "),a("tr",[a("td",[t._v("åè®®")]),t._v(" "),a("td",[t._v("Tcp")]),t._v(" "),a("td",[t._v("Httpã€Http2")])]),t._v(" "),a("tr",[a("td",[t._v("åºåˆ—åŒ–")]),t._v(" "),a("td",[t._v("äºŒè¿›åˆ¶ï¼ˆThriftã€Protobufã€Hessianã€Avroã€JDK ç­‰ï¼‰")]),t._v(" "),a("td",[t._v("Xmlã€Json")])]),t._v(" "),a("tr",[a("td",[t._v("æ€§èƒ½")]),t._v(" "),a("td",[t._v("é«˜")]),t._v(" "),a("td",[t._v("ä½")])]),t._v(" "),a("tr",[a("td",[t._v("å®¢æˆ·ç«¯")]),t._v(" "),a("td",[t._v("å¯¹ç¼–ç¨‹è¯­è¨€æœ‰é™åˆ¶")]),t._v(" "),a("td",[t._v("è·¨è¯­è¨€æ”¯æŒæ›´å¥½ï¼ˆæ”¯æŒ Http å³å¯ï¼‰")])]),t._v(" "),a("tr",[a("td",[t._v("ä»£è¡¨æŠ€æœ¯")]),t._v(" "),a("td",[t._v("Dubboã€Motanã€Tarsã€gRpcã€Thrift")]),t._v(" "),a("td",[t._v("Spring Cloud")])])])]),t._v(" "),a("h2",{attrs:{id:"æœåŠ¡ç›‘æ§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡ç›‘æ§"}},[t._v("#")]),t._v(" æœåŠ¡ç›‘æ§")]),t._v(" "),a("p",[t._v("å½“æœåŠ¡æ¶ˆè´¹è€…ä¸æœåŠ¡æä¾›è€…ä¹‹é—´å»ºç«‹äº†é€šä¿¡ï¼Œä½œä¸ºç®¡ç†è€…éœ€è¦é€šè¿‡ç›‘æ§æ‰‹æ®µæ¥è§‚å¯ŸæœåŠ¡æ˜¯å¦æ­£å¸¸ï¼Œè°ƒç”¨æ˜¯å¦æˆåŠŸã€‚æœåŠ¡ç›‘æ§æ˜¯å¾ˆå¤æ‚çš„ï¼Œåœ¨å¾®æœåŠ¡æ¶æ„ä¸‹ï¼Œä¸€æ¬¡ç”¨æˆ·è°ƒç”¨ä¼šå› ä¸ºæœåŠ¡åŒ–æ‹†åˆ†åï¼Œå˜æˆå¤šä¸ªä¸åŒæœåŠ¡ä¹‹é—´çš„ç›¸äº’è°ƒç”¨ï¼Œè¿™ä¹Ÿå°±éœ€è¦å¯¹æ‹†åˆ†åçš„æ¯ä¸ªæœåŠ¡éƒ½ç›‘æ§èµ·æ¥ã€‚")]),t._v(" "),a("h3",{attrs:{id:"ç›‘æ§å¯¹è±¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›‘æ§å¯¹è±¡"}},[t._v("#")]),t._v(" ç›‘æ§å¯¹è±¡")]),t._v(" "),a("p",[t._v("æœåŠ¡ç›‘æ§ä¸€å®šæ˜¯é€šè¿‡è§‚å¯Ÿæ•°æ®æ¥é‡åŒ–åˆ†æï¼Œæ‰€ä»¥é¦–å…ˆè¦æ˜ç¡®éœ€è¦ç›‘æ§ä»€ä¹ˆã€‚")]),t._v(" "),a("p",[t._v("ä¸€èˆ¬æ¥è¯´ï¼ŒæœåŠ¡ç›‘æ§æ•°æ®æœ‰ä»¥ä¸‹åˆ†ç±»ï¼š")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("ä¸šåŠ¡ç›‘æ§")]),t._v("ï¼šæ ¸å¿ƒæŒ‡æ ‡ã€ç™»å½•ã€ç™»å‡ºã€ä¸‹å•ã€æ”¯ä»˜ç­‰ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("åº”ç”¨ç›‘æ§")]),t._v("ï¼šè®¿é—®æ¥å£ã€è®¿é—®æœåŠ¡ã€SQLã€å†…å­˜ä½¿ç”¨ç‡ã€å“åº”æ—¶é—´ã€TPSã€QPS ç­‰ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("ç³»ç»Ÿç›‘æ§")]),t._v("ï¼šCPUã€å†…å­˜ã€ç½‘ç»œã€ç£ç›˜ç­‰ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("åŸºç¡€ç›‘æ§")]),t._v("ï¼šç½‘ç»œæµé‡ã€ä¸¢åŒ…æ•°ã€é”™åŒ…æ•°ã€è¿æ¥æ•°ç­‰ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("å®¢æˆ·ç«¯ç›‘æ§")]),t._v("ï¼šæ€§èƒ½ã€è¿”å›ç ã€åœ°åŸŸã€è¿è¥å•†ã€ç‰ˆæœ¬ã€ç³»ç»Ÿç­‰ã€‚")])]),t._v(" "),a("h3",{attrs:{id:"ç³»ç»Ÿç›‘æ§åŸç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç³»ç»Ÿç›‘æ§åŸç†"}},[t._v("#")]),t._v(" ç³»ç»Ÿç›‘æ§åŸç†")]),t._v(" "),a("p",[t._v("ä¸€æ—¦æ˜ç¡®äº†è¦ç›‘æ§çš„å¯¹è±¡ï¼Œæ¥ä¸‹å°±æ˜¯è€ƒè™‘å¦‚ä½•ç›‘æ§ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("ç›‘æ§ç³»ç»Ÿä¸»è¦åŒ…æ‹¬å››ä¸ªç¯èŠ‚ï¼šæ•°æ®é‡‡é›†ã€æ•°æ®ä¼ è¾“ã€æ•°æ®å¤„ç†å’Œæ•°æ®å±•ç¤º")])]),t._v(" "),a("h4",{attrs:{id:"æ•°æ®é‡‡é›†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®é‡‡é›†"}},[t._v("#")]),t._v(" æ•°æ®é‡‡é›†")]),t._v(" "),a("p",[t._v("é€šå¸¸æœ‰ä¸¤ç§æ•°æ®æ”¶é›†æ–¹å¼ï¼š")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("æœåŠ¡ä¸»åŠ¨ä¸ŠæŠ¥")]),t._v("ï¼šè¿™ç§å¤„ç†æ–¹å¼é€šè¿‡åœ¨ä¸šåŠ¡ä»£ç æˆ–è€…æœåŠ¡æ¡†æ¶é‡ŒåŠ å…¥æ•°æ®æ”¶é›†ä»£ç é€»è¾‘ï¼Œåœ¨æ¯ä¸€æ¬¡æœåŠ¡è°ƒç”¨å®Œæˆåï¼Œä¸»åŠ¨ä¸ŠæŠ¥æœåŠ¡çš„è°ƒç”¨ä¿¡æ¯ã€‚è¿™ç§æ–¹å¼åœ¨é“¾è·¯è·Ÿè¸ªä¸­è¾ƒä¸ºå¸¸è§ï¼Œä¸»æµçš„æŠ€æœ¯æ–¹æ¡ˆæœ‰ï¼šZipkinã€‚")]),t._v(" "),a("li",[a("strong",[t._v("ä»£ç†æ”¶é›†")]),t._v("ï¼šè¿™ç§å¤„ç†æ–¹å¼é€šè¿‡æœåŠ¡è°ƒç”¨åæŠŠè°ƒç”¨çš„è¯¦ç»†ä¿¡æ¯è®°å½•åˆ°æœ¬åœ°æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œç„¶åå†é€šè¿‡ä»£ç†å»è§£ææœ¬åœ°æ—¥å¿—æ–‡ä»¶ï¼Œç„¶åå†ä¸ŠæŠ¥æœåŠ¡çš„è°ƒç”¨ä¿¡æ¯ã€‚ä¸»æµçš„æŠ€æœ¯æ–¹æ¡ˆæœ‰ï¼šELKã€Flumeã€‚")])]),t._v(" "),a("h4",{attrs:{id:"æ•°æ®ä¼ è¾“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®ä¼ è¾“"}},[t._v("#")]),t._v(" æ•°æ®ä¼ è¾“")]),t._v(" "),a("p",[t._v("æ•°æ®ä¼ è¾“æœ€å¸¸ç”¨çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("UDP ä¼ è¾“")]),t._v("ï¼šè¿™ç§å¤„ç†æ–¹å¼æ˜¯æ•°æ®å¤„ç†å•å…ƒæä¾›æœåŠ¡å™¨çš„è¯·æ±‚åœ°å€ï¼Œæ•°æ®é‡‡é›†åé€šè¿‡ UDP åè®®ä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼Œç„¶åæŠŠæ•°æ®å‘é€è¿‡å»ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("Kafka ä¼ è¾“")]),t._v("ï¼šè¿™ç§å¤„ç†æ–¹å¼æ˜¯æ•°æ®é‡‡é›†åå‘é€åˆ°æŒ‡å®šçš„ Topicï¼Œç„¶åæ•°æ®å¤„ç†å•å…ƒå†è®¢é˜…å¯¹åº”çš„ Topicï¼Œå°±å¯ä»¥ä» Kafka æ¶ˆæ¯é˜Ÿåˆ—ä¸­è¯»å–åˆ°å¯¹åº”çš„æ•°æ®ã€‚ç”±äº Kafka æœ‰éå¸¸é«˜çš„ååèƒ½åŠ›ï¼Œæ‰€ä»¥å¾ˆé€‚åˆä½œä¸ºå¤§æ•°æ®é‡çš„ç¼“å†²æ± ã€‚")])]),t._v(" "),a("h4",{attrs:{id:"æ•°æ®å¤„ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®å¤„ç†"}},[t._v("#")]),t._v(" æ•°æ®å¤„ç†")]),t._v(" "),a("p",[t._v("æ•°æ®å¤„ç†æ˜¯å¯¹æ”¶é›†æ¥çš„åŸå§‹æ•°æ®è¿›è¡Œèšåˆå¹¶å­˜å‚¨ã€‚æ•°æ®èšåˆé€šå¸¸æœ‰ä¸¤ä¸ªç»´åº¦ï¼š")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("æ¥å£ç»´åº¦èšåˆ")]),t._v("ï¼šè¿™ä¸ªç»´åº¦æ˜¯æŠŠå®æ—¶æ”¶åˆ°çš„æ•°æ®æŒ‰ç…§æ¥å£åç»´åº¦å®æ—¶èšåˆåœ¨ä¸€èµ·ï¼Œè¿™æ ·å°±å¯ä»¥å¾—åˆ°æ¯ä¸ªæ¥å£çš„æ¯ç§’è¯·æ±‚é‡ã€å¹³å‡è€—æ—¶ã€æˆåŠŸç‡ç­‰ä¿¡æ¯ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("æœºå™¨ç»´åº¦èšåˆ")]),t._v("ï¼šè¿™ä¸ªç»´åº¦æ˜¯æŠŠå®æ—¶æ”¶åˆ°çš„æ•°æ®æŒ‰ç…§è°ƒç”¨çš„èŠ‚ç‚¹ç»´åº¦èšåˆåœ¨ä¸€èµ·ï¼Œè¿™æ ·å°±å¯ä»¥ä»å•æœºç»´åº¦å»æŸ¥çœ‹æ¯ä¸ªæ¥å£çš„å®æ—¶è¯·æ±‚é‡ã€å¹³å‡è€—æ—¶ç­‰ä¿¡æ¯ã€‚")])]),t._v(" "),a("p",[t._v("èšåˆåçš„æ•°æ®éœ€è¦æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¸­å­˜å‚¨ï¼Œæ‰€é€‰ç”¨çš„æ•°æ®åº“ä¸€èˆ¬åˆ†ä¸ºä¸¤ç§ï¼š")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("å…¨æ–‡æ£€ç´¢æ•°æ®åº“")]),t._v("ï¼šæ¯”å¦‚ Elasticsearchï¼Œä»¥å€’æ’ç´¢å¼•çš„æ•°æ®ç»“æ„å­˜å‚¨ï¼Œéœ€è¦æŸ¥è¯¢çš„æ—¶å€™ï¼Œæ ¹æ®ç´¢å¼•æ¥æŸ¥è¯¢ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("æ—¶åºæ•°æ®åº“")]),t._v("ï¼šæ¯”å¦‚ OpenTSDBï¼Œä»¥æ—¶åºåºåˆ—æ•°æ®çš„æ–¹å¼å­˜å‚¨ï¼ŒæŸ¥è¯¢çš„æ—¶å€™æŒ‰ç…§æ—¶åºå¦‚ 1minã€5min ç­‰ç»´åº¦æ¥æŸ¥è¯¢ã€‚")])]),t._v(" "),a("h4",{attrs:{id:"æ•°æ®å±•ç¤º"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®å±•ç¤º"}},[t._v("#")]),t._v(" æ•°æ®å±•ç¤º")]),t._v(" "),a("p",[t._v("æ•°æ®å±•ç¤ºæ˜¯æŠŠå¤„ç†åçš„æ•°æ®ä»¥ Dashboard çš„æ–¹å¼å±•ç¤ºç»™ç”¨æˆ·ã€‚æ•°æ®å±•ç¤ºæœ‰å¤šç§æ–¹å¼ï¼Œæ¯”å¦‚æ›²çº¿å›¾ã€é¥¼çŠ¶å›¾ã€æ ¼å­å›¾å±•ç¤ºç­‰ã€‚")]),t._v(" "),a("h3",{attrs:{id:"ç›‘æ§æŠ€æœ¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›‘æ§æŠ€æœ¯"}},[t._v("#")]),t._v(" ç›‘æ§æŠ€æœ¯")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/dunwu/images/master/snap/20200716204432.png",alt:"img"}})]),t._v(" "),a("ul",[a("li",[t._v("ELK çš„æŠ€æœ¯æ ˆæ¯”è¾ƒæˆç†Ÿï¼Œåº”ç”¨èŒƒå›´ä¹Ÿæ¯”è¾ƒå¹¿ï¼Œé™¤äº†å¯ç”¨ä½œç›‘æ§ç³»ç»Ÿå¤–ï¼Œè¿˜å¯ä»¥ç”¨ä½œæ—¥å¿—æŸ¥è¯¢å’Œåˆ†æã€‚")]),t._v(" "),a("li",[t._v("Graphite æ˜¯åŸºäºæ—¶é—´åºåˆ—æ•°æ®åº“å­˜å‚¨çš„ç›‘æ§ç³»ç»Ÿï¼Œå¹¶ä¸”æä¾›äº†åŠŸèƒ½å¼ºå¤§çš„å„ç§èšåˆå‡½æ•°æ¯”å¦‚ sumã€averageã€top5 ç­‰å¯ç”¨äºç›‘æ§åˆ†æï¼Œè€Œä¸”å¯¹å¤–æä¾›äº† API ä¹Ÿå¯ä»¥æ¥å…¥å…¶ä»–å›¾å½¢åŒ–ç›‘æ§ç³»ç»Ÿå¦‚ Grafanaã€‚")]),t._v(" "),a("li",[t._v("TICK çš„æ ¸å¿ƒåœ¨äºå…¶æ—¶é—´åºåˆ—æ•°æ®åº“ InfluxDB çš„å­˜å‚¨åŠŸèƒ½å¼ºå¤§ï¼Œä¸”æ”¯æŒç±»ä¼¼ SQL è¯­è¨€çš„å¤æ‚æ•°æ®å¤„ç†æ“ä½œã€‚")]),t._v(" "),a("li",[t._v("Prometheus çš„ç‹¬ç‰¹ä¹‹å¤„åœ¨äºå®ƒé‡‡ç”¨äº†æ‹‰æ•°æ®çš„æ–¹å¼ï¼Œå¯¹ä¸šåŠ¡å½±å“è¾ƒå°ï¼ŒåŒæ—¶ä¹Ÿé‡‡ç”¨äº†æ—¶é—´åºåˆ—æ•°æ®åº“å­˜å‚¨ï¼Œè€Œä¸”æ”¯æŒç‹¬æœ‰çš„ PromQL æŸ¥è¯¢è¯­è¨€ï¼ŒåŠŸèƒ½å¼ºå¤§è€Œä¸”ç®€æ´ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"æœåŠ¡æ²»ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡æ²»ç†"}},[t._v("#")]),t._v(" æœåŠ¡æ²»ç†")]),t._v(" "),a("p",[t._v("å¾®æœåŠ¡æ²»ç†å¹³å°å°±æ˜¯"),a("strong",[t._v("ä¸æœåŠ¡æ‰“äº¤é“çš„ç»Ÿä¸€å…¥å£")]),t._v("ï¼Œæ— è®ºæ˜¯å¼€å‘äººå‘˜è¿˜æ˜¯è¿ç»´äººå‘˜ï¼Œéƒ½èƒ½é€šè¿‡è¿™ä¸ªå¹³å°å¯¹æœåŠ¡è¿›è¡Œå„ç§æ“ä½œï¼Œæ¯”å¦‚å¼€å‘äººå‘˜å¯ä»¥é€šè¿‡è¿™ä¸ªå¹³å°å¯¹æœåŠ¡è¿›è¡Œé™çº§æ“ä½œï¼Œè¿ç»´äººå‘˜å¯ä»¥é€šè¿‡è¿™ä¸ªå¹³å°å¯¹æœåŠ¡è¿›è¡Œä¸Šä¸‹çº¿æ“ä½œï¼Œè€Œä¸éœ€è¦å…³å¿ƒè¿™ä¸ªæ“ä½œèƒŒåçš„å…·ä½“å®ç°ã€‚")]),t._v(" "),a("p",[t._v("å¾®æœåŠ¡æ²»ç†å¹³å°å…³é”®ä¹‹å¤„å°±åœ¨äºå®ƒèƒ½å¤Ÿå°è£…å¯¹å¾®æœåŠ¡æ¶æ„å†…çš„å„ä¸ªåŸºç¡€è®¾æ–½ç»„ä»¶çš„è°ƒç”¨ï¼Œä»è€Œå¯¹å¤–æä¾›ç»Ÿä¸€çš„æœåŠ¡æ“ä½œ APIï¼Œè€Œä¸”è¿˜æä¾›äº†å¯è§†åŒ–çš„ç•Œé¢ï¼Œä»¥æ–¹ä¾¿å¼€å‘äººå‘˜å’Œè¿ç»´äººå‘˜æ“ä½œã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/dunwu/images/master/snap/20200716203729.png",alt:"img"}})]),t._v(" "),a("p",[t._v("æœåŠ¡æ²»ç†çš„å¸¸ç”¨æ‰‹æ®µæœ‰ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("èŠ‚ç‚¹ç®¡ç†\n"),a("ul",[a("li",[t._v("æ³¨å†Œä¸­å¿ƒä¸»åŠ¨æ‘˜é™¤æœºåˆ¶")]),t._v(" "),a("li",[t._v("æœåŠ¡æ¶ˆè´¹è€…æ‘˜é™¤æœºåˆ¶")])])]),t._v(" "),a("li",[t._v("è´Ÿè½½å‡è¡¡\n"),a("ul",[a("li",[t._v("è½®è¯¢")]),t._v(" "),a("li",[t._v("éšæœº")]),t._v(" "),a("li",[t._v("æœ€è¿‘æœ€å°‘è¿æ¥")]),t._v(" "),a("li",[t._v("ä¸€è‡´æ€§ Hash")])])]),t._v(" "),a("li",[t._v("æœåŠ¡è·¯ç”±\n"),a("ul",[a("li",[t._v("ä¸šåŠ¡å­˜åœ¨ç°åº¦å‘å¸ƒçš„éœ€æ±‚")]),t._v(" "),a("li",[t._v("å¤šæœºæˆ¿å°±è¿‘è®¿é—®çš„éœ€æ±‚")])])]),t._v(" "),a("li",[t._v("æœåŠ¡å®¹é”™\n"),a("ul",[a("li",[t._v("FailOverï¼šå¤±è´¥è‡ªåŠ¨åˆ‡æ¢")]),t._v(" "),a("li",[t._v("FailBackï¼šå¤±è´¥é€šçŸ¥")]),t._v(" "),a("li",[t._v("FailCacheï¼šå¤±è´¥ç¼“å­˜")]),t._v(" "),a("li",[t._v("FailFastï¼šå¿«é€Ÿå¤±è´¥")])])])]),t._v(" "),a("h2",{attrs:{id:"api-ç½‘å…³"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-ç½‘å…³"}},[t._v("#")]),t._v(" API ç½‘å…³")]),t._v(" "),a("p",[t._v("API ç½‘å…³æ˜¯ä¸€ä¸ªæœåŠ¡å™¨ï¼Œæ˜¯ç³»ç»Ÿçš„å”¯ä¸€å…¥å£ã€‚ä»é¢å‘å¯¹è±¡è®¾è®¡çš„è§’åº¦çœ‹ï¼Œå®ƒä¸å¤–è§‚æ¨¡å¼ç±»ä¼¼ã€‚API ç½‘å…³å°è£…äº†ç³»ç»Ÿå†…éƒ¨æ¶æ„ï¼Œä¸ºæ¯ä¸ªå®¢æˆ·ç«¯æä¾›ä¸€ä¸ªå®šåˆ¶çš„ APIã€‚å®ƒå¯èƒ½è¿˜å…·æœ‰å…¶å®ƒèŒè´£ï¼Œå¦‚èº«ä»½éªŒè¯ã€ç›‘æ§ã€è´Ÿè½½å‡è¡¡ã€ç¼“å­˜ã€è¯·æ±‚åˆ†ç‰‡ä¸ç®¡ç†ã€é™æ€å“åº”å¤„ç†ã€‚\nAPI ç½‘å…³æ–¹å¼çš„æ ¸å¿ƒè¦ç‚¹æ˜¯ï¼Œæ‰€æœ‰çš„å®¢æˆ·ç«¯å’Œæ¶ˆè´¹ç«¯éƒ½é€šè¿‡ç»Ÿä¸€çš„ç½‘å…³æ¥å…¥å¾®æœåŠ¡ï¼Œåœ¨ç½‘å…³å±‚å¤„ç†æ‰€æœ‰çš„éä¸šåŠ¡åŠŸèƒ½ã€‚é€šå¸¸ï¼Œç½‘å…³ä¹Ÿæ˜¯æä¾› REST/HTTP çš„è®¿é—® APIã€‚æœåŠ¡ç«¯é€šè¿‡ API-GW æ³¨å†Œå’Œç®¡ç†æœåŠ¡ã€‚")]),t._v(" "),a("h3",{attrs:{id:"zuul"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#zuul"}},[t._v("#")]),t._v(" Zuul")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/dunwu/images/master/snap/20200716201640.png",alt:"img"}})]),t._v(" "),a("p",[t._v("åœ¨ zuul ä¸­ï¼Œ æ•´ä¸ªè¯·æ±‚çš„è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼Œé¦–å…ˆå°†è¯·æ±‚ç»™ zuulservlet å¤„ç†ï¼Œzuulservlet ä¸­æœ‰ä¸€ä¸ª zuulRunner å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸­åˆå§‹åŒ–äº† RequestContextï¼šä½œä¸ºå­˜å‚¨æ•´ä¸ªè¯·æ±‚çš„ä¸€äº›æ•°æ®ï¼Œå¹¶è¢«æ‰€æœ‰çš„ zuulfilter å…±äº«ã€‚zuulRunner ä¸­è¿˜æœ‰ FilterProcessorï¼ŒFilterProcessor ä½œä¸ºæ‰§è¡Œæ‰€æœ‰çš„ zuulfilter çš„ç®¡ç†å™¨ã€‚FilterProcessor ä» filterloader ä¸­è·å– zuulfilterï¼Œè€Œ zuulfilter æ˜¯è¢« filterFileManager æ‰€åŠ è½½ï¼Œå¹¶æ”¯æŒ groovy çƒ­åŠ è½½ï¼Œé‡‡ç”¨äº†è½®è¯¢çš„æ–¹å¼çƒ­åŠ è½½ã€‚æœ‰äº†è¿™äº› filter ä¹‹åï¼Œzuulservelet é¦–å…ˆæ‰§è¡Œçš„ Pre ç±»å‹çš„è¿‡æ»¤å™¨ï¼Œå†æ‰§è¡Œ route ç±»å‹çš„è¿‡æ»¤å™¨ï¼Œæœ€åæ‰§è¡Œçš„æ˜¯ post ç±»å‹çš„è¿‡æ»¤å™¨ï¼Œå¦‚æœåœ¨æ‰§è¡Œè¿™äº›è¿‡æ»¤å™¨æœ‰é”™è¯¯çš„æ—¶å€™åˆ™ä¼šæ‰§è¡Œ error ç±»å‹çš„è¿‡æ»¤å™¨ã€‚æ‰§è¡Œå®Œè¿™äº›è¿‡æ»¤å™¨ï¼Œæœ€ç»ˆå°†è¯·æ±‚çš„ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚")]),t._v(" "),a("h2",{attrs:{id:"è´Ÿè½½å‡è¡¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è´Ÿè½½å‡è¡¡"}},[t._v("#")]),t._v(" è´Ÿè½½å‡è¡¡")]),t._v(" "),a("blockquote",[a("p",[t._v("å‚è€ƒï¼š"),a("a",{attrs:{href:"https://dunwu.github.io/blog/pages/98a1c1/",target:"_blank",rel:"noopener noreferrer"}},[t._v("è´Ÿè½½å‡è¡¡åŸºæœ¬åŸç†"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"æœåŠ¡è·¯ç”±"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡è·¯ç”±"}},[t._v("#")]),t._v(" æœåŠ¡è·¯ç”±")]),t._v(" "),a("p",[a("strong",[t._v("æœåŠ¡è·¯ç”±å°±æ˜¯æœåŠ¡æ¶ˆè´¹è€…åœ¨å‘èµ·æœåŠ¡è°ƒç”¨æ—¶ï¼Œå¿…é¡»æ ¹æ®ç‰¹å®šçš„è§„åˆ™æ¥é€‰æ‹©æœåŠ¡èŠ‚ç‚¹ï¼Œä»è€Œæ»¡è¶³æŸäº›ç‰¹å®šçš„éœ€æ±‚")]),t._v("ã€‚")]),t._v(" "),a("h3",{attrs:{id:"æœåŠ¡è·¯ç”±çš„åº”ç”¨åœºæ™¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡è·¯ç”±çš„åº”ç”¨åœºæ™¯"}},[t._v("#")]),t._v(" æœåŠ¡è·¯ç”±çš„åº”ç”¨åœºæ™¯")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("åˆ†ç»„è°ƒç”¨")]),t._v("ã€‚ä¸€èˆ¬æ¥è®²ï¼Œä¸ºäº†ä¿è¯æœåŠ¡çš„é«˜å¯ç”¨æ€§ï¼Œå®ç°å¼‚åœ°å¤šæ´»çš„éœ€æ±‚ï¼Œä¸€ä¸ªæœåŠ¡å¾€å¾€ä¸æ­¢éƒ¨ç½²åœ¨ä¸€ä¸ªæ•°æ®ä¸­å¿ƒï¼Œè€Œä¸”å‡ºäºèŠ‚çœæˆæœ¬ç­‰è€ƒè™‘ï¼Œæœ‰äº›ä¸šåŠ¡å¯èƒ½ä¸ä»…åœ¨ç§æœ‰æœºæˆ¿éƒ¨ç½²ï¼Œè¿˜ä¼šé‡‡ç”¨å…¬æœ‰äº‘éƒ¨ç½²ï¼Œç”šè‡³é‡‡ç”¨å¤šå®¶å…¬æœ‰äº‘éƒ¨ç½²ã€‚æœåŠ¡èŠ‚ç‚¹ä¹Ÿä¼šæŒ‰ç…§ä¸åŒçš„æ•°æ®ä¸­å¿ƒåˆ†æˆä¸åŒçš„åˆ†ç»„ï¼Œè¿™æ—¶å¯¹äºæœåŠ¡æ¶ˆè´¹è€…æ¥è¯´ï¼Œé€‰æ‹©å“ªä¸€ä¸ªåˆ†ç»„è°ƒç”¨ï¼Œå°±å¿…é¡»æœ‰ç›¸åº”çš„è·¯ç”±è§„åˆ™ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("ç°åº¦å‘å¸ƒ")]),t._v("ã€‚åœ¨æœåŠ¡ä¸Šçº¿å‘å¸ƒçš„è¿‡ç¨‹ä¸­ï¼Œä¸€èˆ¬éœ€è¦å…ˆåœ¨ä¸€å°éƒ¨åˆ†è§„æ¨¡çš„æœåŠ¡èŠ‚ç‚¹ä¸Šå…ˆå‘å¸ƒæœåŠ¡ï¼Œç„¶åéªŒè¯åŠŸèƒ½æ˜¯å¦æ­£å¸¸ã€‚å¦‚æœæ­£å¸¸çš„è¯å°±ç»§ç»­æ‰©å¤§å‘å¸ƒèŒƒå›´ï¼›å¦‚æœä¸æ­£å¸¸çš„è¯ï¼Œå°±éœ€è¦æ’æŸ¥é—®é¢˜ï¼Œè§£å†³é—®é¢˜åç»§ç»­å‘å¸ƒã€‚è¿™ä¸ªè¿‡ç¨‹å°±å«ä½œç°åº¦å‘å¸ƒï¼Œä¹Ÿå«é‡‘ä¸é›€éƒ¨ç½²ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("æµé‡åˆ‡æ¢")]),t._v("ã€‚åœ¨ä¸šåŠ¡çº¿ä¸Šè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°ä¸€äº›ä¸å¯æŠ—åŠ›å› ç´ å¯¼è‡´ä¸šåŠ¡æ•…éšœï¼Œæ¯”å¦‚æŸä¸ªæœºæˆ¿çš„å…‰ç¼†è¢«æŒ–æ–­ï¼Œæˆ–è€…å‘ç”Ÿç€ç«ç­‰äº‹æ•…å¯¼è‡´æ•´ä¸ªæœºæˆ¿çš„æœåŠ¡éƒ½ä¸å¯ç”¨ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦æŒ‰ç…§æŸä¸ªæŒ‡ä»¤ï¼Œèƒ½å¤ŸæŠŠåŸæ¥è°ƒç”¨è¿™ä¸ªæœºæˆ¿æœåŠ¡çš„æµé‡åˆ‡æ¢åˆ°å…¶ä»–æ­£å¸¸çš„æœºæˆ¿ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("è¯»å†™åˆ†ç¦»")]),t._v("ã€‚å¯¹äºå¤§å¤šæ•°äº’è”ç½‘ä¸šåŠ¡æ¥è¯´éƒ½æ˜¯è¯»å¤šå†™å°‘ï¼Œæ‰€ä»¥åœ¨è¿›è¡ŒæœåŠ¡éƒ¨ç½²çš„æ—¶å€™ï¼Œå¯ä»¥æŠŠè¯»å†™åˆ†å¼€éƒ¨ç½²ï¼Œæ‰€æœ‰å†™æ¥å£å¯ä»¥éƒ¨ç½²åœ¨ä¸€èµ·ï¼Œè€Œè¯»æ¥å£éƒ¨ç½²åœ¨å¦å¤–çš„èŠ‚ç‚¹ä¸Šã€‚")])]),t._v(" "),a("h3",{attrs:{id:"æœåŠ¡è·¯ç”±çš„è§„åˆ™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡è·¯ç”±çš„è§„åˆ™"}},[t._v("#")]),t._v(" æœåŠ¡è·¯ç”±çš„è§„åˆ™")]),t._v(" "),a("p",[t._v("æœåŠ¡è·¯ç”±ä¸»è¦æœ‰ä¸¤ç§è§„åˆ™ï¼šä¸€ç§æ˜¯æ¡ä»¶è·¯ç”±ï¼Œä¸€ç§æ˜¯è„šæœ¬è·¯ç”±ã€‚")]),t._v(" "),a("h4",{attrs:{id:"æ¡ä»¶è·¯ç”±"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¡ä»¶è·¯ç”±"}},[t._v("#")]),t._v(" æ¡ä»¶è·¯ç”±")]),t._v(" "),a("p",[t._v("æ¡ä»¶è·¯ç”±æ˜¯åŸºäºæ¡ä»¶è¡¨è¾¾å¼çš„è·¯ç”±è§„åˆ™ã€‚")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('condition://0.0.0.0/dubbo.test.interfaces.TestService?category=routers&dynamic=true&priority=2&enabled=true&rule=" + URL.encode(" host = 10.20.153.10=> host = 10.20.153.11")\n')])])]),a("p",[t._v("è¿™é‡Œé¢ "),a("code",[t._v("condition://")]),t._v(" ä»£è¡¨äº†è¿™æ˜¯ä¸€æ®µç”¨æ¡ä»¶è¡¨è¾¾å¼ç¼–å†™çš„è·¯ç”±è§„åˆ™ï¼Œå…·ä½“çš„è§„åˆ™æ˜¯")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("host = 10.20.153.10 => host = 10.20.153.11\n")])])]),a("p",[t._v("åˆ†éš”ç¬¦â€œ=>â€å‰é¢æ˜¯æœåŠ¡æ¶ˆè´¹è€…çš„åŒ¹é…æ¡ä»¶ï¼Œåé¢æ˜¯æœåŠ¡æä¾›è€…çš„è¿‡æ»¤æ¡ä»¶ã€‚å½“æœåŠ¡æ¶ˆè´¹è€…èŠ‚ç‚¹æ»¡è¶³åŒ¹é…æ¡ä»¶æ—¶ï¼Œå°±å¯¹è¯¥æœåŠ¡æ¶ˆè´¹è€…æ‰§è¡Œåé¢çš„è¿‡æ»¤è§„åˆ™ã€‚é‚£ä¹ˆä¸Šé¢è¿™æ®µè¡¨è¾¾å¼è¡¨è¾¾çš„æ„ä¹‰å°±æ˜¯ IP ä¸ºâ€œ10.20.153.10â€çš„æœåŠ¡æ¶ˆè´¹è€…éƒ½è°ƒç”¨ IP ä¸ºâ€œ10.20.153.11â€çš„æœåŠ¡æä¾›è€…èŠ‚ç‚¹ã€‚")]),t._v(" "),a("p",[t._v("å¦‚æœæœåŠ¡æ¶ˆè´¹è€…çš„åŒ¹é…æ¡ä»¶ä¸ºç©ºï¼Œå°±è¡¨ç¤ºå¯¹æ‰€æœ‰çš„æœåŠ¡æ¶ˆè´¹è€…åº”ç”¨ï¼Œå°±åƒä¸‹é¢çš„è¡¨è¾¾å¼ä¸€æ ·ã€‚")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("=> host ï¼= 10.20.153.11\n")])])]),a("p",[t._v("å¦‚æœæœåŠ¡æä¾›è€…çš„è¿‡æ»¤æ¡ä»¶ä¸ºç©ºï¼Œå°±è¡¨ç¤ºç¦æ­¢æœåŠ¡æ¶ˆè´¹è€…è®¿é—®ï¼Œå°±åƒä¸‹é¢çš„è¡¨è¾¾å¼ä¸€æ ·ã€‚")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("host = 10.20.153.10=>\n")])])]),a("p",[t._v("ä¸‹é¢æˆ‘ä¸¾ä¸€äº› Dubbo æ¡†æ¶ä¸­çš„æ¡ä»¶è·¯ç”±ï¼Œæ¥ç»™ä½ è®²è§£ä¸‹æ¡ä»¶è·¯ç”±çš„å…·ä½“åº”ç”¨åœºæ™¯ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("æ’é™¤æŸä¸ªæœåŠ¡èŠ‚ç‚¹")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("=> host != 172.22.3.91\n")])])]),a("p",[t._v("ä¸€æ—¦è¿™æ¡è·¯ç”±è§„åˆ™è¢«åº”ç”¨åˆ°çº¿ä¸Šï¼Œæ‰€æœ‰çš„æœåŠ¡æ¶ˆè´¹è€…éƒ½ä¸ä¼šè®¿é—® IP ä¸º 172.22.3.91 çš„æœåŠ¡èŠ‚ç‚¹ï¼Œè¿™ç§è·¯ç”±è§„åˆ™ä¸€èˆ¬åº”ç”¨åœ¨çº¿ä¸Šæµé‡æ’é™¤é¢„å‘å¸ƒæœºä»¥åŠæ‘˜é™¤æŸä¸ªæ•…éšœèŠ‚ç‚¹çš„åœºæ™¯ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("ç™½åå•å’Œé»‘åå•åŠŸèƒ½")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("host != 10.20.153.10,10.20.153.11 =>\n")])])]),a("p",[t._v("è¿™æ¡è·¯ç”±è§„åˆ™æ„æ€æ˜¯é™¤äº† IP ä¸º 10.20.153.10 å’Œ 10.20.153.11 çš„æœåŠ¡æ¶ˆè´¹è€…å¯ä»¥å‘èµ·æœåŠ¡è°ƒç”¨ä»¥å¤–ï¼Œå…¶ä»–æœåŠ¡æ¶ˆè´¹è€…éƒ½ä¸å¯ä»¥ï¼Œä¸»è¦ç”¨äºç™½åå•è®¿é—®é€»è¾‘ï¼Œæ¯”å¦‚æŸä¸ªåå°æœåŠ¡åªå…è®¸ç‰¹å®šçš„å‡ å°æœºå™¨æ‰å¯ä»¥è®¿é—®ï¼Œè¿™æ ·çš„è¯å¯ä»¥æœºå™¨æ§åˆ¶è®¿é—®æƒé™ã€‚")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("host = 10.20.153.10,10.20.153.11 =>\n")])])]),a("p",[t._v("åŒç†ï¼Œè¿™æ¡è·¯ç”±è§„åˆ™æ„æ€æ˜¯é™¤äº† IP ä¸º 10.20.153.10 å’Œ 10.20.153.11 çš„æœåŠ¡æ¶ˆè´¹è€…ä¸èƒ½å‘èµ·æœåŠ¡è°ƒç”¨ä»¥å¤–ï¼Œå…¶ä»–æœåŠ¡æ¶ˆè´¹è€…éƒ½å¯ä»¥ï¼Œä¹Ÿå°±æ˜¯å®ç°äº†é»‘åå•åŠŸèƒ½ï¼Œæ¯”å¦‚çº¿ä¸Šç»å¸¸ä¼šé‡åˆ°æŸäº›è°ƒç”¨æ–¹ä¸ç®¡æ˜¯å‡ºäºæœ‰æ„è¿˜æ˜¯æ— æ„çš„ä¸åˆç†è°ƒç”¨ï¼Œå½±å“äº†æœåŠ¡çš„ç¨³å®šæ€§ï¼Œè¿™æ—¶å€™å¯ä»¥é€šè¿‡é»‘åå•åŠŸèƒ½æš‚æ—¶äºˆä»¥å°æ€ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("æœºæˆ¿éš”ç¦»")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("host = 172.22.3.* => host = 172.22.3.*\n")])])]),a("p",[t._v("è¿™æ¡è·¯ç”±è§„åˆ™æ„æ€æ˜¯ IP ç½‘æ®µä¸º 172.22.3.* çš„æœåŠ¡æ¶ˆè´¹è€…ï¼Œæ‰å¯ä»¥è®¿é—®åŒç½‘æ®µçš„æœåŠ¡èŠ‚ç‚¹ï¼Œè¿™ç§è§„åˆ™ä¸€èˆ¬åº”ç”¨äºæœåŠ¡éƒ¨ç½²åœ¨å¤šä¸ª IDCï¼Œç†è®ºä¸ŠåŒä¸€ä¸ª IDC å†…çš„è°ƒç”¨æ€§èƒ½è¦æ¯”è·¨ IDC è°ƒç”¨æ€§èƒ½è¦å¥½ï¼Œåº”ç”¨è¿™ä¸ªè§„åˆ™æ˜¯ä¸ºäº†å®ç°åŒ IDC å°±è¿‘è®¿é—®ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("è¯»å†™åˆ†ç¦»")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("method = find*,list*,get*,is* => host =172.22.3.94,172.22.3.95\nmethod != find*,list*,get*,is* => host = 172.22.3.97,172.22.3.98\n")])])]),a("p",[t._v("è¿™æ¡è·¯ç”±è§„åˆ™æ„æ€æ˜¯ find*ã€get*ã€is* ç­‰è¯»æ–¹æ³•è°ƒç”¨ IP ä¸º 172.22.3.94 å’Œ 172.22.3.95 çš„èŠ‚ç‚¹ï¼Œé™¤æ­¤ä»¥å¤–çš„å†™æ–¹æ³•è°ƒç”¨ IP ä¸º 172.22.3.97 å’Œ 172.22.3.98 çš„èŠ‚ç‚¹ã€‚å¯¹äºå¤§éƒ¨åˆ†äº’è”ç½‘ä¸šåŠ¡æ¥è¯´ï¼Œå¾€å¾€è¯»è¯·æ±‚è¦è¿œè¿œå¤§äºå†™è¯·æ±‚ï¼Œè€Œå†™è¯·æ±‚çš„é‡è¦æ€§å¾€å¾€è¦è¿œè¿œé«˜äºè¯»è¯·æ±‚ï¼Œæ‰€ä»¥éœ€è¦æŠŠè¯»å†™è¯·æ±‚è¿›è¡Œåˆ†ç¦»ï¼Œä»¥é¿å…è¯»è¯·æ±‚å¼‚å¸¸å½±å“åˆ°å†™è¯·æ±‚ï¼Œè¿™æ—¶å€™å°±å¯ä»¥åº”ç”¨è¿™ç§è§„åˆ™ã€‚")]),t._v(" "),a("h4",{attrs:{id:"è„šæœ¬è·¯ç”±"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è„šæœ¬è·¯ç”±"}},[t._v("#")]),t._v(" è„šæœ¬è·¯ç”±")]),t._v(" "),a("p",[t._v("è„šæœ¬è·¯ç”±æ˜¯åŸºäºè„šæœ¬è¯­è¨€çš„è·¯ç”±è§„åˆ™ï¼Œå¸¸ç”¨çš„è„šæœ¬è¯­è¨€æ¯”å¦‚ JavaScriptã€Groovyã€JRuby ç­‰ã€‚")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('"script://0.0.0.0/com.foo.BarService?category=routers&dynamic=false&rule=" + URL.encode("ï¼ˆfunction route(invokers) { ... } (invokers)ï¼‰")\n')])])]),a("p",[t._v("è¿™é‡Œé¢â€œscript://â€å°±ä»£è¡¨äº†è¿™æ˜¯ä¸€æ®µè„šæœ¬è¯­è¨€ç¼–å†™çš„è·¯ç”±è§„åˆ™ï¼Œå…·ä½“è§„åˆ™å®šä¹‰åœ¨è„šæœ¬è¯­è¨€çš„ route æ–¹æ³•å®ç°é‡Œï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ®µç”¨ JavaScript ç¼–å†™çš„ route() æ–¹æ³•è¡¨è¾¾çš„æ„æ€æ˜¯ï¼Œåªæœ‰ IP ä¸º 10.20.153.10 çš„æœåŠ¡æ¶ˆè´¹è€…å¯ä»¥å‘èµ·æœåŠ¡è°ƒç”¨ã€‚")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('function route(invokers){\n  var result = new java.util.ArrayList(invokers.size());\n  for(i =0; i < invokers.size(); i ++){\n    if("10.20.153.10".equals(invokers.get(i).getUrl().getHost())){\n       result.add(invokers.get(i));\n    }\n  }\n  return result;\n } (invokers)ï¼‰;\n')])])]),a("h3",{attrs:{id:"æœåŠ¡è·¯ç”±çš„è·å–æ–¹å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡è·¯ç”±çš„è·å–æ–¹å¼"}},[t._v("#")]),t._v(" æœåŠ¡è·¯ç”±çš„è·å–æ–¹å¼")]),t._v(" "),a("p",[t._v("æœåŠ¡è·¯ç”±çš„è·å–æ–¹å¼ä¸»è¦æœ‰ä¸‰ç§ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("æœ¬åœ°é…ç½®")])]),t._v(" "),a("p",[t._v("é¡¾åæ€ä¹‰å°±æ˜¯è·¯ç”±è§„åˆ™å­˜å‚¨åœ¨æœåŠ¡æ¶ˆè´¹è€…æœ¬åœ°ä¸Šã€‚æœåŠ¡æ¶ˆè´¹è€…å‘èµ·è°ƒç”¨æ—¶ï¼Œä»æœ¬åœ°å›ºå®šä½ç½®è¯»å–è·¯ç”±è§„åˆ™ï¼Œç„¶åæŒ‰ç…§è·¯ç”±è§„åˆ™é€‰å–ä¸€ä¸ªæœåŠ¡èŠ‚ç‚¹å‘èµ·è°ƒç”¨ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("é…ç½®ä¸­å¿ƒç®¡ç†")])]),t._v(" "),a("p",[t._v("è¿™ç§æ–¹å¼ä¸‹ï¼Œæ‰€æœ‰çš„æœåŠ¡æ¶ˆè´¹è€…éƒ½ä»é…ç½®ä¸­å¿ƒè·å–è·¯ç”±è§„åˆ™ï¼Œç”±é…ç½®ä¸­å¿ƒæ¥ç»Ÿä¸€ç®¡ç†ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("åŠ¨æ€ä¸‹å‘")])]),t._v(" "),a("p",[t._v("è¿™ç§æ–¹å¼ä¸‹ï¼Œä¸€èˆ¬æ˜¯è¿ç»´äººå‘˜æˆ–è€…å¼€å‘äººå‘˜ï¼Œé€šè¿‡æœåŠ¡æ²»ç†å¹³å°ä¿®æ”¹è·¯ç”±è§„åˆ™ï¼ŒæœåŠ¡æ²»ç†å¹³å°è°ƒç”¨é…ç½®ä¸­å¿ƒæ¥å£ï¼ŒæŠŠä¿®æ”¹åçš„è·¯ç”±è§„åˆ™æŒä¹…åŒ–åˆ°é…ç½®ä¸­å¿ƒã€‚å› ä¸ºæœåŠ¡æ¶ˆè´¹è€…è®¢é˜…äº†è·¯ç”±è§„åˆ™çš„å˜æ›´ï¼Œäºæ˜¯å°±ä¼šä»é…ç½®ä¸­å¿ƒè·å–æœ€æ–°çš„è·¯ç”±è§„åˆ™ï¼ŒæŒ‰ç…§æœ€æ–°çš„è·¯ç”±è§„åˆ™æ¥æ‰§è¡Œã€‚")]),t._v(" "),a("h3",{attrs:{id:"å†…éƒ¨æœåŠ¡è°ƒç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å†…éƒ¨æœåŠ¡è°ƒç”¨"}},[t._v("#")]),t._v(" å†…éƒ¨æœåŠ¡è°ƒç”¨")]),t._v(" "),a("p",[t._v("åŸºç¡€æœåŠ¡ä¹‹é—´çš„è°ƒç”¨ï¼šç»“åˆæœåŠ¡æ³¨å†Œä¸­å¿ƒä»¥åŠä¸“å±çš„å…·æœ‰è´Ÿè½½å‡è¡¡åŠŸèƒ½çš„å®¢æˆ·ç«¯ï¼Œå¦‚ Eureka+ï¼ˆrestTemplate+Ribbonï¼‰æˆ–è€… Eureka+Feign\nèšåˆæœåŠ¡è°ƒç”¨ï¼šç»“åˆæœåŠ¡æ³¨å†Œä¸­å¿ƒä»¥åŠä¸“å±çš„å…·æœ‰è´Ÿè½½å‡è¡¡åŠŸèƒ½çš„å®¢æˆ·ç«¯ï¼Œå¦‚ Eureka+ï¼ˆrestTemplate+Ribbonï¼‰æˆ–è€… Eureka+Feign")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/dunwu/images/master/snap/20200716202409.png",alt:"img"}})]),t._v(" "),a("h3",{attrs:{id:"å¤–éƒ¨æœåŠ¡è°ƒç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¤–éƒ¨æœåŠ¡è°ƒç”¨"}},[t._v("#")]),t._v(" å¤–éƒ¨æœåŠ¡è°ƒç”¨")]),t._v(" "),a("p",[t._v("åŸºäº Netflix çš„ zuulï¼Œåšäº†ç®€å•äº†è§£ï¼ŒSpringCloud ä¸ zuul é›†æˆçš„æ–¹å¼ã€‚è¿™é‡Œå…ˆå¯¹æ ¸å¿ƒæµç¨‹åšä¸ªç®€å•äº†è§£ï¼Œåç»­ä¼šæœ‰æ·±å…¥çš„åº”ç”¨ã€åˆ†æã€‚")]),t._v(" "),a("p",[t._v("Spring Cloud å¾ˆå¥½çš„é›†æˆäº† zuulï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡æ³¨è§£çš„å½¢å¼æ¥è¿›è¡Œè¯·æ±‚çš„åå‘è·¯ç”±ä»¥åŠ API ç½‘å…³åŠŸèƒ½\nSpring Cloud é›†æˆ zuulï¼Œå¯¹ä¸ url æ˜ å°„çš„å¤„ç†æ–¹å¼ä¸ SpringMVC å¯¹ url çš„è¯·æ±‚æ–¹å¼ç±»ä¼¼ï¼Œéƒ½æ˜¯é€šè¿‡ RequestMapping æ¥è¿›è¡Œè¯·æ±‚ç»‘å®šçš„ã€‚æ ¸å¿ƒç±»ï¼šZuulHandlerMapping\nzuul çš„æ ¸å¿ƒæ˜¯ ZuulServletï¼Œä¸€ä¸ªè¯·æ±‚æ ¸å¿ƒæµç¨‹ï¼šHttpServletRequest â€“>ZuulHandlerMapping â€“>ZuulController â€“> ZuulServlet â€“> ZuulFilter â€“> HttpServletResponse")]),t._v(" "),a("h2",{attrs:{id:"é…ç½®ä¸­å¿ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é…ç½®ä¸­å¿ƒ"}},[t._v("#")]),t._v(" é…ç½®ä¸­å¿ƒ")]),t._v(" "),a("p",[t._v("é…ç½®ä¸­å¿ƒçš„æ€è·¯å°±æ˜¯æŠŠæœåŠ¡çš„å„ç§é…ç½®ï¼Œå¦‚ä»£ç é‡Œé…ç½®çš„å„ç§å‚æ•°ã€æœåŠ¡é™çº§çš„å¼€å…³ç”šè‡³ä¾èµ–çš„èµ„æºç­‰éƒ½åœ¨ä¸€ä¸ªåœ°æ–¹ç»Ÿä¸€è¿›è¡Œç®¡ç†ã€‚æœåŠ¡å¯åŠ¨æ—¶ï¼Œå¯ä»¥è‡ªåŠ¨ä»é…ç½®ä¸­å¿ƒä¸­æ‹‰å–æ‰€éœ€çš„é…ç½®ï¼Œå¹¶ä¸”å¦‚æœæœ‰é…ç½®å˜æ›´çš„æƒ…å†µï¼ŒåŒæ ·å¯ä»¥è‡ªåŠ¨ä»é…ç½®ä¸­å¿ƒæ‹‰å–æœ€æ–°çš„é…ç½®ä¿¡æ¯ï¼ŒæœåŠ¡æ— é¡»é‡æ–°å‘å¸ƒã€‚")]),t._v(" "),a("p",[t._v("é…ç½®ä¸­å¿ƒä¸€èˆ¬åŒ…å«ä¸‹é¢å‡ ä¸ªåŠŸèƒ½ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("é…ç½®æ³¨å†ŒåŠŸèƒ½")]),t._v(" "),a("li",[t._v("é…ç½®åæ³¨å†ŒåŠŸèƒ½")]),t._v(" "),a("li",[t._v("é…ç½®æŸ¥çœ‹åŠŸèƒ½")]),t._v(" "),a("li",[t._v("é…ç½®å˜æ›´è®¢é˜…åŠŸèƒ½")])]),t._v(" "),a("h3",{attrs:{id:"apollo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#apollo"}},[t._v("#")]),t._v(" Apollo")]),t._v(" "),a("p",[t._v("æºç¨‹å¼€æºçš„åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒï¼Œæ”¯æŒ Java å’Œ.Net è¯­è¨€ï¼Œå®¢æˆ·ç«¯å’Œé…ç½®ä¸­å¿ƒé€šè¿‡ HTTP é•¿è¿æ¥å®ç°å®æ—¶æ¨é€ï¼Œå¹¶ä¸”æœ‰ç»Ÿä¸€çš„ç®¡ç†ç•Œé¢æ¥å®ç°é…ç½®ç®¡ç†ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://mmbiz.qpic.cn/mmbiz_png/ELH62gpbFmGdnIjxDT7AOQyZgl2KQnz68zZFSDpHfa80ppne7gbP4ROOLJSuZT7E2uEdf1OTR9zthLNFkIZSLQ/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1",alt:"img"}})]),t._v(" "),a("h3",{attrs:{id:"spring-cloud-git"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#spring-cloud-git"}},[t._v("#")]),t._v(" Spring Cloud Git")]),t._v(" "),a("p",[t._v("Spring Cloud ä¸­ä½¿ç”¨çš„é…ç½®ä¸­å¿ƒç»„ä»¶ï¼Œåªæ”¯æŒ Java è¯­è¨€ï¼Œé…ç½®å­˜å‚¨åœ¨ git ä¸­ï¼Œå˜æ›´é…ç½®ä¹Ÿéœ€è¦é€šè¿‡ git æ“ä½œï¼Œå¦‚æœé…ç½®ä¸­å¿ƒæœ‰é…ç½®å˜æ›´ï¼Œéœ€è¦æ‰‹åŠ¨åˆ·æ–°ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/dunwu/images/master/snap/20200716202911.png",alt:"img"}})]),t._v(" "),a("h2",{attrs:{id:"é“¾è·¯è¿½è¸ª"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é“¾è·¯è¿½è¸ª"}},[t._v("#")]),t._v(" é“¾è·¯è¿½è¸ª")]),t._v(" "),a("h3",{attrs:{id:"é“¾è·¯è¿½è¸ªçš„ä½œç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é“¾è·¯è¿½è¸ªçš„ä½œç”¨"}},[t._v("#")]),t._v(" é“¾è·¯è¿½è¸ªçš„ä½œç”¨")]),t._v(" "),a("ul",[a("li",[t._v("ä¼˜åŒ–ç³»ç»Ÿç“¶é¢ˆ")]),t._v(" "),a("li",[t._v("ä¼˜åŒ–é“¾è·¯è°ƒç”¨")]),t._v(" "),a("li",[t._v("ç”Ÿæˆç½‘ç»œæ‹“æ‰‘")]),t._v(" "),a("li",[t._v("é€æ˜ä¼ è¾“æ•°æ®")])]),t._v(" "),a("h3",{attrs:{id:"é“¾è·¯è¿½è¸ªçš„åŸç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é“¾è·¯è¿½è¸ªçš„åŸç†"}},[t._v("#")]),t._v(" é“¾è·¯è¿½è¸ªçš„åŸç†")]),t._v(" "),a("p",[t._v("ç†è§£é“¾è·¯è¿½è¸ªå¿…é¡»å…ˆäº†è§£ä»¥ä¸‹æ¦‚å¿µï¼š")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("traceId")]),t._v("ï¼Œç”¨äºæ ‡è¯†æŸä¸€æ¬¡å…·ä½“çš„è¯·æ±‚ IDã€‚å½“ç”¨æˆ·çš„è¯·æ±‚è¿›å…¥ç³»ç»Ÿåï¼Œä¼šåœ¨ RPC è°ƒç”¨ç½‘ç»œçš„ç¬¬ä¸€å±‚ç”Ÿæˆä¸€ä¸ªå…¨å±€å”¯ä¸€çš„ traceIdï¼Œå¹¶ä¸”ä¼šéšç€æ¯ä¸€å±‚çš„ RPC è°ƒç”¨ï¼Œä¸æ–­å¾€åä¼ é€’ï¼Œè¿™æ ·çš„è¯é€šè¿‡ traceId å°±å¯ä»¥æŠŠä¸€æ¬¡ç”¨æˆ·è¯·æ±‚åœ¨ç³»ç»Ÿä¸­è°ƒç”¨çš„è·¯å¾„ä¸²è”èµ·æ¥ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("spanId")]),t._v("ï¼Œç”¨äºæ ‡è¯†ä¸€æ¬¡ RPC è°ƒç”¨åœ¨åˆ†å¸ƒå¼è¯·æ±‚ä¸­çš„ä½ç½®ã€‚å½“ç”¨æˆ·çš„è¯·æ±‚è¿›å…¥ç³»ç»Ÿåï¼Œå¤„åœ¨ RPC è°ƒç”¨ç½‘ç»œçš„ç¬¬ä¸€å±‚ A æ—¶ spanId åˆå§‹å€¼æ˜¯ 0ï¼Œè¿›å…¥ä¸‹ä¸€å±‚ RPC è°ƒç”¨ B çš„æ—¶å€™ spanId æ˜¯ 0.1ï¼Œç»§ç»­è¿›å…¥ä¸‹ä¸€å±‚ RPC è°ƒç”¨ C æ—¶ spanId æ˜¯ 0.1.1ï¼Œè€Œä¸ B å¤„åœ¨åŒä¸€å±‚çš„ RPC è°ƒç”¨ E çš„ spanId æ˜¯ 0.2ï¼Œè¿™æ ·çš„è¯é€šè¿‡ spanId å°±å¯ä»¥å®šä½æŸä¸€æ¬¡ RPC è¯·æ±‚åœ¨ç³»ç»Ÿè°ƒç”¨ä¸­æ‰€å¤„çš„ä½ç½®ï¼Œä»¥åŠå®ƒçš„ä¸Šä¸‹æ¸¸ä¾èµ–åˆ†åˆ«æ˜¯è°ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("annotation")]),t._v("ï¼Œç”¨äºä¸šåŠ¡è‡ªå®šä¹‰åŸ‹ç‚¹æ•°æ®ï¼Œå¯ä»¥æ˜¯ä¸šåŠ¡æ„Ÿå…´è¶£çš„æƒ³ä¸Šä¼ åˆ°åç«¯çš„æ•°æ®ï¼Œæ¯”å¦‚ä¸€æ¬¡è¯·æ±‚çš„ç”¨æˆ· UIDã€‚")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/dunwu/images/master/snap/20200716204658.png",alt:"img"}})]),t._v(" "),a("h3",{attrs:{id:"é“¾è·¯è¿½è¸ªçš„å®ç°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é“¾è·¯è¿½è¸ªçš„å®ç°"}},[t._v("#")]),t._v(" é“¾è·¯è¿½è¸ªçš„å®ç°")]),t._v(" "),a("p",[t._v("ä¸€ä¸ªæœåŠ¡è¿½è¸ªç³»ç»Ÿä¸€èˆ¬å¯ä»¥åˆ†ä¸ºä¸‰å±‚ï¼š")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("æ•°æ®é‡‡é›†")]),t._v("å±‚ï¼Œè´Ÿè´£æ•°æ®åŸ‹ç‚¹å¹¶ä¸ŠæŠ¥ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("æ•°æ®å¤„ç†")]),t._v("å±‚ï¼Œè´Ÿè´£æ•°æ®çš„å­˜å‚¨ä¸è®¡ç®—ã€‚")]),t._v(" "),a("li",[a("strong",[t._v("æ•°æ®å±•ç¤º")]),t._v("å±‚ï¼Œè´Ÿè´£æ•°æ®çš„å›¾å½¢åŒ–å±•ç¤ºã€‚")])]),t._v(" "),a("h4",{attrs:{id:"æ•°æ®é‡‡é›†å±‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®é‡‡é›†å±‚"}},[t._v("#")]),t._v(" æ•°æ®é‡‡é›†å±‚")]),t._v(" "),a("p",[t._v("ä¸€æ¬¡ RPC è¯·æ±‚å¯ä»¥åˆ†ä¸ºå››ä¸ªé˜¶æ®µã€‚")]),t._v(" "),a("ul",[a("li",[t._v("CSï¼ˆClient Sendï¼‰é˜¶æ®µ : å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚ï¼Œå¹¶ç”Ÿæˆè°ƒç”¨çš„ä¸Šä¸‹æ–‡ã€‚")]),t._v(" "),a("li",[t._v("SRï¼ˆServer Recieveï¼‰é˜¶æ®µ : æœåŠ¡ç«¯æ¥æ”¶è¯·æ±‚ï¼Œå¹¶ç”Ÿæˆä¸Šä¸‹æ–‡ã€‚")]),t._v(" "),a("li",[t._v("SSï¼ˆServer Sendï¼‰é˜¶æ®µ : æœåŠ¡ç«¯è¿”å›è¯·æ±‚ï¼Œè¿™ä¸ªé˜¶æ®µä¼šå°†æœåŠ¡ç«¯ä¸Šä¸‹æ–‡æ•°æ®ä¸ŠæŠ¥ï¼Œä¸‹é¢è¿™å¼ å›¾å¯ä»¥è¯´æ˜ä¸ŠæŠ¥çš„æ•°æ®æœ‰ï¼štraceId=123456ï¼ŒspanId=0.1ï¼ŒappKey=Bï¼Œmethod=B.methodï¼Œstart=103ï¼Œduration=38ã€‚")]),t._v(" "),a("li",[t._v("CRï¼ˆClient Recieveï¼‰é˜¶æ®µ : å®¢æˆ·ç«¯æ¥æ”¶è¿”å›ç»“æœï¼Œè¿™ä¸ªé˜¶æ®µä¼šå°†å®¢æˆ·ç«¯ä¸Šä¸‹æ–‡æ•°æ®ä¸ŠæŠ¥ï¼Œä¸ŠæŠ¥çš„æ•°æ®æœ‰ï¼štraceid=123456ï¼ŒspanId=0.1ï¼ŒappKey=Aï¼Œmethod=B.methodï¼Œstart=103ï¼Œduration=38ã€‚")])]),t._v(" "),a("h4",{attrs:{id:"æ•°æ®å¤„ç†å±‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®å¤„ç†å±‚"}},[t._v("#")]),t._v(" æ•°æ®å¤„ç†å±‚")]),t._v(" "),a("p",[t._v("æ•°æ®å¤„ç†å±‚çš„ä½œç”¨å°±æ˜¯æŠŠæ•°æ®é‡‡é›†å±‚ä¸ŠæŠ¥çš„æ•°æ®æŒ‰éœ€è®¡ç®—ï¼Œç„¶åè½åœ°å­˜å‚¨ä¾›æŸ¥è¯¢ä½¿ç”¨ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("å®æ—¶æ•°æ®å¤„ç†")])]),t._v(" "),a("p",[t._v("é’ˆå¯¹å®æ—¶æ•°æ®å¤„ç†ï¼Œä¸€èˆ¬é‡‡ç”¨ Storm æˆ–è€… Spark Streaming æ¥å¯¹é“¾è·¯æ•°æ®è¿›è¡Œå®æ—¶èšåˆåŠ å·¥ï¼Œå­˜å‚¨ä¸€èˆ¬ä½¿ç”¨ OLTP æ•°æ®ä»“åº“ï¼Œæ¯”å¦‚ HBaseï¼Œä½¿ç”¨ traceId ä½œä¸º RowKeyï¼Œèƒ½å¤©ç„¶åœ°æŠŠä¸€æ•´æ¡è°ƒç”¨é“¾èšåˆåœ¨ä¸€èµ·ï¼Œæé«˜æŸ¥è¯¢æ•ˆç‡ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("ç¦»çº¿æ•°æ®å¤„ç†")])]),t._v(" "),a("p",[t._v("é’ˆå¯¹ç¦»çº¿æ•°æ®å¤„ç†ï¼Œä¸€èˆ¬é€šè¿‡è¿è¡Œ MapReduce æˆ–è€… Spark æ‰¹å¤„ç†ç¨‹åºæ¥å¯¹é“¾è·¯æ•°æ®è¿›è¡Œç¦»çº¿è®¡ç®—ï¼Œå­˜å‚¨ä¸€èˆ¬ä½¿ç”¨ Hiveã€‚")]),t._v(" "),a("h4",{attrs:{id:"æ•°æ®å±•ç¤ºå±‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®å±•ç¤ºå±‚"}},[t._v("#")]),t._v(" æ•°æ®å±•ç¤ºå±‚")]),t._v(" "),a("p",[t._v("æ•°æ®å±•ç¤ºå±‚çš„ä½œç”¨å°±æ˜¯å°†å¤„ç†åçš„é“¾è·¯ä¿¡æ¯ä»¥å›¾å½¢åŒ–çš„æ–¹å¼å±•ç¤ºç»™ç”¨æˆ·ã€‚")]),t._v(" "),a("p",[t._v("å®é™…é¡¹ç›®ä¸­ä¸»è¦ç”¨åˆ°ä¸¤ç§å›¾å½¢å±•ç¤ºï¼Œä¸€ç§æ˜¯è°ƒç”¨é“¾è·¯å›¾ï¼Œä¸€ç§æ˜¯è°ƒç”¨æ‹“æ‰‘å›¾ã€‚")]),t._v(" "),a("h3",{attrs:{id:"é“¾è·¯è¿½è¸ªæ–¹æ¡ˆå¯¹æ¯”"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é“¾è·¯è¿½è¸ªæ–¹æ¡ˆå¯¹æ¯”"}},[t._v("#")]),t._v(" é“¾è·¯è¿½è¸ªæ–¹æ¡ˆå¯¹æ¯”")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/dunwu/images/master/snap/20200716205052.png",alt:"img"}})]),t._v(" "),a("h2",{attrs:{id:"é™æµç†”æ–­"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é™æµç†”æ–­"}},[t._v("#")]),t._v(" é™æµç†”æ–­")]),t._v(" "),a("p",[t._v("ä¸€èˆ¬è€Œè¨€ï¼Œé›†ç¾¤æ•…éšœçš„äº§ç”ŸåŸå› ä¸å¤–ä¹æœ‰ä¸¤ç§ï¼š")]),t._v(" "),a("p",[t._v("ä¸€ç§æ˜¯ä»£ç  bug æ‰€å¯¼è‡´ï¼Œæ¯”å¦‚è¯´æŸä¸€æ®µ Java ä»£ç ä¸æ–­åœ°åˆ†é…å¤§å¯¹è±¡ï¼Œä½†æ²¡æœ‰åŠæ—¶å›æ”¶å¯¼è‡´ JVM OOM é€€å‡ºï¼›")]),t._v(" "),a("p",[t._v("å¦ä¸€ç§æ˜¯çªå‘çš„æµé‡å†²å‡»ï¼Œè¶…å‡ºäº†ç³»ç»Ÿçš„æœ€å¤§æ‰¿è½½èƒ½åŠ›ï¼Œæ¯”å¦‚â€œåŒ 11â€è¿™ç§è´­ç‰©æ´»åŠ¨ï¼Œç”µå•†ç³»ç»Ÿä¼šåœ¨é›¶ç‚¹ä¸€ç¬é—´æ¶Œå…¥å¤§é‡æµé‡ï¼Œè¶…å‡ºç³»ç»Ÿçš„æœ€å¤§æ‰¿è½½èƒ½åŠ›ï¼Œä¸€ä¸‹å­å°±æŠŠæ•´ä¸ªç³»ç»Ÿç»™å‹å®äº†ã€‚")]),t._v(" "),a("p",[t._v("åº”ä»˜é›†ç¾¤æ•…éšœçš„æ€è·¯ï¼Œä¸»è¦æœ‰ä¸¤ç§ï¼š"),a("strong",[t._v("é™æµ")]),t._v("å’Œ"),a("strong",[t._v("é™çº§")]),t._v("ã€‚")]),t._v(" "),a("h3",{attrs:{id:"é™æµ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é™æµ"}},[t._v("#")]),t._v(" é™æµ")]),t._v(" "),a("p",[t._v("é™æµå°±æ˜¯é™åˆ¶æµé‡ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œç³»ç»Ÿèƒ½å¤Ÿæ‰¿è½½çš„æµé‡æ ¹æ®é›†ç¾¤è§„æ¨¡çš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œå¯ä»¥ç§°ä¹‹ä¸ºç³»ç»Ÿçš„æœ€å¤§å®¹é‡ã€‚å½“çœŸå®æµé‡è¶…è¿‡äº†ç³»ç»Ÿçš„æœ€å¤§å®¹é‡åï¼Œå°±ä¼šå¯¼è‡´ç³»ç»Ÿå“åº”å˜æ…¢ï¼ŒæœåŠ¡è°ƒç”¨å‡ºç°å¤§é‡è¶…æ—¶ï¼Œåæ˜ ç»™ç”¨æˆ·çš„æ„Ÿè§‰å°±æ˜¯å¡é¡¿ã€æ— å“åº”ã€‚æ‰€ä»¥ï¼Œåº”è¯¥æ ¹æ®ç³»ç»Ÿçš„æœ€å¤§å®¹é‡ï¼Œç»™ç³»ç»Ÿè®¾ç½®ä¸€ä¸ªé˜ˆå€¼ï¼Œè¶…è¿‡è¿™ä¸ªé˜ˆå€¼çš„è¯·æ±‚ä¼šè¢«è‡ªåŠ¨æŠ›å¼ƒï¼Œè¿™æ ·çš„è¯å¯ä»¥æœ€å¤§é™åº¦åœ°ä¿è¯ç³»ç»Ÿæä¾›çš„æœåŠ¡æ­£å¸¸ã€‚")]),t._v(" "),a("p",[t._v("é™¤æ­¤ä¹‹å¤–ï¼Œé€šå¸¸ä¸€ä¸ªå¾®æœåŠ¡ç³»ç»Ÿä¼šåŒæ—¶æä¾›å¤šä¸ªæœåŠ¡ï¼Œæ¯ä¸ªæœåŠ¡åœ¨åŒä¸€æ—¶åˆ»çš„è¯·æ±‚é‡ä¹Ÿæ˜¯ä¸åŒçš„ï¼Œå¾ˆå¯èƒ½å‡ºç°çš„ä¸€ç§æƒ…å†µå°±æ˜¯ï¼Œç³»ç»Ÿä¸­æŸä¸ªæœåŠ¡çš„è¯·æ±‚é‡çªå¢ï¼Œå ç”¨äº†ç³»ç»Ÿä¸­å¤§éƒ¨åˆ†èµ„æºï¼Œå¯¼è‡´å…¶ä»–æœåŠ¡æ²¡æœ‰èµ„æºå¯ç”¨ã€‚å› æ­¤ï¼Œè¿˜è¦é’ˆå¯¹ç³»ç»Ÿä¸­æ¯ä¸ªæœåŠ¡çš„è¯·æ±‚é‡ä¹Ÿè®¾ç½®ä¸€ä¸ªé˜ˆå€¼ï¼Œè¶…è¿‡è¿™ä¸ªé˜ˆå€¼çš„è¯·æ±‚ä¹Ÿè¦è¢«è‡ªåŠ¨æŠ›å¼ƒï¼Œè¿™æ ·çš„è¯ä¸è‡³äºå› ä¸ºä¸€ä¸ªæœåŠ¡å½±å“äº†å…¶ä»–æ‰€æœ‰æœåŠ¡ã€‚")]),t._v(" "),a("p",[t._v("åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå¯ä»¥ç”¨ä¸¤ä¸ªæŒ‡æ ‡æ¥è¡¡é‡æœåŠ¡çš„è¯·æ±‚é‡ï¼Œä¸€ä¸ªæ˜¯ QPS å³æ¯ç§’è¯·æ±‚é‡ï¼Œä¸€ä¸ªæ˜¯å·¥ä½œçº¿ç¨‹æ•°ã€‚ä¸è¿‡ QPS å› ä¸ºä¸åŒæœåŠ¡çš„å“åº”å¿«æ…¢ä¸åŒï¼Œæ‰€ä»¥ç³»ç»Ÿèƒ½å¤Ÿæ‰¿è½½çš„ QPS ç›¸å·®å¾ˆå¤§ï¼Œå› æ­¤ä¸€èˆ¬é€‰æ‹©å·¥ä½œçº¿ç¨‹æ•°æ¥ä½œä¸ºé™æµçš„æŒ‡æ ‡ï¼Œç»™ç³»ç»Ÿè®¾ç½®ä¸€ä¸ªæ€»çš„æœ€å¤§å·¥ä½œçº¿ç¨‹æ•°ä»¥åŠå•ä¸ªæœåŠ¡çš„æœ€å¤§å·¥ä½œçº¿ç¨‹æ•°ï¼Œè¿™æ ·çš„è¯æ— è®ºæ˜¯ç³»ç»Ÿçš„æ€»è¯·æ±‚é‡è¿‡å¤§å¯¼è‡´æ•´ä½“å·¥ä½œçº¿ç¨‹æ•°é‡è¾¾åˆ°æœ€å¤§å·¥ä½œçº¿ç¨‹æ•°ï¼Œè¿˜æ˜¯æŸä¸ªæœåŠ¡çš„è¯·æ±‚é‡è¶…è¿‡å•ä¸ªæœåŠ¡çš„æœ€å¤§å·¥ä½œçº¿ç¨‹æ•°ï¼Œéƒ½ä¼šè¢«é™æµï¼Œä»¥èµ·åˆ°ä¿æŠ¤æ•´ä¸ªç³»ç»Ÿçš„ä½œç”¨ã€‚")]),t._v(" "),a("h3",{attrs:{id:"é™çº§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é™çº§"}},[t._v("#")]),t._v(" é™çº§")]),t._v(" "),a("p",[t._v("ä»€ä¹ˆæ˜¯é™çº§å‘¢ï¼Ÿåœ¨æˆ‘çœ‹æ¥ï¼Œé™çº§å°±æ˜¯é€šè¿‡åœæ­¢ç³»ç»Ÿä¸­çš„æŸäº›åŠŸèƒ½ï¼Œæ¥ä¿è¯ç³»ç»Ÿæ•´ä½“çš„å¯ç”¨æ€§ã€‚é™çº§å¯ä»¥è¯´æ˜¯ä¸€ç§è¢«åŠ¨é˜²å¾¡çš„æªæ–½ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´å‘¢ï¼Ÿå› ä¸ºå®ƒä¸€èˆ¬æ˜¯ç³»ç»Ÿå·²ç»å‡ºç°æ•…éšœåæ‰€é‡‡å–çš„ä¸€ç§æ­¢æŸæªæ–½ã€‚")]),t._v(" "),a("p",[t._v("é‚£ä¹ˆé™çº§ä¸€èˆ¬æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿæ ¹æ®æˆ‘çš„å®è·µæ¥çœ‹ï¼Œ ä¸€ç§å¯è¡Œçš„æ–¹æ¡ˆæ˜¯é€šè¿‡å¼€å…³æ¥å®ç°ã€‚")]),t._v(" "),a("p",[t._v("å…·ä½“æ¥è®²ï¼Œå°±æ˜¯åœ¨ç³»ç»Ÿè¿è¡Œçš„å†…å­˜ä¸­å¼€è¾Ÿä¸€å—åŒºåŸŸï¼Œä¸“é—¨ç”¨äºå­˜å‚¨å¼€å…³çš„çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯å¼€å¯è¿˜æ˜¯å…³é—­ã€‚å¹¶ä¸”éœ€è¦ç›‘å¬æŸä¸ªç«¯å£ï¼Œé€šè¿‡è¿™ä¸ªç«¯å£å¯ä»¥å‘ç³»ç»Ÿä¸‹å‘å‘½ä»¤ï¼Œæ¥æ”¹å˜å†…å­˜ä¸­å¼€å…³çš„çŠ¶æ€ã€‚å½“å¼€å…³å¼€å¯æ—¶ï¼Œä¸šåŠ¡çš„æŸä¸€æ®µé€»è¾‘å°±ä¸å†æ‰§è¡Œï¼Œè€Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œå¼€å…³æ˜¯å…³é—­çš„çŠ¶æ€ã€‚")]),t._v(" "),a("p",[t._v("å¼€å…³ä¸€èˆ¬ç”¨åœ¨ä¸¤ç§åœ°æ–¹ï¼Œä¸€ç§æ˜¯æ–°å¢çš„ä¸šåŠ¡é€»è¾‘ï¼Œå› ä¸ºæ–°å¢çš„ä¸šåŠ¡é€»è¾‘ç›¸å¯¹æ¥è¯´ä¸æˆç†Ÿï¼Œå¾€å¾€å…·å¤‡ä¸€å®šçš„é£é™©ï¼Œæ‰€ä»¥éœ€è¦åŠ å¼€å…³æ¥æ§åˆ¶æ–°ä¸šåŠ¡é€»è¾‘æ˜¯å¦æ‰§è¡Œï¼›å¦ä¸€ç§æ˜¯ä¾èµ–çš„æœåŠ¡æˆ–èµ„æºï¼Œå› ä¸ºä¾èµ–çš„æœåŠ¡æˆ–è€…èµ„æºä¸æ€»æ˜¯å¯é çš„ï¼Œæ‰€ä»¥æœ€å¥½æ˜¯æœ‰å¼€å…³èƒ½å¤Ÿæ§åˆ¶æ˜¯å¦å¯¹ä¾èµ–æœåŠ¡æˆ–èµ„æºå‘èµ·è°ƒç”¨ï¼Œæ¥ä¿è¯å³ä½¿ä¾èµ–å‡ºç°é—®é¢˜ï¼Œä¹Ÿèƒ½é€šè¿‡é™çº§æ¥é¿å…å½±å“ã€‚")]),t._v(" "),a("p",[t._v("åœ¨å®é™…ä¸šåŠ¡åº”ç”¨çš„æ—¶å€™ï¼Œé™çº§è¦æŒ‰ç…§å¯¹ä¸šåŠ¡çš„å½±å“ç¨‹åº¦è¿›è¡Œåˆ†çº§ï¼Œä¸€èˆ¬åˆ†ä¸ºä¸‰çº§ï¼šä¸€çº§é™çº§æ˜¯å¯¹ä¸šåŠ¡å½±å“æœ€å°çš„é™çº§ï¼Œåœ¨æ•…éšœçš„æƒ…å†µä¸‹ï¼Œé¦–å…ˆæ‰§è¡Œä¸€çº§é™çº§ï¼Œæ‰€ä»¥ä¸€çº§é™çº§ä¹Ÿå¯ä»¥è®¾ç½®æˆè‡ªåŠ¨é™çº§ï¼Œä¸éœ€è¦äººä¸ºå¹²é¢„ï¼›äºŒçº§é™çº§æ˜¯å¯¹ä¸šåŠ¡æœ‰ä¸€å®šå½±å“çš„é™çº§ï¼Œåœ¨æ•…éšœçš„æƒ…å†µä¸‹ï¼Œå¦‚æœä¸€çº§é™çº§èµ·ä¸åˆ°å¤šå¤§ä½œç”¨çš„æ—¶å€™ï¼Œå¯ä»¥äººä¸ºé‡‡å–æªæ–½ï¼Œæ‰§è¡ŒäºŒçº§é™çº§ï¼›ä¸‰çº§é™çº§æ˜¯å¯¹ä¸šåŠ¡æœ‰è¾ƒå¤§å½±å“çš„é™çº§ï¼Œè¿™ç§é™çº§è¦ä¹ˆæ˜¯å¯¹å•†ä¸šæ”¶å…¥æœ‰é‡å¤§å½±å“ï¼Œè¦ä¹ˆæ˜¯å¯¹ç”¨æˆ·ä½“éªŒæœ‰é‡å¤§å½±å“ï¼Œæ‰€ä»¥æ“ä½œèµ·æ¥è¦éå¸¸è°¨æ…ï¼Œä¸åœ¨æœ€åæ—¶åˆ»ä¸€èˆ¬ä¸äºˆé‡‡ç”¨ã€‚")]),t._v(" "),a("h2",{attrs:{id:"devops"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#devops"}},[t._v("#")]),t._v(" DEVOPS")]),t._v(" "),a("h3",{attrs:{id:"å®¹å™¨å’Œå®¹å™¨å¹³å°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®¹å™¨å’Œå®¹å™¨å¹³å°"}},[t._v("#")]),t._v(" å®¹å™¨å’Œå®¹å™¨å¹³å°")]),t._v(" "),a("p",[t._v("Mesosã€Marathonã€Kubernetes")]),t._v(" "),a("h2",{attrs:{id:"rpc-é€‰å‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpc-é€‰å‹"}},[t._v("#")]),t._v(" RPC é€‰å‹")]),t._v(" "),a("h3",{attrs:{id:"é™å®šè¯­è¨€-rpc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é™å®šè¯­è¨€-rpc"}},[t._v("#")]),t._v(" é™å®šè¯­è¨€ RPC")]),t._v(" "),a("p",[t._v("è·Ÿè¯­è¨€å¹³å°ç»‘å®šçš„å¼€æº RPC æ¡†æ¶ä¸»è¦æœ‰ä¸‹é¢å‡ ç§ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("Dubboï¼šå›½å†…æœ€æ—©å¼€æºçš„ RPC æ¡†æ¶ï¼Œç”±é˜¿é‡Œå·´å·´å…¬å¸å¼€å‘å¹¶äº 2011 å¹´æœ«å¯¹å¤–å¼€æºï¼Œä»…æ”¯æŒ Java è¯­è¨€ã€‚")]),t._v(" "),a("li",[t._v("Motanï¼šå¾®åšå†…éƒ¨ä½¿ç”¨çš„ RPC æ¡†æ¶ï¼Œäº 2016 å¹´å¯¹å¤–å¼€æºï¼Œä»…æ”¯æŒ Java è¯­è¨€ã€‚")]),t._v(" "),a("li",[t._v("Tarsï¼šè…¾è®¯å†…éƒ¨ä½¿ç”¨çš„ RPC æ¡†æ¶ï¼Œäº 2017 å¹´å¯¹å¤–å¼€æºï¼Œä»…æ”¯æŒ C++ è¯­è¨€ã€‚")]),t._v(" "),a("li",[t._v("Spring Cloudï¼šå›½å¤– Pivotal å…¬å¸ 2014 å¹´å¯¹å¤–å¼€æºçš„ RPC æ¡†æ¶ï¼Œä»…æ”¯æŒ Java è¯­è¨€ï¼Œæœ€è¿‘å‡ å¹´ç”Ÿæ€å‘å±•å¾—æ¯”è¾ƒå¥½ï¼Œæ˜¯æ¯”è¾ƒç«çš„ RPC æ¡†æ¶ã€‚")])]),t._v(" "),a("p",[t._v("æ‰€ä»¥å¾ˆæ˜æ˜¾ï¼Œå¦‚æœä½ çš„ä¸šåŠ¡åœºæ™¯ä»…ä»…å±€é™äºä¸€ç§è¯­è¨€çš„è¯ï¼Œå¯ä»¥é€‰æ‹©è·Ÿè¯­è¨€ç»‘å®šçš„ RPC æ¡†æ¶ä¸­çš„ä¸€ç§ï¼›å¦‚æœæ¶‰åŠå¤šä¸ªè¯­è¨€å¹³å°ä¹‹é—´çš„ç›¸äº’è°ƒç”¨ï¼Œå°±åº”è¯¥é€‰æ‹©è·¨è¯­è¨€å¹³å°çš„ RPC æ¡†æ¶ã€‚")]),t._v(" "),a("p",[t._v("ä»”ç»†åˆ†æï¼Œå¯ä»¥çœ‹å‡º Spring Cloud ä¸ä»…æä¾›äº†åŸºæœ¬çš„ RPC æ¡†æ¶åŠŸèƒ½ï¼Œè¿˜æä¾›äº†æœåŠ¡æ³¨å†Œç»„ä»¶ã€é…ç½®ä¸­å¿ƒç»„ä»¶ã€è´Ÿè½½å‡è¡¡ç»„ä»¶ã€æ–­è·¯å™¨ç»„ä»¶ã€åˆ†å¸ƒå¼æ¶ˆæ¯è¿½è¸ªç»„ä»¶ç­‰ä¸€ç³»åˆ—ç»„ä»¶ï¼Œä¹Ÿéš¾æ€ªè¢«æŠ€æœ¯åœˆçš„äººç§°ä¹‹ä¸ºâ€œSpring Cloud å…¨å®¶æ¡¶â€ã€‚å¦‚æœä½ ä¸æƒ³è‡ªå·±å®ç°ä»¥ä¸Šè¿™äº›åŠŸèƒ½ï¼Œé‚£ä¹ˆ Spring Cloud åŸºæœ¬å¯ä»¥æ»¡è¶³ä½ çš„å…¨éƒ¨éœ€æ±‚ã€‚è€Œ Dubboã€Motan åŸºæœ¬ä¸Šåªæä¾›äº†æœ€åŸºç¡€çš„ RPC æ¡†æ¶çš„åŠŸèƒ½ï¼Œå…¶ä»–å¾®æœåŠ¡ç»„ä»¶éƒ½éœ€è¦è‡ªå·±å»å®ç°ã€‚ä¸è¿‡ç”±äº Spring Cloud çš„ RPC é€šä¿¡é‡‡ç”¨äº† HTTP åè®®ï¼Œç›¸æ¯” Dubbo å’Œ Motan æ‰€é‡‡ç”¨çš„ç§æœ‰åè®®æ¥è¯´ï¼Œåœ¨é«˜å¹¶å‘çš„é€šä¿¡åœºæ™¯ä¸‹ï¼Œæ€§èƒ½ç›¸å¯¹è¦å·®ä¸€äº›ï¼Œæ‰€ä»¥å¯¹æ€§èƒ½æœ‰è‹›åˆ»è¦æ±‚çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥è€ƒè™‘ Dubbo å’Œ Motanã€‚")]),t._v(" "),a("h3",{attrs:{id:"è·¨è¯­è¨€-rpc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è·¨è¯­è¨€-rpc"}},[t._v("#")]),t._v(" è·¨è¯­è¨€ RPC")]),t._v(" "),a("p",[t._v("è€Œè·¨è¯­è¨€å¹³å°çš„å¼€æº RPC æ¡†æ¶ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("gRPCï¼šGoogle äº 2015 å¹´å¯¹å¤–å¼€æºçš„è·¨è¯­è¨€ RPC æ¡†æ¶ï¼Œæ”¯æŒå¸¸ç”¨çš„ C++ã€Javaã€Pythonã€Goã€Rubyã€PHPã€Android Javaã€Objective-C ç­‰å¤šç§è¯­è¨€ã€‚")]),t._v(" "),a("li",[t._v("Thriftï¼šæœ€åˆæ˜¯ç”± Facebook å¼€å‘çš„å†…éƒ¨ç³»ç»Ÿè·¨è¯­è¨€çš„ RPC æ¡†æ¶ï¼Œ2007 å¹´è´¡çŒ®ç»™äº† Apache åŸºé‡‘ï¼Œæˆä¸º Apache å¼€æºé¡¹ç›®ä¹‹ä¸€ï¼Œæ”¯æŒå¸¸ç”¨çš„ C++ã€Javaã€PHPã€Pythonã€Rubyã€Erlang ç­‰å¤šç§è¯­è¨€ã€‚")])]),t._v(" "),a("p",[t._v("ä»æˆç†Ÿåº¦ä¸Šæ¥è®²ï¼ŒThrift å› ä¸ºè¯ç”Ÿçš„æ—¶é—´è¦æ—©äº gRPCï¼Œæ‰€ä»¥ä½¿ç”¨çš„èŒƒå›´è¦é«˜äº gRPCï¼Œåœ¨ HBaseã€Hadoopã€Scribeã€Cassandra ç­‰è®¸å¤šå¼€æºç»„ä»¶ä¸­éƒ½å¾—åˆ°äº†å¹¿æ³›åœ°åº”ç”¨ã€‚è€Œä¸” Thrift æ”¯æŒå¤šè¾¾ 25 ç§è¯­è¨€ï¼Œè¿™è¦æ¯” gRPC æ”¯æŒçš„è¯­è¨€æ›´å¤šï¼Œæ‰€ä»¥å¦‚æœé‡åˆ° gRPC ä¸æ”¯æŒçš„è¯­è¨€åœºæ™¯ä¸‹ï¼Œé€‰æ‹© Thrift æ›´åˆé€‚ã€‚")]),t._v(" "),a("p",[t._v("ä½† gRPC ä½œä¸ºåèµ·ä¹‹ç§€ï¼Œå› ä¸ºé‡‡ç”¨äº† HTTP/2 ä½œä¸ºé€šä¿¡åè®®ã€ProtoBuf ä½œä¸ºæ•°æ®åºåˆ—åŒ–æ ¼å¼ï¼Œåœ¨ç§»åŠ¨ç«¯è®¾å¤‡çš„åº”ç”¨ä»¥åŠå¯¹ä¼ è¾“å¸¦å®½æ¯”è¾ƒæ•æ„Ÿçš„åœºæ™¯ä¸‹å…·æœ‰å¾ˆå¤§çš„ä¼˜åŠ¿ï¼Œè€Œä¸”å¼€å‘æ–‡æ¡£ä¸°å¯Œï¼Œæ ¹æ® ProtoBuf æ–‡ä»¶ç”Ÿæˆçš„ä»£ç è¦æ¯” Thrift æ›´ç®€æ´ä¸€äº›ï¼Œä»ä½¿ç”¨éš¾æ˜“ç¨‹åº¦ä¸Šæ›´å ä¼˜åŠ¿ï¼Œæ‰€ä»¥å¦‚æœä½¿ç”¨çš„è¯­è¨€å¹³å° gRPC æ”¯æŒçš„è¯ï¼Œå»ºè®®è¿˜æ˜¯é‡‡ç”¨ gRPC æ¯”è¾ƒå¥½ã€‚")]),t._v(" "),a("h2",{attrs:{id:"service-mesh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#service-mesh"}},[t._v("#")]),t._v(" Service Mesh")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/dunwu/images/master/snap/20200721154106.png",alt:"img"}})]),t._v(" "),a("h3",{attrs:{id:"service-mesh-çš„å®ç°åŸç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#service-mesh-çš„å®ç°åŸç†"}},[t._v("#")]),t._v(" Service Mesh çš„å®ç°åŸç†")]),t._v(" "),a("p",[t._v("Service Mesh å®ç°çš„å…³é”®å°±åœ¨äºä¸¤ç‚¹ï¼š")]),t._v(" "),a("p",[t._v("ä¸€ä¸ªæ˜¯ä¸Šé¢æåˆ°çš„è½»é‡çº§çš„ç½‘ç»œä»£ç†ä¹Ÿå« SideCarï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯è½¬å‘æœåŠ¡ä¹‹é—´çš„è°ƒç”¨ï¼›")]),t._v(" "),a("p",[t._v("ä¸€ä¸ªæ˜¯åŸºäº SideCar çš„æœåŠ¡æ²»ç†ä¹Ÿè¢«å«ä½œ Control Planeï¼Œå®ƒçš„ä½œç”¨æ˜¯å‘ SideCar å‘é€å„ç§æŒ‡ä»¤ï¼Œä»¥å®Œæˆå„ç§æœåŠ¡æ²»ç†åŠŸèƒ½ã€‚ä¸‹é¢æˆ‘å°±æ¥è¯¦ç»†è®²è§£è¿™ä¸¤ç‚¹æ˜¯å¦‚ä½•å®ç°çš„ã€‚")]),t._v(" "),a("h2",{attrs:{id:"å‚è€ƒèµ„æ–™"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒèµ„æ–™"}},[t._v("#")]),t._v(" å‚è€ƒèµ„æ–™")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://time.geekbang.org/column/intro/100014401",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä» 0 å¼€å§‹å­¦å¾®æœåŠ¡"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://time.geekbang.org/column/intro/100046201",target:"_blank",rel:"noopener noreferrer"}},[t._v("RPC å®æˆ˜ä¸æ ¸å¿ƒåŸç†"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://time.geekbang.org/course/intro/100003901",target:"_blank",rel:"noopener noreferrer"}},[t._v("å¾®æœåŠ¡æ¶æ„æ ¸å¿ƒ 20 è®²"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.cnblogs.com/savorboard/p/api-gateway.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("è°ˆè°ˆå¾®æœåŠ¡ä¸­çš„ API ç½‘å…³ï¼ˆAPI Gatewayï¼‰"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=_.exports}}]);