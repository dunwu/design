(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[]]);!function(n){function e(e){for(var r,o,l=e[0],s=e[1],c=e[2],u=0,p=[];u<l.length;u++)o=l[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r]);for(d&&d(e);p.length;)p.shift()();return a.push.apply(a,c||[]),t()}function t(){for(var n,e=0;e<a.length;e++){for(var t=a[e],r=!0,l=1;l<t.length;l++){var s=t[l];0!==i[s]&&(r=!1)}r&&(a.splice(e--,1),n=o(o.s=t[0]))}return n}var r={},i={1:0},a=[];function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}o.e=function(n){var e=[],t=i[n];if(0!==t)if(t)e.push(t[2]);else{var r=new Promise((function(e,r){t=i[n]=[e,r]}));e.push(t[2]=r);var a,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=function(n){return o.p+"assets/js/"+({}[n]||n)+"."+{2:"f027dd80",3:"e1e43821",4:"11d6c484",5:"0b29096b",6:"31201ba8",7:"94319e0e",8:"701c94da",9:"cee459e0",10:"5ef0ca6a",11:"47811654",12:"fa84576b",13:"3786f4cc",14:"570e738a",15:"d71e845f",16:"ba0ffc98",17:"2f0a98cf",18:"9e19f406",19:"ff8bc73d",20:"4000cc7b",21:"f003250b",22:"639189d8",23:"97e4f2b7",24:"cd57dadc",25:"eb5a53b6",26:"fa54bacf",27:"8c6f1d68",28:"85493f0b",29:"66f83836",30:"44d51448",31:"3f1caaf5",32:"35d81e79",33:"cb6e7c1b",34:"9f079e23",35:"b20da9e7",36:"fcad8353",37:"cdff5dfe",38:"0534e80d",39:"0f989524",40:"d6a88ead",41:"95b604d0",42:"fb4b8d19",43:"0aa4a134",44:"2faf8047",45:"a93cc849",46:"08731328",47:"774cb6f7",48:"cccfe96c",49:"01d2f826",50:"3f9476bc",51:"e192dc96",52:"e6394938",53:"698e16ad",54:"a11f374b",55:"b2d101fd",56:"53839fb9",57:"4bdbc11d",58:"81d69847",59:"11005062",60:"9a9734bc",61:"9061934a",62:"498b4ac5",63:"69ce501c",64:"2d81a735",65:"0e3c51ce",66:"bab33604",67:"ef233216",68:"1254fce7",69:"fd1710b6",70:"227e60f1",71:"d164d438",72:"2f38f543",73:"d49979bf",74:"170c3c92",75:"9deda530"}[n]+".js"}(n);var s=new Error;a=function(e){l.onerror=l.onload=null,clearTimeout(c);var t=i[n];if(0!==t){if(t){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;s.message="Loading chunk "+n+" failed.\n("+r+": "+a+")",s.name="ChunkLoadError",s.type=r,s.request=a,t[1](s)}i[n]=void 0}};var c=setTimeout((function(){a({type:"timeout",target:l})}),12e4);l.onerror=l.onload=a,document.head.appendChild(l)}return Promise.all(e)},o.m=n,o.c=r,o.d=function(n,e,t){o.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},o.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(n,e){if(1&e&&(n=o(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)o.d(t,r,function(e){return n[e]}.bind(null,r));return t},o.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(e,"a",e),e},o.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},o.p="/design/",o.oe=function(n){throw console.error(n),n};var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=s;a.push([106,0]),t()}([function(n,e,t){"use strict";var r=function(n){return n&&n.Math===Math&&n};n.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof global&&global)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},function(n,e,t){"use strict";var r="object"==typeof document&&document.all;n.exports=void 0===r&&void 0!==r?function(n){return"function"==typeof n||n===r}:function(n){return"function"==typeof n}},function(n,e,t){"use strict";var r=t(29),i=Function.prototype,a=i.call,o=r&&i.bind.bind(a,a);n.exports=r?o:function(n){return function(){return a.apply(n,arguments)}}},function(n,e,t){"use strict";n.exports=function(n){try{return!!n()}catch(n){return!0}}},function(n,e,t){"use strict";function r(n,e,t,r,i,a,o,l){var s,c="function"==typeof n?n.options:n;if(e&&(c.render=e,c.staticRenderFns=t,c._compiled=!0),r&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),o?(s=function(n){(n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(n=__VUE_SSR_CONTEXT__),i&&i.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(o)},c._ssrRegister=s):i&&(s=l?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),s)if(c.functional){c._injectStyles=s;var d=c.render;c.render=function(n,e){return s.call(e),d(n,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,s):[s]}return{exports:n,options:c}}t.d(e,"a",(function(){return r}))},function(n,e,t){"use strict";var r=t(3);n.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(n,e){var t=Array.isArray;n.exports=t},function(n,e,t){"use strict";var r=t(2),i=t(33),a=r({}.hasOwnProperty);n.exports=Object.hasOwn||function(n,e){return a(i(n),e)}},function(n,e,t){var r=t(69),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();n.exports=a},function(n,e,t){"use strict";var r=t(1);n.exports=function(n){return"object"==typeof n?null!==n:r(n)}},function(n,e,t){var r=t(165),i=t(168);n.exports=function(n,e){var t=i(n,e);return r(t)?t:void 0}},function(n,e,t){"use strict";t.d(e,"e",(function(){return r})),t.d(e,"b",(function(){return a})),t.d(e,"j",(function(){return o})),t.d(e,"g",(function(){return s})),t.d(e,"h",(function(){return c})),t.d(e,"i",(function(){return d})),t.d(e,"c",(function(){return u})),t.d(e,"f",(function(){return p})),t.d(e,"l",(function(){return m})),t.d(e,"m",(function(){return h})),t.d(e,"d",(function(){return v})),t.d(e,"k",(function(){return f})),t.d(e,"n",(function(){return b})),t.d(e,"a",(function(){return x}));t(17);const r=/#.*$/,i=/\.(md|html)$/,a=/\/$/,o=/^[a-z]+:/i;function l(n){return decodeURI(n).replace(r,"").replace(i,"")}function s(n){return o.test(n)}function c(n){return/^mailto:/.test(n)}function d(n){return/^tel:/.test(n)}function u(n){if(s(n))return n;if(!n)return"404";const e=n.match(r),t=e?e[0]:"",i=l(n);return a.test(i)?n:i+".html"+t}function p(n,e){const t=n.hash,i=function(n){const e=n&&n.match(r);if(e)return e[0]}(e);if(i&&t!==i)return!1;return l(n.path)===l(e)}function m(n,e,t){if(s(e))return{type:"external",path:e};t&&(e=function(n,e,t){const r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return e+n;const i=e.split("/");t&&i[i.length-1]||i.pop();const a=n.replace(/^\//,"").split("/");for(let n=0;n<a.length;n++){const e=a[n];".."===e?i.pop():"."!==e&&i.push(e)}""!==i[0]&&i.unshift("");return i.join("/")}(e,t));const r=l(e);for(let e=0;e<n.length;e++)if(l(n[e].regularPath)===r)return Object.assign({},n[e],{type:"page",path:u(n[e].path)});return console.error(`[vuepress] No matching page found for sidebar item "${e}"`),{}}function h(n,e,t,r){const{pages:i,themeConfig:a}=t,o=r&&a.locales&&a.locales[r]||a;if("auto"===(n.frontmatter.sidebar||o.sidebar||a.sidebar))return g(n);const l=o.sidebar||a.sidebar;if(l){const{base:t,config:r}=function(n,e){if(Array.isArray(e))return{base:"/",config:e};for(const r in e)if(0===(t=n,/(\.html|\/)$/.test(t)?t:t+"/").indexOf(encodeURI(r)))return{base:r,config:e[r]};var t;return{}}(e,l);return"auto"===r?g(n):r?r.map(n=>function n(e,t,r,i=1){if("string"==typeof e)return m(t,e,r);if(Array.isArray(e))return Object.assign(m(t,e[0],r),{title:e[1]});{i>3&&console.error("[vuepress] detected a too deep nested sidebar group.");const a=e.children||[];return 0===a.length&&e.path?Object.assign(m(t,e.path,r),{title:e.title}):{type:"group",path:e.path,title:e.title,sidebarDepth:e.sidebarDepth,initialOpenGroupIndex:e.initialOpenGroupIndex,children:a.map(e=>n(e,t,r,i+1)),collapsable:!1!==e.collapsable}}}(n,i,t)):[]}return[]}function g(n){const e=v(n.headers||[]);return[{type:"group",collapsable:!1,title:n.title,path:null,children:e.map(e=>({type:"auto",title:e.title,basePath:n.path,path:n.path+"#"+e.slug,children:e.children||[]}))}]}function v(n){let e;return(n=n.map(n=>Object.assign({},n))).forEach(n=>{2===n.level?e=n:e&&(e.children||(e.children=[])).push(n)}),n.filter(n=>2===n.level)}function f(n){return Object.assign(n,{type:n.items&&n.items.length?"links":"link"})}function b(n){return Object.prototype.toString.call(n).match(/\[object (.*?)\]/)[1].toLowerCase()}function y(n){let e=n.frontmatter.date||n.lastUpdated||new Date,t=new Date(e);return"Invalid Date"==t&&e&&(t=new Date(e.replace(/-/g,"/"))),t.getTime()}function x(n,e){return y(e)-y(n)}},function(n,e){n.exports=function(n){return null!=n&&"object"==typeof n}},function(n,e,t){"use strict";var r=t(5),i=t(64),a=t(101),o=t(28),l=t(55),s=TypeError,c=Object.defineProperty,d=Object.getOwnPropertyDescriptor;e.f=r?a?function(n,e,t){if(o(n),e=l(e),o(t),"function"==typeof n&&"prototype"===e&&"value"in t&&"writable"in t&&!t.writable){var r=d(n,e);r&&r.writable&&(n[e]=t.value,t={configurable:"configurable"in t?t.configurable:r.configurable,enumerable:"enumerable"in t?t.enumerable:r.enumerable,writable:!1})}return c(n,e,t)}:c:function(n,e,t){if(o(n),e=l(e),o(t),i)try{return c(n,e,t)}catch(n){}if("get"in t||"set"in t)throw new s("Accessors not supported");return"value"in t&&(n[e]=t.value),n}},function(n,e,t){var r=t(16),i=t(150),a=t(151),o=r?r.toStringTag:void 0;n.exports=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":o&&o in Object(n)?i(n):a(n)}},function(n,e,t){"use strict";var r=t(5),i=t(13),a=t(36);n.exports=r?function(n,e,t){return i.f(n,e,a(1,t))}:function(n,e,t){return n[e]=t,n}},function(n,e,t){var r=t(8).Symbol;n.exports=r},function(n,e,t){"use strict";var r=t(18),i=t(33),a=t(34),o=t(144),l=t(146);r({target:"Array",proto:!0,arity:1,forced:t(3)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(n){return n instanceof TypeError}}()},{push:function(n){var e=i(this),t=a(e),r=arguments.length;l(t+r);for(var s=0;s<r;s++)e[t]=arguments[s],t++;return o(e,t),t}})},function(n,e,t){"use strict";var r=t(0),i=t(52).f,a=t(15),o=t(97),l=t(38),s=t(65),c=t(125);n.exports=function(n,e){var t,d,u,p,m,h=n.target,g=n.global,v=n.stat;if(t=g?r:v?r[h]||l(h,{}):r[h]&&r[h].prototype)for(d in e){if(p=e[d],u=n.dontCallGetSet?(m=i(t,d))&&m.value:t[d],!c(g?d:h+(v?".":"#")+d,n.forced)&&void 0!==u){if(typeof p==typeof u)continue;s(p,u)}(n.sham||u&&u.sham)&&a(p,"sham",!0),o(t,d,p,n)}}},function(n,e,t){"use strict";var r=t(2),i=r({}.toString),a=r("".slice);n.exports=function(n){return a(i(n),8,-1)}},function(n,e,t){"use strict";var r=t(0),i=t(61),a=t(7),o=t(63),l=t(59),s=t(58),c=r.Symbol,d=i("wks"),u=s?c.for||c:c&&c.withoutSetter||o;n.exports=function(n){return a(d,n)||(d[n]=l&&a(c,n)?c[n]:u("Symbol."+n)),d[n]}},function(n,e,t){var r=t(155),i=t(156),a=t(157),o=t(158),l=t(159);function s(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=l,n.exports=s},function(n,e,t){var r=t(71);n.exports=function(n,e){for(var t=n.length;t--;)if(r(n[t][0],e))return t;return-1}},function(n,e,t){var r=t(10)(Object,"create");n.exports=r},function(n,e,t){var r=t(177);n.exports=function(n,e){var t=n.__data__;return r(e)?t["string"==typeof e?"string":"hash"]:t.map}},function(n,e,t){var r=t(46);n.exports=function(n){if("string"==typeof n||r(n))return n;var e=n+"";return"0"==e&&1/n==-1/0?"-0":e}},function(n,e,t){var r,i;
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */void 0===(i="function"==typeof(r=function(){var n,e,t={version:"0.2.0"},r=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function i(n,e,t){return n<e?e:n>t?t:n}function a(n){return 100*(-1+n)}t.configure=function(n){var e,t;for(e in n)void 0!==(t=n[e])&&n.hasOwnProperty(e)&&(r[e]=t);return this},t.status=null,t.set=function(n){var e=t.isStarted();n=i(n,r.minimum,1),t.status=1===n?null:n;var s=t.render(!e),c=s.querySelector(r.barSelector),d=r.speed,u=r.easing;return s.offsetWidth,o((function(e){""===r.positionUsing&&(r.positionUsing=t.getPositioningCSS()),l(c,function(n,e,t){var i;return(i="translate3d"===r.positionUsing?{transform:"translate3d("+a(n)+"%,0,0)"}:"translate"===r.positionUsing?{transform:"translate("+a(n)+"%,0)"}:{"margin-left":a(n)+"%"}).transition="all "+e+"ms "+t,i}(n,d,u)),1===n?(l(s,{transition:"none",opacity:1}),s.offsetWidth,setTimeout((function(){l(s,{transition:"all "+d+"ms linear",opacity:0}),setTimeout((function(){t.remove(),e()}),d)}),d)):setTimeout(e,d)})),this},t.isStarted=function(){return"number"==typeof t.status},t.start=function(){t.status||t.set(0);var n=function(){setTimeout((function(){t.status&&(t.trickle(),n())}),r.trickleSpeed)};return r.trickle&&n(),this},t.done=function(n){return n||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(n){var e=t.status;return e?("number"!=typeof n&&(n=(1-e)*i(Math.random()*e,.1,.95)),e=i(e+n,0,.994),t.set(e)):t.start()},t.trickle=function(){return t.inc(Math.random()*r.trickleRate)},n=0,e=0,t.promise=function(r){return r&&"resolved"!==r.state()?(0===e&&t.start(),n++,e++,r.always((function(){0==--e?(n=0,t.done()):t.set((n-e)/n)})),this):this},t.render=function(n){if(t.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var e=document.createElement("div");e.id="nprogress",e.innerHTML=r.template;var i,o=e.querySelector(r.barSelector),s=n?"-100":a(t.status||0),d=document.querySelector(r.parent);return l(o,{transition:"all 0 linear",transform:"translate3d("+s+"%,0,0)"}),r.showSpinner||(i=e.querySelector(r.spinnerSelector))&&p(i),d!=document.body&&c(d,"nprogress-custom-parent"),d.appendChild(e),e},t.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(r.parent),"nprogress-custom-parent");var n=document.getElementById("nprogress");n&&p(n)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var n=document.body.style,e="WebkitTransform"in n?"Webkit":"MozTransform"in n?"Moz":"msTransform"in n?"ms":"OTransform"in n?"O":"";return e+"Perspective"in n?"translate3d":e+"Transform"in n?"translate":"margin"};var o=function(){var n=[];function e(){var t=n.shift();t&&t(e)}return function(t){n.push(t),1==n.length&&e()}}(),l=function(){var n=["Webkit","O","Moz","ms"],e={};function t(t){return t=t.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(n,e){return e.toUpperCase()})),e[t]||(e[t]=function(e){var t=document.body.style;if(e in t)return e;for(var r,i=n.length,a=e.charAt(0).toUpperCase()+e.slice(1);i--;)if((r=n[i]+a)in t)return r;return e}(t))}function r(n,e,r){e=t(e),n.style[e]=r}return function(n,e){var t,i,a=arguments;if(2==a.length)for(t in e)void 0!==(i=e[t])&&e.hasOwnProperty(t)&&r(n,t,i);else r(n,a[1],a[2])}}();function s(n,e){return("string"==typeof n?n:u(n)).indexOf(" "+e+" ")>=0}function c(n,e){var t=u(n),r=t+e;s(t,e)||(n.className=r.substring(1))}function d(n,e){var t,r=u(n);s(n,e)&&(t=r.replace(" "+e+" "," "),n.className=t.substring(1,t.length-1))}function u(n){return(" "+(n.className||"")+" ").replace(/\s+/gi," ")}function p(n){n&&n.parentNode&&n.parentNode.removeChild(n)}return t})?r.call(e,t,e,n):r)||(n.exports=i)},function(n){n.exports=JSON.parse('{"_from":"vuepress-plugin-comment@^0.7.3","_id":"vuepress-plugin-comment@0.7.3","_inBundle":false,"_integrity":"sha512-CvuBST37snmQGzGD5lMxyw0u2eXWKVPjegfuwlI2+CTs2qWarKX16dVHHLR8DVa/yL5UGT3VuoNETH/zEexl8A==","_location":"/vuepress-plugin-comment","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"vuepress-plugin-comment@^0.7.3","name":"vuepress-plugin-comment","escapedName":"vuepress-plugin-comment","rawSpec":"^0.7.3","saveSpec":null,"fetchSpec":"^0.7.3"},"_requiredBy":["#DEV:/"],"_resolved":"https://registry.npmjs.org/vuepress-plugin-comment/-/vuepress-plugin-comment-0.7.3.tgz","_shasum":"2cff36b8f90896a7f88d494d78458398b1510249","_spec":"vuepress-plugin-comment@^0.7.3","_where":"/home/runner/work/design/design","author":{"name":"dongyuanxin"},"bugs":{"url":"https://github.com/dongyuanxin/vuepress-plugin-comment/issues"},"bundleDependencies":false,"dependencies":{"ejs":"^2.6.1","gitalk":"^1.5.0","gitalk-fix":"^1.5.2","i":"^0.3.6","npm":"^6.9.0","valine":"^1.3.9"},"deprecated":false,"description":"Comment plugin in vuepress, such as Gitalk, Valine...","homepage":"https://github.com/dongyuanxin/vuepress-plugin-comment#readme","keywords":["vuepress","comment","plugin","vue","gitalk","valine"],"license":"MIT","main":"index.js","name":"vuepress-plugin-comment","repository":{"type":"git","url":"git+ssh://git@github.com/dongyuanxin/vuepress-plugin-comment.git"},"scripts":{"test":"echo \\"Error: no test specified\\" && exit 1"},"version":"0.7.3"}')},function(n,e,t){"use strict";var r=t(9),i=String,a=TypeError;n.exports=function(n){if(r(n))return n;throw new a(i(n)+" is not an object")}},function(n,e,t){"use strict";var r=t(3);n.exports=!r((function(){var n=function(){}.bind();return"function"!=typeof n||n.hasOwnProperty("prototype")}))},function(n,e,t){"use strict";var r=t(48),i=t(53);n.exports=function(n){return r(i(n))}},function(n,e,t){"use strict";var r=t(0),i=t(1),a=function(n){return i(n)?n:void 0};n.exports=function(n,e){return arguments.length<2?a(r[n]):r[n]&&r[n][e]}},function(n,e,t){"use strict";var r=t(1),i=t(112),a=TypeError;n.exports=function(n){if(r(n))return n;throw new a(i(n)+" is not a function")}},function(n,e,t){"use strict";var r=t(53),i=Object;n.exports=function(n){return i(r(n))}},function(n,e,t){"use strict";var r=t(123);n.exports=function(n){return r(n.length)}},function(n,e,t){"use strict";var r=t(29),i=Function.prototype.call;n.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},function(n,e,t){"use strict";n.exports=function(n,e){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:e}}},function(n,e,t){"use strict";var r=t(0),i=t(38),a=r["__core-js_shared__"]||i("__core-js_shared__",{});n.exports=a},function(n,e,t){"use strict";var r=t(0),i=Object.defineProperty;n.exports=function(n,e){try{i(r,n,{value:e,configurable:!0,writable:!0})}catch(t){r[n]=e}return e}},function(n,e,t){var r=t(149),i=t(12),a=Object.prototype,o=a.hasOwnProperty,l=a.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(n){return i(n)&&o.call(n,"callee")&&!l.call(n,"callee")};n.exports=s},function(n,e,t){var r=t(10)(t(8),"Map");n.exports=r},function(n,e){n.exports=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)}},function(n,e,t){var r=t(169),i=t(176),a=t(178),o=t(179),l=t(180);function s(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=l,n.exports=s},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n){t[++e]=n})),t}},function(n,e){n.exports=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991}},function(n,e,t){var r=t(6),i=t(46),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;n.exports=function(n,e){if(r(n))return!1;var t=typeof n;return!("number"!=t&&"symbol"!=t&&"boolean"!=t&&null!=n&&!i(n))||(o.test(n)||!a.test(n)||null!=e&&n in Object(e))}},function(n,e,t){var r=t(14),i=t(12);n.exports=function(n){return"symbol"==typeof n||i(n)&&"[object Symbol]"==r(n)}},function(n,e){n.exports=function(n){return n}},function(n,e,t){"use strict";var r=t(2),i=t(3),a=t(19),o=Object,l=r("".split);n.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(n){return"String"===a(n)?l(n,""):o(n)}:o},function(n,e,t){"use strict";n.exports={}},function(n,e){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n,e){var t=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt,l="object"==typeof global&&global&&global.Object===Object&&global,s="object"==typeof self&&self&&self.Object===Object&&self,c=l||s||Function("return this")(),d=Object.prototype.toString,u=Math.max,p=Math.min,m=function(){return c.Date.now()};function h(n){var e=typeof n;return!!n&&("object"==e||"function"==e)}function g(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||function(n){return!!n&&"object"==typeof n}(n)&&"[object Symbol]"==d.call(n)}(n))return NaN;if(h(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=h(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(t,"");var l=i.test(n);return l||a.test(n)?o(n.slice(2),l?2:8):r.test(n)?NaN:+n}n.exports=function(n,e,t){var r,i,a,o,l,s,c=0,d=!1,v=!1,f=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function b(e){var t=r,a=i;return r=i=void 0,c=e,o=n.apply(a,t)}function y(n){return c=n,l=setTimeout(w,e),d?b(n):o}function x(n){var t=n-s;return void 0===s||t>=e||t<0||v&&n-c>=a}function w(){var n=m();if(x(n))return T(n);l=setTimeout(w,function(n){var t=e-(n-s);return v?p(t,a-(n-c)):t}(n))}function T(n){return l=void 0,f&&r?b(n):(r=i=void 0,o)}function C(){var n=m(),t=x(n);if(r=arguments,i=this,s=n,t){if(void 0===l)return y(s);if(v)return l=setTimeout(w,e),b(s)}return void 0===l&&(l=setTimeout(w,e)),o}return e=g(e)||0,h(t)&&(d=!!t.leading,a=(v="maxWait"in t)?u(g(t.maxWait)||0,e):a,f="trailing"in t?!!t.trailing:f),C.cancel=function(){void 0!==l&&clearTimeout(l),c=0,r=s=i=l=void 0},C.flush=function(){return void 0===l?o:T(m())},C}},function(n,e,t){"use strict";var r=t(5),i=t(35),a=t(108),o=t(36),l=t(30),s=t(55),c=t(7),d=t(64),u=Object.getOwnPropertyDescriptor;e.f=r?u:function(n,e){if(n=l(n),e=s(e),d)try{return u(n,e)}catch(n){}if(c(n,e))return o(!i(a.f,n,e),n[e])}},function(n,e,t){"use strict";var r=t(54),i=TypeError;n.exports=function(n){if(r(n))throw new i("Can't call method on "+n);return n}},function(n,e,t){"use strict";n.exports=function(n){return null==n}},function(n,e,t){"use strict";var r=t(109),i=t(56);n.exports=function(n){var e=r(n,"string");return i(e)?e:e+""}},function(n,e,t){"use strict";var r=t(31),i=t(1),a=t(57),o=t(58),l=Object;n.exports=o?function(n){return"symbol"==typeof n}:function(n){var e=r("Symbol");return i(e)&&a(e.prototype,l(n))}},function(n,e,t){"use strict";var r=t(2);n.exports=r({}.isPrototypeOf)},function(n,e,t){"use strict";var r=t(59);n.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(n,e,t){"use strict";var r=t(60),i=t(3),a=t(0).String;n.exports=!!Object.getOwnPropertySymbols&&!i((function(){var n=Symbol("symbol detection");return!a(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(n,e,t){"use strict";var r,i,a=t(0),o=t(110),l=a.process,s=a.Deno,c=l&&l.versions||s&&s.version,d=c&&c.v8;d&&(i=(r=d.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=+r[1]),n.exports=i},function(n,e,t){"use strict";var r=t(62),i=t(37);(n.exports=function(n,e){return i[n]||(i[n]=void 0!==e?e:{})})("versions",[]).push({version:"3.35.1",mode:r?"pure":"global",copyright:"Â© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.35.1/LICENSE",source:"https://github.com/zloirock/core-js"})},function(n,e,t){"use strict";n.exports=!1},function(n,e,t){"use strict";var r=t(2),i=0,a=Math.random(),o=r(1..toString);n.exports=function(n){return"Symbol("+(void 0===n?"":n)+")_"+o(++i+a,36)}},function(n,e,t){"use strict";var r=t(5),i=t(3),a=t(100);n.exports=!r&&!i((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(n,e,t){"use strict";var r=t(7),i=t(118),a=t(52),o=t(13);n.exports=function(n,e,t){for(var l=i(e),s=o.f,c=a.f,d=0;d<l.length;d++){var u=l[d];r(n,u)||t&&r(t,u)||s(n,u,c(e,u))}}},function(n,e,t){"use strict";var r=t(122);n.exports=function(n){var e=+n;return e!=e||0===e?0:r(e)}},function(n,e,t){"use strict";var r=t(132),i=t(28),a=t(133);n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n,e=!1,t={};try{(n=r(Object.prototype,"__proto__","set"))(t,[]),e=t instanceof Array}catch(n){}return function(t,r){return i(t),a(r),e?n(t,r):t.__proto__=r,t}}():void 0)},function(n,e){n.exports=function(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}},function(n,e){var t="object"==typeof global&&global&&global.Object===Object&&global;n.exports=t},function(n,e,t){var r=t(21),i=t(160),a=t(161),o=t(162),l=t(163),s=t(164);function c(n){var e=this.__data__=new r(n);this.size=e.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=l,c.prototype.set=s,n.exports=c},function(n,e){n.exports=function(n,e){return n===e||n!=n&&e!=e}},function(n,e,t){var r=t(14),i=t(41);n.exports=function(n){if(!i(n))return!1;var e=r(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(n,e){var t=Function.prototype.toString;n.exports=function(n){if(null!=n){try{return t.call(n)}catch(n){}try{return n+""}catch(n){}}return""}},function(n,e,t){var r=t(181),i=t(12);n.exports=function n(e,t,a,o,l){return e===t||(null==e||null==t||!i(e)&&!i(t)?e!=e&&t!=t:r(e,t,a,o,n,l))}},function(n,e,t){var r=t(76),i=t(184),a=t(77);n.exports=function(n,e,t,o,l,s){var c=1&t,d=n.length,u=e.length;if(d!=u&&!(c&&u>d))return!1;var p=s.get(n),m=s.get(e);if(p&&m)return p==e&&m==n;var h=-1,g=!0,v=2&t?new r:void 0;for(s.set(n,e),s.set(e,n);++h<d;){var f=n[h],b=e[h];if(o)var y=c?o(b,f,h,e,n,s):o(f,b,h,n,e,s);if(void 0!==y){if(y)continue;g=!1;break}if(v){if(!i(e,(function(n,e){if(!a(v,e)&&(f===n||l(f,n,t,o,s)))return v.push(e)}))){g=!1;break}}else if(f!==b&&!l(f,b,t,o,s)){g=!1;break}}return s.delete(n),s.delete(e),g}},function(n,e,t){var r=t(42),i=t(182),a=t(183);function o(n){var e=-1,t=null==n?0:n.length;for(this.__data__=new r;++e<t;)this.add(n[e])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,n.exports=o},function(n,e){n.exports=function(n,e){return n.has(e)}},function(n,e,t){var r=t(194),i=t(200),a=t(82);n.exports=function(n){return a(n)?r(n):i(n)}},function(n,e,t){(function(n){var r=t(8),i=t(196),a=e&&!e.nodeType&&e,o=a&&"object"==typeof n&&n&&!n.nodeType&&n,l=o&&o.exports===a?r.Buffer:void 0,s=(l?l.isBuffer:void 0)||i;n.exports=s}).call(this,t(50)(n))},function(n,e){var t=/^(?:0|[1-9]\d*)$/;n.exports=function(n,e){var r=typeof n;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&t.test(n))&&n>-1&&n%1==0&&n<e}},function(n,e,t){var r=t(197),i=t(198),a=t(199),o=a&&a.isTypedArray,l=o?i(o):r;n.exports=l},function(n,e,t){var r=t(72),i=t(44);n.exports=function(n){return null!=n&&i(n.length)&&!r(n)}},function(n,e,t){var r=t(10)(t(8),"Set");n.exports=r},function(n,e,t){var r=t(41);n.exports=function(n){return n==n&&!r(n)}},function(n,e){n.exports=function(n,e){return function(t){return null!=t&&(t[n]===e&&(void 0!==e||n in Object(t)))}}},function(n,e,t){var r=t(87),i=t(25);n.exports=function(n,e){for(var t=0,a=(e=r(e,n)).length;null!=n&&t<a;)n=n[i(e[t++])];return t&&t==a?n:void 0}},function(n,e,t){var r=t(6),i=t(45),a=t(211),o=t(214);n.exports=function(n,e){return r(n)?n:i(n,e)?[n]:a(o(n))}},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){var r=t(147),i=t(152),a=t(223),o=t(231),l=t(240),s=t(105),c=a((function(n){var e=s(n);return l(e)&&(e=void 0),o(r(n,1,l,!0),i(e,2))}));n.exports=c},function(n,e,t){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var r=/["'&<>]/;n.exports=function(n){var e,t=""+n,i=r.exec(t);if(!i)return t;var a="",o=0,l=0;for(o=i.index;o<t.length;o++){switch(t.charCodeAt(o)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}l!==o&&(a+=t.substring(l,o)),l=o+1,a+=e}return l!==o?a+t.substring(l,o):a}},function(n,e,t){"use strict";
/**
 * @file Embedded JavaScript templating engine. {@link http://ejs.co}
 * @author Matthew Eernisse <mde@fleegix.org>
 * @author Tiancheng "Timothy" Gu <timothygu99@gmail.com>
 * @project EJS
 * @license {@link http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0}
 */var r=t(249),i=t(250),a=t(251),o=!1,l=t(252).version,s=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],c=s.concat("cache"),d=/^\uFEFF/;function u(n,t){var i,a,o=t.views,l=/^[A-Za-z]+:\\|^\//.exec(n);if(l&&l.length)i=e.resolveInclude(n.replace(/^\/*/,""),t.root||"/",!0);else if(t.filename&&(a=e.resolveInclude(n,t.filename),r.existsSync(a)&&(i=a)),i||Array.isArray(o)&&o.some((function(t){return a=e.resolveInclude(n,t,!0),r.existsSync(a)}))&&(i=a),!i)throw new Error('Could not find the include file "'+t.escapeFunction(n)+'"');return i}function p(n,t){var r,i=n.filename,a=arguments.length>1;if(n.cache){if(!i)throw new Error("cache option requires a filename");if(r=e.cache.get(i))return r;a||(t=h(i).toString().replace(d,""))}else if(!a){if(!i)throw new Error("Internal EJS error: no file name or template provided");t=h(i).toString().replace(d,"")}return r=e.compile(t,n),n.cache&&e.cache.set(i,r),r}function m(n,t,r){var i;if(!r){if("function"==typeof e.promiseImpl)return new e.promiseImpl((function(e,r){try{e(i=p(n)(t))}catch(n){r(n)}}));throw new Error("Please provide a callback function")}try{i=p(n)(t)}catch(n){return r(n)}r(null,i)}function h(n){return e.fileLoader(n)}function g(n,e,t,r,i){var a=e.split("\n"),o=Math.max(r-3,0),l=Math.min(a.length,r+3),s=i(t),c=a.slice(o,l).map((function(n,e){var t=e+o+1;return(t==r?" >> ":"    ")+t+"| "+n})).join("\n");throw n.path=s,n.message=(s||"ejs")+":"+r+"\n"+c+"\n\n"+n.message,n}function v(n){return n.replace(/;(\s*$)/,"$1")}function f(n,t){t=t||{};var r={};this.templateText=n,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",this.dependencies=[],r.client=t.client||!1,r.escapeFunction=t.escape||t.escapeFunction||a.escapeXML,r.compileDebug=!1!==t.compileDebug,r.debug=!!t.debug,r.filename=t.filename,r.openDelimiter=t.openDelimiter||e.openDelimiter||"<",r.closeDelimiter=t.closeDelimiter||e.closeDelimiter||">",r.delimiter=t.delimiter||e.delimiter||"%",r.strict=t.strict||!1,r.context=t.context,r.cache=t.cache||!1,r.rmWhitespace=t.rmWhitespace,r.root=t.root,r.outputFunctionName=t.outputFunctionName,r.localsName=t.localsName||e.localsName||"locals",r.views=t.views,r.async=t.async,r.destructuredLocals=t.destructuredLocals,r.legacyInclude=void 0===t.legacyInclude||!!t.legacyInclude,r.strict?r._with=!1:r._with=void 0===t._with||t._with,this.opts=r,this.regex=this.createRegex()}e.cache=a.cache,e.fileLoader=r.readFileSync,e.localsName="locals",e.promiseImpl=new Function("return this;")().Promise,e.resolveInclude=function(n,e,t){var r=i.dirname,a=i.extname,o=(0,i.resolve)(t?e:r(e),n);return a(n)||(o+=".ejs"),o},e.compile=function(n,e){return e&&e.scope&&(o||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),o=!0),e.context||(e.context=e.scope),delete e.scope),new f(n,e).compile()},e.render=function(n,e,t){var r=e||{},i=t||{};return 2==arguments.length&&a.shallowCopyFromList(i,r,s),p(i,n)(r)},e.renderFile=function(){var n,e,t,r=Array.prototype.slice.call(arguments),i=r.shift(),o={filename:i};return"function"==typeof arguments[arguments.length-1]&&(n=r.pop()),r.length?(e=r.shift(),r.length?a.shallowCopy(o,r.pop()):(e.settings&&(e.settings.views&&(o.views=e.settings.views),e.settings["view cache"]&&(o.cache=!0),(t=e.settings["view options"])&&a.shallowCopy(o,t)),a.shallowCopyFromList(o,e,c)),o.filename=i):e={},m(o,e,n)},e.Template=f,e.clearCache=function(){e.cache.reset()},f.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},f.prototype={createRegex:function(){var n="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",e=a.escapeRegExpChars(this.opts.delimiter),t=a.escapeRegExpChars(this.opts.openDelimiter),r=a.escapeRegExpChars(this.opts.closeDelimiter);return n=n.replace(/%/g,e).replace(/</g,t).replace(/>/g,r),new RegExp(n)},compile:function(){var n,e,t,r=this.opts,o="",l="",s=r.escapeFunction;if(!this.source){if(this.generateSource(),o+='  var __output = "";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n',r.outputFunctionName&&(o+="  var "+r.outputFunctionName+" = __append;\n"),r.destructuredLocals&&r.destructuredLocals.length){for(var c="  var __locals = ("+r.localsName+" || {}),\n",d=0;d<r.destructuredLocals.length;d++){var m=r.destructuredLocals[d];d>0&&(c+=",\n  "),c+=m+" = __locals."+m}o+=c+";\n"}!1!==r._with&&(o+="  with ("+r.localsName+" || {}) {\n",l+="  }\n"),l+="  return __output;\n",this.source=o+this.source+l}n=r.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+(r.filename?JSON.stringify(r.filename):"undefined")+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line, escapeFn);\n}\n":this.source,r.client&&(n="escapeFn = escapeFn || "+s.toString()+";\n"+n,r.compileDebug&&(n="rethrow = rethrow || "+g.toString()+";\n"+n)),r.strict&&(n='"use strict";\n'+n),r.debug&&console.log(n),r.compileDebug&&r.filename&&(n=n+"\n//# sourceURL="+r.filename+"\n");try{if(r.async)try{t=new Function("return (async function(){}).constructor;")()}catch(n){throw n instanceof SyntaxError?new Error("This environment does not support async/await"):n}else t=Function;e=new t(r.localsName+", escapeFn, include, rethrow",n)}catch(n){throw n instanceof SyntaxError&&(r.filename&&(n.message+=" in "+r.filename),n.message+=" while compiling ejs\n\n",n.message+="If the above error is not helpful, you may want to try EJS-Lint:\n",n.message+="https://github.com/RyanZim/EJS-Lint",r.async||(n.message+="\n",n.message+="Or, if you meant to create an async function, pass `async: true` as an option.")),n}var h=r.client?e:function(n){return e.apply(r.context,[n||{},s,function(e,t){var i=a.shallowCopy({},n);return t&&(i=a.shallowCopy(i,t)),function(n,e){var t=a.shallowCopy({},e);return t.filename=u(n,t),p(t)}(e,r)(i)},g])};if(h.dependencies=this.dependencies,r.filename&&"function"==typeof Object.defineProperty){var v=r.filename,f=i.basename(v,i.extname(v));try{Object.defineProperty(h,"name",{value:f,writable:!1,enumerable:!1,configurable:!0})}catch(n){}}return h},generateSource:function(){var n=this.opts;n.rmWhitespace&&(this.templateText=this.templateText.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var t=this,r=this.parseTemplateText(),i=this.opts.delimiter,o=this.opts.openDelimiter,l=this.opts.closeDelimiter;r&&r.length&&r.forEach((function(s,c){var p,m,g,v,b,y;if(0===s.indexOf(o+i)&&0!==s.indexOf(o+i+i)&&(m=r[c+2])!=i+l&&m!="-"+i+l&&m!="_"+i+l)throw new Error('Could not find matching close tag for "'+s+'".');if(n.legacyInclude&&(g=s.match(/^\s*include\s+(\S+)/))&&(p=r[c-1])&&(p==o+i||p==o+i+"-"||p==o+i+"_"))return v=a.shallowCopy({},t.opts),b=function(n,e){var t,r,i=a.shallowCopy({},e);r=h(t=u(n,i)).toString().replace(d,""),i.filename=t;var o=new f(r,i);return o.generateSource(),{source:o.source,filename:t,template:r}}(g[1],v),y=t.opts.compileDebug?"    ; (function(){\n      var __line = 1\n      , __lines = "+JSON.stringify(b.template)+"\n      , __filename = "+JSON.stringify(b.filename)+";\n      try {\n"+b.source+"      } catch (e) {\n        rethrow(e, __lines, __filename, __line, escapeFn);\n      }\n    ; }).call(this)\n":"    ; (function(){\n"+b.source+"    ; }).call(this)\n",t.source+=y,void t.dependencies.push(e.resolveInclude(g[1],v.filename));t.scanLine(s)}))},parseTemplateText:function(){for(var n,e=this.templateText,t=this.regex,r=t.exec(e),i=[];r;)0!==(n=r.index)&&(i.push(e.substring(0,n)),e=e.slice(n)),i.push(r[0]),e=e.slice(r[0].length),r=t.exec(e);return e&&i.push(e),i},_addOutput:function(n){if(this.truncate&&(n=n.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1),!n)return n;n=(n=(n=(n=n.replace(/\\/g,"\\\\")).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/"/g,'\\"'),this.source+='    ; __append("'+n+'")\n'},scanLine:function(n){var e,t=this.opts.delimiter,r=this.opts.openDelimiter,i=this.opts.closeDelimiter;switch(e=n.split("\n").length-1,n){case r+t:case r+t+"_":this.mode=f.modes.EVAL;break;case r+t+"=":this.mode=f.modes.ESCAPED;break;case r+t+"-":this.mode=f.modes.RAW;break;case r+t+"#":this.mode=f.modes.COMMENT;break;case r+t+t:this.mode=f.modes.LITERAL,this.source+='    ; __append("'+n.replace(r+t+t,r+t)+'")\n';break;case t+t+i:this.mode=f.modes.LITERAL,this.source+='    ; __append("'+n.replace(t+t+i,t+i)+'")\n';break;case t+i:case"-"+t+i:case"_"+t+i:this.mode==f.modes.LITERAL&&this._addOutput(n),this.mode=null,this.truncate=0===n.indexOf("-")||0===n.indexOf("_");break;default:if(this.mode){switch(this.mode){case f.modes.EVAL:case f.modes.ESCAPED:case f.modes.RAW:n.lastIndexOf("//")>n.lastIndexOf("\n")&&(n+="\n")}switch(this.mode){case f.modes.EVAL:this.source+="    ; "+n+"\n";break;case f.modes.ESCAPED:this.source+="    ; __append(escapeFn("+v(n)+"))\n";break;case f.modes.RAW:this.source+="    ; __append("+v(n)+")\n";break;case f.modes.COMMENT:break;case f.modes.LITERAL:this._addOutput(n)}}else this._addOutput(n)}this.opts.compileDebug&&e&&(this.currentLine+=e,this.source+="    ; __line = "+this.currentLine+"\n")}},e.escapeXML=a.escapeXML,e.__express=e.renderFile,e.VERSION=l,e.name="ejs","undefined"!=typeof window&&(window.ejs=e)},function(n,e,t){"use strict";t.r(e);var r={name:"CodeBlock",props:{title:{type:String,required:!0},active:{type:Boolean,default:!1}}},i=(t(243),t(4)),a=Object(i.a)(r,(function(){return(0,this._self._c)("div",{staticClass:"theme-code-block",class:{"theme-code-block__active":this.active}},[this._t("default")],2)}),[],!1,null,"4f1e9d0c",null);e.default=a.exports},function(n,e,t){"use strict";t.r(e);var r={name:"CodeGroup",data:()=>({codeTabs:[],activeCodeTabIndex:-1}),watch:{activeCodeTabIndex(n){this.codeTabs.forEach(n=>{n.elm.classList.remove("theme-code-block__active")}),this.codeTabs[n].elm.classList.add("theme-code-block__active")}},mounted(){this.codeTabs=(this.$slots.default||[]).filter(n=>Boolean(n.componentOptions)).map((n,e)=>(""===n.componentOptions.propsData.active&&(this.activeCodeTabIndex=e),{title:n.componentOptions.propsData.title,elm:n.elm})),-1===this.activeCodeTabIndex&&this.codeTabs.length>0&&(this.activeCodeTabIndex=0)},methods:{changeCodeTab(n){this.activeCodeTabIndex=n}}},i=(t(244),t(4)),a=Object(i.a)(r,(function(){var n=this,e=n._self._c;return e("div",{staticClass:"theme-code-group"},[e("div",{staticClass:"theme-code-group__nav"},[e("ul",{staticClass:"theme-code-group__ul"},n._l(n.codeTabs,(function(t,r){return e("li",{key:t.title,staticClass:"theme-code-group__li"},[e("button",{staticClass:"theme-code-group__nav-tab",class:{"theme-code-group__nav-tab-active":r===n.activeCodeTabIndex},on:{click:function(e){return n.changeCodeTab(r)}}},[n._v("\n            "+n._s(t.title)+"\n          ")])])})),0)]),n._v(" "),n._t("default"),n._v(" "),n.codeTabs.length<1?e("pre",{staticClass:"pre-blank"},[n._v("// Make sure to add code blocks to your code group")]):n._e()],2)}),[],!1,null,"2f5f1757",null);e.default=a.exports},function(n,e,t){"use strict";var r=t(1),i=t(13),a=t(102),o=t(38);n.exports=function(n,e,t,l){l||(l={});var s=l.enumerable,c=void 0!==l.name?l.name:e;if(r(t)&&a(t,c,l),l.global)s?n[e]=t:o(e,t);else{try{l.unsafe?n[e]&&(s=!0):delete n[e]}catch(n){}s?n[e]=t:i.f(n,e,{value:t,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})}return n}},function(n,e,t){"use strict";n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(n,e,t){"use strict";var r=t(138),i=String;n.exports=function(n){if("Symbol"===r(n))throw new TypeError("Cannot convert a Symbol value to a string");return i(n)}},function(n,e,t){"use strict";var r=t(0),i=t(9),a=r.document,o=i(a)&&i(a.createElement);n.exports=function(n){return o?a.createElement(n):{}}},function(n,e,t){"use strict";var r=t(5),i=t(3);n.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},function(n,e,t){"use strict";var r=t(2),i=t(3),a=t(1),o=t(7),l=t(5),s=t(114).CONFIGURABLE,c=t(115),d=t(116),u=d.enforce,p=d.get,m=String,h=Object.defineProperty,g=r("".slice),v=r("".replace),f=r([].join),b=l&&!i((function(){return 8!==h((function(){}),"length",{value:8}).length})),y=String(String).split("String"),x=n.exports=function(n,e,t){"Symbol("===g(m(e),0,7)&&(e="["+v(m(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),t&&t.getter&&(e="get "+e),t&&t.setter&&(e="set "+e),(!o(n,"name")||s&&n.name!==e)&&(l?h(n,"name",{value:e,configurable:!0}):n.name=e),b&&t&&o(t,"arity")&&n.length!==t.arity&&h(n,"length",{value:t.arity});try{t&&o(t,"constructor")&&t.constructor?l&&h(n,"prototype",{writable:!1}):n.prototype&&(n.prototype=void 0)}catch(n){}var r=u(n);return o(r,"source")||(r.source=f(y,"string"==typeof e?e:"")),n};Function.prototype.toString=x((function(){return a(this)&&p(this).source||c(this)}),"toString")},function(n,e,t){"use strict";var r=t(61),i=t(63),a=r("keys");n.exports=function(n){return a[n]||(a[n]=i(n))}},function(n,e,t){"use strict";var r=t(2),i=t(7),a=t(30),o=t(120).indexOf,l=t(49),s=r([].push);n.exports=function(n,e){var t,r=a(n),c=0,d=[];for(t in r)!i(l,t)&&i(r,t)&&s(d,t);for(;e.length>c;)i(r,t=e[c++])&&(~o(d,t)||s(d,t));return d}},function(n,e){n.exports=function(n){var e=null==n?0:n.length;return e?n[e-1]:void 0}},function(n,e,t){n.exports=t(255)},function(n,e,t){"use strict";var r=t(18),i=t(126).left,a=t(127),o=t(60);r({target:"Array",proto:!0,forced:!t(128)&&o>79&&o<83||!a("reduce")},{reduce:function(n){var e=arguments.length;return i(this,n,e,e>1?arguments[1]:void 0)}})},function(n,e,t){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);e.f=a?function(n){var e=i(this,n);return!!e&&e.enumerable}:r},function(n,e,t){"use strict";var r=t(35),i=t(9),a=t(56),o=t(111),l=t(113),s=t(20),c=TypeError,d=s("toPrimitive");n.exports=function(n,e){if(!i(n)||a(n))return n;var t,s=o(n,d);if(s){if(void 0===e&&(e="default"),t=r(s,n,e),!i(t)||a(t))return t;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),l(n,e)}},function(n,e,t){"use strict";n.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},function(n,e,t){"use strict";var r=t(32),i=t(54);n.exports=function(n,e){var t=n[e];return i(t)?void 0:r(t)}},function(n,e,t){"use strict";var r=String;n.exports=function(n){try{return r(n)}catch(n){return"Object"}}},function(n,e,t){"use strict";var r=t(35),i=t(1),a=t(9),o=TypeError;n.exports=function(n,e){var t,l;if("string"===e&&i(t=n.toString)&&!a(l=r(t,n)))return l;if(i(t=n.valueOf)&&!a(l=r(t,n)))return l;if("string"!==e&&i(t=n.toString)&&!a(l=r(t,n)))return l;throw new o("Can't convert object to primitive value")}},function(n,e,t){"use strict";var r=t(5),i=t(7),a=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,l=i(a,"name"),s=l&&"something"===function(){}.name,c=l&&(!r||r&&o(a,"name").configurable);n.exports={EXISTS:l,PROPER:s,CONFIGURABLE:c}},function(n,e,t){"use strict";var r=t(2),i=t(1),a=t(37),o=r(Function.toString);i(a.inspectSource)||(a.inspectSource=function(n){return o(n)}),n.exports=a.inspectSource},function(n,e,t){"use strict";var r,i,a,o=t(117),l=t(0),s=t(9),c=t(15),d=t(7),u=t(37),p=t(103),m=t(49),h=l.TypeError,g=l.WeakMap;if(o||u.state){var v=u.state||(u.state=new g);v.get=v.get,v.has=v.has,v.set=v.set,r=function(n,e){if(v.has(n))throw new h("Object already initialized");return e.facade=n,v.set(n,e),e},i=function(n){return v.get(n)||{}},a=function(n){return v.has(n)}}else{var f=p("state");m[f]=!0,r=function(n,e){if(d(n,f))throw new h("Object already initialized");return e.facade=n,c(n,f,e),e},i=function(n){return d(n,f)?n[f]:{}},a=function(n){return d(n,f)}}n.exports={set:r,get:i,has:a,enforce:function(n){return a(n)?i(n):r(n,{})},getterFor:function(n){return function(e){var t;if(!s(e)||(t=i(e)).type!==n)throw new h("Incompatible receiver, "+n+" required");return t}}}},function(n,e,t){"use strict";var r=t(0),i=t(1),a=r.WeakMap;n.exports=i(a)&&/native code/.test(String(a))},function(n,e,t){"use strict";var r=t(31),i=t(2),a=t(119),o=t(124),l=t(28),s=i([].concat);n.exports=r("Reflect","ownKeys")||function(n){var e=a.f(l(n)),t=o.f;return t?s(e,t(n)):e}},function(n,e,t){"use strict";var r=t(104),i=t(98).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(n){return r(n,i)}},function(n,e,t){"use strict";var r=t(30),i=t(121),a=t(34),o=function(n){return function(e,t,o){var l,s=r(e),c=a(s),d=i(o,c);if(n&&t!=t){for(;c>d;)if((l=s[d++])!=l)return!0}else for(;c>d;d++)if((n||d in s)&&s[d]===t)return n||d||0;return!n&&-1}};n.exports={includes:o(!0),indexOf:o(!1)}},function(n,e,t){"use strict";var r=t(66),i=Math.max,a=Math.min;n.exports=function(n,e){var t=r(n);return t<0?i(t+e,0):a(t,e)}},function(n,e,t){"use strict";var r=Math.ceil,i=Math.floor;n.exports=Math.trunc||function(n){var e=+n;return(e>0?i:r)(e)}},function(n,e,t){"use strict";var r=t(66),i=Math.min;n.exports=function(n){var e=r(n);return e>0?i(e,9007199254740991):0}},function(n,e,t){"use strict";e.f=Object.getOwnPropertySymbols},function(n,e,t){"use strict";var r=t(3),i=t(1),a=/#|\.prototype\./,o=function(n,e){var t=s[l(n)];return t===d||t!==c&&(i(e)?r(e):!!e)},l=o.normalize=function(n){return String(n).replace(a,".").toLowerCase()},s=o.data={},c=o.NATIVE="N",d=o.POLYFILL="P";n.exports=o},function(n,e,t){"use strict";var r=t(32),i=t(33),a=t(48),o=t(34),l=TypeError,s=function(n){return function(e,t,s,c){var d=i(e),u=a(d),p=o(d);r(t);var m=n?p-1:0,h=n?-1:1;if(s<2)for(;;){if(m in u){c=u[m],m+=h;break}if(m+=h,n?m<0:p<=m)throw new l("Reduce of empty array with no initial value")}for(;n?m>=0:p>m;m+=h)m in u&&(c=t(c,u[m],m,d));return c}};n.exports={left:s(!1),right:s(!0)}},function(n,e,t){"use strict";var r=t(3);n.exports=function(n,e){var t=[][n];return!!t&&r((function(){t.call(null,e||function(){return 1},1)}))}},function(n,e,t){"use strict";var r=t(0),i=t(19);n.exports="process"===i(r.process)},function(n,e,t){"use strict";var r=t(18),i=t(0),a=t(130),o=t(131),l=i.WebAssembly,s=7!==new Error("e",{cause:7}).cause,c=function(n,e){var t={};t[n]=o(n,e,s),r({global:!0,constructor:!0,arity:1,forced:s},t)},d=function(n,e){if(l&&l[n]){var t={};t[n]=o("WebAssembly."+n,e,s),r({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:s},t)}};c("Error",(function(n){return function(e){return a(n,this,arguments)}})),c("EvalError",(function(n){return function(e){return a(n,this,arguments)}})),c("RangeError",(function(n){return function(e){return a(n,this,arguments)}})),c("ReferenceError",(function(n){return function(e){return a(n,this,arguments)}})),c("SyntaxError",(function(n){return function(e){return a(n,this,arguments)}})),c("TypeError",(function(n){return function(e){return a(n,this,arguments)}})),c("URIError",(function(n){return function(e){return a(n,this,arguments)}})),d("CompileError",(function(n){return function(e){return a(n,this,arguments)}})),d("LinkError",(function(n){return function(e){return a(n,this,arguments)}})),d("RuntimeError",(function(n){return function(e){return a(n,this,arguments)}}))},function(n,e,t){"use strict";var r=t(29),i=Function.prototype,a=i.apply,o=i.call;n.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(a):function(){return o.apply(a,arguments)})},function(n,e,t){"use strict";var r=t(31),i=t(7),a=t(15),o=t(57),l=t(67),s=t(65),c=t(135),d=t(136),u=t(137),p=t(140),m=t(141),h=t(5),g=t(62);n.exports=function(n,e,t,v){var f=v?2:1,b=n.split("."),y=b[b.length-1],x=r.apply(null,b);if(x){var w=x.prototype;if(!g&&i(w,"cause")&&delete w.cause,!t)return x;var T=r("Error"),C=e((function(n,e){var t=u(v?e:n,void 0),r=v?new x(n):new x;return void 0!==t&&a(r,"message",t),m(r,C,r.stack,2),this&&o(w,this)&&d(r,this,C),arguments.length>f&&p(r,arguments[f]),r}));if(C.prototype=w,"Error"!==y?l?l(C,T):s(C,T,{name:!0}):h&&"stackTraceLimit"in x&&(c(C,x,"stackTraceLimit"),c(C,x,"prepareStackTrace")),s(C,x),!g)try{w.name!==y&&a(w,"name",y),w.constructor=C}catch(n){}return C}}},function(n,e,t){"use strict";var r=t(2),i=t(32);n.exports=function(n,e,t){try{return r(i(Object.getOwnPropertyDescriptor(n,e)[t]))}catch(n){}}},function(n,e,t){"use strict";var r=t(134),i=String,a=TypeError;n.exports=function(n){if(r(n))return n;throw new a("Can't set "+i(n)+" as a prototype")}},function(n,e,t){"use strict";var r=t(9);n.exports=function(n){return r(n)||null===n}},function(n,e,t){"use strict";var r=t(13).f;n.exports=function(n,e,t){t in n||r(n,t,{configurable:!0,get:function(){return e[t]},set:function(n){e[t]=n}})}},function(n,e,t){"use strict";var r=t(1),i=t(9),a=t(67);n.exports=function(n,e,t){var o,l;return a&&r(o=e.constructor)&&o!==t&&i(l=o.prototype)&&l!==t.prototype&&a(n,l),n}},function(n,e,t){"use strict";var r=t(99);n.exports=function(n,e){return void 0===n?arguments.length<2?"":e:r(n)}},function(n,e,t){"use strict";var r=t(139),i=t(1),a=t(19),o=t(20)("toStringTag"),l=Object,s="Arguments"===a(function(){return arguments}());n.exports=r?a:function(n){var e,t,r;return void 0===n?"Undefined":null===n?"Null":"string"==typeof(t=function(n,e){try{return n[e]}catch(n){}}(e=l(n),o))?t:s?a(e):"Object"===(r=a(e))&&i(e.callee)?"Arguments":r}},function(n,e,t){"use strict";var r={};r[t(20)("toStringTag")]="z",n.exports="[object z]"===String(r)},function(n,e,t){"use strict";var r=t(9),i=t(15);n.exports=function(n,e){r(e)&&"cause"in e&&i(n,"cause",e.cause)}},function(n,e,t){"use strict";var r=t(15),i=t(142),a=t(143),o=Error.captureStackTrace;n.exports=function(n,e,t,l){a&&(o?o(n,e):r(n,"stack",i(t,l)))}},function(n,e,t){"use strict";var r=t(2),i=Error,a=r("".replace),o=String(new i("zxcasd").stack),l=/\n\s*at [^:]*:[^\n]*/,s=l.test(o);n.exports=function(n,e){if(s&&"string"==typeof n&&!i.prepareStackTrace)for(;e--;)n=a(n,l,"");return n}},function(n,e,t){"use strict";var r=t(3),i=t(36);n.exports=!r((function(){var n=new Error("a");return!("stack"in n)||(Object.defineProperty(n,"stack",i(1,7)),7!==n.stack)}))},function(n,e,t){"use strict";var r=t(5),i=t(145),a=TypeError,o=Object.getOwnPropertyDescriptor,l=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(n){return n instanceof TypeError}}();n.exports=l?function(n,e){if(i(n)&&!o(n,"length").writable)throw new a("Cannot set read only .length");return n.length=e}:function(n,e){return n.length=e}},function(n,e,t){"use strict";var r=t(19);n.exports=Array.isArray||function(n){return"Array"===r(n)}},function(n,e,t){"use strict";var r=TypeError;n.exports=function(n){if(n>9007199254740991)throw r("Maximum allowed index exceeded");return n}},function(n,e,t){var r=t(68),i=t(148);n.exports=function n(e,t,a,o,l){var s=-1,c=e.length;for(a||(a=i),l||(l=[]);++s<c;){var d=e[s];t>0&&a(d)?t>1?n(d,t-1,a,o,l):r(l,d):o||(l[l.length]=d)}return l}},function(n,e,t){var r=t(16),i=t(39),a=t(6),o=r?r.isConcatSpreadable:void 0;n.exports=function(n){return a(n)||i(n)||!!(o&&n&&n[o])}},function(n,e,t){var r=t(14),i=t(12);n.exports=function(n){return i(n)&&"[object Arguments]"==r(n)}},function(n,e,t){var r=t(16),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,l=r?r.toStringTag:void 0;n.exports=function(n){var e=a.call(n,l),t=n[l];try{n[l]=void 0;var r=!0}catch(n){}var i=o.call(n);return r&&(e?n[l]=t:delete n[l]),i}},function(n,e){var t=Object.prototype.toString;n.exports=function(n){return t.call(n)}},function(n,e,t){var r=t(153),i=t(209),a=t(47),o=t(6),l=t(220);n.exports=function(n){return"function"==typeof n?n:null==n?a:"object"==typeof n?o(n)?i(n[0],n[1]):r(n):l(n)}},function(n,e,t){var r=t(154),i=t(208),a=t(85);n.exports=function(n){var e=i(n);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(t){return t===n||r(t,n,e)}}},function(n,e,t){var r=t(70),i=t(74);n.exports=function(n,e,t,a){var o=t.length,l=o,s=!a;if(null==n)return!l;for(n=Object(n);o--;){var c=t[o];if(s&&c[2]?c[1]!==n[c[0]]:!(c[0]in n))return!1}for(;++o<l;){var d=(c=t[o])[0],u=n[d],p=c[1];if(s&&c[2]){if(void 0===u&&!(d in n))return!1}else{var m=new r;if(a)var h=a(u,p,d,n,e,m);if(!(void 0===h?i(p,u,3,a,m):h))return!1}}return!0}},function(n,e){n.exports=function(){this.__data__=[],this.size=0}},function(n,e,t){var r=t(22),i=Array.prototype.splice;n.exports=function(n){var e=this.__data__,t=r(e,n);return!(t<0)&&(t==e.length-1?e.pop():i.call(e,t,1),--this.size,!0)}},function(n,e,t){var r=t(22);n.exports=function(n){var e=this.__data__,t=r(e,n);return t<0?void 0:e[t][1]}},function(n,e,t){var r=t(22);n.exports=function(n){return r(this.__data__,n)>-1}},function(n,e,t){var r=t(22);n.exports=function(n,e){var t=this.__data__,i=r(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}},function(n,e,t){var r=t(21);n.exports=function(){this.__data__=new r,this.size=0}},function(n,e){n.exports=function(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}},function(n,e){n.exports=function(n){return this.__data__.get(n)}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e,t){var r=t(21),i=t(40),a=t(42);n.exports=function(n,e){var t=this.__data__;if(t instanceof r){var o=t.__data__;if(!i||o.length<199)return o.push([n,e]),this.size=++t.size,this;t=this.__data__=new a(o)}return t.set(n,e),this.size=t.size,this}},function(n,e,t){var r=t(72),i=t(166),a=t(41),o=t(73),l=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,d=s.toString,u=c.hasOwnProperty,p=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(n){return!(!a(n)||i(n))&&(r(n)?p:l).test(o(n))}},function(n,e,t){var r,i=t(167),a=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";n.exports=function(n){return!!a&&a in n}},function(n,e,t){var r=t(8)["__core-js_shared__"];n.exports=r},function(n,e){n.exports=function(n,e){return null==n?void 0:n[e]}},function(n,e,t){var r=t(170),i=t(21),a=t(40);n.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},function(n,e,t){var r=t(171),i=t(172),a=t(173),o=t(174),l=t(175);function s(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=l,n.exports=s},function(n,e,t){var r=t(23);n.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(n,e){n.exports=function(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}},function(n,e,t){var r=t(23),i=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;if(r){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return i.call(e,n)?e[n]:void 0}},function(n,e,t){var r=t(23),i=Object.prototype.hasOwnProperty;n.exports=function(n){var e=this.__data__;return r?void 0!==e[n]:i.call(e,n)}},function(n,e,t){var r=t(23);n.exports=function(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(n,e,t){var r=t(24);n.exports=function(n){var e=r(this,n).delete(n);return this.size-=e?1:0,e}},function(n,e){n.exports=function(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}},function(n,e,t){var r=t(24);n.exports=function(n){return r(this,n).get(n)}},function(n,e,t){var r=t(24);n.exports=function(n){return r(this,n).has(n)}},function(n,e,t){var r=t(24);n.exports=function(n,e){var t=r(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}},function(n,e,t){var r=t(70),i=t(75),a=t(185),o=t(188),l=t(204),s=t(6),c=t(79),d=t(81),u="[object Object]",p=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,m,h,g){var v=s(n),f=s(e),b=v?"[object Array]":l(n),y=f?"[object Array]":l(e),x=(b="[object Arguments]"==b?u:b)==u,w=(y="[object Arguments]"==y?u:y)==u,T=b==y;if(T&&c(n)){if(!c(e))return!1;v=!0,x=!1}if(T&&!x)return g||(g=new r),v||d(n)?i(n,e,t,m,h,g):a(n,e,b,t,m,h,g);if(!(1&t)){var C=x&&p.call(n,"__wrapped__"),I=w&&p.call(e,"__wrapped__");if(C||I){var E=C?n.value():n,S=I?e.value():e;return g||(g=new r),h(E,S,t,m,g)}}return!!T&&(g||(g=new r),o(n,e,t,m,h,g))}},function(n,e){n.exports=function(n){return this.__data__.set(n,"__lodash_hash_undefined__"),this}},function(n,e){n.exports=function(n){return this.__data__.has(n)}},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}},function(n,e,t){var r=t(16),i=t(186),a=t(71),o=t(75),l=t(187),s=t(43),c=r?r.prototype:void 0,d=c?c.valueOf:void 0;n.exports=function(n,e,t,r,c,u,p){switch(t){case"[object DataView]":if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(n.byteLength!=e.byteLength||!u(new i(n),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+n,+e);case"[object Error]":return n.name==e.name&&n.message==e.message;case"[object RegExp]":case"[object String]":return n==e+"";case"[object Map]":var m=l;case"[object Set]":var h=1&r;if(m||(m=s),n.size!=e.size&&!h)return!1;var g=p.get(n);if(g)return g==e;r|=2,p.set(n,e);var v=o(m(n),m(e),r,c,u,p);return p.delete(n),v;case"[object Symbol]":if(d)return d.call(n)==d.call(e)}return!1}},function(n,e,t){var r=t(8).Uint8Array;n.exports=r},function(n,e){n.exports=function(n){var e=-1,t=Array(n.size);return n.forEach((function(n,r){t[++e]=[r,n]})),t}},function(n,e,t){var r=t(189),i=Object.prototype.hasOwnProperty;n.exports=function(n,e,t,a,o,l){var s=1&t,c=r(n),d=c.length;if(d!=r(e).length&&!s)return!1;for(var u=d;u--;){var p=c[u];if(!(s?p in e:i.call(e,p)))return!1}var m=l.get(n),h=l.get(e);if(m&&h)return m==e&&h==n;var g=!0;l.set(n,e),l.set(e,n);for(var v=s;++u<d;){var f=n[p=c[u]],b=e[p];if(a)var y=s?a(b,f,p,e,n,l):a(f,b,p,n,e,l);if(!(void 0===y?f===b||o(f,b,t,a,l):y)){g=!1;break}v||(v="constructor"==p)}if(g&&!v){var x=n.constructor,w=e.constructor;x==w||!("constructor"in n)||!("constructor"in e)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(g=!1)}return l.delete(n),l.delete(e),g}},function(n,e,t){var r=t(190),i=t(191),a=t(78);n.exports=function(n){return r(n,a,i)}},function(n,e,t){var r=t(68),i=t(6);n.exports=function(n,e,t){var a=e(n);return i(n)?a:r(a,t(n))}},function(n,e,t){var r=t(192),i=t(193),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,l=o?function(n){return null==n?[]:(n=Object(n),r(o(n),(function(e){return a.call(n,e)})))}:i;n.exports=l},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length,i=0,a=[];++t<r;){var o=n[t];e(o,t,n)&&(a[i++]=o)}return a}},function(n,e){n.exports=function(){return[]}},function(n,e,t){var r=t(195),i=t(39),a=t(6),o=t(79),l=t(80),s=t(81),c=Object.prototype.hasOwnProperty;n.exports=function(n,e){var t=a(n),d=!t&&i(n),u=!t&&!d&&o(n),p=!t&&!d&&!u&&s(n),m=t||d||u||p,h=m?r(n.length,String):[],g=h.length;for(var v in n)!e&&!c.call(n,v)||m&&("length"==v||u&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||l(v,g))||h.push(v);return h}},function(n,e){n.exports=function(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}},function(n,e){n.exports=function(){return!1}},function(n,e,t){var r=t(14),i=t(44),a=t(12),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,n.exports=function(n){return a(n)&&i(n.length)&&!!o[r(n)]}},function(n,e){n.exports=function(n){return function(e){return n(e)}}},function(n,e,t){(function(n){var r=t(69),i=e&&!e.nodeType&&e,a=i&&"object"==typeof n&&n&&!n.nodeType&&n,o=a&&a.exports===i&&r.process,l=function(){try{var n=a&&a.require&&a.require("util").types;return n||o&&o.binding&&o.binding("util")}catch(n){}}();n.exports=l}).call(this,t(50)(n))},function(n,e,t){var r=t(201),i=t(202),a=Object.prototype.hasOwnProperty;n.exports=function(n){if(!r(n))return i(n);var e=[];for(var t in Object(n))a.call(n,t)&&"constructor"!=t&&e.push(t);return e}},function(n,e){var t=Object.prototype;n.exports=function(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||t)}},function(n,e,t){var r=t(203)(Object.keys,Object);n.exports=r},function(n,e){n.exports=function(n,e){return function(t){return n(e(t))}}},function(n,e,t){var r=t(205),i=t(40),a=t(206),o=t(83),l=t(207),s=t(14),c=t(73),d=c(r),u=c(i),p=c(a),m=c(o),h=c(l),g=s;(r&&"[object DataView]"!=g(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=g(new i)||a&&"[object Promise]"!=g(a.resolve())||o&&"[object Set]"!=g(new o)||l&&"[object WeakMap]"!=g(new l))&&(g=function(n){var e=s(n),t="[object Object]"==e?n.constructor:void 0,r=t?c(t):"";if(r)switch(r){case d:return"[object DataView]";case u:return"[object Map]";case p:return"[object Promise]";case m:return"[object Set]";case h:return"[object WeakMap]"}return e}),n.exports=g},function(n,e,t){var r=t(10)(t(8),"DataView");n.exports=r},function(n,e,t){var r=t(10)(t(8),"Promise");n.exports=r},function(n,e,t){var r=t(10)(t(8),"WeakMap");n.exports=r},function(n,e,t){var r=t(84),i=t(78);n.exports=function(n){for(var e=i(n),t=e.length;t--;){var a=e[t],o=n[a];e[t]=[a,o,r(o)]}return e}},function(n,e,t){var r=t(74),i=t(210),a=t(217),o=t(45),l=t(84),s=t(85),c=t(25);n.exports=function(n,e){return o(n)&&l(e)?s(c(n),e):function(t){var o=i(t,n);return void 0===o&&o===e?a(t,n):r(e,o,3)}}},function(n,e,t){var r=t(86);n.exports=function(n,e,t){var i=null==n?void 0:r(n,e);return void 0===i?t:i}},function(n,e,t){var r=t(212),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r((function(n){var e=[];return 46===n.charCodeAt(0)&&e.push(""),n.replace(i,(function(n,t,r,i){e.push(r?i.replace(a,"$1"):t||n)})),e}));n.exports=o},function(n,e,t){var r=t(213);n.exports=function(n){var e=r(n,(function(n){return 500===t.size&&t.clear(),n})),t=e.cache;return e}},function(n,e,t){var r=t(42);function i(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=t.cache;if(a.has(i))return a.get(i);var o=n.apply(this,r);return t.cache=a.set(i,o)||a,o};return t.cache=new(i.Cache||r),t}i.Cache=r,n.exports=i},function(n,e,t){var r=t(215);n.exports=function(n){return null==n?"":r(n)}},function(n,e,t){var r=t(16),i=t(216),a=t(6),o=t(46),l=r?r.prototype:void 0,s=l?l.toString:void 0;n.exports=function n(e){if("string"==typeof e)return e;if(a(e))return i(e,n)+"";if(o(e))return s?s.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(n,e){n.exports=function(n,e){for(var t=-1,r=null==n?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}},function(n,e,t){var r=t(218),i=t(219);n.exports=function(n,e){return null!=n&&i(n,e,r)}},function(n,e){n.exports=function(n,e){return null!=n&&e in Object(n)}},function(n,e,t){var r=t(87),i=t(39),a=t(6),o=t(80),l=t(44),s=t(25);n.exports=function(n,e,t){for(var c=-1,d=(e=r(e,n)).length,u=!1;++c<d;){var p=s(e[c]);if(!(u=null!=n&&t(n,p)))break;n=n[p]}return u||++c!=d?u:!!(d=null==n?0:n.length)&&l(d)&&o(p,d)&&(a(n)||i(n))}},function(n,e,t){var r=t(221),i=t(222),a=t(45),o=t(25);n.exports=function(n){return a(n)?r(o(n)):i(n)}},function(n,e){n.exports=function(n){return function(e){return null==e?void 0:e[n]}}},function(n,e,t){var r=t(86);n.exports=function(n){return function(e){return r(e,n)}}},function(n,e,t){var r=t(47),i=t(224),a=t(226);n.exports=function(n,e){return a(i(n,e,r),n+"")}},function(n,e,t){var r=t(225),i=Math.max;n.exports=function(n,e,t){return e=i(void 0===e?n.length-1:e,0),function(){for(var a=arguments,o=-1,l=i(a.length-e,0),s=Array(l);++o<l;)s[o]=a[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=a[o];return c[e]=t(s),r(n,this,c)}}},function(n,e){n.exports=function(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}},function(n,e,t){var r=t(227),i=t(230)(r);n.exports=i},function(n,e,t){var r=t(228),i=t(229),a=t(47),o=i?function(n,e){return i(n,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:a;n.exports=o},function(n,e){n.exports=function(n){return function(){return n}}},function(n,e,t){var r=t(10),i=function(){try{var n=r(Object,"defineProperty");return n({},"",{}),n}catch(n){}}();n.exports=i},function(n,e){var t=Date.now;n.exports=function(n){var e=0,r=0;return function(){var i=t(),a=16-(i-r);if(r=i,a>0){if(++e>=800)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}},function(n,e,t){var r=t(76),i=t(232),a=t(237),o=t(77),l=t(238),s=t(43);n.exports=function(n,e,t){var c=-1,d=i,u=n.length,p=!0,m=[],h=m;if(t)p=!1,d=a;else if(u>=200){var g=e?null:l(n);if(g)return s(g);p=!1,d=o,h=new r}else h=e?[]:m;n:for(;++c<u;){var v=n[c],f=e?e(v):v;if(v=t||0!==v?v:0,p&&f==f){for(var b=h.length;b--;)if(h[b]===f)continue n;e&&h.push(f),m.push(v)}else d(h,f,t)||(h!==m&&h.push(f),m.push(v))}return m}},function(n,e,t){var r=t(233);n.exports=function(n,e){return!!(null==n?0:n.length)&&r(n,e,0)>-1}},function(n,e,t){var r=t(234),i=t(235),a=t(236);n.exports=function(n,e,t){return e==e?a(n,e,t):r(n,i,t)}},function(n,e){n.exports=function(n,e,t,r){for(var i=n.length,a=t+(r?1:-1);r?a--:++a<i;)if(e(n[a],a,n))return a;return-1}},function(n,e){n.exports=function(n){return n!=n}},function(n,e){n.exports=function(n,e,t){for(var r=t-1,i=n.length;++r<i;)if(n[r]===e)return r;return-1}},function(n,e){n.exports=function(n,e,t){for(var r=-1,i=null==n?0:n.length;++r<i;)if(t(e,n[r]))return!0;return!1}},function(n,e,t){var r=t(83),i=t(239),a=t(43),o=r&&1/a(new r([,-0]))[1]==1/0?function(n){return new r(n)}:i;n.exports=o},function(n,e){n.exports=function(){}},function(n,e,t){var r=t(82),i=t(12);n.exports=function(n){return i(n)&&r(n)}},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t(88)},function(n,e,t){"use strict";t(89)},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";var r=t(18),i=t(0),a=t(248);r({global:!0},{Reflect:{}}),a(i.Reflect,"Reflect",!0)},function(n,e,t){"use strict";var r=t(13).f,i=t(7),a=t(20)("toStringTag");n.exports=function(n,e,t){n&&!t&&(n=n.prototype),n&&!i(n,a)&&r(n,a,{configurable:!0,value:e})}},function(n,e){},function(n,e){function t(n,e){for(var t=0,r=n.length-1;r>=0;r--){var i=n[r];"."===i?n.splice(r,1):".."===i?(n.splice(r,1),t++):t&&(n.splice(r,1),t--)}if(e)for(;t--;t)n.unshift("..");return n}function r(n,e){if(n.filter)return n.filter(e);for(var t=[],r=0;r<n.length;r++)e(n[r],r,n)&&t.push(n[r]);return t}e.resolve=function(){for(var n="",e=!1,i=arguments.length-1;i>=-1&&!e;i--){var a=i>=0?arguments[i]:process.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,e="/"===a.charAt(0))}return(e?"/":"")+(n=t(r(n.split("/"),(function(n){return!!n})),!e).join("/"))||"."},e.normalize=function(n){var a=e.isAbsolute(n),o="/"===i(n,-1);return(n=t(r(n.split("/"),(function(n){return!!n})),!a).join("/"))||a||(n="."),n&&o&&(n+="/"),(a?"/":"")+n},e.isAbsolute=function(n){return"/"===n.charAt(0)},e.join=function(){var n=Array.prototype.slice.call(arguments,0);return e.normalize(r(n,(function(n,e){if("string"!=typeof n)throw new TypeError("Arguments to path.join must be strings");return n})).join("/"))},e.relative=function(n,t){function r(n){for(var e=0;e<n.length&&""===n[e];e++);for(var t=n.length-1;t>=0&&""===n[t];t--);return e>t?[]:n.slice(e,t-e+1)}n=e.resolve(n).substr(1),t=e.resolve(t).substr(1);for(var i=r(n.split("/")),a=r(t.split("/")),o=Math.min(i.length,a.length),l=o,s=0;s<o;s++)if(i[s]!==a[s]){l=s;break}var c=[];for(s=l;s<i.length;s++)c.push("..");return(c=c.concat(a.slice(l))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(n){if("string"!=typeof n&&(n+=""),0===n.length)return".";for(var e=n.charCodeAt(0),t=47===e,r=-1,i=!0,a=n.length-1;a>=1;--a)if(47===(e=n.charCodeAt(a))){if(!i){r=a;break}}else i=!1;return-1===r?t?"/":".":t&&1===r?"/":n.slice(0,r)},e.basename=function(n,e){var t=function(n){"string"!=typeof n&&(n+="");var e,t=0,r=-1,i=!0;for(e=n.length-1;e>=0;--e)if(47===n.charCodeAt(e)){if(!i){t=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":n.slice(t,r)}(n);return e&&t.substr(-1*e.length)===e&&(t=t.substr(0,t.length-e.length)),t},e.extname=function(n){"string"!=typeof n&&(n+="");for(var e=-1,t=0,r=-1,i=!0,a=0,o=n.length-1;o>=0;--o){var l=n.charCodeAt(o);if(47!==l)-1===r&&(i=!1,r=o+1),46===l?-1===e?e=o:1!==a&&(a=1):-1!==e&&(a=-1);else if(!i){t=o+1;break}}return-1===e||-1===r||0===a||1===a&&e===r-1&&e===t+1?"":n.slice(e,r)};var i="b"==="ab".substr(-1)?function(n,e,t){return n.substr(e,t)}:function(n,e,t){return e<0&&(e=n.length+e),n.substr(e,t)}},function(n,e,t){"use strict";var r=/[|\\{}()[\]^$+*?.]/g;e.escapeRegExpChars=function(n){return n?String(n).replace(r,"\\$&"):""};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},a=/[&<>'"]/g;function o(n){return i[n]||n}e.escapeXML=function(n){return null==n?"":String(n).replace(a,o)},e.escapeXML.toString=function(){return Function.prototype.toString.call(this)+';\nvar _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n'},e.shallowCopy=function(n,e){for(var t in e=e||{})n[t]=e[t];return n},e.shallowCopyFromList=function(n,e,t){for(var r=0;r<t.length;r++){var i=t[r];void 0!==e[i]&&(n[i]=e[i])}return n},e.cache={_data:{},set:function(n,e){this._data[n]=e},get:function(n){return this._data[n]},remove:function(n){delete this._data[n]},reset:function(){this._data={}}}},function(n){n.exports=JSON.parse('{"_from":"ejs@^2.6.1","_id":"ejs@2.7.4","_inBundle":false,"_integrity":"sha512-7vmuyh5+kuUyJKePhQfRQBhXV5Ce+RnaeeQArKu1EAMpL3WbgMt5WG6uQZpEVvYSSsxMXRKOewtDk9RaTKXRlA==","_location":"/ejs","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"ejs@^2.6.1","name":"ejs","escapedName":"ejs","rawSpec":"^2.6.1","saveSpec":null,"fetchSpec":"^2.6.1"},"_requiredBy":["/vuepress-plugin-comment"],"_resolved":"https://registry.npmjs.org/ejs/-/ejs-2.7.4.tgz","_shasum":"48661287573dcc53e366c7a1ae52c3a120eec9ba","_spec":"ejs@^2.6.1","_where":"/home/runner/work/design/design/node_modules/vuepress-plugin-comment","author":{"name":"Matthew Eernisse","email":"mde@fleegix.org","url":"http://fleegix.org"},"bugs":{"url":"https://github.com/mde/ejs/issues"},"bundleDependencies":false,"dependencies":{},"deprecated":false,"description":"Embedded JavaScript templates","devDependencies":{"browserify":"^13.1.1","eslint":"^4.14.0","git-directory-deploy":"^1.5.1","jake":"^10.3.1","jsdoc":"^3.4.0","lru-cache":"^4.0.1","mocha":"^5.0.5","uglify-js":"^3.3.16"},"engines":{"node":">=0.10.0"},"homepage":"https://github.com/mde/ejs","keywords":["template","engine","ejs"],"license":"Apache-2.0","main":"./lib/ejs.js","name":"ejs","repository":{"type":"git","url":"git://github.com/mde/ejs.git"},"scripts":{"postinstall":"node ./postinstall.js","test":"mocha"},"version":"2.7.4"}')},function(n,e,t){"use strict";t(90)},function(n,e,t){"use strict";t(91)},function(n,e,t){"use strict";t.r(e);
/*!
 * Vue.js v2.7.16
 * (c) 2014-2023 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({}),i=Array.isArray;function a(n){return null==n}function o(n){return null!=n}function l(n){return!0===n}function s(n){return"string"==typeof n||"number"==typeof n||"symbol"==typeof n||"boolean"==typeof n}function c(n){return"function"==typeof n}function d(n){return null!==n&&"object"==typeof n}var u=Object.prototype.toString;function p(n){return"[object Object]"===u.call(n)}function m(n){return"[object RegExp]"===u.call(n)}function h(n){var e=parseFloat(String(n));return e>=0&&Math.floor(e)===e&&isFinite(n)}function g(n){return o(n)&&"function"==typeof n.then&&"function"==typeof n.catch}function v(n){return null==n?"":Array.isArray(n)||p(n)&&n.toString===u?JSON.stringify(n,f,2):String(n)}function f(n,e){return e&&e.__v_isRef?e.value:e}function b(n){var e=parseFloat(n);return isNaN(e)?n:e}function y(n,e){for(var t=Object.create(null),r=n.split(","),i=0;i<r.length;i++)t[r[i]]=!0;return e?function(n){return t[n.toLowerCase()]}:function(n){return t[n]}}y("slot,component",!0);var x=y("key,ref,slot,slot-scope,is");function w(n,e){var t=n.length;if(t){if(e===n[t-1])return void(n.length=t-1);var r=n.indexOf(e);if(r>-1)return n.splice(r,1)}}var T=Object.prototype.hasOwnProperty;function C(n,e){return T.call(n,e)}function I(n){var e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}var E=/-(\w)/g,S=I((function(n){return n.replace(E,(function(n,e){return e?e.toUpperCase():""}))})),k=I((function(n){return n.charAt(0).toUpperCase()+n.slice(1)})),z=/\B([A-Z])/g,A=I((function(n){return n.replace(z,"-$1").toLowerCase()}));var _=Function.prototype.bind?function(n,e){return n.bind(e)}:function(n,e){function t(t){var r=arguments.length;return r?r>1?n.apply(e,arguments):n.call(e,t):n.call(e)}return t._length=n.length,t};function P(n,e){e=e||0;for(var t=n.length-e,r=new Array(t);t--;)r[t]=n[t+e];return r}function j(n,e){for(var t in e)n[t]=e[t];return n}function B(n){for(var e={},t=0;t<n.length;t++)n[t]&&j(e,n[t]);return e}function O(n,e,t){}var D=function(n,e,t){return!1},R=function(n){return n};function M(n,e){if(n===e)return!0;var t=d(n),r=d(e);if(!t||!r)return!t&&!r&&String(n)===String(e);try{var i=Array.isArray(n),a=Array.isArray(e);if(i&&a)return n.length===e.length&&n.every((function(n,t){return M(n,e[t])}));if(n instanceof Date&&e instanceof Date)return n.getTime()===e.getTime();if(i||a)return!1;var o=Object.keys(n),l=Object.keys(e);return o.length===l.length&&o.every((function(t){return M(n[t],e[t])}))}catch(n){return!1}}function L(n,e){for(var t=0;t<n.length;t++)if(M(n[t],e))return t;return-1}function U(n){var e=!1;return function(){e||(e=!0,n.apply(this,arguments))}}function F(n,e){return n===e?0===n&&1/n!=1/e:n==n||e==e}var q=["component","directive","filter"],N=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],$={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:D,isReservedAttr:D,isUnknownElement:D,getTagNamespace:O,parsePlatformTagName:R,mustUseProp:D,async:!0,_lifecycleHooks:N},H=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function W(n){var e=(n+"").charCodeAt(0);return 36===e||95===e}function V(n,e,t,r){Object.defineProperty(n,e,{value:t,enumerable:!!r,writable:!0,configurable:!0})}var G=new RegExp("[^".concat(H.source,".$_\\d]"));var J="__proto__"in{},Q="undefined"!=typeof window,Z=Q&&window.navigator.userAgent.toLowerCase(),X=Z&&/msie|trident/.test(Z),K=Z&&Z.indexOf("msie 9.0")>0,Y=Z&&Z.indexOf("edge/")>0;Z&&Z.indexOf("android");var nn=Z&&/iphone|ipad|ipod|ios/.test(Z);Z&&/chrome\/\d+/.test(Z),Z&&/phantomjs/.test(Z);var en,tn=Z&&Z.match(/firefox\/(\d+)/),rn={}.watch,an=!1;if(Q)try{var on={};Object.defineProperty(on,"passive",{get:function(){an=!0}}),window.addEventListener("test-passive",null,on)}catch(n){}var ln=function(){return void 0===en&&(en=!Q&&"undefined"!=typeof global&&(global.process&&"server"===global.process.env.VUE_ENV)),en},sn=Q&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function cn(n){return"function"==typeof n&&/native code/.test(n.toString())}var dn,un="undefined"!=typeof Symbol&&cn(Symbol)&&"undefined"!=typeof Reflect&&cn(Reflect.ownKeys);dn="undefined"!=typeof Set&&cn(Set)?Set:function(){function n(){this.set=Object.create(null)}return n.prototype.has=function(n){return!0===this.set[n]},n.prototype.add=function(n){this.set[n]=!0},n.prototype.clear=function(){this.set=Object.create(null)},n}();var pn=null;function mn(n){void 0===n&&(n=null),n||pn&&pn._scope.off(),pn=n,n&&n._scope.on()}var hn=function(){function n(n,e,t,r,i,a,o,l){this.tag=n,this.data=e,this.children=t,this.text=r,this.elm=i,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=l,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(n.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),n}(),gn=function(n){void 0===n&&(n="");var e=new hn;return e.text=n,e.isComment=!0,e};function vn(n){return new hn(void 0,void 0,void 0,String(n))}function fn(n){var e=new hn(n.tag,n.data,n.children&&n.children.slice(),n.text,n.elm,n.context,n.componentOptions,n.asyncFactory);return e.ns=n.ns,e.isStatic=n.isStatic,e.key=n.key,e.isComment=n.isComment,e.fnContext=n.fnContext,e.fnOptions=n.fnOptions,e.fnScopeId=n.fnScopeId,e.asyncMeta=n.asyncMeta,e.isCloned=!0,e}"function"==typeof SuppressedError&&SuppressedError;var bn=0,yn=[],xn=function(){function n(){this._pending=!1,this.id=bn++,this.subs=[]}return n.prototype.addSub=function(n){this.subs.push(n)},n.prototype.removeSub=function(n){this.subs[this.subs.indexOf(n)]=null,this._pending||(this._pending=!0,yn.push(this))},n.prototype.depend=function(e){n.target&&n.target.addDep(this)},n.prototype.notify=function(n){var e=this.subs.filter((function(n){return n}));for(var t=0,r=e.length;t<r;t++){0,e[t].update()}},n}();xn.target=null;var wn=[];function Tn(n){wn.push(n),xn.target=n}function Cn(){wn.pop(),xn.target=wn[wn.length-1]}var In=Array.prototype,En=Object.create(In);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(n){var e=In[n];V(En,n,(function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i,a=e.apply(this,t),o=this.__ob__;switch(n){case"push":case"unshift":i=t;break;case"splice":i=t.slice(2)}return i&&o.observeArray(i),o.dep.notify(),a}))}));var Sn=Object.getOwnPropertyNames(En),kn={},zn=!0;function An(n){zn=n}var _n={notify:O,depend:O,addSub:O,removeSub:O},Pn=function(){function n(n,e,t){if(void 0===e&&(e=!1),void 0===t&&(t=!1),this.value=n,this.shallow=e,this.mock=t,this.dep=t?_n:new xn,this.vmCount=0,V(n,"__ob__",this),i(n)){if(!t)if(J)n.__proto__=En;else for(var r=0,a=Sn.length;r<a;r++){V(n,l=Sn[r],En[l])}e||this.observeArray(n)}else{var o=Object.keys(n);for(r=0;r<o.length;r++){var l;Bn(n,l=o[r],kn,void 0,e,t)}}}return n.prototype.observeArray=function(n){for(var e=0,t=n.length;e<t;e++)jn(n[e],!1,this.mock)},n}();function jn(n,e,t){return n&&C(n,"__ob__")&&n.__ob__ instanceof Pn?n.__ob__:!zn||!t&&ln()||!i(n)&&!p(n)||!Object.isExtensible(n)||n.__v_skip||Fn(n)||n instanceof hn?void 0:new Pn(n,e,t)}function Bn(n,e,t,r,a,o,l){void 0===l&&(l=!1);var s=new xn,c=Object.getOwnPropertyDescriptor(n,e);if(!c||!1!==c.configurable){var d=c&&c.get,u=c&&c.set;d&&!u||t!==kn&&2!==arguments.length||(t=n[e]);var p=a?t&&t.__ob__:jn(t,!1,o);return Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){var e=d?d.call(n):t;return xn.target&&(s.depend(),p&&(p.dep.depend(),i(e)&&Rn(e))),Fn(e)&&!a?e.value:e},set:function(e){var r=d?d.call(n):t;if(F(r,e)){if(u)u.call(n,e);else{if(d)return;if(!a&&Fn(r)&&!Fn(e))return void(r.value=e);t=e}p=a?e&&e.__ob__:jn(e,!1,o),s.notify()}}}),s}}function On(n,e,t){if(!Un(n)){var r=n.__ob__;return i(n)&&h(e)?(n.length=Math.max(n.length,e),n.splice(e,1,t),r&&!r.shallow&&r.mock&&jn(t,!1,!0),t):e in n&&!(e in Object.prototype)?(n[e]=t,t):n._isVue||r&&r.vmCount?t:r?(Bn(r.value,e,t,void 0,r.shallow,r.mock),r.dep.notify(),t):(n[e]=t,t)}}function Dn(n,e){if(i(n)&&h(e))n.splice(e,1);else{var t=n.__ob__;n._isVue||t&&t.vmCount||Un(n)||C(n,e)&&(delete n[e],t&&t.dep.notify())}}function Rn(n){for(var e=void 0,t=0,r=n.length;t<r;t++)(e=n[t])&&e.__ob__&&e.__ob__.dep.depend(),i(e)&&Rn(e)}function Mn(n){return Ln(n,!0),V(n,"__v_isShallow",!0),n}function Ln(n,e){if(!Un(n)){jn(n,e,ln());0}}function Un(n){return!(!n||!n.__v_isReadonly)}function Fn(n){return!(!n||!0!==n.__v_isRef)}function qn(n,e,t){Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:function(){var n=e[t];if(Fn(n))return n.value;var r=n&&n.__ob__;return r&&r.dep.depend(),n},set:function(n){var r=e[t];Fn(r)&&!Fn(n)?r.value=n:e[t]=n}})}"".concat("watcher"," callback"),"".concat("watcher"," getter"),"".concat("watcher"," cleanup");var Nn;var $n=function(){function n(n){void 0===n&&(n=!1),this.detached=n,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Nn,!n&&Nn&&(this.index=(Nn.scopes||(Nn.scopes=[])).push(this)-1)}return n.prototype.run=function(n){if(this.active){var e=Nn;try{return Nn=this,n()}finally{Nn=e}}else 0},n.prototype.on=function(){Nn=this},n.prototype.off=function(){Nn=this.parent},n.prototype.stop=function(n){if(this.active){var e=void 0,t=void 0;for(e=0,t=this.effects.length;e<t;e++)this.effects[e].teardown();for(e=0,t=this.cleanups.length;e<t;e++)this.cleanups[e]();if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!n){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}},n}();function Hn(n){var e=n._provided,t=n.$parent&&n.$parent._provided;return t===e?n._provided=Object.create(t):e}var Wn=I((function(n){var e="&"===n.charAt(0),t="~"===(n=e?n.slice(1):n).charAt(0),r="!"===(n=t?n.slice(1):n).charAt(0);return{name:n=r?n.slice(1):n,once:t,capture:r,passive:e}}));function Vn(n,e){function t(){var n=t.fns;if(!i(n))return ze(n,null,arguments,e,"v-on handler");for(var r=n.slice(),a=0;a<r.length;a++)ze(r[a],null,arguments,e,"v-on handler")}return t.fns=n,t}function Gn(n,e,t,r,i,o){var s,c,d,u;for(s in n)c=n[s],d=e[s],u=Wn(s),a(c)||(a(d)?(a(c.fns)&&(c=n[s]=Vn(c,o)),l(u.once)&&(c=n[s]=i(u.name,c,u.capture)),t(u.name,c,u.capture,u.passive,u.params)):c!==d&&(d.fns=c,n[s]=d));for(s in e)a(n[s])&&r((u=Wn(s)).name,e[s],u.capture)}function Jn(n,e,t){var r;n instanceof hn&&(n=n.data.hook||(n.data.hook={}));var i=n[e];function s(){t.apply(this,arguments),w(r.fns,s)}a(i)?r=Vn([s]):o(i.fns)&&l(i.merged)?(r=i).fns.push(s):r=Vn([i,s]),r.merged=!0,n[e]=r}function Qn(n,e,t,r,i){if(o(e)){if(C(e,t))return n[t]=e[t],i||delete e[t],!0;if(C(e,r))return n[t]=e[r],i||delete e[r],!0}return!1}function Zn(n){return s(n)?[vn(n)]:i(n)?function n(e,t){var r,c,d,u,p=[];for(r=0;r<e.length;r++)a(c=e[r])||"boolean"==typeof c||(d=p.length-1,u=p[d],i(c)?c.length>0&&(Xn((c=n(c,"".concat(t||"","_").concat(r)))[0])&&Xn(u)&&(p[d]=vn(u.text+c[0].text),c.shift()),p.push.apply(p,c)):s(c)?Xn(u)?p[d]=vn(u.text+c):""!==c&&p.push(vn(c)):Xn(c)&&Xn(u)?p[d]=vn(u.text+c.text):(l(e._isVList)&&o(c.tag)&&a(c.key)&&o(t)&&(c.key="__vlist".concat(t,"_").concat(r,"__")),p.push(c)));return p}(n):void 0}function Xn(n){return o(n)&&o(n.text)&&!1===n.isComment}function Kn(n,e){var t,r,a,l,s=null;if(i(n)||"string"==typeof n)for(s=new Array(n.length),t=0,r=n.length;t<r;t++)s[t]=e(n[t],t);else if("number"==typeof n)for(s=new Array(n),t=0;t<n;t++)s[t]=e(t+1,t);else if(d(n))if(un&&n[Symbol.iterator]){s=[];for(var c=n[Symbol.iterator](),u=c.next();!u.done;)s.push(e(u.value,s.length)),u=c.next()}else for(a=Object.keys(n),s=new Array(a.length),t=0,r=a.length;t<r;t++)l=a[t],s[t]=e(n[l],l,t);return o(s)||(s=[]),s._isVList=!0,s}function Yn(n,e,t,r){var i,a=this.$scopedSlots[n];a?(t=t||{},r&&(t=j(j({},r),t)),i=a(t)||(c(e)?e():e)):i=this.$slots[n]||(c(e)?e():e);var o=t&&t.slot;return o?this.$createElement("template",{slot:o},i):i}function ne(n){return Pt(this.$options,"filters",n,!0)||R}function ee(n,e){return i(n)?-1===n.indexOf(e):n!==e}function te(n,e,t,r,i){var a=$.keyCodes[e]||t;return i&&r&&!$.keyCodes[e]?ee(i,r):a?ee(a,n):r?A(r)!==e:void 0===n}function re(n,e,t,r,a){if(t)if(d(t)){i(t)&&(t=B(t));var o=void 0,l=function(i){if("class"===i||"style"===i||x(i))o=n;else{var l=n.attrs&&n.attrs.type;o=r||$.mustUseProp(e,l,i)?n.domProps||(n.domProps={}):n.attrs||(n.attrs={})}var s=S(i),c=A(i);s in o||c in o||(o[i]=t[i],a&&((n.on||(n.on={}))["update:".concat(i)]=function(n){t[i]=n}))};for(var s in t)l(s)}else;return n}function ie(n,e){var t=this._staticTrees||(this._staticTrees=[]),r=t[n];return r&&!e||oe(r=t[n]=this.$options.staticRenderFns[n].call(this._renderProxy,this._c,this),"__static__".concat(n),!1),r}function ae(n,e,t){return oe(n,"__once__".concat(e).concat(t?"_".concat(t):""),!0),n}function oe(n,e,t){if(i(n))for(var r=0;r<n.length;r++)n[r]&&"string"!=typeof n[r]&&le(n[r],"".concat(e,"_").concat(r),t);else le(n,e,t)}function le(n,e,t){n.isStatic=!0,n.key=e,n.isOnce=t}function se(n,e){if(e)if(p(e)){var t=n.on=n.on?j({},n.on):{};for(var r in e){var i=t[r],a=e[r];t[r]=i?[].concat(i,a):a}}else;return n}function ce(n,e,t,r){e=e||{$stable:!t};for(var a=0;a<n.length;a++){var o=n[a];i(o)?ce(o,e,t):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function de(n,e){for(var t=0;t<e.length;t+=2){var r=e[t];"string"==typeof r&&r&&(n[e[t]]=e[t+1])}return n}function ue(n,e){return"string"==typeof n?e+n:n}function pe(n){n._o=ae,n._n=b,n._s=v,n._l=Kn,n._t=Yn,n._q=M,n._i=L,n._m=ie,n._f=ne,n._k=te,n._b=re,n._v=vn,n._e=gn,n._u=ce,n._g=se,n._d=de,n._p=ue}function me(n,e){if(!n||!n.length)return{};for(var t={},r=0,i=n.length;r<i;r++){var a=n[r],o=a.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,a.context!==e&&a.fnContext!==e||!o||null==o.slot)(t.default||(t.default=[])).push(a);else{var l=o.slot,s=t[l]||(t[l]=[]);"template"===a.tag?s.push.apply(s,a.children||[]):s.push(a)}}for(var c in t)t[c].every(he)&&delete t[c];return t}function he(n){return n.isComment&&!n.asyncFactory||" "===n.text}function ge(n){return n.isComment&&n.asyncFactory}function ve(n,e,t,i){var a,o=Object.keys(t).length>0,l=e?!!e.$stable:!o,s=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(l&&i&&i!==r&&s===i.$key&&!o&&!i.$hasNormal)return i;for(var c in a={},e)e[c]&&"$"!==c[0]&&(a[c]=fe(n,t,c,e[c]))}else a={};for(var d in t)d in a||(a[d]=be(t,d));return e&&Object.isExtensible(e)&&(e._normalized=a),V(a,"$stable",l),V(a,"$key",s),V(a,"$hasNormal",o),a}function fe(n,e,t,r){var a=function(){var e=pn;mn(n);var t=arguments.length?r.apply(null,arguments):r({}),a=(t=t&&"object"==typeof t&&!i(t)?[t]:Zn(t))&&t[0];return mn(e),t&&(!a||1===t.length&&a.isComment&&!ge(a))?void 0:t};return r.proxy&&Object.defineProperty(e,t,{get:a,enumerable:!0,configurable:!0}),a}function be(n,e){return function(){return n[e]}}function ye(n){return{get attrs(){if(!n._attrsProxy){var e=n._attrsProxy={};V(e,"_v_attr_proxy",!0),xe(e,n.$attrs,r,n,"$attrs")}return n._attrsProxy},get listeners(){n._listenersProxy||xe(n._listenersProxy={},n.$listeners,r,n,"$listeners");return n._listenersProxy},get slots(){return function(n){n._slotsProxy||Te(n._slotsProxy={},n.$scopedSlots);return n._slotsProxy}(n)},emit:_(n.$emit,n),expose:function(e){e&&Object.keys(e).forEach((function(t){return qn(n,e,t)}))}}}function xe(n,e,t,r,i){var a=!1;for(var o in e)o in n?e[o]!==t[o]&&(a=!0):(a=!0,we(n,o,r,i));for(var o in n)o in e||(a=!0,delete n[o]);return a}function we(n,e,t,r){Object.defineProperty(n,e,{enumerable:!0,configurable:!0,get:function(){return t[r][e]}})}function Te(n,e){for(var t in e)n[t]=e[t];for(var t in n)t in e||delete n[t]}var Ce=null;function Ie(n,e){return(n.__esModule||un&&"Module"===n[Symbol.toStringTag])&&(n=n.default),d(n)?e.extend(n):n}function Ee(n){if(i(n))for(var e=0;e<n.length;e++){var t=n[e];if(o(t)&&(o(t.componentOptions)||ge(t)))return t}}function Se(n,e,t,r,u,p){return(i(t)||s(t))&&(u=r,r=t,t=void 0),l(p)&&(u=2),function(n,e,t,r,s){if(o(t)&&o(t.__ob__))return gn();o(t)&&o(t.is)&&(e=t.is);if(!e)return gn();0;i(r)&&c(r[0])&&((t=t||{}).scopedSlots={default:r[0]},r.length=0);2===s?r=Zn(r):1===s&&(r=function(n){for(var e=0;e<n.length;e++)if(i(n[e]))return Array.prototype.concat.apply([],n);return n}(r));var u,p;if("string"==typeof e){var m=void 0;p=n.$vnode&&n.$vnode.ns||$.getTagNamespace(e),u=$.isReservedTag(e)?new hn($.parsePlatformTagName(e),t,r,void 0,void 0,n):t&&t.pre||!o(m=Pt(n.$options,"components",e))?new hn(e,t,r,void 0,void 0,n):wt(m,t,n,r,e)}else u=wt(e,t,n,r);return i(u)?u:o(u)?(o(p)&&function n(e,t,r){e.ns=t,"foreignObject"===e.tag&&(t=void 0,r=!0);if(o(e.children))for(var i=0,s=e.children.length;i<s;i++){var c=e.children[i];o(c.tag)&&(a(c.ns)||l(r)&&"svg"!==c.tag)&&n(c,t,r)}}(u,p),o(t)&&function(n){d(n.style)&&$e(n.style);d(n.class)&&$e(n.class)}(t),u):gn()}(n,e,t,r,u)}function ke(n,e,t){Tn();try{if(e)for(var r=e;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var a=0;a<i.length;a++)try{if(!1===i[a].call(r,n,e,t))return}catch(n){Ae(n,r,"errorCaptured hook")}}Ae(n,e,t)}finally{Cn()}}function ze(n,e,t,r,i){var a;try{(a=t?n.apply(e,t):n.call(e))&&!a._isVue&&g(a)&&!a._handled&&(a.catch((function(n){return ke(n,r,i+" (Promise/async)")})),a._handled=!0)}catch(n){ke(n,r,i)}return a}function Ae(n,e,t){if($.errorHandler)try{return $.errorHandler.call(null,n,e,t)}catch(e){e!==n&&_e(e,null,"config.errorHandler")}_e(n,e,t)}function _e(n,e,t){if(!Q||"undefined"==typeof console)throw n;console.error(n)}var Pe,je=!1,Be=[],Oe=!1;function De(){Oe=!1;var n=Be.slice(0);Be.length=0;for(var e=0;e<n.length;e++)n[e]()}if("undefined"!=typeof Promise&&cn(Promise)){var Re=Promise.resolve();Pe=function(){Re.then(De),nn&&setTimeout(O)},je=!0}else if(X||"undefined"==typeof MutationObserver||!cn(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Pe="undefined"!=typeof setImmediate&&cn(setImmediate)?function(){setImmediate(De)}:function(){setTimeout(De,0)};else{var Me=1,Le=new MutationObserver(De),Ue=document.createTextNode(String(Me));Le.observe(Ue,{characterData:!0}),Pe=function(){Me=(Me+1)%2,Ue.data=String(Me)},je=!0}function Fe(n,e){var t;if(Be.push((function(){if(n)try{n.call(e)}catch(n){ke(n,e,"nextTick")}else t&&t(e)})),Oe||(Oe=!0,Pe()),!n&&"undefined"!=typeof Promise)return new Promise((function(n){t=n}))}function qe(n){return function(e,t){if(void 0===t&&(t=pn),t)return function(n,e,t){var r=n.$options;r[e]=kt(r[e],t)}(t,n,e)}}qe("beforeMount"),qe("mounted"),qe("beforeUpdate"),qe("updated"),qe("beforeDestroy"),qe("destroyed"),qe("activated"),qe("deactivated"),qe("serverPrefetch"),qe("renderTracked"),qe("renderTriggered"),qe("errorCaptured");var Ne=new dn;function $e(n){return function n(e,t){var r,a,o=i(e);if(!o&&!d(e)||e.__v_skip||Object.isFrozen(e)||e instanceof hn)return;if(e.__ob__){var l=e.__ob__.dep.id;if(t.has(l))return;t.add(l)}if(o)for(r=e.length;r--;)n(e[r],t);else if(Fn(e))n(e.value,t);else for(a=Object.keys(e),r=a.length;r--;)n(e[a[r]],t)}(n,Ne),Ne.clear(),n}var He,We=0,Ve=function(){function n(n,e,t,r,i){var a,o;a=this,void 0===(o=Nn&&!Nn._vm?Nn:n?n._scope:void 0)&&(o=Nn),o&&o.active&&o.effects.push(a),(this.vm=n)&&i&&(n._watcher=this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=t,this.id=++We,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new dn,this.newDepIds=new dn,this.expression="",c(e)?this.getter=e:(this.getter=function(n){if(!G.test(n)){var e=n.split(".");return function(n){for(var t=0;t<e.length;t++){if(!n)return;n=n[e[t]]}return n}}}(e),this.getter||(this.getter=O)),this.value=this.lazy?void 0:this.get()}return n.prototype.get=function(){var n;Tn(this);var e=this.vm;try{n=this.getter.call(e,e)}catch(n){if(!this.user)throw n;ke(n,e,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&$e(n),Cn(),this.cleanupDeps()}return n},n.prototype.addDep=function(n){var e=n.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(n),this.depIds.has(e)||n.addSub(this))},n.prototype.cleanupDeps=function(){for(var n=this.deps.length;n--;){var e=this.deps[n];this.newDepIds.has(e.id)||e.removeSub(this)}var t=this.depIds;this.depIds=this.newDepIds,this.newDepIds=t,this.newDepIds.clear(),t=this.deps,this.deps=this.newDeps,this.newDeps=t,this.newDeps.length=0},n.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():mt(this)},n.prototype.run=function(){if(this.active){var n=this.get();if(n!==this.value||d(n)||this.deep){var e=this.value;if(this.value=n,this.user){var t='callback for watcher "'.concat(this.expression,'"');ze(this.cb,this.vm,[n,e],this.vm,t)}else this.cb.call(this.vm,n,e)}}},n.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},n.prototype.depend=function(){for(var n=this.deps.length;n--;)this.deps[n].depend()},n.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&w(this.vm._scope.effects,this),this.active){for(var n=this.deps.length;n--;)this.deps[n].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},n}();function Ge(n,e){He.$on(n,e)}function Je(n,e){He.$off(n,e)}function Qe(n,e){var t=He;return function r(){var i=e.apply(null,arguments);null!==i&&t.$off(n,r)}}function Ze(n,e,t){He=n,Gn(e,t||{},Ge,Je,Qe,n),He=void 0}var Xe=null;function Ke(n){var e=Xe;return Xe=n,function(){Xe=e}}function Ye(n){for(;n&&(n=n.$parent);)if(n._inactive)return!0;return!1}function nt(n,e){if(e){if(n._directInactive=!1,Ye(n))return}else if(n._directInactive)return;if(n._inactive||null===n._inactive){n._inactive=!1;for(var t=0;t<n.$children.length;t++)nt(n.$children[t]);et(n,"activated")}}function et(n,e,t,r){void 0===r&&(r=!0),Tn();var i=pn,a=Nn;r&&mn(n);var o=n.$options[e],l="".concat(e," hook");if(o)for(var s=0,c=o.length;s<c;s++)ze(o[s],n,t||null,n,l);n._hasHookEvent&&n.$emit("hook:"+e),r&&(mn(i),a&&a.on()),Cn()}var tt=[],rt=[],it={},at=!1,ot=!1,lt=0;var st=0,ct=Date.now;if(Q&&!X){var dt=window.performance;dt&&"function"==typeof dt.now&&ct()>document.createEvent("Event").timeStamp&&(ct=function(){return dt.now()})}var ut=function(n,e){if(n.post){if(!e.post)return 1}else if(e.post)return-1;return n.id-e.id};function pt(){var n,e;for(st=ct(),ot=!0,tt.sort(ut),lt=0;lt<tt.length;lt++)(n=tt[lt]).before&&n.before(),e=n.id,it[e]=null,n.run();var t=rt.slice(),r=tt.slice();lt=tt.length=rt.length=0,it={},at=ot=!1,function(n){for(var e=0;e<n.length;e++)n[e]._inactive=!0,nt(n[e],!0)}(t),function(n){var e=n.length;for(;e--;){var t=n[e],r=t.vm;r&&r._watcher===t&&r._isMounted&&!r._isDestroyed&&et(r,"updated")}}(r),function(){for(var n=0;n<yn.length;n++){var e=yn[n];e.subs=e.subs.filter((function(n){return n})),e._pending=!1}yn.length=0}(),sn&&$.devtools&&sn.emit("flush")}function mt(n){var e=n.id;if(null==it[e]&&(n!==xn.target||!n.noRecurse)){if(it[e]=!0,ot){for(var t=tt.length-1;t>lt&&tt[t].id>n.id;)t--;tt.splice(t+1,0,n)}else tt.push(n);at||(at=!0,Fe(pt))}}function ht(n,e){if(n){for(var t=Object.create(null),r=un?Reflect.ownKeys(n):Object.keys(n),i=0;i<r.length;i++){var a=r[i];if("__ob__"!==a){var o=n[a].from;if(o in e._provided)t[a]=e._provided[o];else if("default"in n[a]){var l=n[a].default;t[a]=c(l)?l.call(e):l}else 0}}return t}}function gt(n,e,t,a,o){var s,c=this,d=o.options;C(a,"_uid")?(s=Object.create(a))._original=a:(s=a,a=a._original);var u=l(d._compiled),p=!u;this.data=n,this.props=e,this.children=t,this.parent=a,this.listeners=n.on||r,this.injections=ht(d.inject,a),this.slots=function(){return c.$slots||ve(a,n.scopedSlots,c.$slots=me(t,a)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return ve(a,n.scopedSlots,this.slots())}}),u&&(this.$options=d,this.$slots=this.slots(),this.$scopedSlots=ve(a,n.scopedSlots,this.$slots)),d._scopeId?this._c=function(n,e,t,r){var o=Se(s,n,e,t,r,p);return o&&!i(o)&&(o.fnScopeId=d._scopeId,o.fnContext=a),o}:this._c=function(n,e,t,r){return Se(s,n,e,t,r,p)}}function vt(n,e,t,r,i){var a=fn(n);return a.fnContext=t,a.fnOptions=r,e.slot&&((a.data||(a.data={})).slot=e.slot),a}function ft(n,e){for(var t in e)n[S(t)]=e[t]}function bt(n){return n.name||n.__name||n._componentTag}pe(gt.prototype);var yt={init:function(n,e){if(n.componentInstance&&!n.componentInstance._isDestroyed&&n.data.keepAlive){var t=n;yt.prepatch(t,t)}else{(n.componentInstance=function(n,e){var t={_isComponent:!0,_parentVnode:n,parent:e},r=n.data.inlineTemplate;o(r)&&(t.render=r.render,t.staticRenderFns=r.staticRenderFns);return new n.componentOptions.Ctor(t)}(n,Xe)).$mount(e?n.elm:void 0,e)}},prepatch:function(n,e){var t=e.componentOptions;!function(n,e,t,i,a){var o=i.data.scopedSlots,l=n.$scopedSlots,s=!!(o&&!o.$stable||l!==r&&!l.$stable||o&&n.$scopedSlots.$key!==o.$key||!o&&n.$scopedSlots.$key),c=!!(a||n.$options._renderChildren||s),d=n.$vnode;n.$options._parentVnode=i,n.$vnode=i,n._vnode&&(n._vnode.parent=i),n.$options._renderChildren=a;var u=i.data.attrs||r;n._attrsProxy&&xe(n._attrsProxy,u,d.data&&d.data.attrs||r,n,"$attrs")&&(c=!0),n.$attrs=u,t=t||r;var p=n.$options._parentListeners;if(n._listenersProxy&&xe(n._listenersProxy,t,p||r,n,"$listeners"),n.$listeners=n.$options._parentListeners=t,Ze(n,t,p),e&&n.$options.props){An(!1);for(var m=n._props,h=n.$options._propKeys||[],g=0;g<h.length;g++){var v=h[g],f=n.$options.props;m[v]=jt(v,f,e,n)}An(!0),n.$options.propsData=e}c&&(n.$slots=me(a,i.context),n.$forceUpdate())}(e.componentInstance=n.componentInstance,t.propsData,t.listeners,e,t.children)},insert:function(n){var e,t=n.context,r=n.componentInstance;r._isMounted||(r._isMounted=!0,et(r,"mounted")),n.data.keepAlive&&(t._isMounted?((e=r)._inactive=!1,rt.push(e)):nt(r,!0))},destroy:function(n){var e=n.componentInstance;e._isDestroyed||(n.data.keepAlive?function n(e,t){if(!(t&&(e._directInactive=!0,Ye(e))||e._inactive)){e._inactive=!0;for(var r=0;r<e.$children.length;r++)n(e.$children[r]);et(e,"deactivated")}}(e,!0):e.$destroy())}},xt=Object.keys(yt);function wt(n,e,t,s,c){if(!a(n)){var u=t.$options._base;if(d(n)&&(n=u.extend(n)),"function"==typeof n){var p;if(a(n.cid)&&void 0===(n=function(n,e){if(l(n.error)&&o(n.errorComp))return n.errorComp;if(o(n.resolved))return n.resolved;var t=Ce;if(t&&o(n.owners)&&-1===n.owners.indexOf(t)&&n.owners.push(t),l(n.loading)&&o(n.loadingComp))return n.loadingComp;if(t&&!o(n.owners)){var r=n.owners=[t],i=!0,s=null,c=null;t.$on("hook:destroyed",(function(){return w(r,t)}));var u=function(n){for(var e=0,t=r.length;e<t;e++)r[e].$forceUpdate();n&&(r.length=0,null!==s&&(clearTimeout(s),s=null),null!==c&&(clearTimeout(c),c=null))},p=U((function(t){n.resolved=Ie(t,e),i?r.length=0:u(!0)})),m=U((function(e){o(n.errorComp)&&(n.error=!0,u(!0))})),h=n(p,m);return d(h)&&(g(h)?a(n.resolved)&&h.then(p,m):g(h.component)&&(h.component.then(p,m),o(h.error)&&(n.errorComp=Ie(h.error,e)),o(h.loading)&&(n.loadingComp=Ie(h.loading,e),0===h.delay?n.loading=!0:s=setTimeout((function(){s=null,a(n.resolved)&&a(n.error)&&(n.loading=!0,u(!1))}),h.delay||200)),o(h.timeout)&&(c=setTimeout((function(){c=null,a(n.resolved)&&m(null)}),h.timeout)))),i=!1,n.loading?n.loadingComp:n.resolved}}(p=n,u)))return function(n,e,t,r,i){var a=gn();return a.asyncFactory=n,a.asyncMeta={data:e,context:t,children:r,tag:i},a}(p,e,t,s,c);e=e||{},Vt(n),o(e.model)&&function(n,e){var t=n.model&&n.model.prop||"value",r=n.model&&n.model.event||"input";(e.attrs||(e.attrs={}))[t]=e.model.value;var a=e.on||(e.on={}),l=a[r],s=e.model.callback;o(l)?(i(l)?-1===l.indexOf(s):l!==s)&&(a[r]=[s].concat(l)):a[r]=s}(n.options,e);var m=function(n,e,t){var r=e.options.props;if(!a(r)){var i={},l=n.attrs,s=n.props;if(o(l)||o(s))for(var c in r){var d=A(c);Qn(i,s,c,d,!0)||Qn(i,l,c,d,!1)}return i}}(e,n);if(l(n.options.functional))return function(n,e,t,a,l){var s=n.options,c={},d=s.props;if(o(d))for(var u in d)c[u]=jt(u,d,e||r);else o(t.attrs)&&ft(c,t.attrs),o(t.props)&&ft(c,t.props);var p=new gt(t,c,l,a,n),m=s.render.call(null,p._c,p);if(m instanceof hn)return vt(m,t,p.parent,s,p);if(i(m)){for(var h=Zn(m)||[],g=new Array(h.length),v=0;v<h.length;v++)g[v]=vt(h[v],t,p.parent,s,p);return g}}(n,m,e,t,s);var h=e.on;if(e.on=e.nativeOn,l(n.options.abstract)){var v=e.slot;e={},v&&(e.slot=v)}!function(n){for(var e=n.hook||(n.hook={}),t=0;t<xt.length;t++){var r=xt[t],i=e[r],a=yt[r];i===a||i&&i._merged||(e[r]=i?Tt(a,i):a)}}(e);var f=bt(n.options)||c;return new hn("vue-component-".concat(n.cid).concat(f?"-".concat(f):""),e,void 0,void 0,void 0,t,{Ctor:n,propsData:m,listeners:h,tag:c,children:s},p)}}}function Tt(n,e){var t=function(t,r){n(t,r),e(t,r)};return t._merged=!0,t}var Ct=O,It=$.optionMergeStrategies;function Et(n,e,t){if(void 0===t&&(t=!0),!e)return n;for(var r,i,a,o=un?Reflect.ownKeys(e):Object.keys(e),l=0;l<o.length;l++)"__ob__"!==(r=o[l])&&(i=n[r],a=e[r],t&&C(n,r)?i!==a&&p(i)&&p(a)&&Et(i,a):On(n,r,a));return n}function St(n,e,t){return t?function(){var r=c(e)?e.call(t,t):e,i=c(n)?n.call(t,t):n;return r?Et(r,i):i}:e?n?function(){return Et(c(e)?e.call(this,this):e,c(n)?n.call(this,this):n)}:e:n}function kt(n,e){var t=e?n?n.concat(e):i(e)?e:[e]:n;return t?function(n){for(var e=[],t=0;t<n.length;t++)-1===e.indexOf(n[t])&&e.push(n[t]);return e}(t):t}function zt(n,e,t,r){var i=Object.create(n||null);return e?j(i,e):i}It.data=function(n,e,t){return t?St(n,e,t):e&&"function"!=typeof e?n:St(n,e)},N.forEach((function(n){It[n]=kt})),q.forEach((function(n){It[n+"s"]=zt})),It.watch=function(n,e,t,r){if(n===rn&&(n=void 0),e===rn&&(e=void 0),!e)return Object.create(n||null);if(!n)return e;var a={};for(var o in j(a,n),e){var l=a[o],s=e[o];l&&!i(l)&&(l=[l]),a[o]=l?l.concat(s):i(s)?s:[s]}return a},It.props=It.methods=It.inject=It.computed=function(n,e,t,r){if(!n)return e;var i=Object.create(null);return j(i,n),e&&j(i,e),i},It.provide=function(n,e){return n?function(){var t=Object.create(null);return Et(t,c(n)?n.call(this):n),e&&Et(t,c(e)?e.call(this):e,!1),t}:e};var At=function(n,e){return void 0===e?n:e};function _t(n,e,t){if(c(e)&&(e=e.options),function(n,e){var t=n.props;if(t){var r,a,o={};if(i(t))for(r=t.length;r--;)"string"==typeof(a=t[r])&&(o[S(a)]={type:null});else if(p(t))for(var l in t)a=t[l],o[S(l)]=p(a)?a:{type:a};else 0;n.props=o}}(e),function(n,e){var t=n.inject;if(t){var r=n.inject={};if(i(t))for(var a=0;a<t.length;a++)r[t[a]]={from:t[a]};else if(p(t))for(var o in t){var l=t[o];r[o]=p(l)?j({from:o},l):{from:l}}else 0}}(e),function(n){var e=n.directives;if(e)for(var t in e){var r=e[t];c(r)&&(e[t]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(n=_t(n,e.extends,t)),e.mixins))for(var r=0,a=e.mixins.length;r<a;r++)n=_t(n,e.mixins[r],t);var o,l={};for(o in n)s(o);for(o in e)C(n,o)||s(o);function s(r){var i=It[r]||At;l[r]=i(n[r],e[r],t,r)}return l}function Pt(n,e,t,r){if("string"==typeof t){var i=n[e];if(C(i,t))return i[t];var a=S(t);if(C(i,a))return i[a];var o=k(a);return C(i,o)?i[o]:i[t]||i[a]||i[o]}}function jt(n,e,t,r){var i=e[n],a=!C(t,n),o=t[n],l=Rt(Boolean,i.type);if(l>-1)if(a&&!C(i,"default"))o=!1;else if(""===o||o===A(n)){var s=Rt(String,i.type);(s<0||l<s)&&(o=!0)}if(void 0===o){o=function(n,e,t){if(!C(e,"default"))return;var r=e.default;0;if(n&&n.$options.propsData&&void 0===n.$options.propsData[t]&&void 0!==n._props[t])return n._props[t];return c(r)&&"Function"!==Ot(e.type)?r.call(n):r}(r,i,n);var d=zn;An(!0),jn(o),An(d)}return o}var Bt=/^\s*function (\w+)/;function Ot(n){var e=n&&n.toString().match(Bt);return e?e[1]:""}function Dt(n,e){return Ot(n)===Ot(e)}function Rt(n,e){if(!i(e))return Dt(e,n)?0:-1;for(var t=0,r=e.length;t<r;t++)if(Dt(e[t],n))return t;return-1}var Mt={enumerable:!0,configurable:!0,get:O,set:O};function Lt(n,e,t){Mt.get=function(){return this[e][t]},Mt.set=function(n){this[e][t]=n},Object.defineProperty(n,t,Mt)}function Ut(n){var e=n.$options;if(e.props&&function(n,e){var t=n.$options.propsData||{},r=n._props=Mn({}),i=n.$options._propKeys=[];n.$parent&&An(!1);var a=function(a){i.push(a);var o=jt(a,e,t,n);Bn(r,a,o,void 0,!0),a in n||Lt(n,"_props",a)};for(var o in e)a(o);An(!0)}(n,e.props),function(n){var e=n.$options,t=e.setup;if(t){var r=n._setupContext=ye(n);mn(n),Tn();var i=ze(t,null,[n._props||Mn({}),r],n,"setup");if(Cn(),mn(),c(i))e.render=i;else if(d(i))if(n._setupState=i,i.__sfc){var a=n._setupProxy={};for(var o in i)"__sfc"!==o&&qn(a,i,o)}else for(var o in i)W(o)||qn(n,i,o);else 0}}(n),e.methods&&function(n,e){n.$options.props;for(var t in e)n[t]="function"!=typeof e[t]?O:_(e[t],n)}(n,e.methods),e.data)!function(n){var e=n.$options.data;p(e=n._data=c(e)?function(n,e){Tn();try{return n.call(e,e)}catch(n){return ke(n,e,"data()"),{}}finally{Cn()}}(e,n):e||{})||(e={});var t=Object.keys(e),r=n.$options.props,i=(n.$options.methods,t.length);for(;i--;){var a=t[i];0,r&&C(r,a)||W(a)||Lt(n,"_data",a)}var o=jn(e);o&&o.vmCount++}(n);else{var t=jn(n._data={});t&&t.vmCount++}e.computed&&function(n,e){var t=n._computedWatchers=Object.create(null),r=ln();for(var i in e){var a=e[i],o=c(a)?a:a.get;0,r||(t[i]=new Ve(n,o||O,O,Ft)),i in n||qt(n,i,a)}}(n,e.computed),e.watch&&e.watch!==rn&&function(n,e){for(var t in e){var r=e[t];if(i(r))for(var a=0;a<r.length;a++)Ht(n,t,r[a]);else Ht(n,t,r)}}(n,e.watch)}var Ft={lazy:!0};function qt(n,e,t){var r=!ln();c(t)?(Mt.get=r?Nt(e):$t(t),Mt.set=O):(Mt.get=t.get?r&&!1!==t.cache?Nt(e):$t(t.get):O,Mt.set=t.set||O),Object.defineProperty(n,e,Mt)}function Nt(n){return function(){var e=this._computedWatchers&&this._computedWatchers[n];if(e)return e.dirty&&e.evaluate(),xn.target&&e.depend(),e.value}}function $t(n){return function(){return n.call(this,this)}}function Ht(n,e,t,r){return p(t)&&(r=t,t=t.handler),"string"==typeof t&&(t=n[t]),n.$watch(e,t,r)}var Wt=0;function Vt(n){var e=n.options;if(n.super){var t=Vt(n.super);if(t!==n.superOptions){n.superOptions=t;var r=function(n){var e,t=n.options,r=n.sealedOptions;for(var i in t)t[i]!==r[i]&&(e||(e={}),e[i]=t[i]);return e}(n);r&&j(n.extendOptions,r),(e=n.options=_t(t,n.extendOptions)).name&&(e.components[e.name]=n)}}return e}function Gt(n){this._init(n)}function Jt(n){n.cid=0;var e=1;n.extend=function(n){n=n||{};var t=this,r=t.cid,i=n._Ctor||(n._Ctor={});if(i[r])return i[r];var a=bt(n)||bt(t.options);var o=function(n){this._init(n)};return(o.prototype=Object.create(t.prototype)).constructor=o,o.cid=e++,o.options=_t(t.options,n),o.super=t,o.options.props&&function(n){var e=n.options.props;for(var t in e)Lt(n.prototype,"_props",t)}(o),o.options.computed&&function(n){var e=n.options.computed;for(var t in e)qt(n.prototype,t,e[t])}(o),o.extend=t.extend,o.mixin=t.mixin,o.use=t.use,q.forEach((function(n){o[n]=t[n]})),a&&(o.options.components[a]=o),o.superOptions=t.options,o.extendOptions=n,o.sealedOptions=j({},o.options),i[r]=o,o}}function Qt(n){return n&&(bt(n.Ctor.options)||n.tag)}function Zt(n,e){return i(n)?n.indexOf(e)>-1:"string"==typeof n?n.split(",").indexOf(e)>-1:!!m(n)&&n.test(e)}function Xt(n,e){var t=n.cache,r=n.keys,i=n._vnode,a=n.$vnode;for(var o in t){var l=t[o];if(l){var s=l.name;s&&!e(s)&&Kt(t,o,r,i)}}a.componentOptions.children=void 0}function Kt(n,e,t,r){var i=n[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),n[e]=null,w(t,e)}!function(n){n.prototype._init=function(n){var e=this;e._uid=Wt++,e._isVue=!0,e.__v_skip=!0,e._scope=new $n(!0),e._scope.parent=void 0,e._scope._vm=!0,n&&n._isComponent?function(n,e){var t=n.$options=Object.create(n.constructor.options),r=e._parentVnode;t.parent=e.parent,t._parentVnode=r;var i=r.componentOptions;t.propsData=i.propsData,t._parentListeners=i.listeners,t._renderChildren=i.children,t._componentTag=i.tag,e.render&&(t.render=e.render,t.staticRenderFns=e.staticRenderFns)}(e,n):e.$options=_t(Vt(e.constructor),n||{},e),e._renderProxy=e,e._self=e,function(n){var e=n.$options,t=e.parent;if(t&&!e.abstract){for(;t.$options.abstract&&t.$parent;)t=t.$parent;t.$children.push(n)}n.$parent=t,n.$root=t?t.$root:n,n.$children=[],n.$refs={},n._provided=t?t._provided:Object.create(null),n._watcher=null,n._inactive=null,n._directInactive=!1,n._isMounted=!1,n._isDestroyed=!1,n._isBeingDestroyed=!1}(e),function(n){n._events=Object.create(null),n._hasHookEvent=!1;var e=n.$options._parentListeners;e&&Ze(n,e)}(e),function(n){n._vnode=null,n._staticTrees=null;var e=n.$options,t=n.$vnode=e._parentVnode,i=t&&t.context;n.$slots=me(e._renderChildren,i),n.$scopedSlots=t?ve(n.$parent,t.data.scopedSlots,n.$slots):r,n._c=function(e,t,r,i){return Se(n,e,t,r,i,!1)},n.$createElement=function(e,t,r,i){return Se(n,e,t,r,i,!0)};var a=t&&t.data;Bn(n,"$attrs",a&&a.attrs||r,null,!0),Bn(n,"$listeners",e._parentListeners||r,null,!0)}(e),et(e,"beforeCreate",void 0,!1),function(n){var e=ht(n.$options.inject,n);e&&(An(!1),Object.keys(e).forEach((function(t){Bn(n,t,e[t])})),An(!0))}(e),Ut(e),function(n){var e=n.$options.provide;if(e){var t=c(e)?e.call(n):e;if(!d(t))return;for(var r=Hn(n),i=un?Reflect.ownKeys(t):Object.keys(t),a=0;a<i.length;a++){var o=i[a];Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(t,o))}}}(e),et(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(Gt),function(n){var e={get:function(){return this._data}},t={get:function(){return this._props}};Object.defineProperty(n.prototype,"$data",e),Object.defineProperty(n.prototype,"$props",t),n.prototype.$set=On,n.prototype.$delete=Dn,n.prototype.$watch=function(n,e,t){if(p(e))return Ht(this,n,e,t);(t=t||{}).user=!0;var r=new Ve(this,n,e,t);if(t.immediate){var i='callback for immediate watcher "'.concat(r.expression,'"');Tn(),ze(e,this,[r.value],this,i),Cn()}return function(){r.teardown()}}}(Gt),function(n){var e=/^hook:/;n.prototype.$on=function(n,t){var r=this;if(i(n))for(var a=0,o=n.length;a<o;a++)r.$on(n[a],t);else(r._events[n]||(r._events[n]=[])).push(t),e.test(n)&&(r._hasHookEvent=!0);return r},n.prototype.$once=function(n,e){var t=this;function r(){t.$off(n,r),e.apply(t,arguments)}return r.fn=e,t.$on(n,r),t},n.prototype.$off=function(n,e){var t=this;if(!arguments.length)return t._events=Object.create(null),t;if(i(n)){for(var r=0,a=n.length;r<a;r++)t.$off(n[r],e);return t}var o,l=t._events[n];if(!l)return t;if(!e)return t._events[n]=null,t;for(var s=l.length;s--;)if((o=l[s])===e||o.fn===e){l.splice(s,1);break}return t},n.prototype.$emit=function(n){var e=this,t=e._events[n];if(t){t=t.length>1?P(t):t;for(var r=P(arguments,1),i='event handler for "'.concat(n,'"'),a=0,o=t.length;a<o;a++)ze(t[a],e,r,e,i)}return e}}(Gt),function(n){n.prototype._update=function(n,e){var t=this,r=t.$el,i=t._vnode,a=Ke(t);t._vnode=n,t.$el=i?t.__patch__(i,n):t.__patch__(t.$el,n,e,!1),a(),r&&(r.__vue__=null),t.$el&&(t.$el.__vue__=t);for(var o=t;o&&o.$vnode&&o.$parent&&o.$vnode===o.$parent._vnode;)o.$parent.$el=o.$el,o=o.$parent},n.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},n.prototype.$destroy=function(){var n=this;if(!n._isBeingDestroyed){et(n,"beforeDestroy"),n._isBeingDestroyed=!0;var e=n.$parent;!e||e._isBeingDestroyed||n.$options.abstract||w(e.$children,n),n._scope.stop(),n._data.__ob__&&n._data.__ob__.vmCount--,n._isDestroyed=!0,n.__patch__(n._vnode,null),et(n,"destroyed"),n.$off(),n.$el&&(n.$el.__vue__=null),n.$vnode&&(n.$vnode.parent=null)}}}(Gt),function(n){pe(n.prototype),n.prototype.$nextTick=function(n){return Fe(n,this)},n.prototype._render=function(){var n=this,e=n.$options,t=e.render,r=e._parentVnode;r&&n._isMounted&&(n.$scopedSlots=ve(n.$parent,r.data.scopedSlots,n.$slots,n.$scopedSlots),n._slotsProxy&&Te(n._slotsProxy,n.$scopedSlots)),n.$vnode=r;var a,o=pn,l=Ce;try{mn(n),Ce=n,a=t.call(n._renderProxy,n.$createElement)}catch(e){ke(e,n,"render"),a=n._vnode}finally{Ce=l,mn(o)}return i(a)&&1===a.length&&(a=a[0]),a instanceof hn||(a=gn()),a.parent=r,a}}(Gt);var Yt=[String,RegExp,Array],nr={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Yt,exclude:Yt,max:[String,Number]},methods:{cacheVNode:function(){var n=this.cache,e=this.keys,t=this.vnodeToCache,r=this.keyToCache;if(t){var i=t.tag,a=t.componentInstance,o=t.componentOptions;n[r]={name:Qt(o),tag:i,componentInstance:a},e.push(r),this.max&&e.length>parseInt(this.max)&&Kt(n,e[0],e,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var n in this.cache)Kt(this.cache,n,this.keys)},mounted:function(){var n=this;this.cacheVNode(),this.$watch("include",(function(e){Xt(n,(function(n){return Zt(e,n)}))})),this.$watch("exclude",(function(e){Xt(n,(function(n){return!Zt(e,n)}))}))},updated:function(){this.cacheVNode()},render:function(){var n=this.$slots.default,e=Ee(n),t=e&&e.componentOptions;if(t){var r=Qt(t),i=this.include,a=this.exclude;if(i&&(!r||!Zt(i,r))||a&&r&&Zt(a,r))return e;var o=this.cache,l=this.keys,s=null==e.key?t.Ctor.cid+(t.tag?"::".concat(t.tag):""):e.key;o[s]?(e.componentInstance=o[s].componentInstance,w(l,s),l.push(s)):(this.vnodeToCache=e,this.keyToCache=s),e.data.keepAlive=!0}return e||n&&n[0]}}};!function(n){var e={get:function(){return $}};Object.defineProperty(n,"config",e),n.util={warn:Ct,extend:j,mergeOptions:_t,defineReactive:Bn},n.set=On,n.delete=Dn,n.nextTick=Fe,n.observable=function(n){return jn(n),n},n.options=Object.create(null),q.forEach((function(e){n.options[e+"s"]=Object.create(null)})),n.options._base=n,j(n.options.components,nr),function(n){n.use=function(n){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(n)>-1)return this;var t=P(arguments,1);return t.unshift(this),c(n.install)?n.install.apply(n,t):c(n)&&n.apply(null,t),e.push(n),this}}(n),function(n){n.mixin=function(n){return this.options=_t(this.options,n),this}}(n),Jt(n),function(n){q.forEach((function(e){n[e]=function(n,t){return t?("component"===e&&p(t)&&(t.name=t.name||n,t=this.options._base.extend(t)),"directive"===e&&c(t)&&(t={bind:t,update:t}),this.options[e+"s"][n]=t,t):this.options[e+"s"][n]}}))}(n)}(Gt),Object.defineProperty(Gt.prototype,"$isServer",{get:ln}),Object.defineProperty(Gt.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Gt,"FunctionalRenderContext",{value:gt}),Gt.version="2.7.16";var er=y("style,class"),tr=y("input,textarea,option,select,progress"),rr=y("contenteditable,draggable,spellcheck"),ir=y("events,caret,typing,plaintext-only"),ar=y("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),or="http://www.w3.org/1999/xlink",lr=function(n){return":"===n.charAt(5)&&"xlink"===n.slice(0,5)},sr=function(n){return lr(n)?n.slice(6,n.length):""},cr=function(n){return null==n||!1===n};function dr(n){for(var e=n.data,t=n,r=n;o(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=ur(r.data,e));for(;o(t=t.parent);)t&&t.data&&(e=ur(e,t.data));return function(n,e){if(o(n)||o(e))return pr(n,mr(e));return""}(e.staticClass,e.class)}function ur(n,e){return{staticClass:pr(n.staticClass,e.staticClass),class:o(n.class)?[n.class,e.class]:e.class}}function pr(n,e){return n?e?n+" "+e:n:e||""}function mr(n){return Array.isArray(n)?function(n){for(var e,t="",r=0,i=n.length;r<i;r++)o(e=mr(n[r]))&&""!==e&&(t&&(t+=" "),t+=e);return t}(n):d(n)?function(n){var e="";for(var t in n)n[t]&&(e&&(e+=" "),e+=t);return e}(n):"string"==typeof n?n:""}var hr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},gr=y("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),vr=y("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),fr=function(n){return gr(n)||vr(n)};var br=Object.create(null);var yr=y("text,number,password,search,email,tel,url");var xr=Object.freeze({__proto__:null,createElement:function(n,e){var t=document.createElement(n);return"select"!==n||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&t.setAttribute("multiple","multiple"),t},createElementNS:function(n,e){return document.createElementNS(hr[n],e)},createTextNode:function(n){return document.createTextNode(n)},createComment:function(n){return document.createComment(n)},insertBefore:function(n,e,t){n.insertBefore(e,t)},removeChild:function(n,e){n.removeChild(e)},appendChild:function(n,e){n.appendChild(e)},parentNode:function(n){return n.parentNode},nextSibling:function(n){return n.nextSibling},tagName:function(n){return n.tagName},setTextContent:function(n,e){n.textContent=e},setStyleScope:function(n,e){n.setAttribute(e,"")}}),wr={create:function(n,e){Tr(e)},update:function(n,e){n.data.ref!==e.data.ref&&(Tr(n,!0),Tr(e))},destroy:function(n){Tr(n,!0)}};function Tr(n,e){var t=n.data.ref;if(o(t)){var r=n.context,a=n.componentInstance||n.elm,l=e?null:a,s=e?void 0:a;if(c(t))ze(t,r,[l],r,"template ref function");else{var d=n.data.refInFor,u="string"==typeof t||"number"==typeof t,p=Fn(t),m=r.$refs;if(u||p)if(d){var h=u?m[t]:t.value;e?i(h)&&w(h,a):i(h)?h.includes(a)||h.push(a):u?(m[t]=[a],Cr(r,t,m[t])):t.value=[a]}else if(u){if(e&&m[t]!==a)return;m[t]=s,Cr(r,t,l)}else if(p){if(e&&t.value!==a)return;t.value=l}else 0}}}function Cr(n,e,t){var r=n._setupState;r&&C(r,e)&&(Fn(r[e])?r[e].value=t:r[e]=t)}var Ir=new hn("",{},[]),Er=["create","activate","update","remove","destroy"];function Sr(n,e){return n.key===e.key&&n.asyncFactory===e.asyncFactory&&(n.tag===e.tag&&n.isComment===e.isComment&&o(n.data)===o(e.data)&&function(n,e){if("input"!==n.tag)return!0;var t,r=o(t=n.data)&&o(t=t.attrs)&&t.type,i=o(t=e.data)&&o(t=t.attrs)&&t.type;return r===i||yr(r)&&yr(i)}(n,e)||l(n.isAsyncPlaceholder)&&a(e.asyncFactory.error))}function kr(n,e,t){var r,i,a={};for(r=e;r<=t;++r)o(i=n[r].key)&&(a[i]=r);return a}var zr={create:Ar,update:Ar,destroy:function(n){Ar(n,Ir)}};function Ar(n,e){(n.data.directives||e.data.directives)&&function(n,e){var t,r,i,a=n===Ir,o=e===Ir,l=Pr(n.data.directives,n.context),s=Pr(e.data.directives,e.context),c=[],d=[];for(t in s)r=l[t],i=s[t],r?(i.oldValue=r.value,i.oldArg=r.arg,Br(i,"update",e,n),i.def&&i.def.componentUpdated&&d.push(i)):(Br(i,"bind",e,n),i.def&&i.def.inserted&&c.push(i));if(c.length){var u=function(){for(var t=0;t<c.length;t++)Br(c[t],"inserted",e,n)};a?Jn(e,"insert",u):u()}d.length&&Jn(e,"postpatch",(function(){for(var t=0;t<d.length;t++)Br(d[t],"componentUpdated",e,n)}));if(!a)for(t in l)s[t]||Br(l[t],"unbind",n,n,o)}(n,e)}var _r=Object.create(null);function Pr(n,e){var t,r,i=Object.create(null);if(!n)return i;for(t=0;t<n.length;t++){if((r=n[t]).modifiers||(r.modifiers=_r),i[jr(r)]=r,e._setupState&&e._setupState.__sfc){var a=r.def||Pt(e,"_setupState","v-"+r.name);r.def="function"==typeof a?{bind:a,update:a}:a}r.def=r.def||Pt(e.$options,"directives",r.name)}return i}function jr(n){return n.rawName||"".concat(n.name,".").concat(Object.keys(n.modifiers||{}).join("."))}function Br(n,e,t,r,i){var a=n.def&&n.def[e];if(a)try{a(t.elm,n,t,r,i)}catch(r){ke(r,t.context,"directive ".concat(n.name," ").concat(e," hook"))}}var Or=[wr,zr];function Dr(n,e){var t=e.componentOptions;if(!(o(t)&&!1===t.Ctor.options.inheritAttrs||a(n.data.attrs)&&a(e.data.attrs))){var r,i,s=e.elm,c=n.data.attrs||{},d=e.data.attrs||{};for(r in(o(d.__ob__)||l(d._v_attr_proxy))&&(d=e.data.attrs=j({},d)),d)i=d[r],c[r]!==i&&Rr(s,r,i,e.data.pre);for(r in(X||Y)&&d.value!==c.value&&Rr(s,"value",d.value),c)a(d[r])&&(lr(r)?s.removeAttributeNS(or,sr(r)):rr(r)||s.removeAttribute(r))}}function Rr(n,e,t,r){r||n.tagName.indexOf("-")>-1?Mr(n,e,t):ar(e)?cr(t)?n.removeAttribute(e):(t="allowfullscreen"===e&&"EMBED"===n.tagName?"true":e,n.setAttribute(e,t)):rr(e)?n.setAttribute(e,function(n,e){return cr(e)||"false"===e?"false":"contenteditable"===n&&ir(e)?e:"true"}(e,t)):lr(e)?cr(t)?n.removeAttributeNS(or,sr(e)):n.setAttributeNS(or,e,t):Mr(n,e,t)}function Mr(n,e,t){if(cr(t))n.removeAttribute(e);else{if(X&&!K&&"TEXTAREA"===n.tagName&&"placeholder"===e&&""!==t&&!n.__ieph){var r=function(e){e.stopImmediatePropagation(),n.removeEventListener("input",r)};n.addEventListener("input",r),n.__ieph=!0}n.setAttribute(e,t)}}var Lr={create:Dr,update:Dr};function Ur(n,e){var t=e.elm,r=e.data,i=n.data;if(!(a(r.staticClass)&&a(r.class)&&(a(i)||a(i.staticClass)&&a(i.class)))){var l=dr(e),s=t._transitionClasses;o(s)&&(l=pr(l,mr(s))),l!==t._prevClass&&(t.setAttribute("class",l),t._prevClass=l)}}var Fr,qr={create:Ur,update:Ur};function Nr(n,e,t){var r=Fr;return function i(){var a=e.apply(null,arguments);null!==a&&Wr(n,i,t,r)}}var $r=je&&!(tn&&Number(tn[1])<=53);function Hr(n,e,t,r){if($r){var i=st,a=e;e=a._wrapper=function(n){if(n.target===n.currentTarget||n.timeStamp>=i||n.timeStamp<=0||n.target.ownerDocument!==document)return a.apply(this,arguments)}}Fr.addEventListener(n,e,an?{capture:t,passive:r}:t)}function Wr(n,e,t,r){(r||Fr).removeEventListener(n,e._wrapper||e,t)}function Vr(n,e){if(!a(n.data.on)||!a(e.data.on)){var t=e.data.on||{},r=n.data.on||{};Fr=e.elm||n.elm,function(n){if(o(n.__r)){var e=X?"change":"input";n[e]=[].concat(n.__r,n[e]||[]),delete n.__r}o(n.__c)&&(n.change=[].concat(n.__c,n.change||[]),delete n.__c)}(t),Gn(t,r,Hr,Wr,Nr,e.context),Fr=void 0}}var Gr,Jr={create:Vr,update:Vr,destroy:function(n){return Vr(n,Ir)}};function Qr(n,e){if(!a(n.data.domProps)||!a(e.data.domProps)){var t,r,i=e.elm,s=n.data.domProps||{},c=e.data.domProps||{};for(t in(o(c.__ob__)||l(c._v_attr_proxy))&&(c=e.data.domProps=j({},c)),s)t in c||(i[t]="");for(t in c){if(r=c[t],"textContent"===t||"innerHTML"===t){if(e.children&&(e.children.length=0),r===s[t])continue;1===i.childNodes.length&&i.removeChild(i.childNodes[0])}if("value"===t&&"PROGRESS"!==i.tagName){i._value=r;var d=a(r)?"":String(r);Zr(i,d)&&(i.value=d)}else if("innerHTML"===t&&vr(i.tagName)&&a(i.innerHTML)){(Gr=Gr||document.createElement("div")).innerHTML="<svg>".concat(r,"</svg>");for(var u=Gr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;u.firstChild;)i.appendChild(u.firstChild)}else if(r!==s[t])try{i[t]=r}catch(n){}}}}function Zr(n,e){return!n.composing&&("OPTION"===n.tagName||function(n,e){var t=!0;try{t=document.activeElement!==n}catch(n){}return t&&n.value!==e}(n,e)||function(n,e){var t=n.value,r=n._vModifiers;if(o(r)){if(r.number)return b(t)!==b(e);if(r.trim)return t.trim()!==e.trim()}return t!==e}(n,e))}var Xr={create:Qr,update:Qr},Kr=I((function(n){var e={},t=/:(.+)/;return n.split(/;(?![^(]*\))/g).forEach((function(n){if(n){var r=n.split(t);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function Yr(n){var e=ni(n.style);return n.staticStyle?j(n.staticStyle,e):e}function ni(n){return Array.isArray(n)?B(n):"string"==typeof n?Kr(n):n}var ei,ti=/^--/,ri=/\s*!important$/,ii=function(n,e,t){if(ti.test(e))n.style.setProperty(e,t);else if(ri.test(t))n.style.setProperty(A(e),t.replace(ri,""),"important");else{var r=oi(e);if(Array.isArray(t))for(var i=0,a=t.length;i<a;i++)n.style[r]=t[i];else n.style[r]=t}},ai=["Webkit","Moz","ms"],oi=I((function(n){if(ei=ei||document.createElement("div").style,"filter"!==(n=S(n))&&n in ei)return n;for(var e=n.charAt(0).toUpperCase()+n.slice(1),t=0;t<ai.length;t++){var r=ai[t]+e;if(r in ei)return r}}));function li(n,e){var t=e.data,r=n.data;if(!(a(t.staticStyle)&&a(t.style)&&a(r.staticStyle)&&a(r.style))){var i,l,s=e.elm,c=r.staticStyle,d=r.normalizedStyle||r.style||{},u=c||d,p=ni(e.data.style)||{};e.data.normalizedStyle=o(p.__ob__)?j({},p):p;var m=function(n,e){var t,r={};if(e)for(var i=n;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(t=Yr(i.data))&&j(r,t);(t=Yr(n.data))&&j(r,t);for(var a=n;a=a.parent;)a.data&&(t=Yr(a.data))&&j(r,t);return r}(e,!0);for(l in u)a(m[l])&&ii(s,l,"");for(l in m)i=m[l],ii(s,l,null==i?"":i)}}var si={create:li,update:li},ci=/\s+/;function di(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(ci).forEach((function(e){return n.classList.add(e)})):n.classList.add(e);else{var t=" ".concat(n.getAttribute("class")||""," ");t.indexOf(" "+e+" ")<0&&n.setAttribute("class",(t+e).trim())}}function ui(n,e){if(e&&(e=e.trim()))if(n.classList)e.indexOf(" ")>-1?e.split(ci).forEach((function(e){return n.classList.remove(e)})):n.classList.remove(e),n.classList.length||n.removeAttribute("class");else{for(var t=" ".concat(n.getAttribute("class")||""," "),r=" "+e+" ";t.indexOf(r)>=0;)t=t.replace(r," ");(t=t.trim())?n.setAttribute("class",t):n.removeAttribute("class")}}function pi(n){if(n){if("object"==typeof n){var e={};return!1!==n.css&&j(e,mi(n.name||"v")),j(e,n),e}return"string"==typeof n?mi(n):void 0}}var mi=I((function(n){return{enterClass:"".concat(n,"-enter"),enterToClass:"".concat(n,"-enter-to"),enterActiveClass:"".concat(n,"-enter-active"),leaveClass:"".concat(n,"-leave"),leaveToClass:"".concat(n,"-leave-to"),leaveActiveClass:"".concat(n,"-leave-active")}})),hi=Q&&!K,gi="transition",vi="transitionend",fi="animation",bi="animationend";hi&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(gi="WebkitTransition",vi="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(fi="WebkitAnimation",bi="webkitAnimationEnd"));var yi=Q?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(n){return n()};function xi(n){yi((function(){yi(n)}))}function wi(n,e){var t=n._transitionClasses||(n._transitionClasses=[]);t.indexOf(e)<0&&(t.push(e),di(n,e))}function Ti(n,e){n._transitionClasses&&w(n._transitionClasses,e),ui(n,e)}function Ci(n,e,t){var r=Ei(n,e),i=r.type,a=r.timeout,o=r.propCount;if(!i)return t();var l="transition"===i?vi:bi,s=0,c=function(){n.removeEventListener(l,d),t()},d=function(e){e.target===n&&++s>=o&&c()};setTimeout((function(){s<o&&c()}),a+1),n.addEventListener(l,d)}var Ii=/\b(transform|all)(,|$)/;function Ei(n,e){var t,r=window.getComputedStyle(n),i=(r[gi+"Delay"]||"").split(", "),a=(r[gi+"Duration"]||"").split(", "),o=Si(i,a),l=(r[fi+"Delay"]||"").split(", "),s=(r[fi+"Duration"]||"").split(", "),c=Si(l,s),d=0,u=0;return"transition"===e?o>0&&(t="transition",d=o,u=a.length):"animation"===e?c>0&&(t="animation",d=c,u=s.length):u=(t=(d=Math.max(o,c))>0?o>c?"transition":"animation":null)?"transition"===t?a.length:s.length:0,{type:t,timeout:d,propCount:u,hasTransform:"transition"===t&&Ii.test(r[gi+"Property"])}}function Si(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max.apply(null,e.map((function(e,t){return ki(e)+ki(n[t])})))}function ki(n){return 1e3*Number(n.slice(0,-1).replace(",","."))}function zi(n,e){var t=n.elm;o(t._leaveCb)&&(t._leaveCb.cancelled=!0,t._leaveCb());var r=pi(n.data.transition);if(!a(r)&&!o(t._enterCb)&&1===t.nodeType){for(var i=r.css,l=r.type,s=r.enterClass,u=r.enterToClass,p=r.enterActiveClass,m=r.appearClass,h=r.appearToClass,g=r.appearActiveClass,v=r.beforeEnter,f=r.enter,y=r.afterEnter,x=r.enterCancelled,w=r.beforeAppear,T=r.appear,C=r.afterAppear,I=r.appearCancelled,E=r.duration,S=Xe,k=Xe.$vnode;k&&k.parent;)S=k.context,k=k.parent;var z=!S._isMounted||!n.isRootInsert;if(!z||T||""===T){var A=z&&m?m:s,_=z&&g?g:p,P=z&&h?h:u,j=z&&w||v,B=z&&c(T)?T:f,O=z&&C||y,D=z&&I||x,R=b(d(E)?E.enter:E);0;var M=!1!==i&&!K,L=Pi(B),F=t._enterCb=U((function(){M&&(Ti(t,P),Ti(t,_)),F.cancelled?(M&&Ti(t,A),D&&D(t)):O&&O(t),t._enterCb=null}));n.data.show||Jn(n,"insert",(function(){var e=t.parentNode,r=e&&e._pending&&e._pending[n.key];r&&r.tag===n.tag&&r.elm._leaveCb&&r.elm._leaveCb(),B&&B(t,F)})),j&&j(t),M&&(wi(t,A),wi(t,_),xi((function(){Ti(t,A),F.cancelled||(wi(t,P),L||(_i(R)?setTimeout(F,R):Ci(t,l,F)))}))),n.data.show&&(e&&e(),B&&B(t,F)),M||L||F()}}}function Ai(n,e){var t=n.elm;o(t._enterCb)&&(t._enterCb.cancelled=!0,t._enterCb());var r=pi(n.data.transition);if(a(r)||1!==t.nodeType)return e();if(!o(t._leaveCb)){var i=r.css,l=r.type,s=r.leaveClass,c=r.leaveToClass,u=r.leaveActiveClass,p=r.beforeLeave,m=r.leave,h=r.afterLeave,g=r.leaveCancelled,v=r.delayLeave,f=r.duration,y=!1!==i&&!K,x=Pi(m),w=b(d(f)?f.leave:f);0;var T=t._leaveCb=U((function(){t.parentNode&&t.parentNode._pending&&(t.parentNode._pending[n.key]=null),y&&(Ti(t,c),Ti(t,u)),T.cancelled?(y&&Ti(t,s),g&&g(t)):(e(),h&&h(t)),t._leaveCb=null}));v?v(C):C()}function C(){T.cancelled||(!n.data.show&&t.parentNode&&((t.parentNode._pending||(t.parentNode._pending={}))[n.key]=n),p&&p(t),y&&(wi(t,s),wi(t,u),xi((function(){Ti(t,s),T.cancelled||(wi(t,c),x||(_i(w)?setTimeout(T,w):Ci(t,l,T)))}))),m&&m(t,T),y||x||T())}}function _i(n){return"number"==typeof n&&!isNaN(n)}function Pi(n){if(a(n))return!1;var e=n.fns;return o(e)?Pi(Array.isArray(e)?e[0]:e):(n._length||n.length)>1}function ji(n,e){!0!==e.data.show&&zi(e)}var Bi=function(n){var e,t,r={},c=n.modules,d=n.nodeOps;for(e=0;e<Er.length;++e)for(r[Er[e]]=[],t=0;t<c.length;++t)o(c[t][Er[e]])&&r[Er[e]].push(c[t][Er[e]]);function u(n){var e=d.parentNode(n);o(e)&&d.removeChild(e,n)}function p(n,e,t,i,a,s,c){if(o(n.elm)&&o(s)&&(n=s[c]=fn(n)),n.isRootInsert=!a,!function(n,e,t,i){var a=n.data;if(o(a)){var s=o(n.componentInstance)&&a.keepAlive;if(o(a=a.hook)&&o(a=a.init)&&a(n,!1),o(n.componentInstance))return m(n,e),h(t,n.elm,i),l(s)&&function(n,e,t,i){var a,l=n;for(;l.componentInstance;)if(l=l.componentInstance._vnode,o(a=l.data)&&o(a=a.transition)){for(a=0;a<r.activate.length;++a)r.activate[a](Ir,l);e.push(l);break}h(t,n.elm,i)}(n,e,t,i),!0}}(n,e,t,i)){var u=n.data,p=n.children,v=n.tag;o(v)?(n.elm=n.ns?d.createElementNS(n.ns,v):d.createElement(v,n),b(n),g(n,p,e),o(u)&&f(n,e),h(t,n.elm,i)):l(n.isComment)?(n.elm=d.createComment(n.text),h(t,n.elm,i)):(n.elm=d.createTextNode(n.text),h(t,n.elm,i))}}function m(n,e){o(n.data.pendingInsert)&&(e.push.apply(e,n.data.pendingInsert),n.data.pendingInsert=null),n.elm=n.componentInstance.$el,v(n)?(f(n,e),b(n)):(Tr(n),e.push(n))}function h(n,e,t){o(n)&&(o(t)?d.parentNode(t)===n&&d.insertBefore(n,e,t):d.appendChild(n,e))}function g(n,e,t){if(i(e)){0;for(var r=0;r<e.length;++r)p(e[r],t,n.elm,null,!0,e,r)}else s(n.text)&&d.appendChild(n.elm,d.createTextNode(String(n.text)))}function v(n){for(;n.componentInstance;)n=n.componentInstance._vnode;return o(n.tag)}function f(n,t){for(var i=0;i<r.create.length;++i)r.create[i](Ir,n);o(e=n.data.hook)&&(o(e.create)&&e.create(Ir,n),o(e.insert)&&t.push(n))}function b(n){var e;if(o(e=n.fnScopeId))d.setStyleScope(n.elm,e);else for(var t=n;t;)o(e=t.context)&&o(e=e.$options._scopeId)&&d.setStyleScope(n.elm,e),t=t.parent;o(e=Xe)&&e!==n.context&&e!==n.fnContext&&o(e=e.$options._scopeId)&&d.setStyleScope(n.elm,e)}function x(n,e,t,r,i,a){for(;r<=i;++r)p(t[r],a,n,e,!1,t,r)}function w(n){var e,t,i=n.data;if(o(i))for(o(e=i.hook)&&o(e=e.destroy)&&e(n),e=0;e<r.destroy.length;++e)r.destroy[e](n);if(o(e=n.children))for(t=0;t<n.children.length;++t)w(n.children[t])}function T(n,e,t){for(;e<=t;++e){var r=n[e];o(r)&&(o(r.tag)?(C(r),w(r)):u(r.elm))}}function C(n,e){if(o(e)||o(n.data)){var t,i=r.remove.length+1;for(o(e)?e.listeners+=i:e=function(n,e){function t(){0==--t.listeners&&u(n)}return t.listeners=e,t}(n.elm,i),o(t=n.componentInstance)&&o(t=t._vnode)&&o(t.data)&&C(t,e),t=0;t<r.remove.length;++t)r.remove[t](n,e);o(t=n.data.hook)&&o(t=t.remove)?t(n,e):e()}else u(n.elm)}function I(n,e,t,r){for(var i=t;i<r;i++){var a=e[i];if(o(a)&&Sr(n,a))return i}}function E(n,e,t,i,s,c){if(n!==e){o(e.elm)&&o(i)&&(e=i[s]=fn(e));var u=e.elm=n.elm;if(l(n.isAsyncPlaceholder))o(e.asyncFactory.resolved)?z(n.elm,e,t):e.isAsyncPlaceholder=!0;else if(l(e.isStatic)&&l(n.isStatic)&&e.key===n.key&&(l(e.isCloned)||l(e.isOnce)))e.componentInstance=n.componentInstance;else{var m,h=e.data;o(h)&&o(m=h.hook)&&o(m=m.prepatch)&&m(n,e);var g=n.children,f=e.children;if(o(h)&&v(e)){for(m=0;m<r.update.length;++m)r.update[m](n,e);o(m=h.hook)&&o(m=m.update)&&m(n,e)}a(e.text)?o(g)&&o(f)?g!==f&&function(n,e,t,r,i){var l,s,c,u=0,m=0,h=e.length-1,g=e[0],v=e[h],f=t.length-1,b=t[0],y=t[f],w=!i;for(0;u<=h&&m<=f;)a(g)?g=e[++u]:a(v)?v=e[--h]:Sr(g,b)?(E(g,b,r,t,m),g=e[++u],b=t[++m]):Sr(v,y)?(E(v,y,r,t,f),v=e[--h],y=t[--f]):Sr(g,y)?(E(g,y,r,t,f),w&&d.insertBefore(n,g.elm,d.nextSibling(v.elm)),g=e[++u],y=t[--f]):Sr(v,b)?(E(v,b,r,t,m),w&&d.insertBefore(n,v.elm,g.elm),v=e[--h],b=t[++m]):(a(l)&&(l=kr(e,u,h)),a(s=o(b.key)?l[b.key]:I(b,e,u,h))?p(b,r,n,g.elm,!1,t,m):Sr(c=e[s],b)?(E(c,b,r,t,m),e[s]=void 0,w&&d.insertBefore(n,c.elm,g.elm)):p(b,r,n,g.elm,!1,t,m),b=t[++m]);u>h?x(n,a(t[f+1])?null:t[f+1].elm,t,m,f,r):m>f&&T(e,u,h)}(u,g,f,t,c):o(f)?(o(n.text)&&d.setTextContent(u,""),x(u,null,f,0,f.length-1,t)):o(g)?T(g,0,g.length-1):o(n.text)&&d.setTextContent(u,""):n.text!==e.text&&d.setTextContent(u,e.text),o(h)&&o(m=h.hook)&&o(m=m.postpatch)&&m(n,e)}}}function S(n,e,t){if(l(t)&&o(n.parent))n.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var k=y("attrs,class,staticClass,staticStyle,key");function z(n,e,t,r){var i,a=e.tag,s=e.data,c=e.children;if(r=r||s&&s.pre,e.elm=n,l(e.isComment)&&o(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(o(s)&&(o(i=s.hook)&&o(i=i.init)&&i(e,!0),o(i=e.componentInstance)))return m(e,t),!0;if(o(a)){if(o(c))if(n.hasChildNodes())if(o(i=s)&&o(i=i.domProps)&&o(i=i.innerHTML)){if(i!==n.innerHTML)return!1}else{for(var d=!0,u=n.firstChild,p=0;p<c.length;p++){if(!u||!z(u,c[p],t,r)){d=!1;break}u=u.nextSibling}if(!d||u)return!1}else g(e,c,t);if(o(s)){var h=!1;for(var v in s)if(!k(v)){h=!0,f(e,t);break}!h&&s.class&&$e(s.class)}}else n.data!==e.text&&(n.data=e.text);return!0}return function(n,e,t,i){if(!a(e)){var s,c=!1,u=[];if(a(n))c=!0,p(e,u);else{var m=o(n.nodeType);if(!m&&Sr(n,e))E(n,e,u,null,null,i);else{if(m){if(1===n.nodeType&&n.hasAttribute("data-server-rendered")&&(n.removeAttribute("data-server-rendered"),t=!0),l(t)&&z(n,e,u))return S(e,u,!0),n;s=n,n=new hn(d.tagName(s).toLowerCase(),{},[],void 0,s)}var h=n.elm,g=d.parentNode(h);if(p(e,u,h._leaveCb?null:g,d.nextSibling(h)),o(e.parent))for(var f=e.parent,b=v(e);f;){for(var y=0;y<r.destroy.length;++y)r.destroy[y](f);if(f.elm=e.elm,b){for(var x=0;x<r.create.length;++x)r.create[x](Ir,f);var C=f.data.hook.insert;if(C.merged)for(var I=C.fns.slice(1),k=0;k<I.length;k++)I[k]()}else Tr(f);f=f.parent}o(g)?T([n],0,0):o(n.tag)&&w(n)}}return S(e,u,c),e.elm}o(n)&&w(n)}}({nodeOps:xr,modules:[Lr,qr,Jr,Xr,si,Q?{create:ji,activate:ji,remove:function(n,e){!0!==n.data.show?Ai(n,e):e()}}:{}].concat(Or)});K&&document.addEventListener("selectionchange",(function(){var n=document.activeElement;n&&n.vmodel&&qi(n,"input")}));var Oi={inserted:function(n,e,t,r){"select"===t.tag?(r.elm&&!r.elm._vOptions?Jn(t,"postpatch",(function(){Oi.componentUpdated(n,e,t)})):Di(n,e,t.context),n._vOptions=[].map.call(n.options,Li)):("textarea"===t.tag||yr(n.type))&&(n._vModifiers=e.modifiers,e.modifiers.lazy||(n.addEventListener("compositionstart",Ui),n.addEventListener("compositionend",Fi),n.addEventListener("change",Fi),K&&(n.vmodel=!0)))},componentUpdated:function(n,e,t){if("select"===t.tag){Di(n,e,t.context);var r=n._vOptions,i=n._vOptions=[].map.call(n.options,Li);if(i.some((function(n,e){return!M(n,r[e])})))(n.multiple?e.value.some((function(n){return Mi(n,i)})):e.value!==e.oldValue&&Mi(e.value,i))&&qi(n,"change")}}};function Di(n,e,t){Ri(n,e,t),(X||Y)&&setTimeout((function(){Ri(n,e,t)}),0)}function Ri(n,e,t){var r=e.value,i=n.multiple;if(!i||Array.isArray(r)){for(var a,o,l=0,s=n.options.length;l<s;l++)if(o=n.options[l],i)a=L(r,Li(o))>-1,o.selected!==a&&(o.selected=a);else if(M(Li(o),r))return void(n.selectedIndex!==l&&(n.selectedIndex=l));i||(n.selectedIndex=-1)}}function Mi(n,e){return e.every((function(e){return!M(e,n)}))}function Li(n){return"_value"in n?n._value:n.value}function Ui(n){n.target.composing=!0}function Fi(n){n.target.composing&&(n.target.composing=!1,qi(n.target,"input"))}function qi(n,e){var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!0),n.dispatchEvent(t)}function Ni(n){return!n.componentInstance||n.data&&n.data.transition?n:Ni(n.componentInstance._vnode)}var $i={model:Oi,show:{bind:function(n,e,t){var r=e.value,i=(t=Ni(t)).data&&t.data.transition,a=n.__vOriginalDisplay="none"===n.style.display?"":n.style.display;r&&i?(t.data.show=!0,zi(t,(function(){n.style.display=a}))):n.style.display=r?a:"none"},update:function(n,e,t){var r=e.value;!r!=!e.oldValue&&((t=Ni(t)).data&&t.data.transition?(t.data.show=!0,r?zi(t,(function(){n.style.display=n.__vOriginalDisplay})):Ai(t,(function(){n.style.display="none"}))):n.style.display=r?n.__vOriginalDisplay:"none")},unbind:function(n,e,t,r,i){i||(n.style.display=n.__vOriginalDisplay)}}},Hi={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Wi(n){var e=n&&n.componentOptions;return e&&e.Ctor.options.abstract?Wi(Ee(e.children)):n}function Vi(n){var e={},t=n.$options;for(var r in t.propsData)e[r]=n[r];var i=t._parentListeners;for(var r in i)e[S(r)]=i[r];return e}function Gi(n,e){if(/\d-keep-alive$/.test(e.tag))return n("keep-alive",{props:e.componentOptions.propsData})}var Ji=function(n){return n.tag||ge(n)},Qi=function(n){return"show"===n.name},Zi={name:"transition",props:Hi,abstract:!0,render:function(n){var e=this,t=this.$slots.default;if(t&&(t=t.filter(Ji)).length){0;var r=this.mode;0;var i=t[0];if(function(n){for(;n=n.parent;)if(n.data.transition)return!0}(this.$vnode))return i;var a=Wi(i);if(!a)return i;if(this._leaving)return Gi(n,i);var o="__transition-".concat(this._uid,"-");a.key=null==a.key?a.isComment?o+"comment":o+a.tag:s(a.key)?0===String(a.key).indexOf(o)?a.key:o+a.key:a.key;var l=(a.data||(a.data={})).transition=Vi(this),c=this._vnode,d=Wi(c);if(a.data.directives&&a.data.directives.some(Qi)&&(a.data.show=!0),d&&d.data&&!function(n,e){return e.key===n.key&&e.tag===n.tag}(a,d)&&!ge(d)&&(!d.componentInstance||!d.componentInstance._vnode.isComment)){var u=d.data.transition=j({},l);if("out-in"===r)return this._leaving=!0,Jn(u,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Gi(n,i);if("in-out"===r){if(ge(a))return c;var p,m=function(){p()};Jn(l,"afterEnter",m),Jn(l,"enterCancelled",m),Jn(u,"delayLeave",(function(n){p=n}))}}return i}}},Xi=j({tag:String,moveClass:String},Hi);function Ki(n){n.elm._moveCb&&n.elm._moveCb(),n.elm._enterCb&&n.elm._enterCb()}function Yi(n){n.data.newPos=n.elm.getBoundingClientRect()}function na(n){var e=n.data.pos,t=n.data.newPos,r=e.left-t.left,i=e.top-t.top;if(r||i){n.data.moved=!0;var a=n.elm.style;a.transform=a.WebkitTransform="translate(".concat(r,"px,").concat(i,"px)"),a.transitionDuration="0s"}}delete Xi.mode;var ea={Transition:Zi,TransitionGroup:{props:Xi,beforeMount:function(){var n=this,e=this._update;this._update=function(t,r){var i=Ke(n);n.__patch__(n._vnode,n.kept,!1,!0),n._vnode=n.kept,i(),e.call(n,t,r)}},render:function(n){for(var e=this.tag||this.$vnode.data.tag||"span",t=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],a=this.children=[],o=Vi(this),l=0;l<i.length;l++){if((d=i[l]).tag)if(null!=d.key&&0!==String(d.key).indexOf("__vlist"))a.push(d),t[d.key]=d,(d.data||(d.data={})).transition=o;else;}if(r){var s=[],c=[];for(l=0;l<r.length;l++){var d;(d=r[l]).data.transition=o,d.data.pos=d.elm.getBoundingClientRect(),t[d.key]?s.push(d):c.push(d)}this.kept=n(e,null,s),this.removed=c}return n(e,null,a)},updated:function(){var n=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";n.length&&this.hasMove(n[0].elm,e)&&(n.forEach(Ki),n.forEach(Yi),n.forEach(na),this._reflow=document.body.offsetHeight,n.forEach((function(n){if(n.data.moved){var t=n.elm,r=t.style;wi(t,e),r.transform=r.WebkitTransform=r.transitionDuration="",t.addEventListener(vi,t._moveCb=function n(r){r&&r.target!==t||r&&!/transform$/.test(r.propertyName)||(t.removeEventListener(vi,n),t._moveCb=null,Ti(t,e))})}})))},methods:{hasMove:function(n,e){if(!hi)return!1;if(this._hasMove)return this._hasMove;var t=n.cloneNode();n._transitionClasses&&n._transitionClasses.forEach((function(n){ui(t,n)})),di(t,e),t.style.display="none",this.$el.appendChild(t);var r=Ei(t);return this.$el.removeChild(t),this._hasMove=r.hasTransform}}}};function ta(n,e){for(var t in e)n[t]=e[t];return n}Gt.config.mustUseProp=function(n,e,t){return"value"===t&&tr(n)&&"button"!==e||"selected"===t&&"option"===n||"checked"===t&&"input"===n||"muted"===t&&"video"===n},Gt.config.isReservedTag=fr,Gt.config.isReservedAttr=er,Gt.config.getTagNamespace=function(n){return vr(n)?"svg":"math"===n?"math":void 0},Gt.config.isUnknownElement=function(n){if(!Q)return!0;if(fr(n))return!1;if(n=n.toLowerCase(),null!=br[n])return br[n];var e=document.createElement(n);return n.indexOf("-")>-1?br[n]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:br[n]=/HTMLUnknownElement/.test(e.toString())},j(Gt.options.directives,$i),j(Gt.options.components,ea),Gt.prototype.__patch__=Q?Bi:O,Gt.prototype.$mount=function(n,e){return function(n,e,t){var r;n.$el=e,n.$options.render||(n.$options.render=gn),et(n,"beforeMount"),r=function(){n._update(n._render(),t)},new Ve(n,r,O,{before:function(){n._isMounted&&!n._isDestroyed&&et(n,"beforeUpdate")}},!0),t=!1;var i=n._preWatchers;if(i)for(var a=0;a<i.length;a++)i[a].run();return null==n.$vnode&&(n._isMounted=!0,et(n,"mounted")),n}(this,n=n&&Q?function(n){if("string"==typeof n){var e=document.querySelector(n);return e||document.createElement("div")}return n}(n):void 0,e)},Q&&setTimeout((function(){$.devtools&&sn&&sn.emit("init",Gt)}),0);var ra=/[!'()*]/g,ia=function(n){return"%"+n.charCodeAt(0).toString(16)},aa=/%2C/g,oa=function(n){return encodeURIComponent(n).replace(ra,ia).replace(aa,",")};function la(n){try{return decodeURIComponent(n)}catch(n){0}return n}var sa=function(n){return null==n||"object"==typeof n?n:String(n)};function ca(n){var e={};return(n=n.trim().replace(/^(\?|#|&)/,""))?(n.split("&").forEach((function(n){var t=n.replace(/\+/g," ").split("="),r=la(t.shift()),i=t.length>0?la(t.join("=")):null;void 0===e[r]?e[r]=i:Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]})),e):e}function da(n){var e=n?Object.keys(n).map((function(e){var t=n[e];if(void 0===t)return"";if(null===t)return oa(e);if(Array.isArray(t)){var r=[];return t.forEach((function(n){void 0!==n&&(null===n?r.push(oa(e)):r.push(oa(e)+"="+oa(n)))})),r.join("&")}return oa(e)+"="+oa(t)})).filter((function(n){return n.length>0})).join("&"):null;return e?"?"+e:""}var ua=/\/?$/;function pa(n,e,t,r){var i=r&&r.options.stringifyQuery,a=e.query||{};try{a=ma(a)}catch(n){}var o={name:e.name||n&&n.name,meta:n&&n.meta||{},path:e.path||"/",hash:e.hash||"",query:a,params:e.params||{},fullPath:va(e,i),matched:n?ga(n):[]};return t&&(o.redirectedFrom=va(t,i)),Object.freeze(o)}function ma(n){if(Array.isArray(n))return n.map(ma);if(n&&"object"==typeof n){var e={};for(var t in n)e[t]=ma(n[t]);return e}return n}var ha=pa(null,{path:"/"});function ga(n){for(var e=[];n;)e.unshift(n),n=n.parent;return e}function va(n,e){var t=n.path,r=n.query;void 0===r&&(r={});var i=n.hash;return void 0===i&&(i=""),(t||"/")+(e||da)(r)+i}function fa(n,e,t){return e===ha?n===e:!!e&&(n.path&&e.path?n.path.replace(ua,"")===e.path.replace(ua,"")&&(t||n.hash===e.hash&&ba(n.query,e.query)):!(!n.name||!e.name)&&(n.name===e.name&&(t||n.hash===e.hash&&ba(n.query,e.query)&&ba(n.params,e.params))))}function ba(n,e){if(void 0===n&&(n={}),void 0===e&&(e={}),!n||!e)return n===e;var t=Object.keys(n).sort(),r=Object.keys(e).sort();return t.length===r.length&&t.every((function(t,i){var a=n[t];if(r[i]!==t)return!1;var o=e[t];return null==a||null==o?a===o:"object"==typeof a&&"object"==typeof o?ba(a,o):String(a)===String(o)}))}function ya(n){for(var e=0;e<n.matched.length;e++){var t=n.matched[e];for(var r in t.instances){var i=t.instances[r],a=t.enteredCbs[r];if(i&&a){delete t.enteredCbs[r];for(var o=0;o<a.length;o++)i._isBeingDestroyed||a[o](i)}}}}var xa={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(n,e){var t=e.props,r=e.children,i=e.parent,a=e.data;a.routerView=!0;for(var o=i.$createElement,l=t.name,s=i.$route,c=i._routerViewCache||(i._routerViewCache={}),d=0,u=!1;i&&i._routerRoot!==i;){var p=i.$vnode?i.$vnode.data:{};p.routerView&&d++,p.keepAlive&&i._directInactive&&i._inactive&&(u=!0),i=i.$parent}if(a.routerViewDepth=d,u){var m=c[l],h=m&&m.component;return h?(m.configProps&&wa(h,a,m.route,m.configProps),o(h,a,r)):o()}var g=s.matched[d],v=g&&g.components[l];if(!g||!v)return c[l]=null,o();c[l]={component:v},a.registerRouteInstance=function(n,e){var t=g.instances[l];(e&&t!==n||!e&&t===n)&&(g.instances[l]=e)},(a.hook||(a.hook={})).prepatch=function(n,e){g.instances[l]=e.componentInstance},a.hook.init=function(n){n.data.keepAlive&&n.componentInstance&&n.componentInstance!==g.instances[l]&&(g.instances[l]=n.componentInstance),ya(s)};var f=g.props&&g.props[l];return f&&(ta(c[l],{route:s,configProps:f}),wa(v,a,s,f)),o(v,a,r)}};function wa(n,e,t,r){var i=e.props=function(n,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(n);case"boolean":return e?n.params:void 0;default:0}}(t,r);if(i){i=e.props=ta({},i);var a=e.attrs=e.attrs||{};for(var o in i)n.props&&o in n.props||(a[o]=i[o],delete i[o])}}function Ta(n,e,t){var r=n.charAt(0);if("/"===r)return n;if("?"===r||"#"===r)return e+n;var i=e.split("/");t&&i[i.length-1]||i.pop();for(var a=n.replace(/^\//,"").split("/"),o=0;o<a.length;o++){var l=a[o];".."===l?i.pop():"."!==l&&i.push(l)}return""!==i[0]&&i.unshift(""),i.join("/")}function Ca(n){return n.replace(/\/(?:\s*\/)+/g,"/")}var Ia=Array.isArray||function(n){return"[object Array]"==Object.prototype.toString.call(n)},Ea=Ua,Sa=Pa,ka=function(n,e){return Ba(Pa(n,e),e)},za=Ba,Aa=La,_a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Pa(n,e){for(var t,r=[],i=0,a=0,o="",l=e&&e.delimiter||"/";null!=(t=_a.exec(n));){var s=t[0],c=t[1],d=t.index;if(o+=n.slice(a,d),a=d+s.length,c)o+=c[1];else{var u=n[a],p=t[2],m=t[3],h=t[4],g=t[5],v=t[6],f=t[7];o&&(r.push(o),o="");var b=null!=p&&null!=u&&u!==p,y="+"===v||"*"===v,x="?"===v||"*"===v,w=t[2]||l,T=h||g;r.push({name:m||i++,prefix:p||"",delimiter:w,optional:x,repeat:y,partial:b,asterisk:!!f,pattern:T?Da(T):f?".*":"[^"+Oa(w)+"]+?"})}}return a<n.length&&(o+=n.substr(a)),o&&r.push(o),r}function ja(n){return encodeURI(n).replace(/[\/?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()}))}function Ba(n,e){for(var t=new Array(n.length),r=0;r<n.length;r++)"object"==typeof n[r]&&(t[r]=new RegExp("^(?:"+n[r].pattern+")$",Ma(e)));return function(e,r){for(var i="",a=e||{},o=(r||{}).pretty?ja:encodeURIComponent,l=0;l<n.length;l++){var s=n[l];if("string"!=typeof s){var c,d=a[s.name];if(null==d){if(s.optional){s.partial&&(i+=s.prefix);continue}throw new TypeError('Expected "'+s.name+'" to be defined')}if(Ia(d)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var u=0;u<d.length;u++){if(c=o(d[u]),!t[l].test(c))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'", but received `'+JSON.stringify(c)+"`");i+=(0===u?s.prefix:s.delimiter)+c}}else{if(c=s.asterisk?encodeURI(d).replace(/[?#]/g,(function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})):o(d),!t[l].test(c))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but received "'+c+'"');i+=s.prefix+c}}else i+=s}return i}}function Oa(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Da(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function Ra(n,e){return n.keys=e,n}function Ma(n){return n&&n.sensitive?"":"i"}function La(n,e,t){Ia(e)||(t=e||t,e=[]);for(var r=(t=t||{}).strict,i=!1!==t.end,a="",o=0;o<n.length;o++){var l=n[o];if("string"==typeof l)a+=Oa(l);else{var s=Oa(l.prefix),c="(?:"+l.pattern+")";e.push(l),l.repeat&&(c+="(?:"+s+c+")*"),a+=c=l.optional?l.partial?s+"("+c+")?":"(?:"+s+"("+c+"))?":s+"("+c+")"}}var d=Oa(t.delimiter||"/"),u=a.slice(-d.length)===d;return r||(a=(u?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=i?"$":r&&u?"":"(?="+d+"|$)",Ra(new RegExp("^"+a,Ma(t)),e)}function Ua(n,e,t){return Ia(e)||(t=e||t,e=[]),t=t||{},n instanceof RegExp?function(n,e){var t=n.source.match(/\((?!\?)/g);if(t)for(var r=0;r<t.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Ra(n,e)}(n,e):Ia(n)?function(n,e,t){for(var r=[],i=0;i<n.length;i++)r.push(Ua(n[i],e,t).source);return Ra(new RegExp("(?:"+r.join("|")+")",Ma(t)),e)}(n,e,t):function(n,e,t){return La(Pa(n,t),e,t)}(n,e,t)}Ea.parse=Sa,Ea.compile=ka,Ea.tokensToFunction=za,Ea.tokensToRegExp=Aa;var Fa=Object.create(null);function qa(n,e,t){e=e||{};try{var r=Fa[n]||(Fa[n]=Ea.compile(n));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(n){return""}finally{delete e[0]}}function Na(n,e,t,r){var i="string"==typeof n?{path:n}:n;if(i._normalized)return i;if(i.name){var a=(i=ta({},n)).params;return a&&"object"==typeof a&&(i.params=ta({},a)),i}if(!i.path&&i.params&&e){(i=ta({},i))._normalized=!0;var o=ta(ta({},e.params),i.params);if(e.name)i.name=e.name,i.params=o;else if(e.matched.length){var l=e.matched[e.matched.length-1].path;i.path=qa(l,o,e.path)}else 0;return i}var s=function(n){var e="",t="",r=n.indexOf("#");r>=0&&(e=n.slice(r),n=n.slice(0,r));var i=n.indexOf("?");return i>=0&&(t=n.slice(i+1),n=n.slice(0,i)),{path:n,query:t,hash:e}}(i.path||""),c=e&&e.path||"/",d=s.path?Ta(s.path,c,t||i.append):c,u=function(n,e,t){void 0===e&&(e={});var r,i=t||ca;try{r=i(n||"")}catch(n){r={}}for(var a in e){var o=e[a];r[a]=Array.isArray(o)?o.map(sa):sa(o)}return r}(s.query,i.query,r&&r.options.parseQuery),p=i.hash||s.hash;return p&&"#"!==p.charAt(0)&&(p="#"+p),{_normalized:!0,path:d,query:u,hash:p}}var $a,Ha=function(){},Wa={name:"RouterLink",props:{to:{type:[String,Object],required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:[String,Array],default:"click"}},render:function(n){var e=this,t=this.$router,r=this.$route,i=t.resolve(this.to,r,this.append),a=i.location,o=i.route,l=i.href,s={},c=t.options.linkActiveClass,d=t.options.linkExactActiveClass,u=null==c?"router-link-active":c,p=null==d?"router-link-exact-active":d,m=null==this.activeClass?u:this.activeClass,h=null==this.exactActiveClass?p:this.exactActiveClass,g=o.redirectedFrom?pa(null,Na(o.redirectedFrom),null,t):o;s[h]=fa(r,g,this.exactPath),s[m]=this.exact||this.exactPath?s[h]:function(n,e){return 0===n.path.replace(ua,"/").indexOf(e.path.replace(ua,"/"))&&(!e.hash||n.hash===e.hash)&&function(n,e){for(var t in e)if(!(t in n))return!1;return!0}(n.query,e.query)}(r,g);var v=s[h]?this.ariaCurrentValue:null,f=function(n){Va(n)&&(e.replace?t.replace(a,Ha):t.push(a,Ha))},b={click:Va};Array.isArray(this.event)?this.event.forEach((function(n){b[n]=f})):b[this.event]=f;var y={class:s},x=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:l,route:o,navigate:f,isActive:s[m],isExactActive:s[h]});if(x){if(1===x.length)return x[0];if(x.length>1||!x.length)return 0===x.length?n():n("span",{},x)}if("a"===this.tag)y.on=b,y.attrs={href:l,"aria-current":v};else{var w=function n(e){var t;if(e)for(var r=0;r<e.length;r++){if("a"===(t=e[r]).tag)return t;if(t.children&&(t=n(t.children)))return t}}(this.$slots.default);if(w){w.isStatic=!1;var T=w.data=ta({},w.data);for(var C in T.on=T.on||{},T.on){var I=T.on[C];C in b&&(T.on[C]=Array.isArray(I)?I:[I])}for(var E in b)E in T.on?T.on[E].push(b[E]):T.on[E]=f;var S=w.data.attrs=ta({},w.data.attrs);S.href=l,S["aria-current"]=v}else y.on=b}return n(this.tag,y,this.$slots.default)}};function Va(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey||n.defaultPrevented||void 0!==n.button&&0!==n.button)){if(n.currentTarget&&n.currentTarget.getAttribute){var e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}var Ga="undefined"!=typeof window;function Ja(n,e,t,r,i){var a=e||[],o=t||Object.create(null),l=r||Object.create(null);n.forEach((function(n){!function n(e,t,r,i,a,o){var l=i.path,s=i.name;0;var c=i.pathToRegexpOptions||{},d=function(n,e,t){t||(n=n.replace(/\/$/,""));if("/"===n[0])return n;if(null==e)return n;return Ca(e.path+"/"+n)}(l,a,c.strict);"boolean"==typeof i.caseSensitive&&(c.sensitive=i.caseSensitive);var u={path:d,regex:Qa(d,c),components:i.components||{default:i.component},alias:i.alias?"string"==typeof i.alias?[i.alias]:i.alias:[],instances:{},enteredCbs:{},name:s,parent:a,matchAs:o,redirect:i.redirect,beforeEnter:i.beforeEnter,meta:i.meta||{},props:null==i.props?{}:i.components?i.props:{default:i.props}};i.children&&i.children.forEach((function(i){var a=o?Ca(o+"/"+i.path):void 0;n(e,t,r,i,u,a)}));t[u.path]||(e.push(u.path),t[u.path]=u);if(void 0!==i.alias)for(var p=Array.isArray(i.alias)?i.alias:[i.alias],m=0;m<p.length;++m){0;var h={path:p[m],children:i.children};n(e,t,r,h,a,u.path||"/")}s&&(r[s]||(r[s]=u))}(a,o,l,n,i)}));for(var s=0,c=a.length;s<c;s++)"*"===a[s]&&(a.push(a.splice(s,1)[0]),c--,s--);return{pathList:a,pathMap:o,nameMap:l}}function Qa(n,e){return Ea(n,[],e)}function Za(n,e){var t=Ja(n),r=t.pathList,i=t.pathMap,a=t.nameMap;function o(n,t,o){var l=Na(n,t,!1,e),c=l.name;if(c){var d=a[c];if(!d)return s(null,l);var u=d.regex.keys.filter((function(n){return!n.optional})).map((function(n){return n.name}));if("object"!=typeof l.params&&(l.params={}),t&&"object"==typeof t.params)for(var p in t.params)!(p in l.params)&&u.indexOf(p)>-1&&(l.params[p]=t.params[p]);return l.path=qa(d.path,l.params),s(d,l,o)}if(l.path){l.params={};for(var m=0;m<r.length;m++){var h=r[m],g=i[h];if(Xa(g.regex,l.path,l.params))return s(g,l,o)}}return s(null,l)}function l(n,t){var r=n.redirect,i="function"==typeof r?r(pa(n,t,null,e)):r;if("string"==typeof i&&(i={path:i}),!i||"object"!=typeof i)return s(null,t);var l=i,c=l.name,d=l.path,u=t.query,p=t.hash,m=t.params;if(u=l.hasOwnProperty("query")?l.query:u,p=l.hasOwnProperty("hash")?l.hash:p,m=l.hasOwnProperty("params")?l.params:m,c){a[c];return o({_normalized:!0,name:c,query:u,hash:p,params:m},void 0,t)}if(d){var h=function(n,e){return Ta(n,e.parent?e.parent.path:"/",!0)}(d,n);return o({_normalized:!0,path:qa(h,m),query:u,hash:p},void 0,t)}return s(null,t)}function s(n,t,r){return n&&n.redirect?l(n,r||t):n&&n.matchAs?function(n,e,t){var r=o({_normalized:!0,path:qa(t,e.params)});if(r){var i=r.matched,a=i[i.length-1];return e.params=r.params,s(a,e)}return s(null,e)}(0,t,n.matchAs):pa(n,t,r,e)}return{match:o,addRoute:function(n,e){var t="object"!=typeof n?a[n]:void 0;Ja([e||n],r,i,a,t),t&&t.alias.length&&Ja(t.alias.map((function(n){return{path:n,children:[e]}})),r,i,a,t)},getRoutes:function(){return r.map((function(n){return i[n]}))},addRoutes:function(n){Ja(n,r,i,a)}}}function Xa(n,e,t){var r=e.match(n);if(!r)return!1;if(!t)return!0;for(var i=1,a=r.length;i<a;++i){var o=n.keys[i-1];o&&(t[o.name||"pathMatch"]="string"==typeof r[i]?la(r[i]):r[i])}return!0}var Ka=Ga&&window.performance&&window.performance.now?window.performance:Date;function Ya(){return Ka.now().toFixed(3)}var no=Ya();function eo(){return no}function to(n){return no=n}var ro=Object.create(null);function io(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var n=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(n,""),t=ta({},window.history.state);return t.key=eo(),window.history.replaceState(t,"",e),window.addEventListener("popstate",lo),function(){window.removeEventListener("popstate",lo)}}function ao(n,e,t,r){if(n.app){var i=n.options.scrollBehavior;i&&n.app.$nextTick((function(){var a=function(){var n=eo();if(n)return ro[n]}(),o=i.call(n,e,t,r?a:null);o&&("function"==typeof o.then?o.then((function(n){mo(n,a)})).catch((function(n){0})):mo(o,a))}))}}function oo(){var n=eo();n&&(ro[n]={x:window.pageXOffset,y:window.pageYOffset})}function lo(n){oo(),n.state&&n.state.key&&to(n.state.key)}function so(n){return uo(n.x)||uo(n.y)}function co(n){return{x:uo(n.x)?n.x:window.pageXOffset,y:uo(n.y)?n.y:window.pageYOffset}}function uo(n){return"number"==typeof n}var po=/^#\d/;function mo(n,e){var t,r="object"==typeof n;if(r&&"string"==typeof n.selector){var i=po.test(n.selector)?document.getElementById(n.selector.slice(1)):document.querySelector(n.selector);if(i){var a=n.offset&&"object"==typeof n.offset?n.offset:{};e=function(n,e){var t=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{x:r.left-t.left-e.x,y:r.top-t.top-e.y}}(i,a={x:uo((t=a).x)?t.x:0,y:uo(t.y)?t.y:0})}else so(n)&&(e=co(n))}else r&&so(n)&&(e=co(n));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:n.behavior}):window.scrollTo(e.x,e.y))}var ho,go=Ga&&((-1===(ho=window.navigator.userAgent).indexOf("Android 2.")&&-1===ho.indexOf("Android 4.0")||-1===ho.indexOf("Mobile Safari")||-1!==ho.indexOf("Chrome")||-1!==ho.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function vo(n,e){oo();var t=window.history;try{if(e){var r=ta({},t.state);r.key=eo(),t.replaceState(r,"",n)}else t.pushState({key:to(Ya())},"",n)}catch(t){window.location[e?"replace":"assign"](n)}}function fo(n){vo(n,!0)}var bo={redirected:2,aborted:4,cancelled:8,duplicated:16};function yo(n,e){return wo(n,e,bo.redirected,'Redirected when going from "'+n.fullPath+'" to "'+function(n){if("string"==typeof n)return n;if("path"in n)return n.path;var e={};return To.forEach((function(t){t in n&&(e[t]=n[t])})),JSON.stringify(e,null,2)}(e)+'" via a navigation guard.')}function xo(n,e){return wo(n,e,bo.cancelled,'Navigation cancelled from "'+n.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function wo(n,e,t,r){var i=new Error(r);return i._isRouter=!0,i.from=n,i.to=e,i.type=t,i}var To=["params","query","hash"];function Co(n){return Object.prototype.toString.call(n).indexOf("Error")>-1}function Io(n,e){return Co(n)&&n._isRouter&&(null==e||n.type===e)}function Eo(n,e,t){var r=function(i){i>=n.length?t():n[i]?e(n[i],(function(){r(i+1)})):r(i+1)};r(0)}function So(n){return function(e,t,r){var i=!1,a=0,o=null;ko(n,(function(n,e,t,l){if("function"==typeof n&&void 0===n.cid){i=!0,a++;var s,c=_o((function(e){var i;((i=e).__esModule||Ao&&"Module"===i[Symbol.toStringTag])&&(e=e.default),n.resolved="function"==typeof e?e:$a.extend(e),t.components[l]=e,--a<=0&&r()})),d=_o((function(n){var e="Failed to resolve async component "+l+": "+n;o||(o=Co(n)?n:new Error(e),r(o))}));try{s=n(c,d)}catch(n){d(n)}if(s)if("function"==typeof s.then)s.then(c,d);else{var u=s.component;u&&"function"==typeof u.then&&u.then(c,d)}}})),i||r()}}function ko(n,e){return zo(n.map((function(n){return Object.keys(n.components).map((function(t){return e(n.components[t],n.instances[t],n,t)}))})))}function zo(n){return Array.prototype.concat.apply([],n)}var Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function _o(n){var e=!1;return function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(!e)return e=!0,n.apply(this,t)}}var Po=function(n,e){this.router=n,this.base=function(n){if(!n)if(Ga){var e=document.querySelector("base");n=(n=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else n="/";"/"!==n.charAt(0)&&(n="/"+n);return n.replace(/\/$/,"")}(e),this.current=ha,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function jo(n,e,t,r){var i=ko(n,(function(n,r,i,a){var o=function(n,e){"function"!=typeof n&&(n=$a.extend(n));return n.options[e]}(n,e);if(o)return Array.isArray(o)?o.map((function(n){return t(n,r,i,a)})):t(o,r,i,a)}));return zo(r?i.reverse():i)}function Bo(n,e){if(e)return function(){return n.apply(e,arguments)}}Po.prototype.listen=function(n){this.cb=n},Po.prototype.onReady=function(n,e){this.ready?n():(this.readyCbs.push(n),e&&this.readyErrorCbs.push(e))},Po.prototype.onError=function(n){this.errorCbs.push(n)},Po.prototype.transitionTo=function(n,e,t){var r,i=this;try{r=this.router.match(n,this.current)}catch(n){throw this.errorCbs.forEach((function(e){e(n)})),n}var a=this.current;this.confirmTransition(r,(function(){i.updateRoute(r),e&&e(r),i.ensureURL(),i.router.afterHooks.forEach((function(n){n&&n(r,a)})),i.ready||(i.ready=!0,i.readyCbs.forEach((function(n){n(r)})))}),(function(n){t&&t(n),n&&!i.ready&&(Io(n,bo.redirected)&&a===ha||(i.ready=!0,i.readyErrorCbs.forEach((function(e){e(n)}))))}))},Po.prototype.confirmTransition=function(n,e,t){var r=this,i=this.current;this.pending=n;var a,o,l=function(n){!Io(n)&&Co(n)&&(r.errorCbs.length?r.errorCbs.forEach((function(e){e(n)})):console.error(n)),t&&t(n)},s=n.matched.length-1,c=i.matched.length-1;if(fa(n,i)&&s===c&&n.matched[s]===i.matched[c])return this.ensureURL(),n.hash&&ao(this.router,i,n,!1),l(((o=wo(a=i,n,bo.duplicated,'Avoided redundant navigation to current location: "'+a.fullPath+'".')).name="NavigationDuplicated",o));var d=function(n,e){var t,r=Math.max(n.length,e.length);for(t=0;t<r&&n[t]===e[t];t++);return{updated:e.slice(0,t),activated:e.slice(t),deactivated:n.slice(t)}}(this.current.matched,n.matched),u=d.updated,p=d.deactivated,m=d.activated,h=[].concat(function(n){return jo(n,"beforeRouteLeave",Bo,!0)}(p),this.router.beforeHooks,function(n){return jo(n,"beforeRouteUpdate",Bo)}(u),m.map((function(n){return n.beforeEnter})),So(m)),g=function(e,t){if(r.pending!==n)return l(xo(i,n));try{e(n,i,(function(e){!1===e?(r.ensureURL(!0),l(function(n,e){return wo(n,e,bo.aborted,'Navigation aborted from "'+n.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}(i,n))):Co(e)?(r.ensureURL(!0),l(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(l(yo(i,n)),"object"==typeof e&&e.replace?r.replace(e):r.push(e)):t(e)}))}catch(n){l(n)}};Eo(h,g,(function(){Eo(function(n){return jo(n,"beforeRouteEnter",(function(n,e,t,r){return function(n,e,t){return function(r,i,a){return n(r,i,(function(n){"function"==typeof n&&(e.enteredCbs[t]||(e.enteredCbs[t]=[]),e.enteredCbs[t].push(n)),a(n)}))}}(n,t,r)}))}(m).concat(r.router.resolveHooks),g,(function(){if(r.pending!==n)return l(xo(i,n));r.pending=null,e(n),r.router.app&&r.router.app.$nextTick((function(){ya(n)}))}))}))},Po.prototype.updateRoute=function(n){this.current=n,this.cb&&this.cb(n)},Po.prototype.setupListeners=function(){},Po.prototype.teardown=function(){this.listeners.forEach((function(n){n()})),this.listeners=[],this.current=ha,this.pending=null};var Oo=function(n){function e(e,t){n.call(this,e,t),this._startLocation=Do(this.base)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router,t=e.options.scrollBehavior,r=go&&t;r&&this.listeners.push(io());var i=function(){var t=n.current,i=Do(n.base);n.current===ha&&i===n._startLocation||n.transitionTo(i,(function(n){r&&ao(e,n,t,!0)}))};window.addEventListener("popstate",i),this.listeners.push((function(){window.removeEventListener("popstate",i)}))}},e.prototype.go=function(n){window.history.go(n)},e.prototype.push=function(n,e,t){var r=this,i=this.current;this.transitionTo(n,(function(n){vo(Ca(r.base+n.fullPath)),ao(r.router,n,i,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this,i=this.current;this.transitionTo(n,(function(n){fo(Ca(r.base+n.fullPath)),ao(r.router,n,i,!1),e&&e(n)}),t)},e.prototype.ensureURL=function(n){if(Do(this.base)!==this.current.fullPath){var e=Ca(this.base+this.current.fullPath);n?vo(e):fo(e)}},e.prototype.getCurrentLocation=function(){return Do(this.base)},e}(Po);function Do(n){var e=window.location.pathname,t=e.toLowerCase(),r=n.toLowerCase();return!n||t!==r&&0!==t.indexOf(Ca(r+"/"))||(e=e.slice(n.length)),(e||"/")+window.location.search+window.location.hash}var Ro=function(n){function e(e,t,r){n.call(this,e,t),r&&function(n){var e=Do(n);if(!/^\/#/.test(e))return window.location.replace(Ca(n+"/#"+e)),!0}(this.base)||Mo()}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var n=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,t=go&&e;t&&this.listeners.push(io());var r=function(){var e=n.current;Mo()&&n.transitionTo(Lo(),(function(r){t&&ao(n.router,r,e,!0),go||qo(r.fullPath)}))},i=go?"popstate":"hashchange";window.addEventListener(i,r),this.listeners.push((function(){window.removeEventListener(i,r)}))}},e.prototype.push=function(n,e,t){var r=this,i=this.current;this.transitionTo(n,(function(n){Fo(n.fullPath),ao(r.router,n,i,!1),e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this,i=this.current;this.transitionTo(n,(function(n){qo(n.fullPath),ao(r.router,n,i,!1),e&&e(n)}),t)},e.prototype.go=function(n){window.history.go(n)},e.prototype.ensureURL=function(n){var e=this.current.fullPath;Lo()!==e&&(n?Fo(e):qo(e))},e.prototype.getCurrentLocation=function(){return Lo()},e}(Po);function Mo(){var n=Lo();return"/"===n.charAt(0)||(qo("/"+n),!1)}function Lo(){var n=window.location.href,e=n.indexOf("#");return e<0?"":n=n.slice(e+1)}function Uo(n){var e=window.location.href,t=e.indexOf("#");return(t>=0?e.slice(0,t):e)+"#"+n}function Fo(n){go?vo(Uo(n)):window.location.hash=n}function qo(n){go?fo(Uo(n)):window.location.replace(Uo(n))}var No=function(n){function e(e,t){n.call(this,e,t),this.stack=[],this.index=-1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.push=function(n,e,t){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index+1).concat(n),r.index++,e&&e(n)}),t)},e.prototype.replace=function(n,e,t){var r=this;this.transitionTo(n,(function(n){r.stack=r.stack.slice(0,r.index).concat(n),e&&e(n)}),t)},e.prototype.go=function(n){var e=this,t=this.index+n;if(!(t<0||t>=this.stack.length)){var r=this.stack[t];this.confirmTransition(r,(function(){var n=e.current;e.index=t,e.updateRoute(r),e.router.afterHooks.forEach((function(e){e&&e(r,n)}))}),(function(n){Io(n,bo.duplicated)&&(e.index=t)}))}},e.prototype.getCurrentLocation=function(){var n=this.stack[this.stack.length-1];return n?n.fullPath:"/"},e.prototype.ensureURL=function(){},e}(Po),$o=function(n){void 0===n&&(n={}),this.app=null,this.apps=[],this.options=n,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Za(n.routes||[],this);var e=n.mode||"hash";switch(this.fallback="history"===e&&!go&&!1!==n.fallback,this.fallback&&(e="hash"),Ga||(e="abstract"),this.mode=e,e){case"history":this.history=new Oo(this,n.base);break;case"hash":this.history=new Ro(this,n.base,this.fallback);break;case"abstract":this.history=new No(this,n.base);break;default:0}},Ho={currentRoute:{configurable:!0}};$o.prototype.match=function(n,e,t){return this.matcher.match(n,e,t)},Ho.currentRoute.get=function(){return this.history&&this.history.current},$o.prototype.init=function(n){var e=this;if(this.apps.push(n),n.$once("hook:destroyed",(function(){var t=e.apps.indexOf(n);t>-1&&e.apps.splice(t,1),e.app===n&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=n;var t=this.history;if(t instanceof Oo||t instanceof Ro){var r=function(n){t.setupListeners(),function(n){var r=t.current,i=e.options.scrollBehavior;go&&i&&"fullPath"in n&&ao(e,n,r,!1)}(n)};t.transitionTo(t.getCurrentLocation(),r,r)}t.listen((function(n){e.apps.forEach((function(e){e._route=n}))}))}},$o.prototype.beforeEach=function(n){return Vo(this.beforeHooks,n)},$o.prototype.beforeResolve=function(n){return Vo(this.resolveHooks,n)},$o.prototype.afterEach=function(n){return Vo(this.afterHooks,n)},$o.prototype.onReady=function(n,e){this.history.onReady(n,e)},$o.prototype.onError=function(n){this.history.onError(n)},$o.prototype.push=function(n,e,t){var r=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){r.history.push(n,e,t)}));this.history.push(n,e,t)},$o.prototype.replace=function(n,e,t){var r=this;if(!e&&!t&&"undefined"!=typeof Promise)return new Promise((function(e,t){r.history.replace(n,e,t)}));this.history.replace(n,e,t)},$o.prototype.go=function(n){this.history.go(n)},$o.prototype.back=function(){this.go(-1)},$o.prototype.forward=function(){this.go(1)},$o.prototype.getMatchedComponents=function(n){var e=n?n.matched?n:this.resolve(n).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(n){return Object.keys(n.components).map((function(e){return n.components[e]}))}))):[]},$o.prototype.resolve=function(n,e,t){var r=Na(n,e=e||this.history.current,t,this),i=this.match(r,e),a=i.redirectedFrom||i.fullPath;return{location:r,route:i,href:function(n,e,t){var r="hash"===t?"#"+e:e;return n?Ca(n+"/"+r):r}(this.history.base,a,this.mode),normalizedTo:r,resolved:i}},$o.prototype.getRoutes=function(){return this.matcher.getRoutes()},$o.prototype.addRoute=function(n,e){this.matcher.addRoute(n,e),this.history.current!==ha&&this.history.transitionTo(this.history.getCurrentLocation())},$o.prototype.addRoutes=function(n){this.matcher.addRoutes(n),this.history.current!==ha&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties($o.prototype,Ho);var Wo=$o;function Vo(n,e){return n.push(e),function(){var t=n.indexOf(e);t>-1&&n.splice(t,1)}}$o.install=function n(e){if(!n.installed||$a!==e){n.installed=!0,$a=e;var t=function(n){return void 0!==n},r=function(n,e){var r=n.$options._parentVnode;t(r)&&t(r=r.data)&&t(r=r.registerRouteInstance)&&r(n,e)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",xa),e.component("RouterLink",Wa);var i=e.config.optionMergeStrategies;i.beforeRouteEnter=i.beforeRouteLeave=i.beforeRouteUpdate=i.created}},$o.version="3.6.5",$o.isNavigationFailure=Io,$o.NavigationFailureType=bo,$o.START_LOCATION=ha,Ga&&window.Vue&&window.Vue.use($o);t(107);t(129),t(17);var Go={NotFound:()=>Promise.all([t.e(0),t.e(4)]).then(t.bind(null,344)),Layout:()=>Promise.all([t.e(0),t.e(2)]).then(t.bind(null,343))},Jo={"v-7c44097c":()=>t.e(5).then(t.bind(null,345)),"v-cbce72d4":()=>t.e(6).then(t.bind(null,346)),"v-2443e46d":()=>t.e(8).then(t.bind(null,347)),"v-19adc5ec":()=>t.e(9).then(t.bind(null,348)),"v-19e0ab98":()=>t.e(10).then(t.bind(null,349)),"v-7771b23d":()=>t.e(11).then(t.bind(null,350)),"v-6c350cd6":()=>t.e(12).then(t.bind(null,351)),"v-1057bb3a":()=>t.e(7).then(t.bind(null,352)),"v-c62a590a":()=>t.e(14).then(t.bind(null,353)),"v-1cf67f56":()=>t.e(13).then(t.bind(null,354)),"v-58986cb9":()=>t.e(15).then(t.bind(null,355)),"v-121637aa":()=>t.e(16).then(t.bind(null,356)),"v-717c7df2":()=>t.e(17).then(t.bind(null,357)),"v-0d3720dc":()=>t.e(18).then(t.bind(null,358)),"v-04b48643":()=>t.e(19).then(t.bind(null,359)),"v-b45bd736":()=>t.e(20).then(t.bind(null,360)),"v-f4f72696":()=>t.e(21).then(t.bind(null,361)),"v-f104e8ee":()=>t.e(22).then(t.bind(null,362)),"v-569eca3f":()=>t.e(23).then(t.bind(null,363)),"v-6f5cbd38":()=>t.e(24).then(t.bind(null,364)),"v-5430ebce":()=>t.e(25).then(t.bind(null,365)),"v-fd8744e6":()=>t.e(26).then(t.bind(null,366)),"v-8da1bcae":()=>t.e(27).then(t.bind(null,367)),"v-33b23c84":()=>t.e(29).then(t.bind(null,368)),"v-4bd3e31c":()=>t.e(28).then(t.bind(null,369)),"v-13d9f031":()=>t.e(30).then(t.bind(null,370)),"v-a097a3be":()=>t.e(31).then(t.bind(null,371)),"v-3a239cb0":()=>t.e(32).then(t.bind(null,372)),"v-1bdc9712":()=>t.e(33).then(t.bind(null,373)),"v-68de8656":()=>t.e(34).then(t.bind(null,374)),"v-72ea5972":()=>t.e(35).then(t.bind(null,375)),"v-b5457c16":()=>t.e(36).then(t.bind(null,376)),"v-0569b6f8":()=>t.e(37).then(t.bind(null,377)),"v-4e6d8200":()=>t.e(38).then(t.bind(null,378)),"v-2c19e87c":()=>t.e(39).then(t.bind(null,379)),"v-6e2d857c":()=>t.e(41).then(t.bind(null,380)),"v-25c50554":()=>t.e(40).then(t.bind(null,381)),"v-51d6ac9c":()=>t.e(42).then(t.bind(null,382)),"v-f82d5ee0":()=>t.e(43).then(t.bind(null,383)),"v-e65aab34":()=>t.e(44).then(t.bind(null,384)),"v-637f7ff4":()=>t.e(45).then(t.bind(null,385)),"v-cc527b5a":()=>t.e(47).then(t.bind(null,386)),"v-07d9254f":()=>t.e(46).then(t.bind(null,387)),"v-04ae6228":()=>t.e(48).then(t.bind(null,388)),"v-1a6137e8":()=>t.e(49).then(t.bind(null,389)),"v-ca584e06":()=>t.e(50).then(t.bind(null,390)),"v-f0251290":()=>t.e(51).then(t.bind(null,391)),"v-1457855d":()=>t.e(53).then(t.bind(null,392)),"v-0f7af49e":()=>t.e(52).then(t.bind(null,393)),"v-3f96c8d8":()=>t.e(54).then(t.bind(null,394)),"v-0893d5c3":()=>t.e(55).then(t.bind(null,395)),"v-79c78335":()=>t.e(56).then(t.bind(null,396)),"v-c5ef3042":()=>t.e(57).then(t.bind(null,397)),"v-ce0e8fd4":()=>t.e(58).then(t.bind(null,398)),"v-38d3c9ce":()=>t.e(59).then(t.bind(null,399)),"v-5d9b4816":()=>t.e(60).then(t.bind(null,400)),"v-3a98d9f2":()=>t.e(61).then(t.bind(null,401)),"v-1add83e9":()=>t.e(63).then(t.bind(null,402)),"v-45cada9f":()=>t.e(62).then(t.bind(null,403)),"v-90dacde0":()=>t.e(64).then(t.bind(null,404)),"v-7781c0b6":()=>t.e(65).then(t.bind(null,405)),"v-5f40daea":()=>t.e(66).then(t.bind(null,406)),"v-34e3a8ae":()=>t.e(68).then(t.bind(null,407)),"v-02e2a776":()=>t.e(69).then(t.bind(null,408)),"v-de1804e0":()=>t.e(67).then(t.bind(null,409)),"v-7e5bbd14":()=>t.e(72).then(t.bind(null,410)),"v-0480d1c5":()=>t.e(71).then(t.bind(null,411)),"v-20b770b6":()=>t.e(70).then(t.bind(null,412))};function Qo(n){const e=Object.create(null);return function(t){return e[t]||(e[t]=n(t))}}const Zo=/-(\w)/g,Xo=Qo(n=>n.replace(Zo,(n,e)=>e?e.toUpperCase():"")),Ko=/\B([A-Z])/g,Yo=Qo(n=>n.replace(Ko,"-$1").toLowerCase()),nl=Qo(n=>n.charAt(0).toUpperCase()+n.slice(1));function el(n,e){if(!e)return;if(n(e))return n(e);return e.includes("-")?n(nl(Xo(e))):n(nl(e))||n(Yo(e))}const tl=Object.assign({},Go,Jo),rl=n=>tl[n],il=n=>Jo[n],al=n=>Go[n],ol=n=>Gt.component(n);function ll(n){return el(il,n)}function sl(n){return el(al,n)}function cl(n){return el(rl,n)}function dl(n){return el(ol,n)}function ul(...n){return Promise.all(n.filter(n=>n).map(async n=>{if(!dl(n)&&cl(n)){const e=await cl(n)();Gt.component(n,e.default)}}))}function pl(n,e){"undefined"!=typeof window&&window.__VUEPRESS__&&(window.__VUEPRESS__[n]=e)}var ml=t(92),hl=t.n(ml),gl=t(93),vl=t.n(gl),fl={created(){if(this.siteMeta=this.$site.headTags.filter(([n])=>"meta"===n).map(([n,e])=>e),this.$ssrContext){const e=this.getMergedMetaTags();this.$ssrContext.title=this.$title,this.$ssrContext.lang=this.$lang,this.$ssrContext.pageMeta=(n=e)?n.map(n=>{let e="<meta";return Object.keys(n).forEach(t=>{e+=` ${t}="${vl()(n[t])}"`}),e+">"}).join("\n    "):"",this.$ssrContext.canonicalLink=yl(this.$canonicalUrl)}var n},mounted(){this.currentMetaTags=[...document.querySelectorAll("meta")],this.updateMeta(),this.updateCanonicalLink()},methods:{updateMeta(){document.title=this.$title,document.documentElement.lang=this.$lang;const n=this.getMergedMetaTags();this.currentMetaTags=xl(n,this.currentMetaTags)},getMergedMetaTags(){const n=this.$page.frontmatter.meta||[];return hl()([{name:"description",content:this.$description}],n,this.siteMeta,wl)},updateCanonicalLink(){bl(),this.$canonicalUrl&&document.head.insertAdjacentHTML("beforeend",yl(this.$canonicalUrl))}},watch:{$page(){this.updateMeta(),this.updateCanonicalLink()}},beforeDestroy(){xl(null,this.currentMetaTags),bl()}};function bl(){const n=document.querySelector("link[rel='canonical']");n&&n.remove()}function yl(n=""){return n?`<link href="${n}" rel="canonical" />`:""}function xl(n,e){if(e&&[...e].filter(n=>n.parentNode===document.head).forEach(n=>document.head.removeChild(n)),n)return n.map(n=>{const e=document.createElement("meta");return Object.keys(n).forEach(t=>{e.setAttribute(t,n[t])}),document.head.appendChild(e),e})}function wl(n){for(const e of["name","property","itemprop"])if(n.hasOwnProperty(e))return n[e]+e;return JSON.stringify(n)}var Tl=t(51),Cl={mounted(){window.addEventListener("scroll",this.onScroll)},methods:{onScroll:t.n(Tl)()((function(){this.setActiveHash()}),300),setActiveHash(){const n=[].slice.call(document.querySelectorAll(".sidebar-link")),e=[].slice.call(document.querySelectorAll(".header-anchor")).filter(e=>n.some(n=>n.hash===e.hash)),t=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),r=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),i=window.innerHeight+t;for(let n=0;n<e.length;n++){const a=e[n],o=e[n+1],l=0===n&&0===t||t>=a.parentElement.offsetTop+10&&(!o||t<o.parentElement.offsetTop-10),s=decodeURIComponent(this.$route.hash);if(l&&s!==decodeURIComponent(a.hash)){const t=a;if(i===r)for(let t=n+1;t<e.length;t++)if(s===decodeURIComponent(e[t].hash))return;return this.$vuepress.$set("disableScrollBehavior",!0),void this.$router.replace(decodeURIComponent(t.hash),()=>{this.$nextTick(()=>{this.$vuepress.$set("disableScrollBehavior",!1)})})}}}},beforeDestroy(){window.removeEventListener("scroll",this.onScroll)}},Il=t(26),El=t.n(Il),Sl={mounted(){El.a.configure({showSpinner:!1}),this.$router.beforeEach((n,e,t)=>{n.path===e.path||Gt.component(n.name)||El.a.start(),t()}),this.$router.afterEach(()=>{El.a.done(),this.isSidebarOpen=!1})}};t(241),t(242);class kl{constructor(){this.containerEl=document.getElementById("message-container"),this.containerEl||(this.containerEl=document.createElement("div"),this.containerEl.id="message-container",document.body.appendChild(this.containerEl))}show({text:n="",duration:e=3e3}){let t=document.createElement("div");t.className="message move-in",t.innerHTML=`\n      <i style="fill: #06a35a;font-size: 14px;display:inline-flex;align-items: center;">\n        <svg style="fill: #06a35a;font-size: 14px;" t="1572421810237" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2323" width="16" height="16"><path d="M822.811993 824.617989c-83.075838 81.99224-188.546032 124.613757-316.049383 127.86455-122.085362-3.250794-223.943563-45.87231-305.935802-127.86455s-124.613757-184.21164-127.86455-305.935802c3.250794-127.503351 45.87231-232.973545 127.86455-316.049383 81.99224-83.075838 184.21164-126.058554 305.935802-129.309347 127.503351 3.250794 232.973545 46.23351 316.049383 129.309347 83.075838 83.075838 126.058554 188.546032 129.309347 316.049383C949.231746 640.406349 905.887831 742.62575 822.811993 824.617989zM432.716755 684.111464c3.973192 3.973192 8.307584 5.779189 13.364374 6.140388 5.05679 0.361199 9.752381-1.444797 13.364374-5.417989l292.571429-287.514638c3.973192-3.973192 5.779189-8.307584 5.779189-13.364374 0-5.05679-1.805996-9.752381-5.779189-13.364374l1.805996 1.805996c-3.973192-3.973192-8.668783-5.779189-14.086772-6.140388-5.417989-0.361199-10.47478 1.444797-14.809171 5.417989l-264.397884 220.33157c-3.973192 3.250794-8.668783 4.695591-14.447972 4.695591-5.779189 0-10.835979-1.444797-15.53157-3.973192l-94.273016-72.962257c-4.334392-3.250794-9.391182-4.334392-14.447972-3.973192s-9.391182 3.250794-12.641975 7.585185l-2.889594 3.973192c-3.250794 4.334392-4.334392 9.391182-3.973192 14.809171 0.722399 5.417989 2.528395 10.11358 5.779189 14.086772L432.716755 684.111464z" p-id="2324"></path></svg>\n      </i>\n      <div class="text">${n}</div>\n    `,this.containerEl.appendChild(t),e>0&&setTimeout(()=>{this.close(t)},e)}close(n){n.className=n.className.replace("move-in",""),n.className+="move-out",n.addEventListener("animationend",()=>{n.remove()})}}var zl={mounted(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},updated(){!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||this.updateCopy()},methods:{updateCopy(){setTimeout(()=>{(['div[class*="language-"] pre','div[class*="aside-code"] aside']instanceof Array||Array.isArray(['div[class*="language-"] pre','div[class*="aside-code"] aside']))&&['div[class*="language-"] pre','div[class*="aside-code"] aside'].forEach(n=>{document.querySelectorAll(n).forEach(this.generateCopyButton)})},1e3)},generateCopyButton(n){if(n.classList.contains("codecopy-enabled"))return;const e=document.createElement("i");e.className="code-copy",e.innerHTML='<svg  style="color:#aaa;font-size:14px" t="1572422231464" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3201" width="14" height="14"><path d="M866.461538 39.384615H354.461538c-43.323077 0-78.769231 35.446154-78.76923 78.769231v39.384616h472.615384c43.323077 0 78.769231 35.446154 78.769231 78.76923v551.384616h39.384615c43.323077 0 78.769231-35.446154 78.769231-78.769231V118.153846c0-43.323077-35.446154-78.769231-78.769231-78.769231z m-118.153846 275.692308c0-43.323077-35.446154-78.769231-78.76923-78.769231H157.538462c-43.323077 0-78.769231 35.446154-78.769231 78.769231v590.769231c0 43.323077 35.446154 78.769231 78.769231 78.769231h512c43.323077 0 78.769231-35.446154 78.76923-78.769231V315.076923z m-354.461538 137.846154c0 11.815385-7.876923 19.692308-19.692308 19.692308h-157.538461c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h157.538461c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z m157.538461 315.076923c0 11.815385-7.876923 19.692308-19.692307 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h315.076923c11.815385 0 19.692308 7.876923 19.692307 19.692308v39.384615z m78.769231-157.538462c0 11.815385-7.876923 19.692308-19.692308 19.692308H216.615385c-11.815385 0-19.692308-7.876923-19.692308-19.692308v-39.384615c0-11.815385 7.876923-19.692308 19.692308-19.692308h393.846153c11.815385 0 19.692308 7.876923 19.692308 19.692308v39.384615z" p-id="3202"></path></svg>',e.title="Copy to clipboard",e.addEventListener("click",()=>{this.copyToClipboard(n.innerText)}),n.appendChild(e),n.classList.add("codecopy-enabled")},copyToClipboard(n){const e=document.createElement("textarea");e.value=n,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);const t=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);e.select(),document.execCommand("copy");(new kl).show({text:"å¤å¶æå",duration:1e3}),document.body.removeChild(e),t&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(t))}}};!function(n,e){void 0===e&&(e={});var t=e.insertAt;if(n&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===t&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}}("@media (max-width: 1000px) {\n  .vuepress-plugin-demo-block__h_code {\n    display: none;\n  }\n  .vuepress-plugin-demo-block__app {\n    margin-left: auto !important;\n    margin-right: auto !important;\n  }\n}\n.vuepress-plugin-demo-block__wrapper {\n  margin-top: 10px;\n  border: 1px solid #ebebeb;\n  border-radius: 4px;\n  transition: all 0.2s;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display {\n  height: 400px;\n  display: flex;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__app {\n  width: 300px;\n  border: 1px solid #ebebeb;\n  box-shadow: 1px 1px 3px #ebebeb;\n  margin-right: 5px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code {\n  flex: 1;\n  overflow: auto;\n  height: 100%;\n}\n.vuepress-plugin-demo-block__wrapper.vuepress-plugin-demo-block__horizontal .vuepress-plugin-demo-block__display .vuepress-plugin-demo-block__h_code > pre {\n  overflow: visible;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  max-height: 400px;\n  overflow: auto;\n}\n.vuepress-plugin-demo-block__wrapper div {\n  box-sizing: border-box;\n}\n.vuepress-plugin-demo-block__wrapper:hover {\n  box-shadow: 0 0 11px rgba(33, 33, 33, 0.2);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code {\n  overflow: hidden;\n  height: 0;\n  padding: 0 !important;\n  background-color: #282c34;\n  border-radius: 0 !important;\n  transition: height 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__code pre {\n  margin: 0 !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__display {\n  padding: 20px;\n  border-bottom: 1px solid #ebebeb;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer {\n  position: relative;\n  text-align: center;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__codepen {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer.vuepress-plugin-demo-block__show-link .vuepress-plugin-demo-block__expand::before {\n  border-top: none;\n  border-right: 6px solid transparent;\n  border-bottom: 6px solid #ccc;\n  border-left: 6px solid transparent;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__codepen,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand span,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand {\n  opacity: 1;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover .vuepress-plugin-demo-block__expand::before {\n  border-top-color: #3eaf7c !important;\n  border-bottom-color: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer:hover svg {\n  fill: #3eaf7c !important;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand-text {\n  transition: all 0.5s;\n  opacity: 0;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:nth-last-child(2) {\n  right: 50px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer form:last-child {\n  right: 10px;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button {\n  border-color: transparent;\n  background-color: transparent;\n  font-size: 14px;\n  color: #3eaf7c;\n  cursor: pointer;\n  outline: none;\n  margin: 0;\n  width: 46px;\n  position: relative;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::before {\n  content: attr(data-tip);\n  white-space: nowrap;\n  position: absolute;\n  top: -30px;\n  left: 50%;\n  color: #eee;\n  line-height: 1;\n  z-index: 1000;\n  border-radius: 4px;\n  padding: 6px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  background-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button:hover::after {\n  content: '' !important;\n  display: block;\n  position: absolute;\n  left: 50%;\n  top: -5px;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  border: 5px solid transparent;\n  border-top-color: rgba(0, 0, 0, 0.8);\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__button svg {\n  width: 34px;\n  height: 20px;\n  fill: #ccc;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__jsfiddle,\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__codepen {\n  position: absolute;\n  top: 10px;\n  transition: all 0.5s;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand {\n  position: relative;\n  width: 100px;\n  height: 40px;\n  margin: 0;\n  color: #3eaf7c;\n  font-size: 14px;\n  background-color: transparent;\n  border-color: transparent;\n  outline: none;\n  transition: all 0.5s;\n  cursor: pointer;\n}\n.vuepress-plugin-demo-block__wrapper .vuepress-plugin-demo-block__footer .vuepress-plugin-demo-block__expand::before {\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 0;\n  height: 0;\n  border-top: 6px solid #ccc;\n  border-right: 6px solid transparent;\n  border-left: 6px solid transparent;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n");var Al={jsLib:[],cssLib:[],jsfiddle:!0,codepen:!0,codepenLayout:"left",codepenJsProcessor:"babel",codepenEditors:"101",horizontal:!1,vue:"https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js",react:"https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js",reactDOM:"https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"},_l={},Pl=function(n){return'<div id="app">\n'.concat(n,"\n</div>")},jl=function(n){return window.$VUEPRESS_DEMO_BLOCK&&void 0!==window.$VUEPRESS_DEMO_BLOCK[n]?window.$VUEPRESS_DEMO_BLOCK[n]:Al[n]},Bl=function n(e,t,r){var i=document.createElement(e);return t&&Object.keys(t).forEach((function(n){if(n.indexOf("data"))i[n]=t[n];else{var e=n.replace("data","");i.dataset[e]=t[n]}})),r&&r.forEach((function(e){var t=e.tag,r=e.attrs,a=e.children;i.appendChild(n(t,r,a))})),i},Ol=function(n,e,t){var r,i=(r=n.querySelectorAll(".".concat(e)),Array.prototype.slice.call(r));return 1!==i.length||t?i:i[0]},Dl=function(n,e){var t,r,i=n.match(/<style>([\s\S]+)<\/style>/),a=n.match(/<template>([\s\S]+)<\/template>/),o=n.match(/<script>([\s\S]+)<\/script>/),l={css:i&&i[1].replace(/^\n|\n$/g,""),html:a&&a[1].replace(/^\n|\n$/g,""),js:o&&o[1].replace(/^\n|\n$/g,""),jsLib:e.jsLib||[],cssLib:e.cssLib||[]};l.htmlTpl=Pl(l.html),l.jsTpl=(t=l.js,r=t.replace(/export\s+default\s*?\{\n*/,"").replace(/\n*\}\s*$/,"").trim(),"new Vue({\n  el: '#app',\n  ".concat(r,"\n})")),l.script=function(n,e){var t=n.split(/export\s+default/),r="(function() {".concat(t[0]," ; return ").concat(t[1],"})()"),i=window.Babel?window.Babel.transform(r,{presets:["es2015"]}).code:r,a=[eval][0](i);return a.template=e,a}(l.js,l.html);var s=jl("vue");return l.jsLib.unshift(s),l},Rl=function(n,e){var t,r=n.match(/<style>([\s\S]+)<\/style>/),i=n.match(/<html>([\s\S]+)<\/html>/),a=n.match(/<script>([\s\S]+)<\/script>/),o={css:r&&r[1].replace(/^\n|\n$/g,""),html:i&&i[1].replace(/^\n|\n$/g,""),js:a&&a[1].replace(/^\n|\n$/g,""),jsLib:e.jsLib||[],cssLib:e.cssLib||[]};return o.htmlTpl=o.html,o.jsTpl=o.js,o.script=(t=o.js,window.Babel?window.Babel.transform(t,{presets:["es2015"]}).code:t),o},Ml=function(n){return n=n.replace("export default ","").replace(/App\.__style__(\s*)=(\s*)`([\s\S]*)?`/,""),n+='ReactDOM.render(React.createElement(App), document.getElementById("app"))'};function Ll(){var n=Ol(document,"vuepress-plugin-demo-block__wrapper",!0);n.length?n.forEach((function(n){if("true"!==n.dataset.created){n.style.display="block";var e=Ol(n,"vuepress-plugin-demo-block__code"),t=Ol(n,"vuepress-plugin-demo-block__display"),r=Ol(n,"vuepress-plugin-demo-block__footer"),i=Ol(t,"vuepress-plugin-demo-block__app"),a=decodeURIComponent(n.dataset.code),o=decodeURIComponent(n.dataset.config),l=decodeURIComponent(n.dataset.type);o=o?JSON.parse(o):{};var s=e.querySelector("div").clientHeight,c="react"===l?function(n,e){var t=(0,window.Babel.transform)(n,{presets:["es2015","react"]}).code,r="(function(exports){var module={};module.exports=exports;".concat(t,";return module.exports.__esModule?module.exports.default:module.exports;})({})"),i=new Function("return ".concat(r))(),a={js:i,css:i.__style__||"",jsLib:e.jsLib||[],cssLib:e.cssLib||[],jsTpl:Ml(n),htmlTpl:Pl("")},o=jl("react"),l=jl("reactDOM");return a.jsLib.unshift(o,l),a}(a,o):"vanilla"===l?Rl(a,o):Dl(a,o),d=Bl("button",{className:"".concat("vuepress-plugin-demo-block__expand")});if(r.appendChild(d),d.addEventListener("click",Ul.bind(null,d,s,e,r)),jl("jsfiddle")&&r.appendChild(function(n){var e=n.css,t=n.htmlTpl,r=n.jsTpl,i=n.jsLib,a=n.cssLib,o=i.concat(a).concat(jl("cssLib")).concat(jl("jsLib")).join(",");return Bl("form",{className:"vuepress-plugin-demo-block__jsfiddle",target:"_blank",action:"https://jsfiddle.net/api/post/library/pure/",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"css",value:e}},{tag:"input",attrs:{type:"hidden",name:"html",value:t}},{tag:"input",attrs:{type:"hidden",name:"js",value:r}},{tag:"input",attrs:{type:"hidden",name:"panel_js",value:3}},{tag:"input",attrs:{type:"hidden",name:"wrap",value:1}},{tag:"input",attrs:{type:"hidden",name:"resources",value:o}},{tag:"button",attrs:{type:"submit",className:"vuepress-plugin-demo-block__button",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088289967" class="icon" style="" viewBox="0 0 1170 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1952" xmlns:xlink="http://www.w3.org/1999/xlink" width="228.515625" height="200"><defs><style type="text/css"></style></defs><path d="M1028.571429 441.142857q63.428571 26.285714 102.571428 83.142857T1170.285714 650.857143q0 93.714286-67.428571 160.285714T940 877.714286q-2.285714 0-6.571429-0.285715t-6-0.285714H232q-97.142857-5.714286-164.571429-71.714286T0 645.142857q0-62.857143 31.428571-116t84-84q-6.857143-22.285714-6.857142-46.857143 0-65.714286 46.857142-112t113.714286-46.285714q54.285714 0 98.285714 33.142857 42.857143-88 127.142858-141.714286t186.571428-53.714285q94.857143 0 174.857143 46T982.571429 248.571429t46.571428 172q0 3.428571-0.285714 10.285714t-0.285714 10.285714zM267.428571 593.142857q0 69.714286 48 110.285714t118.857143 40.571429q78.285714 0 137.142857-56.571429-9.142857-11.428571-27.142857-32.285714T519.428571 626.285714q-38.285714 37.142857-82.285714 37.142857-31.428571 0-53.428571-19.142857T361.714286 594.285714q0-30.285714 22-49.714285t52.285714-19.428572q25.142857 0 48.285714 12t41.714286 31.428572 37.142857 42.857142 39.428572 46.857143 44 42.857143 55.428571 31.428572 69.428571 12q69.142857 0 116.857143-40.857143T936 594.857143q0-69.142857-48-109.714286t-118.285714-40.571428q-81.714286 0-137.714286 55.428571l53.142857 61.714286q37.714286-36.571429 81.142857-36.571429 29.714286 0 52.571429 18.857143t22.857143 48q0 32.571429-21.142857 52.285714t-53.714286 19.714286q-24.571429 0-47.142857-12t-41.142857-31.428571-37.428572-42.857143-39.714286-46.857143-44.285714-42.857143-55.142857-31.428571T434.285714 444.571429q-69.714286 0-118.285714 40.285714T267.428571 593.142857z" p-id="1953"></path></svg>',datatip:"JSFiddle"}}])}(c)),jl("codepen")&&r.appendChild(function(n){var e=n.css,t=n.htmlTpl,r=n.jsTpl,i=n.jsLib,a=n.cssLib,o=JSON.stringify({css:e,html:t,js:r,js_external:i.concat(jl("jsLib")).join(";"),css_external:a.concat(jl("cssLib")).join(";"),layout:jl("codepenLayout"),js_pre_processor:jl("codepenJsProcessor"),editors:jl("codepenEditors")});return Bl("form",{className:"vuepress-plugin-demo-block__codepen",target:"_blank",action:"https://codepen.io/pen/define",method:"post"},[{tag:"input",attrs:{type:"hidden",name:"data",value:o}},{tag:"button",attrs:{type:"submit",innerHTML:'<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1547088271207" class="icon" style="" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1737" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><defs><style type="text/css"></style></defs><path d="M123.428571 668l344.571429 229.714286v-205.142857L277.142857 565.142857z m-35.428571-82.285714l110.285714-73.714286-110.285714-73.714286v147.428572z m468 312l344.571429-229.714286-153.714286-102.857143-190.857143 127.428572v205.142857z m-44-281.714286l155.428571-104-155.428571-104-155.428571 104zM277.142857 458.857143l190.857143-127.428572V126.285714L123.428571 356z m548.571429 53.142857l110.285714 73.714286V438.285714z m-78.857143-53.142857l153.714286-102.857143-344.571429-229.714286v205.142857z m277.142857-102.857143v312q0 23.428571-19.428571 36.571429l-468 312q-12 7.428571-24.571429 7.428571t-24.571429-7.428571L19.428571 704.571429q-19.428571-13.142857-19.428571-36.571429V356q0-23.428571 19.428571-36.571429L487.428571 7.428571q12-7.428571 24.571429-7.428571t24.571429 7.428571l468 312q19.428571 13.142857 19.428571 36.571429z" p-id="1738"></path></svg>',className:"vuepress-plugin-demo-block__button",datatip:"Codepen"}}])}(c)),void 0!==o.horizontal?o.horizontal:jl("horizontal")){n.classList.add("vuepress-plugin-demo-block__horizontal");var u=e.firstChild.cloneNode(!0);u.classList.add("vuepress-plugin-demo-block__h_code"),t.appendChild(u)}if(c.css&&function(n){if(!_l[n]){var e=Bl("style",{innerHTML:n});document.body.appendChild(e),_l[n]=!0}}(c.css),"react"===l)ReactDOM.render(React.createElement(c.js),i);else if("vue"===l){var p=(new(Vue.extend(c.script))).$mount();i.appendChild(p.$el)}else"vanilla"===l&&(i.innerHTML=c.html,new Function("return (function(){".concat(c.script,"})()"))());n.dataset.created="true"}})):setTimeout((function(n){Ll()}),300)}function Ul(n,e,t,r){var i="1"!==n.dataset.isExpand;t.style.height=i?"".concat(e,"px"):0,i?r.classList.add("vuepress-plugin-demo-block__show-link"):r.classList.remove("vuepress-plugin-demo-block__show-link"),n.dataset.isExpand=i?"1":"0"}var Fl={mounted:function(){window.$VUEPRESS_DEMO_BLOCK={jsfiddle:!1,codepen:!0,horizontal:!1},Ll()},updated:function(){Ll()}},ql="auto",Nl="zoom-in",$l="zoom-out",Hl="grab",Wl="move";function Vl(n,e,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={passive:!1};r?n.addEventListener(e,t,i):n.removeEventListener(e,t,i)}function Gl(n,e){if(n){var t=new Image;t.onload=function(){e&&e(t)},t.src=n}}function Jl(n){return n.dataset.original?n.dataset.original:"A"===n.parentNode.tagName?n.parentNode.getAttribute("href"):null}function Ql(n,e,t){!function(n){var e=Zl,t=Xl;if(n.transition){var r=n.transition;delete n.transition,n[e]=r}if(n.transform){var i=n.transform;delete n.transform,n[t]=i}}(e);var r=n.style,i={};for(var a in e)t&&(i[a]=r[a]||""),r[a]=e[a];return i}var Zl="transition",Xl="transform",Kl="transform",Yl="transitionend";var ns=function(){},es={enableGrab:!0,preloadImage:!1,closeOnWindowResize:!0,transitionDuration:.4,transitionTimingFunction:"cubic-bezier(0.4, 0, 0, 1)",bgColor:"rgb(255, 255, 255)",bgOpacity:1,scaleBase:1,scaleExtra:.5,scrollThreshold:40,zIndex:998,customSize:null,onOpen:ns,onClose:ns,onGrab:ns,onMove:ns,onRelease:ns,onBeforeOpen:ns,onBeforeClose:ns,onBeforeGrab:ns,onBeforeRelease:ns,onImageLoading:ns,onImageLoaded:ns},ts={init:function(n){var e,t;e=this,t=n,Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(n){e[n]=e[n].bind(t)}))},click:function(n){if(n.preventDefault(),is(n))return window.open(this.target.srcOriginal||n.currentTarget.src,"_blank");this.shown?this.released?this.close():this.release():this.open(n.currentTarget)},scroll:function(){var n=document.documentElement||document.body.parentNode||document.body,e=window.pageXOffset||n.scrollLeft,t=window.pageYOffset||n.scrollTop;null===this.lastScrollPosition&&(this.lastScrollPosition={x:e,y:t});var r=this.lastScrollPosition.x-e,i=this.lastScrollPosition.y-t,a=this.options.scrollThreshold;(Math.abs(i)>=a||Math.abs(r)>=a)&&(this.lastScrollPosition=null,this.close())},keydown:function(n){(function(n){return"Escape"===(n.key||n.code)||27===n.keyCode})(n)&&(this.released?this.close():this.release(this.close))},mousedown:function(n){if(rs(n)&&!is(n)){n.preventDefault();var e=n.clientX,t=n.clientY;this.pressTimer=setTimeout(function(){this.grab(e,t)}.bind(this),200)}},mousemove:function(n){this.released||this.move(n.clientX,n.clientY)},mouseup:function(n){rs(n)&&!is(n)&&(clearTimeout(this.pressTimer),this.released?this.close():this.release())},touchstart:function(n){n.preventDefault();var e=n.touches[0],t=e.clientX,r=e.clientY;this.pressTimer=setTimeout(function(){this.grab(t,r)}.bind(this),200)},touchmove:function(n){if(!this.released){var e=n.touches[0],t=e.clientX,r=e.clientY;this.move(t,r)}},touchend:function(n){(function(n){n.targetTouches.length})(n)||(clearTimeout(this.pressTimer),this.released?this.close():this.release())},clickOverlay:function(){this.close()},resizeWindow:function(){this.close()}};function rs(n){return 0===n.button}function is(n){return n.metaKey||n.ctrlKey}var as={init:function(n){this.el=document.createElement("div"),this.instance=n,this.parent=document.body,Ql(this.el,{position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0}),this.updateStyle(n.options),Vl(this.el,"click",n.handler.clickOverlay.bind(n))},updateStyle:function(n){Ql(this.el,{zIndex:n.zIndex,backgroundColor:n.bgColor,transition:"opacity\n        "+n.transitionDuration+"s\n        "+n.transitionTimingFunction})},insert:function(){this.parent.appendChild(this.el)},remove:function(){this.parent.removeChild(this.el)},fadeIn:function(){this.el.offsetWidth,this.el.style.opacity=this.instance.options.bgOpacity},fadeOut:function(){this.el.style.opacity=0}},os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ls=function(){function n(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),ss=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cs={init:function(n,e){this.el=n,this.instance=e,this.srcThumbnail=this.el.getAttribute("src"),this.srcset=this.el.getAttribute("srcset"),this.srcOriginal=Jl(this.el),this.rect=this.el.getBoundingClientRect(),this.translate=null,this.scale=null,this.styleOpen=null,this.styleClose=null},zoomIn:function(){var n=this.instance.options,e=n.zIndex,t=n.enableGrab,r=n.transitionDuration,i=n.transitionTimingFunction;this.translate=this.calculateTranslate(),this.scale=this.calculateScale(),this.styleOpen={position:"relative",zIndex:e+1,cursor:t?Hl:$l,transition:Kl+"\n        "+r+"s\n        "+i,transform:"translate3d("+this.translate.x+"px, "+this.translate.y+"px, 0px)\n        scale("+this.scale.x+","+this.scale.y+")",height:this.rect.height+"px",width:this.rect.width+"px"},this.el.offsetWidth,this.styleClose=Ql(this.el,this.styleOpen,!0)},zoomOut:function(){this.el.offsetWidth,Ql(this.el,{transform:"none"})},grab:function(n,e,t){var r=ds(),i=r.x-n,a=r.y-e;Ql(this.el,{cursor:Wl,transform:"translate3d(\n        "+(this.translate.x+i)+"px, "+(this.translate.y+a)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},move:function(n,e,t){var r=ds(),i=r.x-n,a=r.y-e;Ql(this.el,{transition:Kl,transform:"translate3d(\n        "+(this.translate.x+i)+"px, "+(this.translate.y+a)+"px, 0px)\n        scale("+(this.scale.x+t)+","+(this.scale.y+t)+")"})},restoreCloseStyle:function(){Ql(this.el,this.styleClose)},restoreOpenStyle:function(){Ql(this.el,this.styleOpen)},upgradeSource:function(){if(this.srcOriginal){var n=this.el.parentNode;this.srcset&&this.el.removeAttribute("srcset");var e=this.el.cloneNode(!1);e.setAttribute("src",this.srcOriginal),e.style.position="fixed",e.style.visibility="hidden",n.appendChild(e),setTimeout(function(){this.el.setAttribute("src",this.srcOriginal),n.removeChild(e)}.bind(this),50)}},downgradeSource:function(){this.srcOriginal&&(this.srcset&&this.el.setAttribute("srcset",this.srcset),this.el.setAttribute("src",this.srcThumbnail))},calculateTranslate:function(){var n=ds(),e=this.rect.left+this.rect.width/2,t=this.rect.top+this.rect.height/2;return{x:n.x-e,y:n.y-t}},calculateScale:function(){var n=this.el.dataset,e=n.zoomingHeight,t=n.zoomingWidth,r=this.instance.options,i=r.customSize,a=r.scaleBase;if(!i&&e&&t)return{x:t/this.rect.width,y:e/this.rect.height};if(i&&"object"===(void 0===i?"undefined":os(i)))return{x:i.width/this.rect.width,y:i.height/this.rect.height};var o=this.rect.width/2,l=this.rect.height/2,s=ds(),c={x:s.x-o,y:s.y-l},d=c.x/o,u=c.y/l,p=a+Math.min(d,u);if(i&&"string"==typeof i){var m=t||this.el.naturalWidth,h=e||this.el.naturalHeight,g=parseFloat(i)*m/(100*this.rect.width),v=parseFloat(i)*h/(100*this.rect.height);if(p>g||p>v)return{x:g,y:v}}return{x:p,y:p}}};function ds(){var n=document.documentElement;return{x:Math.min(n.clientWidth,window.innerWidth)/2,y:Math.min(n.clientHeight,window.innerHeight)/2}}function us(n,e,t){["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"].forEach((function(r){Vl(n,r,e[r],t)}))}var ps=function(){function n(e){!function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.target=Object.create(cs),this.overlay=Object.create(as),this.handler=Object.create(ts),this.body=document.body,this.shown=!1,this.lock=!1,this.released=!0,this.lastScrollPosition=null,this.pressTimer=null,this.options=ss({},es,e),this.overlay.init(this),this.handler.init(this)}return ls(n,[{key:"listen",value:function(n){if("string"==typeof n)for(var e=document.querySelectorAll(n),t=e.length;t--;)this.listen(e[t]);else"IMG"===n.tagName&&(n.style.cursor=Nl,Vl(n,"click",this.handler.click),this.options.preloadImage&&Gl(Jl(n)));return this}},{key:"config",value:function(n){return n?(ss(this.options,n),this.overlay.updateStyle(this.options),this):this.options}},{key:"open",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.onOpen;if(!this.shown&&!this.lock){var r="string"==typeof n?document.querySelector(n):n;if("IMG"===r.tagName){if(this.options.onBeforeOpen(r),this.target.init(r,this),!this.options.preloadImage){var i=this.target.srcOriginal;null!=i&&(this.options.onImageLoading(r),Gl(i,this.options.onImageLoaded))}this.shown=!0,this.lock=!0,this.target.zoomIn(),this.overlay.insert(),this.overlay.fadeIn(),Vl(document,"scroll",this.handler.scroll),Vl(document,"keydown",this.handler.keydown),this.options.closeOnWindowResize&&Vl(window,"resize",this.handler.resizeWindow);var a=function n(){Vl(r,Yl,n,!1),e.lock=!1,e.target.upgradeSource(),e.options.enableGrab&&us(document,e.handler,!0),t(r)};return Vl(r,Yl,a),this}}}},{key:"close",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onClose;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeClose(t),this.lock=!0,this.body.style.cursor=ql,this.overlay.fadeOut(),this.target.zoomOut(),Vl(document,"scroll",this.handler.scroll,!1),Vl(document,"keydown",this.handler.keydown,!1),this.options.closeOnWindowResize&&Vl(window,"resize",this.handler.resizeWindow,!1);var r=function r(){Vl(t,Yl,r,!1),n.shown=!1,n.lock=!1,n.target.downgradeSource(),n.options.enableGrab&&us(document,n.handler,!1),n.target.restoreCloseStyle(),n.overlay.remove(),e(t)};return Vl(t,Yl,r),this}}},{key:"grab",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onGrab;if(this.shown&&!this.lock){var i=this.target.el;this.options.onBeforeGrab(i),this.released=!1,this.target.grab(n,e,t);var a=function n(){Vl(i,Yl,n,!1),r(i)};return Vl(i,Yl,a),this}}},{key:"move",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.options.scaleExtra,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.options.onMove;if(this.shown&&!this.lock){this.released=!1,this.body.style.cursor=Wl,this.target.move(n,e,t);var i=this.target.el,a=function n(){Vl(i,Yl,n,!1),r(i)};return Vl(i,Yl,a),this}}},{key:"release",value:function(){var n=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.onRelease;if(this.shown&&!this.lock){var t=this.target.el;this.options.onBeforeRelease(t),this.lock=!0,this.body.style.cursor=ql,this.target.restoreOpenStyle();var r=function r(){Vl(t,Yl,r,!1),n.lock=!1,n.released=!0,e(t)};return Vl(t,Yl,r),this}}}]),n}();const ms=JSON.parse('{"bgColor":"rgba(0,0,0,0.6)"}'),hs=Number("500");class gs{constructor(){this.instance=new ps(ms)}update(n=".theme-vdoing-content img:not(.no-zoom)"){"undefined"!=typeof window&&this.instance.listen(n)}updateDelay(n=".theme-vdoing-content img:not(.no-zoom)",e=hs){setTimeout(()=>this.update(n),e)}}var vs=[fl,Cl,Sl,zl,Fl,{watch:{"$page.path"(){void 0!==this.$vuepress.zooming&&this.$vuepress.zooming.updateDelay()}},mounted(){this.$vuepress.zooming=new gs,this.$vuepress.zooming.updateDelay()}}],fs={name:"GlobalLayout",computed:{layout(){const n=this.getLayout();return pl("layout",n),Gt.component(n)}},methods:{getLayout(){if(this.$page.path){const n=this.$page.frontmatter.layout;return n&&(this.$vuepress.getLayoutAsyncComponent(n)||this.$vuepress.getVueComponent(n))?n:"Layout"}return"NotFound"}}},bs=t(4),ys=Object(bs.a)(fs,(function(){return(0,this._self._c)(this.layout,{tag:"component"})}),[],!1,null,null,null).exports;!function(n,e,t){switch(e){case"components":n[e]||(n[e]={}),Object.assign(n[e],t);break;case"mixins":n[e]||(n[e]=[]),n[e].push(...t);break;default:throw new Error("Unknown option name.")}}(ys,"mixins",vs);const xs=[{name:"v-7c44097c",path:"/pages/0a89f3/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-7c44097c").then(t)}},{path:"/pages/0a89f3/index.html",redirect:"/pages/0a89f3/"},{path:"/03.è®¾è®¡/01.æ¶æ/00.ç»¼å/00.å¦ä½è®¾è®¡ç³»ç».html",redirect:"/pages/0a89f3/"},{name:"v-cbce72d4",path:"/pages/000a7b/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-cbce72d4").then(t)}},{path:"/pages/000a7b/index.html",redirect:"/pages/000a7b/"},{path:"/03.è®¾è®¡/01.æ¶æ/00.ç»¼å/01.ç³»ç»æ¶æé¢è¯.html",redirect:"/pages/000a7b/"},{name:"v-2443e46d",path:"/pages/a49605/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-2443e46d").then(t)}},{path:"/pages/a49605/index.html",redirect:"/pages/a49605/"},{path:"/03.è®¾è®¡/01.æ¶æ/00.ç»¼å/03.ç³»ç»é«æ§è½æ¶æ.html",redirect:"/pages/a49605/"},{name:"v-19adc5ec",path:"/pages/9a462f/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-19adc5ec").then(t)}},{path:"/pages/9a462f/index.html",redirect:"/pages/9a462f/"},{path:"/03.è®¾è®¡/01.æ¶æ/00.ç»¼å/04.ç³»ç»é«å¯ç¨æ¶æ.html",redirect:"/pages/9a462f/"},{name:"v-19e0ab98",path:"/pages/1e5251/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-19e0ab98").then(t)}},{path:"/pages/1e5251/index.html",redirect:"/pages/1e5251/"},{path:"/03.è®¾è®¡/01.æ¶æ/00.ç»¼å/05.ç³»ç»ä¼¸ç¼©æ§æ¶æ.html",redirect:"/pages/1e5251/"},{name:"v-7771b23d",path:"/pages/943670/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-7771b23d").then(t)}},{path:"/pages/943670/index.html",redirect:"/pages/943670/"},{path:"/03.è®¾è®¡/01.æ¶æ/00.ç»¼å/06.ç³»ç»æ©å±æ§æ¶æ.html",redirect:"/pages/943670/"},{name:"v-6c350cd6",path:"/pages/a1adcf/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-6c350cd6").then(t)}},{path:"/pages/a1adcf/index.html",redirect:"/pages/a1adcf/"},{path:"/03.è®¾è®¡/01.æ¶æ/00.ç»¼å/07.ç³»ç»å®å¨æ§æ¶æ.html",redirect:"/pages/a1adcf/"},{name:"v-1057bb3a",path:"/pages/db2390/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-1057bb3a").then(t)}},{path:"/pages/db2390/index.html",redirect:"/pages/db2390/"},{path:"/03.è®¾è®¡/01.æ¶æ/00.ç»¼å/02.ç³»ç»æ¶ææ¦è¿°.html",redirect:"/pages/db2390/"},{name:"v-c62a590a",path:"/pages/641e5c/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-c62a590a").then(t)}},{path:"/pages/641e5c/index.html",redirect:"/pages/641e5c/"},{path:"/03.è®¾è®¡/01.æ¶æ/00.ç»¼å/09.ç³»ç»æµè¯æ¶æ.html",redirect:"/pages/641e5c/"},{name:"v-1cf67f56",path:"/pages/8cbae8/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-1cf67f56").then(t)}},{path:"/pages/8cbae8/index.html",redirect:"/pages/8cbae8/"},{path:"/03.è®¾è®¡/01.æ¶æ/00.ç»¼å/08.å¤§åç³»ç»æ ¸å¿ææ¯.html",redirect:"/pages/8cbae8/"},{name:"v-58986cb9",path:"/pages/012075/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-58986cb9").then(t)}},{path:"/pages/012075/index.html",redirect:"/pages/012075/"},{path:"/03.è®¾è®¡/01.æ¶æ/01.å¾®æå¡/01.å¾®æå¡ç®ä».html",redirect:"/pages/012075/"},{name:"v-121637aa",path:"/pages/aa7497/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-121637aa").then(t)}},{path:"/pages/aa7497/index.html",redirect:"/pages/aa7497/"},{path:"/03.è®¾è®¡/01.æ¶æ/01.å¾®æå¡/02.å¾®æå¡åºæ¬åç.html",redirect:"/pages/aa7497/"},{name:"v-717c7df2",path:"/pages/559360/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-717c7df2").then(t)}},{path:"/pages/559360/index.html",redirect:"/pages/559360/"},{path:"/03.è®¾è®¡/01.æ¶æ/01.å¾®æå¡/",redirect:"/pages/559360/"},{name:"v-0d3720dc",path:"/pages/7ac4c5/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-0d3720dc").then(t)}},{path:"/pages/7ac4c5/index.html",redirect:"/pages/7ac4c5/"},{path:"/03.è®¾è®¡/01.æ¶æ/02.å®å¨/01.è®¤è¯åææ.html",redirect:"/pages/7ac4c5/"},{name:"v-04b48643",path:"/pages/21bd0a/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-04b48643").then(t)}},{path:"/pages/21bd0a/index.html",redirect:"/pages/21bd0a/"},{path:"/03.è®¾è®¡/01.æ¶æ/02.å®å¨/02.OAuth2.0.html",redirect:"/pages/21bd0a/"},{name:"v-b45bd736",path:"/pages/3f25aa/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-b45bd736").then(t)}},{path:"/pages/3f25aa/index.html",redirect:"/pages/3f25aa/"},{path:"/03.è®¾è®¡/01.æ¶æ/99.è§£å³æ¹æ¡/Cinchcastçæ¶æ.html",redirect:"/pages/3f25aa/"},{name:"v-f4f72696",path:"/pages/c38eff/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-f4f72696").then(t)}},{path:"/pages/c38eff/index.html",redirect:"/pages/c38eff/"},{path:"/03.è®¾è®¡/01.æ¶æ/99.è§£å³æ¹æ¡/",redirect:"/pages/c38eff/"},{name:"v-f104e8ee",path:"/pages/940342/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-f104e8ee").then(t)}},{path:"/pages/940342/index.html",redirect:"/pages/940342/"},{path:"/03.è®¾è®¡/01.æ¶æ/99.è§£å³æ¹æ¡/äºé©¬éçæ¶æ.html",redirect:"/pages/940342/"},{name:"v-569eca3f",path:"/pages/f90553/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-569eca3f").then(t)}},{path:"/pages/f90553/index.html",redirect:"/pages/f90553/"},{path:"/03.è®¾è®¡/01.æ¶æ/99.è§£å³æ¹æ¡/ä½ä»£ç å¹³å°.html",redirect:"/pages/f90553/"},{name:"v-6f5cbd38",path:"/pages/d63886/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-6f5cbd38").then(t)}},{path:"/pages/d63886/index.html",redirect:"/pages/d63886/"},{path:"/03.è®¾è®¡/01.æ¶æ/99.è§£å³æ¹æ¡/æµ·éæ°æ®å¤ç.html",redirect:"/pages/d63886/"},{name:"v-5430ebce",path:"/pages/4ae6a4/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-5430ebce").then(t)}},{path:"/pages/4ae6a4/index.html",redirect:"/pages/4ae6a4/"},{path:"/03.è®¾è®¡/01.æ¶æ/99.è§£å³æ¹æ¡/çµå.html",redirect:"/pages/4ae6a4/"},{name:"v-fd8744e6",path:"/pages/c72587/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-fd8744e6").then(t)}},{path:"/pages/c72587/index.html",redirect:"/pages/c72587/"},{path:"/03.è®¾è®¡/01.æ¶æ/99.è§£å³æ¹æ¡/ç­å°åæå¡.html",redirect:"/pages/c72587/"},{name:"v-8da1bcae",path:"/pages/a963f0/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-8da1bcae").then(t)}},{path:"/pages/a963f0/index.html",redirect:"/pages/a963f0/"},{path:"/03.è®¾è®¡/01.æ¶æ/99.è§£å³æ¹æ¡/ç§æç³»ç»è®¾è®¡.html",redirect:"/pages/a963f0/"},{name:"v-33b23c84",path:"/pages/9a2452/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-33b23c84").then(t)}},{path:"/pages/9a2452/index.html",redirect:"/pages/9a2452/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/00.è®¾è®¡æ¨¡å¼æ¦è¿°.html",redirect:"/pages/9a2452/"},{name:"v-4bd3e31c",path:"/pages/d9e5d2/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-4bd3e31c").then(t)}},{path:"/pages/d9e5d2/index.html",redirect:"/pages/d9e5d2/"},{path:"/03.è®¾è®¡/01.æ¶æ/",redirect:"/pages/d9e5d2/"},{name:"v-13d9f031",path:"/pages/ff930b/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-13d9f031").then(t)}},{path:"/pages/ff930b/index.html",redirect:"/pages/ff930b/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/01.ç®åå·¥åæ¨¡å¼.html",redirect:"/pages/ff930b/"},{name:"v-a097a3be",path:"/pages/65724c/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-a097a3be").then(t)}},{path:"/pages/65724c/index.html",redirect:"/pages/65724c/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/02.å·¥åæ¹æ³æ¨¡å¼.html",redirect:"/pages/65724c/"},{name:"v-3a239cb0",path:"/pages/340aa0/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-3a239cb0").then(t)}},{path:"/pages/340aa0/index.html",redirect:"/pages/340aa0/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/03.æ½è±¡å·¥åæ¨¡å¼.html",redirect:"/pages/340aa0/"},{name:"v-1bdc9712",path:"/pages/bf03f3/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-1bdc9712").then(t)}},{path:"/pages/bf03f3/index.html",redirect:"/pages/bf03f3/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/04.å»ºé èæ¨¡å¼.html",redirect:"/pages/bf03f3/"},{name:"v-68de8656",path:"/pages/1af8ee/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-68de8656").then(t)}},{path:"/pages/1af8ee/index.html",redirect:"/pages/1af8ee/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/05.ååæ¨¡å¼.html",redirect:"/pages/1af8ee/"},{name:"v-72ea5972",path:"/pages/cf046f/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-72ea5972").then(t)}},{path:"/pages/cf046f/index.html",redirect:"/pages/cf046f/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/06.åä¾æ¨¡å¼.html",redirect:"/pages/cf046f/"},{name:"v-b5457c16",path:"/pages/2115cf/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-b5457c16").then(t)}},{path:"/pages/2115cf/index.html",redirect:"/pages/2115cf/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/07.ééå¨æ¨¡å¼.html",redirect:"/pages/2115cf/"},{name:"v-0569b6f8",path:"/pages/b05f5f/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-0569b6f8").then(t)}},{path:"/pages/b05f5f/index.html",redirect:"/pages/b05f5f/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/08.æ¡¥æ¥æ¨¡å¼.html",redirect:"/pages/b05f5f/"},{name:"v-4e6d8200",path:"/pages/85c0a3/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-4e6d8200").then(t)}},{path:"/pages/85c0a3/index.html",redirect:"/pages/85c0a3/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/09.ç»åæ¨¡å¼.html",redirect:"/pages/85c0a3/"},{name:"v-2c19e87c",path:"/pages/2e24a8/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-2c19e87c").then(t)}},{path:"/pages/2e24a8/index.html",redirect:"/pages/2e24a8/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/10.è£é¥°æ¨¡å¼.html",redirect:"/pages/2e24a8/"},{name:"v-6e2d857c",path:"/pages/9147e7/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-6e2d857c").then(t)}},{path:"/pages/9147e7/index.html",redirect:"/pages/9147e7/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/12.äº«åæ¨¡å¼.html",redirect:"/pages/9147e7/"},{name:"v-25c50554",path:"/pages/ea331b/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-25c50554").then(t)}},{path:"/pages/ea331b/index.html",redirect:"/pages/ea331b/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/11.å¤è§æ¨¡å¼.html",redirect:"/pages/ea331b/"},{name:"v-51d6ac9c",path:"/pages/5a865c/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-51d6ac9c").then(t)}},{path:"/pages/5a865c/index.html",redirect:"/pages/5a865c/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/13.ä»£çæ¨¡å¼.html",redirect:"/pages/5a865c/"},{name:"v-f82d5ee0",path:"/pages/6eaeb4/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-f82d5ee0").then(t)}},{path:"/pages/6eaeb4/index.html",redirect:"/pages/6eaeb4/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/14.æ¨¡æ¿æ¹æ³æ¨¡å¼.html",redirect:"/pages/6eaeb4/"},{name:"v-e65aab34",path:"/pages/22353c/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-e65aab34").then(t)}},{path:"/pages/22353c/index.html",redirect:"/pages/22353c/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/15.å½ä»¤æ¨¡å¼.html",redirect:"/pages/22353c/"},{name:"v-637f7ff4",path:"/pages/09d5af/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-637f7ff4").then(t)}},{path:"/pages/09d5af/index.html",redirect:"/pages/09d5af/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/16.è¿­ä»£å¨æ¨¡å¼.html",redirect:"/pages/09d5af/"},{name:"v-cc527b5a",path:"/pages/48e5aa/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-cc527b5a").then(t)}},{path:"/pages/48e5aa/index.html",redirect:"/pages/48e5aa/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/18.è§£éå¨æ¨¡å¼.html",redirect:"/pages/48e5aa/"},{name:"v-07d9254f",path:"/pages/056e1d/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-07d9254f").then(t)}},{path:"/pages/056e1d/index.html",redirect:"/pages/056e1d/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/17.è§å¯èæ¨¡å¼.html",redirect:"/pages/056e1d/"},{name:"v-04ae6228",path:"/pages/3b1f47/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-04ae6228").then(t)}},{path:"/pages/3b1f47/index.html",redirect:"/pages/3b1f47/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/19.ä¸­ä»èæ¨¡å¼.html",redirect:"/pages/3b1f47/"},{name:"v-1a6137e8",path:"/pages/b25735/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-1a6137e8").then(t)}},{path:"/pages/b25735/index.html",redirect:"/pages/b25735/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/20.èè´£é¾æ¨¡å¼.html",redirect:"/pages/b25735/"},{name:"v-ca584e06",path:"/pages/5ae0d5/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-ca584e06").then(t)}},{path:"/pages/5ae0d5/index.html",redirect:"/pages/5ae0d5/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/21.å¤å¿å½æ¨¡å¼.html",redirect:"/pages/5ae0d5/"},{name:"v-f0251290",path:"/pages/dc8ecd/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-f0251290").then(t)}},{path:"/pages/dc8ecd/index.html",redirect:"/pages/dc8ecd/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/22.ç­ç¥æ¨¡å¼.html",redirect:"/pages/dc8ecd/"},{name:"v-1457855d",path:"/pages/d77095/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-1457855d").then(t)}},{path:"/pages/d77095/index.html",redirect:"/pages/d77095/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/24.ç¶ææ¨¡å¼.html",redirect:"/pages/d77095/"},{name:"v-0f7af49e",path:"/pages/671352/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-0f7af49e").then(t)}},{path:"/pages/671352/index.html",redirect:"/pages/671352/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/23.è®¿é®èæ¨¡å¼.html",redirect:"/pages/671352/"},{name:"v-3f96c8d8",path:"/pages/9703b1/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-3f96c8d8").then(t)}},{path:"/pages/9703b1/index.html",redirect:"/pages/9703b1/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/25.é¢åå¯¹è±¡åå.html",redirect:"/pages/9703b1/"},{name:"v-0893d5c3",path:"/pages/81b0f2/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-0893d5c3").then(t)}},{path:"/pages/81b0f2/index.html",redirect:"/pages/81b0f2/"},{path:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/",redirect:"/pages/81b0f2/"},{name:"v-79c78335",path:"/pages/d86872/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-79c78335").then(t)}},{path:"/pages/d86872/index.html",redirect:"/pages/d86872/"},{path:"/03.è®¾è®¡/03.éæ/01.ä»£ç çåå³éåéæ.html",redirect:"/pages/d86872/"},{name:"v-c5ef3042",path:"/pages/49d5ae/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-c5ef3042").then(t)}},{path:"/pages/49d5ae/index.html",redirect:"/pages/49d5ae/"},{path:"/03.è®¾è®¡/03.éæ/02.ä»£ç åå³éä¹ä»£ç èè¿.html",redirect:"/pages/49d5ae/"},{name:"v-ce0e8fd4",path:"/pages/65ee05/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-ce0e8fd4").then(t)}},{path:"/pages/65ee05/index.html",redirect:"/pages/65ee05/"},{path:"/03.è®¾è®¡/03.éæ/03.ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡.html",redirect:"/pages/65ee05/"},{name:"v-38d3c9ce",path:"/pages/56ca63/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-38d3c9ce").then(t)}},{path:"/pages/56ca63/index.html",redirect:"/pages/56ca63/"},{path:"/03.è®¾è®¡/03.éæ/04.ä»£ç åå³éä¹åé©çéç¢.html",redirect:"/pages/56ca63/"},{name:"v-5d9b4816",path:"/pages/47acb5/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-5d9b4816").then(t)}},{path:"/pages/47acb5/index.html",redirect:"/pages/47acb5/"},{path:"/03.è®¾è®¡/03.éæ/05.ä»£ç åå³éä¹éå¿è¦ç.html",redirect:"/pages/47acb5/"},{name:"v-3a98d9f2",path:"/pages/630e7a/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-3a98d9f2").then(t)}},{path:"/pages/630e7a/index.html",redirect:"/pages/630e7a/"},{path:"/03.è®¾è®¡/03.éæ/06.ä»£ç åå³éä¹è¦å.html",redirect:"/pages/630e7a/"},{name:"v-1add83e9",path:"/pages/86db92/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-1add83e9").then(t)}},{path:"/pages/86db92/index.html",redirect:"/pages/86db92/"},{path:"/03.è®¾è®¡/04.DDD/01.é¢åé©±å¨è®¾è®¡ç®ä».html",redirect:"/pages/86db92/"},{name:"v-45cada9f",path:"/pages/d200c3/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-45cada9f").then(t)}},{path:"/pages/d200c3/index.html",redirect:"/pages/d200c3/"},{path:"/03.è®¾è®¡/03.éæ/",redirect:"/pages/d200c3/"},{name:"v-90dacde0",path:"/pages/ae1396/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-90dacde0").then(t)}},{path:"/pages/ae1396/index.html",redirect:"/pages/ae1396/"},{path:"/03.è®¾è®¡/11.UML/01.UMLå¿«éå¥é¨.html",redirect:"/pages/ae1396/"},{name:"v-7781c0b6",path:"/pages/dd5922/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-7781c0b6").then(t)}},{path:"/pages/dd5922/index.html",redirect:"/pages/dd5922/"},{path:"/03.è®¾è®¡/11.UML/02.UMLç»æå»ºæ¨¡å¾.html",redirect:"/pages/dd5922/"},{name:"v-5f40daea",path:"/pages/0b8e4b/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-5f40daea").then(t)}},{path:"/pages/0b8e4b/index.html",redirect:"/pages/0b8e4b/"},{path:"/03.è®¾è®¡/11.UML/03.UMLè¡ä¸ºå»ºæ¨¡å¾.html",redirect:"/pages/0b8e4b/"},{name:"v-34e3a8ae",path:"/pages/8ea43c/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-34e3a8ae").then(t)}},{path:"/pages/8ea43c/index.html",redirect:"/pages/8ea43c/"},{path:"/03.è®¾è®¡/",redirect:"/pages/8ea43c/"},{name:"v-02e2a776",path:"/archives/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-02e2a776").then(t)}},{path:"/archives/index.html",redirect:"/archives/"},{path:"/@pages/archivesPage.html",redirect:"/archives/"},{name:"v-de1804e0",path:"/pages/13ccb0/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-de1804e0").then(t)}},{path:"/pages/13ccb0/index.html",redirect:"/pages/13ccb0/"},{path:"/03.è®¾è®¡/11.UML/",redirect:"/pages/13ccb0/"},{name:"v-7e5bbd14",path:"/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-7e5bbd14").then(t)}},{path:"/index.html",redirect:"/"},{name:"v-0480d1c5",path:"/tags/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-0480d1c5").then(t)}},{path:"/tags/index.html",redirect:"/tags/"},{path:"/@pages/tagsPage.html",redirect:"/tags/"},{name:"v-20b770b6",path:"/categories/",component:ys,beforeEnter:(n,e,t)=>{ul("Layout","v-20b770b6").then(t)}},{path:"/categories/index.html",redirect:"/categories/"},{path:"/@pages/categoriesPage.html",redirect:"/categories/"},{path:"*",component:ys}],ws={title:"DESIGN",description:"Design æ¯ä¸ªäººçæ¶æè®¾è®¡å¿å¾",base:"/design/",headTags:[["link",{rel:"icon",href:"/design/img/favicon.ico"}],["meta",{name:"keywords",content:"vuepress,theme,blog,vdoing"}],["meta",{name:"theme-color",content:"#11a8cd"}]],pages:[{title:"å¦ä½è®¾è®¡ç³»ç»",frontmatter:{title:"å¦ä½è®¾è®¡ç³»ç»",date:"2021-11-08T08:15:33.000Z",categories:["è®¾è®¡","æ¶æ","ç»¼å"],tags:["æ¶æ","è®¾è®¡"],permalink:"/pages/0a89f3/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/01.%E6%9E%B6%E6%9E%84/00.%E7%BB%BC%E5%90%88/00.%E5%A6%82%E4%BD%95%E8%AE%BE%E8%AE%A1%E7%B3%BB%E7%BB%9F.html",relativePath:"03.è®¾è®¡/01.æ¶æ/00.ç»¼å/00.å¦ä½è®¾è®¡ç³»ç».md",key:"v-7c44097c",path:"/pages/0a89f3/",headers:[{level:2,title:"ç³»ç»è®¾è®¡è¿ç¨",slug:"ç³»ç»è®¾è®¡è¿ç¨",normalizedTitle:"ç³»ç»è®¾è®¡è¿ç¨",charIndex:13},{level:3,title:"æ­¥éª¤ä¸ãçº¦æåç¨ä¾",slug:"æ­¥éª¤ä¸ãçº¦æåç¨ä¾",normalizedTitle:"æ­¥éª¤ä¸ãçº¦æåç¨ä¾",charIndex:24},{level:3,title:"æ­¥éª¤äºãé¡¶å±è®¾è®¡",slug:"æ­¥éª¤äºãé¡¶å±è®¾è®¡",normalizedTitle:"æ­¥éª¤äºãé¡¶å±è®¾è®¡",charIndex:322},{level:3,title:"æ­¥éª¤ä¸ãåæç¶é¢",slug:"æ­¥éª¤ä¸ãåæç¶é¢",normalizedTitle:"æ­¥éª¤ä¸ãåæç¶é¢",charIndex:454},{level:3,title:"æ­¥éª¤åãæ©å±è®¾è®¡",slug:"æ­¥éª¤åãæ©å±è®¾è®¡",normalizedTitle:"æ­¥éª¤åãæ©å±è®¾è®¡",charIndex:776},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:1405}],headersStr:"ç³»ç»è®¾è®¡è¿ç¨ æ­¥éª¤ä¸ãçº¦æåç¨ä¾ æ­¥éª¤äºãé¡¶å±è®¾è®¡ æ­¥éª¤ä¸ãåæç¶é¢ æ­¥éª¤åãæ©å±è®¾è®¡ åèèµæ",content:"# å¦ä½è®¾è®¡ç³»ç»\n\n\n# ç³»ç»è®¾è®¡è¿ç¨\n\n\n# æ­¥éª¤ä¸ãçº¦æåç¨ä¾\n\nå¯¹äºä»»ä½ç³»ç»è®¾è®¡ï¼ç¬¬ä¸ä»¶åºè¯¥åçäºæ¯ï¼éæç³»ç»ççº¦æå¹¶ç¡®å®ç³»ç»éè¦æ»¡è¶³åªäºç¨ä¾ã\n\næ°¸è¿ä¸è¦åè®¾æ²¡ææç¡®è¯´æçäºæãä¸å®è¦å°½åæ¶éãçè§£éæ±ï¼å¹¶è®¾è®¡ä¸ä¸ªå¾å¥½å°æ¶µçè¿äºè¦æ±çè§£å³æ¹æ¡ã\n\nä¾å¦ï¼URL ç¼©ç­æå¡å¯è½åªä¸ºå åä¸ªç¨æ·æä¾æå¡ï¼ä½æ¯ä¸ªç¨æ·é½å¯è½å±äº«æ°ç¾ä¸ä¸ª URLãå®å¯è½æ¨å¨å¤çå¯¹ç¼©ç­ç URL çæ°ç¾ä¸æ¬¡ç¹å»ææ°åæ¬¡ç¹å»ãè¯¥æå¡å¯è½å¿é¡»æä¾æå³æ¯ä¸ªç¼©ç­ç URL çå¤§éç»è®¡ä¿¡æ¯ï¼è¿ä¼å¢å æ¨çæ°æ®å¤§å°ï¼ï¼æèå¯è½æ ¹æ¬ä¸éè¦ç»è®¡ä¿¡æ¯ã\n\næ¨è¿å¿é¡»èèé¢æä¼åççç¨ä¾ãæ¨çç³»ç»å°æ ¹æ®å¶é¢æåè½è¿è¡è®¾è®¡ãä¸è¦å¿è®°ç¡®ä¿ä½ ç¥éé¢è¯å®ä¸å¼å§æ²¡æåè¯ä½ çææè¦æ±ã\n\n\n# æ­¥éª¤äºãé¡¶å±è®¾è®¡\n\nä¸æ¦ç¡®å®äºè¦è®¾è®¡çç³»ç»çèå´ï¼æ¥ä¸æ¥å°±è¦åé¡¶å±è®¾è®¡ï¼æ¦è¿°ç³»ç»æ¶æä¸­æéçææéè¦ç»ä»¶ã\n\næ­¤æ¶ï¼åºè¯¥ç»å¶åºä¸»è¦ç»ä»¶ä»¥åå®ä»¬ä¹é´çè¿æ¥ãéå¸¸ï¼è¿ç§é¡¶å±è®¾è®¡æ¯åºäºä¸»æµææ¯çç»åãè¿å°±è¦æ±è®¾è®¡å¿é¡»çæè¿äºææ¯ï¼äºè§£å¶å©å¼ä»¥åéåä½¿ç¨çåºæ¯ã\n\n\n# æ­¥éª¤ä¸ãåæç¶é¢\n\né¡¶å±è®¾è®¡å¾å¯è½ä¼éå°ä¸ä¸ªæå¤ä¸ªç¶é¢ãè¿å®å¨æ²¡é®é¢ï¼ä¸è¦ææä¸ä¸ªæ°ç³»ç»å¯ä»¥ç«å³å¤çä¸çä¸çææè´è½½ãå®åªéè¦å¯æ©å±ï¼ä»¥ä¾¿æ¨è½å¤ä½¿ç¨ä¸äºæ åå·¥å·åææ¯å¯¹å¶è¿è¡æ¹è¿ã\n\nç°å¨æäºé¡¶å±è®¾è®¡ï¼å°±è¦èèè¿äºç»ä»¶å¨ç³»ç»æ©å±æ¶é¢ä¸´çç¶é¢ãä¹è®¸ï¼ç³»ç»éè¦ä¸ä¸ªè´è½½åè¡¡å¨åéç¾¤æ¥å¤çç¨æ·è¯·æ±ãæèï¼ç±äºæ°æ®å®¹éåºå¤§ï¼ä»¥è³äºéè¦å°æ°æ®åºååºåè¡¨ï¼åå¸å¨å¤å°æºå¨ä¸ï¼ãè¿äºæ¹æ¡æä»ä¹å©å¼ï¼æ¯å¦éç¨ï¼æ°æ®åºæ¯å¦å¤ªæ¢ï¼æ¯å¦éè¦ä¸äºåå­ç¼å­ï¼\n\néå¸¸æ¯ä¸ªè§£å³æ¹æ¡é½æ¯æç§æè¡¡ååèãæ¹åæäºä¼ä½¿å¶ä»äºææ¶åãç¶èï¼éè¦çæ¯è½å¤è®¨è®ºè¿äºæè¡¡ï¼å¹¶æ ¹æ®å®ä¹ççº¦æåç¨ä¾æ¥è¡¡éå®ä»¬å¯¹ç³»ç»çå½±åã\n\nä¸æ¦åææ¸æ¥æ ¸å¿ç¶é¢ï¼å°±å¯ä»¥çæå¨ä¸ä¸æ­¥ä¸­å»è§£å³å®ä»¬ã\n\n\n# æ­¥éª¤åãæ©å±è®¾è®¡\n\né¦åï¼ä½ éè¦äºè§£ä»¥ä¸ææ¯ææ®µï¼\n\n * åç´æ©å±\n * æ°´å¹³ç½å \n * ç¼å­\n * è´è½½åè¡¡\n * æ°æ®åºå¤å¶\n * æ°æ®åºååº\n * å¼æ­¥\n * NoSql\n\nå¨ç³»ç»è®¾è®¡æ¹é¢ï¼åé¡¾ç°å®ä¸­çæ¶æéå¸¸æç¨ãæ³¨æä½¿ç¨äºåªäºææ¯ãç»§ç»­ç ç©¶æ¯ä¸é¡¹æ°ææ¯ï¼ççå®è§£å³äºä»ä¹é®é¢ï¼å®çæ¿ä»£åæ¯ä»ä¹ï¼å®æé¿çå°æ¹ï¼ä»¥åå¤±è´¥çå°æ¹ã\n\nä¸åé½æ¯æè¡¡çç»æââè¿æ¯ç³»ç»è®¾è®¡ä¸­æåºæ¬çæ¦å¿µä¹ä¸ã\n\nä¸äºæ¨èçå­¦ä¹ èµæ\n\n * çäº§ä¸­çæ·±åº¦å­¦ä¹ ï¼å³äº EyeEm å¦ä½æå»ºå¨å¤§éå¾åä¸è¿è¡å¤ä¸ªæ·±åº¦å­¦ä¹ æ¨¡åççäº§ç³»ç»çç²¾å½©æäº\n * Uberï¼ä¸ç¯å³äº Uber å¦ä½å¿«éæ©å±çå¥½æç« ï¼å³äºå°æ¨çæå¡åè§£ä¸ºåå¸å¨è®¸å¤å­å¨åºä¸­çè®¸å¤å¾®æå¡ã\n * Facebookï¼Facebook å¦ä½å¨ç´æ­ä¸­åæ¶å¤ç 800,000 åè§ä¼\n * Kraken.ioï¼å¦ä½å¤§è§æ¨¡ç¼©æ¾å¾åä¼åï¼æ¬æå°æ´è¯¦ç»å°çä¸äºå·ä½ä½¿ç¨çç¡¬ä»¶æ¹æ¡ï¼ä»¥åé¨ç½²ãçæ§ç­éè¦æ¹é¢\n * Twitterï¼Twitter å¦ä½å¤çæ¯ç§ 3,000 å¼ å¾çä¸ä¼ ä»¥åä¸ºä»ä¹å®ä½¿ç¨çæ§æ¹å¼ç°å¨è¡ä¸é\n * æåï¼Twitter å­ç»ä»¶çä¸äºå¾å¥½çä¾å­ï¼å­å¨æ°æ®ï¼video | textï¼åæ¶é´è½´ï¼video | textï¼ã\n * æå³æ´é«çº§çç¤ºä¾ï¼è¯·æ¥ç GoogleãYoutubeï¼video | textï¼ãTumblrãStackOverflow å Datashift ä¸çè¿äºå¸å­ã\n\n\n# åèèµæ\n\n * system-design-primer\n * System Design for Tech Interviews",normalizedContent:"# å¦ä½è®¾è®¡ç³»ç»\n\n\n# ç³»ç»è®¾è®¡è¿ç¨\n\n\n# æ­¥éª¤ä¸ãçº¦æåç¨ä¾\n\nå¯¹äºä»»ä½ç³»ç»è®¾è®¡ï¼ç¬¬ä¸ä»¶åºè¯¥åçäºæ¯ï¼éæç³»ç»ççº¦æå¹¶ç¡®å®ç³»ç»éè¦æ»¡è¶³åªäºç¨ä¾ã\n\næ°¸è¿ä¸è¦åè®¾æ²¡ææç¡®è¯´æçäºæãä¸å®è¦å°½åæ¶éãçè§£éæ±ï¼å¹¶è®¾è®¡ä¸ä¸ªå¾å¥½å°æ¶µçè¿äºè¦æ±çè§£å³æ¹æ¡ã\n\nä¾å¦ï¼url ç¼©ç­æå¡å¯è½åªä¸ºå åä¸ªç¨æ·æä¾æå¡ï¼ä½æ¯ä¸ªç¨æ·é½å¯è½å±äº«æ°ç¾ä¸ä¸ª urlãå®å¯è½æ¨å¨å¤çå¯¹ç¼©ç­ç url çæ°ç¾ä¸æ¬¡ç¹å»ææ°åæ¬¡ç¹å»ãè¯¥æå¡å¯è½å¿é¡»æä¾æå³æ¯ä¸ªç¼©ç­ç url çå¤§éç»è®¡ä¿¡æ¯ï¼è¿ä¼å¢å æ¨çæ°æ®å¤§å°ï¼ï¼æèå¯è½æ ¹æ¬ä¸éè¦ç»è®¡ä¿¡æ¯ã\n\næ¨è¿å¿é¡»èèé¢æä¼åççç¨ä¾ãæ¨çç³»ç»å°æ ¹æ®å¶é¢æåè½è¿è¡è®¾è®¡ãä¸è¦å¿è®°ç¡®ä¿ä½ ç¥éé¢è¯å®ä¸å¼å§æ²¡æåè¯ä½ çææè¦æ±ã\n\n\n# æ­¥éª¤äºãé¡¶å±è®¾è®¡\n\nä¸æ¦ç¡®å®äºè¦è®¾è®¡çç³»ç»çèå´ï¼æ¥ä¸æ¥å°±è¦åé¡¶å±è®¾è®¡ï¼æ¦è¿°ç³»ç»æ¶æä¸­æéçææéè¦ç»ä»¶ã\n\næ­¤æ¶ï¼åºè¯¥ç»å¶åºä¸»è¦ç»ä»¶ä»¥åå®ä»¬ä¹é´çè¿æ¥ãéå¸¸ï¼è¿ç§é¡¶å±è®¾è®¡æ¯åºäºä¸»æµææ¯çç»åãè¿å°±è¦æ±è®¾è®¡å¿é¡»çæè¿äºææ¯ï¼äºè§£å¶å©å¼ä»¥åéåä½¿ç¨çåºæ¯ã\n\n\n# æ­¥éª¤ä¸ãåæç¶é¢\n\né¡¶å±è®¾è®¡å¾å¯è½ä¼éå°ä¸ä¸ªæå¤ä¸ªç¶é¢ãè¿å®å¨æ²¡é®é¢ï¼ä¸è¦ææä¸ä¸ªæ°ç³»ç»å¯ä»¥ç«å³å¤çä¸çä¸çææè´è½½ãå®åªéè¦å¯æ©å±ï¼ä»¥ä¾¿æ¨è½å¤ä½¿ç¨ä¸äºæ åå·¥å·åææ¯å¯¹å¶è¿è¡æ¹è¿ã\n\nç°å¨æäºé¡¶å±è®¾è®¡ï¼å°±è¦èèè¿äºç»ä»¶å¨ç³»ç»æ©å±æ¶é¢ä¸´çç¶é¢ãä¹è®¸ï¼ç³»ç»éè¦ä¸ä¸ªè´è½½åè¡¡å¨åéç¾¤æ¥å¤çç¨æ·è¯·æ±ãæèï¼ç±äºæ°æ®å®¹éåºå¤§ï¼ä»¥è³äºéè¦å°æ°æ®åºååºåè¡¨ï¼åå¸å¨å¤å°æºå¨ä¸ï¼ãè¿äºæ¹æ¡æä»ä¹å©å¼ï¼æ¯å¦éç¨ï¼æ°æ®åºæ¯å¦å¤ªæ¢ï¼æ¯å¦éè¦ä¸äºåå­ç¼å­ï¼\n\néå¸¸æ¯ä¸ªè§£å³æ¹æ¡é½æ¯æç§æè¡¡ååèãæ¹åæäºä¼ä½¿å¶ä»äºææ¶åãç¶èï¼éè¦çæ¯è½å¤è®¨è®ºè¿äºæè¡¡ï¼å¹¶æ ¹æ®å®ä¹ççº¦æåç¨ä¾æ¥è¡¡éå®ä»¬å¯¹ç³»ç»çå½±åã\n\nä¸æ¦åææ¸æ¥æ ¸å¿ç¶é¢ï¼å°±å¯ä»¥çæå¨ä¸ä¸æ­¥ä¸­å»è§£å³å®ä»¬ã\n\n\n# æ­¥éª¤åãæ©å±è®¾è®¡\n\né¦åï¼ä½ éè¦äºè§£ä»¥ä¸ææ¯ææ®µï¼\n\n * åç´æ©å±\n * æ°´å¹³ç½å \n * ç¼å­\n * è´è½½åè¡¡\n * æ°æ®åºå¤å¶\n * æ°æ®åºååº\n * å¼æ­¥\n * nosql\n\nå¨ç³»ç»è®¾è®¡æ¹é¢ï¼åé¡¾ç°å®ä¸­çæ¶æéå¸¸æç¨ãæ³¨æä½¿ç¨äºåªäºææ¯ãç»§ç»­ç ç©¶æ¯ä¸é¡¹æ°ææ¯ï¼ççå®è§£å³äºä»ä¹é®é¢ï¼å®çæ¿ä»£åæ¯ä»ä¹ï¼å®æé¿çå°æ¹ï¼ä»¥åå¤±è´¥çå°æ¹ã\n\nä¸åé½æ¯æè¡¡çç»æââè¿æ¯ç³»ç»è®¾è®¡ä¸­æåºæ¬çæ¦å¿µä¹ä¸ã\n\nä¸äºæ¨èçå­¦ä¹ èµæ\n\n * çäº§ä¸­çæ·±åº¦å­¦ä¹ ï¼å³äº eyeem å¦ä½æå»ºå¨å¤§éå¾åä¸è¿è¡å¤ä¸ªæ·±åº¦å­¦ä¹ æ¨¡åççäº§ç³»ç»çç²¾å½©æäº\n * uberï¼ä¸ç¯å³äº uber å¦ä½å¿«éæ©å±çå¥½æç« ï¼å³äºå°æ¨çæå¡åè§£ä¸ºåå¸å¨è®¸å¤å­å¨åºä¸­çè®¸å¤å¾®æå¡ã\n * facebookï¼facebook å¦ä½å¨ç´æ­ä¸­åæ¶å¤ç 800,000 åè§ä¼\n * kraken.ioï¼å¦ä½å¤§è§æ¨¡ç¼©æ¾å¾åä¼åï¼æ¬æå°æ´è¯¦ç»å°çä¸äºå·ä½ä½¿ç¨çç¡¬ä»¶æ¹æ¡ï¼ä»¥åé¨ç½²ãçæ§ç­éè¦æ¹é¢\n * twitterï¼twitter å¦ä½å¤çæ¯ç§ 3,000 å¼ å¾çä¸ä¼ ä»¥åä¸ºä»ä¹å®ä½¿ç¨çæ§æ¹å¼ç°å¨è¡ä¸é\n * æåï¼twitter å­ç»ä»¶çä¸äºå¾å¥½çä¾å­ï¼å­å¨æ°æ®ï¼video | textï¼åæ¶é´è½´ï¼video | textï¼ã\n * æå³æ´é«çº§çç¤ºä¾ï¼è¯·æ¥ç googleãyoutubeï¼video | textï¼ãtumblrãstackoverflow å datashift ä¸çè¿äºå¸å­ã\n\n\n# åèèµæ\n\n * system-design-primer\n * system design for tech interviews",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"ç³»ç»æ¶æé¢è¯",frontmatter:{title:"ç³»ç»æ¶æé¢è¯",date:"2020-08-10T10:59:18.000Z",categories:["è®¾è®¡","æ¶æ","ç»¼å"],tags:["æ¶æ","é¢è¯"],permalink:"/pages/000a7b/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/01.%E6%9E%B6%E6%9E%84/00.%E7%BB%BC%E5%90%88/01.%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E9%9D%A2%E8%AF%95.html",relativePath:"03.è®¾è®¡/01.æ¶æ/00.ç»¼å/01.ç³»ç»æ¶æé¢è¯.md",key:"v-cbce72d4",path:"/pages/000a7b/",headers:[{level:2,title:"å¦ä½è®¾è®¡ä¸ä¸ªç§æç³»ç»ï¼",slug:"å¦ä½è®¾è®¡ä¸ä¸ªç§æç³»ç»",normalizedTitle:"å¦ä½è®¾è®¡ä¸ä¸ªç§æç³»ç»ï¼",charIndex:13},{level:3,title:"ç§æç³»ç»çææ",slug:"ç§æç³»ç»çææ",normalizedTitle:"ç§æç³»ç»çææ",charIndex:29},{level:3,title:"ç§æç³»ç»çè§£å³æè·¯",slug:"ç§æç³»ç»çè§£å³æè·¯",normalizedTitle:"ç§æç³»ç»çè§£å³æè·¯",charIndex:111},{level:3,title:"ç§æç³»ç»çè§£å³æ¹æ¡",slug:"ç§æç³»ç»çè§£å³æ¹æ¡",normalizedTitle:"ç§æç³»ç»çè§£å³æ¹æ¡",charIndex:359},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:1038}],headersStr:"å¦ä½è®¾è®¡ä¸ä¸ªç§æç³»ç»ï¼ ç§æç³»ç»çææ ç§æç³»ç»çè§£å³æè·¯ ç§æç³»ç»çè§£å³æ¹æ¡ åèèµæ",content:'# ç³»ç»æ¶æé¢è¯\n\n\n# å¦ä½è®¾è®¡ä¸ä¸ªç§æç³»ç»ï¼\n\n\n# ç§æç³»ç»çææ\n\nç§æçæ ¸å¿é®é¢å°±æ¯æé«å¹¶åå¤çï¼ç±äºç³»ç»è¦å¨ç¬æ¶æ¿åå¹³æ¶æ°ååçè³ä¸ç¾åçæµéï¼è¿å¾å¾è¶åºç³»ç»ä¸éï¼å æ­¤å¤çç§æçæ ¸å¿æè·¯æ¯éæµåç¼å­ã\n\n\n# ç§æç³»ç»çè§£å³æè·¯\n\n * ç³»ç»ä¸ææ¦æªæµéï¼å°½å¯è½å¨ä¸æ¸¸æ¦æªåéå¶è¯·æ±ï¼éå¶æµå¥åç«¯çéï¼ä¿è¯åç«¯ç³»ç»æ­£å¸¸ã å ä¸ºæ è®ºå¤å°äººåä¸ç§æï¼å®éæäº¤å¾å¾æ¯æéçï¼èä¸è¿å°äºåå ç§æçäººæ°ï¼å æ­¤å¯ä»¥éè¿åç«¯ç³»ç»è¿è¡æ¦æªï¼éå¶æç»æµå¥ç³»ç»çè¯·æ±æ°éï¼æ¥ä¿è¯ç³»ç»æ­£å¸¸è¿è¡ã\n * ååå©ç¨ç¼å­ï¼è¿æ¯ä¸ä¸ªå¸åçè¯»å¤åå°çåºç¨åºæ¯ï¼ä¸è¶ç«è½¦å¶å®åªæ 2000 å¼ ç¥¨ï¼200w ä¸ªäººæ¥ä¹°ï¼æå¤ 2000 ä¸ªäººä¸åæåï¼å¶ä»äººé½æ¯æ¥è¯¢åºå­ï¼åæ¯ä¾åªæ 0.1%ï¼è¯»æ¯ä¾å  99.9%ï¼ï¼éå¸¸éåä½¿ç¨ç¼å­ã\n\n\n# ç§æç³»ç»çè§£å³æ¹æ¡\n\nç§æç³»ç»å·ä½æ¹æ¡å¦ä¸ï¼\n\nï¼1ï¼æµè§å¨ãå®¢æ·ç«¯æ¦æªéå¤è¯·æ±\n\n * ç¨æ·ç¹å»æ¥è¯¢æè´­ä¹°æé®åï¼ç¦ç¨æé®ï¼é¿åç¨æ·éå¤æäº¤è¯·æ±ã\n * JS ä»£ç ä¸­éå¶ç¨æ·å¨éå®æ¶é´ååªåè®¸æäº¤ä¸æ¬¡è¯·æ±\n\nåºäºæ­¤ï¼å¤§é¨åæµéå·²è¢«æ¦æªã\n\nï¼2ï¼åºç¨å±æ¦æªè¯·æ±\n\næµè§å¨ãå®¢æ·ç«¯æ¦æªéå¤è¯·æ±åªè½åºä»éè¿æµè§å¨è®¿é®çç¨æ·ãå¦ææäººéè¿ç¨åºåé http è¯·æ±ï¼åæ æ³æ¦æªãéå¯¹è¿ç§æåµçæ¹æ¡æ¯ï¼\n\nä»¥é¡µé¢ç¼å­çæ¹å¼ï¼éå¯¹ç­æ¶é´åçåä¸ä¸ªè®¿é®æºï¼å¦åä¸ä¸ª IPãåä¸ä¸ª Sessionãåä¸ä¸ªç¨æ· ID å¤æ¬¡åé HTTP è¯·æ±ï¼æåæ ·çæ¥è¯¢è¯·æ±ï¼å¦å¤§éè¯·æ±é½æ¯æ¥è¯¢æç±»ååçåºå­ï¼ï¼é½è¿åç¸åçå±ç¤ºé¡µé¢ã\n\nå¦æ­¤éæµï¼åæå¤§é¨åçæµéè¢«æ¦æª\n\nï¼3ï¼æå¡å±è¯·æ±æ¦æªä¸æ°æ®ç¼å­\n\nå å¥æé»å®¢ï¼æ§å¶äº 10w å°èé¸¡ï¼å¹¶ä¸åè®¾ä¹°ç¥¨ä¸éè¦å®åè®¤è¯ï¼ï¼åé¢ççéå¶é½ä¸èµ·ä½ç¨äºãè¿æ¶åºè¯¥æä¹åï¼\n\n * è¯»è¯·æ±ï¼æ¥åºå­ï¼ - å¯¹äºè¯»è¯·æ±ï¼ç´æ¥ä½¿ç¨ç¼å­å³å¯ï¼ä¸è¬ç¼å­æå¡å¨åæºå¤çæ¯ç§ 10w ä¸ªè¯·æ±åºè¯¥æ²¡ä»ä¹é®é¢ã\n\n * åè¯·æ±ï¼ä¸åï¼ - ç±äºæå¡å±æ¸æ¥çç¥éåºå­æ°éï¼æä»¥å®å¨å¯ä»¥æ ¹æ®åºå­æ°éè¿è¡éæµãå·ä½æ¥è¯´ï¼å°±æ¯æææä¸åè¯·æ±é½ä¸¢è¯¥æ¶æ¯éåä¸­ï¼æ¯æ¬¡åªåæéçåè¯·æ±å»æ°æ®å±å¤çãå½è¿äºåè¯·æ±å¤çå®ï¼æ´æ°ä¸ä¸ç¼å­ä¸­çåºå­æ°ï¼åå»åä¸ä¸æ¹åè¯·æ±ï¼å¦æåºå­æ°ä¸å¤ï¼åæ¶æ¯éåçåè¯·æ±å¨é¨è¿å"å·²å®ç½"çç»æã\n\n> åèï¼\n> \n>  * å¦ä½è®¾è®¡ç§æç³»ç»ï¼ - é¿éäºäºæ ç¤¾åºçåç­ - ç¥ä¹\n>  * å¦ä½è®¾è®¡ç§æç³»ç»ï¼ - ç½æäºçåç­ - ç¥ä¹\n\n\n# åèèµæ\n\n * å¦ä½è®¾è®¡ç§æç³»ç»ï¼ - é¿éäºäºæ ç¤¾åºçåç­ - ç¥ä¹\n * å¦ä½è®¾è®¡ç§æç³»ç»ï¼ - ç½æäºçåç­ - ç¥ä¹',normalizedContent:'# ç³»ç»æ¶æé¢è¯\n\n\n# å¦ä½è®¾è®¡ä¸ä¸ªç§æç³»ç»ï¼\n\n\n# ç§æç³»ç»çææ\n\nç§æçæ ¸å¿é®é¢å°±æ¯æé«å¹¶åå¤çï¼ç±äºç³»ç»è¦å¨ç¬æ¶æ¿åå¹³æ¶æ°ååçè³ä¸ç¾åçæµéï¼è¿å¾å¾è¶åºç³»ç»ä¸éï¼å æ­¤å¤çç§æçæ ¸å¿æè·¯æ¯éæµåç¼å­ã\n\n\n# ç§æç³»ç»çè§£å³æè·¯\n\n * ç³»ç»ä¸ææ¦æªæµéï¼å°½å¯è½å¨ä¸æ¸¸æ¦æªåéå¶è¯·æ±ï¼éå¶æµå¥åç«¯çéï¼ä¿è¯åç«¯ç³»ç»æ­£å¸¸ã å ä¸ºæ è®ºå¤å°äººåä¸ç§æï¼å®éæäº¤å¾å¾æ¯æéçï¼èä¸è¿å°äºåå ç§æçäººæ°ï¼å æ­¤å¯ä»¥éè¿åç«¯ç³»ç»è¿è¡æ¦æªï¼éå¶æç»æµå¥ç³»ç»çè¯·æ±æ°éï¼æ¥ä¿è¯ç³»ç»æ­£å¸¸è¿è¡ã\n * ååå©ç¨ç¼å­ï¼è¿æ¯ä¸ä¸ªå¸åçè¯»å¤åå°çåºç¨åºæ¯ï¼ä¸è¶ç«è½¦å¶å®åªæ 2000 å¼ ç¥¨ï¼200w ä¸ªäººæ¥ä¹°ï¼æå¤ 2000 ä¸ªäººä¸åæåï¼å¶ä»äººé½æ¯æ¥è¯¢åºå­ï¼åæ¯ä¾åªæ 0.1%ï¼è¯»æ¯ä¾å  99.9%ï¼ï¼éå¸¸éåä½¿ç¨ç¼å­ã\n\n\n# ç§æç³»ç»çè§£å³æ¹æ¡\n\nç§æç³»ç»å·ä½æ¹æ¡å¦ä¸ï¼\n\nï¼1ï¼æµè§å¨ãå®¢æ·ç«¯æ¦æªéå¤è¯·æ±\n\n * ç¨æ·ç¹å»æ¥è¯¢æè´­ä¹°æé®åï¼ç¦ç¨æé®ï¼é¿åç¨æ·éå¤æäº¤è¯·æ±ã\n * js ä»£ç ä¸­éå¶ç¨æ·å¨éå®æ¶é´ååªåè®¸æäº¤ä¸æ¬¡è¯·æ±\n\nåºäºæ­¤ï¼å¤§é¨åæµéå·²è¢«æ¦æªã\n\nï¼2ï¼åºç¨å±æ¦æªè¯·æ±\n\næµè§å¨ãå®¢æ·ç«¯æ¦æªéå¤è¯·æ±åªè½åºä»éè¿æµè§å¨è®¿é®çç¨æ·ãå¦ææäººéè¿ç¨åºåé http è¯·æ±ï¼åæ æ³æ¦æªãéå¯¹è¿ç§æåµçæ¹æ¡æ¯ï¼\n\nä»¥é¡µé¢ç¼å­çæ¹å¼ï¼éå¯¹ç­æ¶é´åçåä¸ä¸ªè®¿é®æºï¼å¦åä¸ä¸ª ipãåä¸ä¸ª sessionãåä¸ä¸ªç¨æ· id å¤æ¬¡åé http è¯·æ±ï¼æåæ ·çæ¥è¯¢è¯·æ±ï¼å¦å¤§éè¯·æ±é½æ¯æ¥è¯¢æç±»ååçåºå­ï¼ï¼é½è¿åç¸åçå±ç¤ºé¡µé¢ã\n\nå¦æ­¤éæµï¼åæå¤§é¨åçæµéè¢«æ¦æª\n\nï¼3ï¼æå¡å±è¯·æ±æ¦æªä¸æ°æ®ç¼å­\n\nå å¥æé»å®¢ï¼æ§å¶äº 10w å°èé¸¡ï¼å¹¶ä¸åè®¾ä¹°ç¥¨ä¸éè¦å®åè®¤è¯ï¼ï¼åé¢ççéå¶é½ä¸èµ·ä½ç¨äºãè¿æ¶åºè¯¥æä¹åï¼\n\n * è¯»è¯·æ±ï¼æ¥åºå­ï¼ - å¯¹äºè¯»è¯·æ±ï¼ç´æ¥ä½¿ç¨ç¼å­å³å¯ï¼ä¸è¬ç¼å­æå¡å¨åæºå¤çæ¯ç§ 10w ä¸ªè¯·æ±åºè¯¥æ²¡ä»ä¹é®é¢ã\n\n * åè¯·æ±ï¼ä¸åï¼ - ç±äºæå¡å±æ¸æ¥çç¥éåºå­æ°éï¼æä»¥å®å¨å¯ä»¥æ ¹æ®åºå­æ°éè¿è¡éæµãå·ä½æ¥è¯´ï¼å°±æ¯æææä¸åè¯·æ±é½ä¸¢è¯¥æ¶æ¯éåä¸­ï¼æ¯æ¬¡åªåæéçåè¯·æ±å»æ°æ®å±å¤çãå½è¿äºåè¯·æ±å¤çå®ï¼æ´æ°ä¸ä¸ç¼å­ä¸­çåºå­æ°ï¼åå»åä¸ä¸æ¹åè¯·æ±ï¼å¦æåºå­æ°ä¸å¤ï¼åæ¶æ¯éåçåè¯·æ±å¨é¨è¿å"å·²å®ç½"çç»æã\n\n> åèï¼\n> \n>  * å¦ä½è®¾è®¡ç§æç³»ç»ï¼ - é¿éäºäºæ ç¤¾åºçåç­ - ç¥ä¹\n>  * å¦ä½è®¾è®¡ç§æç³»ç»ï¼ - ç½æäºçåç­ - ç¥ä¹\n\n\n# åèèµæ\n\n * å¦ä½è®¾è®¡ç§æç³»ç»ï¼ - é¿éäºäºæ ç¤¾åºçåç­ - ç¥ä¹\n * å¦ä½è®¾è®¡ç§æç³»ç»ï¼ - ç½æäºçåç­ - ç¥ä¹',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"ç³»ç»é«æ§è½æ¶æ",frontmatter:{title:"ç³»ç»é«æ§è½æ¶æ",date:"2018-07-05T15:11:00.000Z",categories:["è®¾è®¡","æ¶æ","ç»¼å"],tags:["æ¶æ","æ§è½"],permalink:"/pages/a49605/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/01.%E6%9E%B6%E6%9E%84/00.%E7%BB%BC%E5%90%88/03.%E7%B3%BB%E7%BB%9F%E9%AB%98%E6%80%A7%E8%83%BD%E6%9E%B6%E6%9E%84.html",relativePath:"03.è®¾è®¡/01.æ¶æ/00.ç»¼å/03.ç³»ç»é«æ§è½æ¶æ.md",key:"v-2443e46d",path:"/pages/a49605/",headers:[{level:2,title:"æ§è½ç®ä»",slug:"æ§è½ç®ä»",normalizedTitle:"æ§è½ç®ä»",charIndex:14},{level:3,title:"è®¡ç®æºèµæº",slug:"è®¡ç®æºèµæº",normalizedTitle:"è®¡ç®æºèµæº",charIndex:173},{level:3,title:"æ§è½ææ ",slug:"æ§è½ææ ",normalizedTitle:"æ§è½ææ ",charIndex:92},{level:4,title:"ååºæ¶é´",slug:"ååºæ¶é´",normalizedTitle:"ååºæ¶é´",charIndex:299},{level:4,title:"å¹¶åæ°",slug:"å¹¶åæ°",normalizedTitle:"å¹¶åæ°",charIndex:307},{level:4,title:"ååé",slug:"ååé",normalizedTitle:"ååé",charIndex:314},{level:4,title:"èµæºåéä½¿ç¨ç",slug:"èµæºåéä½¿ç¨ç",normalizedTitle:"èµæºåéä½¿ç¨ç",charIndex:339},{level:3,title:"æ§è½æµè¯",slug:"æ§è½æµè¯",normalizedTitle:"æ§è½æµè¯",charIndex:283},{level:3,title:"æ§è½ä¼åç­ç¥",slug:"æ§è½ä¼åç­ç¥",normalizedTitle:"æ§è½ä¼åç­ç¥",charIndex:1321},{level:2,title:"åºç¨æå¡æ§è½ä¼å",slug:"åºç¨æå¡æ§è½ä¼å",normalizedTitle:"åºç¨æå¡æ§è½ä¼å",charIndex:1487},{level:3,title:"ç¼å­",slug:"ç¼å­",normalizedTitle:"ç¼å­",charIndex:1092},{level:3,title:"å¹¶åæ¨¡å",slug:"å¹¶åæ¨¡å",normalizedTitle:"å¹¶åæ¨¡å",charIndex:1747},{level:4,title:"PPC",slug:"ppc",normalizedTitle:"ppc",charIndex:2013},{level:4,title:"prefork",slug:"prefork",normalizedTitle:"prefork",charIndex:2287},{level:4,title:"TPC",slug:"tpc",normalizedTitle:"tpc",charIndex:2868},{level:4,title:"prethread",slug:"prethread",normalizedTitle:"prethread",charIndex:3579},{level:4,title:"Reactor",slug:"reactor",normalizedTitle:"reactor",charIndex:4164},{level:3,title:"å¼æ­¥æä½",slug:"å¼æ­¥æä½",normalizedTitle:"å¼æ­¥æä½",charIndex:4692},{level:3,title:"è´è½½åè¡¡",slug:"è´è½½åè¡¡",normalizedTitle:"è´è½½åè¡¡",charIndex:4849},{level:3,title:"ä»£ç ä¼å",slug:"ä»£ç ä¼å",normalizedTitle:"ä»£ç ä¼å",charIndex:5021},{level:4,title:"å¤çº¿ç¨",slug:"å¤çº¿ç¨",normalizedTitle:"å¤çº¿ç¨",charIndex:2005},{level:5,title:"çº¿ç¨å®å¨é®é¢",slug:"çº¿ç¨å®å¨é®é¢",normalizedTitle:"çº¿ç¨å®å¨é®é¢",charIndex:5303},{level:4,title:"èµæºå¤ç¨",slug:"èµæºå¤ç¨",normalizedTitle:"èµæºå¤ç¨",charIndex:5462},{level:4,title:"æ°æ®ç»æ",slug:"æ°æ®ç»æ",normalizedTitle:"æ°æ®ç»æ",charIndex:5546},{level:4,title:"åå¾åæ¶",slug:"åå¾åæ¶",normalizedTitle:"åå¾åæ¶",charIndex:5573},{level:2,title:"å­å¨æ§è½ä¼å",slug:"å­å¨æ§è½ä¼å",normalizedTitle:"å­å¨æ§è½ä¼å",charIndex:5672},{level:3,title:"æ°æ®åº",slug:"æ°æ®åº",normalizedTitle:"æ°æ®åº",charIndex:262},{level:4,title:"æ°æ®åºè¯»ååç¦»",slug:"æ°æ®åºè¯»ååç¦»",normalizedTitle:"æ°æ®åºè¯»ååç¦»",charIndex:5690},{level:4,title:"æ°æ®åºååºåè¡¨",slug:"æ°æ®åºååºåè¡¨",normalizedTitle:"æ°æ®åºååºåè¡¨",charIndex:5747},{level:4,title:"Nosql",slug:"nosql",normalizedTitle:"nosql",charIndex:5833},{level:3,title:"æä»¶å­å¨",slug:"æä»¶å­å¨",normalizedTitle:"æä»¶å­å¨",charIndex:6399},{level:4,title:"æºæ¢°é®çååºæç¡¬ç",slug:"æºæ¢°é®çååºæç¡¬ç",normalizedTitle:"æºæ¢°é®çååºæç¡¬ç",charIndex:6407},{level:4,title:"B+æ°å LSM æ ",slug:"b-æ°å-lsm-æ ",normalizedTitle:"b+æ°å lsm æ ",charIndex:6448},{level:4,title:"RAID å HDFS",slug:"raid-å-hdfs",normalizedTitle:"raid å hdfs",charIndex:6730},{level:2,title:"åç«¯æ§è½ä¼å",slug:"åç«¯æ§è½ä¼å",normalizedTitle:"åç«¯æ§è½ä¼å",charIndex:1480},{level:3,title:"æµè§å¨è®¿é®ä¼å",slug:"æµè§å¨è®¿é®ä¼å",normalizedTitle:"æµè§å¨è®¿é®ä¼å",charIndex:7042},{level:3,title:"CDN",slug:"cdn",normalizedTitle:"cdn",charIndex:7603},{level:3,title:"ååä»£ç",slug:"ååä»£ç",normalizedTitle:"ååä»£ç",charIndex:7688},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:7921}],headersStr:"æ§è½ç®ä» è®¡ç®æºèµæº æ§è½ææ  ååºæ¶é´ å¹¶åæ° ååé èµæºåéä½¿ç¨ç æ§è½æµè¯ æ§è½ä¼åç­ç¥ åºç¨æå¡æ§è½ä¼å ç¼å­ å¹¶åæ¨¡å PPC prefork TPC prethread Reactor å¼æ­¥æä½ è´è½½åè¡¡ ä»£ç ä¼å å¤çº¿ç¨ çº¿ç¨å®å¨é®é¢ èµæºå¤ç¨ æ°æ®ç»æ åå¾åæ¶ å­å¨æ§è½ä¼å æ°æ®åº æ°æ®åºè¯»ååç¦» æ°æ®åºååºåè¡¨ Nosql æä»¶å­å¨ æºæ¢°é®çååºæç¡¬ç B+æ°å LSM æ  RAID å HDFS åç«¯æ§è½ä¼å æµè§å¨è®¿é®ä¼å CDN ååä»£ç åèèµæ",content:"# ç³»ç»é«æ§è½æ¶æ\n\n\n# æ§è½ç®ä»\n\nè¦è®¾è®¡é«æ§è½çç³»ç»æ¶æï¼åºè¯¥æä»¥ä¸çæç»´æ­¥éª¤ï¼\n\né¦åï¼è¦æç¡®å½±åæ§è½çå ç´ æåªäºï¼æ§è½çææ æåªäºï¼ââåå°æçæ¾ç¢ã\n\nå¶æ¬¡ï¼è¦äºè§£å¦ä½æµè¯æ§è½ææ ï¼æ§è½ä¼åï¼å¿é¡»è¦æååçææå¯¹æ¯ï¼æè½è¯ææ§è½ç¡®å®ææ¹åã\n\næ¥ä¸æ¥ï¼å­¦ä¹ éå¯¹ä¸ååºæ¯ä¸ï¼ä¸åæ§ææ çä¼åç­ç¥ä»¥åå·ä½å®æ½æ¹æ¡ãââè§æææã\n\n\n# è®¡ç®æºèµæº\n\näºè§£æ§è½ææ åï¼éè¦åç¥éåªäºè®¡ç®æºèµæºä¼å½±åæ§è½ãä¸è¬æ¥è¯´ï¼å½±åæ§è½çè®¡ç®æºèµæºåæ¬ï¼\n\n * CPU\n * åå­\n * ç£ç I/O\n * ç½ç» I/O\n * æ°æ®åº\n * éç«äº\n\n\n# æ§è½ææ \n\næ§è½æµè¯çä¸»è¦ææ æï¼\n\n * ååºæ¶é´\n * å¹¶åæ°\n * ååé\n   * QPS\n   * TPS\n * èµæºåéä½¿ç¨ç\n\n# ååºæ¶é´\n\nååºæ¶é´(RT)æ¯æä»å®¢æ·ç«¯åä¸ä¸ªè¯·æ±å¼å§è®¡æ¶ï¼å°å®¢æ·ç«¯æ¥æ¶å°ä»æå¡å¨ç«¯è¿åçååºç»æç»ææç»åçæ¶é´ï¼ååºæ¶é´ç±è¯·æ±åéæ¶é´ãç½ç»ä¼ è¾æ¶é´åæå¡å¨å¤çæ¶é´ä¸é¨åç»æã\n\nååºæ¶é´è¶ç­ï¼æ§è½è¶å¥½ï¼ä¸è¬ä¸ä¸ªæ¥å£çååºæ¶é´æ¯å¨æ¯«ç§çº§ã\n\nååºæ¶é´å¯ä»¥è¿ä¸æ­¥ç»åï¼\n\n * å®¢æ·ç«¯ååºæ¶é´\n * ç½ç»ååºæ¶é´\n * æå¡ç«¯ååºæ¶é´\n * æ°æ®åºååºæ¶é´\n\n# å¹¶åæ°\n\nå¹¶åæ°æ¯æç³»ç»è½åæ¶å¤ççè¯·æ±ãäºå¡æ°ã\n\nç³»ç»èªèº«ç CPU å¤çè½åãåå­ãä»¥åç³»ç»èªèº«ççº¿ç¨å¤ç¨ãéç«äºç­é½ä¼å½±åå¹¶åæ°ã\n\n# ååé\n\nååéè®¡ç®å¬å¼ï¼\n\nååé = å¹¶åæ° / å¹³åååºæ¶é´\n\n\nååéè¶å¤§ï¼æ§è½è¶å¥½ã\n\nä¸è¬ï¼ç³»ç»åç°ç»å¤é¨çæå¸¸è§çååéææ ï¼å°±æ¯ï¼\n\n * QPS(æ¯ç§æ¥è¯¢æ°) - å³ç³»ç»æ¯ç§å¯ä»¥å¤ççè¯»è¯·æ±ã\n * TPS(æ¯ç§äºå¡æ°) - å³ç³»ç»æ¯ç§å¯ä»¥å¤ççåè¯·æ±ã\n\nèå¨ç³»ç»åé¨ï¼å­å¨ä»¥ä¸ååéï¼\n\n * ç£çååé - ä½ç°äºç£çéæºè¯»åçæ§è½ã\n * ç½ç»ååé - é¤äºåéäºç½ç»å¸¦å®½ï¼CPU çå¤çè½åãç½å¡ãé²ç«å¢ãå¤é¨æ¥å£ä»¥å I/Oãç³»ç» IO ç®æ³é½ä¼å½±åå°ç½ç»ååéã\n\n# èµæºåéä½¿ç¨ç\n\néå¸¸ç± CPU å ç¨çãåå­ä½¿ç¨çãç£ç I/Oãç½ç» I/O ãå¯¹è±¡ä¸çº¿ç¨æ°æ¥è¡¨ç¤ºèµæºä½¿ç¨çãè¿äºææ ä¹æ¯ç³»ç»çæ§çéè¦åæ°ã\n\n\n# æ§è½æµè¯\n\næ§è½æµè¯ææ®µï¼\n\n * æ§è½æµè¯\n * è´è½½æµè¯\n * ååæµè¯\n * ç¨³å®æ§æµè¯\n\nå¯¹äº Java åºç¨èè¨ï¼æç®åçï¼å¯ä»¥ä½¿ç¨ Jmeter è¿è¡æ§è½æµè¯ã\n\næ§è½æµè¯æ¥åç¤ºä¾ï¼\n\n\n#### æ§è½æµè¯çé®é¢\n\næ§è½æµè¯æ¶ï¼éè¦æ³¨æä¸äºé®é¢ï¼\n\n * ç­èº«é®é¢ - ç³»ç»åå¼å§è¿è¡æ¶ï¼èªèº«å¯è½å è½½ç¼å­ï¼JVM å¯è½ä¼ä¼åç­ç¹ä»£ç ç­ï¼è¿äºè¡ä¸ºé½å¯è½ä½¿å¾ååæè¾å¤§çæ§è½å·®å¼ãæä»¥ï¼æ§è½æµè¯æ¶ï¼åºè¯¥åè·³è¿ä¸æ®µç­èº«æ¶é´ï¼ç­è¶äºç¨³å®åï¼åå¼å§æ§è½æµè¯ã\n * æµè¯ç»æä¸ç¨³å® - æ§è½æµè¯ä¸­ï¼æå¾å¤ä¸ç¨³å®çå ç´ ï¼å¦ç¯å¢ãç½ç»ç­ï¼å ä¹ä¸å¯è½æ¯æ¬¡é½æ¯ä¸æ ·çç»æãæä»¥åºè¯¥å¤æ¬¡æµè¯ï¼æ±å¹³åå¼ã\n * å¤ JVM æåµä¸çå½±å - åºå°½éé¿åä¸å°æºå¨é¨ç½²å¤ä¸ª JVM çæåµãå ä¸ºä»»æä¸ä¸ª JVM é½æ¥ææ´ä¸ªç³»ç»çèµæºä½¿ç¨æï¼æä»¥å¨æ§è½æµè¯æ¶ï¼å¯è½ä¼å½¼æ­¤å¹²æ°ã\n\n\n# æ§è½ä¼åç­ç¥\n\n 1. æ§è½åæ - å¦æè¯·æ±ååºæ¢ï¼å­å¨æ§è½é®é¢ãéè¦å¯¹è¯·æ±ç»åçåä¸ªç¯èéä¸åæï¼ææ¥å¯è½åºç°æ§è½ç¶é¢çå°æ¹ï¼å®ä½é®é¢ãæ£æ¥çæ§æ°æ®ï¼åæå½±åæ§è½çä¸»è¦å ç´ ï¼åå­ãç£çãç½ç»ãCPUï¼å¯è½æ¯ä»£ç ææ¶æè®¾è®¡ä¸åçï¼åæèæ¯ç³»ç»èµæºç¡®å®ä¸è¶³ã\n 2. æ§è½ä¼å - æ§è½ä¼åæ ¹æ®ç½ç«åå±æ¶æï¼å¤§è´å¯åä¸ºåç«¯æ§è½ä¼åãåºç¨æå¡æ§è½ä¼åãå­å¨æå¡æ§è½ä¼åã\n\n\n# åºç¨æå¡æ§è½ä¼å\n\n\n# ç¼å­\n\nç½ç«æ§è½ä¼åç¬¬ä¸å®å¾ï¼ç¬¬ä¸ä¼åèèä½¿ç¨ç¼å­æåæ§è½ã\n\nç¼å­æ¯ç¨äºå­å¨æ°æ®çç¡¬ä»¶æè½¯ä»¶çç»æé¨åï¼ä»¥ä½¿å¾åç»­æ´å¿«è®¿é®ç¸åºçæ°æ®ãç¼å­ä¸­çæ°æ®å¯è½æ¯æåè®¡ç®å¥½çç»æãæ°æ®çå¯æ¬ç­ã\n\n * åç¹åºç¨å¯ä»¥ä½¿ç¨è¿ç¨åç¼å­ï¼å¦ï¼ConcurrentHashMapãCaffeineï¼ï¼\n * åå¸å¼åºç¨å¯ä»¥ä½¿ç¨åå¸å¼ç¼å­ï¼å¦ï¼RedisãMemcachedï¼ï¼æè¿ç¨ç¼å­+åå¸å¼ç¼å­çå¤çº§ç¼å­æ¹æ¡ã\n\n> ç¼å­è§£å³æ¹æ¡è¯·åèï¼ç¼å­åºæ¬åç\n\n\n# å¹¶åæ¨¡å\n\né«å¹¶åéè¦æ ¹æ®ä¸¤ä¸ªæ¡ä»¶ååï¼è¿æ¥æ°éï¼è¯·æ±æ°éã\n\n * æµ·éè¿æ¥ï¼æåä¸ä¸ï¼æµ·éè¯·æ±ï¼ä¾å¦æ¢è´­ï¼ååä¸ç­\n * å¸¸éè¿æ¥ï¼å åä¸ç¾ï¼æµ·éè¯·æ±ï¼ä¾å¦ä¸­é´ä»¶\n * æµ·éè¿æ¥å¸¸éè¯·æ±ï¼ä¾å¦é¨æ·ç½ç«\n * å¸¸éè¿æ¥å¸¸éè¯·æ±ï¼ä¾å¦åé¨è¿è¥ç³»ç»ï¼ç®¡çç³»ç»\n\nåæå¡å¨é«æ§è½çå³é®ä¹ä¸å°±æ¯æå¡å¨éåçå¹¶åæ¨¡å\n\n * æå¡å¨å¦ä½ç®¡çè¿æ¥ã\n * æå¡å¨å¦ä½å¤çè¯·æ±ã\n\nä»¥ä¸ä¸¤ä¸ªè®¾è®¡ç¹æç»é½åæä½ç³»ç»ç I/O æ¨¡ååè¿ç¨æ¨¡åç¸å³ã\n\n * I/O æ¨¡åï¼é»å¡ãéé»å¡ãåæ­¥ãå¼æ­¥ã\n * è¿ç¨æ¨¡åï¼åè¿ç¨ãå¤è¿ç¨ãå¤çº¿ç¨ã\n\n# PPC\n\nPPC æ¯ Process Per Connection çç¼©åï¼å¶å«ä¹æ¯ææ¯æ¬¡ææ°çè¿æ¥å°±æ°å»ºä¸ä¸ªè¿ç¨å»ä¸é¨å¤çè¿ä¸ªè¿æ¥çè¯·æ±ï¼è¿æ¯ä¼ ç»ç UNIX ç½ç»æå¡å¨æéç¨çæ¨¡åãåºæ¬çæµç¨å¾æ¯ï¼\n\n\n\n * ç¶è¿ç¨æ¥åè¿æ¥ï¼å¾ä¸­ acceptï¼ã\n * ç¶è¿ç¨âforkâå­è¿ç¨ï¼å¾ä¸­ forkï¼ã\n * å­è¿ç¨å¤çè¿æ¥çè¯»åè¯·æ±ï¼å¾ä¸­å­è¿ç¨ readãä¸å¡å¤çãwriteï¼ã\n * å­è¿ç¨å³é­è¿æ¥ï¼å¾ä¸­å­è¿ç¨ä¸­ç closeï¼ã\n\nè¿ç§æ¨¡å¼çç¼ºç¹ï¼\n\n * fork ä»£ä»·é«\n * ç¶å­è¿ç¨éä¿¡å¤æ\n * æ¯æçå¹¶åè¿æ¥æ°éæé\n\n# prefork\n\nPPC æ¨¡å¼ä¸­ï¼å½è¿æ¥è¿æ¥æ¶æ fork æ°è¿ç¨æ¥å¤çè¿æ¥è¯·æ±ï¼ç±äº fork è¿ç¨ä»£ä»·é«ï¼ç¨æ·è®¿é®æ¶å¯è½æè§æ¯è¾æ¢ï¼prefork æ¨¡å¼çåºç°å°±æ¯ä¸ºäºè§£å³è¿ä¸ªé®é¢ã\n\né¡¾åæä¹ï¼prefork å°±æ¯æååå»ºè¿ç¨ï¼pre-forkï¼ãç³»ç»å¨å¯å¨çæ¶åå°±é¢ååå»ºå¥½è¿ç¨ï¼ç¶åæå¼å§æ¥åç¨æ·çè¯·æ±ï¼å½ææ°çè¿æ¥è¿æ¥çæ¶åï¼å°±å¯ä»¥çå» fork è¿ç¨çæä½ï¼è®©ç¨æ·è®¿é®æ´å¿«ãä½éªæ´å¥½ãprefork çåºæ¬ç¤ºæå¾æ¯ï¼\n\n\n\nprefork çå®ç°å³é®å°±æ¯å¤ä¸ªå­è¿ç¨é½ accept åä¸ä¸ª socketï¼å½ææ°çè¿æ¥è¿å¥æ¶ï¼æä½ç³»ç»ä¿è¯åªæä¸ä¸ªè¿ç¨è½æå accept æåãä½è¿éä¹å­å¨ä¸ä¸ªå°å°çé®é¢ï¼âæç¾¤âç°è±¡ï¼å°±æ¯æè½ç¶åªæä¸ä¸ªå­è¿ç¨è½ accept æåï¼ä½ææé»å¡å¨ accept ä¸çå­è¿ç¨é½ä¼è¢«å¤éï¼è¿æ ·å°±å¯¼è´äºä¸å¿è¦çè¿ç¨è°åº¦åä¸ä¸æåæ¢äºãå¹¸è¿çæ¯ï¼æä½ç³»ç»å¯ä»¥è§£å³è¿ä¸ªé®é¢ï¼ä¾å¦ Linux 2.6 çæ¬ååæ ¸å·²ç»è§£å³äº accept æç¾¤é®é¢ã\n\nprefork æ¨¡å¼å PPC ä¸æ ·ï¼è¿æ¯å­å¨ç¶å­è¿ç¨éä¿¡å¤æãæ¯æçå¹¶åè¿æ¥æ°éæéçé®é¢ï¼å æ­¤ç®åå®éåºç¨ä¹ä¸å¤ãApache æå¡å¨æä¾äº MPM prefork æ¨¡å¼ï¼æ¨èå¨éè¦å¯é æ§æèä¸æ§è½¯ä»¶å¼å®¹çç«ç¹æ¶éç¨è¿ç§æ¨¡å¼ï¼é»è®¤æåµä¸æå¤§æ¯æ 256 ä¸ªå¹¶åè¿æ¥ã\n\n# TPC\n\nTPC æ¯ Thread Per Connection çç¼©åï¼å¶å«ä¹æ¯ææ¯æ¬¡ææ°çè¿æ¥å°±æ°å»ºä¸ä¸ªçº¿ç¨å»ä¸é¨å¤çè¿ä¸ªè¿æ¥çè¯·æ±ãä¸è¿ç¨ç¸æ¯ï¼çº¿ç¨æ´è½»éçº§ï¼åå»ºçº¿ç¨çæ¶èæ¯è¿ç¨è¦å°å¾å¤ï¼åæ¶å¤çº¿ç¨æ¯å±äº«è¿ç¨åå­ç©ºé´çï¼çº¿ç¨éä¿¡ç¸æ¯è¿ç¨éä¿¡æ´ç®åãå æ­¤ï¼TPC å®éä¸æ¯è§£å³æèå¼±åäº PPC fork ä»£ä»·é«çé®é¢åç¶å­è¿ç¨éä¿¡å¤æçé®é¢ã\n\nTPC çåºæ¬æµç¨æ¯ï¼\n\n\n\n * ç¶è¿ç¨æ¥åè¿æ¥ï¼å¾ä¸­ acceptï¼ã\n * ç¶è¿ç¨åå»ºå­çº¿ç¨ï¼å¾ä¸­ pthreadï¼ã\n * å­çº¿ç¨å¤çè¿æ¥çè¯»åè¯·æ±ï¼å¾ä¸­å­çº¿ç¨ readãä¸å¡å¤çãwriteï¼ã\n * å­çº¿ç¨å³é­è¿æ¥ï¼å¾ä¸­å­çº¿ç¨ä¸­ç closeï¼ã\n\næ³¨æï¼å PPC ç¸æ¯ï¼ä¸»è¿ç¨ä¸ç¨âcloseâè¿æ¥äºãåå æ¯å¨äºå­çº¿ç¨æ¯å±äº«ä¸»è¿ç¨çè¿ç¨ç©ºé´çï¼è¿æ¥çæä»¶æè¿°ç¬¦å¹¶æ²¡æè¢«å¤å¶ï¼å æ­¤åªéè¦ä¸æ¬¡ close å³å¯ã\n\nTPC è½ç¶è§£å³äº fork ä»£ä»·é«åè¿ç¨éä¿¡å¤æçé®é¢ï¼ä½æ¯ä¹å¼å¥äºæ°çé®é¢ï¼å·ä½è¡¨ç°å¨ï¼\n\n * åå»ºçº¿ç¨è½ç¶æ¯åå»ºè¿ç¨ä»£ä»·ä½ï¼ä½å¹¶ä¸æ¯æ²¡æä»£ä»·ï¼é«å¹¶åæ¶ï¼ä¾å¦æ¯ç§ä¸ä¸è¿æ¥ï¼è¿æ¯ææ§è½é®é¢ã\n * æ é¡»è¿ç¨é´éä¿¡ï¼ä½æ¯çº¿ç¨é´çäºæ¥åå±äº«åå¼å¥äºå¤æåº¦ï¼å¯è½ä¸ä¸å°å¿å°±å¯¼è´äºæ­»éé®é¢ã\n * å¤çº¿ç¨ä¼åºç°äºç¸å½±åçæåµï¼æä¸ªçº¿ç¨åºç°å¼å¸¸æ¶ï¼å¯è½å¯¼è´æ´ä¸ªè¿ç¨éåºï¼ä¾å¦åå­è¶çï¼ã\n\né¤äºå¼å¥äºæ°çé®é¢ï¼TPC è¿æ¯å­å¨ CPU çº¿ç¨è°åº¦ååæ¢ä»£ä»·çé®é¢ãå æ­¤ï¼TPC æ¹æ¡æ¬è´¨ä¸å PPC æ¹æ¡åºæ¬ç±»ä¼¼ï¼å¨å¹¶åå ç¾è¿æ¥çåºæ¯ä¸ï¼åèæ´å¤å°æ¯éç¨ PPC çæ¹æ¡ï¼å ä¸º PPC æ¹æ¡ä¸ä¼ææ­»éçé£é©ï¼ä¹ä¸ä¼å¤è¿ç¨äºç¸å½±åï¼ç¨³å®æ§æ´é«ã\n\n# prethread\n\nTPC æ¨¡å¼ä¸­ï¼å½è¿æ¥è¿æ¥æ¶æåå»ºæ°ççº¿ç¨æ¥å¤çè¿æ¥è¯·æ±ï¼è½ç¶åå»ºçº¿ç¨æ¯åå»ºè¿ç¨è¦æ´å è½»éçº§ï¼ä½è¿æ¯æä¸å®çä»£ä»·ï¼è prethread æ¨¡å¼å°±æ¯ä¸ºäºè§£å³è¿ä¸ªé®é¢ã\n\nå prefork ç±»ä¼¼ï¼prethread æ¨¡å¼ä¼é¢ååå»ºçº¿ç¨ï¼ç¶åæå¼å§æ¥åç¨æ·çè¯·æ±ï¼å½ææ°çè¿æ¥è¿æ¥çæ¶åï¼å°±å¯ä»¥çå»åå»ºçº¿ç¨çæä½ï¼è®©ç¨æ·æè§æ´å¿«ãä½éªæ´å¥½ã\n\nç±äºå¤çº¿ç¨ä¹é´æ°æ®å±äº«åéä¿¡æ¯è¾æ¹ä¾¿ï¼å æ­¤å®éä¸ prethread çå®ç°æ¹å¼ç¸æ¯ prefork è¦çµæ´»ä¸äºï¼å¸¸è§çå®ç°æ¹å¼æä¸é¢å ç§ï¼\n\n * ä¸»è¿ç¨ acceptï¼ç¶åå°è¿æ¥äº¤ç»æä¸ªçº¿ç¨å¤çã\n * å­çº¿ç¨é½å°è¯å» acceptï¼æç»åªæä¸ä¸ªçº¿ç¨ accept æåï¼æ¹æ¡çåºæ¬ç¤ºæå¾å¦ä¸ï¼\n\n\n\nApache æå¡å¨ç MPM worker æ¨¡å¼æ¬è´¨ä¸å°±æ¯ä¸ç§ prethread æ¹æ¡ï¼ä½ç¨å¾®åäºæ¹è¿ãApache æå¡å¨ä¼é¦ååå»ºå¤ä¸ªè¿ç¨ï¼æ¯ä¸ªè¿ç¨éé¢ååå»ºå¤ä¸ªçº¿ç¨ï¼è¿æ ·åä¸»è¦æ¯ä¸ºäºèèç¨³å®æ§ï¼å³ï¼å³ä½¿æä¸ªå­è¿ç¨éé¢çæä¸ªçº¿ç¨å¼å¸¸å¯¼è´æ´ä¸ªå­è¿ç¨éåºï¼è¿ä¼æå¶ä»å­è¿ç¨ç»§ç»­æä¾æå¡ï¼ä¸ä¼å¯¼è´æ´ä¸ªæå¡å¨å¨é¨ææã\n\nprethread çè®ºä¸å¯ä»¥æ¯ prefork æ¯ææ´å¤çå¹¶åè¿æ¥ï¼Apache æå¡å¨ MPM worker æ¨¡å¼é»è®¤æ¯æ 16 Ã 25 = 400 ä¸ªå¹¶åå¤ççº¿ç¨ã\n\n# Reactor\n\nI/O å¤è·¯å¤ç¨ææ¯å½çº³èµ·æ¥æä¸¤ä¸ªå³é®å®ç°ç¹ï¼\n\n * å½å¤æ¡è¿æ¥å±ç¨ä¸ä¸ªé»å¡å¯¹è±¡åï¼è¿ç¨åªéè¦å¨ä¸ä¸ªé»å¡å¯¹è±¡ä¸ç­å¾ï¼èæ é¡»åè½®è¯¢ææè¿æ¥ï¼å¸¸è§çå®ç°æ¹å¼æ selectãepollãkqueue ç­ã\n * å½ææ¡è¿æ¥ææ°çæ°æ®å¯ä»¥å¤çæ¶ï¼æä½ç³»ç»ä¼éç¥è¿ç¨ï¼è¿ç¨ä»é»å¡ç¶æè¿åï¼å¼å§è¿è¡ä¸å¡å¤çã\n\nI/O å¤è·¯å¤ç¨ç»åçº¿ç¨æ± ï¼å®ç¾å°è§£å³äº PPC å TPC çé®é¢\n\nReactor æ¨¡å¼çæ ¸å¿ç»æé¨ååæ¬ Reactor åå¤çèµæºæ± ï¼è¿ç¨æ± æçº¿ç¨æ± ï¼ï¼å¶ä¸­ Reactor è´è´£çå¬ååéäºä»¶ï¼å¤çèµæºæ± è´è´£å¤çäºä»¶ãåç Reactor çå®ç°æ¯æ¯è¾ç®åçï¼ä½å®éä¸ç»åä¸åçä¸å¡åºæ¯ï¼Reactor æ¨¡å¼çå·ä½å®ç°æ¹æ¡çµæ´»å¤åï¼ä¸»è¦ä½ç°å¨ï¼\n\n * Reactor çæ°éå¯ä»¥ååï¼å¯ä»¥æ¯ä¸ä¸ª Reactorï¼ä¹å¯ä»¥æ¯å¤ä¸ª Reactorã\n * èµæºæ± çæ°éå¯ä»¥ååï¼ä»¥è¿ç¨ä¸ºä¾ï¼å¯ä»¥æ¯åä¸ªè¿ç¨ï¼ä¹å¯ä»¥æ¯å¤ä¸ªè¿ç¨ï¼çº¿ç¨ç±»ä¼¼ï¼ã\n\næç» Reactor æ¨¡å¼æè¿ä¸ç§å¸åçå®ç°æ¹æ¡ï¼\n\n * å Reactor åè¿ç¨ / çº¿ç¨ã\n * å Reactor å¤çº¿ç¨ã\n * å¤ Reactor å¤è¿ç¨ / çº¿ç¨ã\n\n\n# å¼æ­¥æä½\n\nå¼æ­¥å¤çä¸ä»å¯ä»¥åå°ç³»ç»æå¡é´çè¦ååº¦ï¼æé«æ©å±æ§ï¼äºå®ä¸ï¼å®è¿å¯ä»¥æé«ç³»ç»çæ§è½ãå¼æ­¥å¤çå¯ä»¥ææåå°ååºç­å¾æ¶é´ï¼ä»èæé«ååºéåº¦ã\n\nå¼æ­¥å¤çä¸è¬æ¯éè¿åå¸å¼æ¶æ¯éåçæ¹å¼ã\n\nå¼æ­¥å¤çå¯ä»¥è§£å³ä»¥ä¸é®é¢ï¼\n\n * å¼æ­¥ååº\n * åºç¨è§£è¦\n * æµéåé\n * æ¥å¿å¤ç\n * æ¶æ¯éè®¯\n\n\n# è´è½½åè¡¡\n\nå¨é«å¹¶ååºæ¯ä¸ï¼ä½¿ç¨è´è½½åè¡¡ææ¯ä¸ºä¸ä¸ªåºç¨æå»ºä¸ä¸ªç±å¤å°æå¡å¨ç»æçæå¡å¨éç¾¤ï¼å°å¹¶åè®¿é®è¯·æ±ååå°å¤å°æå¡å¨ä¸å¤çï¼é¿ååä¸æå¡å¨å è´è½½ååè¿å¤§èååºç¼æ¢ï¼ä½¿ç¨æ·è¯·æ±å·ææ´å¥½çååºå»¶è¿ç¹æ§ã\n\né«æ§è½éç¾¤çå¤ææ§ä¸»è¦ä½ç°å¨éè¦å¢å ä¸ä¸ªä»»å¡åéå¨ï¼ä»¥åä¸ºä»»å¡éæ©ä¸ä¸ªåéçä»»å¡åéç®æ³ã\n\n> ç¼å­è§£å³æ¹æ¡è¯·åèï¼è´è½½åè¡¡\n\n\n# ä»£ç ä¼å\n\n# å¤çº¿ç¨\n\nä»èµæºå©ç¨çè§åº¦çï¼ä½¿ç¨å¤çº¿ç¨çåå ä¸»è¦æä¸¤ä¸ªï¼IO é»å¡åå¤ CPUã\n\nçº¿ç¨æ°å¹¶éè¶å¤è¶å¥½ï¼é£ä¹å¯å¨å¤å°çº¿ç¨åéå¢ï¼\n\næä¸ªåèå¬å¼ï¼\n\nå¯å¨çº¿ç¨æ° = (ä»»å¡æ§è¡æ¶é´ / (ä»»å¡æ§è¡æ¶é´ - IO ç­å¾æ¶é´)) * CPU åæ ¸æ°\n\n\næä½³å¯å¨çº¿ç¨æ°å CPU åæ ¸æ°ææ­£æ¯ï¼å IO é»å¡æ¶é´æåæ¯ã\n\n * å¦æä»»å¡é½æ¯ CPU è®¡ç®åä»»å¡ï¼é£ä¹çº¿ç¨æ°æå¤ä¸è¦è¶è¿ CPU åæ ¸æ°ï¼å ä¸ºå¯å¨åå¤çº¿ç¨ï¼CPU ä¹æ¥ä¸åè°åº¦ï¼\n * ç¸åï¼å¦ææ¯ä»»å¡éè¦ç­å¾ç£çæä½ï¼ç½ç»ååºï¼é£ä¹å¤å¯å¨çº¿ç¨æå©äºä»»å¡å¹¶åï¼æé«ç³»ç»ååéã\n\n# çº¿ç¨å®å¨é®é¢\n\nçº¿ç¨å®å¨é®é¢æ¶æå¤ä¸ªçº¿ç¨å¹¶åè®¿é®æä¸ªèµæºï¼å¯¼è´æ°æ®æ··ä¹±ã\n\nè§£å³ææ®µæï¼\n\n * å°å¯¹è±¡è®¾è®¡ä¸ºæ ç¶æå¯¹è±¡ - å¸ååºç¨ï¼Servlet å°±æ¯æ ç¶æå¯¹è±¡ï¼å¯ä»¥è¢«æå¡å¨å¤çº¿ç¨å¹¶åè°ç¨å¤çç¨æ·è¯·æ±ã\n * ä½¿ç¨å±é¨å¯¹è±¡\n * å¹¶åè®¿é®èµæºæ¶ä½¿ç¨é - ä½æ¯å¼å¥éä¼äº§çæ§è½å¼éï¼åºå°½éä½¿ç¨è½»éçº§çéã\n\n# èµæºå¤ç¨\n\nåºè¯¥å°½éåå°é£äºå¼éå¾å¤§çç³»ç»èµæºçåå»ºåéæ¯ï¼å¦æ°æ®åºè¿æ¥ãç½ç»éä¿¡è¿æ¥ãçº¿ç¨ãå¤æå¯¹è±¡ç­ãä»ç¼ç¨è§åº¦ï¼èµæºå¤ç¨ä¸»è¦æä¸¤ç§æ¨¡å¼ï¼åä¾æ¨¡å¼åå¯¹è±¡æ± ã\n\n# æ°æ®ç»æ\n\næ ¹æ®å·ä½åºæ¯ï¼éæ©åéçæ°æ®ç»æã\n\n# åå¾åæ¶\n\nå¦æ Web åºç¨è¿è¡å¨ JVM ç­å·æåå¾åæ¶åè½çç¯å¢ä¸­ï¼é£ä¹åå¾åæ¶å¯è½ä¼å¯¹ç³»ç»çæ§è½ç¹æ§äº§çå·¨å¤§å½±åãç«å³åå¾åæ¶æºå¶æå©äºç¨åºä¼åååæ°è°ä¼ï¼ä»¥åç¼ååå­å®å¨çä»£ç ã\n\n\n# å­å¨æ§è½ä¼å\n\n\n# æ°æ®åº\n\n# æ°æ®åºè¯»ååç¦»\n\nè¯»ååç¦»çåºæ¬åçæ¯å°æ°æ®åºè¯»åæä½åæ£å°ä¸åçèç¹ä¸\n\n> è¯¦ç»è§£å³æ¹æ¡åèï¼è¯»ååç¦»\n\n# æ°æ®åºååºåè¡¨\n\næ°æ®åçææç§æä¸ªç»´åº¦å°å­æ¾å¨åä¸æ°æ®åºä¸­çæ°æ®åæ£å°å­æ¾è³å¤ä¸ªæ°æ®åºæè¡¨ä¸­ä»¥è¾¾å°æåæ§è½ç¶é¢ä»¥åå¯ç¨æ§çææã\n\n> è¯¦ç»è§£å³æ¹æ¡åèï¼ååºåè¡¨\n\n# Nosql\n\nå³ç³»åæ°æ®åºçä¼å¿å¨äºï¼å­å¨ç»æåæ°æ®ï¼æå©äºè¿è¡åç§å¤ææ¥è¯¢ã\n\nä½æ¯ï¼å®ä¹å­å¨ä¸äºç¼ºç¹ï¼\n\n * å³ç³»æ°æ®åºå­å¨çæ¯è¡è®°å½ï¼æ æ³å­å¨æ°æ®ç»æ\n * å³ç³»æ°æ®åºç schema æ©å±å¾ä¸æ¹ä¾¿\n * å³ç³»æ°æ®åºå¨å¤§æ°æ®åºæ¯ä¸ I/O è¾é«\n * å³ç³»æ°æ®åºçå¨ææç´¢åè½æ¯è¾å¼±\n\nä¸ºäºè§£å³ä¸è¿°é®é¢ï¼åå«è¯çäºè§£å³ä¸åé®é¢ç Nosql æ°æ®åºã\n\nå¸¸è§ç NoSQL æ°æ®åºå¯ä»¥åä¸ºåç±»ï¼\n\n * K-V æ°æ®åºï¼KV å­å¨éå¸¸éåå­å¨ä¸æ¶åè¿å¤æ°æ®å³ç³»ä¸å¡å³ç³»çæ°æ®ï¼åæ¶è½ææåå°è¯»åç£ççæ¬¡æ°ï¼æ¯ SQL æ°æ®åºå­å¨æ¥ææ´å¥½çè¯»åæ§è½ï¼è½å¤è§£å³å³ç³»åæ°æ®åºæ æ³å­å¨æ°æ®ç»æçé®é¢ãä»¥ Redis ä¸ºä»£è¡¨ã\n * åå¼æ°æ®åºï¼éåäºæ¹éæ°æ®å¤çåå³æ¶æ¥è¯¢ï¼è§£å³å³ç³»æ°æ®åºå¤§æ°æ®åºæ¯ä¸ç I/O é®é¢ãä»¥ HBase ä¸ºä»£è¡¨ã\n * ææ¡£æ°æ®åºï¼ææ¡£æ°æ®åºï¼ä¹ç§°ä¸ºææ¡£åæ°æ®åºï¼æ¯æ¨å¨å°åç»æåæ°æ®å­å¨ä¸ºææ¡£çä¸ç§æ°æ®åºï¼å®å¯ä»¥è§£å³å³ç³»åæ°æ®åºè¡¨ç»æ schema æ©å±ä¸æ¹ä¾¿çé®é¢ãææ¡£æ°æ®åºéå¸¸ä»¥ JSON æ XML æ ¼å¼å­å¨æ°æ®ãä»¥ MongoDB ä¸ºä»£è¡¨ã\n * å¨ææç´¢å¼æï¼è§£å³å³ç³»åæ°æ®åºå¨ææç´¢åè½è¾å¼±çé®é¢ãä»¥ Elasticsearch ä¸ºä»£è¡¨ã\n\n> è¯¦æåèï¼Nosql ææ¯éå\n\n\n# æä»¶å­å¨\n\n# æºæ¢°é®çååºæç¡¬ç\n\nèèä½¿ç¨åºæç¡¬çæ¿ä»£æºæ¢°é®çï¼å ä¸ºå®çè¯»åéåº¦æ´å¿«ã\n\n# B+æ°å LSM æ \n\nä¼ ç»å³ç³»æ°æ®åºçæ°æ®åºç´¢å¼ä¸è¬é½ä½¿ç¨ä¸¤çº§ç´¢å¼ç B+ æ  ç»æï¼æ çå±æ¬¡æå¤ä¸å±ãå æ­¤å¯è½éè¦ 5 æ¬¡ç£çè®¿é®æè½æ´æ°ä¸æ¡è®°å½ï¼ä¸æ¬¡ç£çè®¿é®è·å¾æ°æ®ç´¢å¼åè¡ IDï¼ç¶ååè¿è¡ä¸æ¬¡æ°æ®æä»¶è¯»æä½åä¸æ¬¡æ°æ®æä»¶åæä½ï¼ã\n\nç±äºç£çè®¿é®æ¯éæºçï¼ä¼ ç»æºæ¢°é®çå¨æ°æ®éæºè®¿é®æ¶æ§è½è¾å·®ï¼æ¯æ¬¡æ°æ®è®¿é®é½éè¦å¤æ¬¡è®¿é®ç£çå½±åæ°æ®è®¿é®æ§è½ã\n\nè®¸å¤ Nosql æ°æ®åºä¸­çç´¢å¼éç¨ LSM æ  ä½ä¸ºä¸»è¦æ°æ®ç»æãLSM æ å¯è§ä¸ºä¸ä¸ª N é¶åå¹¶æ ãæ°æ®åæä½é½å¨åå­ä¸­è¿è¡ãå¨ LSM æ ä¸è¿è¡ä¸æ¬¡æ°æ®æ´æ°ä¸éè¦ç£çè®¿é®ï¼éåº¦è¿å¿«äº B+ æ ã\n\n# RAID å HDFS\n\nRAID æ¯ Redundant Array of Independent Disks çç¼©åï¼ä¸­æç®ç§°ä¸ºç¬ç«åä½ç£çéµåã\n\nRAID æ¯ä¸ç§æå¤åç¬ç«çç¡¬çï¼ç©çç¡¬çï¼æä¸åçæ¹å¼ç»åèµ·æ¥å½¢æä¸ä¸ªç¡¬çç»ï¼é»è¾ç¡¬çï¼ï¼ä»èæä¾æ¯åä¸ªç¡¬çæ´é«çå­å¨æ§è½åæä¾æ°æ®å¤ä»½ææ¯ã\n\nHDFS(åå¸å¼æä»¶ç³»ç») æ´è¢«å¤§åç½ç«æéçãå®å¯ä»¥éå MapReduce å¹¶åè®¡ç®ä»»å¡æ¡æ¶è¿è¡å¤§æ°æ®å¤çï¼å¯ä»¥å¨æ´ä¸ªéç¾¤ä¸å¹¶åè®¿é®ææç£çï¼æ é RAID æ¯æã\n\nHDFS å¯¹æ°æ®å­å¨ç©ºé´çç®¡çä»¥æ°æ®åï¼Blockï¼ä¸ºåä½ï¼é»è®¤ä¸º 64 MBãæä»¥ï¼HDFS æ´éåå­å¨è¾å¤§çæä»¶ã\n\n\n# åç«¯æ§è½ä¼å\n\n\n# æµè§å¨è®¿é®ä¼å\n\n 1. åå° HTTP è¯·æ± - HTTP è¯·æ±éè¦å»ºç«éä¿¡é¾è·¯ï¼è¿è¡æ°æ®ä¼ è¾ï¼å¼éé«æï¼æä»¥åå° HTTP è¯·æ±æ°å¯ä»¥æææé«è®¿é®æ§è½ãåå° HTTP çä¸»è¦ææ®µæ¯åå¹¶ CssãJavaScriptãå¾çã\n 2. ä½¿ç¨æµè§å¨ç¼å­ - å ä¸ºéæèµæºæä»¶æ´æ°é¢çä½ï¼å¯ä»¥ç¼å­æµè§å¨ä¸­ä»¥æé«æ§è½ãè®¾ç½® HTTP å¤´ä¸­ç Cache-Control å Expires å±æ§ï¼å¯è®¾å®æµè§å¨ç¼å­ã\n 3. å¯ç¨åç¼© - å¨æå¡å¨ç«¯åç¼©éæèµæºæä»¶ï¼å¨æµè§å¨ç«¯è§£åç¼©ï¼å¯ä»¥ææåå°ä¼ è¾çæ°æ®éãç±äºææ¬æä»¶åç¼©çå¯è¾¾ 80% ä»¥ä¸ï¼æä»¥å¯ä»¥å¯¹éæèµæºï¼å¦ HtmlãCssãJavaScrip è¿è¡åç¼©ã\n 4. CSS æ¾å¨é¡µé¢æä¸é¢ï¼JavaScript æ¾å¨é¡µé¢æä¸é¢ - æµè§å¨ä¼å¨ä¸è½½å®å¨é¨ç Css åæå¯¹æ´ä¸ªé¡µé¢è¿è¡æ¸²æï¼æä»¥æå¥½çåæ³æ¯å° Css æ¾å¨é¡µé¢æä¸é¢ï¼è®©æµè§å¨å°½å¿«ä¸è½½ Cssï¼JavaScript åç¸åï¼æµè§å¨å è½½ JavaScript åç«å³æ§è¡ï¼å¯è½ä¼é»å¡æ´ä¸ªé¡µé¢ï¼é æé¡µé¢æ¾ç¤ºç¼æ¢ï¼å æ­¤ JavaScript æå¥½æ¾å¨é¡µé¢æä¸é¢ã\n 5. åå° Cookie ä¼ è¾ - Cookie åå«å¨ HTTP æ¯æ¬¡çè¯·æ±åååºä¸­ï¼å¤ªå¤§ç Cookie ä¼ä¸¥éå½±åæ°æ®ä¼ è¾ã\n\n\n# CDN\n\nCDN ä¸è¬ç¼å­çæ¯éæèµæºã\n\nCDN çæ¬è´¨ä»ç¶æ¯ä¸ä¸ªç¼å­ï¼èä¸å°æ°æ®ç¼å­å¨ç¦»ç¨æ·æè¿çå°æ¹ï¼ä½¿ç¨æ·å·²æå¿«éåº¦è·åæ°æ®ï¼å³æè°ç½ç»è®¿é®ç¬¬ä¸è·³ã\n\n\n\n\n# ååä»£ç\n\nä¼ ç»ä»£çæå¡å¨ä½äºæµè§å¨ä¸ä¾§ï¼ä»£çæµè§å¨å° HTTP è¯·æ±åéå°äºèç½ä¸ï¼èååä»£çæå¡å¨ä½äºç½ç«æºæ¿ä¸ä¾§ï¼ä»£çç½ç«æå¡å¨æ¥æ¶ HTTP è¯·æ±ã\n\n\n\nååä»£çæå¡å¨å¯ä»¥éç½®ç¼å­åè½å é Web è¯·æ±ï¼å½ç¨æ·ç¬¬ä¸æ¬¡è®¿é®éæåå®¹æ¶ï¼éæåå®¹å°±ä¼è¢«ç¼å­å¨ååä»£çæå¡å¨ä¸ã\n\nååä»£çè¿å¯ä»¥å®ç°è´è½½åè¡¡ï¼éè¿è´è½½åè¡¡æå»ºçéç¾¤å¯ä»¥æé«ç³»ç»æ»ä½å¤çè½åã\n\nå ä¸ºææè¯·æ±é½å¿é¡»åç»è¿ååä»£çæå¡å¨ï¼æä»¥å¯ä»¥å±è½ä¸äºæ»å» IPï¼è¾¾å°ä¿æ¤ç½ç«å®å¨çä½ç¨ã\n\n\n# åèèµæ\n\n * ãå¤§åç½ç«ææ¯æ¶æï¼æ ¸å¿åçä¸æ¡ä¾åæã\n * Java æ§è½è°ä¼å®æ",normalizedContent:"# ç³»ç»é«æ§è½æ¶æ\n\n\n# æ§è½ç®ä»\n\nè¦è®¾è®¡é«æ§è½çç³»ç»æ¶æï¼åºè¯¥æä»¥ä¸çæç»´æ­¥éª¤ï¼\n\né¦åï¼è¦æç¡®å½±åæ§è½çå ç´ æåªäºï¼æ§è½çææ æåªäºï¼ââåå°æçæ¾ç¢ã\n\nå¶æ¬¡ï¼è¦äºè§£å¦ä½æµè¯æ§è½ææ ï¼æ§è½ä¼åï¼å¿é¡»è¦æååçææå¯¹æ¯ï¼æè½è¯ææ§è½ç¡®å®ææ¹åã\n\næ¥ä¸æ¥ï¼å­¦ä¹ éå¯¹ä¸ååºæ¯ä¸ï¼ä¸åæ§ææ çä¼åç­ç¥ä»¥åå·ä½å®æ½æ¹æ¡ãââè§æææã\n\n\n# è®¡ç®æºèµæº\n\näºè§£æ§è½ææ åï¼éè¦åç¥éåªäºè®¡ç®æºèµæºä¼å½±åæ§è½ãä¸è¬æ¥è¯´ï¼å½±åæ§è½çè®¡ç®æºèµæºåæ¬ï¼\n\n * cpu\n * åå­\n * ç£ç i/o\n * ç½ç» i/o\n * æ°æ®åº\n * éç«äº\n\n\n# æ§è½ææ \n\næ§è½æµè¯çä¸»è¦ææ æï¼\n\n * ååºæ¶é´\n * å¹¶åæ°\n * ååé\n   * qps\n   * tps\n * èµæºåéä½¿ç¨ç\n\n# ååºæ¶é´\n\nååºæ¶é´(rt)æ¯æä»å®¢æ·ç«¯åä¸ä¸ªè¯·æ±å¼å§è®¡æ¶ï¼å°å®¢æ·ç«¯æ¥æ¶å°ä»æå¡å¨ç«¯è¿åçååºç»æç»ææç»åçæ¶é´ï¼ååºæ¶é´ç±è¯·æ±åéæ¶é´ãç½ç»ä¼ è¾æ¶é´åæå¡å¨å¤çæ¶é´ä¸é¨åç»æã\n\nååºæ¶é´è¶ç­ï¼æ§è½è¶å¥½ï¼ä¸è¬ä¸ä¸ªæ¥å£çååºæ¶é´æ¯å¨æ¯«ç§çº§ã\n\nååºæ¶é´å¯ä»¥è¿ä¸æ­¥ç»åï¼\n\n * å®¢æ·ç«¯ååºæ¶é´\n * ç½ç»ååºæ¶é´\n * æå¡ç«¯ååºæ¶é´\n * æ°æ®åºååºæ¶é´\n\n# å¹¶åæ°\n\nå¹¶åæ°æ¯æç³»ç»è½åæ¶å¤ççè¯·æ±ãäºå¡æ°ã\n\nç³»ç»èªèº«ç cpu å¤çè½åãåå­ãä»¥åç³»ç»èªèº«ççº¿ç¨å¤ç¨ãéç«äºç­é½ä¼å½±åå¹¶åæ°ã\n\n# ååé\n\nååéè®¡ç®å¬å¼ï¼\n\nååé = å¹¶åæ° / å¹³åååºæ¶é´\n\n\nååéè¶å¤§ï¼æ§è½è¶å¥½ã\n\nä¸è¬ï¼ç³»ç»åç°ç»å¤é¨çæå¸¸è§çååéææ ï¼å°±æ¯ï¼\n\n * qps(æ¯ç§æ¥è¯¢æ°) - å³ç³»ç»æ¯ç§å¯ä»¥å¤ççè¯»è¯·æ±ã\n * tps(æ¯ç§äºå¡æ°) - å³ç³»ç»æ¯ç§å¯ä»¥å¤ççåè¯·æ±ã\n\nèå¨ç³»ç»åé¨ï¼å­å¨ä»¥ä¸ååéï¼\n\n * ç£çååé - ä½ç°äºç£çéæºè¯»åçæ§è½ã\n * ç½ç»ååé - é¤äºåéäºç½ç»å¸¦å®½ï¼cpu çå¤çè½åãç½å¡ãé²ç«å¢ãå¤é¨æ¥å£ä»¥å i/oãç³»ç» io ç®æ³é½ä¼å½±åå°ç½ç»ååéã\n\n# èµæºåéä½¿ç¨ç\n\néå¸¸ç± cpu å ç¨çãåå­ä½¿ç¨çãç£ç i/oãç½ç» i/o ãå¯¹è±¡ä¸çº¿ç¨æ°æ¥è¡¨ç¤ºèµæºä½¿ç¨çãè¿äºææ ä¹æ¯ç³»ç»çæ§çéè¦åæ°ã\n\n\n# æ§è½æµè¯\n\næ§è½æµè¯ææ®µï¼\n\n * æ§è½æµè¯\n * è´è½½æµè¯\n * ååæµè¯\n * ç¨³å®æ§æµè¯\n\nå¯¹äº java åºç¨èè¨ï¼æç®åçï¼å¯ä»¥ä½¿ç¨ jmeter è¿è¡æ§è½æµè¯ã\n\næ§è½æµè¯æ¥åç¤ºä¾ï¼\n\n\n#### æ§è½æµè¯çé®é¢\n\næ§è½æµè¯æ¶ï¼éè¦æ³¨æä¸äºé®é¢ï¼\n\n * ç­èº«é®é¢ - ç³»ç»åå¼å§è¿è¡æ¶ï¼èªèº«å¯è½å è½½ç¼å­ï¼jvm å¯è½ä¼ä¼åç­ç¹ä»£ç ç­ï¼è¿äºè¡ä¸ºé½å¯è½ä½¿å¾ååæè¾å¤§çæ§è½å·®å¼ãæä»¥ï¼æ§è½æµè¯æ¶ï¼åºè¯¥åè·³è¿ä¸æ®µç­èº«æ¶é´ï¼ç­è¶äºç¨³å®åï¼åå¼å§æ§è½æµè¯ã\n * æµè¯ç»æä¸ç¨³å® - æ§è½æµè¯ä¸­ï¼æå¾å¤ä¸ç¨³å®çå ç´ ï¼å¦ç¯å¢ãç½ç»ç­ï¼å ä¹ä¸å¯è½æ¯æ¬¡é½æ¯ä¸æ ·çç»æãæä»¥åºè¯¥å¤æ¬¡æµè¯ï¼æ±å¹³åå¼ã\n * å¤ jvm æåµä¸çå½±å - åºå°½éé¿åä¸å°æºå¨é¨ç½²å¤ä¸ª jvm çæåµãå ä¸ºä»»æä¸ä¸ª jvm é½æ¥ææ´ä¸ªç³»ç»çèµæºä½¿ç¨æï¼æä»¥å¨æ§è½æµè¯æ¶ï¼å¯è½ä¼å½¼æ­¤å¹²æ°ã\n\n\n# æ§è½ä¼åç­ç¥\n\n 1. æ§è½åæ - å¦æè¯·æ±ååºæ¢ï¼å­å¨æ§è½é®é¢ãéè¦å¯¹è¯·æ±ç»åçåä¸ªç¯èéä¸åæï¼ææ¥å¯è½åºç°æ§è½ç¶é¢çå°æ¹ï¼å®ä½é®é¢ãæ£æ¥çæ§æ°æ®ï¼åæå½±åæ§è½çä¸»è¦å ç´ ï¼åå­ãç£çãç½ç»ãcpuï¼å¯è½æ¯ä»£ç ææ¶æè®¾è®¡ä¸åçï¼åæèæ¯ç³»ç»èµæºç¡®å®ä¸è¶³ã\n 2. æ§è½ä¼å - æ§è½ä¼åæ ¹æ®ç½ç«åå±æ¶æï¼å¤§è´å¯åä¸ºåç«¯æ§è½ä¼åãåºç¨æå¡æ§è½ä¼åãå­å¨æå¡æ§è½ä¼åã\n\n\n# åºç¨æå¡æ§è½ä¼å\n\n\n# ç¼å­\n\nç½ç«æ§è½ä¼åç¬¬ä¸å®å¾ï¼ç¬¬ä¸ä¼åèèä½¿ç¨ç¼å­æåæ§è½ã\n\nç¼å­æ¯ç¨äºå­å¨æ°æ®çç¡¬ä»¶æè½¯ä»¶çç»æé¨åï¼ä»¥ä½¿å¾åç»­æ´å¿«è®¿é®ç¸åºçæ°æ®ãç¼å­ä¸­çæ°æ®å¯è½æ¯æåè®¡ç®å¥½çç»æãæ°æ®çå¯æ¬ç­ã\n\n * åç¹åºç¨å¯ä»¥ä½¿ç¨è¿ç¨åç¼å­ï¼å¦ï¼concurrenthashmapãcaffeineï¼ï¼\n * åå¸å¼åºç¨å¯ä»¥ä½¿ç¨åå¸å¼ç¼å­ï¼å¦ï¼redisãmemcachedï¼ï¼æè¿ç¨ç¼å­+åå¸å¼ç¼å­çå¤çº§ç¼å­æ¹æ¡ã\n\n> ç¼å­è§£å³æ¹æ¡è¯·åèï¼ç¼å­åºæ¬åç\n\n\n# å¹¶åæ¨¡å\n\né«å¹¶åéè¦æ ¹æ®ä¸¤ä¸ªæ¡ä»¶ååï¼è¿æ¥æ°éï¼è¯·æ±æ°éã\n\n * æµ·éè¿æ¥ï¼æåä¸ä¸ï¼æµ·éè¯·æ±ï¼ä¾å¦æ¢è´­ï¼ååä¸ç­\n * å¸¸éè¿æ¥ï¼å åä¸ç¾ï¼æµ·éè¯·æ±ï¼ä¾å¦ä¸­é´ä»¶\n * æµ·éè¿æ¥å¸¸éè¯·æ±ï¼ä¾å¦é¨æ·ç½ç«\n * å¸¸éè¿æ¥å¸¸éè¯·æ±ï¼ä¾å¦åé¨è¿è¥ç³»ç»ï¼ç®¡çç³»ç»\n\nåæå¡å¨é«æ§è½çå³é®ä¹ä¸å°±æ¯æå¡å¨éåçå¹¶åæ¨¡å\n\n * æå¡å¨å¦ä½ç®¡çè¿æ¥ã\n * æå¡å¨å¦ä½å¤çè¯·æ±ã\n\nä»¥ä¸ä¸¤ä¸ªè®¾è®¡ç¹æç»é½åæä½ç³»ç»ç i/o æ¨¡ååè¿ç¨æ¨¡åç¸å³ã\n\n * i/o æ¨¡åï¼é»å¡ãéé»å¡ãåæ­¥ãå¼æ­¥ã\n * è¿ç¨æ¨¡åï¼åè¿ç¨ãå¤è¿ç¨ãå¤çº¿ç¨ã\n\n# ppc\n\nppc æ¯ process per connection çç¼©åï¼å¶å«ä¹æ¯ææ¯æ¬¡ææ°çè¿æ¥å°±æ°å»ºä¸ä¸ªè¿ç¨å»ä¸é¨å¤çè¿ä¸ªè¿æ¥çè¯·æ±ï¼è¿æ¯ä¼ ç»ç unix ç½ç»æå¡å¨æéç¨çæ¨¡åãåºæ¬çæµç¨å¾æ¯ï¼\n\n\n\n * ç¶è¿ç¨æ¥åè¿æ¥ï¼å¾ä¸­ acceptï¼ã\n * ç¶è¿ç¨âforkâå­è¿ç¨ï¼å¾ä¸­ forkï¼ã\n * å­è¿ç¨å¤çè¿æ¥çè¯»åè¯·æ±ï¼å¾ä¸­å­è¿ç¨ readãä¸å¡å¤çãwriteï¼ã\n * å­è¿ç¨å³é­è¿æ¥ï¼å¾ä¸­å­è¿ç¨ä¸­ç closeï¼ã\n\nè¿ç§æ¨¡å¼çç¼ºç¹ï¼\n\n * fork ä»£ä»·é«\n * ç¶å­è¿ç¨éä¿¡å¤æ\n * æ¯æçå¹¶åè¿æ¥æ°éæé\n\n# prefork\n\nppc æ¨¡å¼ä¸­ï¼å½è¿æ¥è¿æ¥æ¶æ fork æ°è¿ç¨æ¥å¤çè¿æ¥è¯·æ±ï¼ç±äº fork è¿ç¨ä»£ä»·é«ï¼ç¨æ·è®¿é®æ¶å¯è½æè§æ¯è¾æ¢ï¼prefork æ¨¡å¼çåºç°å°±æ¯ä¸ºäºè§£å³è¿ä¸ªé®é¢ã\n\né¡¾åæä¹ï¼prefork å°±æ¯æååå»ºè¿ç¨ï¼pre-forkï¼ãç³»ç»å¨å¯å¨çæ¶åå°±é¢ååå»ºå¥½è¿ç¨ï¼ç¶åæå¼å§æ¥åç¨æ·çè¯·æ±ï¼å½ææ°çè¿æ¥è¿æ¥çæ¶åï¼å°±å¯ä»¥çå» fork è¿ç¨çæä½ï¼è®©ç¨æ·è®¿é®æ´å¿«ãä½éªæ´å¥½ãprefork çåºæ¬ç¤ºæå¾æ¯ï¼\n\n\n\nprefork çå®ç°å³é®å°±æ¯å¤ä¸ªå­è¿ç¨é½ accept åä¸ä¸ª socketï¼å½ææ°çè¿æ¥è¿å¥æ¶ï¼æä½ç³»ç»ä¿è¯åªæä¸ä¸ªè¿ç¨è½æå accept æåãä½è¿éä¹å­å¨ä¸ä¸ªå°å°çé®é¢ï¼âæç¾¤âç°è±¡ï¼å°±æ¯æè½ç¶åªæä¸ä¸ªå­è¿ç¨è½ accept æåï¼ä½ææé»å¡å¨ accept ä¸çå­è¿ç¨é½ä¼è¢«å¤éï¼è¿æ ·å°±å¯¼è´äºä¸å¿è¦çè¿ç¨è°åº¦åä¸ä¸æåæ¢äºãå¹¸è¿çæ¯ï¼æä½ç³»ç»å¯ä»¥è§£å³è¿ä¸ªé®é¢ï¼ä¾å¦ linux 2.6 çæ¬ååæ ¸å·²ç»è§£å³äº accept æç¾¤é®é¢ã\n\nprefork æ¨¡å¼å ppc ä¸æ ·ï¼è¿æ¯å­å¨ç¶å­è¿ç¨éä¿¡å¤æãæ¯æçå¹¶åè¿æ¥æ°éæéçé®é¢ï¼å æ­¤ç®åå®éåºç¨ä¹ä¸å¤ãapache æå¡å¨æä¾äº mpm prefork æ¨¡å¼ï¼æ¨èå¨éè¦å¯é æ§æèä¸æ§è½¯ä»¶å¼å®¹çç«ç¹æ¶éç¨è¿ç§æ¨¡å¼ï¼é»è®¤æåµä¸æå¤§æ¯æ 256 ä¸ªå¹¶åè¿æ¥ã\n\n# tpc\n\ntpc æ¯ thread per connection çç¼©åï¼å¶å«ä¹æ¯ææ¯æ¬¡ææ°çè¿æ¥å°±æ°å»ºä¸ä¸ªçº¿ç¨å»ä¸é¨å¤çè¿ä¸ªè¿æ¥çè¯·æ±ãä¸è¿ç¨ç¸æ¯ï¼çº¿ç¨æ´è½»éçº§ï¼åå»ºçº¿ç¨çæ¶èæ¯è¿ç¨è¦å°å¾å¤ï¼åæ¶å¤çº¿ç¨æ¯å±äº«è¿ç¨åå­ç©ºé´çï¼çº¿ç¨éä¿¡ç¸æ¯è¿ç¨éä¿¡æ´ç®åãå æ­¤ï¼tpc å®éä¸æ¯è§£å³æèå¼±åäº ppc fork ä»£ä»·é«çé®é¢åç¶å­è¿ç¨éä¿¡å¤æçé®é¢ã\n\ntpc çåºæ¬æµç¨æ¯ï¼\n\n\n\n * ç¶è¿ç¨æ¥åè¿æ¥ï¼å¾ä¸­ acceptï¼ã\n * ç¶è¿ç¨åå»ºå­çº¿ç¨ï¼å¾ä¸­ pthreadï¼ã\n * å­çº¿ç¨å¤çè¿æ¥çè¯»åè¯·æ±ï¼å¾ä¸­å­çº¿ç¨ readãä¸å¡å¤çãwriteï¼ã\n * å­çº¿ç¨å³é­è¿æ¥ï¼å¾ä¸­å­çº¿ç¨ä¸­ç closeï¼ã\n\næ³¨æï¼å ppc ç¸æ¯ï¼ä¸»è¿ç¨ä¸ç¨âcloseâè¿æ¥äºãåå æ¯å¨äºå­çº¿ç¨æ¯å±äº«ä¸»è¿ç¨çè¿ç¨ç©ºé´çï¼è¿æ¥çæä»¶æè¿°ç¬¦å¹¶æ²¡æè¢«å¤å¶ï¼å æ­¤åªéè¦ä¸æ¬¡ close å³å¯ã\n\ntpc è½ç¶è§£å³äº fork ä»£ä»·é«åè¿ç¨éä¿¡å¤æçé®é¢ï¼ä½æ¯ä¹å¼å¥äºæ°çé®é¢ï¼å·ä½è¡¨ç°å¨ï¼\n\n * åå»ºçº¿ç¨è½ç¶æ¯åå»ºè¿ç¨ä»£ä»·ä½ï¼ä½å¹¶ä¸æ¯æ²¡æä»£ä»·ï¼é«å¹¶åæ¶ï¼ä¾å¦æ¯ç§ä¸ä¸è¿æ¥ï¼è¿æ¯ææ§è½é®é¢ã\n * æ é¡»è¿ç¨é´éä¿¡ï¼ä½æ¯çº¿ç¨é´çäºæ¥åå±äº«åå¼å¥äºå¤æåº¦ï¼å¯è½ä¸ä¸å°å¿å°±å¯¼è´äºæ­»éé®é¢ã\n * å¤çº¿ç¨ä¼åºç°äºç¸å½±åçæåµï¼æä¸ªçº¿ç¨åºç°å¼å¸¸æ¶ï¼å¯è½å¯¼è´æ´ä¸ªè¿ç¨éåºï¼ä¾å¦åå­è¶çï¼ã\n\né¤äºå¼å¥äºæ°çé®é¢ï¼tpc è¿æ¯å­å¨ cpu çº¿ç¨è°åº¦ååæ¢ä»£ä»·çé®é¢ãå æ­¤ï¼tpc æ¹æ¡æ¬è´¨ä¸å ppc æ¹æ¡åºæ¬ç±»ä¼¼ï¼å¨å¹¶åå ç¾è¿æ¥çåºæ¯ä¸ï¼åèæ´å¤å°æ¯éç¨ ppc çæ¹æ¡ï¼å ä¸º ppc æ¹æ¡ä¸ä¼ææ­»éçé£é©ï¼ä¹ä¸ä¼å¤è¿ç¨äºç¸å½±åï¼ç¨³å®æ§æ´é«ã\n\n# prethread\n\ntpc æ¨¡å¼ä¸­ï¼å½è¿æ¥è¿æ¥æ¶æåå»ºæ°ççº¿ç¨æ¥å¤çè¿æ¥è¯·æ±ï¼è½ç¶åå»ºçº¿ç¨æ¯åå»ºè¿ç¨è¦æ´å è½»éçº§ï¼ä½è¿æ¯æä¸å®çä»£ä»·ï¼è prethread æ¨¡å¼å°±æ¯ä¸ºäºè§£å³è¿ä¸ªé®é¢ã\n\nå prefork ç±»ä¼¼ï¼prethread æ¨¡å¼ä¼é¢ååå»ºçº¿ç¨ï¼ç¶åæå¼å§æ¥åç¨æ·çè¯·æ±ï¼å½ææ°çè¿æ¥è¿æ¥çæ¶åï¼å°±å¯ä»¥çå»åå»ºçº¿ç¨çæä½ï¼è®©ç¨æ·æè§æ´å¿«ãä½éªæ´å¥½ã\n\nç±äºå¤çº¿ç¨ä¹é´æ°æ®å±äº«åéä¿¡æ¯è¾æ¹ä¾¿ï¼å æ­¤å®éä¸ prethread çå®ç°æ¹å¼ç¸æ¯ prefork è¦çµæ´»ä¸äºï¼å¸¸è§çå®ç°æ¹å¼æä¸é¢å ç§ï¼\n\n * ä¸»è¿ç¨ acceptï¼ç¶åå°è¿æ¥äº¤ç»æä¸ªçº¿ç¨å¤çã\n * å­çº¿ç¨é½å°è¯å» acceptï¼æç»åªæä¸ä¸ªçº¿ç¨ accept æåï¼æ¹æ¡çåºæ¬ç¤ºæå¾å¦ä¸ï¼\n\n\n\napache æå¡å¨ç mpm worker æ¨¡å¼æ¬è´¨ä¸å°±æ¯ä¸ç§ prethread æ¹æ¡ï¼ä½ç¨å¾®åäºæ¹è¿ãapache æå¡å¨ä¼é¦ååå»ºå¤ä¸ªè¿ç¨ï¼æ¯ä¸ªè¿ç¨éé¢ååå»ºå¤ä¸ªçº¿ç¨ï¼è¿æ ·åä¸»è¦æ¯ä¸ºäºèèç¨³å®æ§ï¼å³ï¼å³ä½¿æä¸ªå­è¿ç¨éé¢çæä¸ªçº¿ç¨å¼å¸¸å¯¼è´æ´ä¸ªå­è¿ç¨éåºï¼è¿ä¼æå¶ä»å­è¿ç¨ç»§ç»­æä¾æå¡ï¼ä¸ä¼å¯¼è´æ´ä¸ªæå¡å¨å¨é¨ææã\n\nprethread çè®ºä¸å¯ä»¥æ¯ prefork æ¯ææ´å¤çå¹¶åè¿æ¥ï¼apache æå¡å¨ mpm worker æ¨¡å¼é»è®¤æ¯æ 16 Ã 25 = 400 ä¸ªå¹¶åå¤ççº¿ç¨ã\n\n# reactor\n\ni/o å¤è·¯å¤ç¨ææ¯å½çº³èµ·æ¥æä¸¤ä¸ªå³é®å®ç°ç¹ï¼\n\n * å½å¤æ¡è¿æ¥å±ç¨ä¸ä¸ªé»å¡å¯¹è±¡åï¼è¿ç¨åªéè¦å¨ä¸ä¸ªé»å¡å¯¹è±¡ä¸ç­å¾ï¼èæ é¡»åè½®è¯¢ææè¿æ¥ï¼å¸¸è§çå®ç°æ¹å¼æ selectãepollãkqueue ç­ã\n * å½ææ¡è¿æ¥ææ°çæ°æ®å¯ä»¥å¤çæ¶ï¼æä½ç³»ç»ä¼éç¥è¿ç¨ï¼è¿ç¨ä»é»å¡ç¶æè¿åï¼å¼å§è¿è¡ä¸å¡å¤çã\n\ni/o å¤è·¯å¤ç¨ç»åçº¿ç¨æ± ï¼å®ç¾å°è§£å³äº ppc å tpc çé®é¢\n\nreactor æ¨¡å¼çæ ¸å¿ç»æé¨ååæ¬ reactor åå¤çèµæºæ± ï¼è¿ç¨æ± æçº¿ç¨æ± ï¼ï¼å¶ä¸­ reactor è´è´£çå¬ååéäºä»¶ï¼å¤çèµæºæ± è´è´£å¤çäºä»¶ãåç reactor çå®ç°æ¯æ¯è¾ç®åçï¼ä½å®éä¸ç»åä¸åçä¸å¡åºæ¯ï¼reactor æ¨¡å¼çå·ä½å®ç°æ¹æ¡çµæ´»å¤åï¼ä¸»è¦ä½ç°å¨ï¼\n\n * reactor çæ°éå¯ä»¥ååï¼å¯ä»¥æ¯ä¸ä¸ª reactorï¼ä¹å¯ä»¥æ¯å¤ä¸ª reactorã\n * èµæºæ± çæ°éå¯ä»¥ååï¼ä»¥è¿ç¨ä¸ºä¾ï¼å¯ä»¥æ¯åä¸ªè¿ç¨ï¼ä¹å¯ä»¥æ¯å¤ä¸ªè¿ç¨ï¼çº¿ç¨ç±»ä¼¼ï¼ã\n\næç» reactor æ¨¡å¼æè¿ä¸ç§å¸åçå®ç°æ¹æ¡ï¼\n\n * å reactor åè¿ç¨ / çº¿ç¨ã\n * å reactor å¤çº¿ç¨ã\n * å¤ reactor å¤è¿ç¨ / çº¿ç¨ã\n\n\n# å¼æ­¥æä½\n\nå¼æ­¥å¤çä¸ä»å¯ä»¥åå°ç³»ç»æå¡é´çè¦ååº¦ï¼æé«æ©å±æ§ï¼äºå®ä¸ï¼å®è¿å¯ä»¥æé«ç³»ç»çæ§è½ãå¼æ­¥å¤çå¯ä»¥ææåå°ååºç­å¾æ¶é´ï¼ä»èæé«ååºéåº¦ã\n\nå¼æ­¥å¤çä¸è¬æ¯éè¿åå¸å¼æ¶æ¯éåçæ¹å¼ã\n\nå¼æ­¥å¤çå¯ä»¥è§£å³ä»¥ä¸é®é¢ï¼\n\n * å¼æ­¥ååº\n * åºç¨è§£è¦\n * æµéåé\n * æ¥å¿å¤ç\n * æ¶æ¯éè®¯\n\n\n# è´è½½åè¡¡\n\nå¨é«å¹¶ååºæ¯ä¸ï¼ä½¿ç¨è´è½½åè¡¡ææ¯ä¸ºä¸ä¸ªåºç¨æå»ºä¸ä¸ªç±å¤å°æå¡å¨ç»æçæå¡å¨éç¾¤ï¼å°å¹¶åè®¿é®è¯·æ±ååå°å¤å°æå¡å¨ä¸å¤çï¼é¿ååä¸æå¡å¨å è´è½½ååè¿å¤§èååºç¼æ¢ï¼ä½¿ç¨æ·è¯·æ±å·ææ´å¥½çååºå»¶è¿ç¹æ§ã\n\né«æ§è½éç¾¤çå¤ææ§ä¸»è¦ä½ç°å¨éè¦å¢å ä¸ä¸ªä»»å¡åéå¨ï¼ä»¥åä¸ºä»»å¡éæ©ä¸ä¸ªåéçä»»å¡åéç®æ³ã\n\n> ç¼å­è§£å³æ¹æ¡è¯·åèï¼è´è½½åè¡¡\n\n\n# ä»£ç ä¼å\n\n# å¤çº¿ç¨\n\nä»èµæºå©ç¨çè§åº¦çï¼ä½¿ç¨å¤çº¿ç¨çåå ä¸»è¦æä¸¤ä¸ªï¼io é»å¡åå¤ cpuã\n\nçº¿ç¨æ°å¹¶éè¶å¤è¶å¥½ï¼é£ä¹å¯å¨å¤å°çº¿ç¨åéå¢ï¼\n\næä¸ªåèå¬å¼ï¼\n\nå¯å¨çº¿ç¨æ° = (ä»»å¡æ§è¡æ¶é´ / (ä»»å¡æ§è¡æ¶é´ - io ç­å¾æ¶é´)) * cpu åæ ¸æ°\n\n\næä½³å¯å¨çº¿ç¨æ°å cpu åæ ¸æ°ææ­£æ¯ï¼å io é»å¡æ¶é´æåæ¯ã\n\n * å¦æä»»å¡é½æ¯ cpu è®¡ç®åä»»å¡ï¼é£ä¹çº¿ç¨æ°æå¤ä¸è¦è¶è¿ cpu åæ ¸æ°ï¼å ä¸ºå¯å¨åå¤çº¿ç¨ï¼cpu ä¹æ¥ä¸åè°åº¦ï¼\n * ç¸åï¼å¦ææ¯ä»»å¡éè¦ç­å¾ç£çæä½ï¼ç½ç»ååºï¼é£ä¹å¤å¯å¨çº¿ç¨æå©äºä»»å¡å¹¶åï¼æé«ç³»ç»ååéã\n\n# çº¿ç¨å®å¨é®é¢\n\nçº¿ç¨å®å¨é®é¢æ¶æå¤ä¸ªçº¿ç¨å¹¶åè®¿é®æä¸ªèµæºï¼å¯¼è´æ°æ®æ··ä¹±ã\n\nè§£å³ææ®µæï¼\n\n * å°å¯¹è±¡è®¾è®¡ä¸ºæ ç¶æå¯¹è±¡ - å¸ååºç¨ï¼servlet å°±æ¯æ ç¶æå¯¹è±¡ï¼å¯ä»¥è¢«æå¡å¨å¤çº¿ç¨å¹¶åè°ç¨å¤çç¨æ·è¯·æ±ã\n * ä½¿ç¨å±é¨å¯¹è±¡\n * å¹¶åè®¿é®èµæºæ¶ä½¿ç¨é - ä½æ¯å¼å¥éä¼äº§çæ§è½å¼éï¼åºå°½éä½¿ç¨è½»éçº§çéã\n\n# èµæºå¤ç¨\n\nåºè¯¥å°½éåå°é£äºå¼éå¾å¤§çç³»ç»èµæºçåå»ºåéæ¯ï¼å¦æ°æ®åºè¿æ¥ãç½ç»éä¿¡è¿æ¥ãçº¿ç¨ãå¤æå¯¹è±¡ç­ãä»ç¼ç¨è§åº¦ï¼èµæºå¤ç¨ä¸»è¦æä¸¤ç§æ¨¡å¼ï¼åä¾æ¨¡å¼åå¯¹è±¡æ± ã\n\n# æ°æ®ç»æ\n\næ ¹æ®å·ä½åºæ¯ï¼éæ©åéçæ°æ®ç»æã\n\n# åå¾åæ¶\n\nå¦æ web åºç¨è¿è¡å¨ jvm ç­å·æåå¾åæ¶åè½çç¯å¢ä¸­ï¼é£ä¹åå¾åæ¶å¯è½ä¼å¯¹ç³»ç»çæ§è½ç¹æ§äº§çå·¨å¤§å½±åãç«å³åå¾åæ¶æºå¶æå©äºç¨åºä¼åååæ°è°ä¼ï¼ä»¥åç¼ååå­å®å¨çä»£ç ã\n\n\n# å­å¨æ§è½ä¼å\n\n\n# æ°æ®åº\n\n# æ°æ®åºè¯»ååç¦»\n\nè¯»ååç¦»çåºæ¬åçæ¯å°æ°æ®åºè¯»åæä½åæ£å°ä¸åçèç¹ä¸\n\n> è¯¦ç»è§£å³æ¹æ¡åèï¼è¯»ååç¦»\n\n# æ°æ®åºååºåè¡¨\n\næ°æ®åçææç§æä¸ªç»´åº¦å°å­æ¾å¨åä¸æ°æ®åºä¸­çæ°æ®åæ£å°å­æ¾è³å¤ä¸ªæ°æ®åºæè¡¨ä¸­ä»¥è¾¾å°æåæ§è½ç¶é¢ä»¥åå¯ç¨æ§çææã\n\n> è¯¦ç»è§£å³æ¹æ¡åèï¼ååºåè¡¨\n\n# nosql\n\nå³ç³»åæ°æ®åºçä¼å¿å¨äºï¼å­å¨ç»æåæ°æ®ï¼æå©äºè¿è¡åç§å¤ææ¥è¯¢ã\n\nä½æ¯ï¼å®ä¹å­å¨ä¸äºç¼ºç¹ï¼\n\n * å³ç³»æ°æ®åºå­å¨çæ¯è¡è®°å½ï¼æ æ³å­å¨æ°æ®ç»æ\n * å³ç³»æ°æ®åºç schema æ©å±å¾ä¸æ¹ä¾¿\n * å³ç³»æ°æ®åºå¨å¤§æ°æ®åºæ¯ä¸ i/o è¾é«\n * å³ç³»æ°æ®åºçå¨ææç´¢åè½æ¯è¾å¼±\n\nä¸ºäºè§£å³ä¸è¿°é®é¢ï¼åå«è¯çäºè§£å³ä¸åé®é¢ç nosql æ°æ®åºã\n\nå¸¸è§ç nosql æ°æ®åºå¯ä»¥åä¸ºåç±»ï¼\n\n * k-v æ°æ®åºï¼kv å­å¨éå¸¸éåå­å¨ä¸æ¶åè¿å¤æ°æ®å³ç³»ä¸å¡å³ç³»çæ°æ®ï¼åæ¶è½ææåå°è¯»åç£ççæ¬¡æ°ï¼æ¯ sql æ°æ®åºå­å¨æ¥ææ´å¥½çè¯»åæ§è½ï¼è½å¤è§£å³å³ç³»åæ°æ®åºæ æ³å­å¨æ°æ®ç»æçé®é¢ãä»¥ redis ä¸ºä»£è¡¨ã\n * åå¼æ°æ®åºï¼éåäºæ¹éæ°æ®å¤çåå³æ¶æ¥è¯¢ï¼è§£å³å³ç³»æ°æ®åºå¤§æ°æ®åºæ¯ä¸ç i/o é®é¢ãä»¥ hbase ä¸ºä»£è¡¨ã\n * ææ¡£æ°æ®åºï¼ææ¡£æ°æ®åºï¼ä¹ç§°ä¸ºææ¡£åæ°æ®åºï¼æ¯æ¨å¨å°åç»æåæ°æ®å­å¨ä¸ºææ¡£çä¸ç§æ°æ®åºï¼å®å¯ä»¥è§£å³å³ç³»åæ°æ®åºè¡¨ç»æ schema æ©å±ä¸æ¹ä¾¿çé®é¢ãææ¡£æ°æ®åºéå¸¸ä»¥ json æ xml æ ¼å¼å­å¨æ°æ®ãä»¥ mongodb ä¸ºä»£è¡¨ã\n * å¨ææç´¢å¼æï¼è§£å³å³ç³»åæ°æ®åºå¨ææç´¢åè½è¾å¼±çé®é¢ãä»¥ elasticsearch ä¸ºä»£è¡¨ã\n\n> è¯¦æåèï¼nosql ææ¯éå\n\n\n# æä»¶å­å¨\n\n# æºæ¢°é®çååºæç¡¬ç\n\nèèä½¿ç¨åºæç¡¬çæ¿ä»£æºæ¢°é®çï¼å ä¸ºå®çè¯»åéåº¦æ´å¿«ã\n\n# b+æ°å lsm æ \n\nä¼ ç»å³ç³»æ°æ®åºçæ°æ®åºç´¢å¼ä¸è¬é½ä½¿ç¨ä¸¤çº§ç´¢å¼ç b+ æ  ç»æï¼æ çå±æ¬¡æå¤ä¸å±ãå æ­¤å¯è½éè¦ 5 æ¬¡ç£çè®¿é®æè½æ´æ°ä¸æ¡è®°å½ï¼ä¸æ¬¡ç£çè®¿é®è·å¾æ°æ®ç´¢å¼åè¡ idï¼ç¶ååè¿è¡ä¸æ¬¡æ°æ®æä»¶è¯»æä½åä¸æ¬¡æ°æ®æä»¶åæä½ï¼ã\n\nç±äºç£çè®¿é®æ¯éæºçï¼ä¼ ç»æºæ¢°é®çå¨æ°æ®éæºè®¿é®æ¶æ§è½è¾å·®ï¼æ¯æ¬¡æ°æ®è®¿é®é½éè¦å¤æ¬¡è®¿é®ç£çå½±åæ°æ®è®¿é®æ§è½ã\n\nè®¸å¤ nosql æ°æ®åºä¸­çç´¢å¼éç¨ lsm æ  ä½ä¸ºä¸»è¦æ°æ®ç»æãlsm æ å¯è§ä¸ºä¸ä¸ª n é¶åå¹¶æ ãæ°æ®åæä½é½å¨åå­ä¸­è¿è¡ãå¨ lsm æ ä¸è¿è¡ä¸æ¬¡æ°æ®æ´æ°ä¸éè¦ç£çè®¿é®ï¼éåº¦è¿å¿«äº b+ æ ã\n\n# raid å hdfs\n\nraid æ¯ redundant array of independent disks çç¼©åï¼ä¸­æç®ç§°ä¸ºç¬ç«åä½ç£çéµåã\n\nraid æ¯ä¸ç§æå¤åç¬ç«çç¡¬çï¼ç©çç¡¬çï¼æä¸åçæ¹å¼ç»åèµ·æ¥å½¢æä¸ä¸ªç¡¬çç»ï¼é»è¾ç¡¬çï¼ï¼ä»èæä¾æ¯åä¸ªç¡¬çæ´é«çå­å¨æ§è½åæä¾æ°æ®å¤ä»½ææ¯ã\n\nhdfs(åå¸å¼æä»¶ç³»ç») æ´è¢«å¤§åç½ç«æéçãå®å¯ä»¥éå mapreduce å¹¶åè®¡ç®ä»»å¡æ¡æ¶è¿è¡å¤§æ°æ®å¤çï¼å¯ä»¥å¨æ´ä¸ªéç¾¤ä¸å¹¶åè®¿é®ææç£çï¼æ é raid æ¯æã\n\nhdfs å¯¹æ°æ®å­å¨ç©ºé´çç®¡çä»¥æ°æ®åï¼blockï¼ä¸ºåä½ï¼é»è®¤ä¸º 64 mbãæä»¥ï¼hdfs æ´éåå­å¨è¾å¤§çæä»¶ã\n\n\n# åç«¯æ§è½ä¼å\n\n\n# æµè§å¨è®¿é®ä¼å\n\n 1. åå° http è¯·æ± - http è¯·æ±éè¦å»ºç«éä¿¡é¾è·¯ï¼è¿è¡æ°æ®ä¼ è¾ï¼å¼éé«æï¼æä»¥åå° http è¯·æ±æ°å¯ä»¥æææé«è®¿é®æ§è½ãåå° http çä¸»è¦ææ®µæ¯åå¹¶ cssãjavascriptãå¾çã\n 2. ä½¿ç¨æµè§å¨ç¼å­ - å ä¸ºéæèµæºæä»¶æ´æ°é¢çä½ï¼å¯ä»¥ç¼å­æµè§å¨ä¸­ä»¥æé«æ§è½ãè®¾ç½® http å¤´ä¸­ç cache-control å expires å±æ§ï¼å¯è®¾å®æµè§å¨ç¼å­ã\n 3. å¯ç¨åç¼© - å¨æå¡å¨ç«¯åç¼©éæèµæºæä»¶ï¼å¨æµè§å¨ç«¯è§£åç¼©ï¼å¯ä»¥ææåå°ä¼ è¾çæ°æ®éãç±äºææ¬æä»¶åç¼©çå¯è¾¾ 80% ä»¥ä¸ï¼æä»¥å¯ä»¥å¯¹éæèµæºï¼å¦ htmlãcssãjavascrip è¿è¡åç¼©ã\n 4. css æ¾å¨é¡µé¢æä¸é¢ï¼javascript æ¾å¨é¡µé¢æä¸é¢ - æµè§å¨ä¼å¨ä¸è½½å®å¨é¨ç css åæå¯¹æ´ä¸ªé¡µé¢è¿è¡æ¸²æï¼æä»¥æå¥½çåæ³æ¯å° css æ¾å¨é¡µé¢æä¸é¢ï¼è®©æµè§å¨å°½å¿«ä¸è½½ cssï¼javascript åç¸åï¼æµè§å¨å è½½ javascript åç«å³æ§è¡ï¼å¯è½ä¼é»å¡æ´ä¸ªé¡µé¢ï¼é æé¡µé¢æ¾ç¤ºç¼æ¢ï¼å æ­¤ javascript æå¥½æ¾å¨é¡µé¢æä¸é¢ã\n 5. åå° cookie ä¼ è¾ - cookie åå«å¨ http æ¯æ¬¡çè¯·æ±åååºä¸­ï¼å¤ªå¤§ç cookie ä¼ä¸¥éå½±åæ°æ®ä¼ è¾ã\n\n\n# cdn\n\ncdn ä¸è¬ç¼å­çæ¯éæèµæºã\n\ncdn çæ¬è´¨ä»ç¶æ¯ä¸ä¸ªç¼å­ï¼èä¸å°æ°æ®ç¼å­å¨ç¦»ç¨æ·æè¿çå°æ¹ï¼ä½¿ç¨æ·å·²æå¿«éåº¦è·åæ°æ®ï¼å³æè°ç½ç»è®¿é®ç¬¬ä¸è·³ã\n\n\n\n\n# ååä»£ç\n\nä¼ ç»ä»£çæå¡å¨ä½äºæµè§å¨ä¸ä¾§ï¼ä»£çæµè§å¨å° http è¯·æ±åéå°äºèç½ä¸ï¼èååä»£çæå¡å¨ä½äºç½ç«æºæ¿ä¸ä¾§ï¼ä»£çç½ç«æå¡å¨æ¥æ¶ http è¯·æ±ã\n\n\n\nååä»£çæå¡å¨å¯ä»¥éç½®ç¼å­åè½å é web è¯·æ±ï¼å½ç¨æ·ç¬¬ä¸æ¬¡è®¿é®éæåå®¹æ¶ï¼éæåå®¹å°±ä¼è¢«ç¼å­å¨ååä»£çæå¡å¨ä¸ã\n\nååä»£çè¿å¯ä»¥å®ç°è´è½½åè¡¡ï¼éè¿è´è½½åè¡¡æå»ºçéç¾¤å¯ä»¥æé«ç³»ç»æ»ä½å¤çè½åã\n\nå ä¸ºææè¯·æ±é½å¿é¡»åç»è¿ååä»£çæå¡å¨ï¼æä»¥å¯ä»¥å±è½ä¸äºæ»å» ipï¼è¾¾å°ä¿æ¤ç½ç«å®å¨çä½ç¨ã\n\n\n# åèèµæ\n\n * ãå¤§åç½ç«ææ¯æ¶æï¼æ ¸å¿åçä¸æ¡ä¾åæã\n * java æ§è½è°ä¼å®æ",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"ç³»ç»é«å¯ç¨æ¶æ",frontmatter:{title:"ç³»ç»é«å¯ç¨æ¶æ",date:"2018-07-05T15:11:00.000Z",categories:["è®¾è®¡","æ¶æ","ç»¼å"],tags:["æ¶æ","é«å¯ç¨"],permalink:"/pages/9a462f/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/01.%E6%9E%B6%E6%9E%84/00.%E7%BB%BC%E5%90%88/04.%E7%B3%BB%E7%BB%9F%E9%AB%98%E5%8F%AF%E7%94%A8%E6%9E%B6%E6%9E%84.html",relativePath:"03.è®¾è®¡/01.æ¶æ/00.ç»¼å/04.ç³»ç»é«å¯ç¨æ¶æ.md",key:"v-19adc5ec",path:"/pages/9a462f/",headers:[{level:2,title:"é«å¯ç¨æ¶æç®ä»",slug:"é«å¯ç¨æ¶æç®ä»",normalizedTitle:"é«å¯ç¨æ¶æç®ä»",charIndex:14},{level:3,title:"ç³»ç»å¯ç¨æ§çåº¦é",slug:"ç³»ç»å¯ç¨æ§çåº¦é",normalizedTitle:"ç³»ç»å¯ç¨æ§çåº¦é",charIndex:26},{level:3,title:"æéåå ",slug:"æéåå ",normalizedTitle:"æéåå ",charIndex:521},{level:3,title:"ä»ä¹æ¯é«å¯ç¨çç³»ç»æ¶æ",slug:"ä»ä¹æ¯é«å¯ç¨çç³»ç»æ¶æ",normalizedTitle:"ä»ä¹æ¯é«å¯ç¨çç³»ç»æ¶æ",charIndex:1003},{level:2,title:"é«å¯ç¨æ¶æçè®º",slug:"é«å¯ç¨æ¶æçè®º",normalizedTitle:"é«å¯ç¨æ¶æçè®º",charIndex:1488},{level:2,title:"æ¶ææ¨¡å¼",slug:"æ¶ææ¨¡å¼",normalizedTitle:"æ¶ææ¨¡å¼",charIndex:2030},{level:3,title:"ä¸»å¤å¤å¶",slug:"ä¸»å¤å¤å¶",normalizedTitle:"ä¸»å¤å¤å¶",charIndex:2039},{level:3,title:"ä¸»ä»å¤å¶",slug:"ä¸»ä»å¤å¶",normalizedTitle:"ä¸»ä»å¤å¶",charIndex:2490},{level:3,title:"éç¾¤+ååº",slug:"éç¾¤-ååº",normalizedTitle:"éç¾¤+ååº",charIndex:2924},{level:2,title:"é«å¯ç¨çåºç¨",slug:"é«å¯ç¨çåºç¨",normalizedTitle:"é«å¯ç¨çåºç¨",charIndex:1388},{level:3,title:"è´è½½åè¡¡",slug:"è´è½½åè¡¡",normalizedTitle:"è´è½½åè¡¡",charIndex:1403},{level:3,title:"åå¸å¼ Session",slug:"åå¸å¼-session",normalizedTitle:"åå¸å¼ session",charIndex:3285},{level:2,title:"é«å¯ç¨çæå¡",slug:"é«å¯ç¨çæå¡",normalizedTitle:"é«å¯ç¨çæå¡",charIndex:1411},{level:3,title:"åçº§ç®¡ç",slug:"åçº§ç®¡ç",normalizedTitle:"åçº§ç®¡ç",charIndex:1426},{level:3,title:"è¶æ¶éè¯",slug:"è¶æ¶éè¯",normalizedTitle:"è¶æ¶éè¯",charIndex:1431},{level:3,title:"å¼æ­¥è°ç¨",slug:"å¼æ­¥è°ç¨",normalizedTitle:"å¼æ­¥è°ç¨",charIndex:1436},{level:3,title:"è¿è½½ä¿æ¤",slug:"è¿è½½ä¿æ¤",normalizedTitle:"è¿è½½ä¿æ¤",charIndex:4011},{level:4,title:"éæµ",slug:"éæµ",normalizedTitle:"éæµ",charIndex:1441},{level:5,title:"åºäºè¯·æ±éæµ",slug:"åºäºè¯·æ±éæµ",normalizedTitle:"åºäºè¯·æ±éæµ",charIndex:4611},{level:5,title:"åºäºèµæºéæµ",slug:"åºäºèµæºéæµ",normalizedTitle:"åºäºèµæºéæµ",charIndex:4618},{level:4,title:"éçº§",slug:"éçº§",normalizedTitle:"éçº§",charIndex:4029},{level:4,title:"çæ­",slug:"çæ­",normalizedTitle:"çæ­",charIndex:4501},{level:3,title:"å¹ç­æ§è®¾è®¡",slug:"å¹ç­æ§è®¾è®¡",normalizedTitle:"å¹ç­æ§è®¾è®¡",charIndex:1450},{level:2,title:"é«å¯ç¨çå­å¨",slug:"é«å¯ç¨çå­å¨",normalizedTitle:"é«å¯ç¨çå­å¨",charIndex:5822},{level:3,title:"æ°æ®å¤ä»½",slug:"æ°æ®å¤ä»½",normalizedTitle:"æ°æ®å¤ä»½",charIndex:1474},{level:3,title:"å¤±æè½¬ç§»",slug:"å¤±æè½¬ç§»",normalizedTitle:"å¤±æè½¬ç§»",charIndex:1244},{level:4,title:"å¤±æç¡®è®¤",slug:"å¤±æç¡®è®¤",normalizedTitle:"å¤±æç¡®è®¤",charIndex:6334},{level:4,title:"è®¿é®è½¬ç§»",slug:"è®¿é®è½¬ç§»",normalizedTitle:"è®¿é®è½¬ç§»",charIndex:6467},{level:4,title:"æ°æ®æ¢å¤",slug:"æ°æ®æ¢å¤",normalizedTitle:"æ°æ®æ¢å¤",charIndex:6580},{level:2,title:"è¾å©ææ®µ",slug:"è¾å©ææ®µ",normalizedTitle:"è¾å©ææ®µ",charIndex:6700},{level:3,title:"å¼å°å¤æ´»",slug:"å¼å°å¤æ´»",normalizedTitle:"å¼å°å¤æ´»",charIndex:6709},{level:3,title:"åå¸æµç¨",slug:"åå¸æµç¨",normalizedTitle:"åå¸æµç¨",charIndex:7248},{level:3,title:"ç³»ç»çæ§",slug:"ç³»ç»çæ§",normalizedTitle:"ç³»ç»çæ§",charIndex:7317},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:7981}],headersStr:"é«å¯ç¨æ¶æç®ä» ç³»ç»å¯ç¨æ§çåº¦é æéåå  ä»ä¹æ¯é«å¯ç¨çç³»ç»æ¶æ é«å¯ç¨æ¶æçè®º æ¶ææ¨¡å¼ ä¸»å¤å¤å¶ ä¸»ä»å¤å¶ éç¾¤+ååº é«å¯ç¨çåºç¨ è´è½½åè¡¡ åå¸å¼ Session é«å¯ç¨çæå¡ åçº§ç®¡ç è¶æ¶éè¯ å¼æ­¥è°ç¨ è¿è½½ä¿æ¤ éæµ åºäºè¯·æ±éæµ åºäºèµæºéæµ éçº§ çæ­ å¹ç­æ§è®¾è®¡ é«å¯ç¨çå­å¨ æ°æ®å¤ä»½ å¤±æè½¬ç§» å¤±æç¡®è®¤ è®¿é®è½¬ç§» æ°æ®æ¢å¤ è¾å©ææ®µ å¼å°å¤æ´» åå¸æµç¨ ç³»ç»çæ§ åèèµæ",content:"# ç³»ç»é«å¯ç¨æ¶æ\n\n\n# é«å¯ç¨æ¶æç®ä»\n\n\n# ç³»ç»å¯ç¨æ§çåº¦é\n\nç³»ç»ä¸å¯ç¨ä¹è¢«ç§°ä½ç³»ç»æéï¼ä¸çéå¸¸ç¨å¤ä¸ª 9 æ¥è¡¡éç³»ç»çå¯ç¨æ§ãå¦ QQ çå¯ç¨æ§ä¸º 4 ä¸ª 9ï¼å³ 99.99% å¯ç¨ã\n\nç½ç«ä¸å¯ç¨æ¶é´ = æéä¿®å¤æ¶é´ç¹ - æéåç°æ¶é´ç¹\nç½ç«å¹´åº¦å¯ç¨æ§ææ  = (1 - ç½ç«ä¸å¯ç¨æ¶é´/å¹´åº¦æ»æ¶é´) * 100%\n\n\nå¯ç¨æ§è®¡éè¡¨ï¼\n\nå¯ç¨æ§çº§å«   ç³»ç»å¯ç¨æ§%    å®æºæ¶é´/å¹´     å®æºæ¶é´/æ    å®æºæ¶é´/å¨    å®æºæ¶é´/å¤©\nä¸å¯ç¨     90%       36.5 å¤©     73 å°æ¶     16.8 å°æ¶   144 åé\nåºæ¬å¯ç¨    99%       87.6 å°æ¶    7.3 å°æ¶    1.68 å°æ¶   14.4 åé\nè¾é«å¯ç¨    99.9%     8.76 å°æ¶    43.8 åé   10.1 åé   1.44 åé\né«å¯ç¨     99.99%    52.56 åé   4.38 åé   1.01 ç§    8.64 ç§\næé«å¯ç¨    99.999%   5.26 åé    26.28 ç§   6.06 ç§    0.86 ç§\n\n\n# æéåå \n\nç³»ç»å®æºåå ä¸»è¦æä»¥ä¸ï¼\n\næ è®¡åç\n\n * ç³»ç»çº§æéï¼åæ¬ä¸»æºãæä½ç³»ç»ãä¸­é´ä»¶ãæ°æ®åºãç½ç»ãçµæºä»¥åå¤å´è®¾å¤ã\n * æ°æ®åä¸­ä»çæéï¼åæ¬äººåè¯¯æä½ãç¡¬çæéãæ°æ®ä¹±äºã\n * è¿æèªç¶ç¾å®³ãäººä¸ºç ´åï¼ä»¥åä¾çµé®é¢ç­ã\n\næè®¡åç\n\n * æ¥å¸¸ä»»å¡ï¼å¤ä»½ï¼å®¹éè§åï¼ç¨æ·åå®å¨ç®¡çï¼åå°æ¹å¤çåºç¨ã\n * è¿ç»´ç¸å³ï¼æ°æ®åºç»´æ¤ãåºç¨ç»´æ¤ãä¸­é´ä»¶ç»´æ¤ãæä½ç³»ç»ç»´æ¤ãç½ç»ç»´æ¤ã\n * åçº§ç¸å³ï¼æ°æ®åºãåºç¨ãä¸­é´ä»¶ãæä½ç³»ç»ãç½ç»ï¼åæ¬ç¡¬ä»¶åçº§ã\n\næä»¬åç»å®ä»¬å½ä¸ªç±»ã\n\n 1. ç½ç»é®é¢ãç½ç»é¾æ¥åºç°é®é¢ï¼ç½ç»å¸¦å®½åºç°æ¥å¡â¦â¦\n 2. æ§è½é®é¢ãæ°æ®åºæ¢ SQLãJava Full GCãç¡¬ç IO è¿å¤§ãCPU é£é«ãåå­ä¸è¶³â¦â¦\n 3. å®å¨é®é¢ãè¢«ç½ç»æ»å»ï¼å¦ DDoS ç­ã\n 4. è¿ç»´é®é¢ãç³»ç»æ»æ¯å¨è¢«æ´æ°åä¿®æ¹ï¼æ¶æä¹å¨ä¸æ­å°è¢«è°æ´ï¼çæ§é®é¢â¦â¦\n 5. ç®¡çé®é¢ãæ²¡ææ¢³çåºå³é®æå¡ä»¥åæå¡çä¾èµå³ç³»ï¼è¿è¡ä¿¡æ¯æ²¡æåæ§å¶ç³»ç»åæ­¥â¦â¦\n 6. ç¡¬ä»¶é®é¢ãç¡¬çæåãç½å¡åºé®é¢ãäº¤æ¢æºåºé®é¢ãæºæ¿æçµãæææºé®é¢â¦â¦\n\n\n# ä»ä¹æ¯é«å¯ç¨çç³»ç»æ¶æ\n\néå¸¸ï¼ä¼ä¸çº§åºç¨ç³»ç»ä¸ºæé«ç³»ç»å¯ç¨æ§ï¼ä¼éç¨è¾æè´µçè½¯ç¡¬ä»¶è®¾å¤ï¼å½ç¶è¿æ ·çè®¾å¤ä¹æ¯è¾ç¨³å®ã\n\näºèç½å¬å¸æä¸äºåååå¬å¸åºäºææ¬èèï¼æ´å¤éç¨ PC çº§è½¯ç¡¬ä»¶è®¾å¤ï¼èçº¦ææ¬æä»åºçä»£ä»·å°±æ¯è®¾å¤è¾ä¸ºä¸ç¨³å®ãæå¡å¨ä¸å¹´ä¸­åºç°å æ¬¡å®æºï¼é«å¼ºåº¦è¯»åç£çå¯¼è´ç£çæåç­äºä»¶å®å±æ­£å¸¸ã\n\nç»¼ä¸ï¼ç¡¬ä»¶åºç°æéåºè§ä¸ºå¿ç¶çï¼èé«å¯ç¨çç³»ç»æ¶æè®¾è®¡ç®æ å°±æ¯è¦ä¿è¯å½åºç°ç¡¬ä»¶æéæ¶ï¼æå¡ä¾ç¶å¯ç¨ï¼æ°æ®ä¾ç¶è½å¤ä¿å­å¹¶è¢«è®¿é®ãå®ç°é«å¯ç¨çç³»ç»æ¶æçä¸»è¦ææ®µæ¯æ°æ®åæå¡çåä½å¤ä»½åå¤±æè½¬ç§»ï¼ä¸æ¦æäºæå¡å¨å®æºï¼å°±å°æå¡åæ¢å°å¶ä»å¯ç¨çæå¡å¨ä¸ï¼å¦æç£çæåï¼åä»å¤ä»½çç£çè¯»åæ°æ®ã\n\nå¤§åç³»ç»çåå±æ¶æåç©çæå¡å¨çåå¸å¼é¨ç½²ä½¿å¾ä½äºä¸åå±æ¬¡çæå¡å¨å·æä¸åçå¯ç¨æ§ç¹ç¹ãå³é­æå¡ææå¡å¨å®æºæ¶äº§ççå½±åä¹ä¸ç¸åï¼é«å¯ç¨çè§£å³æ¹æ¡ä¹å·®å¼çå¤§ãå¤§è´å¯ä»¥åä¸ºï¼\n\n * é«å¯ç¨çåºç¨ - ä¸»è¦ææ®µæ¯ï¼è´è½½åè¡¡\n * é«å¯ç¨çæå¡ - ä¸»è¦ææ®µæ¯ï¼åçº§ç®¡çãè¶æ¶éè¯ãå¼æ­¥è°ç¨ãéæµãéè§£ãæ­è·¯ãå¹ç­æ§è®¾è®¡\n * é«å¯ç¨çæ°æ® - ä¸»è¦ææ®µæ¯ï¼æ°æ®å¤ä»½åå¤±æè½¬ç§»\n\n\n# é«å¯ç¨æ¶æçè®º\n\nå­¦ä¹ é«å¯ç¨æ¶æï¼é¦åéè¦äºè§£åå¸å¼åºç¡çè®ºï¼CAP å BASEã\n\nç¶åï¼å¾å¤èåçåå¸å¼ç³»ç»ï¼é½å©ç¨éä¸¾æºå¶ï¼æ¥ä¿è¯ä¸»èç¹å®æºæ¶çæéæ¢å¤ãå¦æè¦æ·±å¥çè§£éä¸¾æºå¶ï¼æå¿è¦äºè§£ï¼Paxos ç®æ³ å Raft ç®æ³ãPaxos å Raft æ¯ä¸ºäºå®ç°åå¸å¼ç³»ç»ä¸­é«å¯ç¨æ¶æèæåºçå±è¯æ§ç®æ³ï¼å·²ç»æä¸ºä¸çæ åã\n\nCAP å®çåç§°ä¸º CAP ååï¼æçæ¯ï¼å¨ä¸ä¸ªåå¸å¼ç³»ç»ä¸­ï¼ ä¸è´æ§ï¼Cï¼Consistencyï¼ãå¯ç¨æ§ï¼Aï¼Availabilityï¼ å ååºå®¹å¿æ§ï¼Pï¼Partition Toleranceï¼ï¼æå¤åªè½åæ¶æ»¡è¶³å¶ä¸­ä¸¤é¡¹ã\n\nBASE æ¯ åºæ¬å¯ç¨ï¼Basically Availableï¼ãè½¯ç¶æï¼Soft Stateï¼ å æç»ä¸è´æ§ï¼Eventually Consistentï¼ ä¸ä¸ªç­è¯­çç¼©åãBASE çè®ºæ¯å¯¹ CAP ä¸­ä¸è´æ§åå¯ç¨æ§æè¡¡çç»æï¼å®ççè®ºçæ ¸å¿ææ³æ¯ï¼å³ä½¿æ æ³åå°å¼ºä¸è´æ§ï¼ä½æ¯ä¸ªåºç¨é½å¯ä»¥æ ¹æ®èªèº«ä¸å¡ç¹ç¹ï¼éç¨éå½çæ¹å¼æ¥ä½¿ç³»ç»è¾¾å°æç»ä¸è´æ§ã\n\n> CAP å BASE çè®ºçè¯¦ç»è¯´æè¯·åèï¼åå¸å¼ä¸è´æ§\n> \n> Paxos å Raft çè¯¦ç»è¯´æè¯·åèï¼Paxos ç®æ³ å Raft ç®æ³\n\n\n# æ¶ææ¨¡å¼\n\n\n# ä¸»å¤å¤å¶\n\nä¸»å¤å¤å¶æ¯æå¸¸è§ä¹æ¯æç®åçä¸ç§å­å¨é«å¯ç¨æ¹æ¡ï¼å ä¹ææçå­å¨ç³»ç»é½æä¾äºä¸»å¤å¤å¶çåè½ï¼ä¾å¦ MySQLãRedisãMongoDB ç­ã\n\nä¸»å¤å¤å¶è¦ç¹ï¼\n\n * å­å¨ä¸ä¸»å¤å¤ã\n * ä¸»æºè´è´£è¯»&åï¼å¹¶å®æå¤å¶æ°æ®ç»å¤æºã\n * ä¸æ¦ä¸»æºå®æºï¼å¯ä»¥éè¿äººå·¥ææ®µï¼å°å¶ä¸­ä¸ä¸ªå¤èç¹ä½ä¸ºä¸»èç¹ã\n\n\n\nä¼ç¹\n\n * ä¸»å¤å¤å¶æ¶æä¸­ï¼å®¢æ·ç«¯å¯ä»¥ä¸æç¥å¤æºçå­å¨ãå³ä½¿ç¾é¾æ¢å¤åï¼åæ¥çå¤æºè¢«äººå·¥ä¿®æ¹ä¸ºä¸»æºåï¼å¯¹äºå®¢æ·ç«¯æ¥è¯´ï¼åªæ¯è®¤ä¸ºä¸»æºçå°åæ¢äºèå·²ï¼æ é¡»ç¥éæ¯åæ¥çå¤æºåçº§ä¸ºä¸»æºã\n * ä¸»å¤å¤å¶æ¶æä¸­ï¼ä¸»æºåå¤æºä¹é´ï¼åªéè¦è¿è¡æ°æ®å¤å¶å³å¯ï¼æ é¡»è¿è¡ç¶æå¤æ­åä¸»å¤åæ¢è¿ç±»å¤æçæä½ã\n\nç¼ºç¹\n\n * ä¸»å¤å¤å¶æ¶æä¸­ï¼æéåéè¦äººå·¥å¹²é¢ï¼æ æ³èªå¨æ¢å¤ã\n\néç¨åºæ¯\n\nç»¼åä¸»å¤å¤å¶æ¶æçä¼ç¼ºç¹ï¼åé¨çåå°ç®¡çç³»ç»ä½¿ç¨ä¸»å¤å¤å¶æ¶æçæåµä¼æ¯è¾å¤ï¼ä¾å¦å­¦çç®¡çç³»ç»ãåå·¥ç®¡çç³»ç»ãåæç®¡çç³»ç»ç­ï¼å ä¸ºè¿ç±»ç³»ç»çæ°æ®åæ´é¢çä½ï¼å³ä½¿å¨æäºåºæ¯ä¸ä¸¢å¤±æ°æ®ï¼ä¹å¯ä»¥éè¿äººå·¥çæ¹å¼è¡¥å¨ã\n\n\n# ä¸»ä»å¤å¶\n\nä¸»ä»å¤å¶åä¸»å¤å¤å¶åªæä¸å­ä¹å·®ï¼åºå«å¨äºï¼ä¸»ä»å¤å¶æ¨¡å¼ä¸­ï¼ä»æºè¦æ¿æè¯»æä½ã\n\nä¸»ä»å¤å¶è¦ç¹ï¼\n\n * å­å¨ä¸ä¸»å¤ä»ã\n * ä¸»æºè´è´£è¯»&åï¼å¹¶å®æå¤å¶æ°æ®ç»ä»æºã\n * ä»æºåªè´è´£è¯»ã\n * ä¸æ¦ä¸»æºå®æºï¼å¯ä»¥éè¿äººå·¥ææ®µï¼å°å¶ä¸­ä¸ä¸ªä»èç¹ä½ä¸ºä¸»èç¹ã\n\n\n\nä¼ç¹\n\n * ä¸»ä»å¤å¶æ¶æä¸­ï¼ä¸»æºæéæ¶ï¼è¯»æä½ç¸å³çä¸å¡å¯ä»¥ç»§ç»­è¿è¡ã\n * ä¸»ä»å¤å¶æ¶æä¸­ï¼ä»æºæä¾è¯»æä½ï¼åæ¥äºç¡¬ä»¶çæ§è½ã\n\nç¼ºç¹\n\n * ä¸»ä»å¤å¶æ¶æä¸­ï¼å®¢æ·ç«¯éè¦æç¥ä¸»ä»å³ç³»ï¼å¹¶å°ä¸åçæä½åç»ä¸åçæºå¨è¿è¡å¤çï¼å¤æåº¦æ¯ä¸»å¤å¤å¶è¦é«ã\n * ä¸»ä»å¤å¶æ¶æä¸­ï¼ä»æºæä¾è¯»ä¸å¡ï¼å¦æä¸»ä»å¤å¶å»¶è¿æ¯è¾å¤§ï¼ä¸å¡ä¼å ä¸ºæ°æ®ä¸ä¸è´åºç°é®é¢ã\n * ä¸»ä»å¤å¶æ¶æä¸­ï¼æéæ¶éè¦äººå·¥å¹²é¢ã\n\néç¨åºæ¯\n\nç»¼åä¸»ä»å¤å¶çä¼ç¼ºç¹ï¼ä¸è¬æåµä¸ï¼åå°è¯»å¤çä¸å¡ä½¿ç¨ä¸»ä»å¤å¶çå­å¨æ¶ææ¯è¾å¤ãä¾å¦ï¼è®ºåãBBSãæ°é»ç½ç«è¿ç±»ä¸å¡ï¼æ­¤ç±»ä¸å¡çè¯»æä½æ°éæ¯åæä½æ°éç 10 åçè³ 100 åä»¥ä¸ã\n\n\n# éç¾¤+ååº\n\nå¨ä¸»å¤å¤å¶åä¸»ä»å¤å¶æ¨¡å¼ä¸­ï¼é½ç±ä¸ä¸ªå±æ§é®é¢ï¼\n\næ¯ä¸ªæºå¨ä¸å­å¨çé½æ¯å¨éæ°æ®ãä½æ¯ï¼åæºçæ°æ®å­å¨éæ»æ¯æä¸éçï¼å½æ°æ®éä¸åä¸º TB çº§çè³ PB çº§æ°æ®ï¼åæºç»ç©¶ææ æ³æ¯æçæ¶åãè¿æ¶ï¼å°±éè¦å¯¹æ°æ®è¿è¡åçï¼shardingï¼ã\n\nåçåçèç¹å¯ä»¥è§ä¸ºä¸ä¸ªç¬ç«çå­éï¼éå¯¹å­éï¼ä»»ç¶éè¦ä¿è¯é«å¯ç¨ã\n\n\n\n\n# é«å¯ç¨çåºç¨\n\nåºç¨å±ä¸»è¦å¤çç½ç«åºç¨çä¸å¡é»è¾ï¼ä¸ä¸ªæ¾èçç¹ç¹æ¯åºç¨ç æ ç¶æ æ§ã\n\næè°ç æ ç¶æ çåºç¨æ¯æåºç¨æå¡å¨ä¸ä¿å­ä¸å¡çä¸ä¸æä¿¡æ¯ï¼èä»æ ¹æ®æ¯æ¬¡è¯·æ±æäº¤çæ°æ®è¿è¡ç¸åºçä¸å¡é»è¾å¤çï¼å¤ä¸ªæå¡å®ä¾ä¹é´å®å¨å¯¹ç­ï¼è¯·æ±æäº¤å°ä»»ææå¡å¨ï¼å¤çç»æé½æ¯å®å¨ä¸æ ·çã\n\nç±äºæ ç¶æåºç¨ï¼åå®ä¾ä¹é´ä¸ç¨èèæ°æ®ä¸è´æ§é®é¢ï¼æä»¥å¶é«å¯ç¨æ¹æ¡ç¸å¯¹ç®åãä¸»è¦ææ®µæ¯ï¼\n\n * è´è½½åè¡¡\n * åå¸å¼ Session\n\n\n# è´è½½åè¡¡\n\nè´è½½åè¡¡ï¼é¡¾åæä¹ï¼ä¸»è¦ä½¿ç¨å¨ä¸å¡éåæ°æ®éè¾é«çæåµä¸ï¼å½åå°æå¡å¨ä¸è¶³ä»¥æ¿æææçè´è½½ååæ¶ï¼éè¿è´è½½åè¡¡ææ®µï¼å°æµéåæ°æ®åæå°ä¸ä¸ªéç¾¤ç»æçå¤å°æå¡å¨ä¸ï¼ä»¥æé«æ´ä½çè´è½½å¤çè½åã\n\næ ç¶æåºç¨çå¤±æè½¬ç§»å¯ä»¥å©ç¨è´è½½åè¡¡æ¥å®ç°ã\n\næ ç¶æçåºç¨å®ç°é«å¯ç¨æ¶æååç®åï¼ç±äºæå¡å¨ä¸ä¿å­è¯·æ±ç¶æï¼é£ä¹æææå¡å¨å®å¨å¯¹ç­ï¼å¨ä»»æèç¹æ§è¡åæ ·çè¯·æ±ï¼ç»ææ»æ¯ä¸è´çãè¿ç§æåµä¸ï¼æç®åçé«å¯ç¨æ¹æ¡å°±æ¯ä½¿ç¨è´è½½åè¡¡ã\n\n> è´è½½åè¡¡åçå¯ä»¥åèï¼è´è½½åè¡¡åºæ¬åç\n\n\n# åå¸å¼ Session\n\nåºç¨æå¡å¨çé«å¯ç¨æ¶æè®¾è®¡ä¸»è¦åºäºæå¡æ ç¶æè¿ä¸ç¹æ§ãäºå®ä¸ï¼ä¸å¡æ»æ¯æç¶æçï¼å¦è´­ç©è½¦è®°å½ç¨æ·çè´­ä¹°ä¿¡æ¯ï¼ç¨æ·çç»å½ç¶æï¼ææ°åå¸çæ¶æ¯ç­ç­ã\n\nå¨åå¸å¼åºæ¯ä¸ï¼ä¸ä¸ªç¨æ·ç Session å¦æåªå­å¨å¨ä¸ä¸ªæå¡å¨ä¸ï¼é£ä¹å½è´è½½åè¡¡å¨æç¨æ·çä¸ä¸ä¸ªè¯·æ±è½¬åå°å¦ä¸ä¸ªæå¡å¨ä¸ï¼è¯¥æå¡å¨æ²¡æç¨æ·ç Sessionï¼å°±å¯è½å¯¼è´ç¨æ·éè¦éæ°è¿è¡ç»å½ç­æä½ã\n\nä¸ºäºè§£å³åå¸å¼ Session é®é¢ï¼å¸¸è§çè§£å³æ¹æ¡æï¼\n\n * ç²æ§ session\n * åºç¨æå¡å¨é´ç session å¤å¶å±äº«\n * åºäºç¼å­ç session å±äº« â\n\n> åå¸å¼ä¼è¯åçå¯ä»¥åèï¼åå¸å¼ä¼è¯åºæ¬åç\n\n\n# é«å¯ç¨çæå¡\n\nå¯å¤ç¨çæå¡ä¸ºä¸å¡äº§åæä¾åºç¡å¬å±æå¡ï¼å¤§åç³»ç»ä¸­è¿äºæå¡éå¸¸é½ç¬ç«åå¸å¼é¨ç½²ï¼è¢«å·ä½åºç¨è¿ç¨è°ç¨ãå¯å¤ç¨çæå¡ååºç¨ä¸æ ·ï¼ä¸è¬ä¹æ¯æ ç¶æçæå¡ï¼å æ­¤ï¼åæ ·å¯ä»¥ä½¿ç¨è´è½½åè¡¡çå¤±æè½¬ç§»ç­ç¥æ¥å®ç°é«å¯ç¨ã\n\né¤æ­¤ä»¥å¤ï¼è¿æä»¥ä¸ææ®µæ¥ä¿è¯æå¡çé«å¯ç¨ï¼\n\n * åçº§ç®¡ç\n * è¶æ¶éè¯\n * å¼æ­¥è°ç¨\n * è¿è½½ä¿æ¤\n   * éæµ\n   * éçº§\n   * æ­è·¯\n * å¹ç­æ§è®¾è®¡\n\n\n# åçº§ç®¡ç\n\nå°æå¡æ ¹æ®ä¸å¡éè¦æ§è¿è¡åçº§ç®¡çï¼æ ¸å¿åºç¨åæå¡ä¼åä½¿ç¨æ´å¥½çç¡¬ä»¶ï¼å¨è¿ç»´ååºéåº¦ä¸ä¹æ ¼å¤è¿éã\n\nå¨æå¡é¨ç½²ä¸è¿è¡å¿è¦çéç¦»ï¼é¿åæéçè¿éååºãä½ä¼åçº§çæå¡éè¿å¯å¨ä¸åççº¿ç¨æé¨ç½²å¨ä¸åçèææºä¸è¿è¡éç¦»ï¼èé«ä¼åçº§çæå¡åéè¦é¨ç½²å¨ä¸åçç©çæºä¸ï¼æ ¸å¿æå¡åæ°æ®çè³è¦é¨ç½²å¨ä¸åå°åçæ°æ®ä¸­å¿ã\n\n\n# è¶æ¶éè¯\n\nç±äºæå¡å¨å®æºãçº¿ç¨æ­»éç­åå ï¼å¯è½å¯¼è´åºç¨ç¨åºå¯¹æå¡ç«¯çè°ç¨å¤±å»ååºãæä»¥æå¿è¦å¼å¥è¶æ¶æºå¶ï¼ä¸æ¦è°ç¨è¶æ¶ï¼æå¡åæ¡æ¶æåºå¼å¸¸ï¼åºç¨ç¨åºæ ¹æ®æå¡è°åº¦ç­ç¥ï¼éæ©éè¯æè¯·æ±è½¬ç§»å°å¶ä»æºå¨ä¸ã\n\n\n# å¼æ­¥è°ç¨\n\nå¯¹äºéè¦å³æ¶ååºçä¸å¡ï¼åºç¨å¨è°ç¨æå¡æ¶å¯ä»¥éè¿æ¶æ¯éåç­å¼æ­¥æ¹å¼å®æï¼é¿åä¸ä¸ªæå¡å¤±è´¥å¯¼è´æ´ä¸ªåºç¨è¯·æ±å¤±è´¥çæåµãå½ç¶ä¸æ¯æææå¡è°ç¨é½å¯ä»¥å¼æ­¥è°ç¨ï¼å¯¹äºè·åç¨æ·ä¿¡æ¯è¿ç±»è°ç¨ï¼éç¨å¼æ­¥æ¹å¼ä¼å»¶é¿ååºæ¶é´ï¼å¾ä¸å¿å¤±ï¼æ­¤å¤ï¼å¯¹äºé£äºå¿é¡»ç¡®è®¤æå¡è°ç¨æè½ç»§ç»­ä¸ä¸æ­¥æä½çåºç¨ä¹ä¸éå®é£ç¨å¼æ­¥è°ç¨ã\n\n\n# è¿è½½ä¿æ¤\n\nè¿è½½ä¿æ¤çææ®µï¼ä¸è¬æï¼éæµãéçº§ãçæ­ã\n\n# éæµ\n\néçº§æ¯ä»ç³»ç»åè½ä¼åçº§çè§åº¦èèå¦ä½åºå¯¹æéï¼èéæµåæ¯ä»ç¨æ·è®¿é®ååçè§åº¦æ¥èèå¦ä½åºå¯¹æéãéæµæåªåè®¸ç³»ç»è½å¤æ¿åçè®¿é®éè¿æ¥ï¼è¶åºç³»ç»è®¿é®è½åçè¯·æ±å°è¢«ä¸¢å¼ã\n\nå¸¸è§çéæµæ¹å¼å¯ä»¥åä¸ºä¸¤ç±»ï¼åºäºè¯·æ±éæµååºäºèµæºéæµã\n\n# åºäºè¯·æ±éæµ\n\nåºäºè¯·æ±éæµæä»å¤é¨è®¿é®çè¯·æ±è§åº¦èèéæµï¼å¸¸è§çæ¹å¼æï¼éå¶æ»éãéå¶æ¶é´éã\n\néå¶æ»éçæ¹å¼æ¯éå¶æä¸ªææ çç´¯ç§¯ä¸éï¼å¸¸è§çæ¯éå¶å½åç³»ç»æå¡çç¨æ·æ»éï¼ä¾å¦æä¸ªç´æ­é´éå¶æ»ç¨æ·æ°ä¸éä¸º 100 ä¸ï¼è¶è¿ 100 ä¸åæ°çç¨æ·æ æ³è¿å¥ï¼æä¸ªæ¢è´­æ´»å¨ååæ°éåªæ 100 ä¸ªï¼éå¶åä¸æ¢è´­çç¨æ·ä¸éä¸º 1 ä¸ä¸ªï¼1 ä¸ä»¥åçç¨æ·ç´æ¥æç»ãéå¶æ¶é´éæéå¶ä¸æ®µæ¶é´åæä¸ªææ çä¸éï¼ä¾å¦ï¼1 åéååªåè®¸ 10000 ä¸ªç¨æ·è®¿é®ï¼æ¯ç§è¯·æ±å³°å¼æé«ä¸º 10 ä¸ã\n\næ è®ºæ¯éå¶æ»éè¿æ¯éå¶æ¶é´éï¼å±åçç¹ç¹é½æ¯å®ç°ç®åï¼ä½å¨å®è·µä¸­é¢ä¸´çä¸»è¦é®é¢æ¯æ¯è¾é¾ä»¥æ¾å°åéçéå¼ã\n\n# åºäºèµæºéæµ\n\nåºäºè¯·æ±éæµæ¯ä»ç³»ç»å¤é¨èèçï¼èåºäºèµæºéæµæ¯ä»ç³»ç»åé¨èèçï¼å³ï¼æ¾å°ç³»ç»åé¨å½±åæ§è½çå³é®èµæºï¼å¯¹å¶ä½¿ç¨ä¸éè¿è¡éå¶ãå¸¸è§çåé¨èµæºæï¼è¿æ¥æ°ãæä»¶å¥æãçº¿ç¨æ°ãè¯·æ±éåç­ã\n\nåºäºèµæºéæµç¸æ¯åºäºè¯·æ±éæµè½å¤æ´å ææå°åæ å½åç³»ç»çååï¼ä½å®è·µä¸­è®¾è®¡ä¹é¢ä¸´ä¸¤ä¸ªä¸»è¦çé¾ç¹ï¼å¦ä½ç¡®å®å³é®èµæºï¼å¦ä½ç¡®å®å³é®èµæºçéå¼ã\n\n# éçº§\n\néçº§æç³»ç»å°æäºä¸å¡æèæ¥å£çåè½éä½ï¼å¯ä»¥æ¯åªæä¾é¨ååè½ï¼ä¹å¯ä»¥æ¯å®å¨åæææåè½ã\n\nå¨æå¡è®¿é®çé«å³°æï¼æå¡å¯è½å ä¸ºå¤§éå¹¶åè°ç¨èæ§è½ä¸éï¼ä¸¥éæ¶å¯è½ä¼å¯¼è´å®æºãä¸ºäºä¿è¯æ ¸å¿åè½çæ­£å¸¸è¿è¡ï¼éè¦å¯¹æå¡è¿è¡éçº§ãéçº§æä¸¤ç§ææ®µï¼\n\næç»æå¡ - æç»ä½ä¼åçº§åºç¨çè°ç¨ï¼åå°æå¡è°ç¨å¹¶åæ°ï¼ç¡®ä¿æ ¸å¿åºç¨æ­£å¸¸ä½¿ç¨ãæèéæºæç»é¨åè°ç¨ï¼èçº¦èµæºï¼é¿åè¦æ­»å¤§å®¶ä¸èµ·æ­»çæ¨å§ã\n\nå³é­æå¡ - å³é­é¨åä¸éè¦çæå¡ï¼æèæå¡åé¨å³é­é¨åä¸éè¦çåè½ï¼ä»¥èçº¦èµæºã\n\n# çæ­\n\nçæ­åéçº§æ¯ä¸¤ä¸ªæ¯è¾å®¹ææ··æ·çæ¦å¿µï¼å ä¸ºåçº¯ä»åå­ä¸çå¥½åé½æç¦æ­¢æä¸ªåè½çææï¼ä½å¶å®åå¨å«ä¹æ¯ä¸åçï¼åå å¨äºéçº§çç®çæ¯åºå¯¹ç³»ç»èªèº«çæéï¼èçæ­çç®çæ¯åºå¯¹ä¾èµçå¤é¨ç³»ç»æéçæåµã\n\nçæ­æºå¶å®ç°çå³é®æ¯éè¦æä¸ä¸ªç»ä¸ç API è°ç¨å±ï¼ç± API è°ç¨å±æ¥è¿è¡éæ ·æèç»è®¡ï¼å¦ææ¥å£è°ç¨æ£è½å¨ä»£ç åå¤å°±æ²¡æ³è¿è¡ç»ä¸å¤çäºã\n\n\n# å¹ç­æ§è®¾è®¡\n\næå¡è°ç¨å¤±è´¥åï¼è°ç¨æ¹ä¼å°è¯·æ±è½¬åå°å¶ä»æå¡å¨ä¸ï¼ä½æ¯è¿ä¸ªå¤±è´¥å¯è½æ¯èåçå¤±è´¥ãæ¯å¦æå¡å·²ç»å¤çæåï¼ä½å ä¸ºç½ç»æéå¯¼è´è°ç¨æ¹æ²¡ææ¶å°åºç­ï¼æç­å¾è¶æ¶ãè¿ç§æåµä¸ï¼éæ°åèµ·è¯·æ±ï¼å¯è½ä¼å¯¼è´éå¤æä½ï¼å¦ï¼åæ°æ®åºåå¥ä¸¤æ¡è®°å½ãå¦æè¿ä¸ªæä½æ¯æ¯è¾ææçäº¤ææä½ï¼å°±ä¼äº§çä¸¥éåæã\n\næå¡éå¤è°ç¨æ¶æ æ³é¿åçï¼ä½æ¯åªè¦è½ä»ä¸å¡å®ç°ä¸ä¿è¯ï¼éå¤è°ç¨åä¸æ¬¡è°ç¨çå¤çç»æä¸è´ï¼åä¸å¡å°±æ²¡æé®é¢ï¼è¿å°±æ¯å¹ç­æ§è®¾è®¡ã\n\næäºæå¡çä¸å¡å¤©ç¶å·æå¹ç­æ§ï¼æ¯å¦å°ç¨æ·æ§å«è®¾ä¸ºç·æ§ï¼ä¸ç®¡æ§è¡å¤å°æ¬¡ï¼ç»ææ¯ä¸è´çãä½æäºå¤æçä¸å¡ï¼è¦æ³ä¿è¯å¹ç­æ§ï¼å°±éè¦æ ¹æ®å¨å±æ§ç ID å»è¿è¡æææ§éªè¯ï¼éªè¯éè¿æè½ç»§ç»­æ§è¡ã\n\n\n# é«å¯ç¨çå­å¨\n\nå¯¹äºç»å¤§é¨åè½¯ä»¶ç³»ç»èè¨ï¼æ°æ®é½æ¯æå®è´µçèæèµäº§ï¼ä¸æ¦ä¸¢å¤±ï¼å¯ä»¥è¯´æ¯æ¯ç­æ§çæå»ã\n\nä¿è¯å­å¨é«å¯ç¨çä¸»è¦ææ®µæ¯ï¼æ°æ®å¤ä»½åå¤±æè½¬ç§»ã\n\nå­å¨é«å¯ç¨æ¶æçå¤ææ§ä¸»è¦ä½ç°å¨ï¼å¦ä½åºå¯¹å¯æ¬åæ­¥å»¶è¿åä¸­æ­å¯¼è´çæ°æ®ä¸è´æ§é®é¢ã\n\n> æç¤ºï¼åå¼å§å­¦ä¹ è¿é¨ååå®¹åï¼å»ºè®®åå­¦ä¹  äºãé«å¯ç¨æ¶æçè®º\n\n\n# æ°æ®å¤ä»½\n\næ°æ®å¤ä»½æ¯ä¿è¯æ°æ®æå¤ä¸ªå¯æ¬ï¼ä»»æå¯æ¬çä¸¢å¤±é½ä¸ä¼å¯¼è´æ°æ®çæ°¸ä¹ä¸¢å¤±ã\n\n * å·å¤ä»½ - å®æå°æ°æ®å¤å¶å°æç§å­å¨ä»è´¨ã\n * ç­å¤ä»½\n   * å¼æ­¥ç­å¤æ¹å¼ - å¼æ­¥ç­å¤æ¹å¼æ¯æå¤ä»½æ°æ®å¯æ¬çåå¥æä½å¼æ­¥å®æï¼åºç¨ç¨åºæ¶å°æ°æ®æå¡ç³»ç»çåæä½æåååºæ¶ï¼åªåæåäºä¸ä»½ï¼å­å¨ç³»ç»å°ä¼å¼æ­¥å°åå¶ä»å¯æ¬ã\n   * åæ­¥ç­å¤æ¹å¼ - åæ­¥ç­å¤æ¹å¼æ¯æå¤ä»½æ°æ®å¯æ¬çåå¥æä½åæ­¥å®æï¼å³åºç¨ç¨åºæ¶å°æ°æ®æå¡ç³»ç»çåæåååºæ¶ï¼å¤ä»½æ°æ®é½å·²ç»åæä½æåãä½æ¯å½åºç¨ç¨åºæ¶å°æ°æ®åæä½å¤±è´¥çååºå¼ï¼å¯è½æé¨åå¯æ¬æèå¨é¨å¯æ¬é½å·²ç»åå¥æåäºï¼å ä¸ºç½ç»æèç³»ç»æéï¼æ æ³è¿åæä½æåçååºï¼ã\n\n\n# å¤±æè½¬ç§»\n\nå¤±æè½¬ç§»æ¯ä¿è¯ä»»æä¸ä¸ªå¯æ¬ä¸å¯è®¿é®æ¶ï¼å¯ä»¥å¿«éåæ¢è®¿é®å¶ä»å¯æ¬ï¼ä¿è¯ç³»ç»æ´ä½å¯ç¨ã\n\n# å¤±æç¡®è®¤\n\n\n\nå¤æ­æå¡å¨å®æºçææ®µæä¸¤ç§ï¼å¿è·³æ£æµåè®¿é®å¤±è´¥æ¥åã\n\nå¯¹äºåºç¨ç¨åºçè®¿é®å¤±è´¥æ¥åï¼æ§å¶ä¸­å¿è¿éè¦åä¸æ¬¡åéå¿è·³æ£æµè¿è¡ç¡®è®¤ï¼ä»¥åéè¯¯å¤æ­æå¡å¨å®æºãå ä¸ºä¸æ¦è¿è¡æ°æ®è®¿é®çå¤±æè½¬ç§»ï¼æå³çæ°æ®å­å¨å¤ä»½å¯æ¬ä¸ä¸è´ï¼éè¦è¿è¡åç»­ä¸ç³»åçå¤æå¨ä½ã\n\n# è®¿é®è½¬ç§»\n\nç¡®è®¤æå°æ°æ®æå¡å¨å®æºåï¼å°±éè¦å°æ°æ®è¯»åè®¿é®éæ°è·¯ç±å°å¶ä»æå¡å¨ä¸ãå¯¹äºå®å¨å¯¹ç­å­å¨çæå¡å¨ï¼å½å¶ä¸­ä¸å°å®æºåï¼åºç¨ç¨åºæ ¹æ®éç½®ç´æ¥åæ¢å°å¯¹ç­æå¡å¨ä¸ãå¦æå­å¨ä¸å¯¹ç­ï¼å°±éè¦éæ°è®¡ç®è·¯ç±ï¼éæ©å­å¨æå¡å¨ã\n\n# æ°æ®æ¢å¤\n\nå ä¸ºæå°æå¡å¨å®æºï¼æä»¥æ°æ®å­å¨çå¯æ¬æ°ç®ä¼åå°ï¼å¿é¡»å°å¯æ¬çæ°ç®æ¢å¤å°ç³»ç»è®¾å®çå¼ï¼å¦åï¼åææå¡å¨å®æºæ¶ï¼å°±å¯è½åºç°æ æ³è®¿é®è½¬ç§»ï¼æ°æ®æ°¸ä¹ä¸¢å¤±çæåµãå æ­¤ç³»ç»éè¦ä»å¥åº·çæå¡å¨å¤å¶æ°æ®ï¼å°æ°æ®å¯æ¬æ°ç®æ¢å¤å°è®¾å®å¼ã\n\n\n# è¾å©ææ®µ\n\n\n# å¼å°å¤æ´»\n\nå¼å°å¤æ´»æ¶æçå³é®ç¹å°±æ¯å¼å°ãå¤æ´»ï¼å¶ä¸­å¼å°å°±æ¯æå°çä½ç½®ä¸ä¸åçå°æ¹ï¼ç±»ä¼¼äºâä¸è¦æé¸¡èé½æ¾å¨åä¸ç¯®å­éâï¼å¤æ´»å°±æ¯æä¸åå°çä½ç½®ä¸çç³»ç»é½è½å¤æä¾ä¸å¡æå¡ï¼è¿éçâæ´»âæ¯æ´»å¨ãæ´»è·çææã\n\nå¼å°å¤æ´»æ¶æå¯ä»¥åä¸ºååå¼åºãè·¨åå¼å°ãè·¨å½å¼å°ã\n\nå¼å°å¤æ´»æ¶æçä»£ä»·ï¼\n\n * ç³»ç»å¤æåº¦ä¼åçè´¨çååï¼éè¦è®¾è®¡å¤æçå¼å°å¤æ´»æ¶æã\n * ææ¬ä¼ä¸åï¼æ¯ç«è¦å¤å¨ä¸ä¸ªæèå¤ä¸ªæºæ¿æ­å»ºç¬ç«çä¸å¥ä¸å¡ç³»ç»ã\n\nå¼å°å¤æ´»çè®¾è®¡ååï¼\n\n * ä¿è¯æ ¸å¿ä¸å¡çå¼å°å¤æ´»\n * ä¿è¯æ ¸å¿æ°æ®æç»ä¸è´æ§\n * éç¨å¤ç§ææ®µåæ­¥æ°æ®\n * åªä¿è¯ç»å¤§é¨åç¨æ·çå¼å°å¤æ´»\n\nå¼å°å¤æ´»è®¾è®¡æ­¥éª¤ï¼\n\n * ä¸å¡åçº§ - å¸¸è§çåçº§æ åæï¼\n   * æµéå¤§çä¸å¡\n   * æ ¸å¿ä¸å¡\n   * çå©ä¸å¡\n * æ°æ®åç±» - å¸¸è§çæ°æ®åæç»´åº¦æï¼\n   * æ°æ®é\n   * å¯ä¸æ§\n   * å®æ¶æ§\n   * å¯ä¸¢å®æ§\n   * å¯æ¢å¤æ§\n * æ°æ®åæ­¥ - å¸¸è§çæ°æ®åæ­¥æ¹æ¡\n   * å­å¨ç³»ç»åæ­¥\n   * æ¶æ¯éååæ­¥\n   * éå¤çæ\n * å¼å¸¸å¤ç - å¸¸è§å¼å¸¸å¤çæªæ½ï¼\n   * å¤ééåæ­¥\n   * åæ­¥åè®¿é®ç»å\n   * æ¥å¿è®°å½\n   * ç¨æ·è¡¥å¿\n\n\n# åå¸æµç¨\n\né«å¯ç¨çè½¯ä»¶è´¨éä¿è¯çææ®µï¼\n\n * èªå¨åæµè¯\n * é¢åå¸éªè¯\n * ä»£ç æ§å¶\n * èªå¨ååå¸\n * ç°åº¦åå¸\n\n\n# ç³»ç»çæ§\n\n> ä¸åè®¸æ²¡æçæ§çç³»ç»ä¸çº¿ã\n\n * çæ§æ°æ®éé\n   * ç¨æ·è¡ä¸ºæ¥å¿æ¶é\n     * æå¡ç«¯æ¥å¿æ¶é - ApacheãNginx ç­å ä¹ææ Web æå¡å¨é½å·å¤æ¥å¿è®°å½åè½ï¼åªè¦å¼å¯æ¥å¿è®°å½å³å¯ãå¦ææ¯æå¡å¨æ¯è¾å¤ï¼éè¦éä¸­ééæ¥å¿ï¼éå¸¸ä¼ä½¿ç¨ Elastic æ¥è¿è¡æ¶éã\n     * å®¢æ·ç«¯æ¥å¿æ¶é - å©ç¨é¡µé¢åµå¥ä¸é¨ç JavaScript èæ¬å¯ä»¥æ¶éç¨æ·çå®çæä½è¡ä¸ºã\n     * æ¥å¿åæ - å¯ä»¥å©ç¨ ElasticSearch åè¯­ä¹åæåæç´¢ï¼å©ç¨å®æ¶è®¡ç®æ¡æ¶ StormãFlink ç­å¼åæ¥å¿ç»è®¡ä¸åæå·¥å·ã\n   * æå¡å¨æ§è½çæ§ - æ¶éæå¡å¨æ§è½ææ ï¼å¦ç³»ç»è´è½½ãåå­å ç¨ãCPU å ç¨ãç£ç IOãç½ç» IO ç­ãå¸¸ç¨ççæ§å·¥å·æï¼Apache SkyWalking ãPinpoint ç­ã\n   * è¿è¡æ°æ®æ¥å - åºè¯¥çæ§ä¸äºä¸å·ä½ä¸å¡åºæ¯ç¸å³çææ¯åä¸å¡ææ ï¼å¦ï¼ç¼å­å½ä¸­çãå¹³åååºæ¶å»¶ãTPSãQPS ç­ã\n * çæ§ç®¡ç\n   * ç³»ç»æ¥è­¦ - è®¾ç½®éå¼ãå½è¾¾å°éå¼ï¼åæ¶è§¦ååè­¦ï¼ç­ä¿¡ãé®ä»¶ãéä¿¡å·¥å·åå¯ï¼ï¼éè¿åæ¶å¤æ­ç¶åµï¼é²æ£äºæªç¶ã\n   * å¤±æè½¬ç§» - çæ§ç³»ç»å¯ä»¥å¨åç°æéçæåµä¸ä¸»å¨éç¥åºç¨è¿è¡å¤±æè½¬ç§»ã\n   * èªå¨ä¼ééçº§\n     * ä¼ééçº§æ¯ä¸ºäºåºä»çªç¶çåçè®¿é®é«å³°ï¼ä¸»å¨å³é­é¨ååè½ï¼éæ¾é¨åèµæºï¼ä»¥ä¿è¯æ ¸å¿åè½çä¼åè®¿é®ã\n     * ç³»ç»å¨çæ§ç®¡çåºç¡ä¹ä¸å®ç°èªå¨ä¼ééçº§ï¼æ¯ææ§æ¶æççæ³ç¶æã\n\n\n# åèèµæ\n\n * ãå¤§åç½ç«ææ¯æ¶æï¼æ ¸å¿åçä¸æ¡ä¾åæã\n * ãäº¿çº§æµéç½ç«æ¶ææ ¸å¿ææ¯ï¼è·å¼æ¶å­¦æ­å»ºé«å¯ç¨é«å¹¶åç³»ç»ã\n * å·¦è³å¬é£",normalizedContent:"# ç³»ç»é«å¯ç¨æ¶æ\n\n\n# é«å¯ç¨æ¶æç®ä»\n\n\n# ç³»ç»å¯ç¨æ§çåº¦é\n\nç³»ç»ä¸å¯ç¨ä¹è¢«ç§°ä½ç³»ç»æéï¼ä¸çéå¸¸ç¨å¤ä¸ª 9 æ¥è¡¡éç³»ç»çå¯ç¨æ§ãå¦ qq çå¯ç¨æ§ä¸º 4 ä¸ª 9ï¼å³ 99.99% å¯ç¨ã\n\nç½ç«ä¸å¯ç¨æ¶é´ = æéä¿®å¤æ¶é´ç¹ - æéåç°æ¶é´ç¹\nç½ç«å¹´åº¦å¯ç¨æ§ææ  = (1 - ç½ç«ä¸å¯ç¨æ¶é´/å¹´åº¦æ»æ¶é´) * 100%\n\n\nå¯ç¨æ§è®¡éè¡¨ï¼\n\nå¯ç¨æ§çº§å«   ç³»ç»å¯ç¨æ§%    å®æºæ¶é´/å¹´     å®æºæ¶é´/æ    å®æºæ¶é´/å¨    å®æºæ¶é´/å¤©\nä¸å¯ç¨     90%       36.5 å¤©     73 å°æ¶     16.8 å°æ¶   144 åé\nåºæ¬å¯ç¨    99%       87.6 å°æ¶    7.3 å°æ¶    1.68 å°æ¶   14.4 åé\nè¾é«å¯ç¨    99.9%     8.76 å°æ¶    43.8 åé   10.1 åé   1.44 åé\né«å¯ç¨     99.99%    52.56 åé   4.38 åé   1.01 ç§    8.64 ç§\næé«å¯ç¨    99.999%   5.26 åé    26.28 ç§   6.06 ç§    0.86 ç§\n\n\n# æéåå \n\nç³»ç»å®æºåå ä¸»è¦æä»¥ä¸ï¼\n\næ è®¡åç\n\n * ç³»ç»çº§æéï¼åæ¬ä¸»æºãæä½ç³»ç»ãä¸­é´ä»¶ãæ°æ®åºãç½ç»ãçµæºä»¥åå¤å´è®¾å¤ã\n * æ°æ®åä¸­ä»çæéï¼åæ¬äººåè¯¯æä½ãç¡¬çæéãæ°æ®ä¹±äºã\n * è¿æèªç¶ç¾å®³ãäººä¸ºç ´åï¼ä»¥åä¾çµé®é¢ç­ã\n\næè®¡åç\n\n * æ¥å¸¸ä»»å¡ï¼å¤ä»½ï¼å®¹éè§åï¼ç¨æ·åå®å¨ç®¡çï¼åå°æ¹å¤çåºç¨ã\n * è¿ç»´ç¸å³ï¼æ°æ®åºç»´æ¤ãåºç¨ç»´æ¤ãä¸­é´ä»¶ç»´æ¤ãæä½ç³»ç»ç»´æ¤ãç½ç»ç»´æ¤ã\n * åçº§ç¸å³ï¼æ°æ®åºãåºç¨ãä¸­é´ä»¶ãæä½ç³»ç»ãç½ç»ï¼åæ¬ç¡¬ä»¶åçº§ã\n\næä»¬åç»å®ä»¬å½ä¸ªç±»ã\n\n 1. ç½ç»é®é¢ãç½ç»é¾æ¥åºç°é®é¢ï¼ç½ç»å¸¦å®½åºç°æ¥å¡â¦â¦\n 2. æ§è½é®é¢ãæ°æ®åºæ¢ sqlãjava full gcãç¡¬ç io è¿å¤§ãcpu é£é«ãåå­ä¸è¶³â¦â¦\n 3. å®å¨é®é¢ãè¢«ç½ç»æ»å»ï¼å¦ ddos ç­ã\n 4. è¿ç»´é®é¢ãç³»ç»æ»æ¯å¨è¢«æ´æ°åä¿®æ¹ï¼æ¶æä¹å¨ä¸æ­å°è¢«è°æ´ï¼çæ§é®é¢â¦â¦\n 5. ç®¡çé®é¢ãæ²¡ææ¢³çåºå³é®æå¡ä»¥åæå¡çä¾èµå³ç³»ï¼è¿è¡ä¿¡æ¯æ²¡æåæ§å¶ç³»ç»åæ­¥â¦â¦\n 6. ç¡¬ä»¶é®é¢ãç¡¬çæåãç½å¡åºé®é¢ãäº¤æ¢æºåºé®é¢ãæºæ¿æçµãæææºé®é¢â¦â¦\n\n\n# ä»ä¹æ¯é«å¯ç¨çç³»ç»æ¶æ\n\néå¸¸ï¼ä¼ä¸çº§åºç¨ç³»ç»ä¸ºæé«ç³»ç»å¯ç¨æ§ï¼ä¼éç¨è¾æè´µçè½¯ç¡¬ä»¶è®¾å¤ï¼å½ç¶è¿æ ·çè®¾å¤ä¹æ¯è¾ç¨³å®ã\n\näºèç½å¬å¸æä¸äºåååå¬å¸åºäºææ¬èèï¼æ´å¤éç¨ pc çº§è½¯ç¡¬ä»¶è®¾å¤ï¼èçº¦ææ¬æä»åºçä»£ä»·å°±æ¯è®¾å¤è¾ä¸ºä¸ç¨³å®ãæå¡å¨ä¸å¹´ä¸­åºç°å æ¬¡å®æºï¼é«å¼ºåº¦è¯»åç£çå¯¼è´ç£çæåç­äºä»¶å®å±æ­£å¸¸ã\n\nç»¼ä¸ï¼ç¡¬ä»¶åºç°æéåºè§ä¸ºå¿ç¶çï¼èé«å¯ç¨çç³»ç»æ¶æè®¾è®¡ç®æ å°±æ¯è¦ä¿è¯å½åºç°ç¡¬ä»¶æéæ¶ï¼æå¡ä¾ç¶å¯ç¨ï¼æ°æ®ä¾ç¶è½å¤ä¿å­å¹¶è¢«è®¿é®ãå®ç°é«å¯ç¨çç³»ç»æ¶æçä¸»è¦ææ®µæ¯æ°æ®åæå¡çåä½å¤ä»½åå¤±æè½¬ç§»ï¼ä¸æ¦æäºæå¡å¨å®æºï¼å°±å°æå¡åæ¢å°å¶ä»å¯ç¨çæå¡å¨ä¸ï¼å¦æç£çæåï¼åä»å¤ä»½çç£çè¯»åæ°æ®ã\n\nå¤§åç³»ç»çåå±æ¶æåç©çæå¡å¨çåå¸å¼é¨ç½²ä½¿å¾ä½äºä¸åå±æ¬¡çæå¡å¨å·æä¸åçå¯ç¨æ§ç¹ç¹ãå³é­æå¡ææå¡å¨å®æºæ¶äº§ççå½±åä¹ä¸ç¸åï¼é«å¯ç¨çè§£å³æ¹æ¡ä¹å·®å¼çå¤§ãå¤§è´å¯ä»¥åä¸ºï¼\n\n * é«å¯ç¨çåºç¨ - ä¸»è¦ææ®µæ¯ï¼è´è½½åè¡¡\n * é«å¯ç¨çæå¡ - ä¸»è¦ææ®µæ¯ï¼åçº§ç®¡çãè¶æ¶éè¯ãå¼æ­¥è°ç¨ãéæµãéè§£ãæ­è·¯ãå¹ç­æ§è®¾è®¡\n * é«å¯ç¨çæ°æ® - ä¸»è¦ææ®µæ¯ï¼æ°æ®å¤ä»½åå¤±æè½¬ç§»\n\n\n# é«å¯ç¨æ¶æçè®º\n\nå­¦ä¹ é«å¯ç¨æ¶æï¼é¦åéè¦äºè§£åå¸å¼åºç¡çè®ºï¼cap å baseã\n\nç¶åï¼å¾å¤èåçåå¸å¼ç³»ç»ï¼é½å©ç¨éä¸¾æºå¶ï¼æ¥ä¿è¯ä¸»èç¹å®æºæ¶çæéæ¢å¤ãå¦æè¦æ·±å¥çè§£éä¸¾æºå¶ï¼æå¿è¦äºè§£ï¼paxos ç®æ³ å raft ç®æ³ãpaxos å raft æ¯ä¸ºäºå®ç°åå¸å¼ç³»ç»ä¸­é«å¯ç¨æ¶æèæåºçå±è¯æ§ç®æ³ï¼å·²ç»æä¸ºä¸çæ åã\n\ncap å®çåç§°ä¸º cap ååï¼æçæ¯ï¼å¨ä¸ä¸ªåå¸å¼ç³»ç»ä¸­ï¼ ä¸è´æ§ï¼cï¼consistencyï¼ãå¯ç¨æ§ï¼aï¼availabilityï¼ å ååºå®¹å¿æ§ï¼pï¼partition toleranceï¼ï¼æå¤åªè½åæ¶æ»¡è¶³å¶ä¸­ä¸¤é¡¹ã\n\nbase æ¯ åºæ¬å¯ç¨ï¼basically availableï¼ãè½¯ç¶æï¼soft stateï¼ å æç»ä¸è´æ§ï¼eventually consistentï¼ ä¸ä¸ªç­è¯­çç¼©åãbase çè®ºæ¯å¯¹ cap ä¸­ä¸è´æ§åå¯ç¨æ§æè¡¡çç»æï¼å®ççè®ºçæ ¸å¿ææ³æ¯ï¼å³ä½¿æ æ³åå°å¼ºä¸è´æ§ï¼ä½æ¯ä¸ªåºç¨é½å¯ä»¥æ ¹æ®èªèº«ä¸å¡ç¹ç¹ï¼éç¨éå½çæ¹å¼æ¥ä½¿ç³»ç»è¾¾å°æç»ä¸è´æ§ã\n\n> cap å base çè®ºçè¯¦ç»è¯´æè¯·åèï¼åå¸å¼ä¸è´æ§\n> \n> paxos å raft çè¯¦ç»è¯´æè¯·åèï¼paxos ç®æ³ å raft ç®æ³\n\n\n# æ¶ææ¨¡å¼\n\n\n# ä¸»å¤å¤å¶\n\nä¸»å¤å¤å¶æ¯æå¸¸è§ä¹æ¯æç®åçä¸ç§å­å¨é«å¯ç¨æ¹æ¡ï¼å ä¹ææçå­å¨ç³»ç»é½æä¾äºä¸»å¤å¤å¶çåè½ï¼ä¾å¦ mysqlãredisãmongodb ç­ã\n\nä¸»å¤å¤å¶è¦ç¹ï¼\n\n * å­å¨ä¸ä¸»å¤å¤ã\n * ä¸»æºè´è´£è¯»&åï¼å¹¶å®æå¤å¶æ°æ®ç»å¤æºã\n * ä¸æ¦ä¸»æºå®æºï¼å¯ä»¥éè¿äººå·¥ææ®µï¼å°å¶ä¸­ä¸ä¸ªå¤èç¹ä½ä¸ºä¸»èç¹ã\n\n\n\nä¼ç¹\n\n * ä¸»å¤å¤å¶æ¶æä¸­ï¼å®¢æ·ç«¯å¯ä»¥ä¸æç¥å¤æºçå­å¨ãå³ä½¿ç¾é¾æ¢å¤åï¼åæ¥çå¤æºè¢«äººå·¥ä¿®æ¹ä¸ºä¸»æºåï¼å¯¹äºå®¢æ·ç«¯æ¥è¯´ï¼åªæ¯è®¤ä¸ºä¸»æºçå°åæ¢äºèå·²ï¼æ é¡»ç¥éæ¯åæ¥çå¤æºåçº§ä¸ºä¸»æºã\n * ä¸»å¤å¤å¶æ¶æä¸­ï¼ä¸»æºåå¤æºä¹é´ï¼åªéè¦è¿è¡æ°æ®å¤å¶å³å¯ï¼æ é¡»è¿è¡ç¶æå¤æ­åä¸»å¤åæ¢è¿ç±»å¤æçæä½ã\n\nç¼ºç¹\n\n * ä¸»å¤å¤å¶æ¶æä¸­ï¼æéåéè¦äººå·¥å¹²é¢ï¼æ æ³èªå¨æ¢å¤ã\n\néç¨åºæ¯\n\nç»¼åä¸»å¤å¤å¶æ¶æçä¼ç¼ºç¹ï¼åé¨çåå°ç®¡çç³»ç»ä½¿ç¨ä¸»å¤å¤å¶æ¶æçæåµä¼æ¯è¾å¤ï¼ä¾å¦å­¦çç®¡çç³»ç»ãåå·¥ç®¡çç³»ç»ãåæç®¡çç³»ç»ç­ï¼å ä¸ºè¿ç±»ç³»ç»çæ°æ®åæ´é¢çä½ï¼å³ä½¿å¨æäºåºæ¯ä¸ä¸¢å¤±æ°æ®ï¼ä¹å¯ä»¥éè¿äººå·¥çæ¹å¼è¡¥å¨ã\n\n\n# ä¸»ä»å¤å¶\n\nä¸»ä»å¤å¶åä¸»å¤å¤å¶åªæä¸å­ä¹å·®ï¼åºå«å¨äºï¼ä¸»ä»å¤å¶æ¨¡å¼ä¸­ï¼ä»æºè¦æ¿æè¯»æä½ã\n\nä¸»ä»å¤å¶è¦ç¹ï¼\n\n * å­å¨ä¸ä¸»å¤ä»ã\n * ä¸»æºè´è´£è¯»&åï¼å¹¶å®æå¤å¶æ°æ®ç»ä»æºã\n * ä»æºåªè´è´£è¯»ã\n * ä¸æ¦ä¸»æºå®æºï¼å¯ä»¥éè¿äººå·¥ææ®µï¼å°å¶ä¸­ä¸ä¸ªä»èç¹ä½ä¸ºä¸»èç¹ã\n\n\n\nä¼ç¹\n\n * ä¸»ä»å¤å¶æ¶æä¸­ï¼ä¸»æºæéæ¶ï¼è¯»æä½ç¸å³çä¸å¡å¯ä»¥ç»§ç»­è¿è¡ã\n * ä¸»ä»å¤å¶æ¶æä¸­ï¼ä»æºæä¾è¯»æä½ï¼åæ¥äºç¡¬ä»¶çæ§è½ã\n\nç¼ºç¹\n\n * ä¸»ä»å¤å¶æ¶æä¸­ï¼å®¢æ·ç«¯éè¦æç¥ä¸»ä»å³ç³»ï¼å¹¶å°ä¸åçæä½åç»ä¸åçæºå¨è¿è¡å¤çï¼å¤æåº¦æ¯ä¸»å¤å¤å¶è¦é«ã\n * ä¸»ä»å¤å¶æ¶æä¸­ï¼ä»æºæä¾è¯»ä¸å¡ï¼å¦æä¸»ä»å¤å¶å»¶è¿æ¯è¾å¤§ï¼ä¸å¡ä¼å ä¸ºæ°æ®ä¸ä¸è´åºç°é®é¢ã\n * ä¸»ä»å¤å¶æ¶æä¸­ï¼æéæ¶éè¦äººå·¥å¹²é¢ã\n\néç¨åºæ¯\n\nç»¼åä¸»ä»å¤å¶çä¼ç¼ºç¹ï¼ä¸è¬æåµä¸ï¼åå°è¯»å¤çä¸å¡ä½¿ç¨ä¸»ä»å¤å¶çå­å¨æ¶ææ¯è¾å¤ãä¾å¦ï¼è®ºåãbbsãæ°é»ç½ç«è¿ç±»ä¸å¡ï¼æ­¤ç±»ä¸å¡çè¯»æä½æ°éæ¯åæä½æ°éç 10 åçè³ 100 åä»¥ä¸ã\n\n\n# éç¾¤+ååº\n\nå¨ä¸»å¤å¤å¶åä¸»ä»å¤å¶æ¨¡å¼ä¸­ï¼é½ç±ä¸ä¸ªå±æ§é®é¢ï¼\n\næ¯ä¸ªæºå¨ä¸å­å¨çé½æ¯å¨éæ°æ®ãä½æ¯ï¼åæºçæ°æ®å­å¨éæ»æ¯æä¸éçï¼å½æ°æ®éä¸åä¸º tb çº§çè³ pb çº§æ°æ®ï¼åæºç»ç©¶ææ æ³æ¯æçæ¶åãè¿æ¶ï¼å°±éè¦å¯¹æ°æ®è¿è¡åçï¼shardingï¼ã\n\nåçåçèç¹å¯ä»¥è§ä¸ºä¸ä¸ªç¬ç«çå­éï¼éå¯¹å­éï¼ä»»ç¶éè¦ä¿è¯é«å¯ç¨ã\n\n\n\n\n# é«å¯ç¨çåºç¨\n\nåºç¨å±ä¸»è¦å¤çç½ç«åºç¨çä¸å¡é»è¾ï¼ä¸ä¸ªæ¾èçç¹ç¹æ¯åºç¨ç æ ç¶æ æ§ã\n\næè°ç æ ç¶æ çåºç¨æ¯æåºç¨æå¡å¨ä¸ä¿å­ä¸å¡çä¸ä¸æä¿¡æ¯ï¼èä»æ ¹æ®æ¯æ¬¡è¯·æ±æäº¤çæ°æ®è¿è¡ç¸åºçä¸å¡é»è¾å¤çï¼å¤ä¸ªæå¡å®ä¾ä¹é´å®å¨å¯¹ç­ï¼è¯·æ±æäº¤å°ä»»ææå¡å¨ï¼å¤çç»æé½æ¯å®å¨ä¸æ ·çã\n\nç±äºæ ç¶æåºç¨ï¼åå®ä¾ä¹é´ä¸ç¨èèæ°æ®ä¸è´æ§é®é¢ï¼æä»¥å¶é«å¯ç¨æ¹æ¡ç¸å¯¹ç®åãä¸»è¦ææ®µæ¯ï¼\n\n * è´è½½åè¡¡\n * åå¸å¼ session\n\n\n# è´è½½åè¡¡\n\nè´è½½åè¡¡ï¼é¡¾åæä¹ï¼ä¸»è¦ä½¿ç¨å¨ä¸å¡éåæ°æ®éè¾é«çæåµä¸ï¼å½åå°æå¡å¨ä¸è¶³ä»¥æ¿æææçè´è½½ååæ¶ï¼éè¿è´è½½åè¡¡ææ®µï¼å°æµéåæ°æ®åæå°ä¸ä¸ªéç¾¤ç»æçå¤å°æå¡å¨ä¸ï¼ä»¥æé«æ´ä½çè´è½½å¤çè½åã\n\næ ç¶æåºç¨çå¤±æè½¬ç§»å¯ä»¥å©ç¨è´è½½åè¡¡æ¥å®ç°ã\n\næ ç¶æçåºç¨å®ç°é«å¯ç¨æ¶æååç®åï¼ç±äºæå¡å¨ä¸ä¿å­è¯·æ±ç¶æï¼é£ä¹æææå¡å¨å®å¨å¯¹ç­ï¼å¨ä»»æèç¹æ§è¡åæ ·çè¯·æ±ï¼ç»ææ»æ¯ä¸è´çãè¿ç§æåµä¸ï¼æç®åçé«å¯ç¨æ¹æ¡å°±æ¯ä½¿ç¨è´è½½åè¡¡ã\n\n> è´è½½åè¡¡åçå¯ä»¥åèï¼è´è½½åè¡¡åºæ¬åç\n\n\n# åå¸å¼ session\n\nåºç¨æå¡å¨çé«å¯ç¨æ¶æè®¾è®¡ä¸»è¦åºäºæå¡æ ç¶æè¿ä¸ç¹æ§ãäºå®ä¸ï¼ä¸å¡æ»æ¯æç¶æçï¼å¦è´­ç©è½¦è®°å½ç¨æ·çè´­ä¹°ä¿¡æ¯ï¼ç¨æ·çç»å½ç¶æï¼ææ°åå¸çæ¶æ¯ç­ç­ã\n\nå¨åå¸å¼åºæ¯ä¸ï¼ä¸ä¸ªç¨æ·ç session å¦æåªå­å¨å¨ä¸ä¸ªæå¡å¨ä¸ï¼é£ä¹å½è´è½½åè¡¡å¨æç¨æ·çä¸ä¸ä¸ªè¯·æ±è½¬åå°å¦ä¸ä¸ªæå¡å¨ä¸ï¼è¯¥æå¡å¨æ²¡æç¨æ·ç sessionï¼å°±å¯è½å¯¼è´ç¨æ·éè¦éæ°è¿è¡ç»å½ç­æä½ã\n\nä¸ºäºè§£å³åå¸å¼ session é®é¢ï¼å¸¸è§çè§£å³æ¹æ¡æï¼\n\n * ç²æ§ session\n * åºç¨æå¡å¨é´ç session å¤å¶å±äº«\n * åºäºç¼å­ç session å±äº« â\n\n> åå¸å¼ä¼è¯åçå¯ä»¥åèï¼åå¸å¼ä¼è¯åºæ¬åç\n\n\n# é«å¯ç¨çæå¡\n\nå¯å¤ç¨çæå¡ä¸ºä¸å¡äº§åæä¾åºç¡å¬å±æå¡ï¼å¤§åç³»ç»ä¸­è¿äºæå¡éå¸¸é½ç¬ç«åå¸å¼é¨ç½²ï¼è¢«å·ä½åºç¨è¿ç¨è°ç¨ãå¯å¤ç¨çæå¡ååºç¨ä¸æ ·ï¼ä¸è¬ä¹æ¯æ ç¶æçæå¡ï¼å æ­¤ï¼åæ ·å¯ä»¥ä½¿ç¨è´è½½åè¡¡çå¤±æè½¬ç§»ç­ç¥æ¥å®ç°é«å¯ç¨ã\n\né¤æ­¤ä»¥å¤ï¼è¿æä»¥ä¸ææ®µæ¥ä¿è¯æå¡çé«å¯ç¨ï¼\n\n * åçº§ç®¡ç\n * è¶æ¶éè¯\n * å¼æ­¥è°ç¨\n * è¿è½½ä¿æ¤\n   * éæµ\n   * éçº§\n   * æ­è·¯\n * å¹ç­æ§è®¾è®¡\n\n\n# åçº§ç®¡ç\n\nå°æå¡æ ¹æ®ä¸å¡éè¦æ§è¿è¡åçº§ç®¡çï¼æ ¸å¿åºç¨åæå¡ä¼åä½¿ç¨æ´å¥½çç¡¬ä»¶ï¼å¨è¿ç»´ååºéåº¦ä¸ä¹æ ¼å¤è¿éã\n\nå¨æå¡é¨ç½²ä¸è¿è¡å¿è¦çéç¦»ï¼é¿åæéçè¿éååºãä½ä¼åçº§çæå¡éè¿å¯å¨ä¸åççº¿ç¨æé¨ç½²å¨ä¸åçèææºä¸è¿è¡éç¦»ï¼èé«ä¼åçº§çæå¡åéè¦é¨ç½²å¨ä¸åçç©çæºä¸ï¼æ ¸å¿æå¡åæ°æ®çè³è¦é¨ç½²å¨ä¸åå°åçæ°æ®ä¸­å¿ã\n\n\n# è¶æ¶éè¯\n\nç±äºæå¡å¨å®æºãçº¿ç¨æ­»éç­åå ï¼å¯è½å¯¼è´åºç¨ç¨åºå¯¹æå¡ç«¯çè°ç¨å¤±å»ååºãæä»¥æå¿è¦å¼å¥è¶æ¶æºå¶ï¼ä¸æ¦è°ç¨è¶æ¶ï¼æå¡åæ¡æ¶æåºå¼å¸¸ï¼åºç¨ç¨åºæ ¹æ®æå¡è°åº¦ç­ç¥ï¼éæ©éè¯æè¯·æ±è½¬ç§»å°å¶ä»æºå¨ä¸ã\n\n\n# å¼æ­¥è°ç¨\n\nå¯¹äºéè¦å³æ¶ååºçä¸å¡ï¼åºç¨å¨è°ç¨æå¡æ¶å¯ä»¥éè¿æ¶æ¯éåç­å¼æ­¥æ¹å¼å®æï¼é¿åä¸ä¸ªæå¡å¤±è´¥å¯¼è´æ´ä¸ªåºç¨è¯·æ±å¤±è´¥çæåµãå½ç¶ä¸æ¯æææå¡è°ç¨é½å¯ä»¥å¼æ­¥è°ç¨ï¼å¯¹äºè·åç¨æ·ä¿¡æ¯è¿ç±»è°ç¨ï¼éç¨å¼æ­¥æ¹å¼ä¼å»¶é¿ååºæ¶é´ï¼å¾ä¸å¿å¤±ï¼æ­¤å¤ï¼å¯¹äºé£äºå¿é¡»ç¡®è®¤æå¡è°ç¨æè½ç»§ç»­ä¸ä¸æ­¥æä½çåºç¨ä¹ä¸éå®é£ç¨å¼æ­¥è°ç¨ã\n\n\n# è¿è½½ä¿æ¤\n\nè¿è½½ä¿æ¤çææ®µï¼ä¸è¬æï¼éæµãéçº§ãçæ­ã\n\n# éæµ\n\néçº§æ¯ä»ç³»ç»åè½ä¼åçº§çè§åº¦èèå¦ä½åºå¯¹æéï¼èéæµåæ¯ä»ç¨æ·è®¿é®ååçè§åº¦æ¥èèå¦ä½åºå¯¹æéãéæµæåªåè®¸ç³»ç»è½å¤æ¿åçè®¿é®éè¿æ¥ï¼è¶åºç³»ç»è®¿é®è½åçè¯·æ±å°è¢«ä¸¢å¼ã\n\nå¸¸è§çéæµæ¹å¼å¯ä»¥åä¸ºä¸¤ç±»ï¼åºäºè¯·æ±éæµååºäºèµæºéæµã\n\n# åºäºè¯·æ±éæµ\n\nåºäºè¯·æ±éæµæä»å¤é¨è®¿é®çè¯·æ±è§åº¦èèéæµï¼å¸¸è§çæ¹å¼æï¼éå¶æ»éãéå¶æ¶é´éã\n\néå¶æ»éçæ¹å¼æ¯éå¶æä¸ªææ çç´¯ç§¯ä¸éï¼å¸¸è§çæ¯éå¶å½åç³»ç»æå¡çç¨æ·æ»éï¼ä¾å¦æä¸ªç´æ­é´éå¶æ»ç¨æ·æ°ä¸éä¸º 100 ä¸ï¼è¶è¿ 100 ä¸åæ°çç¨æ·æ æ³è¿å¥ï¼æä¸ªæ¢è´­æ´»å¨ååæ°éåªæ 100 ä¸ªï¼éå¶åä¸æ¢è´­çç¨æ·ä¸éä¸º 1 ä¸ä¸ªï¼1 ä¸ä»¥åçç¨æ·ç´æ¥æç»ãéå¶æ¶é´éæéå¶ä¸æ®µæ¶é´åæä¸ªææ çä¸éï¼ä¾å¦ï¼1 åéååªåè®¸ 10000 ä¸ªç¨æ·è®¿é®ï¼æ¯ç§è¯·æ±å³°å¼æé«ä¸º 10 ä¸ã\n\næ è®ºæ¯éå¶æ»éè¿æ¯éå¶æ¶é´éï¼å±åçç¹ç¹é½æ¯å®ç°ç®åï¼ä½å¨å®è·µä¸­é¢ä¸´çä¸»è¦é®é¢æ¯æ¯è¾é¾ä»¥æ¾å°åéçéå¼ã\n\n# åºäºèµæºéæµ\n\nåºäºè¯·æ±éæµæ¯ä»ç³»ç»å¤é¨èèçï¼èåºäºèµæºéæµæ¯ä»ç³»ç»åé¨èèçï¼å³ï¼æ¾å°ç³»ç»åé¨å½±åæ§è½çå³é®èµæºï¼å¯¹å¶ä½¿ç¨ä¸éè¿è¡éå¶ãå¸¸è§çåé¨èµæºæï¼è¿æ¥æ°ãæä»¶å¥æãçº¿ç¨æ°ãè¯·æ±éåç­ã\n\nåºäºèµæºéæµç¸æ¯åºäºè¯·æ±éæµè½å¤æ´å ææå°åæ å½åç³»ç»çååï¼ä½å®è·µä¸­è®¾è®¡ä¹é¢ä¸´ä¸¤ä¸ªä¸»è¦çé¾ç¹ï¼å¦ä½ç¡®å®å³é®èµæºï¼å¦ä½ç¡®å®å³é®èµæºçéå¼ã\n\n# éçº§\n\néçº§æç³»ç»å°æäºä¸å¡æèæ¥å£çåè½éä½ï¼å¯ä»¥æ¯åªæä¾é¨ååè½ï¼ä¹å¯ä»¥æ¯å®å¨åæææåè½ã\n\nå¨æå¡è®¿é®çé«å³°æï¼æå¡å¯è½å ä¸ºå¤§éå¹¶åè°ç¨èæ§è½ä¸éï¼ä¸¥éæ¶å¯è½ä¼å¯¼è´å®æºãä¸ºäºä¿è¯æ ¸å¿åè½çæ­£å¸¸è¿è¡ï¼éè¦å¯¹æå¡è¿è¡éçº§ãéçº§æä¸¤ç§ææ®µï¼\n\næç»æå¡ - æç»ä½ä¼åçº§åºç¨çè°ç¨ï¼åå°æå¡è°ç¨å¹¶åæ°ï¼ç¡®ä¿æ ¸å¿åºç¨æ­£å¸¸ä½¿ç¨ãæèéæºæç»é¨åè°ç¨ï¼èçº¦èµæºï¼é¿åè¦æ­»å¤§å®¶ä¸èµ·æ­»çæ¨å§ã\n\nå³é­æå¡ - å³é­é¨åä¸éè¦çæå¡ï¼æèæå¡åé¨å³é­é¨åä¸éè¦çåè½ï¼ä»¥èçº¦èµæºã\n\n# çæ­\n\nçæ­åéçº§æ¯ä¸¤ä¸ªæ¯è¾å®¹ææ··æ·çæ¦å¿µï¼å ä¸ºåçº¯ä»åå­ä¸çå¥½åé½æç¦æ­¢æä¸ªåè½çææï¼ä½å¶å®åå¨å«ä¹æ¯ä¸åçï¼åå å¨äºéçº§çç®çæ¯åºå¯¹ç³»ç»èªèº«çæéï¼èçæ­çç®çæ¯åºå¯¹ä¾èµçå¤é¨ç³»ç»æéçæåµã\n\nçæ­æºå¶å®ç°çå³é®æ¯éè¦æä¸ä¸ªç»ä¸ç api è°ç¨å±ï¼ç± api è°ç¨å±æ¥è¿è¡éæ ·æèç»è®¡ï¼å¦ææ¥å£è°ç¨æ£è½å¨ä»£ç åå¤å°±æ²¡æ³è¿è¡ç»ä¸å¤çäºã\n\n\n# å¹ç­æ§è®¾è®¡\n\næå¡è°ç¨å¤±è´¥åï¼è°ç¨æ¹ä¼å°è¯·æ±è½¬åå°å¶ä»æå¡å¨ä¸ï¼ä½æ¯è¿ä¸ªå¤±è´¥å¯è½æ¯èåçå¤±è´¥ãæ¯å¦æå¡å·²ç»å¤çæåï¼ä½å ä¸ºç½ç»æéå¯¼è´è°ç¨æ¹æ²¡ææ¶å°åºç­ï¼æç­å¾è¶æ¶ãè¿ç§æåµä¸ï¼éæ°åèµ·è¯·æ±ï¼å¯è½ä¼å¯¼è´éå¤æä½ï¼å¦ï¼åæ°æ®åºåå¥ä¸¤æ¡è®°å½ãå¦æè¿ä¸ªæä½æ¯æ¯è¾ææçäº¤ææä½ï¼å°±ä¼äº§çä¸¥éåæã\n\næå¡éå¤è°ç¨æ¶æ æ³é¿åçï¼ä½æ¯åªè¦è½ä»ä¸å¡å®ç°ä¸ä¿è¯ï¼éå¤è°ç¨åä¸æ¬¡è°ç¨çå¤çç»æä¸è´ï¼åä¸å¡å°±æ²¡æé®é¢ï¼è¿å°±æ¯å¹ç­æ§è®¾è®¡ã\n\næäºæå¡çä¸å¡å¤©ç¶å·æå¹ç­æ§ï¼æ¯å¦å°ç¨æ·æ§å«è®¾ä¸ºç·æ§ï¼ä¸ç®¡æ§è¡å¤å°æ¬¡ï¼ç»ææ¯ä¸è´çãä½æäºå¤æçä¸å¡ï¼è¦æ³ä¿è¯å¹ç­æ§ï¼å°±éè¦æ ¹æ®å¨å±æ§ç id å»è¿è¡æææ§éªè¯ï¼éªè¯éè¿æè½ç»§ç»­æ§è¡ã\n\n\n# é«å¯ç¨çå­å¨\n\nå¯¹äºç»å¤§é¨åè½¯ä»¶ç³»ç»èè¨ï¼æ°æ®é½æ¯æå®è´µçèæèµäº§ï¼ä¸æ¦ä¸¢å¤±ï¼å¯ä»¥è¯´æ¯æ¯ç­æ§çæå»ã\n\nä¿è¯å­å¨é«å¯ç¨çä¸»è¦ææ®µæ¯ï¼æ°æ®å¤ä»½åå¤±æè½¬ç§»ã\n\nå­å¨é«å¯ç¨æ¶æçå¤ææ§ä¸»è¦ä½ç°å¨ï¼å¦ä½åºå¯¹å¯æ¬åæ­¥å»¶è¿åä¸­æ­å¯¼è´çæ°æ®ä¸è´æ§é®é¢ã\n\n> æç¤ºï¼åå¼å§å­¦ä¹ è¿é¨ååå®¹åï¼å»ºè®®åå­¦ä¹  äºãé«å¯ç¨æ¶æçè®º\n\n\n# æ°æ®å¤ä»½\n\næ°æ®å¤ä»½æ¯ä¿è¯æ°æ®æå¤ä¸ªå¯æ¬ï¼ä»»æå¯æ¬çä¸¢å¤±é½ä¸ä¼å¯¼è´æ°æ®çæ°¸ä¹ä¸¢å¤±ã\n\n * å·å¤ä»½ - å®æå°æ°æ®å¤å¶å°æç§å­å¨ä»è´¨ã\n * ç­å¤ä»½\n   * å¼æ­¥ç­å¤æ¹å¼ - å¼æ­¥ç­å¤æ¹å¼æ¯æå¤ä»½æ°æ®å¯æ¬çåå¥æä½å¼æ­¥å®æï¼åºç¨ç¨åºæ¶å°æ°æ®æå¡ç³»ç»çåæä½æåååºæ¶ï¼åªåæåäºä¸ä»½ï¼å­å¨ç³»ç»å°ä¼å¼æ­¥å°åå¶ä»å¯æ¬ã\n   * åæ­¥ç­å¤æ¹å¼ - åæ­¥ç­å¤æ¹å¼æ¯æå¤ä»½æ°æ®å¯æ¬çåå¥æä½åæ­¥å®æï¼å³åºç¨ç¨åºæ¶å°æ°æ®æå¡ç³»ç»çåæåååºæ¶ï¼å¤ä»½æ°æ®é½å·²ç»åæä½æåãä½æ¯å½åºç¨ç¨åºæ¶å°æ°æ®åæä½å¤±è´¥çååºå¼ï¼å¯è½æé¨åå¯æ¬æèå¨é¨å¯æ¬é½å·²ç»åå¥æåäºï¼å ä¸ºç½ç»æèç³»ç»æéï¼æ æ³è¿åæä½æåçååºï¼ã\n\n\n# å¤±æè½¬ç§»\n\nå¤±æè½¬ç§»æ¯ä¿è¯ä»»æä¸ä¸ªå¯æ¬ä¸å¯è®¿é®æ¶ï¼å¯ä»¥å¿«éåæ¢è®¿é®å¶ä»å¯æ¬ï¼ä¿è¯ç³»ç»æ´ä½å¯ç¨ã\n\n# å¤±æç¡®è®¤\n\n\n\nå¤æ­æå¡å¨å®æºçææ®µæä¸¤ç§ï¼å¿è·³æ£æµåè®¿é®å¤±è´¥æ¥åã\n\nå¯¹äºåºç¨ç¨åºçè®¿é®å¤±è´¥æ¥åï¼æ§å¶ä¸­å¿è¿éè¦åä¸æ¬¡åéå¿è·³æ£æµè¿è¡ç¡®è®¤ï¼ä»¥åéè¯¯å¤æ­æå¡å¨å®æºãå ä¸ºä¸æ¦è¿è¡æ°æ®è®¿é®çå¤±æè½¬ç§»ï¼æå³çæ°æ®å­å¨å¤ä»½å¯æ¬ä¸ä¸è´ï¼éè¦è¿è¡åç»­ä¸ç³»åçå¤æå¨ä½ã\n\n# è®¿é®è½¬ç§»\n\nç¡®è®¤æå°æ°æ®æå¡å¨å®æºåï¼å°±éè¦å°æ°æ®è¯»åè®¿é®éæ°è·¯ç±å°å¶ä»æå¡å¨ä¸ãå¯¹äºå®å¨å¯¹ç­å­å¨çæå¡å¨ï¼å½å¶ä¸­ä¸å°å®æºåï¼åºç¨ç¨åºæ ¹æ®éç½®ç´æ¥åæ¢å°å¯¹ç­æå¡å¨ä¸ãå¦æå­å¨ä¸å¯¹ç­ï¼å°±éè¦éæ°è®¡ç®è·¯ç±ï¼éæ©å­å¨æå¡å¨ã\n\n# æ°æ®æ¢å¤\n\nå ä¸ºæå°æå¡å¨å®æºï¼æä»¥æ°æ®å­å¨çå¯æ¬æ°ç®ä¼åå°ï¼å¿é¡»å°å¯æ¬çæ°ç®æ¢å¤å°ç³»ç»è®¾å®çå¼ï¼å¦åï¼åææå¡å¨å®æºæ¶ï¼å°±å¯è½åºç°æ æ³è®¿é®è½¬ç§»ï¼æ°æ®æ°¸ä¹ä¸¢å¤±çæåµãå æ­¤ç³»ç»éè¦ä»å¥åº·çæå¡å¨å¤å¶æ°æ®ï¼å°æ°æ®å¯æ¬æ°ç®æ¢å¤å°è®¾å®å¼ã\n\n\n# è¾å©ææ®µ\n\n\n# å¼å°å¤æ´»\n\nå¼å°å¤æ´»æ¶æçå³é®ç¹å°±æ¯å¼å°ãå¤æ´»ï¼å¶ä¸­å¼å°å°±æ¯æå°çä½ç½®ä¸ä¸åçå°æ¹ï¼ç±»ä¼¼äºâä¸è¦æé¸¡èé½æ¾å¨åä¸ç¯®å­éâï¼å¤æ´»å°±æ¯æä¸åå°çä½ç½®ä¸çç³»ç»é½è½å¤æä¾ä¸å¡æå¡ï¼è¿éçâæ´»âæ¯æ´»å¨ãæ´»è·çææã\n\nå¼å°å¤æ´»æ¶æå¯ä»¥åä¸ºååå¼åºãè·¨åå¼å°ãè·¨å½å¼å°ã\n\nå¼å°å¤æ´»æ¶æçä»£ä»·ï¼\n\n * ç³»ç»å¤æåº¦ä¼åçè´¨çååï¼éè¦è®¾è®¡å¤æçå¼å°å¤æ´»æ¶æã\n * ææ¬ä¼ä¸åï¼æ¯ç«è¦å¤å¨ä¸ä¸ªæèå¤ä¸ªæºæ¿æ­å»ºç¬ç«çä¸å¥ä¸å¡ç³»ç»ã\n\nå¼å°å¤æ´»çè®¾è®¡ååï¼\n\n * ä¿è¯æ ¸å¿ä¸å¡çå¼å°å¤æ´»\n * ä¿è¯æ ¸å¿æ°æ®æç»ä¸è´æ§\n * éç¨å¤ç§ææ®µåæ­¥æ°æ®\n * åªä¿è¯ç»å¤§é¨åç¨æ·çå¼å°å¤æ´»\n\nå¼å°å¤æ´»è®¾è®¡æ­¥éª¤ï¼\n\n * ä¸å¡åçº§ - å¸¸è§çåçº§æ åæï¼\n   * æµéå¤§çä¸å¡\n   * æ ¸å¿ä¸å¡\n   * çå©ä¸å¡\n * æ°æ®åç±» - å¸¸è§çæ°æ®åæç»´åº¦æï¼\n   * æ°æ®é\n   * å¯ä¸æ§\n   * å®æ¶æ§\n   * å¯ä¸¢å®æ§\n   * å¯æ¢å¤æ§\n * æ°æ®åæ­¥ - å¸¸è§çæ°æ®åæ­¥æ¹æ¡\n   * å­å¨ç³»ç»åæ­¥\n   * æ¶æ¯éååæ­¥\n   * éå¤çæ\n * å¼å¸¸å¤ç - å¸¸è§å¼å¸¸å¤çæªæ½ï¼\n   * å¤ééåæ­¥\n   * åæ­¥åè®¿é®ç»å\n   * æ¥å¿è®°å½\n   * ç¨æ·è¡¥å¿\n\n\n# åå¸æµç¨\n\né«å¯ç¨çè½¯ä»¶è´¨éä¿è¯çææ®µï¼\n\n * èªå¨åæµè¯\n * é¢åå¸éªè¯\n * ä»£ç æ§å¶\n * èªå¨ååå¸\n * ç°åº¦åå¸\n\n\n# ç³»ç»çæ§\n\n> ä¸åè®¸æ²¡æçæ§çç³»ç»ä¸çº¿ã\n\n * çæ§æ°æ®éé\n   * ç¨æ·è¡ä¸ºæ¥å¿æ¶é\n     * æå¡ç«¯æ¥å¿æ¶é - apacheãnginx ç­å ä¹ææ web æå¡å¨é½å·å¤æ¥å¿è®°å½åè½ï¼åªè¦å¼å¯æ¥å¿è®°å½å³å¯ãå¦ææ¯æå¡å¨æ¯è¾å¤ï¼éè¦éä¸­ééæ¥å¿ï¼éå¸¸ä¼ä½¿ç¨ elastic æ¥è¿è¡æ¶éã\n     * å®¢æ·ç«¯æ¥å¿æ¶é - å©ç¨é¡µé¢åµå¥ä¸é¨ç javascript èæ¬å¯ä»¥æ¶éç¨æ·çå®çæä½è¡ä¸ºã\n     * æ¥å¿åæ - å¯ä»¥å©ç¨ elasticsearch åè¯­ä¹åæåæç´¢ï¼å©ç¨å®æ¶è®¡ç®æ¡æ¶ stormãflink ç­å¼åæ¥å¿ç»è®¡ä¸åæå·¥å·ã\n   * æå¡å¨æ§è½çæ§ - æ¶éæå¡å¨æ§è½ææ ï¼å¦ç³»ç»è´è½½ãåå­å ç¨ãcpu å ç¨ãç£ç ioãç½ç» io ç­ãå¸¸ç¨ççæ§å·¥å·æï¼apache skywalking ãpinpoint ç­ã\n   * è¿è¡æ°æ®æ¥å - åºè¯¥çæ§ä¸äºä¸å·ä½ä¸å¡åºæ¯ç¸å³çææ¯åä¸å¡ææ ï¼å¦ï¼ç¼å­å½ä¸­çãå¹³åååºæ¶å»¶ãtpsãqps ç­ã\n * çæ§ç®¡ç\n   * ç³»ç»æ¥è­¦ - è®¾ç½®éå¼ãå½è¾¾å°éå¼ï¼åæ¶è§¦ååè­¦ï¼ç­ä¿¡ãé®ä»¶ãéä¿¡å·¥å·åå¯ï¼ï¼éè¿åæ¶å¤æ­ç¶åµï¼é²æ£äºæªç¶ã\n   * å¤±æè½¬ç§» - çæ§ç³»ç»å¯ä»¥å¨åç°æéçæåµä¸ä¸»å¨éç¥åºç¨è¿è¡å¤±æè½¬ç§»ã\n   * èªå¨ä¼ééçº§\n     * ä¼ééçº§æ¯ä¸ºäºåºä»çªç¶çåçè®¿é®é«å³°ï¼ä¸»å¨å³é­é¨ååè½ï¼éæ¾é¨åèµæºï¼ä»¥ä¿è¯æ ¸å¿åè½çä¼åè®¿é®ã\n     * ç³»ç»å¨çæ§ç®¡çåºç¡ä¹ä¸å®ç°èªå¨ä¼ééçº§ï¼æ¯ææ§æ¶æççæ³ç¶æã\n\n\n# åèèµæ\n\n * ãå¤§åç½ç«ææ¯æ¶æï¼æ ¸å¿åçä¸æ¡ä¾åæã\n * ãäº¿çº§æµéç½ç«æ¶ææ ¸å¿ææ¯ï¼è·å¼æ¶å­¦æ­å»ºé«å¯ç¨é«å¹¶åç³»ç»ã\n * å·¦è³å¬é£",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"ç³»ç»ä¼¸ç¼©æ§æ¶æ",frontmatter:{title:"ç³»ç»ä¼¸ç¼©æ§æ¶æ",date:"2018-07-05T15:11:00.000Z",categories:["è®¾è®¡","æ¶æ","ç»¼å"],tags:["æ¶æ","ä¼¸ç¼©æ§"],permalink:"/pages/1e5251/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/01.%E6%9E%B6%E6%9E%84/00.%E7%BB%BC%E5%90%88/05.%E7%B3%BB%E7%BB%9F%E4%BC%B8%E7%BC%A9%E6%80%A7%E6%9E%B6%E6%9E%84.html",relativePath:"03.è®¾è®¡/01.æ¶æ/00.ç»¼å/05.ç³»ç»ä¼¸ç¼©æ§æ¶æ.md",key:"v-19e0ab98",path:"/pages/1e5251/",headers:[{level:2,title:"ç³»ç»æ¶æçä¼¸ç¼©æ§è®¾è®¡",slug:"ç³»ç»æ¶æçä¼¸ç¼©æ§è®¾è®¡",normalizedTitle:"ç³»ç»æ¶æçä¼¸ç¼©æ§è®¾è®¡",charIndex:69},{level:3,title:"ä¸ååè½è¿è¡ç©çåç¦»å®ç°ä¼¸ç¼©",slug:"ä¸ååè½è¿è¡ç©çåç¦»å®ç°ä¼¸ç¼©",normalizedTitle:"ä¸ååè½è¿è¡ç©çåç¦»å®ç°ä¼¸ç¼©",charIndex:84},{level:3,title:"åä¸åè½éè¿éç¾¤è§æ¨¡å®ç°ä¼¸ç¼©",slug:"åä¸åè½éè¿éç¾¤è§æ¨¡å®ç°ä¼¸ç¼©",normalizedTitle:"åä¸åè½éè¿éç¾¤è§æ¨¡å®ç°ä¼¸ç¼©",charIndex:189},{level:2,title:"åºç¨æå¡å¨éç¾¤çä¼¸ç¼©æ§è®¾è®¡",slug:"åºç¨æå¡å¨éç¾¤çä¼¸ç¼©æ§è®¾è®¡",normalizedTitle:"åºç¨æå¡å¨éç¾¤çä¼¸ç¼©æ§è®¾è®¡",charIndex:320},{level:3,title:"HTTP éå®åè´è½½åè¡¡",slug:"http-éå®åè´è½½åè¡¡",normalizedTitle:"http éå®åè´è½½åè¡¡",charIndex:441},{level:3,title:"DNS ååè§£æè´è½½åè¡¡",slug:"dns-ååè§£æè´è½½åè¡¡",normalizedTitle:"dns ååè§£æè´è½½åè¡¡",charIndex:610},{level:3,title:"ååä»£çè´è½½åè¡¡",slug:"ååä»£çè´è½½åè¡¡",normalizedTitle:"ååä»£çè´è½½åè¡¡",charIndex:1138},{level:3,title:"IP è´è½½åè¡¡",slug:"ip-è´è½½åè¡¡",normalizedTitle:"ip è´è½½åè¡¡",charIndex:1234},{level:3,title:"æ°æ®é¾è·¯å±è´è½½åè¡¡",slug:"æ°æ®é¾è·¯å±è´è½½åè¡¡",normalizedTitle:"æ°æ®é¾è·¯å±è´è½½åè¡¡",charIndex:1535},{level:3,title:"è´è½½åè¡¡ç®æ³",slug:"è´è½½åè¡¡ç®æ³",normalizedTitle:"è´è½½åè¡¡ç®æ³",charIndex:782},{level:2,title:"åå¸å¼ç¼å­éç¾¤çä¼¸ç¼©æ§è®¾è®¡",slug:"åå¸å¼ç¼å­éç¾¤çä¼¸ç¼©æ§è®¾è®¡",normalizedTitle:"åå¸å¼ç¼å­éç¾¤çä¼¸ç¼©æ§è®¾è®¡",charIndex:2466},{level:2,title:"æ°æ®å­å¨æå¡éç¾¤çä¼¸ç¼©æ§è®¾è®¡",slug:"æ°æ®å­å¨æå¡éç¾¤çä¼¸ç¼©æ§è®¾è®¡",normalizedTitle:"æ°æ®å­å¨æå¡éç¾¤çä¼¸ç¼©æ§è®¾è®¡",charIndex:2517},{level:3,title:"å³ç³»åæ°æ®åºçä¼¸ç¼©æ§è®¾è®¡",slug:"å³ç³»åæ°æ®åºçä¼¸ç¼©æ§è®¾è®¡",normalizedTitle:"å³ç³»åæ°æ®åºçä¼¸ç¼©æ§è®¾è®¡",charIndex:2536},{level:3,title:"NoSql æ°æ®åºçä¼¸ç¼©æ§è®¾è®¡",slug:"nosql-æ°æ®åºçä¼¸ç¼©æ§è®¾è®¡",normalizedTitle:"nosql æ°æ®åºçä¼¸ç¼©æ§è®¾è®¡",charIndex:2657},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:2723}],headersStr:"ç³»ç»æ¶æçä¼¸ç¼©æ§è®¾è®¡ ä¸ååè½è¿è¡ç©çåç¦»å®ç°ä¼¸ç¼© åä¸åè½éè¿éç¾¤è§æ¨¡å®ç°ä¼¸ç¼© åºç¨æå¡å¨éç¾¤çä¼¸ç¼©æ§è®¾è®¡ HTTP éå®åè´è½½åè¡¡ DNS ååè§£æè´è½½åè¡¡ ååä»£çè´è½½åè¡¡ IP è´è½½åè¡¡ æ°æ®é¾è·¯å±è´è½½åè¡¡ è´è½½åè¡¡ç®æ³ åå¸å¼ç¼å­éç¾¤çä¼¸ç¼©æ§è®¾è®¡ æ°æ®å­å¨æå¡éç¾¤çä¼¸ç¼©æ§è®¾è®¡ å³ç³»åæ°æ®åºçä¼¸ç¼©æ§è®¾è®¡ NoSql æ°æ®åºçä¼¸ç¼©æ§è®¾è®¡ åèèµæ",content:"# ç³»ç»ä¼¸ç¼©æ§æ¶æ\n\n> ä¼¸ç¼©æ§æ¶ææ¯æä¸éè¦æ¹åç³»ç»çè½¯ç¡¬ä»¶è®¾è®¡ï¼ä»éè¿æ¹åé¨ç½²æå¡å¨æ°éå°±å¯ä»¥æ©å¤§æç¼©å°ç³»ç»çæå¡å¤çè½åã\n\n\n# ç³»ç»æ¶æçä¼¸ç¼©æ§è®¾è®¡\n\n\n# ä¸ååè½è¿è¡ç©çåç¦»å®ç°ä¼¸ç¼©\n\n * çºµååç¦»ï¼åå±ååç¦»ï¼ - å°ä¸å¡å¤çæµç¨ä¸çä¸åé¨ååç¦»é¨ç½²ï¼å®ç°ç³»ç»ä¼¸ç¼©æ§ã\n * æ¨ªååç¦»ï¼ä¸å¡åå²ååç¦»ï¼ - å°ä¸åçä¸å¡æ¨¡ååç¦»é¨ç½²ï¼å®ç°ç³»ç»ä¼¸ç¼©æ§ã\n\n\n# åä¸åè½éè¿éç¾¤è§æ¨¡å®ç°ä¼¸ç¼©\n\nå°ä¸ååè½åç¦»é¨ç½²å¯ä»¥å®ç°ä¸å®ç¨åº¦çä¼¸ç¼©æ§ï¼ä½æ¯éçè®¿é®ééæ­¥å¢å ï¼å³ä½¿åç¦»å°æå°ç²åº¦çç¬ç«é¨ç½²ï¼åä¸çæå¡å¨ä¹ä¸è½æ»¡è¶³ä¸å¡è§æ¨¡çè¦æ±ãå æ­¤å¿é¡»ä½¿ç¨æå¡å¨éç¾¤ï¼å³å°ç¸åæå¡é¨ç½²å¨å¤ææå¡å¨ä¸ææä¸ä¸ªéç¾¤æ´ä½å¯¹å¤æä¾æå¡ã\n\n\n# åºç¨æå¡å¨éç¾¤çä¼¸ç¼©æ§è®¾è®¡\n\nå¦æ HTTP è¯·æ±ååè£ç½®å¯ä»¥æç¥æèå¯ä»¥éç½®éç¾¤çæå¡å¨æ°éï¼å¯ä»¥åæ¶åç°éç¾¤ä¸­æ°ä¸çº¿æä¸çº¿çæå¡å¨ï¼å¹¶è½åæ°ä¸çº¿çæå¡å¨ååè¯·æ±ï¼åæ­¢åå·²ä¸çº¿çæå¡å¨ååè¯·æ±ï¼é£ä¹å°±å®ç°äºåºç¨æå¡å¨éç¾¤çä¼¸ç¼©æ§ã\n\n\n# HTTP éå®åè´è½½åè¡¡\n\n\n\nå©ç¨ HTTP éå®ååè®®å®ç°è´è½½åè¡¡ã\n\nè¿ç§è´è½½åè¡¡æ¹æ¡çä¼ç¹æ¯æ¯è¾ç®åã\n\nç¼ºç¹æ¯æµè§å¨éè¦ä¸¤æ¬¡è¯·æ±æå¡å¨æè½å®æä¸æ¬¡è®¿é®ï¼æ§è½è¾å·®ï¼éå®åæå¡å¨èªèº«çå¤çè½åæå¯è½æä¸ºç¶é¢ï¼æ´ä¸ªéç¾¤çä¼¸ç¼©æ§è§æ¨¡æéï¼ä½¿ç¨ HTTP 302 ååºç éå®åï¼å¯è½ä½¿æç´¢å¼æå¤æ­ä¸º SEO ä½å¼ï¼éä½æç´¢æåã\n\n\n# DNS ååè§£æè´è½½åè¡¡\n\nå©ç¨ DNS å¤çååè§£æè¯·æ±çåæ¶è¿è¡è´è½½åè¡¡å¤ççä¸ç§æ¹æ¡ã\n\n\n\nå¨ DNS æå¡å¨ä¸­éç½®å¤ä¸ª A è®°å½ï¼å¦ï¼\n\n114.100.40.1 www.mysite.com\n114.100.40.2 www.mysite.com\n114.100.40.3 www.mysite.com\n\n\næ¯æ¬¡ååè§£æè¯·æ±é½ä¼æ ¹æ®è´è½½åè¡¡ç®æ³è®¡ç®ä¸ä¸ªä¸åç IP å°åè¿åï¼è¿æ · A è®°å½ä¸­éç½®çå¤ä¸ªæå¡å¨å°±ææä¸ä¸ªéç¾¤ï¼å¹¶å¯ä»¥å®ç°è´è½½åè¡¡ã\n\nDNS ååè§£æè´è½½åè¡¡çä¼ç¹ï¼\n\n * å°è´è½½åè¡¡çå·¥ä½è½¬äº¤ç»äº DNSï¼çæäºç½ç«ç®¡çç»´æ¤çéº»ç¦ã\n * åæ¶ï¼è®¸å¤ DNS æå¡å¨è¿æ¯æåºäºå°çä½ç½®çååè§£æï¼å³å°ååè§£ææè·ç¦»ç¨æ·å°çæè¿çä¸ä¸ªæå¡å¨å°åï¼è¿æ ·å¯ä»¥å å¿«ç¨æ·è®¿é®éåº¦ï¼æ¹åæ§è½ã\n\nDNS ååè§£æè´è½½åè¡¡çç¼ºç¹ï¼\n\n * DNS æ¯å¤çº§è§£æï¼æ¯ä¸çº§ DNS é½å¯è½ç¼å­ A è®°å½ï¼å½æå°æå¡å¨ä¸çº¿åï¼å³ä½¿ä¿®æ¹äº DNS ç A è®°å½ï¼è¦ä½¿å¶çæä¹éè¦è¾é¿æ¶é´ãè¿æ®µæ¶é´ï¼ä¾ç¶ä¼ååè§£æå°å·²ç»ä¸çº¿çæå¡å¨ï¼å¯¼è´ç¨æ·è®¿é®å¤±è´¥ã\n * DNS çè´è½½åè¡¡çæ§å¶æå¨ååæå¡åé£éï¼ç½ç«æ æ³å¯¹å¶åæ´å¤æ¹ååæ´å¼ºå¤§çç®¡çã\n\n\n# ååä»£çè´è½½åè¡¡\n\nå¤§å¤æ°ååä»£çæå¡å¨åæ¶æä¾ååä»£çåè´è½½åè¡¡çåè½ã\n\n\n\nååä»£çæå¡å¨çä¼ç¹æ¯é¨ç½²ç®åãç¼ºç¹æ¯ååä»£çæå¡å¨æ¯ææè¯·æ±åååºçä¸­è½¬ç«ï¼å¶æ§è½å¯è½ä¼æä¸ºç¶é¢ã\n\n\n# IP è´è½½åè¡¡\n\nå¨ç½ç»å±éè¿ä¿®æ¹è¯·æ±ç®æ å°åè¿è¡è´è½½åè¡¡ã\n\n\n\nè´è½½åè¡¡æå¡å¨ï¼ç½å³æå¡å¨ï¼å¨æä½ç³»ç»åæ ¸è·åç½ç»æ°æ®åï¼æ ¹æ®è´è½½åè¡¡ç®æ³è®¡ç®å¾å°ä¸å°çå® Web æå¡å¨ 10.0.0.1ï¼ç¶åå°ç®ç IP å°åä¿®æ¹ä¸º 10.0.0.1ï¼ä¸éè¦éè¿ç¨æ·è¿ç¨ãçå® Web æå¡å¨å¤çå®æåï¼ååºæ°æ®ååå°è´è½½åè¡¡æå¡å¨ï¼è´è½½åè¡¡æå¡å¨åå°æ°æ®ååå°åä¿®æ¹ä¸ºèªèº«ç IP å°åï¼114.100.80.10ï¼åéç»æµè§å¨ã\n\nIP è´è½½åè¡¡å¨åæ ¸å®ææ°æ®ååï¼æä»¥å¤çæ§è½ä¼äºååä»£çè´è½½åè¡¡ãä½æ¯å ä¸ºææè¯·æ±ååºé½è¦ç»è¿è´è½½åè¡¡æå¡å¨ï¼éç¾¤çæå¤§ååºæ°æ®ååéåå¶äºè´è½½åè¡¡æå¡å¨ç½å¡å¸¦å®½ã\n\n\n# æ°æ®é¾è·¯å±è´è½½åè¡¡\n\næ°æ®é¾è·¯å±è´è½½åè¡¡æ¯æå¨éä¿¡åè®®çæ°æ®é¾è·¯å±ä¿®æ¹ mac å°åè¿è¡è´è½½åè¡¡ã\n\n\n\nè¿ç§æ¹å¼åç§°ä½ä¸è§ä¼ è¾æ¹å¼ï¼è´è½½åè¡¡æ°æ®ååè¿ç¨ä¸­ä¸ä¿®æ¹ IP å°åï¼åªä¿®æ¹ç®ç mac å°åï¼éè¿éç½®çå®ç©çæå¡å¨éç¾¤æææºå¨èæ IP åè´è½½åè¡¡æå¡å¨ IP å°åä¸è´ï¼ä»èè¾¾å°ä¸ä¿®æ¹æ°æ®åçæºå°ååç®çå°åå°±å¯ä»¥è¿è¡æ°æ®ååçç®çï¼ç±äºå®éå¤çè¯·æ±ççå®ç©çæå¡å¨ IP åæ°æ®è¯·æ±ç®ç IP ä¸è´ï¼ä¸éè¦éè¿è´è½½åè¡¡æå¡å¨è¿è¡å°åè½¬æ¢ï¼å¯å°ååºæ°æ®åç´æ¥è¿åç»ç¨æ·æµè§å¨ï¼é¿åè´è½½åè¡¡æå¡å¨ç½å¡å¸¦å®½æä¸ºç¶é¢ãè¿ç§è´è½½æ¹å¼åç§°ä½ç´æ¥è·¯ç±æ¹å¼ã\n\nå¨ Linux å¹³å°ä¸æå¥½çé¾è·¯å±è´è½½åè¡¡å¼æºäº§åæ¯ LVS(Linux Virtual Server)ã\n\n\n# è´è½½åè¡¡ç®æ³\n\nè´è½½åè¡¡æå¡å¨çå®ç°å¯ä»¥åä¸ºä¸¤ä¸ªé¨åï¼\n\n 1. æ ¹æ®è´è½½åè¡¡ç®æ³å Web æå¡å¨åè¡¨è®¡ç®å¾å°éç¾¤ä¸­ä¸å° Web æå¡å¨çå°åã\n 2. å°è¯·æ±æ°æ®åéå°è¯¥å°åå¯¹åºç Web æå¡å¨ä¸ã\n\nè´è½½åè¡¡ç®æ³éå¸¸æä»¥ä¸å ç§ï¼\n\n * è½®è¯¢ï¼Round Robinï¼ - ææè¯·æ±è¢«ä¾æ¬¡ååå°æ¯å°åºç¨æå¡å¨ä¸ï¼å³æ¯å°æå¡å¨éè¦å¤ççè¯·æ±æ°æ®é½ç¸åï¼éåäºæææå¡å¨ç¡¬ä»¶é½ç¸åçåºæ¯ã\n * å æè½®è¯¢ï¼Weighted Round Robinï¼ - æ ¹æ®æå¡å¨ç¡¬ä»¶æ§è½æåµï¼å¨è½®è¯¢çåºç¡ä¸ï¼æç§éç½®æéå°è¯·æ±ååå°æ¯ä¸ªæå¡å¨ï¼é«æ§è½æå¡å¨è½åéæ´å¤è¯·æ±ã\n * éæºï¼Randomï¼ - è¯·æ±è¢«éæºåéå°åä¸ªåºç¨æå¡å¨ï¼å¨è®¸å¤åºåä¸ï¼è¿ç§æ¹æ¡é½å¾ç®åå®ç¨ï¼å ä¸ºå¥½çéæºæ°æ¬èº«å°±å¾å¹³åï¼å³ä½¿åºç¨æå¡å¨ç¡¬ä»¶éç½®ä¸åï¼ä¹å¯ä»¥ä½¿ç¨å æéæºç®æ³ã\n * æå°è¿æ¥ï¼Least Connectionï¼ - è®°å½æ¯ä¸ªåºç¨æå¡å¨æ­£å¨å¤ççè¿æ¥æ°ï¼å°æ°å°çè¯·æ±ååå°æå°è¿æ¥çæå¡å¨ä¸ï¼åºè¯¥è¯´ï¼è¿æ¯æç¬¦åè´è½½åè¡¡å®ä¹çç®æ³ã\n * æºå°å Hashï¼Source Hashï¼ - æ ¹æ®è¯·æ±æ¥æºç IP å°åè¿è¡ Hash è®¡ç®ï¼å¾å°åºç¨æå¡å¨ï¼è¿æ ·æ¥èªåä¸ä¸ª IP å°åçè¯·æ±æ»å¨åä¸ä¸ªæå¡å¨ä¸å¤çï¼è¯¥è¯·æ±çä¸ä¸æä¿¡æ¯å¯ä»¥å­å¨å¨è¿å°æå¡å¨ä¸ï¼å¨ä¸ä¸ªä¼è¯å¨æåéå¤ä½¿ç¨ï¼ä»èå®ç°ä¼è¯ç²æ»ã\n\n\n# åå¸å¼ç¼å­éç¾¤çä¼¸ç¼©æ§è®¾è®¡\n\nç®åæ¯è¾æµè¡çåå¸å¼éç¾¤ä¼¸ç¼©æ§æ¹æ¡å°±æ¯ï¼ä¸è´æ§ HASH ç®æ³\n\n\n# æ°æ®å­å¨æå¡éç¾¤çä¼¸ç¼©æ§è®¾è®¡\n\n\n# å³ç³»åæ°æ®åºçä¼¸ç¼©æ§è®¾è®¡\n\n * ä¸»ä»å¤å¶ - ä¸»æµå³ç³»åæ°æ®åºä¸è¬é½æ¯æä¸»ä»å¤å¶ã\n * ååº - æ ¹æ®ä¸å¡å¯¹æ°æ®åºè¿è¡åå²ãå¶çº¦æ¡ä»¶æ¯è·¨åºçè¡¨ä¸è½è¿è¡ Join æä½ã\n * åè¡¨ - ä½¿ç¨æ°æ®åºåçä¸­é´ä»¶ï¼å¦ Cobar ç­ã\n\n\n# NoSql æ°æ®åºçä¼¸ç¼©æ§è®¾è®¡\n\nä¸è¬èè¨ï¼Nosql ä¸æ¯æ SQL å ACIDï¼ä½æ¯å¼ºåäºå¯¹äºé«å¯ç¨åä¼¸ç¼©æ§çæ¯æã\n\n\n# åèèµæ\n\n * ãå¤§åç½ç«ææ¯æ¶æï¼æ ¸å¿åçä¸æ¡ä¾åæã",normalizedContent:"# ç³»ç»ä¼¸ç¼©æ§æ¶æ\n\n> ä¼¸ç¼©æ§æ¶ææ¯æä¸éè¦æ¹åç³»ç»çè½¯ç¡¬ä»¶è®¾è®¡ï¼ä»éè¿æ¹åé¨ç½²æå¡å¨æ°éå°±å¯ä»¥æ©å¤§æç¼©å°ç³»ç»çæå¡å¤çè½åã\n\n\n# ç³»ç»æ¶æçä¼¸ç¼©æ§è®¾è®¡\n\n\n# ä¸ååè½è¿è¡ç©çåç¦»å®ç°ä¼¸ç¼©\n\n * çºµååç¦»ï¼åå±ååç¦»ï¼ - å°ä¸å¡å¤çæµç¨ä¸çä¸åé¨ååç¦»é¨ç½²ï¼å®ç°ç³»ç»ä¼¸ç¼©æ§ã\n * æ¨ªååç¦»ï¼ä¸å¡åå²ååç¦»ï¼ - å°ä¸åçä¸å¡æ¨¡ååç¦»é¨ç½²ï¼å®ç°ç³»ç»ä¼¸ç¼©æ§ã\n\n\n# åä¸åè½éè¿éç¾¤è§æ¨¡å®ç°ä¼¸ç¼©\n\nå°ä¸ååè½åç¦»é¨ç½²å¯ä»¥å®ç°ä¸å®ç¨åº¦çä¼¸ç¼©æ§ï¼ä½æ¯éçè®¿é®ééæ­¥å¢å ï¼å³ä½¿åç¦»å°æå°ç²åº¦çç¬ç«é¨ç½²ï¼åä¸çæå¡å¨ä¹ä¸è½æ»¡è¶³ä¸å¡è§æ¨¡çè¦æ±ãå æ­¤å¿é¡»ä½¿ç¨æå¡å¨éç¾¤ï¼å³å°ç¸åæå¡é¨ç½²å¨å¤ææå¡å¨ä¸ææä¸ä¸ªéç¾¤æ´ä½å¯¹å¤æä¾æå¡ã\n\n\n# åºç¨æå¡å¨éç¾¤çä¼¸ç¼©æ§è®¾è®¡\n\nå¦æ http è¯·æ±ååè£ç½®å¯ä»¥æç¥æèå¯ä»¥éç½®éç¾¤çæå¡å¨æ°éï¼å¯ä»¥åæ¶åç°éç¾¤ä¸­æ°ä¸çº¿æä¸çº¿çæå¡å¨ï¼å¹¶è½åæ°ä¸çº¿çæå¡å¨ååè¯·æ±ï¼åæ­¢åå·²ä¸çº¿çæå¡å¨ååè¯·æ±ï¼é£ä¹å°±å®ç°äºåºç¨æå¡å¨éç¾¤çä¼¸ç¼©æ§ã\n\n\n# http éå®åè´è½½åè¡¡\n\n\n\nå©ç¨ http éå®ååè®®å®ç°è´è½½åè¡¡ã\n\nè¿ç§è´è½½åè¡¡æ¹æ¡çä¼ç¹æ¯æ¯è¾ç®åã\n\nç¼ºç¹æ¯æµè§å¨éè¦ä¸¤æ¬¡è¯·æ±æå¡å¨æè½å®æä¸æ¬¡è®¿é®ï¼æ§è½è¾å·®ï¼éå®åæå¡å¨èªèº«çå¤çè½åæå¯è½æä¸ºç¶é¢ï¼æ´ä¸ªéç¾¤çä¼¸ç¼©æ§è§æ¨¡æéï¼ä½¿ç¨ http 302 ååºç éå®åï¼å¯è½ä½¿æç´¢å¼æå¤æ­ä¸º seo ä½å¼ï¼éä½æç´¢æåã\n\n\n# dns ååè§£æè´è½½åè¡¡\n\nå©ç¨ dns å¤çååè§£æè¯·æ±çåæ¶è¿è¡è´è½½åè¡¡å¤ççä¸ç§æ¹æ¡ã\n\n\n\nå¨ dns æå¡å¨ä¸­éç½®å¤ä¸ª a è®°å½ï¼å¦ï¼\n\n114.100.40.1 www.mysite.com\n114.100.40.2 www.mysite.com\n114.100.40.3 www.mysite.com\n\n\næ¯æ¬¡ååè§£æè¯·æ±é½ä¼æ ¹æ®è´è½½åè¡¡ç®æ³è®¡ç®ä¸ä¸ªä¸åç ip å°åè¿åï¼è¿æ · a è®°å½ä¸­éç½®çå¤ä¸ªæå¡å¨å°±ææä¸ä¸ªéç¾¤ï¼å¹¶å¯ä»¥å®ç°è´è½½åè¡¡ã\n\ndns ååè§£æè´è½½åè¡¡çä¼ç¹ï¼\n\n * å°è´è½½åè¡¡çå·¥ä½è½¬äº¤ç»äº dnsï¼çæäºç½ç«ç®¡çç»´æ¤çéº»ç¦ã\n * åæ¶ï¼è®¸å¤ dns æå¡å¨è¿æ¯æåºäºå°çä½ç½®çååè§£æï¼å³å°ååè§£ææè·ç¦»ç¨æ·å°çæè¿çä¸ä¸ªæå¡å¨å°åï¼è¿æ ·å¯ä»¥å å¿«ç¨æ·è®¿é®éåº¦ï¼æ¹åæ§è½ã\n\ndns ååè§£æè´è½½åè¡¡çç¼ºç¹ï¼\n\n * dns æ¯å¤çº§è§£æï¼æ¯ä¸çº§ dns é½å¯è½ç¼å­ a è®°å½ï¼å½æå°æå¡å¨ä¸çº¿åï¼å³ä½¿ä¿®æ¹äº dns ç a è®°å½ï¼è¦ä½¿å¶çæä¹éè¦è¾é¿æ¶é´ãè¿æ®µæ¶é´ï¼ä¾ç¶ä¼ååè§£æå°å·²ç»ä¸çº¿çæå¡å¨ï¼å¯¼è´ç¨æ·è®¿é®å¤±è´¥ã\n * dns çè´è½½åè¡¡çæ§å¶æå¨ååæå¡åé£éï¼ç½ç«æ æ³å¯¹å¶åæ´å¤æ¹ååæ´å¼ºå¤§çç®¡çã\n\n\n# ååä»£çè´è½½åè¡¡\n\nå¤§å¤æ°ååä»£çæå¡å¨åæ¶æä¾ååä»£çåè´è½½åè¡¡çåè½ã\n\n\n\nååä»£çæå¡å¨çä¼ç¹æ¯é¨ç½²ç®åãç¼ºç¹æ¯ååä»£çæå¡å¨æ¯ææè¯·æ±åååºçä¸­è½¬ç«ï¼å¶æ§è½å¯è½ä¼æä¸ºç¶é¢ã\n\n\n# ip è´è½½åè¡¡\n\nå¨ç½ç»å±éè¿ä¿®æ¹è¯·æ±ç®æ å°åè¿è¡è´è½½åè¡¡ã\n\n\n\nè´è½½åè¡¡æå¡å¨ï¼ç½å³æå¡å¨ï¼å¨æä½ç³»ç»åæ ¸è·åç½ç»æ°æ®åï¼æ ¹æ®è´è½½åè¡¡ç®æ³è®¡ç®å¾å°ä¸å°çå® web æå¡å¨ 10.0.0.1ï¼ç¶åå°ç®ç ip å°åä¿®æ¹ä¸º 10.0.0.1ï¼ä¸éè¦éè¿ç¨æ·è¿ç¨ãçå® web æå¡å¨å¤çå®æåï¼ååºæ°æ®ååå°è´è½½åè¡¡æå¡å¨ï¼è´è½½åè¡¡æå¡å¨åå°æ°æ®ååå°åä¿®æ¹ä¸ºèªèº«ç ip å°åï¼114.100.80.10ï¼åéç»æµè§å¨ã\n\nip è´è½½åè¡¡å¨åæ ¸å®ææ°æ®ååï¼æä»¥å¤çæ§è½ä¼äºååä»£çè´è½½åè¡¡ãä½æ¯å ä¸ºææè¯·æ±ååºé½è¦ç»è¿è´è½½åè¡¡æå¡å¨ï¼éç¾¤çæå¤§ååºæ°æ®ååéåå¶äºè´è½½åè¡¡æå¡å¨ç½å¡å¸¦å®½ã\n\n\n# æ°æ®é¾è·¯å±è´è½½åè¡¡\n\næ°æ®é¾è·¯å±è´è½½åè¡¡æ¯æå¨éä¿¡åè®®çæ°æ®é¾è·¯å±ä¿®æ¹ mac å°åè¿è¡è´è½½åè¡¡ã\n\n\n\nè¿ç§æ¹å¼åç§°ä½ä¸è§ä¼ è¾æ¹å¼ï¼è´è½½åè¡¡æ°æ®ååè¿ç¨ä¸­ä¸ä¿®æ¹ ip å°åï¼åªä¿®æ¹ç®ç mac å°åï¼éè¿éç½®çå®ç©çæå¡å¨éç¾¤æææºå¨èæ ip åè´è½½åè¡¡æå¡å¨ ip å°åä¸è´ï¼ä»èè¾¾å°ä¸ä¿®æ¹æ°æ®åçæºå°ååç®çå°åå°±å¯ä»¥è¿è¡æ°æ®ååçç®çï¼ç±äºå®éå¤çè¯·æ±ççå®ç©çæå¡å¨ ip åæ°æ®è¯·æ±ç®ç ip ä¸è´ï¼ä¸éè¦éè¿è´è½½åè¡¡æå¡å¨è¿è¡å°åè½¬æ¢ï¼å¯å°ååºæ°æ®åç´æ¥è¿åç»ç¨æ·æµè§å¨ï¼é¿åè´è½½åè¡¡æå¡å¨ç½å¡å¸¦å®½æä¸ºç¶é¢ãè¿ç§è´è½½æ¹å¼åç§°ä½ç´æ¥è·¯ç±æ¹å¼ã\n\nå¨ linux å¹³å°ä¸æå¥½çé¾è·¯å±è´è½½åè¡¡å¼æºäº§åæ¯ lvs(linux virtual server)ã\n\n\n# è´è½½åè¡¡ç®æ³\n\nè´è½½åè¡¡æå¡å¨çå®ç°å¯ä»¥åä¸ºä¸¤ä¸ªé¨åï¼\n\n 1. æ ¹æ®è´è½½åè¡¡ç®æ³å web æå¡å¨åè¡¨è®¡ç®å¾å°éç¾¤ä¸­ä¸å° web æå¡å¨çå°åã\n 2. å°è¯·æ±æ°æ®åéå°è¯¥å°åå¯¹åºç web æå¡å¨ä¸ã\n\nè´è½½åè¡¡ç®æ³éå¸¸æä»¥ä¸å ç§ï¼\n\n * è½®è¯¢ï¼round robinï¼ - ææè¯·æ±è¢«ä¾æ¬¡ååå°æ¯å°åºç¨æå¡å¨ä¸ï¼å³æ¯å°æå¡å¨éè¦å¤ççè¯·æ±æ°æ®é½ç¸åï¼éåäºæææå¡å¨ç¡¬ä»¶é½ç¸åçåºæ¯ã\n * å æè½®è¯¢ï¼weighted round robinï¼ - æ ¹æ®æå¡å¨ç¡¬ä»¶æ§è½æåµï¼å¨è½®è¯¢çåºç¡ä¸ï¼æç§éç½®æéå°è¯·æ±ååå°æ¯ä¸ªæå¡å¨ï¼é«æ§è½æå¡å¨è½åéæ´å¤è¯·æ±ã\n * éæºï¼randomï¼ - è¯·æ±è¢«éæºåéå°åä¸ªåºç¨æå¡å¨ï¼å¨è®¸å¤åºåä¸ï¼è¿ç§æ¹æ¡é½å¾ç®åå®ç¨ï¼å ä¸ºå¥½çéæºæ°æ¬èº«å°±å¾å¹³åï¼å³ä½¿åºç¨æå¡å¨ç¡¬ä»¶éç½®ä¸åï¼ä¹å¯ä»¥ä½¿ç¨å æéæºç®æ³ã\n * æå°è¿æ¥ï¼least connectionï¼ - è®°å½æ¯ä¸ªåºç¨æå¡å¨æ­£å¨å¤ççè¿æ¥æ°ï¼å°æ°å°çè¯·æ±ååå°æå°è¿æ¥çæå¡å¨ä¸ï¼åºè¯¥è¯´ï¼è¿æ¯æç¬¦åè´è½½åè¡¡å®ä¹çç®æ³ã\n * æºå°å hashï¼source hashï¼ - æ ¹æ®è¯·æ±æ¥æºç ip å°åè¿è¡ hash è®¡ç®ï¼å¾å°åºç¨æå¡å¨ï¼è¿æ ·æ¥èªåä¸ä¸ª ip å°åçè¯·æ±æ»å¨åä¸ä¸ªæå¡å¨ä¸å¤çï¼è¯¥è¯·æ±çä¸ä¸æä¿¡æ¯å¯ä»¥å­å¨å¨è¿å°æå¡å¨ä¸ï¼å¨ä¸ä¸ªä¼è¯å¨æåéå¤ä½¿ç¨ï¼ä»èå®ç°ä¼è¯ç²æ»ã\n\n\n# åå¸å¼ç¼å­éç¾¤çä¼¸ç¼©æ§è®¾è®¡\n\nç®åæ¯è¾æµè¡çåå¸å¼éç¾¤ä¼¸ç¼©æ§æ¹æ¡å°±æ¯ï¼ä¸è´æ§ hash ç®æ³\n\n\n# æ°æ®å­å¨æå¡éç¾¤çä¼¸ç¼©æ§è®¾è®¡\n\n\n# å³ç³»åæ°æ®åºçä¼¸ç¼©æ§è®¾è®¡\n\n * ä¸»ä»å¤å¶ - ä¸»æµå³ç³»åæ°æ®åºä¸è¬é½æ¯æä¸»ä»å¤å¶ã\n * ååº - æ ¹æ®ä¸å¡å¯¹æ°æ®åºè¿è¡åå²ãå¶çº¦æ¡ä»¶æ¯è·¨åºçè¡¨ä¸è½è¿è¡ join æä½ã\n * åè¡¨ - ä½¿ç¨æ°æ®åºåçä¸­é´ä»¶ï¼å¦ cobar ç­ã\n\n\n# nosql æ°æ®åºçä¼¸ç¼©æ§è®¾è®¡\n\nä¸è¬èè¨ï¼nosql ä¸æ¯æ sql å acidï¼ä½æ¯å¼ºåäºå¯¹äºé«å¯ç¨åä¼¸ç¼©æ§çæ¯æã\n\n\n# åèèµæ\n\n * ãå¤§åç½ç«ææ¯æ¶æï¼æ ¸å¿åçä¸æ¡ä¾åæã",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"ç³»ç»æ©å±æ§æ¶æ",frontmatter:{title:"ç³»ç»æ©å±æ§æ¶æ",date:"2018-07-05T15:11:00.000Z",categories:["è®¾è®¡","æ¶æ","ç»¼å"],tags:["æ¶æ","æ©å±æ§"],permalink:"/pages/943670/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/01.%E6%9E%B6%E6%9E%84/00.%E7%BB%BC%E5%90%88/06.%E7%B3%BB%E7%BB%9F%E6%89%A9%E5%B1%95%E6%80%A7%E6%9E%B6%E6%9E%84.html",relativePath:"03.è®¾è®¡/01.æ¶æ/00.ç»¼å/06.ç³»ç»æ©å±æ§æ¶æ.md",key:"v-7771b23d",path:"/pages/943670/",headers:[{level:2,title:"å¯æ©å±çåºæ¬ææ³",slug:"å¯æ©å±çåºæ¬ææ³",normalizedTitle:"å¯æ©å±çåºæ¬ææ³",charIndex:328},{level:2,title:"å¯æ©å±æ¹å¼",slug:"å¯æ©å±æ¹å¼",normalizedTitle:"å¯æ©å±æ¹å¼",charIndex:442},{level:3,title:"åå±æ¶æ",slug:"åå±æ¶æ",normalizedTitle:"åå±æ¶æ",charIndex:473},{level:3,title:"SOA",slug:"soa",normalizedTitle:"soa",charIndex:489},{level:3,title:"å¾®æå¡",slug:"å¾®æå¡",normalizedTitle:"å¾®æå¡",charIndex:493},{level:3,title:"å¾®åæ ¸",slug:"å¾®åæ ¸",normalizedTitle:"å¾®åæ ¸",charIndex:508},{level:2,title:"ææ©å±çç³»ç»æ¶æ",slug:"ææ©å±çç³»ç»æ¶æ",normalizedTitle:"ææ©å±çç³»ç»æ¶æ",charIndex:2347},{level:2,title:"å©ç¨åå¸å¼æ¶æ¯éåéä½ç³»ç»è¦åæ§",slug:"å©ç¨åå¸å¼æ¶æ¯éåéä½ç³»ç»è¦åæ§",normalizedTitle:"å©ç¨åå¸å¼æ¶æ¯éåéä½ç³»ç»è¦åæ§",charIndex:2583},{level:3,title:"äºä»¶é©±å¨æ¶æ",slug:"äºä»¶é©±å¨æ¶æ",normalizedTitle:"äºä»¶é©±å¨æ¶æ",charIndex:2604},{level:3,title:"åå¸å¼æ¶æ¯éå",slug:"åå¸å¼æ¶æ¯éå",normalizedTitle:"åå¸å¼æ¶æ¯éå",charIndex:2585},{level:2,title:"å©ç¨åå¸å¼æå¡æé å¯å¤ç¨çä¸å¡å¹³å°",slug:"å©ç¨åå¸å¼æå¡æé å¯å¤ç¨çä¸å¡å¹³å°",normalizedTitle:"å©ç¨åå¸å¼æå¡æé å¯å¤ç¨çä¸å¡å¹³å°",charIndex:3079},{level:2,title:"å¯æ©å±çæ°æ®ç»æ",slug:"å¯æ©å±çæ°æ®ç»æ",normalizedTitle:"å¯æ©å±çæ°æ®ç»æ",charIndex:3410},{level:2,title:"å¼æ¾å¹³å°",slug:"å¼æ¾å¹³å°",normalizedTitle:"å¼æ¾å¹³å°",charIndex:3589},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:3766}],headersStr:"å¯æ©å±çåºæ¬ææ³ å¯æ©å±æ¹å¼ åå±æ¶æ SOA å¾®æå¡ å¾®åæ ¸ ææ©å±çç³»ç»æ¶æ å©ç¨åå¸å¼æ¶æ¯éåéä½ç³»ç»è¦åæ§ äºä»¶é©±å¨æ¶æ åå¸å¼æ¶æ¯éå å©ç¨åå¸å¼æå¡æé å¯å¤ç¨çä¸å¡å¹³å° å¯æ©å±çæ°æ®ç»æ å¼æ¾å¹³å° åèèµæ",content:"# ç³»ç»æ©å±æ§æ¶æ\n\n> æ©å±æ§åä¼¸ç¼©æ§æ¯ä¸åçæ¦å¿µï¼\n> \n>  * æ©å±æ§ï¼Extensibilityï¼ - æå¯¹ç°æç³»ç»å½±åæå°çæåµä¸ï¼ç³»ç»åè½å¯æç»­æ©å±ææåçè½åãè¡¨ç°å¨ç³»ç»åºç¡è®¾æ½ç¨³å®ä¸éè¦ç»å¸¸åæ´ï¼åºç¨ä¹é´è¾å°ä¾èµåè¦åï¼å¯¹éæ±åæ´å¯ä»¥ææ·ååºãå®æ¯ç³»ç»æ¶æè®¾è®¡å±é¢çå¼é­ååï¼å¯¹æ©å±å¼æ¾ãå¯¹ä¿®æ¹å³é­ï¼ï¼æ¶æè®¾è®¡èèæªæ¥åè½æ©å±ï¼å½ç³»ç»å¢å æ°åè½æ¶ï¼ä¸éè¦å¯¹ç°æç³»ç»çç»æåä»£ç è¿è¡ä¿®æ¹ã\n>  * ä¼¸ç¼©æ§ï¼Scalabilityï¼ - æç³»ç»è½å¤éè¿å¢å åå°èªèº«èµæºè§æ¨¡çæ¹å¼å¢åèªå·±è®¡ç®å¤çäºå¡çè½åãå¦æè¿ç§å¢åæ¯ææ¯ä¾çï¼å°±è¢«ç§°ä½çº¿æ§ä¼¸ç¼©æ§ãå¨ç½ç«æ¶æä¸­ ï¼éå¸¸æå©ç¨éç¾¤çæ¹å¼å¢å æå¡å¨æ°éãæé«ç³»ç»çæ´ä½äºå¡ååè½åã\n\n\n# å¯æ©å±çåºæ¬ææ³\n\n * é¢åæµç¨æåï¼å°æ´ä¸ªä¸å¡æµç¨æåä¸ºå ä¸ªé¶æ®µï¼æ¯ä¸ªé¶æ®µä½ä¸ºä¸é¨åã\n * é¢åæå¡æåï¼å°ç³»ç»æä¾çæå¡æåï¼æ¯ä¸ªæå¡ä½ä¸ºä¸é¨åã\n * é¢ååè½æåï¼å°ç³»ç»æä¾çåè½æåï¼æ¯ä¸ªåè½ä½ä¸ºä¸é¨åã\n\n\n# å¯æ©å±æ¹å¼\n\nå¸åçå¯æ©å±ç³»ç»æ¶ææï¼\n\n * é¢åæµç¨æåï¼åå±æ¶æã\n * é¢åæå¡æåï¼SOAãå¾®æå¡ã\n * é¢ååè½æåï¼å¾®åæ ¸æ¶æã\n\n\n# åå±æ¶æ\n\nåå±æ¶æçæ ¸å¿ç¹æ¶ï¼éè¦ä¿è¯åå±ä¹é´çå·®å¼è¶³å¤æ¸æ°ï¼è¾¹çè¶³å¤ææ¾ï¼è®©äººçå°æ¶æå¾åå°±è½çææ´ä¸ªæ¶æ\n\nåå±æ¶ææ¯å¾å¸¸è§çæ¶ææ¨¡å¼ï¼å®ä¹å« N å±æ¶æï¼éå¸¸æåµä¸ï¼N è³å°æ¯ 2 å±ãä¾å¦ï¼C/S æ¶æãB/S æ¶æãå¸¸è§çæ¯ 3 å±æ¶æï¼ä¾å¦ï¼MVCãMVP æ¶æï¼ã4 å±æ¶æï¼5 å±æ¶æçæ¯è¾å°è§ï¼ä¸è¬æ¯æ¯è¾å¤æçç³»ç»æä¼è¾¾å°æèè¶è¿ 5 å±ï¼æ¯å¦æä½ç³»ç»åæ ¸æ¶æã\n\nå¸ååå±æ¶æï¼\n\n * C/S æ¶æãB/S æ¶æ\n * MVC æ¶æãMVP æ¶æ\n * é»è¾åå±æ¶æ\n\n\n# SOA\n\nSOA çå¨ç§°æ¯ Service Oriented Architectureï¼å³âé¢åæå¡çæ¶æâã\n\nSOA æåºäº 3 ä¸ªå³é®æ¦å¿µã\n\n * æå¡ - ææä¸å¡åè½é½æ¯ä¸é¡¹æå¡ï¼æå¡å°±æå³çè¦å¯¹å¤æä¾å¼æ¾çè½åï¼å½å¶ä»ç³»ç»éè¦ä½¿ç¨è¿é¡¹åè½æ¶ï¼æ é¡»å®å¶åå¼åã\n * ESB - ESB çå¨ç§°æ¯ Enterprise Service Busï¼å³ âä¼ä¸æå¡æ»çº¿âãESB å°ä¼ä¸ä¸­åä¸ªä¸åçæå¡è¿æ¥å¨ä¸èµ·ãå ä¸ºåä¸ªç¬ç«çæå¡æ¯å¼æçï¼å¦ææ²¡æç»ä¸çæ åï¼ååä¸ªå¼æç³»ç»å¯¹å¤æä¾çæ¥å£æ¯åå¼åæ ·çãSOA ä½¿ç¨ ESB æ¥å±è½å¼æç³»ç»å¯¹å¤æä¾åç§ä¸åçæ¥å£æ¹å¼ï¼ä»¥æ­¤æ¥è¾¾å°æå¡é´é«æçäºèäºéã\n * æ¾è¦å - æ¾è¦åçç®çæ¯åå°åä¸ªæå¡é´çä¾èµåäºç¸å½±åãå ä¸ºéç¨ SOA æ¶æåï¼åä¸ªæå¡æ¯ç¸äºç¬ç«è¿è¡çï¼çè³é½ä¸æ¸æ¥æä¸ªæå¡å°åºæå¤å°å¯¹å¶ä»æå¡çä¾èµãå¦æåä¸å°æ¾è¦åï¼æä¸ªæå¡ä¸åçº§ï¼ä¾èµå®çå¶ä»æå¡å¨é¨æéï¼è¿æ ·è¯å®æ¯æ æ³æ»¡è¶³ä¸å¡éæ±çã\n\n\n# å¾®æå¡\n\nå¾®æå¡æ¯å»æ ESB åç SOAã\n\nå¾®æå¡çé®é¢ï¼\n\n * æå¡ååè¿ç»ï¼æå¡é´å³ç³»å¤æ - æå¡ååè¿ç»ï¼åä¸ªæå¡çå¤æåº¦ç¡®å®ä¸éäºï¼ä½æ´ä¸ªç³»ç»çå¤æåº¦å´ä¸åäºï¼å ä¸ºå¾®æå¡å°ç³»ç»åçå¤æåº¦è½¬ç§»ä¸ºç³»ç»é´çå¤æåº¦äºã\n * æå¡æ°éå¤ªå¤ï¼å¢éæçæ¥å§ä¸é\n * è°ç¨é¾å¤ªé¿ï¼æ§è½ä¸é\n * è°ç¨é¾å¤ªé¿ï¼é®é¢å®ä½å°é¾\n * æ²¡æèªå¨åæ¯æï¼æ æ³å¿«éäº¤ä»\n * æ²¡ææå¡æ²»çï¼å¾®æå¡æ°éå¤äºåç®¡çæ··ä¹±\n\nå¾®æå¡æåï¼\n\n * åºäºä¸å¡é»è¾æå\n * åºäºå¯æ©å±æå - å°å·²ç»æçåæ¹å¨ä¸å¤§çæå¡æåä¸ºç¨³å®æå¡ï¼å°ç»å¸¸åååè¿­ä»£çæå¡æåä¸ºåå¨æå¡ã\n * åºäºå¯é æ§æå - å°ç³»ç»ä¸­çä¸å¡æ¨¡åæç§ä¼åçº§æåºï¼å°å¯é æ§è¦æ±é«çæ ¸å¿æå¡åå¯é æ§è¦æ±ä½çéæ ¸å¿æå¡æåå¼æ¥ï¼ç¶åéç¹ä¿è¯æ ¸å¿æå¡çé«å¯ç¨ã\n\nåºç¡è®¾æ½ï¼\n\n * æå¡åç°ãæå¡è·¯ç±ãæå¡å®¹éï¼è¿æ¯æåºæ¬çå¾®æå¡åºç¡è®¾æ½ã\n * æ¥å£æ¡æ¶ãAPI ç½å³ï¼ä¸»è¦æ¯ä¸ºäºæåå¼åæçï¼æ¥å£æ¡æ¶æ¯æååé¨æå¡çå¼åæçï¼API ç½å³æ¯ä¸ºäºæåä¸å¤é¨æå¡å¯¹æ¥çæçã\n * èªå¨åé¨ç½²ãèªå¨åæµè¯ãéç½®ä¸­å¿ï¼ä¸»è¦æ¯ä¸ºäºæåæµè¯åè¿ç»´æçã\n * æå¡çæ§ãæå¡è·è¸ªãæå¡å®å¨ï¼ä¸»è¦æ¯ä¸ºäºè¿ä¸æ­¥æåè¿ç»´æçã\n\n\n# å¾®åæ ¸\n\n\n\nå¾®åæ ¸çæ ¸å¿ç³»ç»è®¾è®¡çå³é®ææ¯æï¼æä»¶ç®¡çãæä»¶è¿æ¥åæä»¶éä¿¡ã\n\næä»¶ç®¡ç\n\næ ¸å¿ç³»ç»éè¦ç¥éå½åæåªäºæä»¶å¯ç¨ï¼å¦ä½å è½½è¿äºæä»¶ï¼ä»ä¹æ¶åå è½½æä»¶ãå¸¸è§çå®ç°æ¹æ³æ¯æä»¶æ³¨åè¡¨æºå¶ãæ ¸å¿ç³»ç»æä¾æä»¶æ³¨åè¡¨ï¼å¯ä»¥æ¯éç½®æä»¶ï¼ä¹å¯ä»¥æ¯ä»£ç ï¼è¿å¯ä»¥æ¯æ°æ®åºï¼ï¼æä»¶æ³¨åè¡¨å«ææ¯ä¸ªæä»¶æ¨¡åçä¿¡æ¯ï¼åæ¬å®çåå­ãä½ç½®ãå è½½æ¶æºï¼å¯å¨å°±å è½½ï¼è¿æ¯æéå è½½ï¼ç­ã\n\næä»¶è¿æ¥\n\næä»¶è¿æ¥ææä»¶å¦ä½è¿æ¥å°æ ¸å¿ç³»ç»ãéå¸¸æ¥è¯´ï¼æ ¸å¿ç³»ç»å¿é¡»å¶å®æä»¶åæ ¸å¿ç³»ç»çè¿æ¥è§èï¼ç¶åæä»¶æç§è§èå®ç°ï¼æ ¸å¿ç³»ç»æç§è§èå è½½å³å¯ã\n\nå¸¸è§çè¿æ¥æºå¶æ OSGiï¼Eclipse ä½¿ç¨ï¼ãæ¶æ¯æ¨¡å¼ãä¾èµæ³¨å¥ï¼Spring ä½¿ç¨ï¼ï¼çè³ä½¿ç¨åå¸å¼çåè®®é½æ¯å¯ä»¥çï¼æ¯å¦ RPC æè HTTP Web çæ¹å¼ã\n\næä»¶éä¿¡\n\næä»¶éä¿¡ææä»¶é´çéä¿¡ãè½ç¶è®¾è®¡çæ¶åæä»¶é´æ¯å®å¨è§£è¦çï¼ä½å®éä¸å¡è¿è¡è¿ç¨ä¸­ï¼å¿ç¶ä¼åºç°æä¸ªä¸å¡æµç¨éè¦å¤ä¸ªæä»¶åä½ï¼è¿å°±è¦æ±ä¸¤ä¸ªæä»¶é´è¿è¡éä¿¡ãç±äºæä»¶ä¹é´æ²¡æç´æ¥èç³»ï¼éä¿¡å¿é¡»éè¿æ ¸å¿ç³»ç»ï¼å æ­¤æ ¸å¿ç³»ç»éè¦æä¾æä»¶éä¿¡æºå¶ãè¿ç§æåµåè®¡ç®æºç±»ä¼¼ï¼è®¡ç®æºç CPUãç¡¬çãåå­ãç½å¡æ¯ç¬ç«è®¾è®¡çéä»¶ï¼ä½è®¡ç®æºè¿è¡è¿ç¨ä¸­ï¼CPU ååå­ãåå­åç¡¬çè¯å®æ¯æéä¿¡çï¼è®¡ç®æºéè¿ä¸»æ¿ä¸çæ»çº¿æä¾äºè¿äºç»ä»¶ä¹é´çéä¿¡åè½ãå¾®åæ ¸çæ ¸å¿ç³»ç»ä¹å¿é¡»æä¾ç±»ä¼¼çéä¿¡æºå¶ï¼åä¸ªæä»¶ä¹é´æè½è¿è¡æ­£å¸¸çéä¿¡ã\n\n\n# ææ©å±çç³»ç»æ¶æ\n\n> ä½è¦åçç³»ç»æ´å®¹ææ©å±ãå¤ç¨ã\n\nå¯æ©å±æ¶æçæ ¸å¿ææ³æ¯æ¨¡ååï¼å¹¶å¨æ­¤åºç¡ä¸ï¼éä½æ¨¡åé´çè¦åæ§ï¼æé«æ¨¡åçå¤ç¨æ§ã\n\nåå±ååå²ä¸ä»å¯ä»¥è¿è¡æ¶æä¼¸ç¼©ï¼ä¹æ¯æ¨¡ååè®¾è®¡çéè¦ææ®µï¼å©ç¨åå±ååå²çæ¹å¼å°è½¯ä»¶åå²ä¸ºè¥å¹²ä¸ªä½è¦åçç¬ç«çç»ä»¶æ¨¡åï¼è¿äºç»ä»¶æ¨¡åä»¥æ¶æ¯ä¼ éåä¾èµè°ç¨çæ¹å¼èåæä¸ä¸ªå®æ´çç³»ç»ã\n\nå¨å¤§åç½ç«ä¸­ï¼è¿äºæ¨¡åéè¿åå¸å¼é¨ç½²çæ¹å¼ï¼ç¬ç«çæ¨¡åé¨ç½²å¨ç¬ç«çæå¡å¨ä¸ï¼ä»ç©çä¸åç¦»æ¨¡åé´çè¦åå³ç³»ï¼è¿ä¸æ­¥éä½è¦åæ§æé«å¤ç¨æ§ã\n\n\n# å©ç¨åå¸å¼æ¶æ¯éåéä½ç³»ç»è¦åæ§\n\n\n# äºä»¶é©±å¨æ¶æ\n\näºä»¶é©±å¨æ¶æéè¿å¨ä½è¦åçæ¨¡åé´ä¼ è¾äºä»¶æ¶æ¯ï¼ä»¥ä¿ææ¨¡åçæ¾æ£è¦åï¼å¹¶åå©äºä»¶æ¶æ¯çéä¿¡å®ææ¨¡åé´åä½ãå¸åçäºä»¶é©±å¨æ¶æå°±æ¯æä½ç³»ç»ä¸­å¸¸è§ççäº§èæ¶è´¹èæ¨¡å¼ãå¨å¤§åç½ç«ä¸­ï¼æå¸¸è§çå®ç°ææ®µå°±æ¯åå¸å¼æ¶æ¯éåã\n\n\n# åå¸å¼æ¶æ¯éå\n\næ¶æ¯çäº§èåºç¨ç¨åºéè¿è¿ç¨è®¿é®æ¥å£å°æ¶æ¯æ¨éç»æ¶æ¯éåæå¡å¨ï¼æ¶æ¯éåæå¡å¨å°æ¶æ¯åå¥æ¬å°åå­éååç«å³è¿åæåååºç»æ¶æ¯çäº§èãæ¶æ¯éåæå¡å¨æ ¹æ®æ¶æ¯è®¢éåè¡¨æ¥æ¾è®¢éè¯¥æ¶æ¯çæ¶æ¯æ¶è´¹èåºç¨ç¨åºï¼å°æ¶æ¯éåä¸­çæ¶æ¯æç§åè¿ååºï¼FIFOï¼çååå°æ¶æ¯éè¿è¿ç¨éä¿¡æ¥å£åéç»æ¶æ¯æ¶è´¹èç¨åºã\n\n\n\nå¨ä¼¸ç¼©æ§æ¹é¢ï¼ç±äºæ¶æ¯éåæå¡å¨ä¸çæ°æ®å¯ä»¥çä½æ¯å³æ¶å¤ççï¼å æ­¤ç±»ä¼¼äºæ ç¶æçæå¡å¨ï¼ä¼¸ç¼©æ§è®¾è®¡æ¯è¾ç®åãå°æ°æå¡å¨å å¥åå¸å¼æ¶æ¯éåéç¾¤ä¸­ï¼éç¥çäº§èæå¡å¨æ´æ¹æ¶æ¯éåæå¡å¨åè¡¨å³å¯ã\n\nå¨å¯ç¨æ§æ¹é¢ï¼ä¸ºäºé¿åæ¶è´¹èè¿ç¨å¤çç¼æ¢ï¼åå¸å¼æ¶æ¯éåæå¡å¨åå­ç©ºé´ä¸è¶³é æçé®é¢ï¼å¦æåå­éåå·²æ»¡ï¼ä¼å°æ¶æ¯åå¥ç£çï¼æ¶æ¯æ¨éæ¨¡åå¨å°åå­éåæ¶æ¯å¤çå®æä»¥åï¼å°ç£çåå®¹å è½½å°åå­éåç»§ç»­å¤çã\n\n\n# å©ç¨åå¸å¼æå¡æé å¯å¤ç¨çä¸å¡å¹³å°\n\nå·¨æ é¸ç³»ç»çé®é¢ï¼\n\n * æå»ºãé¨ç½²å°é¾\n * ä»£ç åæ¯ç®¡çå°é¾\n * æ°æ®åºè¿æ¥èå°½\n * æ©å±ä¸å¡å°é¾\n\nèè§£å³å·¨æ é¸ç³»ç»é®é¢çæ¹æ¡å°±æ¯æåï¼\n\n * éè¿çºµåæåå°ä¸å¡æåå¤ä¸ªåºç¨ææ¨¡åï¼\n * éè¿æ¨ªåæåå°å¯å¤ç¨ä¸å¡ä½ä¸ºç¬ç«åºç¨ã\n\nç¶åï¼éè¦éè¿ä¸ä¸ªåå¸å¼æå¡ç®¡çæ¡æ¶å°è¿äºåºç¨ææå¡ç»ç»ç®¡çèµ·æ¥ï¼éè¿æ¥å£åè§£ç³»ç»è¦åæ§ï¼ä¸åå­ç³»ç»éè¿ç¸åçæ¥å£æè¿°è¿è¡æå¡è°ç¨ãå¸¸è§çåå¸å¼æå¡ç®¡çæ¡æ¶å¦ï¼Spring CloudãDubbo ç­ã\n\nå¤§åç½ç«åå¸å¼æå¡çéæ±ä¸ç¹ç¹ï¼\n\n * è´è½½åè¡¡\n * å¤±æè½¬ç§»\n * é«æçè¿ç¨éä¿¡\n * æ´åå¼æç³»ç»\n * å¯¹åºç¨æå°ä¾µå¥\n * çæ¬ç®¡ç\n * å®æ¶çæ§\n\n\n# å¯æ©å±çæ°æ®ç»æ\n\nä¼ ç»çå³ç³»åæ°æ®åºä¸ºäºä¿è¯å³ç³»è¿ç®çæ­£ç¡®æ§ï¼å¨è®¾è®¡æ°æ®åºè¡¨ç»æçæ¶åï¼å°±éè¦æå®è¡¨ç schema ââå­æ®µåç§°ï¼æ°æ®ç±»åç­ï¼å¹¶è¦éµå¾ªç¹å®çè®¾è®¡èå¼ãè¿äºè§èå¸¦æ¥ä¸ä¸ªé®é¢ï¼é¾ä»¥é¢å¯¹éæ±åæ´å¸¦æ¥çææï¼æä»¥æäººéè¿é¢åè®¾è®¡ä¸äºåä½å­æ®µæ¥åºå¯¹ã\n\nè®¸å¤ NoSql æ°æ®åºä½¿ç¨ ColumnFamily è®¾è®¡æ¥è®¾è®¡å¯æ©å±çæ°æ®ç»æã\n\n\n# å¼æ¾å¹³å°\n\nå¾å¤å¤§å¬å¸ä¼å©ç¨å¼æ¾å¹³å°æä¾å¤§éå¼æ¾æ§ API ä½¿å¾ä¼ä¸åä¸ªäººå¯ä»¥æ¹ä¾¿çæ¥å¥ä¸å¡ãéè¿å¼æ¾å¹³å°ï¼å¯ä»¥æå»ºçæåï¼æååçä»·å¼ä»¥åç«äºåã\n\nå¼æ¾å¹³å°ä¸æ¯ä¸æä¸å¤å®æçï¼è¿éè¦å¤§é OPEN API çæ²æ·ãç³»ç»æ¶æå¨è®¾è®¡ä¹åï¼åºè¯¥ææè¯çå°æªæ¥å¯è½è¢«å¤ç¨çæ¥å£å¥½å¥½è®¾è®¡ï¼ä»¥ä¾¿äºéè¦å¼æ¾ OPEN API æ¶ï¼å¯ä»¥ä¾¿æ·çæ´é²æå¡æ¥å£ã\n\n\n# åèèµæ\n\n * ãå¤§åç½ç«ææ¯æ¶æï¼æ ¸å¿åçä¸æ¡ä¾åæã",normalizedContent:"# ç³»ç»æ©å±æ§æ¶æ\n\n> æ©å±æ§åä¼¸ç¼©æ§æ¯ä¸åçæ¦å¿µï¼\n> \n>  * æ©å±æ§ï¼extensibilityï¼ - æå¯¹ç°æç³»ç»å½±åæå°çæåµä¸ï¼ç³»ç»åè½å¯æç»­æ©å±ææåçè½åãè¡¨ç°å¨ç³»ç»åºç¡è®¾æ½ç¨³å®ä¸éè¦ç»å¸¸åæ´ï¼åºç¨ä¹é´è¾å°ä¾èµåè¦åï¼å¯¹éæ±åæ´å¯ä»¥ææ·ååºãå®æ¯ç³»ç»æ¶æè®¾è®¡å±é¢çå¼é­ååï¼å¯¹æ©å±å¼æ¾ãå¯¹ä¿®æ¹å³é­ï¼ï¼æ¶æè®¾è®¡èèæªæ¥åè½æ©å±ï¼å½ç³»ç»å¢å æ°åè½æ¶ï¼ä¸éè¦å¯¹ç°æç³»ç»çç»æåä»£ç è¿è¡ä¿®æ¹ã\n>  * ä¼¸ç¼©æ§ï¼scalabilityï¼ - æç³»ç»è½å¤éè¿å¢å åå°èªèº«èµæºè§æ¨¡çæ¹å¼å¢åèªå·±è®¡ç®å¤çäºå¡çè½åãå¦æè¿ç§å¢åæ¯ææ¯ä¾çï¼å°±è¢«ç§°ä½çº¿æ§ä¼¸ç¼©æ§ãå¨ç½ç«æ¶æä¸­ ï¼éå¸¸æå©ç¨éç¾¤çæ¹å¼å¢å æå¡å¨æ°éãæé«ç³»ç»çæ´ä½äºå¡ååè½åã\n\n\n# å¯æ©å±çåºæ¬ææ³\n\n * é¢åæµç¨æåï¼å°æ´ä¸ªä¸å¡æµç¨æåä¸ºå ä¸ªé¶æ®µï¼æ¯ä¸ªé¶æ®µä½ä¸ºä¸é¨åã\n * é¢åæå¡æåï¼å°ç³»ç»æä¾çæå¡æåï¼æ¯ä¸ªæå¡ä½ä¸ºä¸é¨åã\n * é¢ååè½æåï¼å°ç³»ç»æä¾çåè½æåï¼æ¯ä¸ªåè½ä½ä¸ºä¸é¨åã\n\n\n# å¯æ©å±æ¹å¼\n\nå¸åçå¯æ©å±ç³»ç»æ¶ææï¼\n\n * é¢åæµç¨æåï¼åå±æ¶æã\n * é¢åæå¡æåï¼soaãå¾®æå¡ã\n * é¢ååè½æåï¼å¾®åæ ¸æ¶æã\n\n\n# åå±æ¶æ\n\nåå±æ¶æçæ ¸å¿ç¹æ¶ï¼éè¦ä¿è¯åå±ä¹é´çå·®å¼è¶³å¤æ¸æ°ï¼è¾¹çè¶³å¤ææ¾ï¼è®©äººçå°æ¶æå¾åå°±è½çææ´ä¸ªæ¶æ\n\nåå±æ¶ææ¯å¾å¸¸è§çæ¶ææ¨¡å¼ï¼å®ä¹å« n å±æ¶æï¼éå¸¸æåµä¸ï¼n è³å°æ¯ 2 å±ãä¾å¦ï¼c/s æ¶æãb/s æ¶æãå¸¸è§çæ¯ 3 å±æ¶æï¼ä¾å¦ï¼mvcãmvp æ¶æï¼ã4 å±æ¶æï¼5 å±æ¶æçæ¯è¾å°è§ï¼ä¸è¬æ¯æ¯è¾å¤æçç³»ç»æä¼è¾¾å°æèè¶è¿ 5 å±ï¼æ¯å¦æä½ç³»ç»åæ ¸æ¶æã\n\nå¸ååå±æ¶æï¼\n\n * c/s æ¶æãb/s æ¶æ\n * mvc æ¶æãmvp æ¶æ\n * é»è¾åå±æ¶æ\n\n\n# soa\n\nsoa çå¨ç§°æ¯ service oriented architectureï¼å³âé¢åæå¡çæ¶æâã\n\nsoa æåºäº 3 ä¸ªå³é®æ¦å¿µã\n\n * æå¡ - ææä¸å¡åè½é½æ¯ä¸é¡¹æå¡ï¼æå¡å°±æå³çè¦å¯¹å¤æä¾å¼æ¾çè½åï¼å½å¶ä»ç³»ç»éè¦ä½¿ç¨è¿é¡¹åè½æ¶ï¼æ é¡»å®å¶åå¼åã\n * esb - esb çå¨ç§°æ¯ enterprise service busï¼å³ âä¼ä¸æå¡æ»çº¿âãesb å°ä¼ä¸ä¸­åä¸ªä¸åçæå¡è¿æ¥å¨ä¸èµ·ãå ä¸ºåä¸ªç¬ç«çæå¡æ¯å¼æçï¼å¦ææ²¡æç»ä¸çæ åï¼ååä¸ªå¼æç³»ç»å¯¹å¤æä¾çæ¥å£æ¯åå¼åæ ·çãsoa ä½¿ç¨ esb æ¥å±è½å¼æç³»ç»å¯¹å¤æä¾åç§ä¸åçæ¥å£æ¹å¼ï¼ä»¥æ­¤æ¥è¾¾å°æå¡é´é«æçäºèäºéã\n * æ¾è¦å - æ¾è¦åçç®çæ¯åå°åä¸ªæå¡é´çä¾èµåäºç¸å½±åãå ä¸ºéç¨ soa æ¶æåï¼åä¸ªæå¡æ¯ç¸äºç¬ç«è¿è¡çï¼çè³é½ä¸æ¸æ¥æä¸ªæå¡å°åºæå¤å°å¯¹å¶ä»æå¡çä¾èµãå¦æåä¸å°æ¾è¦åï¼æä¸ªæå¡ä¸åçº§ï¼ä¾èµå®çå¶ä»æå¡å¨é¨æéï¼è¿æ ·è¯å®æ¯æ æ³æ»¡è¶³ä¸å¡éæ±çã\n\n\n# å¾®æå¡\n\nå¾®æå¡æ¯å»æ esb åç soaã\n\nå¾®æå¡çé®é¢ï¼\n\n * æå¡ååè¿ç»ï¼æå¡é´å³ç³»å¤æ - æå¡ååè¿ç»ï¼åä¸ªæå¡çå¤æåº¦ç¡®å®ä¸éäºï¼ä½æ´ä¸ªç³»ç»çå¤æåº¦å´ä¸åäºï¼å ä¸ºå¾®æå¡å°ç³»ç»åçå¤æåº¦è½¬ç§»ä¸ºç³»ç»é´çå¤æåº¦äºã\n * æå¡æ°éå¤ªå¤ï¼å¢éæçæ¥å§ä¸é\n * è°ç¨é¾å¤ªé¿ï¼æ§è½ä¸é\n * è°ç¨é¾å¤ªé¿ï¼é®é¢å®ä½å°é¾\n * æ²¡æèªå¨åæ¯æï¼æ æ³å¿«éäº¤ä»\n * æ²¡ææå¡æ²»çï¼å¾®æå¡æ°éå¤äºåç®¡çæ··ä¹±\n\nå¾®æå¡æåï¼\n\n * åºäºä¸å¡é»è¾æå\n * åºäºå¯æ©å±æå - å°å·²ç»æçåæ¹å¨ä¸å¤§çæå¡æåä¸ºç¨³å®æå¡ï¼å°ç»å¸¸åååè¿­ä»£çæå¡æåä¸ºåå¨æå¡ã\n * åºäºå¯é æ§æå - å°ç³»ç»ä¸­çä¸å¡æ¨¡åæç§ä¼åçº§æåºï¼å°å¯é æ§è¦æ±é«çæ ¸å¿æå¡åå¯é æ§è¦æ±ä½çéæ ¸å¿æå¡æåå¼æ¥ï¼ç¶åéç¹ä¿è¯æ ¸å¿æå¡çé«å¯ç¨ã\n\nåºç¡è®¾æ½ï¼\n\n * æå¡åç°ãæå¡è·¯ç±ãæå¡å®¹éï¼è¿æ¯æåºæ¬çå¾®æå¡åºç¡è®¾æ½ã\n * æ¥å£æ¡æ¶ãapi ç½å³ï¼ä¸»è¦æ¯ä¸ºäºæåå¼åæçï¼æ¥å£æ¡æ¶æ¯æååé¨æå¡çå¼åæçï¼api ç½å³æ¯ä¸ºäºæåä¸å¤é¨æå¡å¯¹æ¥çæçã\n * èªå¨åé¨ç½²ãèªå¨åæµè¯ãéç½®ä¸­å¿ï¼ä¸»è¦æ¯ä¸ºäºæåæµè¯åè¿ç»´æçã\n * æå¡çæ§ãæå¡è·è¸ªãæå¡å®å¨ï¼ä¸»è¦æ¯ä¸ºäºè¿ä¸æ­¥æåè¿ç»´æçã\n\n\n# å¾®åæ ¸\n\n\n\nå¾®åæ ¸çæ ¸å¿ç³»ç»è®¾è®¡çå³é®ææ¯æï¼æä»¶ç®¡çãæä»¶è¿æ¥åæä»¶éä¿¡ã\n\næä»¶ç®¡ç\n\næ ¸å¿ç³»ç»éè¦ç¥éå½åæåªäºæä»¶å¯ç¨ï¼å¦ä½å è½½è¿äºæä»¶ï¼ä»ä¹æ¶åå è½½æä»¶ãå¸¸è§çå®ç°æ¹æ³æ¯æä»¶æ³¨åè¡¨æºå¶ãæ ¸å¿ç³»ç»æä¾æä»¶æ³¨åè¡¨ï¼å¯ä»¥æ¯éç½®æä»¶ï¼ä¹å¯ä»¥æ¯ä»£ç ï¼è¿å¯ä»¥æ¯æ°æ®åºï¼ï¼æä»¶æ³¨åè¡¨å«ææ¯ä¸ªæä»¶æ¨¡åçä¿¡æ¯ï¼åæ¬å®çåå­ãä½ç½®ãå è½½æ¶æºï¼å¯å¨å°±å è½½ï¼è¿æ¯æéå è½½ï¼ç­ã\n\næä»¶è¿æ¥\n\næä»¶è¿æ¥ææä»¶å¦ä½è¿æ¥å°æ ¸å¿ç³»ç»ãéå¸¸æ¥è¯´ï¼æ ¸å¿ç³»ç»å¿é¡»å¶å®æä»¶åæ ¸å¿ç³»ç»çè¿æ¥è§èï¼ç¶åæä»¶æç§è§èå®ç°ï¼æ ¸å¿ç³»ç»æç§è§èå è½½å³å¯ã\n\nå¸¸è§çè¿æ¥æºå¶æ osgiï¼eclipse ä½¿ç¨ï¼ãæ¶æ¯æ¨¡å¼ãä¾èµæ³¨å¥ï¼spring ä½¿ç¨ï¼ï¼çè³ä½¿ç¨åå¸å¼çåè®®é½æ¯å¯ä»¥çï¼æ¯å¦ rpc æè http web çæ¹å¼ã\n\næä»¶éä¿¡\n\næä»¶éä¿¡ææä»¶é´çéä¿¡ãè½ç¶è®¾è®¡çæ¶åæä»¶é´æ¯å®å¨è§£è¦çï¼ä½å®éä¸å¡è¿è¡è¿ç¨ä¸­ï¼å¿ç¶ä¼åºç°æä¸ªä¸å¡æµç¨éè¦å¤ä¸ªæä»¶åä½ï¼è¿å°±è¦æ±ä¸¤ä¸ªæä»¶é´è¿è¡éä¿¡ãç±äºæä»¶ä¹é´æ²¡æç´æ¥èç³»ï¼éä¿¡å¿é¡»éè¿æ ¸å¿ç³»ç»ï¼å æ­¤æ ¸å¿ç³»ç»éè¦æä¾æä»¶éä¿¡æºå¶ãè¿ç§æåµåè®¡ç®æºç±»ä¼¼ï¼è®¡ç®æºç cpuãç¡¬çãåå­ãç½å¡æ¯ç¬ç«è®¾è®¡çéä»¶ï¼ä½è®¡ç®æºè¿è¡è¿ç¨ä¸­ï¼cpu ååå­ãåå­åç¡¬çè¯å®æ¯æéä¿¡çï¼è®¡ç®æºéè¿ä¸»æ¿ä¸çæ»çº¿æä¾äºè¿äºç»ä»¶ä¹é´çéä¿¡åè½ãå¾®åæ ¸çæ ¸å¿ç³»ç»ä¹å¿é¡»æä¾ç±»ä¼¼çéä¿¡æºå¶ï¼åä¸ªæä»¶ä¹é´æè½è¿è¡æ­£å¸¸çéä¿¡ã\n\n\n# ææ©å±çç³»ç»æ¶æ\n\n> ä½è¦åçç³»ç»æ´å®¹ææ©å±ãå¤ç¨ã\n\nå¯æ©å±æ¶æçæ ¸å¿ææ³æ¯æ¨¡ååï¼å¹¶å¨æ­¤åºç¡ä¸ï¼éä½æ¨¡åé´çè¦åæ§ï¼æé«æ¨¡åçå¤ç¨æ§ã\n\nåå±ååå²ä¸ä»å¯ä»¥è¿è¡æ¶æä¼¸ç¼©ï¼ä¹æ¯æ¨¡ååè®¾è®¡çéè¦ææ®µï¼å©ç¨åå±ååå²çæ¹å¼å°è½¯ä»¶åå²ä¸ºè¥å¹²ä¸ªä½è¦åçç¬ç«çç»ä»¶æ¨¡åï¼è¿äºç»ä»¶æ¨¡åä»¥æ¶æ¯ä¼ éåä¾èµè°ç¨çæ¹å¼èåæä¸ä¸ªå®æ´çç³»ç»ã\n\nå¨å¤§åç½ç«ä¸­ï¼è¿äºæ¨¡åéè¿åå¸å¼é¨ç½²çæ¹å¼ï¼ç¬ç«çæ¨¡åé¨ç½²å¨ç¬ç«çæå¡å¨ä¸ï¼ä»ç©çä¸åç¦»æ¨¡åé´çè¦åå³ç³»ï¼è¿ä¸æ­¥éä½è¦åæ§æé«å¤ç¨æ§ã\n\n\n# å©ç¨åå¸å¼æ¶æ¯éåéä½ç³»ç»è¦åæ§\n\n\n# äºä»¶é©±å¨æ¶æ\n\näºä»¶é©±å¨æ¶æéè¿å¨ä½è¦åçæ¨¡åé´ä¼ è¾äºä»¶æ¶æ¯ï¼ä»¥ä¿ææ¨¡åçæ¾æ£è¦åï¼å¹¶åå©äºä»¶æ¶æ¯çéä¿¡å®ææ¨¡åé´åä½ãå¸åçäºä»¶é©±å¨æ¶æå°±æ¯æä½ç³»ç»ä¸­å¸¸è§ççäº§èæ¶è´¹èæ¨¡å¼ãå¨å¤§åç½ç«ä¸­ï¼æå¸¸è§çå®ç°ææ®µå°±æ¯åå¸å¼æ¶æ¯éåã\n\n\n# åå¸å¼æ¶æ¯éå\n\næ¶æ¯çäº§èåºç¨ç¨åºéè¿è¿ç¨è®¿é®æ¥å£å°æ¶æ¯æ¨éç»æ¶æ¯éåæå¡å¨ï¼æ¶æ¯éåæå¡å¨å°æ¶æ¯åå¥æ¬å°åå­éååç«å³è¿åæåååºç»æ¶æ¯çäº§èãæ¶æ¯éåæå¡å¨æ ¹æ®æ¶æ¯è®¢éåè¡¨æ¥æ¾è®¢éè¯¥æ¶æ¯çæ¶æ¯æ¶è´¹èåºç¨ç¨åºï¼å°æ¶æ¯éåä¸­çæ¶æ¯æç§åè¿ååºï¼fifoï¼çååå°æ¶æ¯éè¿è¿ç¨éä¿¡æ¥å£åéç»æ¶æ¯æ¶è´¹èç¨åºã\n\n\n\nå¨ä¼¸ç¼©æ§æ¹é¢ï¼ç±äºæ¶æ¯éåæå¡å¨ä¸çæ°æ®å¯ä»¥çä½æ¯å³æ¶å¤ççï¼å æ­¤ç±»ä¼¼äºæ ç¶æçæå¡å¨ï¼ä¼¸ç¼©æ§è®¾è®¡æ¯è¾ç®åãå°æ°æå¡å¨å å¥åå¸å¼æ¶æ¯éåéç¾¤ä¸­ï¼éç¥çäº§èæå¡å¨æ´æ¹æ¶æ¯éåæå¡å¨åè¡¨å³å¯ã\n\nå¨å¯ç¨æ§æ¹é¢ï¼ä¸ºäºé¿åæ¶è´¹èè¿ç¨å¤çç¼æ¢ï¼åå¸å¼æ¶æ¯éåæå¡å¨åå­ç©ºé´ä¸è¶³é æçé®é¢ï¼å¦æåå­éåå·²æ»¡ï¼ä¼å°æ¶æ¯åå¥ç£çï¼æ¶æ¯æ¨éæ¨¡åå¨å°åå­éåæ¶æ¯å¤çå®æä»¥åï¼å°ç£çåå®¹å è½½å°åå­éåç»§ç»­å¤çã\n\n\n# å©ç¨åå¸å¼æå¡æé å¯å¤ç¨çä¸å¡å¹³å°\n\nå·¨æ é¸ç³»ç»çé®é¢ï¼\n\n * æå»ºãé¨ç½²å°é¾\n * ä»£ç åæ¯ç®¡çå°é¾\n * æ°æ®åºè¿æ¥èå°½\n * æ©å±ä¸å¡å°é¾\n\nèè§£å³å·¨æ é¸ç³»ç»é®é¢çæ¹æ¡å°±æ¯æåï¼\n\n * éè¿çºµåæåå°ä¸å¡æåå¤ä¸ªåºç¨ææ¨¡åï¼\n * éè¿æ¨ªåæåå°å¯å¤ç¨ä¸å¡ä½ä¸ºç¬ç«åºç¨ã\n\nç¶åï¼éè¦éè¿ä¸ä¸ªåå¸å¼æå¡ç®¡çæ¡æ¶å°è¿äºåºç¨ææå¡ç»ç»ç®¡çèµ·æ¥ï¼éè¿æ¥å£åè§£ç³»ç»è¦åæ§ï¼ä¸åå­ç³»ç»éè¿ç¸åçæ¥å£æè¿°è¿è¡æå¡è°ç¨ãå¸¸è§çåå¸å¼æå¡ç®¡çæ¡æ¶å¦ï¼spring cloudãdubbo ç­ã\n\nå¤§åç½ç«åå¸å¼æå¡çéæ±ä¸ç¹ç¹ï¼\n\n * è´è½½åè¡¡\n * å¤±æè½¬ç§»\n * é«æçè¿ç¨éä¿¡\n * æ´åå¼æç³»ç»\n * å¯¹åºç¨æå°ä¾µå¥\n * çæ¬ç®¡ç\n * å®æ¶çæ§\n\n\n# å¯æ©å±çæ°æ®ç»æ\n\nä¼ ç»çå³ç³»åæ°æ®åºä¸ºäºä¿è¯å³ç³»è¿ç®çæ­£ç¡®æ§ï¼å¨è®¾è®¡æ°æ®åºè¡¨ç»æçæ¶åï¼å°±éè¦æå®è¡¨ç schema ââå­æ®µåç§°ï¼æ°æ®ç±»åç­ï¼å¹¶è¦éµå¾ªç¹å®çè®¾è®¡èå¼ãè¿äºè§èå¸¦æ¥ä¸ä¸ªé®é¢ï¼é¾ä»¥é¢å¯¹éæ±åæ´å¸¦æ¥çææï¼æä»¥æäººéè¿é¢åè®¾è®¡ä¸äºåä½å­æ®µæ¥åºå¯¹ã\n\nè®¸å¤ nosql æ°æ®åºä½¿ç¨ columnfamily è®¾è®¡æ¥è®¾è®¡å¯æ©å±çæ°æ®ç»æã\n\n\n# å¼æ¾å¹³å°\n\nå¾å¤å¤§å¬å¸ä¼å©ç¨å¼æ¾å¹³å°æä¾å¤§éå¼æ¾æ§ api ä½¿å¾ä¼ä¸åä¸ªäººå¯ä»¥æ¹ä¾¿çæ¥å¥ä¸å¡ãéè¿å¼æ¾å¹³å°ï¼å¯ä»¥æå»ºçæåï¼æååçä»·å¼ä»¥åç«äºåã\n\nå¼æ¾å¹³å°ä¸æ¯ä¸æä¸å¤å®æçï¼è¿éè¦å¤§é open api çæ²æ·ãç³»ç»æ¶æå¨è®¾è®¡ä¹åï¼åºè¯¥ææè¯çå°æªæ¥å¯è½è¢«å¤ç¨çæ¥å£å¥½å¥½è®¾è®¡ï¼ä»¥ä¾¿äºéè¦å¼æ¾ open api æ¶ï¼å¯ä»¥ä¾¿æ·çæ´é²æå¡æ¥å£ã\n\n\n# åèèµæ\n\n * ãå¤§åç½ç«ææ¯æ¶æï¼æ ¸å¿åçä¸æ¡ä¾åæã",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"ç³»ç»å®å¨æ§æ¶æ",frontmatter:{title:"ç³»ç»å®å¨æ§æ¶æ",date:"2018-07-05T15:11:00.000Z",categories:["è®¾è®¡","æ¶æ","ç»¼å"],tags:["æ¶æ","å®å¨"],permalink:"/pages/a1adcf/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/01.%E6%9E%B6%E6%9E%84/00.%E7%BB%BC%E5%90%88/07.%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8%E6%80%A7%E6%9E%B6%E6%9E%84.html",relativePath:"03.è®¾è®¡/01.æ¶æ/00.ç»¼å/07.ç³»ç»å®å¨æ§æ¶æ.md",key:"v-6c350cd6",path:"/pages/a1adcf/",headers:[{level:2,title:"è®¤è¯",slug:"è®¤è¯",normalizedTitle:"è®¤è¯",charIndex:54},{level:3,title:"SSO",slug:"sso",normalizedTitle:"sso",charIndex:61},{level:4,title:"Session å±äº«é®é¢",slug:"session-å±äº«é®é¢",normalizedTitle:"session å±äº«é®é¢",charIndex:152},{level:4,title:"Cookie è·¨å",slug:"cookie-è·¨å",normalizedTitle:"cookie è·¨å",charIndex:440},{level:4,title:"CAS",slug:"cas",normalizedTitle:"cas",charIndex:815},{level:3,title:"Oauth 2.0",slug:"oauth-2-0",normalizedTitle:"oauth 2.0",charIndex:2080},{level:4,title:"åºæ¬åç",slug:"åºæ¬åç",normalizedTitle:"åºæ¬åç",charIndex:2093},{level:4,title:"æææ¨¡å¼",slug:"æææ¨¡å¼",normalizedTitle:"æææ¨¡å¼",charIndex:2572},{level:4,title:"ææç æ¨¡å¼",slug:"ææç æ¨¡å¼",normalizedTitle:"ææç æ¨¡å¼",charIndex:2658},{level:4,title:"ç®åæ¨¡å¼",slug:"ç®åæ¨¡å¼",normalizedTitle:"ç®åæ¨¡å¼",charIndex:2687},{level:4,title:"æ´æ°ä»¤ç",slug:"æ´æ°ä»¤ç",normalizedTitle:"æ´æ°ä»¤ç",charIndex:3113},{level:2,title:"é´æ",slug:"é´æ",normalizedTitle:"é´æ",charIndex:8461},{level:3,title:"RBAC",slug:"rbac",normalizedTitle:"rbac",charIndex:8468},{level:3,title:"è§è²ç»§æ¿",slug:"è§è²ç»§æ¿",normalizedTitle:"è§è²ç»§æ¿",charIndex:8669},{level:4,title:"èè´£åç¦»(Separation of Duty)",slug:"èè´£åç¦»-separation-of-duty",normalizedTitle:"èè´£åç¦»(separation of duty)",charIndex:8775},{level:3,title:"RBAC0 æ¨¡å",slug:"rbac0-æ¨¡å",normalizedTitle:"rbac0 æ¨¡å",charIndex:9109},{level:3,title:"RBAC1 æ¨¡å",slug:"rbac1-æ¨¡å",normalizedTitle:"rbac1 æ¨¡å",charIndex:9405},{level:3,title:"RBAC2 æ¨¡å",slug:"rbac2-æ¨¡å",normalizedTitle:"rbac2 æ¨¡å",charIndex:9643},{level:3,title:"RBAC3 æ¨¡å",slug:"rbac3-æ¨¡å",normalizedTitle:"rbac3 æ¨¡å",charIndex:9977},{level:3,title:"ä»ä¹æ¯æé",slug:"ä»ä¹æ¯æé",normalizedTitle:"ä»ä¹æ¯æé",charIndex:10080},{level:3,title:"ç¨æ·ç»çä½¿ç¨",slug:"ç¨æ·ç»çä½¿ç¨",normalizedTitle:"ç¨æ·ç»çä½¿ç¨",charIndex:10974},{level:3,title:"å®ä¾åæ",slug:"å®ä¾åæ",normalizedTitle:"å®ä¾åæ",charIndex:11414},{level:3,title:"å¦ä½è®¾è®¡ RBAC æéç³»ç»",slug:"å¦ä½è®¾è®¡-rbac-æéç³»ç»",normalizedTitle:"å¦ä½è®¾è®¡ rbac æéç³»ç»",charIndex:11423},{level:3,title:"å®ä¾åæ",slug:"å®ä¾åæ-2",normalizedTitle:"å®ä¾åæ",charIndex:11414},{level:2,title:"å®¡è®¡",slug:"å®¡è®¡",normalizedTitle:"å®¡è®¡",charIndex:9776},{level:2,title:"ç½ç«æ»å»",slug:"ç½ç«æ»å»",normalizedTitle:"ç½ç«æ»å»",charIndex:12211},{level:3,title:"XSS",slug:"xss",normalizedTitle:"xss",charIndex:17},{level:4,title:"æ¦å¿µ",slug:"æ¦å¿µ",normalizedTitle:"æ¦å¿µ",charIndex:9440},{level:4,title:"æ»å»ææ®µåç®ç",slug:"æ»å»ææ®µåç®ç",normalizedTitle:"æ»å»ææ®µåç®ç",charIndex:12750},{level:4,title:"åºå¯¹ææ®µ",slug:"åºå¯¹ææ®µ",normalizedTitle:"åºå¯¹ææ®µ",charIndex:13061},{level:3,title:"CSRF",slug:"csrf",normalizedTitle:"csrf",charIndex:21},{level:4,title:"æ¦å¿µ",slug:"æ¦å¿µ-2",normalizedTitle:"æ¦å¿µ",charIndex:9440},{level:4,title:"æ»å»ææ®µåç®ç",slug:"æ»å»ææ®µåç®ç-2",normalizedTitle:"æ»å»ææ®µåç®ç",charIndex:12750},{level:4,title:"åºå¯¹ææ®µ",slug:"åºå¯¹ææ®µ-2",normalizedTitle:"åºå¯¹ææ®µ",charIndex:13061},{level:3,title:"SQL æ³¨å¥",slug:"sql-æ³¨å¥",normalizedTitle:"sql æ³¨å¥",charIndex:26},{level:4,title:"æ¦å¿µ",slug:"æ¦å¿µ-3",normalizedTitle:"æ¦å¿µ",charIndex:9440},{level:4,title:"æ»å»ææ®µåç®ç",slug:"æ»å»ææ®µåç®ç-3",normalizedTitle:"æ»å»ææ®µåç®ç",charIndex:12750},{level:4,title:"åºå¯¹ææ®µ",slug:"åºå¯¹ææ®µ-3",normalizedTitle:"åºå¯¹ææ®µ",charIndex:13061},{level:3,title:"DoS",slug:"dos",normalizedTitle:"dos",charIndex:33},{level:4,title:"æ»å»æ¹å¼",slug:"æ»å»æ¹å¼",normalizedTitle:"æ»å»æ¹å¼",charIndex:13985},{level:4,title:"åºå¯¹ææ®µ",slug:"åºå¯¹ææ®µ-4",normalizedTitle:"åºå¯¹ææ®µ",charIndex:13061},{level:2,title:"å å¯ææ¯",slug:"å å¯ææ¯",normalizedTitle:"å å¯ææ¯",charIndex:16456},{level:3,title:"æ¶æ¯æè¦",slug:"æ¶æ¯æè¦",normalizedTitle:"æ¶æ¯æè¦",charIndex:37},{level:3,title:"å å¯ç®æ³",slug:"å å¯ç®æ³",normalizedTitle:"å å¯ç®æ³",charIndex:42},{level:4,title:"å¯¹ç§°å å¯",slug:"å¯¹ç§°å å¯",normalizedTitle:"å¯¹ç§°å å¯",charIndex:16550},{level:4,title:"éå¯¹ç§°å å¯",slug:"éå¯¹ç§°å å¯",normalizedTitle:"éå¯¹ç§°å å¯",charIndex:16560},{level:4,title:"å¯é¥å®å¨ç®¡ç",slug:"å¯é¥å®å¨ç®¡ç",normalizedTitle:"å¯é¥å®å¨ç®¡ç",charIndex:16911},{level:3,title:"è¯ä¹¦",slug:"è¯ä¹¦",normalizedTitle:"è¯ä¹¦",charIndex:47},{level:4,title:"è¯ä¹¦åç",slug:"è¯ä¹¦åç",normalizedTitle:"è¯ä¹¦åç",charIndex:17617},{level:2,title:"ä¿¡æ¯è¿æ»¤",slug:"ä¿¡æ¯è¿æ»¤",normalizedTitle:"ä¿¡æ¯è¿æ»¤",charIndex:18056},{level:3,title:"ææ¬å¹é",slug:"ææ¬å¹é",normalizedTitle:"ææ¬å¹é",charIndex:13186},{level:3,title:"é»åå",slug:"é»åå",normalizedTitle:"é»åå",charIndex:10379},{level:3,title:"åç±»ç®æ³",slug:"åç±»ç®æ³",normalizedTitle:"åç±»ç®æ³",charIndex:18336},{level:2,title:"é£é©æ§å¶",slug:"é£é©æ§å¶",normalizedTitle:"é£é©æ§å¶",charIndex:18481},{level:3,title:"é£é©ç§ç±»",slug:"é£é©ç§ç±»",normalizedTitle:"é£é©ç§ç±»",charIndex:18578},{level:3,title:"é£é©æ§å¶ææ®µ",slug:"é£é©æ§å¶ææ®µ",normalizedTitle:"é£é©æ§å¶ææ®µ",charIndex:18705},{level:3,title:"è§åå¼æ",slug:"è§åå¼æ",normalizedTitle:"è§åå¼æ",charIndex:18778},{level:3,title:"ç»è®¡æ¨¡å",slug:"ç»è®¡æ¨¡å",normalizedTitle:"ç»è®¡æ¨¡å",charIndex:18783},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:19260}],headersStr:"è®¤è¯ SSO Session å±äº«é®é¢ Cookie è·¨å CAS Oauth 2.0 åºæ¬åç æææ¨¡å¼ ææç æ¨¡å¼ ç®åæ¨¡å¼ æ´æ°ä»¤ç é´æ RBAC è§è²ç»§æ¿ èè´£åç¦»(Separation of Duty) RBAC0 æ¨¡å RBAC1 æ¨¡å RBAC2 æ¨¡å RBAC3 æ¨¡å ä»ä¹æ¯æé ç¨æ·ç»çä½¿ç¨ å®ä¾åæ å¦ä½è®¾è®¡ RBAC æéç³»ç» å®ä¾åæ å®¡è®¡ ç½ç«æ»å» XSS æ¦å¿µ æ»å»ææ®µåç®ç åºå¯¹ææ®µ CSRF æ¦å¿µ æ»å»ææ®µåç®ç åºå¯¹ææ®µ SQL æ³¨å¥ æ¦å¿µ æ»å»ææ®µåç®ç åºå¯¹ææ®µ DoS æ»å»æ¹å¼ åºå¯¹ææ®µ å å¯ææ¯ æ¶æ¯æè¦ å å¯ç®æ³ å¯¹ç§°å å¯ éå¯¹ç§°å å¯ å¯é¥å®å¨ç®¡ç è¯ä¹¦ è¯ä¹¦åç ä¿¡æ¯è¿æ»¤ ææ¬å¹é é»åå åç±»ç®æ³ é£é©æ§å¶ é£é©ç§ç±» é£é©æ§å¶ææ®µ è§åå¼æ ç»è®¡æ¨¡å åèèµæ",content:'# ç³»ç»å®å¨æ§æ¶æ\n\n> å³é®è¯ï¼XSSãCSRFãSQL æ³¨å¥ãDoSãæ¶æ¯æè¦ãå å¯ç®æ³ãè¯ä¹¦\n\n\n# è®¤è¯\n\n\n# SSO\n\nSSO(Single Sign On)ï¼å³åç¹ç»å½ãæè°åç¹ç»å½ï¼å°±æ¯åå¹³å°çè¯¸å¤åºç¨ç»éä¸æ¬¡ï¼ä¸ä¸æ¬¡å°±åç»éçåè½ã\n\nSSO éè¦è§£å³å¤ä¸ªå¼æç³»ç»ä¹é´çé®é¢ï¼\n\n * Session å±äº«é®é¢\n * è·¨åé®é¢\n\n# Session å±äº«é®é¢\n\nåå¸å¼ Session çå ç§å®ç°ç­ç¥ï¼\n\n * ç²æ§ Session - ç¼ºç¹ï¼å½æå¡å¨èç¹å®æºæ¶ï¼å°ä¸¢å¤±è¯¥æå¡å¨èç¹ä¸çææ Sessionã\n * åºç¨æå¡å¨é´ç Session å¤å¶å±äº« - ç¼ºç¹ï¼å ç¨è¿å¤åå­ï¼åæ­¥è¿ç¨å ç¨ç½ç»å¸¦å®½ä»¥åæå¡å¨å¤çå¨æ¶é´ã\n * åºäºç¼å­ç Session å±äº« â ï¼æ¨èæ¹æ¡ï¼ - ä¸è¿éè¦ç¨åºèªèº«æ§å¶ Session è¯»åï¼å¯ä»¥èèåºäº spring-session + redis è¿ç§æççæ¹æ¡æ¥å¤çã\n\n> è¯¦æè¯·åèï¼Session åç\n\n# Cookie è·¨å\n\nCookie ä¸è½è·¨åï¼æ¯å¦ï¼æµè§å¨ä¸ä¼æ www.google.com ç cookie ä¼ ç» www.baidu.comã\n\nè¿å°±å­å¨ä¸ä¸ªé®é¢ï¼ç±äºååä¸åï¼ç¨æ·å¨ç³»ç» A ç»å½åï¼æµè§å¨è®°å½ç³»ç» A ç Cookieï¼ä½æ¯è®¿é®ç³»ç» B çæ¶åä¸ä¼æºå¸¦è¿ä¸ª Cookieã\n\néå¯¹ Cookie ä¸è½è·¨å çé®é¢ï¼æå ç§è§£å³æ¹æ¡ï¼\n\n * æå¡ç«¯çæ Cookie åï¼è¿åç»å®¢æ·ç«¯ï¼å®¢æ·ç«¯è§£æ Cookie ï¼æå Token ï¼æ¯å¦ JWTï¼ï¼æ­¤åæ¯æ¬¡è¯·æ±é½æºå¸¦è¿ä¸ª Tokenã\n * å¤ä¸ªååå±äº« Cookieï¼å¨è¿å Cookie ç»å®¢æ·ç«¯çæ¶åï¼å¨ Cookie ä¸­è®¾ç½® domain ç½ååã\n * å° Token ä¿å­å¨ SessionStroage ä¸­ï¼ä¸ä¾èµ Cookie å°±æ²¡æè·¨åçé®é¢äºï¼ã\n\n# CAS\n\nCAS æ¯å®ç° SSO çä¸»æµæ¹å¼ã\n\nCAS åä¸ºä¸¤é¨åï¼CAS Server å CAS Client\n\n * CAS Server - è´è´£ç¨æ·çè®¤è¯å·¥ä½ï¼å°±åæ¯æç¬¬ä¸æ¬¡ç»å½ç¨æ·çä¸ä¸ªæ è¯å­å¨è¿éï¼ä»¥ä¾¿æ­¤ç¨æ·å¨å¶ä»ç³»ç»ç»å½æ¶éªè¯å¶éä¸éè¦åæ¬¡ç»å½ã\n * CAS Client - ä¸å¡åºç¨ï¼éè¦æ¥å¥ CAS Serverãå½ç¨æ·è®¿é®æä»¬çåºç¨æ¶ï¼é¦åéè¦éå®åå° CAS Server ç«¯è¿è¡éªè¯ï¼è¦æ¯åæ¥ç»éè¿ï¼å°±åå»ç»å½ï¼éå®åå°ä¸æ¸¸ç³»ç»ï¼å¦åè¿è¡ç¨æ·åå¯ç ç»éæä½ã\n\næ¯è¯­ï¼\n\n * Ticket Granting Ticket (TGT) - å¯ä»¥è®¤ä¸ºæ¯ CAS Server æ ¹æ®ç¨æ·åãå¯ç çæçä¸å¼ ç¥¨ï¼å­å¨ Server ç«¯ã\n * Ticket Granting Cookie (TGC) - å¶å®å°±æ¯ä¸ä¸ª Cookieï¼å­æ¾ç¨æ·èº«ä»½ä¿¡æ¯ï¼ç± Server åç» Client ç«¯ã\n * Service Ticket (ST) - ç± TGT çæçä¸æ¬¡æ§ç¥¨æ®ï¼ç¨äºéªè¯ï¼åªè½ç¨ä¸æ¬¡ã\n\nCAS å·¥ä½æµç¨ï¼\n\n\n\n 1. ç¨æ·è®¿é® CAS Client Aï¼ä¸å¡ç³»ç»ï¼ï¼ç¬¬ä¸æ¬¡è®¿é®ï¼éå®åå°è®¤è¯æå¡ä¸­å¿ï¼CAS Serverï¼ãCAS Server åç°å½åè¯·æ±ä¸­æ²¡æ Cookieï¼åéå®åå° CAS Server çç»å½é¡µé¢ãéå®åè¯·æ±ç URL ä¸­åå«è®¿é®å°åï¼ä»¥ä¾¿è®¤è¯æååç´æ¥è·³è½¬å°è®¿é®é¡µé¢ã\n 2. ç¨æ·å¨ç»å½é¡µé¢è¾å¥ç¨æ·åãå¯ç ç­è®¤è¯ä¿¡æ¯ï¼è®¤è¯æååï¼CAS Server çæ TGTï¼åç¨ TGT çæä¸ä¸ª STãç¶åè¿å ST å TGCï¼Cookieï¼ç»æµè§å¨ã\n 3. æµè§å¨æºå¸¦ ST ååº¦è®¿é®ä¹åæ³è®¿é®ç CAS Client A é¡µé¢ã\n 4. CAS Client A æ¶å° ST åï¼å CAS Server éªè¯ ST çæææ§ãéªè¯éè¿ååè®¸ç¨æ·è®¿é®é¡µé¢ã\n 5. æ­¤æ¶ï¼å¦æç»å½å¦ä¸ä¸ª CAS Client Bï¼ä¼åéå®åå° CAS Serverï¼CAS Server å¯ä»¥å¤æ­è¿ä¸ª CAS Client B æ¯ç¬¬ä¸æ¬¡è®¿é®ï¼ä½æ¯æ¬å°æ TGCï¼æä»¥æ éåæ¬¡ç»å½ãç¨ TGC åå»ºä¸ä¸ª STï¼è¿åç»æµè§å¨ã\n 6. éå¤ç±»ä¼¼ 3ã4 æ­¥éª¤ã\n\n\n\nä»¥ä¸äºå½çº³æ»ç»å¦ä¸ï¼\n\n 1. è®¿é®æå¡ - ç¨æ·è®¿é® SSO Client èµæºã\n 2. å®åè®¤è¯ - SSO Client éå®åç¨æ·è¯·æ±å° SSO Serverã\n 3. ç¨æ·è®¤è¯ - ç¨æ·èº«ä»½è®¤è¯ã\n 4. åæ¾ç¥¨æ® - SSO Server ä¼äº§çä¸ä¸ª Service Ticket (ST) å¹¶è¿åç»æµè§å¨ã\n 5. éªè¯ç¥¨æ® - æµè§å¨æ¯æ¬¡è®¿é® SSO Client æ¶ï¼æºå¸¦ STï¼SSO Client å SSO Server éªè¯ç¥¨æ®ãåªæéªè¯éè¿ï¼æåè®¸è®¿é®ã\n 6. ä¼ è¾ç¨æ·ä¿¡æ¯ - SSO Server éªè¯ç¥¨æ®éè¿åï¼ä¼ è¾ç¨æ·è®¤è¯ç»æä¿¡æ¯ç» SSO Clientã\n\n\n# Oauth 2.0\n\n# åºæ¬åç\n\nOAuth å¨"å®¢æ·ç«¯"ä¸"æå¡æä¾å"ä¹é´ï¼è®¾ç½®äºä¸ä¸ªææå±ï¼authorization layerï¼ã"å®¢æ·ç«¯"ä¸è½ç´æ¥ç»å½"æå¡æä¾å"ï¼åªè½ç»å½ææå±ï¼ä»¥æ­¤å°ç¨æ·ä¸å®¢æ·ç«¯åºåå¼æ¥ã"å®¢æ·ç«¯"ç»å½ææå±æç¨çä»¤çï¼tokenï¼ï¼ä¸ç¨æ·çå¯ç ä¸åãç¨æ·å¯ä»¥å¨ç»å½çæ¶åï¼æå®ææå±ä»¤ççæéèå´åæææã\n\n"å®¢æ·ç«¯"ç»å½ææå±ä»¥åï¼"æå¡æä¾å"æ ¹æ®ä»¤ççæéèå´åæææï¼å"å®¢æ·ç«¯"å¼æ¾ç¨æ·å¨å­çèµæã\n\nOAuth 2.0 çè¿è¡æµç¨å¦ä¸å¾ï¼æèª RFC 6749ã\n\n\nï¼Aï¼ç¨æ·æå¼å®¢æ·ç«¯ä»¥åï¼å®¢æ·ç«¯è¦æ±ç¨æ·ç»äºææã\n\nï¼Bï¼ç¨æ·åæç»äºå®¢æ·ç«¯ææã\n\nï¼Cï¼å®¢æ·ç«¯ä½¿ç¨ä¸ä¸æ­¥è·å¾çææï¼åè®¤è¯æå¡å¨ç³è¯·ä»¤çã\n\nï¼Dï¼è®¤è¯æå¡å¨å¯¹å®¢æ·ç«¯è¿è¡è®¤è¯ä»¥åï¼ç¡®è®¤æ è¯¯ï¼åæåæ¾ä»¤çã\n\nï¼Eï¼å®¢æ·ç«¯ä½¿ç¨ä»¤çï¼åèµæºæå¡å¨ç³è¯·è·åèµæºã\n\nï¼Fï¼èµæºæå¡å¨ç¡®è®¤ä»¤çæ è¯¯ï¼åæåå®¢æ·ç«¯å¼æ¾èµæºã\n\nä¸é¾çåºæ¥ï¼ä¸é¢å­ä¸ªæ­¥éª¤ä¹ä¸­ï¼B æ¯å³é®ï¼å³ç¨æ·ææ ·æè½ç»äºå®¢æ·ç«¯ææãæäºè¿ä¸ªææä»¥åï¼å®¢æ·ç«¯å°±å¯ä»¥è·åä»¤çï¼è¿èå­ä»¤çè·åèµæºã\n\n# æææ¨¡å¼\n\nå®¢æ·ç«¯å¿é¡»å¾å°ç¨æ·çææï¼authorization grantï¼ï¼æè½è·å¾ä»¤çï¼access tokenï¼ãOAuth 2.0 å®ä¹äºåç§æææ¹å¼ã\n\n * ææç æ¨¡å¼ï¼authorization codeï¼\n * ç®åæ¨¡å¼ï¼implicitï¼\n * å¯ç æ¨¡å¼ï¼resource owner password credentialsï¼\n * å®¢æ·ç«¯æ¨¡å¼ï¼client credentialsï¼\n\n# ææç æ¨¡å¼\n\nææç æ¨¡å¼ï¼authorization codeï¼æ¯åè½æå®æ´ãæµç¨æä¸¥å¯çæææ¨¡å¼ãå®çç¹ç¹å°±æ¯éè¿å®¢æ·ç«¯çåå°æå¡å¨ï¼ä¸"æå¡æä¾å"çè®¤è¯æå¡å¨è¿è¡äºå¨ã\n\n\nå®çæ­¥éª¤å¦ä¸ï¼\n\nï¼Aï¼ç¨æ·è®¿é®å®¢æ·ç«¯ï¼åèå°åèå¯¼åè®¤è¯æå¡å¨ã\n\nï¼Bï¼ç¨æ·éæ©æ¯å¦ç»äºå®¢æ·ç«¯ææã\n\nï¼Cï¼åè®¾ç¨æ·ç»äºææï¼è®¤è¯æå¡å¨å°ç¨æ·å¯¼åå®¢æ·ç«¯äºåæå®ç"éå®å URI"ï¼redirection URIï¼ï¼åæ¶éä¸ä¸ä¸ªææç ã\n\nï¼Dï¼å®¢æ·ç«¯æ¶å°ææç ï¼éä¸æ©åç"éå®å URI"ï¼åè®¤è¯æå¡å¨ç³è¯·ä»¤çãè¿ä¸æ­¥æ¯å¨å®¢æ·ç«¯çåå°çæå¡å¨ä¸å®æçï¼å¯¹ç¨æ·ä¸å¯è§ã\n\nï¼Eï¼è®¤è¯æå¡å¨æ ¸å¯¹äºææç åéå®å URIï¼ç¡®è®¤æ è¯¯åï¼åå®¢æ·ç«¯åéè®¿é®ä»¤çï¼access tokenï¼åæ´æ°ä»¤çï¼refresh tokenï¼ã\n\nä¸é¢æ¯ä¸é¢è¿äºæ­¥éª¤æéè¦çåæ°ã\n\nA æ­¥éª¤ä¸­ï¼å®¢æ·ç«¯ç³è¯·è®¤è¯ç URIï¼åå«ä»¥ä¸åæ°ï¼\n\n * response_typeï¼è¡¨ç¤ºææç±»åï¼å¿éé¡¹ï¼æ­¤å¤çå¼åºå®ä¸º"code"\n * client_idï¼è¡¨ç¤ºå®¢æ·ç«¯ç IDï¼å¿éé¡¹\n * redirect_uriï¼è¡¨ç¤ºéå®å URIï¼å¯éé¡¹\n * scopeï¼è¡¨ç¤ºç³è¯·çæéèå´ï¼å¯éé¡¹\n * stateï¼è¡¨ç¤ºå®¢æ·ç«¯çå½åç¶æï¼å¯ä»¥æå®ä»»æå¼ï¼è®¤è¯æå¡å¨ä¼åå°ä¸å¨å°è¿åè¿ä¸ªå¼ã\n\nä¸é¢æ¯ä¸ä¸ªä¾å­ã\n\nGET /authorize?response_type=code&client_id=s6BhdRkqt3&state=xyz\n  &redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb HTTP/1.1\nHost: server.example.com\n\n\nC æ­¥éª¤ä¸­ï¼æå¡å¨ååºå®¢æ·ç«¯ç URIï¼åå«ä»¥ä¸åæ°ï¼\n\n * codeï¼è¡¨ç¤ºææç ï¼å¿éé¡¹ãè¯¥ç çæææåºè¯¥å¾ç­ï¼éå¸¸è®¾ä¸º 10 åéï¼å®¢æ·ç«¯åªè½ä½¿ç¨è¯¥ç ä¸æ¬¡ï¼å¦åä¼è¢«æææå¡å¨æç»ãè¯¥ç ä¸å®¢æ·ç«¯ ID åéå®å URIï¼æ¯ä¸ä¸å¯¹åºå³ç³»ã\n * stateï¼å¦æå®¢æ·ç«¯çè¯·æ±ä¸­åå«è¿ä¸ªåæ°ï¼è®¤è¯æå¡å¨çååºä¹å¿é¡»ä¸æ¨¡ä¸æ ·åå«è¿ä¸ªåæ°ã\n\nä¸é¢æ¯ä¸ä¸ªä¾å­ã\n\nHTTP/1.1 302 Found\nLocation: https://client.example.com/cb?code=SplxlOBeZQQYbYS6WxSbIA\n    &state=xyz\n\n\nD æ­¥éª¤ä¸­ï¼å®¢æ·ç«¯åè®¤è¯æå¡å¨ç³è¯·ä»¤çç HTTP è¯·æ±ï¼åå«ä»¥ä¸åæ°ï¼\n\n * grant_typeï¼è¡¨ç¤ºä½¿ç¨çæææ¨¡å¼ï¼å¿éé¡¹ï¼æ­¤å¤çå¼åºå®ä¸º"authorization_code"ã\n * codeï¼è¡¨ç¤ºä¸ä¸æ­¥è·å¾çææç ï¼å¿éé¡¹ã\n * redirect_uriï¼è¡¨ç¤ºéå®å URIï¼å¿éé¡¹ï¼ä¸å¿é¡»ä¸ A æ­¥éª¤ä¸­çè¯¥åæ°å¼ä¿æä¸è´ã\n * client_idï¼è¡¨ç¤ºå®¢æ·ç«¯ IDï¼å¿éé¡¹ã\n\nä¸é¢æ¯ä¸ä¸ªä¾å­ã\n\nPOST /token HTTP/1.1\nHost: server.example.com\nAuthorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW\nContent-Type: application/x-www-form-urlencoded\n\ngrant_type=authorization_code&code=SplxlOBeZQQYbYS6WxSbIA\n&redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb\n\n\nE æ­¥éª¤ä¸­ï¼è®¤è¯æå¡å¨åéç HTTP åå¤ï¼åå«ä»¥ä¸åæ°ï¼\n\n * access_tokenï¼è¡¨ç¤ºè®¿é®ä»¤çï¼å¿éé¡¹ã\n * token_typeï¼è¡¨ç¤ºä»¤çç±»åï¼è¯¥å¼å¤§å°åä¸ææï¼å¿éé¡¹ï¼å¯ä»¥æ¯ bearer ç±»åæ mac ç±»åã\n * expires_inï¼è¡¨ç¤ºè¿ææ¶é´ï¼åä½ä¸ºç§ãå¦æçç¥è¯¥åæ°ï¼å¿é¡»å¶ä»æ¹å¼è®¾ç½®è¿ææ¶é´ã\n * refresh_tokenï¼è¡¨ç¤ºæ´æ°ä»¤çï¼ç¨æ¥è·åä¸ä¸æ¬¡çè®¿é®ä»¤çï¼å¯éé¡¹ã\n * scopeï¼è¡¨ç¤ºæéèå´ï¼å¦æä¸å®¢æ·ç«¯ç³è¯·çèå´ä¸è´ï¼æ­¤é¡¹å¯çç¥ã\n\nä¸é¢æ¯ä¸ä¸ªä¾å­ã\n\nHTTP/1.1 200 OK\nContent-Type: application/json;charset=UTF-8\nCache-Control: no-store\nPragma: no-cache\n\n{\n "access_token":"2YotnFZFEjr1zCsicMWpAA",\n "token_type":"example",\n "expires_in":3600,\n "refresh_token":"tGzv3JOkF0XG5Qx2TlKWIA",\n "example_parameter":"example_value"\n}\n\n\nä»ä¸é¢ä»£ç å¯ä»¥çå°ï¼ç¸å³åæ°ä½¿ç¨ JSON æ ¼å¼åéï¼Content-Type: application/jsonï¼ãæ­¤å¤ï¼HTTP å¤´ä¿¡æ¯ä¸­æç¡®æå®ä¸å¾ç¼å­ã\n\n# ç®åæ¨¡å¼\n\nç®åæ¨¡å¼ï¼implicit grant typeï¼ä¸éè¿ç¬¬ä¸æ¹åºç¨ç¨åºçæå¡å¨ï¼ç´æ¥å¨æµè§å¨ä¸­åè®¤è¯æå¡å¨ç³è¯·ä»¤çï¼è·³è¿äº"ææç "è¿ä¸ªæ­¥éª¤ï¼å æ­¤å¾åãæææ­¥éª¤å¨æµè§å¨ä¸­å®æï¼ä»¤çå¯¹è®¿é®èæ¯å¯è§çï¼ä¸å®¢æ·ç«¯ä¸éè¦è®¤è¯ã\n\n\nå®çæ­¥éª¤å¦ä¸ï¼\n\nï¼Aï¼å®¢æ·ç«¯å°ç¨æ·å¯¼åè®¤è¯æå¡å¨ã\n\nï¼Bï¼ç¨æ·å³å®æ¯å¦ç»äºå®¢æ·ç«¯ææã\n\nï¼Cï¼åè®¾ç¨æ·ç»äºææï¼è®¤è¯æå¡å¨å°ç¨æ·å¯¼åå®¢æ·ç«¯æå®ç"éå®å URI"ï¼å¹¶å¨ URI ç Hash é¨ååå«äºè®¿é®ä»¤çã\n\nï¼Dï¼æµè§å¨åèµæºæå¡å¨ååºè¯·æ±ï¼å¶ä¸­ä¸åæ¬ä¸ä¸æ­¥æ¶å°ç Hash å¼ã\n\nï¼Eï¼èµæºæå¡å¨è¿åä¸ä¸ªç½é¡µï¼å¶ä¸­åå«çä»£ç å¯ä»¥è·å Hash å¼ä¸­çä»¤çã\n\nï¼Fï¼æµè§å¨æ§è¡ä¸ä¸æ­¥è·å¾çèæ¬ï¼æååºä»¤çã\n\nï¼Gï¼æµè§å¨å°ä»¤çåç»å®¢æ·ç«¯ã\n\nä¸é¢æ¯ä¸é¢è¿äºæ­¥éª¤æéè¦çåæ°ã\n\nA æ­¥éª¤ä¸­ï¼å®¢æ·ç«¯ååºç HTTP è¯·æ±ï¼åå«ä»¥ä¸åæ°ï¼\n\n * response_typeï¼è¡¨ç¤ºææç±»åï¼æ­¤å¤çå¼åºå®ä¸º"token"ï¼å¿éé¡¹ã\n * client_idï¼è¡¨ç¤ºå®¢æ·ç«¯ç IDï¼å¿éé¡¹ã\n * redirect_uriï¼è¡¨ç¤ºéå®åç URIï¼å¯éé¡¹ã\n * scopeï¼è¡¨ç¤ºæéèå´ï¼å¯éé¡¹ã\n * stateï¼è¡¨ç¤ºå®¢æ·ç«¯çå½åç¶æï¼å¯ä»¥æå®ä»»æå¼ï¼è®¤è¯æå¡å¨ä¼åå°ä¸å¨å°è¿åè¿ä¸ªå¼ã\n\nä¸é¢æ¯ä¸ä¸ªä¾å­ã\n\nGET /authorize?response_type=token&client_id=s6BhdRkqt3&state=xyz\n  &redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb HTTP/1.1\nHost: server.example.com\n\n\nC æ­¥éª¤ä¸­ï¼è®¤è¯æå¡å¨ååºå®¢æ·ç«¯ç URIï¼åå«ä»¥ä¸åæ°ï¼\n\n * access_tokenï¼è¡¨ç¤ºè®¿é®ä»¤çï¼å¿éé¡¹ã\n * token_typeï¼è¡¨ç¤ºä»¤çç±»åï¼è¯¥å¼å¤§å°åä¸ææï¼å¿éé¡¹ã\n * expires_inï¼è¡¨ç¤ºè¿ææ¶é´ï¼åä½ä¸ºç§ãå¦æçç¥è¯¥åæ°ï¼å¿é¡»å¶ä»æ¹å¼è®¾ç½®è¿ææ¶é´ã\n * scopeï¼è¡¨ç¤ºæéèå´ï¼å¦æä¸å®¢æ·ç«¯ç³è¯·çèå´ä¸è´ï¼æ­¤é¡¹å¯çç¥ã\n * stateï¼å¦æå®¢æ·ç«¯çè¯·æ±ä¸­åå«è¿ä¸ªåæ°ï¼è®¤è¯æå¡å¨çååºä¹å¿é¡»ä¸æ¨¡ä¸æ ·åå«è¿ä¸ªåæ°ã\n\nä¸é¢æ¯ä¸ä¸ªä¾å­ã\n\nHTTP/1.1 302 Found\nLocation: http://example.com/cb#access_token=2YotnFZFEjr1zCsicMWpAA\n         &state=xyz&token_type=example&expires_in=3600\n\n\nå¨ä¸é¢çä¾å­ä¸­ï¼è®¤è¯æå¡å¨ç¨ HTTP å¤´ä¿¡æ¯ç Location æ ï¼æå®æµè§å¨éå®åçç½åãæ³¨æï¼å¨è¿ä¸ªç½åç Hash é¨ååå«äºä»¤çã\n\næ ¹æ®ä¸é¢ç D æ­¥éª¤ï¼ä¸ä¸æ­¥æµè§å¨ä¼è®¿é® Location æå®çç½åï¼ä½æ¯ Hash é¨åä¸ä¼åéãæ¥ä¸æ¥ç E æ­¥éª¤ï¼æå¡æä¾åçèµæºæå¡å¨åéè¿æ¥çä»£ç ï¼ä¼æååº Hash ä¸­çä»¤çã\n\nå¯ç æ¨¡å¼\n\nå¯ç æ¨¡å¼ï¼Resource Owner Password Credentials Grantï¼ä¸­ï¼ç¨æ·åå®¢æ·ç«¯æä¾èªå·±çç¨æ·ååå¯ç ãå®¢æ·ç«¯ä½¿ç¨è¿äºä¿¡æ¯ï¼å"æå¡åæä¾å"ç´¢è¦ææã\n\nå¨è¿ç§æ¨¡å¼ä¸­ï¼ç¨æ·å¿é¡»æèªå·±çå¯ç ç»å®¢æ·ç«¯ï¼ä½æ¯å®¢æ·ç«¯ä¸å¾å¨å­å¯ç ãè¿éå¸¸ç¨å¨ç¨æ·å¯¹å®¢æ·ç«¯é«åº¦ä¿¡ä»»çæåµä¸ï¼æ¯å¦å®¢æ·ç«¯æ¯æä½ç³»ç»çä¸é¨åï¼æèç±ä¸ä¸ªèåå¬å¸åºåãèè®¤è¯æå¡å¨åªæå¨å¶ä»æææ¨¡å¼æ æ³æ§è¡çæåµä¸ï¼æè½èèä½¿ç¨è¿ç§æ¨¡å¼ã\n\n\n\nå®çæ­¥éª¤å¦ä¸ï¼\n\nï¼Aï¼ç¨æ·åå®¢æ·ç«¯æä¾ç¨æ·ååå¯ç ã\n\nï¼Bï¼å®¢æ·ç«¯å°ç¨æ·ååå¯ç åç»è®¤è¯æå¡å¨ï¼ååèè¯·æ±ä»¤çã\n\nï¼Cï¼è®¤è¯æå¡å¨ç¡®è®¤æ è¯¯åï¼åå®¢æ·ç«¯æä¾è®¿é®ä»¤çã\n\nB æ­¥éª¤ä¸­ï¼å®¢æ·ç«¯ååºç HTTP è¯·æ±ï¼åå«ä»¥ä¸åæ°ï¼\n\n * grant_typeï¼è¡¨ç¤ºææç±»åï¼æ­¤å¤çå¼åºå®ä¸º"password"ï¼å¿éé¡¹ã\n * usernameï¼è¡¨ç¤ºç¨æ·åï¼å¿éé¡¹ã\n * passwordï¼è¡¨ç¤ºç¨æ·çå¯ç ï¼å¿éé¡¹ã\n * scopeï¼è¡¨ç¤ºæéèå´ï¼å¯éé¡¹ã\n\nä¸é¢æ¯ä¸ä¸ªä¾å­ã\n\nPOST /token HTTP/1.1\nHost: server.example.com\nAuthorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW\nContent-Type: application/x-www-form-urlencoded\n\ngrant_type=password&username=johndoe&password=A3ddj3w\n\n\nC æ­¥éª¤ä¸­ï¼è®¤è¯æå¡å¨åå®¢æ·ç«¯åéè®¿é®ä»¤çï¼ä¸é¢æ¯ä¸ä¸ªä¾å­ã\n\nHTTP/1.1 200 OK\nContent-Type: application/json;charset=UTF-8\nCache-Control: no-store\nPragma: no-cache\n\n{\n "access_token":"2YotnFZFEjr1zCsicMWpAA",\n "token_type":"example",\n "expires_in":3600,\n "refresh_token":"tGzv3JOkF0XG5Qx2TlKWIA",\n "example_parameter":"example_value"\n}\n\n\nä¸é¢ä»£ç ä¸­ï¼åä¸ªåæ°çå«ä¹åè§ãææç æ¨¡å¼ãä¸èã\n\næ´ä¸ªè¿ç¨ä¸­ï¼å®¢æ·ç«¯ä¸å¾ä¿å­ç¨æ·çå¯ç ã\n\nå®¢æ·ç«¯æ¨¡å¼\n\nå®¢æ·ç«¯æ¨¡å¼ï¼Client Credentials Grantï¼æå®¢æ·ç«¯ä»¥èªå·±çåä¹ï¼èä¸æ¯ä»¥ç¨æ·çåä¹ï¼å"æå¡æä¾å"è¿è¡è®¤è¯ãä¸¥æ ¼å°è¯´ï¼å®¢æ·ç«¯æ¨¡å¼å¹¶ä¸å±äº OAuth æ¡æ¶æè¦è§£å³çé®é¢ãå¨è¿ç§æ¨¡å¼ä¸­ï¼ç¨æ·ç´æ¥åå®¢æ·ç«¯æ³¨åï¼å®¢æ·ç«¯ä»¥èªå·±çåä¹è¦æ±"æå¡æä¾å"æä¾æå¡ï¼å¶å®ä¸å­å¨ææé®é¢ã\n\n\n\nå®çæ­¥éª¤å¦ä¸ï¼\n\nï¼Aï¼å®¢æ·ç«¯åè®¤è¯æå¡å¨è¿è¡èº«ä»½è®¤è¯ï¼å¹¶è¦æ±ä¸ä¸ªè®¿é®ä»¤çã\n\nï¼Bï¼è®¤è¯æå¡å¨ç¡®è®¤æ è¯¯åï¼åå®¢æ·ç«¯æä¾è®¿é®ä»¤çã\n\nA æ­¥éª¤ä¸­ï¼å®¢æ·ç«¯ååºç HTTP è¯·æ±ï¼åå«ä»¥ä¸åæ°ï¼\n\n * granttypeï¼è¡¨ç¤ºææç±»åï¼æ­¤å¤çå¼åºå®ä¸º"clientcredentials"ï¼å¿éé¡¹ã\n * scopeï¼è¡¨ç¤ºæéèå´ï¼å¯éé¡¹ã\n\nPOST /token HTTP/1.1\nHost: server.example.com\nAuthorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW\nContent-Type: application/x-www-form-urlencoded\n\ngrant_type=client_credentials\n\n\nè®¤è¯æå¡å¨å¿é¡»ä»¥æç§æ¹å¼ï¼éªè¯å®¢æ·ç«¯èº«ä»½ã\n\nB æ­¥éª¤ä¸­ï¼è®¤è¯æå¡å¨åå®¢æ·ç«¯åéè®¿é®ä»¤çï¼ä¸é¢æ¯ä¸ä¸ªä¾å­ã\n\nHTTP/1.1 200 OK\nContent-Type: application/json;charset=UTF-8\nCache-Control: no-store\nPragma: no-cache\n\n{\n "access_token":"2YotnFZFEjr1zCsicMWpAA",\n "token_type":"example",\n "expires_in":3600,\n "example_parameter":"example_value"\n}\n\n\nä¸é¢ä»£ç ä¸­ï¼åä¸ªåæ°çå«ä¹åè§ãææç æ¨¡å¼ãä¸èã\n\n# æ´æ°ä»¤ç\n\nå¦æç¨æ·è®¿é®çæ¶åï¼å®¢æ·ç«¯ç"è®¿é®ä»¤ç"å·²ç»è¿æï¼åéè¦ä½¿ç¨"æ´æ°ä»¤ç"ç³è¯·ä¸ä¸ªæ°çè®¿é®ä»¤çã\n\nå®¢æ·ç«¯ååºæ´æ°ä»¤çç HTTP è¯·æ±ï¼åå«ä»¥ä¸åæ°ï¼\n\n * granttypeï¼è¡¨ç¤ºä½¿ç¨çæææ¨¡å¼ï¼æ­¤å¤çå¼åºå®ä¸º"refreshtoken"ï¼å¿éé¡¹ã\n * refresh_tokenï¼è¡¨ç¤ºæ©åæ¶å°çæ´æ°ä»¤çï¼å¿éé¡¹ã\n * scopeï¼è¡¨ç¤ºç³è¯·çææèå´ï¼ä¸å¯ä»¥è¶åºä¸ä¸æ¬¡ç³è¯·çèå´ï¼å¦æçç¥è¯¥åæ°ï¼åè¡¨ç¤ºä¸ä¸ä¸æ¬¡ä¸è´ã\n\nä¸é¢æ¯ä¸ä¸ªä¾å­ã\n\nPOST /token HTTP/1.1\nHost: server.example.com\nAuthorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW\nContent-Type: application/x-www-form-urlencoded\n\ngrant_type=refresh_token&refresh_token=tGzv3JOkF0XG5Qx2TlKWIA\n\n\n\n# é´æ\n\n\n# RBAC\n\nRBACï¼Role-Based Access Controlï¼å³ï¼åºäºè§è²çæéæ§å¶ãéè¿è§è²å³èç¨æ·ï¼è§è²å³èæéçæ¹å¼é´æ¥èµäºç¨æ·æéã\n\næ¯ä¸ªç¨æ·å³èä¸ä¸ªæå¤ä¸ªè§è²ï¼æ¯ä¸ªè§è²å³èä¸ä¸ªæå¤ä¸ªæéï¼ä»èå¯ä»¥å®ç°äºéå¸¸çµæ´»çæéç®¡çãè§è²å¯ä»¥æ ¹æ®å®éä¸å¡éæ±çµæ´»åå»ºï¼è¿æ ·å°±çå»äºæ¯æ°å¢ä¸ä¸ªç¨æ·å°±è¦å³èä¸éæææéçéº»ç¦ãç®åæ¥è¯´ RBAC å°±æ¯ï¼ç¨æ·å³èè§è²ï¼è§è²å³èæéã\n\n\n\n\n# è§è²ç»§æ¿\n\nè§è²ç»§æ¿(Hierarchical Role) å°±æ¯æè§è²å¯ä»¥ç»§æ¿äºå¶ä»è§è²ï¼å¨æ¥æå¶ä»è§è²æéçåæ¶ï¼èªå·±è¿å¯ä»¥å³èé¢å¤çæéãè¿ç§è®¾è®¡å¯ä»¥ç»è§è²åç»ååå±ï¼ä¸å®ç¨åº¦ç®åäºæéç®¡çå·¥ä½ã\n\n\n\n# èè´£åç¦»(Separation of Duty)\n\nä¸ºäºé¿åç¨æ·æ¥æè¿å¤æéèäº§çå©çå²çªï¼ä¾å¦ä¸ä¸ªç¯®çè¿å¨ååæ¶æ¥æè£å¤çæéï¼çä¸ç¼å°±ç»ä½ å¤ç¯è§ç ä¸ç ï¼ï¼ï¼å¦ä¸ç§èè´£åç¦»æ©å±çç RBAC è¢«æåºã\n\nèè´£åç¦»æä¸¤ç§æ¨¡å¼ï¼\n\néæèè´£åç¦»(Static Separation of Duty)ï¼ç¨æ·æ æ³åæ¶è¢«èµäºæå²çªçè§è²ã\n\n\n\nå¨æèè´£åç¦»(Dynamic Separation of Duty)ï¼ç¨æ·å¨ä¸æ¬¡ä¼è¯ï¼Sessionï¼ä¸­ä¸è½åæ¶æ¿æ´»èªèº«ææ¥æçãäºç¸æå²çªçè§è²ï¼åªè½éæ©å¶ä¸ã\n\n\n\nè®²äºè¿ä¹å¤ RBACï¼é½è¿åªæ¯å¨ç¨æ·åæéä¹é´è¿è¡è®¾è®¡ï¼å¹¶æ²¡ææ¶åå°ç¨æ·åå¯¹è±¡ä¹é´çæéå¤æ­ï¼èå¨å®éä¸å¡ç³»ç»ä¸­éå¶ç¨æ·è½å¤ä½¿ç¨çå¯¹è±¡æ¯å¾å¸¸è§çéæ±ã\n\n\n# RBAC0 æ¨¡å\n\næç®åçç¨æ·ãè§è²ãæéæ¨¡åãè¿éé¢ååå«äº 2 ç§ï¼\n\n 1. ç¨æ·åè§è²æ¯å¤å¯¹ä¸å³ç³»ï¼å³ï¼ä¸ä¸ªç¨æ·åªåå½ä¸ç§è§è²ï¼ä¸ç§è§è²å¯ä»¥æå¤ä¸ªç¨æ·æå½ã\n 2. ç¨æ·åè§è²æ¯å¤å¯¹å¤å³ç³»ï¼å³ï¼ä¸ä¸ªç¨æ·å¯åæ¶åå½å¤ç§è§è²ï¼ä¸ç§è§è²å¯ä»¥æå¤ä¸ªç¨æ·æå½ã\n\né£ä¹ï¼ä»ä¹æ¶åè¯¥ä½¿ç¨å¤å¯¹ä¸çæéä½ç³»ï¼ä»ä¹æ¶ååè¯¥ä½¿ç¨å¤å¯¹å¤çæéä½ç³»å¢ï¼\n\nå¦æç³»ç»åè½æ¯è¾åä¸ï¼ä½¿ç¨äººåè¾å°ï¼å²ä½æéç¸å¯¹æ¸æ°ä¸ç¡®ä¿ä¸ä¼åºç°å¼å²çæåµï¼æ­¤æ¶å¯ä»¥èèç¨å¤å¯¹ä¸çæéä½ç³»ãå¶ä½æåµå°½éä½¿ç¨å¤å¯¹å¤çæéä½ç³»ï¼ä¿è¯ç³»ç»çå¯æ©å±æ§ãå¦ï¼å¼ ä¸æ¢æ¯è¡æ¿ï¼ä¹è´è´£è´¢å¡å·¥ä½ï¼é£å¼ ä¸å°±åæ¶æ¥æè¡æ¿åè´¢å¡ä¸¤ä¸ªè§è²çæéã\n\n\n# RBAC1 æ¨¡å\n\nç¸å¯¹äº RBAC0 æ¨¡åï¼å¢å äºå­è§è²ï¼å¼å¥äºç»§æ¿æ¦å¿µï¼å³å­è§è²å¯ä»¥ç»§æ¿ç¶è§è²çæææéã\n\n\n\n**ä½¿ç¨åºæ¯ï¼**å¦æä¸ªä¸å¡é¨é¨ï¼æç»çãä¸»ç®¡ãä¸åãä¸»ç®¡çæéä¸è½å¤§äºç»çï¼ä¸åçæéä¸è½å¤§äºä¸»ç®¡ï¼å¦æéç¨ RBAC0 æ¨¡ååæéç³»ç»ï¼æå¯è½åºç°åéæéå¤±è¯¯ï¼æç»åºç°ä¸»ç®¡æ¥æç»çé½æ²¡æçæéçæåµã\n\nè RBAC1 æ¨¡åå°±å¾å¥½è§£å³äºè¿ä¸ªé®é¢ï¼åå»ºå®ç»çè§è²å¹¶éç½®å¥½æéåï¼ä¸»ç®¡è§è²çæéç»§æ¿ç»çè§è²çæéï¼å¹¶ä¸æ¯æå¨ç»çæéä¸å åä¸»ç®¡æéã\n\n\n# RBAC2 æ¨¡å\n\nåºäº RBAC0 æ¨¡åï¼å¢å äºå¯¹è§è²çä¸äºéå¶ï¼è§è²äºæ¥ãåºæ°çº¦æãåå³æ¡ä»¶è§è²ç­ã\n\n * **è§è²äºæ¥ï¼**åä¸ç¨æ·ä¸è½åéå°ä¸ç»äºæ¥è§è²éåä¸­çå¤ä¸ªè§è²ï¼äºæ¥è§è²æ¯ææéäºç¸å¶çº¦çä¸¤ä¸ªè§è²ãæ¡ä¾ï¼è´¢å¡ç³»ç»ä¸­ä¸ä¸ªç¨æ·ä¸è½åæ¶è¢«ææ´¾ç»ä¼è®¡è§è²åå®¡è®¡åè§è²ã\n * **åºæ°çº¦æï¼**ä¸ä¸ªè§è²è¢«åéçç¨æ·æ°éåéï¼å®æçæ¯æå¤å°ç¨æ·è½æ¥æè¿ä¸ªè§è²ãä¾å¦ï¼ä¸ä¸ªè§è²ä¸é¨ä¸ºå¬å¸ CEO åå»ºçï¼é£è¿ä¸ªè§è²çæ°éæ¯æéçã\n * **åå³æ¡ä»¶è§è²ï¼**æè¦æ³è·å¾è¾é«çæéï¼è¦é¦åæ¥æä½ä¸çº§çæéãä¾å¦ï¼åæå¯æ»ç»çæéï¼æè½ææ»ç»çæéã\n * **è¿è¡æ¶äºæ¥ï¼**ä¾å¦ï¼åè®¸ä¸ä¸ªç¨æ·å·æä¸¤ä¸ªè§è²çæåèµæ ¼ï¼ä½å¨è¿è¡ä¸­ä¸å¯åæ¶æ¿æ´»è¿ä¸¤ä¸ªè§è²ã\n\n\n# RBAC3 æ¨¡å\n\nç§°ä¸ºç»ä¸æ¨¡åï¼å®åå«äº RBAC1 å RBAC2ï¼å©ç¨ä¼ éæ§ï¼ä¹æ RBAC0 åæ¬å¨åï¼ç»¼åäº RBAC0ãRBAC1 å RBAC2 çææç¹ç¹ï¼è¿éå°±ä¸å¨å¤æè¿°äºã\n\n\n\n\n# ä»ä¹æ¯æé\n\nè¯´äºè¿ä¹ä¹ç¨æ·-è§è²-æéï¼å¯è½å°ä¼ä¼´ä»¬é½äºè§£äºä»ä¹æ¯ç¨æ·ãä»ä¹æ¯è§è²ãä½æ¯æçå°ä¼ä¼´ä¼å¥½å¥ï¼é£æéåæ¯ä¸ªä»ä¹ç©æå¢ï¼\n\næéæ¯èµæºçéåï¼è¿éçèµæºæçæ¯è½¯ä»¶ä¸­ææçåå®¹ï¼åæ¬æ¨¡åãèåãé¡µé¢ãå­æ®µãæä½åè½ï¼å¢å æ¹æ¥ï¼ç­ç­ãå·ä½çæééç½®ä¸ï¼ç®åå½¢å¼å¤ç§å¤æ ·ï¼æç§æä¸ªäººççè§£ï¼å¯ä»¥å°æéåä¸ºï¼é¡µé¢æéãæä½æéåæ°æ®æéï¼è¿ç§åç±»æ³ï¼ä¸»è¦æ¯ç»åèªå·±å¨å·¥ä½ä¸­çå®éæåµçè§£æ»ç»èæ¥ï¼è¥æä¸è¶³ä¹å¤ï¼ä¹è¯·å¤§å®¶æåºï¼ã\n\n**é¡µé¢æéï¼**ææç³»ç»é½æ¯ç±ä¸ä¸ªä¸ªçé¡µé¢ç»æï¼é¡µé¢åç»ææ¨¡åï¼ç¨æ·æ¯å¦è½çå°è¿ä¸ªé¡µé¢çèåãæ¯å¦è½è¿å¥è¿ä¸ªé¡µé¢å°±ç§°ä¸ºé¡µé¢æéã\n\nå¦ä¸å¾ï¼\n\n\n\nå®¢æ·åè¡¨ãå®¢æ·é»ååãå®¢æ·å®¡æ¹é¡µé¢ç»æäºå®¢æ·ç®¡çè¿ä¸ªæ¨¡åãå¯¹äºæ®éç¨æ·ï¼ä¸è½è¿è¡å®¡æ¹æä½ï¼å³æ å®¢æ·å®¡æ¹é¡µé¢æéï¼å¨ä»çè´¦å·ç»å½åä¾§è¾¹å¯¼èªæ åªæ¾ç¤ºå®¢æ·åè¡¨ãå®¢æ·é»ååä¸¤ä¸ªèåã\n\n**æä½æéï¼**ç¨æ·å¡æ¯å¨æä½ç³»ç»ä¸­çä»»ä½å¨ä½ãäº¤äºé½æ¯æä½æéï¼å¦å¢å æ¹æ¥ç­ã\n\n**æ°æ®æéï¼**ä¸è¬ä¸å¡ç®¡çç³»ç»ï¼é½ææ°æ®ç§å¯æ§çè¦æ±ï¼åªäºäººå¯ä»¥çå°åªäºæ°æ®ï¼ä¸å¯ä»¥çå°åªäºæ°æ®ã\n\nç®åä¸¾ä¸ªä¾å­ï¼æç³»ç»ä¸­æéå®é¨é¨ï¼éå®ä¸åè´è´£æ¨éååï¼éå®ä¸»ç®¡è´è´£ç®¡çéå®ä¸åæ¥å¸¸å·¥ä½ï¼ç»çè´è´£ç»ç»ç®¡çéå®ä¸»ç®¡ä½ä¸ã\n\nå¦ä¸å¾ï¼\n\n\n\næç§å®éçè§£ï¼âéå®ä¸åå¼ ä¸âç»å½æ¶ï¼åªè½çå°èªå·±è´è´£çæ°æ®ï¼éå®ä¸»ç®¡ 2 ç»å½æ¶ï¼è½çå°ä»æé¢å¯¼çææä¸å¡åè´è´£çæ°æ®ï¼ä½çä¸å°å¶ä»å¢éä¸å¡åè´è´£çæ°æ®ã\n\næ¢å¦å¤ä¸å¥è¯å°±æ¯ï¼æçå®¢æ·åªææåæçç´å±ä¸çº§ä»¥åç´å±ä¸çº§çé¢å¯¼è½çå°ï¼è¿å°±æ¯æçè§£çæ°æ®æéã\n\nè¦å®ç°æ°æ®æéæå¤ç§æ¹å¼ï¼\n\n 1. å¯ä»¥å©ç¨ RBAC1 æ¨¡åï¼éè¿è§è²åçº§æ¥å®ç°ã\n 2. å¨âç¨æ·-è§è²-æéâçåºç¡ä¸ï¼å¢å ç¨æ·ä¸ç»ç»çå³èå³ç³»ï¼ç¨ç»ç»å³å®ç¨æ·çæ°æ®æéã\n\nå·ä½å¦ä½åå¢ï¼\n\nâ  ç»ç»å±çº§ååï¼\n\n\n\n**â¡ æ°æ®å¯è§æéè§åå¶å®ï¼**ä¸çº§ç»ç»åªè½çå°ä¸çº§ç»ç»åå·¥è´è´£çæ°æ®ï¼èä¸è½çå°å¶ä»å¹³çº§ç»ç»åå¶ä¸çº§ç»ç»çåå·¥æ°æ®ç­ã\n\néè¿ä»¥ä¸ä¸¤ç¹ï¼ç³»ç»å°±å¯ä»¥å¨ç¨æ·ç»å½æ¶ï¼èªå¨å¤æ­è¦ç»ç¨æ·å±ç¤ºåªäºæ°æ®äºã\n\n\n# ç¨æ·ç»çä½¿ç¨\n\nå½å¹³å°ç¨æ·åºæ°å¢å¤§ï¼è§è²ç±»åå¢å¤æ¶ï¼å¦æç´æ¥ç»ç¨æ·éè§è²ï¼ç®¡çåçå·¥ä½éå°±ä¼å¾å¤§ãè¿æ¶åæä»¬å¯ä»¥å¼å¥ä¸ä¸ªæ¦å¿µâç¨æ·ç»âï¼å°±æ¯å°ç¸åå±æ§çç¨æ·å½ç±»å°ä¸èµ·ã\n\nä¾å¦ï¼å å¥ç¨æ·ç»çæ¦å¿µåï¼å¯ä»¥å°é¨é¨çåä¸ä¸ªç¨æ·ç»ï¼åç»è¿ä¸ªé¨é¨ç´æ¥èµäºè§è²ï¼1 ä¸åå·¥é¨é¨å¯è½å°±å åä¸ªï¼ï¼ä½¿é¨é¨æ¥æé¨é¨æéï¼è¿æ ·è¿ä¸ªé¨é¨çææç¨æ·é½æäºé¨é¨æéï¼èä¸éè¦ä¸ºæ¯ä¸ä¸ªç¨æ·ååç¬æå®è§è²ï¼æå¤§çåå°äºåéæéçå·¥ä½éã\n\nåæ¶ï¼ä¹å¯ä»¥ä¸ºç¹å®çç¨æ·æå®è§è²ï¼è¿æ ·ç¨æ·é¤äºæ¥ææå±ç¨æ·ç»çæææéå¤ï¼è¿æ¥æèªèº«ç¹å®çæéã\n\nç¨æ·ç»çä¼ç¹ï¼é¤äºåå°å·¥ä½éï¼è¿ææ´ä¾¿äºçè§£ãå¢å å¤çº§ç®¡çå³ç³»ç­ãå¦ï¼æä»¬å¨è¿è¡ç»ç»æºæéç½®çæ¶åï¼é¤äºå å¥é¨é¨ï¼è¿å¯ä»¥å å¥ç§å®¤ãå²ä½ç­å±çº§ï¼æ¥ä¸ºç¨æ·ç»åé¨æåçæéè¿è¡ç­çº§ä¸çåºåã\n\nå³äºç¨æ·ç»çè¯¦ç»çé¾è§£ç­ï¼è¯·æ¥çhttps://wen.woshipm.com/question/detail/88fues.htmlãå¨è¿éä¹ååæè°¢ä¸ºæè§£ç­çæçæåä»¬ï¼\n\n\n# å®ä¾åæ\n\n\n# å¦ä½è®¾è®¡ RBAC æéç³»ç»\n\né¦åï¼æä»¬æèä¸ä¸ä¸ä¸ªç®åçæéç³»ç»åºè¯¥å·å¤åªäºåå®¹ï¼\n\nç­æ¡æ¾èæè§ï¼RBAC æ¨¡åï¼ç¨æ·-è§è²-æéãæä»¥æåºæ¬çæä»¬åºè¯¥å·å¤ç¨æ·ãè§è²ãæéè¿ä¸ä¸ªåå®¹ã\n\næ¥ä¸æ¥ï¼æä»¬æèï¼ç©¶ç«å¦ä½å°ä¸èå³èèµ·æ¥ãåé¡¾åæï¼è§è²ä½ä¸ºæ¢çº½ï¼å³èç¨æ·ãæéãæä»¥å¨ RBAC æ¨¡åä¸ï¼æä»¬åºè¯¥ï¼åå»ºä¸ä¸ªè§è²ï¼å¹¶ä¸ºè¿ä¸ªè§è²èµäºç¸åºæéï¼æåå°è§è²èµäºç¨æ·ã\n\nå°è¿ä¸ªé®é¢æ½è±¡ä¸ºæµç¨ï¼å¦ä¸å¾ï¼\n\n\n\nç°å¨ï¼åºæ¬çæµç¨é»è¾å·²ç»æ½è±¡åºæ¥äºï¼æ¥ä¸æ¥ï¼åæè¯¥å¦ä½è®¾è®¡å¢ï¼\n\n * ç¬¬ä¸æ­¥ï¼éè¦è§è²ç®¡çåè¡¨ï¼å¨è§è²ç®¡çåè¡¨è½å¿«éåå»ºä¸ä¸ªè§è²ï¼ä¸åå»ºè§è²çåæ¶è½ä¸ºè§è²éç½®æéï¼å¹¶ä¸æ¯æåå»ºæåçè§è²åè¡¨è½éæ¶è¿è¡æééç½®ççä¿®æ¹ï¼\n * ç¬¬äºæ­¥ï¼éè¦ç¨æ·ç®¡çåè¡¨ï¼å¨ç¨æ·ç®¡çåè¡¨è½å¿«éæ·»å ä¸ä¸ªç¨æ·ï¼ä¸æ·»å ç¨æ·æ¶æè®©ç¨æ·å³èè§è²çåè½ã\n\nç®åæ¥è¯´æéç³»ç»è®¾è®¡å°±åå«ä»¥ä¸ä¸¤æ­¥ï¼æ¥ä¸æ¥ä¸ºå¤§å®¶è¿è¡å®ä¾åæã\n\n\n# å®ä¾åæ\n\nâ  åå»ºè§è²åè¡¨\n\n\n\nå¨è§è²åè¡¨å¿«éåå»ºä¸ä¸ªè§è²ï¼ç¹å»åå»ºè§è²ï¼æ¯æåå»ºè§è²æ¶éç½®æéã\n\n\n\nâ¡ åå»ºç¨æ·åè¡¨\n\n\n\nå¨ç¨æ·åè¡¨å¿«éåå»ºä¸ä¸ªç¨æ·ï¼æ¯æç¨æ·å³èè§è²çåè½ã\n\n\n\nä¸è¿°æ¡ä¾æ¯åºäºæç®åç RBAC0 æ¨¡ååå»ºï¼éç¨äºå¤§é¨åå¸¸è§çæéç®¡çç³»ç»ã\n\nä¸é¢ååæä¸ä¸ RBAC1 ä¸­è§è²åçº§å·ä½å¦ä½è®¾è®¡ã\n\n 1. å¨ RBAC0 çåºç¡ä¸ï¼å ä¸è§è²ç­çº§è¿ä¸ªå­æ®µã\n 2. æéåéè§åå¶å®ï¼ä½ç­çº§è§è²åªè½å¨é«ç­çº§è§è²æéåºç¡ä¸è¿è¡å åæéã\n\nå·ä½çé¢åç°å¦ä¸å¾ï¼\n\n\n\nä»¥ä¸å°±æ¯ç®åç RBAC ç³»ç»è®¾è®¡ï¼è¥éæ´å¤æçï¼è¿è¯·è¯»èæ ¹æ®ä¸é¢çåæèªè¡æ£æ©æèï¼å°½ç®¡æ ·å¼ä¸åï¼ä½ä¸åä¸ç¦»å¶å®ï¼çè§£æ¸æ¥ RBAC æ¨¡ååï¼ç»åèªå·±çä¸å¡å°±å¯ä»¥è®¾è®¡åºä¸å¥ç¬¦åèªå·±å¹³å°éæ±çè§è²æéç³»ç»ï¼å·ä½çå°±ä¸åå¤éè¿°äºã\n\n\n# å®¡è®¡\n\nTODO\n\n\n# ç½ç«æ»å»\n\näºèç½ç¯å¢é±¼é¾æ··æï¼ç½ç«è¢«æ»å»æ¯å¸¸è§ç°è±¡ï¼æä»¥äºè§£ä¸äºå¸¸è§çç½ç«æ»å»ææ®µååå¿è¦ãä¸é¢åä¸¾æ¯è¾å¸¸è§ç 4 ç§æ»å»ææ®µï¼\n\n\n# XSS\n\n# æ¦å¿µ\n\nè·¨ç«èæ¬ï¼Cross-site scriptingï¼éå¸¸ç®ç§°ä¸ºXSSï¼ æ¯ä¸ç§ç½ç«åºç¨ç¨åºçå®å¨æ¼æ´æ»å»ï¼æ¯ä»£ç æ³¨å¥çä¸ç§ãå®åè®¸æ¶æç¨æ·å°ä»£ç æ³¨å¥å°ç½é¡µä¸ï¼å¶ä»ç¨æ·å¨è§çç½é¡µæ¶å°±ä¼åå°å½±åãè¿ç±»æ»å»éå¸¸åå«äº HTML ä»¥åç¨æ·ç«¯èæ¬è¯­è¨ã\n\nXSS æ»å»ç¤ºä¾ï¼\n\nåå¦æä¸é¢ä¸ä¸ª textbox\n\n<input type="text" name="address1" value="value1from" />\n\n\nvalue1from æ¯æ¥èªç¨æ·çè¾å¥ï¼å¦æç¨æ·ä¸æ¯è¾å¥ value1from,èæ¯è¾å¥ "/><script>alert(document.cookie)<\/script><!- é£ä¹å°±ä¼åæï¼\n\n<input type="text" name="address1" value="" />\n<script>\n  alert(document.cookie)\n<\/script>\n<!- ">\n\n\nåµå¥ç JavaScript ä»£ç å°ä¼è¢«æ§è¡ãæ»å»çå¨åï¼åå³äºç¨æ·è¾å¥äºä»ä¹æ ·çèæ¬ã\n\n# æ»å»ææ®µåç®ç\n\nå¸¸ç¨ç XSS æ»å»ææ®µåç®çæï¼\n\n * çç¨ cookieï¼è·åææä¿¡æ¯ã\n * å©ç¨æ¤å¥ Flashï¼éè¿ crossdomain æéè®¾ç½®è¿ä¸æ­¥è·åæ´é«æéï¼æèå©ç¨ Java ç­å¾å°ç±»ä¼¼çæä½ã\n * å©ç¨ iframeãframeãXMLHttpRequest æä¸è¿° Flash ç­æ¹å¼ï¼ä»¥ï¼è¢«æ»å»ï¼ç¨æ·çèº«ä»½æ§è¡ä¸äºç®¡çå¨ä½ï¼ææ§è¡ä¸äºä¸è¬çå¦åå¾®åãå å¥½åãåç§ä¿¡ç­æä½ã\n * å©ç¨å¯è¢«æ»å»çååå°å¶ä»åä¿¡ä»»çç¹ç¹ï¼ä»¥åä¿¡ä»»æ¥æºçèº«ä»½è¯·æ±ä¸äºå¹³æ¶ä¸åè®¸çæä½ï¼å¦è¿è¡ä¸å½çæç¥¨æ´»å¨ã\n * å¨è®¿é®éæå¤§çä¸äºé¡µé¢ä¸ç XSS å¯ä»¥æ»å»ä¸äºå°åç½ç«ï¼å®ç° DDoS æ»å»çææã\n\n# åºå¯¹ææ®µ\n\n * è¿æ»¤ç¹æ®å­ç¬¦ - å°ç¨æ·ææä¾çåå®¹è¿è¡è¿æ»¤ï¼ä»èé¿å HTML å Jascript ä»£ç çè¿è¡ãå¦ > è½¬ä¹ä¸º &gtã< è½¬ä¹ä¸º &lt ç­ï¼å°±å¯ä»¥é²æ­¢å¤§é¨åæ»å»ãä¸ºäºé¿åå¯¹ä¸å¿è¦çåå®¹éè¯¯è½¬ç§»ï¼å¦ 3<5 ä¸­ç < éè¦è¿è¡ææ¬å¹éååè½¬ç§»ï¼å¦ï¼<img src= è¿æ ·çä¸ä¸æä¸­ç < æè½¬ä¹ã\n * è®¾ç½® Cookie ä¸º HttpOnly - è®¾ç½®äº HttpOnly ç Cookie å¯ä»¥é²æ­¢ JavaScript èæ¬è°ç¨ï¼å°±æ æ³éè¿ document.cookie è·åç¨æ· Cookie ä¿¡æ¯ã\n\n> ð åèéè¯»ï¼\n> \n>  * Wiki è¯æ¡ - è·¨ç«èæ¬\n>  * Web å®å¨æµè¯ä¹ XSS\n\n\n# CSRF\n\n# æ¦å¿µ\n\nè·¨ç«è¯·æ±ä¼ªé ï¼Cross-site request forgeryï¼CSRFï¼ï¼ä¹è¢«ç§°ä¸º one-click attack æè session ridingï¼éå¸¸ç¼©åä¸º CSRF æè XSRFãå®æ¯ä¸ç§ææç¨æ·å¨å½åå·²ç»å½ç Web åºç¨ç¨åºä¸æ§è¡éæ¬æçæä½çæ»å»æ¹æ³ãåè·¨ç«èæ¬ï¼XSSï¼ç¸æ¯ï¼XSS å©ç¨çæ¯ç¨æ·å¯¹æå®ç½ç«çä¿¡ä»»ï¼CSRF å©ç¨çæ¯ç½ç«å¯¹ç¨æ·ç½é¡µæµè§å¨çä¿¡ä»»ã\n\n# æ»å»ææ®µåç®ç\n\nå¯ä»¥å¦æ­¤çè§£ CSRFï¼æ»å»èçç¨äºä½ çèº«ä»½ï¼ä»¥ä½ çåä¹åéæ¶æè¯·æ±ã\n\nCSRF è½åçäºå¤ªå¤ï¼\n\n * ä»¥ä½ åä¹åéé®ä»¶ï¼åæ¶æ¯\n * ç¨ä½ çè´¦å·è´­ä¹°åå\n * ç¨ä½ çåä¹å®æèæè´§å¸è½¬è´¦\n * æ³é²ä¸ªäººéç§\n * ...\n\n# åºå¯¹ææ®µ\n\n * è¡¨å Token - CSRF æ¯ä¸ä¸ªä¼ªé ç¨æ·è¯·æ±çæä½ï¼æä»¥éè¦æé ç¨æ·è¯·æ±çææåæ°æå¯ä»¥ãè¡¨å Token éè¿å¨è¯·æ±åæ°ä¸­æ·»å éæºæ°çåæ³æ¥é»æ­¢æ»å»èè·å¾ææè¯·æ±åæ°ã\n * éªè¯ç  - è¯·æ±æäº¤æ¶ï¼éè¦ç¨æ·è¾å¥éªè¯ç ï¼ä»¥é¿åç¨æ·å¨ä¸ç¥æçæåµä¸è¢«æ»å»èä¼ªé è¯·æ±ã\n * Referer check - HTTP è¯·æ±å¤´ç Referer åä¸­è®°å½çè¯·æ±èµæºï¼å¯éè¿æ£æ¥è¯·æ±æ¥æºï¼éªè¯å¶æ¯å¦åæ³ã\n\n> ð åèéè¯»ï¼\n> \n>  * Wiki è¯æ¡ - è·¨ç«è¯·æ±ä¼ªé \n>  * æµè° CSRF æ»å»æ¹å¼\n>  * ãæ¯æ¥ä¸é¢ãCSRF æ¯ä»ä¹ï¼ãæ¯æ¥ä¸é¢ãCSRF æ¯ä»ä¹ï¼\n>  * WEB å®å¨ä¹-CSRFï¼è·¨ç«è¯·æ±ä¼ªé ï¼\n\n\n# SQL æ³¨å¥\n\n# æ¦å¿µ\n\nSQL æ³¨å¥æ»å»ï¼SQL injectionï¼ï¼æ¯åçäºåºç¨ç¨åºä¹æ°æ®å±çå®å¨æ¼æ´ãç®èè¨ä¹ï¼æ¯å¨è¾å¥çå­ç¬¦ä¸²ä¹ä¸­æ³¨å¥ SQL æä»¤ï¼å¨è®¾è®¡ä¸è¯çç¨åºå½ä¸­å¿½ç¥äºæ£æ¥ï¼é£ä¹è¿äºæ³¨å¥è¿å»çæä»¤å°±ä¼è¢«æ°æ®åºæå¡å¨è¯¯è®¤ä¸ºæ¯æ­£å¸¸ç SQL æä»¤èè¿è¡ï¼å æ­¤é­å°ç ´åææ¯å¥ä¾µã\n\næ»å»ç¤ºä¾ï¼\n\nèèä»¥ä¸ç®åçç»å½è¡¨åï¼\n\n<form action="/login" method="POST">\n  <p>Username: <input type="text" name="username" /></p>\n  <p>Password: <input type="password" name="password" /></p>\n  <p><input type="submit" value="ç»é" /></p>\n</form>\n\n\næä»¬çå¤çéé¢ç SQL å¯è½æ¯è¿æ ·çï¼\n\nusername:=r.Form.Get("username")\npassword:=r.Form.Get("password")\nsql:="SELECT * FROM user WHERE username=\'"+username+"\' AND password=\'"+password+"\'"\n\n\nå¦æç¨æ·çè¾å¥çç¨æ·åå¦ä¸ï¼å¯ç ä»»æ\n\nmyuser\' or \'foo\' = \'foo\' --\n\n\né£ä¹æä»¬ç SQL åæäºå¦ä¸æç¤ºï¼\n\nSELECT * FROM user WHERE username=\'myuser\' or \'foo\' = \'foo\' --\'\' AND password=\'xxx\'\n\n\nå¨ SQL éé¢ -- æ¯æ³¨éæ è®°ï¼æä»¥æ¥è¯¢è¯­å¥ä¼å¨æ­¤ä¸­æ­ãè¿å°±è®©æ»å»èå¨ä¸ç¥éä»»ä½åæ³ç¨æ·ååå¯ç çæåµä¸æåç»å½äºã\n\nå¯¹äº MSSQL è¿ææ´å å±é©çä¸ç§ SQL æ³¨å¥ï¼å°±æ¯æ§å¶ç³»ç»ï¼ä¸é¢è¿ä¸ªå¯æçä¾å­å°æ¼ç¤ºå¦ä½å¨æäºçæ¬ç MSSQL æ°æ®åºä¸æ§è¡ç³»ç»å½ä»¤ã\n\nsql:="SELECT * FROM products WHERE name LIKE \'%"+prod+"%\'"\nDb.Exec(sql)\n\n\nå¦ææ»å»æäº¤ a%\' exec master..xp_cmdshell \'net user test testpass /ADD\' -- ä½ä¸ºåé prod çå¼ï¼é£ä¹ sql å°ä¼åæ\n\nsql:="SELECT * FROM products WHERE name LIKE \'%a%\' exec master..xp_cmdshell \'net user test testpass /ADD\'--%\'"\n\n\nMSSQL æå¡å¨ä¼æ§è¡è¿æ¡ SQL è¯­å¥ï¼åæ¬å®åé¢é£ä¸ªç¨äºåç³»ç»æ·»å æ°ç¨æ·çå½ä»¤ãå¦æè¿ä¸ªç¨åºæ¯ä»¥ sa è¿è¡è MSSQLSERVER æå¡åæè¶³å¤çæéçè¯ï¼æ»å»èå°±å¯ä»¥è·å¾ä¸ä¸ªç³»ç»å¸å·æ¥è®¿é®ä¸»æºäºã\n\nè½ç¶ä»¥ä¸çä¾å­æ¯éå¯¹æä¸ç¹å®çæ°æ®åºç³»ç»çï¼ä½æ¯è¿å¹¶ä¸ä»£è¡¨ä¸è½å¯¹å¶å®æ°æ®åºç³»ç»å®æ½ç±»ä¼¼çæ»å»ãéå¯¹è¿ç§å®å¨æ¼æ´ï¼åªè¦ä½¿ç¨ä¸åæ¹æ³ï¼åç§æ°æ®åºé½æå¯è½é­æ®ã\n\n# æ»å»ææ®µåç®ç\n\n * æ°æ®è¡¨ä¸­çæ°æ®å¤æ³ï¼ä¾å¦ä¸ªäººæºå¯æ°æ®ï¼è´¦æ·æ°æ®ï¼å¯ç ç­ã\n * æ°æ®ç»æè¢«é»å®¢æ¢ç¥ï¼å¾ä»¥åè¿ä¸æ­¥æ»å»ï¼ä¾å¦ SELECT * FROM sys.tablesï¼ã\n * æ°æ®åºæå¡å¨è¢«æ»å»ï¼ç³»ç»ç®¡çåè´¦æ·è¢«çªæ¹ï¼ä¾å¦ ALTER LOGIN sa WITH PASSWORD=\'xxxxxx\'ï¼ã\n * è·åç³»ç»è¾é«æéåï¼æå¯è½å¾ä»¥å¨ç½é¡µå å¥æ¶æé¾æ¥ãæ¶æä»£ç ä»¥å XSS ç­ã\n * ç»ç±æ°æ®åºæå¡å¨æä¾çæä½ç³»ç»æ¯æï¼è®©é»å®¢å¾ä»¥ä¿®æ¹ææ§å¶æä½ç³»ç»ï¼ä¾å¦ xp_cmdshell "net stop iisadmin"å¯åæ­¢æå¡å¨ç IIS æå¡ï¼ã\n * ç ´åç¡¬çæ°æ®ï¼ç«çªå¨ç³»ç»ï¼ä¾å¦ xp_cmdshell "FORMAT C:"ï¼ã\n\n# åºå¯¹ææ®µ\n\n * ä½¿ç¨åæ°åæ¥è¯¢ - å»ºè®®ä½¿ç¨æ°æ®åºæä¾çåæ°åæ¥è¯¢æ¥å£ï¼åæ°åçè¯­å¥ä½¿ç¨åæ°èä¸æ¯å°ç¨æ·è¾å¥åéåµå¥å° SQL è¯­å¥ä¸­ï¼å³ä¸è¦ç´æ¥æ¼æ¥ SQL è¯­å¥ãä¾å¦ä½¿ç¨ database/sql éé¢çæ¥è¯¢å½æ° Prepare å Query ï¼æè Exec(query string, args ...interface{})ã\n * åå¼å·è½¬æ¢ - å¨ç»å SQL å­ç¬¦ä¸²æ¶ï¼åéå¯¹æä¼ å¥çåæ°è¿è¡å­ç¬¦æ¿æ¢ï¼å°åå¼å·å­ç¬¦æ¿æ¢ä¸ºè¿ç»­ 2 ä¸ªåå¼å·å­ç¬¦ï¼ã\n\n> ð åèéè¯»ï¼\n> \n>  * Wiki è¯æ¡ - SQL æ³¨å¥æ»å»\n>  * é¿å SQL æ³¨å¥\n>  * å®ä¾è®²è§£ SQL æ³¨å¥æ»å»\n\n\n# DoS\n\næç»æå¡æ»å»ï¼denial-of-service attack, DoSï¼äº¦ç§°æ´ªæ°´æ»å»ï¼æ¯ä¸ç§ç½ç»æ»å»ææ³ï¼å¶ç®çå¨äºä½¿ç®æ çµèçç½ç»æç³»ç»èµæºèå°½ï¼ä½¿æå¡ææ¶ä¸­æ­æåæ­¢ï¼å¯¼è´å¶æ­£å¸¸ç¨æ·æ æ³è®¿é®ã\n\nå½é»å®¢ä½¿ç¨ç½ç»ä¸ä¸¤ä¸ªæä»¥ä¸è¢«æ»é·ççµèä½ä¸ºâåµå°¸âåç¹å®çç®æ åå¨âæç»æå¡âå¼æ»å»æ¶ï¼ç§°ä¸ºåå¸å¼æç»æå¡æ»å»ï¼distributed denial-of-service attackï¼ç¼©åï¼DDoS attackãDDoSï¼ã\n\n# æ»å»æ¹å¼\n\n * å¸¦å®½æ¶èåæ»å»\n * èµæºæ¶èåæ»å»\n\n# åºå¯¹ææ®µ\n\n * é²ç«å¢ - åè®¸ææç»ç¹å®éè®¯åè®®ï¼ç«¯å£æ IP å°åãå½æ»å»ä»å°æ°ä¸æ­£å¸¸ç IP å°åååºæ¶ï¼å¯ä»¥ç®åçä½¿ç¨æç»è§åé»æ­¢ä¸åä»æ»å»æº IP ååºçéä¿¡ã\n * è·¯ç±å¨ãäº¤æ¢æº - å·æéåº¦éå¶åè®¿é®æ§å¶è½åã\n * æµéæ¸æ´ - éè¿éç¨æ DoS è½¯ä»¶å¤çï¼å°æ­£å¸¸æµéåæ¶ææµéåºåå¼ã\n\n> ð åèéè¯»ï¼\n> \n>  * æç»æå¡æ»å»\n\n\n# å å¯ææ¯\n\nå¯¹äºç½ç«æ¥è¯´ï¼ç¨æ·ä¿¡æ¯ãè´¦æ·ç­ç­æææ°æ®ä¸æ¦æ³æ¼ï¼åæä¸¥éï¼æä»¥ä¸ºäºä¿æ¤æ°æ®ï¼åºå¯¹è¿äºä¿¡æ¯è¿è¡å å¯å¤çã\n\nä¿¡æ¯å å¯ææ¯ä¸è¬åä¸ºï¼\n\n * æ¶æ¯æè¦\n * å å¯ç®æ³\n   * å¯¹ç§°å å¯\n   * éå¯¹ç§°å å¯\n * è¯ä¹¦\n\n\n# æ¶æ¯æè¦\n\nå¸¸ç¨æ°å­ç­¾åç®æ³ï¼MD5ãSHA ç­ã\n\nåºç¨åºæ¯ï¼å°ç¨æ·å¯ç ä»¥æ¶æ¯æè¦å½¢å¼ä¿å­å°æ°æ®åºä¸­ã\n\n> ð åèéè¯»ï¼ Java ç¼ç åå å¯\n\n\n# å å¯ç®æ³\n\n# å¯¹ç§°å å¯\n\nå¯¹ç§°å å¯æå å¯åè§£å¯æä½¿ç¨çå¯é¥æ¯åä¸ä¸ªå¯é¥ã\n\nå¸¸ç¨å¯¹ç§°å å¯ç®æ³ï¼DESãAES ç­ã\n\nåºç¨åºæ¯ï¼Cookie å å¯ãéä¿¡æºå¯ç­ã\n\n# éå¯¹ç§°å å¯\n\néå¯¹ç§°å å¯æå å¯åè§£å¯æä½¿ç¨çä¸æ¯åä¸ä¸ªå¯é¥ï¼èæ¯ä¸ä¸ªå¬ç§é¥å¯¹ãç¨å¬é¥å å¯çä¿¡æ¯å¿é¡»ç¨ç§é¥æè½è§£å¼ï¼åä¹ï¼ç¨ç§é¥å å¯çä¿¡æ¯åªæç¨å¬é¥æè½è§£å¼ã\n\nå¸¸ç¨éå¯¹ç§°å å¯ç®æ³ï¼RSA ç­ã\n\nåºç¨åºæ¯ï¼HTTPS ä¼ è¾ä¸­æµè§å¨ä½¿ç¨çæ°å­è¯ä¹¦å®è´¨ä¸æ¯ç»è¿æå¨æºæè®¤è¯çéå¯¹ç§°å å¯å¬é¥ã\n\n> ð åèéè¯»ï¼ Java ç¼ç åå å¯\n\n# å¯é¥å®å¨ç®¡ç\n\nä¿è¯å¯é¥å®å¨çæ¹æ³ï¼\n\n 1. æå¯é¥åç®æ³æ¾å¨ä¸ä¸ªç¬ç«çæå¡å¨ä¸ï¼å¯¹å¤æä¾å å¯åè§£å¯æå¡ï¼åºç¨ç³»ç»éè¿è°ç¨è¿ä¸ªæå¡ï¼å®ç°æ°æ®çå è§£å¯ã\n 2. æå è§£å¯ç®æ³æ¾å¨åºç¨ç³»ç»ä¸­ï¼å¯é¥åæ¾å¨ç¬ç«æå¡å¨ä¸­ï¼ä¸ºäºæé«å¯é¥çå®å¨æ§ï¼å®éå­å¨æ¶ï¼å¯é¥è¢«ååææ°çï¼å å¯ååå«ä¿å­å¨ä¸åå­å¨ä»è´¨ä¸­ã\n\n\n# è¯ä¹¦\n\nè¯ä¹¦å¯ä»¥ç§°ä¸ºä¿¡æ¯å®å¨å å¯çç»æææ®µãå¬å¼å¯é¥è®¤è¯ï¼è±è¯­ï¼Public key certificateï¼ï¼åç§°å¬å¼å¯é¥è¯ä¹¦ãå¬é¥è¯ä¹¦ãæ°å­è¯ä¹¦ï¼digital certificateï¼ãæ°å­è®¤è¯ãèº«ä»½è¯ä¹¦ï¼identity certificateï¼ãçµå­è¯ä¹¦æå®å¨è¯ä¹¦ï¼æ¯ç¨äºå¬å¼å¯é¥åºç¡å»ºè®¾ççµå­æä»¶ï¼ç¨æ¥è¯æå¬å¼å¯é¥æ¥æèçèº«ä»½ãæ­¤æä»¶åå«äºå¬é¥ä¿¡æ¯ãæ¥æèèº«ä»½ä¿¡æ¯ï¼ä¸»ä½ï¼ãä»¥åæ°å­è¯ä¹¦è®¤è¯æºæï¼åè¡èï¼å¯¹è¿ä»½æä»¶çæ°å­ç­¾åï¼ä»¥ä¿è¯è¿ä¸ªæä»¶çæ´ä½åå®¹æ­£ç¡®æ è¯¯ã\n\néè¿ä¿¡ä»»æå¨æ°å­è¯ä¹¦è®¤è¯æºæçæ ¹è¯ä¹¦ãåå¶ä½¿ç¨å¬å¼å¯é¥å å¯ä½æ°å­ç­¾åæ ¸åçå¬å¼å¯é¥è®¤è¯ï¼å½¢æä¿¡ä»»é¾æ¶æï¼å·²å¨ TLS å®ç°å¹¶å¨ä¸ç»´ç½ç HTTP ä»¥ HTTPSãå¨çµå­é®ä»¶ç SMTP ä»¥ STARTTLS å¼å¥å¹¶å¹¿æ³åºç¨ã\n\nä¼æå¨ç¥ï¼å¸¸è§çåºç¨å±åè®® HTTPãFTPãTelnet æ¬èº«ä¸ä¿è¯ä¿¡æ¯å®å¨ãä½æ¯å å¥äº SSL/TLS å å¯æ°æ®åæºå¶ç HTTPSãFTPSãTelnets æ¯ä¿¡æ¯å®å¨çãä¼ è¾å±å®å¨æ§åè®®ï¼Transport Layer Security, TLSï¼ï¼åå¶åèº«å®å¨å¥æ¥å±ï¼Secure Sockets Layer, SSLï¼æ¯ä¸ç§å®å¨åè®®ï¼ç®çæ¯ä¸ºäºèç½éä¿¡ï¼æä¾å®å¨åæ°æ®å®æ´æ§ä¿éã\n\n# è¯ä¹¦åç\n\nSSL/TLS åè®®çåºæ¬æè·¯æ¯éç¨å¬é¥å å¯æ³ï¼ä¹å°±æ¯è¯´ï¼å®¢æ·ç«¯ååæå¡å¨ç«¯ç´¢è¦å¬é¥ï¼ç¶åç¨å¬é¥å å¯ä¿¡æ¯ï¼æå¡å¨æ¶å°å¯æåï¼ç¨èªå·±çç§é¥è§£å¯ã\n\nè¿éæä¸¤ä¸ªé®é¢ï¼\n\nï¼1ï¼å¦ä½ä¿è¯å¬é¥ä¸è¢«ç¯¡æ¹ï¼\n\nè§£å³æ¹æ³ï¼å°å¬é¥æ¾å¨æ°å­è¯ä¹¦ä¸­ãåªè¦è¯ä¹¦æ¯å¯ä¿¡çï¼å¬é¥å°±æ¯å¯ä¿¡çã\n\nï¼2ï¼å¬é¥å å¯è®¡ç®éå¤ªå¤§ï¼å¦ä½åå°èç¨çæ¶é´ï¼\n\nè§£å³æ¹æ³ï¼æ¯ä¸æ¬¡å¯¹è¯ï¼sessionï¼ï¼å®¢æ·ç«¯åæå¡å¨ç«¯é½çæä¸ä¸ª"å¯¹è¯å¯é¥"ï¼session keyï¼ï¼ç¨å®æ¥å å¯ä¿¡æ¯ãç±äº"å¯¹è¯å¯é¥"æ¯å¯¹ç§°å å¯ï¼æä»¥è¿ç®éåº¦éå¸¸å¿«ï¼èæå¡å¨å¬é¥åªç¨äºå å¯"å¯¹è¯å¯é¥"æ¬èº«ï¼è¿æ ·å°±åå°äºå å¯è¿ç®çæ¶èæ¶é´ã\n\nSSL/TLS åè®®çåºæ¬è¿ç¨æ¯è¿æ ·çï¼\n\n 1. å®¢æ·ç«¯åæå¡å¨ç«¯ç´¢è¦å¹¶éªè¯å¬é¥ã\n 2. åæ¹ååçæ"å¯¹è¯å¯é¥"ã\n 3. åæ¹éç¨"å¯¹è¯å¯é¥"è¿è¡å å¯éä¿¡ã\n\n> ð åèéè¯»ï¼\n> \n>  * ä¼ è¾å±å®å¨æ§åè®®\n>  * å¬å¼å¯é¥è®¤è¯\n>  * SSL/TLS åè®®è¿è¡æºå¶çæ¦è¿°\n\n\n# ä¿¡æ¯è¿æ»¤\n\nå¨ç½ç»ä¸­ï¼å¹¿åååå¾ä¿¡æ¯å±¡è§ä¸é²ï¼æ³æ»¥æç¾ã\n\nå¸¸è§çä¿¡æ¯è¿æ»¤ä¸ååå¾ææ®µæï¼\n\n\n# ææ¬å¹é\n\nè§£å³ææè¯è¿æ»¤ãç³»ç»ç»´æ¤ä¸ä»½ææè¯æ¸åï¼å¦æä¿¡æ¯ä¸­å«æææè¯ï¼åèªå¨è¿è¡è¿æ»¤ææç»ä¿¡æ¯ã\n\n\n# é»åå\n\né»ååå°±æ¯å°ä¸äºå·²ç»è¢«è¯å«åºæè¿è§è¡ä¸ºç IPãååãé®ç®±ç­å å¥é»ååï¼æç»å¶è¯·æ±ã\n\né»ååå¯ä»¥éè¿ Hash è¡¨æ¥å®ç°ï¼æ¹æ³ç®åï¼å¤æåº¦å°ï¼éäºä¸è¬åºç¨åºæ¯ã\n\nä½å¦æé»åååè¡¨éå¸¸å¤§æ¶ï¼Hash è¡¨è¦å ç¨å¾å¤§çåå­ç©ºé´ï¼è¿æ¶å°±ä¸åä½¿ç¨äºãè¿ç§æåµä¸ï¼å¯ä»¥ä½¿ç¨å¸éè¿æ»¤å¨æ¥å®ç°ï¼å³éè¿ä¸ä¸ªäºè¿å¶åè¡¨åä¸ç»éæºæ°æ å°å½æ°æ¥å®ç°ã\n\n\n# åç±»ç®æ³\n\nå¯¹äºæµ·éä¿¡æ¯ï¼é¾ä»¥éè¿äººå·¥å»å®¡æ ¸ãå¯¹å¹¿åè´´ã\n\nåå¾é®ä»¶ç­åå®¹çè¯å«æ¯è¾å¥½çèªå¨åæ¹æ³å°±æ¯éç¨åç±»ç®æ³ã\n\nç®åæ¥è¯´ï¼å³å°æ¹éå·²åç±»çæ ·æ¬è¾å¥åç±»ç®æ³è¿è¡è®­ç»ï¼å¾å°ä¸ä¸ªåç±»æ¨¡åï¼ç¶åå©ç¨åç±»ç®æ³ç»ååç±»æ¨¡åå»å¯¹ä¿¡æ¯è¿è¡è¯å«ãæ³äºè§£å·ä½åæ³ï¼éè¦å»çè§£æºå¨å­¦ä¹ ç¸å³ç¥è¯ã\n\n\n# é£é©æ§å¶\n\nç½ç»ç»åå¡ãéèé¢åå¸¦æ¥æå¤§ä¾¿å©çåæ¶ï¼ä¹å°é£é©å¸¦ç»äºå¯¹ç½ç»å®å¨ä¸æ æç¥çäººä»¬ãç±äºäº¤æåæ¹ä¿¡æ¯çä¸å¯¹ç­ï¼ä½¿å¾äº¤æå­å¨çé£é©ï¼èå½äº¤æåçå¨ç½ç»ä¸æ¶ï¼é£é©å°±æ´å é¾ä»¥æ§å¶äºã\n\n\n# é£é©ç§ç±»\n\n * è´¦æ·é£é© - çç¨è´¦æ·ãæ¶ææ³¨åè´¦æ·ç­\n * ä¹°å®¶é£é© - èåè¯¢çãæ¶æææ¶ãæ¶æä¸åãé»çåæ¢è´­ç­é¨ååç­\n * åå®¶é£é© - èååè´§ãåºå®è¿ç¦åãä¾µæç­\n * äº¤æé£é© - ä¿¡ç¨å¡çå·ãäº¤ææ¬ºè¯ãæ´é±ãå¥ç°ãçµä¿¡è¯éªç­\n\n\n# é£é©æ§å¶ææ®µ\n\nå¤§åçµåç½ç«ç³»ç»æéèç³»ç»é½éå¤ä¸ä¸çé£æ§å¢éè¿è¡é£é©æ§å¶ãé£é©æ§å¶ææ®µæ¢åæ¬äººå·¥å®¡æ ¸ä¹åæ¬èªå¨å®¡æ ¸ã\n\nèªå¨é£æ§çææ¯ææ®µä¸»è¦æè§åå¼æåç»è®¡æ¨¡åã\n\n\n# è§åå¼æ\n\nå¨äº¤æä¸­ï¼ä¹°å®¶ãåå®¶çæäºææ æ»¡è¶³ä¸å®æ¡ä»¶æ¶ï¼å°±ä¼è¢«è®¤ä¸ºå­å¨é£é©ãå¦ï¼äº¤æéé¢è¶è¿æä¸ªæ°å¼ï¼ç¨æ·æ¥èªé»ååï¼ç¨æ·åä¸æ¬¡ç»å½çå°åè·ç¦»å·®è·å¾å¤§ï¼ç¨æ·å¨ä¸å®æ¶é´åé¢ç¹äº¤æç­ç­ã\n\nå¦æä»¥ä¸è¿äºæ¡ä»¶é½éè¿ if ... else ... å¼æ ·çä»£ç å»å®ç°ï¼ä»£ç ç»´æ¤ãæ©å±ä¼éå¸¸ä¸ä¾¿ãå æ­¤ï¼å°±æäºè§åå¼ææ¥å¤çè¿ç±»é®é¢ãè§åå¼ææ¯ä¸ç§å°ä¸å¡è§ååè§åå¤çé»è¾ç¸åç¦»çææ¯ï¼ä¸å¡è§åç±è¿è¥äººåéè¿ç®¡ççé¢å»ç¼è¾ï¼å®ç°æ éä¿®æ¹ä»£ç ï¼å³å¯å®æ¶çä½¿ç¨æ°è§åã\n\n\n# ç»è®¡æ¨¡å\n\nè§åå¼æè½ç¶ææ¯ç®åï¼ä½æ¯éçè§åä¸æ­å¢å ï¼è§æ¨¡è¶æ¥è¶å¤§ãå¯è½ä¼åºç°è§åå²çªï¼é¾ä»¥ç»´æ¤çæåµï¼å¹¶ä¸è§åè¶å¤ï¼æ§è½ä¹è¶å·®ã\n\nä¸ºäºè§£å³è¿ç§é®é¢ï¼å°±æäºç»è®¡æ¨¡åãç»è®¡æ¨¡åä¼ä½¿ç¨åç±»ç®æ³ææ´å¤æçæºå¨å­¦ä¹ ç®æ³è¿è¡æºè½ç»è®¡ãæ ¹æ®åå²äº¤æä¸­çä¿¡æ¯è®­ç»åç±»ï¼ç¶åå°ç»è¿ééå å·¥åçäº¤æä¿¡æ¯è¾å¥åç±»ç®æ³ï¼å¾å°äº¤æé£é©å¼ï¼ç¶ååºäºæ­¤ï¼ååºé¢æµã\n\nç»è¿ååè®­ç»åçç»è®¡æ¨¡åï¼åç¡®çä¸ä½äºè§åå¼æãä½æ¯ï¼éè¦æé¢åä¸å®¶ãè¡ä¸ä¸å®¶ä»å¥ï¼å»ºç«åççè®­ç»æ¨¡åï¼å¹¶ä¸æ­ä¼åã\n\n\n# åèèµæ\n\n * ãå¤§åç½ç«ææ¯æ¶æï¼æ ¸å¿åçä¸æ¡ä¾åæã\n * Wiki è¯æ¡ - è·¨ç«èæ¬\n * Web å®å¨æµè¯ä¹ XSS\n * Wiki è¯æ¡ - è·¨ç«è¯·æ±ä¼ªé \n * æµè° CSRF æ»å»æ¹å¼\n * ãæ¯æ¥ä¸é¢ãCSRF æ¯ä»ä¹ï¼ãæ¯æ¥ä¸é¢ãCSRF æ¯ä»ä¹ï¼\n * WEB å®å¨ä¹-CSRFï¼è·¨ç«è¯·æ±ä¼ªé ï¼\n * Wiki è¯æ¡ - SQL æ³¨å¥æ»å»\n * é¿å SQL æ³¨å¥\n * å®ä¾è®²è§£ SQL æ³¨å¥æ»å»\n * æç»æå¡æ»å»\n * ä¼ è¾å±å®å¨æ§åè®®\n * å¬å¼å¯é¥è®¤è¯\n * SSL/TLS åè®®è¿è¡æºå¶çæ¦è¿°\n * http://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html\n * CAS å®ç° SSO åç¹ç»å½åç\n * æéç³»ç»è®¾è®¡æ¨¡ååæï¼DACï¼MACï¼RBACï¼ABACï¼\n * RBAC æ¨¡åï¼åºäºç¨æ·-è§è²-æéæ§å¶çä¸äºæè',normalizedContent:'# ç³»ç»å®å¨æ§æ¶æ\n\n> å³é®è¯ï¼xssãcsrfãsql æ³¨å¥ãdosãæ¶æ¯æè¦ãå å¯ç®æ³ãè¯ä¹¦\n\n\n# è®¤è¯\n\n\n# sso\n\nsso(single sign on)ï¼å³åç¹ç»å½ãæè°åç¹ç»å½ï¼å°±æ¯åå¹³å°çè¯¸å¤åºç¨ç»éä¸æ¬¡ï¼ä¸ä¸æ¬¡å°±åç»éçåè½ã\n\nsso éè¦è§£å³å¤ä¸ªå¼æç³»ç»ä¹é´çé®é¢ï¼\n\n * session å±äº«é®é¢\n * è·¨åé®é¢\n\n# session å±äº«é®é¢\n\nåå¸å¼ session çå ç§å®ç°ç­ç¥ï¼\n\n * ç²æ§ session - ç¼ºç¹ï¼å½æå¡å¨èç¹å®æºæ¶ï¼å°ä¸¢å¤±è¯¥æå¡å¨èç¹ä¸çææ sessionã\n * åºç¨æå¡å¨é´ç session å¤å¶å±äº« - ç¼ºç¹ï¼å ç¨è¿å¤åå­ï¼åæ­¥è¿ç¨å ç¨ç½ç»å¸¦å®½ä»¥åæå¡å¨å¤çå¨æ¶é´ã\n * åºäºç¼å­ç session å±äº« â ï¼æ¨èæ¹æ¡ï¼ - ä¸è¿éè¦ç¨åºèªèº«æ§å¶ session è¯»åï¼å¯ä»¥èèåºäº spring-session + redis è¿ç§æççæ¹æ¡æ¥å¤çã\n\n> è¯¦æè¯·åèï¼session åç\n\n# cookie è·¨å\n\ncookie ä¸è½è·¨åï¼æ¯å¦ï¼æµè§å¨ä¸ä¼æ www.google.com ç cookie ä¼ ç» www.baidu.comã\n\nè¿å°±å­å¨ä¸ä¸ªé®é¢ï¼ç±äºååä¸åï¼ç¨æ·å¨ç³»ç» a ç»å½åï¼æµè§å¨è®°å½ç³»ç» a ç cookieï¼ä½æ¯è®¿é®ç³»ç» b çæ¶åä¸ä¼æºå¸¦è¿ä¸ª cookieã\n\néå¯¹ cookie ä¸è½è·¨å çé®é¢ï¼æå ç§è§£å³æ¹æ¡ï¼\n\n * æå¡ç«¯çæ cookie åï¼è¿åç»å®¢æ·ç«¯ï¼å®¢æ·ç«¯è§£æ cookie ï¼æå token ï¼æ¯å¦ jwtï¼ï¼æ­¤åæ¯æ¬¡è¯·æ±é½æºå¸¦è¿ä¸ª tokenã\n * å¤ä¸ªååå±äº« cookieï¼å¨è¿å cookie ç»å®¢æ·ç«¯çæ¶åï¼å¨ cookie ä¸­è®¾ç½® domain ç½ååã\n * å° token ä¿å­å¨ sessionstroage ä¸­ï¼ä¸ä¾èµ cookie å°±æ²¡æè·¨åçé®é¢äºï¼ã\n\n# cas\n\ncas æ¯å®ç° sso çä¸»æµæ¹å¼ã\n\ncas åä¸ºä¸¤é¨åï¼cas server å cas client\n\n * cas server - è´è´£ç¨æ·çè®¤è¯å·¥ä½ï¼å°±åæ¯æç¬¬ä¸æ¬¡ç»å½ç¨æ·çä¸ä¸ªæ è¯å­å¨è¿éï¼ä»¥ä¾¿æ­¤ç¨æ·å¨å¶ä»ç³»ç»ç»å½æ¶éªè¯å¶éä¸éè¦åæ¬¡ç»å½ã\n * cas client - ä¸å¡åºç¨ï¼éè¦æ¥å¥ cas serverãå½ç¨æ·è®¿é®æä»¬çåºç¨æ¶ï¼é¦åéè¦éå®åå° cas server ç«¯è¿è¡éªè¯ï¼è¦æ¯åæ¥ç»éè¿ï¼å°±åå»ç»å½ï¼éå®åå°ä¸æ¸¸ç³»ç»ï¼å¦åè¿è¡ç¨æ·åå¯ç ç»éæä½ã\n\næ¯è¯­ï¼\n\n * ticket granting ticket (tgt) - å¯ä»¥è®¤ä¸ºæ¯ cas server æ ¹æ®ç¨æ·åãå¯ç çæçä¸å¼ ç¥¨ï¼å­å¨ server ç«¯ã\n * ticket granting cookie (tgc) - å¶å®å°±æ¯ä¸ä¸ª cookieï¼å­æ¾ç¨æ·èº«ä»½ä¿¡æ¯ï¼ç± server åç» client ç«¯ã\n * service ticket (st) - ç± tgt çæçä¸æ¬¡æ§ç¥¨æ®ï¼ç¨äºéªè¯ï¼åªè½ç¨ä¸æ¬¡ã\n\ncas å·¥ä½æµç¨ï¼\n\n\n\n 1. ç¨æ·è®¿é® cas client aï¼ä¸å¡ç³»ç»ï¼ï¼ç¬¬ä¸æ¬¡è®¿é®ï¼éå®åå°è®¤è¯æå¡ä¸­å¿ï¼cas serverï¼ãcas server åç°å½åè¯·æ±ä¸­æ²¡æ cookieï¼åéå®åå° cas server çç»å½é¡µé¢ãéå®åè¯·æ±ç url ä¸­åå«è®¿é®å°åï¼ä»¥ä¾¿è®¤è¯æååç´æ¥è·³è½¬å°è®¿é®é¡µé¢ã\n 2. ç¨æ·å¨ç»å½é¡µé¢è¾å¥ç¨æ·åãå¯ç ç­è®¤è¯ä¿¡æ¯ï¼è®¤è¯æååï¼cas server çæ tgtï¼åç¨ tgt çæä¸ä¸ª stãç¶åè¿å st å tgcï¼cookieï¼ç»æµè§å¨ã\n 3. æµè§å¨æºå¸¦ st ååº¦è®¿é®ä¹åæ³è®¿é®ç cas client a é¡µé¢ã\n 4. cas client a æ¶å° st åï¼å cas server éªè¯ st çæææ§ãéªè¯éè¿ååè®¸ç¨æ·è®¿é®é¡µé¢ã\n 5. æ­¤æ¶ï¼å¦æç»å½å¦ä¸ä¸ª cas client bï¼ä¼åéå®åå° cas serverï¼cas server å¯ä»¥å¤æ­è¿ä¸ª cas client b æ¯ç¬¬ä¸æ¬¡è®¿é®ï¼ä½æ¯æ¬å°æ tgcï¼æä»¥æ éåæ¬¡ç»å½ãç¨ tgc åå»ºä¸ä¸ª stï¼è¿åç»æµè§å¨ã\n 6. éå¤ç±»ä¼¼ 3ã4 æ­¥éª¤ã\n\n\n\nä»¥ä¸äºå½çº³æ»ç»å¦ä¸ï¼\n\n 1. è®¿é®æå¡ - ç¨æ·è®¿é® sso client èµæºã\n 2. å®åè®¤è¯ - sso client éå®åç¨æ·è¯·æ±å° sso serverã\n 3. ç¨æ·è®¤è¯ - ç¨æ·èº«ä»½è®¤è¯ã\n 4. åæ¾ç¥¨æ® - sso server ä¼äº§çä¸ä¸ª service ticket (st) å¹¶è¿åç»æµè§å¨ã\n 5. éªè¯ç¥¨æ® - æµè§å¨æ¯æ¬¡è®¿é® sso client æ¶ï¼æºå¸¦ stï¼sso client å sso server éªè¯ç¥¨æ®ãåªæéªè¯éè¿ï¼æåè®¸è®¿é®ã\n 6. ä¼ è¾ç¨æ·ä¿¡æ¯ - sso server éªè¯ç¥¨æ®éè¿åï¼ä¼ è¾ç¨æ·è®¤è¯ç»æä¿¡æ¯ç» sso clientã\n\n\n# oauth 2.0\n\n# åºæ¬åç\n\noauth å¨"å®¢æ·ç«¯"ä¸"æå¡æä¾å"ä¹é´ï¼è®¾ç½®äºä¸ä¸ªææå±ï¼authorization layerï¼ã"å®¢æ·ç«¯"ä¸è½ç´æ¥ç»å½"æå¡æä¾å"ï¼åªè½ç»å½ææå±ï¼ä»¥æ­¤å°ç¨æ·ä¸å®¢æ·ç«¯åºåå¼æ¥ã"å®¢æ·ç«¯"ç»å½ææå±æç¨çä»¤çï¼tokenï¼ï¼ä¸ç¨æ·çå¯ç ä¸åãç¨æ·å¯ä»¥å¨ç»å½çæ¶åï¼æå®ææå±ä»¤ççæéèå´åæææã\n\n"å®¢æ·ç«¯"ç»å½ææå±ä»¥åï¼"æå¡æä¾å"æ ¹æ®ä»¤ççæéèå´åæææï¼å"å®¢æ·ç«¯"å¼æ¾ç¨æ·å¨å­çèµæã\n\noauth 2.0 çè¿è¡æµç¨å¦ä¸å¾ï¼æèª rfc 6749ã\n\n\nï¼aï¼ç¨æ·æå¼å®¢æ·ç«¯ä»¥åï¼å®¢æ·ç«¯è¦æ±ç¨æ·ç»äºææã\n\nï¼bï¼ç¨æ·åæç»äºå®¢æ·ç«¯ææã\n\nï¼cï¼å®¢æ·ç«¯ä½¿ç¨ä¸ä¸æ­¥è·å¾çææï¼åè®¤è¯æå¡å¨ç³è¯·ä»¤çã\n\nï¼dï¼è®¤è¯æå¡å¨å¯¹å®¢æ·ç«¯è¿è¡è®¤è¯ä»¥åï¼ç¡®è®¤æ è¯¯ï¼åæåæ¾ä»¤çã\n\nï¼eï¼å®¢æ·ç«¯ä½¿ç¨ä»¤çï¼åèµæºæå¡å¨ç³è¯·è·åèµæºã\n\nï¼fï¼èµæºæå¡å¨ç¡®è®¤ä»¤çæ è¯¯ï¼åæåå®¢æ·ç«¯å¼æ¾èµæºã\n\nä¸é¾çåºæ¥ï¼ä¸é¢å­ä¸ªæ­¥éª¤ä¹ä¸­ï¼b æ¯å³é®ï¼å³ç¨æ·ææ ·æè½ç»äºå®¢æ·ç«¯ææãæäºè¿ä¸ªææä»¥åï¼å®¢æ·ç«¯å°±å¯ä»¥è·åä»¤çï¼è¿èå­ä»¤çè·åèµæºã\n\n# æææ¨¡å¼\n\nå®¢æ·ç«¯å¿é¡»å¾å°ç¨æ·çææï¼authorization grantï¼ï¼æè½è·å¾ä»¤çï¼access tokenï¼ãoauth 2.0 å®ä¹äºåç§æææ¹å¼ã\n\n * ææç æ¨¡å¼ï¼authorization codeï¼\n * ç®åæ¨¡å¼ï¼implicitï¼\n * å¯ç æ¨¡å¼ï¼resource owner password credentialsï¼\n * å®¢æ·ç«¯æ¨¡å¼ï¼client credentialsï¼\n\n# ææç æ¨¡å¼\n\nææç æ¨¡å¼ï¼authorization codeï¼æ¯åè½æå®æ´ãæµç¨æä¸¥å¯çæææ¨¡å¼ãå®çç¹ç¹å°±æ¯éè¿å®¢æ·ç«¯çåå°æå¡å¨ï¼ä¸"æå¡æä¾å"çè®¤è¯æå¡å¨è¿è¡äºå¨ã\n\n\nå®çæ­¥éª¤å¦ä¸ï¼\n\nï¼aï¼ç¨æ·è®¿é®å®¢æ·ç«¯ï¼åèå°åèå¯¼åè®¤è¯æå¡å¨ã\n\nï¼bï¼ç¨æ·éæ©æ¯å¦ç»äºå®¢æ·ç«¯ææã\n\nï¼cï¼åè®¾ç¨æ·ç»äºææï¼è®¤è¯æå¡å¨å°ç¨æ·å¯¼åå®¢æ·ç«¯äºåæå®ç"éå®å uri"ï¼redirection uriï¼ï¼åæ¶éä¸ä¸ä¸ªææç ã\n\nï¼dï¼å®¢æ·ç«¯æ¶å°ææç ï¼éä¸æ©åç"éå®å uri"ï¼åè®¤è¯æå¡å¨ç³è¯·ä»¤çãè¿ä¸æ­¥æ¯å¨å®¢æ·ç«¯çåå°çæå¡å¨ä¸å®æçï¼å¯¹ç¨æ·ä¸å¯è§ã\n\nï¼eï¼è®¤è¯æå¡å¨æ ¸å¯¹äºææç åéå®å uriï¼ç¡®è®¤æ è¯¯åï¼åå®¢æ·ç«¯åéè®¿é®ä»¤çï¼access tokenï¼åæ´æ°ä»¤çï¼refresh tokenï¼ã\n\nä¸é¢æ¯ä¸é¢è¿äºæ­¥éª¤æéè¦çåæ°ã\n\na æ­¥éª¤ä¸­ï¼å®¢æ·ç«¯ç³è¯·è®¤è¯ç uriï¼åå«ä»¥ä¸åæ°ï¼\n\n * response_typeï¼è¡¨ç¤ºææç±»åï¼å¿éé¡¹ï¼æ­¤å¤çå¼åºå®ä¸º"code"\n * client_idï¼è¡¨ç¤ºå®¢æ·ç«¯ç idï¼å¿éé¡¹\n * redirect_uriï¼è¡¨ç¤ºéå®å uriï¼å¯éé¡¹\n * scopeï¼è¡¨ç¤ºç³è¯·çæéèå´ï¼å¯éé¡¹\n * stateï¼è¡¨ç¤ºå®¢æ·ç«¯çå½åç¶æï¼å¯ä»¥æå®ä»»æå¼ï¼è®¤è¯æå¡å¨ä¼åå°ä¸å¨å°è¿åè¿ä¸ªå¼ã\n\nä¸é¢æ¯ä¸ä¸ªä¾å­ã\n\nget /authorize?response_type=code&client_id=s6bhdrkqt3&state=xyz\n  &redirect_uri=https%3a%2f%2fclient%2eexample%2ecom%2fcb http/1.1\nhost: server.example.com\n\n\nc æ­¥éª¤ä¸­ï¼æå¡å¨ååºå®¢æ·ç«¯ç uriï¼åå«ä»¥ä¸åæ°ï¼\n\n * codeï¼è¡¨ç¤ºææç ï¼å¿éé¡¹ãè¯¥ç çæææåºè¯¥å¾ç­ï¼éå¸¸è®¾ä¸º 10 åéï¼å®¢æ·ç«¯åªè½ä½¿ç¨è¯¥ç ä¸æ¬¡ï¼å¦åä¼è¢«æææå¡å¨æç»ãè¯¥ç ä¸å®¢æ·ç«¯ id åéå®å uriï¼æ¯ä¸ä¸å¯¹åºå³ç³»ã\n * stateï¼å¦æå®¢æ·ç«¯çè¯·æ±ä¸­åå«è¿ä¸ªåæ°ï¼è®¤è¯æå¡å¨çååºä¹å¿é¡»ä¸æ¨¡ä¸æ ·åå«è¿ä¸ªåæ°ã\n\nä¸é¢æ¯ä¸ä¸ªä¾å­ã\n\nhttp/1.1 302 found\nlocation: https://client.example.com/cb?code=splxlobezqqybys6wxsbia\n    &state=xyz\n\n\nd æ­¥éª¤ä¸­ï¼å®¢æ·ç«¯åè®¤è¯æå¡å¨ç³è¯·ä»¤çç http è¯·æ±ï¼åå«ä»¥ä¸åæ°ï¼\n\n * grant_typeï¼è¡¨ç¤ºä½¿ç¨çæææ¨¡å¼ï¼å¿éé¡¹ï¼æ­¤å¤çå¼åºå®ä¸º"authorization_code"ã\n * codeï¼è¡¨ç¤ºä¸ä¸æ­¥è·å¾çææç ï¼å¿éé¡¹ã\n * redirect_uriï¼è¡¨ç¤ºéå®å uriï¼å¿éé¡¹ï¼ä¸å¿é¡»ä¸ a æ­¥éª¤ä¸­çè¯¥åæ°å¼ä¿æä¸è´ã\n * client_idï¼è¡¨ç¤ºå®¢æ·ç«¯ idï¼å¿éé¡¹ã\n\nä¸é¢æ¯ä¸ä¸ªä¾å­ã\n\npost /token http/1.1\nhost: server.example.com\nauthorization: basic czzcagrsa3f0mzpnwdfmqmf0m2jw\ncontent-type: application/x-www-form-urlencoded\n\ngrant_type=authorization_code&code=splxlobezqqybys6wxsbia\n&redirect_uri=https%3a%2f%2fclient%2eexample%2ecom%2fcb\n\n\ne æ­¥éª¤ä¸­ï¼è®¤è¯æå¡å¨åéç http åå¤ï¼åå«ä»¥ä¸åæ°ï¼\n\n * access_tokenï¼è¡¨ç¤ºè®¿é®ä»¤çï¼å¿éé¡¹ã\n * token_typeï¼è¡¨ç¤ºä»¤çç±»åï¼è¯¥å¼å¤§å°åä¸ææï¼å¿éé¡¹ï¼å¯ä»¥æ¯ bearer ç±»åæ mac ç±»åã\n * expires_inï¼è¡¨ç¤ºè¿ææ¶é´ï¼åä½ä¸ºç§ãå¦æçç¥è¯¥åæ°ï¼å¿é¡»å¶ä»æ¹å¼è®¾ç½®è¿ææ¶é´ã\n * refresh_tokenï¼è¡¨ç¤ºæ´æ°ä»¤çï¼ç¨æ¥è·åä¸ä¸æ¬¡çè®¿é®ä»¤çï¼å¯éé¡¹ã\n * scopeï¼è¡¨ç¤ºæéèå´ï¼å¦æä¸å®¢æ·ç«¯ç³è¯·çèå´ä¸è´ï¼æ­¤é¡¹å¯çç¥ã\n\nä¸é¢æ¯ä¸ä¸ªä¾å­ã\n\nhttp/1.1 200 ok\ncontent-type: application/json;charset=utf-8\ncache-control: no-store\npragma: no-cache\n\n{\n "access_token":"2yotnfzfejr1zcsicmwpaa",\n "token_type":"example",\n "expires_in":3600,\n "refresh_token":"tgzv3jokf0xg5qx2tlkwia",\n "example_parameter":"example_value"\n}\n\n\nä»ä¸é¢ä»£ç å¯ä»¥çå°ï¼ç¸å³åæ°ä½¿ç¨ json æ ¼å¼åéï¼content-type: application/jsonï¼ãæ­¤å¤ï¼http å¤´ä¿¡æ¯ä¸­æç¡®æå®ä¸å¾ç¼å­ã\n\n# ç®åæ¨¡å¼\n\nç®åæ¨¡å¼ï¼implicit grant typeï¼ä¸éè¿ç¬¬ä¸æ¹åºç¨ç¨åºçæå¡å¨ï¼ç´æ¥å¨æµè§å¨ä¸­åè®¤è¯æå¡å¨ç³è¯·ä»¤çï¼è·³è¿äº"ææç "è¿ä¸ªæ­¥éª¤ï¼å æ­¤å¾åãæææ­¥éª¤å¨æµè§å¨ä¸­å®æï¼ä»¤çå¯¹è®¿é®èæ¯å¯è§çï¼ä¸å®¢æ·ç«¯ä¸éè¦è®¤è¯ã\n\n\nå®çæ­¥éª¤å¦ä¸ï¼\n\nï¼aï¼å®¢æ·ç«¯å°ç¨æ·å¯¼åè®¤è¯æå¡å¨ã\n\nï¼bï¼ç¨æ·å³å®æ¯å¦ç»äºå®¢æ·ç«¯ææã\n\nï¼cï¼åè®¾ç¨æ·ç»äºææï¼è®¤è¯æå¡å¨å°ç¨æ·å¯¼åå®¢æ·ç«¯æå®ç"éå®å uri"ï¼å¹¶å¨ uri ç hash é¨ååå«äºè®¿é®ä»¤çã\n\nï¼dï¼æµè§å¨åèµæºæå¡å¨ååºè¯·æ±ï¼å¶ä¸­ä¸åæ¬ä¸ä¸æ­¥æ¶å°ç hash å¼ã\n\nï¼eï¼èµæºæå¡å¨è¿åä¸ä¸ªç½é¡µï¼å¶ä¸­åå«çä»£ç å¯ä»¥è·å hash å¼ä¸­çä»¤çã\n\nï¼fï¼æµè§å¨æ§è¡ä¸ä¸æ­¥è·å¾çèæ¬ï¼æååºä»¤çã\n\nï¼gï¼æµè§å¨å°ä»¤çåç»å®¢æ·ç«¯ã\n\nä¸é¢æ¯ä¸é¢è¿äºæ­¥éª¤æéè¦çåæ°ã\n\na æ­¥éª¤ä¸­ï¼å®¢æ·ç«¯ååºç http è¯·æ±ï¼åå«ä»¥ä¸åæ°ï¼\n\n * response_typeï¼è¡¨ç¤ºææç±»åï¼æ­¤å¤çå¼åºå®ä¸º"token"ï¼å¿éé¡¹ã\n * client_idï¼è¡¨ç¤ºå®¢æ·ç«¯ç idï¼å¿éé¡¹ã\n * redirect_uriï¼è¡¨ç¤ºéå®åç uriï¼å¯éé¡¹ã\n * scopeï¼è¡¨ç¤ºæéèå´ï¼å¯éé¡¹ã\n * stateï¼è¡¨ç¤ºå®¢æ·ç«¯çå½åç¶æï¼å¯ä»¥æå®ä»»æå¼ï¼è®¤è¯æå¡å¨ä¼åå°ä¸å¨å°è¿åè¿ä¸ªå¼ã\n\nä¸é¢æ¯ä¸ä¸ªä¾å­ã\n\nget /authorize?response_type=token&client_id=s6bhdrkqt3&state=xyz\n  &redirect_uri=https%3a%2f%2fclient%2eexample%2ecom%2fcb http/1.1\nhost: server.example.com\n\n\nc æ­¥éª¤ä¸­ï¼è®¤è¯æå¡å¨ååºå®¢æ·ç«¯ç uriï¼åå«ä»¥ä¸åæ°ï¼\n\n * access_tokenï¼è¡¨ç¤ºè®¿é®ä»¤çï¼å¿éé¡¹ã\n * token_typeï¼è¡¨ç¤ºä»¤çç±»åï¼è¯¥å¼å¤§å°åä¸ææï¼å¿éé¡¹ã\n * expires_inï¼è¡¨ç¤ºè¿ææ¶é´ï¼åä½ä¸ºç§ãå¦æçç¥è¯¥åæ°ï¼å¿é¡»å¶ä»æ¹å¼è®¾ç½®è¿ææ¶é´ã\n * scopeï¼è¡¨ç¤ºæéèå´ï¼å¦æä¸å®¢æ·ç«¯ç³è¯·çèå´ä¸è´ï¼æ­¤é¡¹å¯çç¥ã\n * stateï¼å¦æå®¢æ·ç«¯çè¯·æ±ä¸­åå«è¿ä¸ªåæ°ï¼è®¤è¯æå¡å¨çååºä¹å¿é¡»ä¸æ¨¡ä¸æ ·åå«è¿ä¸ªåæ°ã\n\nä¸é¢æ¯ä¸ä¸ªä¾å­ã\n\nhttp/1.1 302 found\nlocation: http://example.com/cb#access_token=2yotnfzfejr1zcsicmwpaa\n         &state=xyz&token_type=example&expires_in=3600\n\n\nå¨ä¸é¢çä¾å­ä¸­ï¼è®¤è¯æå¡å¨ç¨ http å¤´ä¿¡æ¯ç location æ ï¼æå®æµè§å¨éå®åçç½åãæ³¨æï¼å¨è¿ä¸ªç½åç hash é¨ååå«äºä»¤çã\n\næ ¹æ®ä¸é¢ç d æ­¥éª¤ï¼ä¸ä¸æ­¥æµè§å¨ä¼è®¿é® location æå®çç½åï¼ä½æ¯ hash é¨åä¸ä¼åéãæ¥ä¸æ¥ç e æ­¥éª¤ï¼æå¡æä¾åçèµæºæå¡å¨åéè¿æ¥çä»£ç ï¼ä¼æååº hash ä¸­çä»¤çã\n\nå¯ç æ¨¡å¼\n\nå¯ç æ¨¡å¼ï¼resource owner password credentials grantï¼ä¸­ï¼ç¨æ·åå®¢æ·ç«¯æä¾èªå·±çç¨æ·ååå¯ç ãå®¢æ·ç«¯ä½¿ç¨è¿äºä¿¡æ¯ï¼å"æå¡åæä¾å"ç´¢è¦ææã\n\nå¨è¿ç§æ¨¡å¼ä¸­ï¼ç¨æ·å¿é¡»æèªå·±çå¯ç ç»å®¢æ·ç«¯ï¼ä½æ¯å®¢æ·ç«¯ä¸å¾å¨å­å¯ç ãè¿éå¸¸ç¨å¨ç¨æ·å¯¹å®¢æ·ç«¯é«åº¦ä¿¡ä»»çæåµä¸ï¼æ¯å¦å®¢æ·ç«¯æ¯æä½ç³»ç»çä¸é¨åï¼æèç±ä¸ä¸ªèåå¬å¸åºåãèè®¤è¯æå¡å¨åªæå¨å¶ä»æææ¨¡å¼æ æ³æ§è¡çæåµä¸ï¼æè½èèä½¿ç¨è¿ç§æ¨¡å¼ã\n\n\n\nå®çæ­¥éª¤å¦ä¸ï¼\n\nï¼aï¼ç¨æ·åå®¢æ·ç«¯æä¾ç¨æ·ååå¯ç ã\n\nï¼bï¼å®¢æ·ç«¯å°ç¨æ·ååå¯ç åç»è®¤è¯æå¡å¨ï¼ååèè¯·æ±ä»¤çã\n\nï¼cï¼è®¤è¯æå¡å¨ç¡®è®¤æ è¯¯åï¼åå®¢æ·ç«¯æä¾è®¿é®ä»¤çã\n\nb æ­¥éª¤ä¸­ï¼å®¢æ·ç«¯ååºç http è¯·æ±ï¼åå«ä»¥ä¸åæ°ï¼\n\n * grant_typeï¼è¡¨ç¤ºææç±»åï¼æ­¤å¤çå¼åºå®ä¸º"password"ï¼å¿éé¡¹ã\n * usernameï¼è¡¨ç¤ºç¨æ·åï¼å¿éé¡¹ã\n * passwordï¼è¡¨ç¤ºç¨æ·çå¯ç ï¼å¿éé¡¹ã\n * scopeï¼è¡¨ç¤ºæéèå´ï¼å¯éé¡¹ã\n\nä¸é¢æ¯ä¸ä¸ªä¾å­ã\n\npost /token http/1.1\nhost: server.example.com\nauthorization: basic czzcagrsa3f0mzpnwdfmqmf0m2jw\ncontent-type: application/x-www-form-urlencoded\n\ngrant_type=password&username=johndoe&password=a3ddj3w\n\n\nc æ­¥éª¤ä¸­ï¼è®¤è¯æå¡å¨åå®¢æ·ç«¯åéè®¿é®ä»¤çï¼ä¸é¢æ¯ä¸ä¸ªä¾å­ã\n\nhttp/1.1 200 ok\ncontent-type: application/json;charset=utf-8\ncache-control: no-store\npragma: no-cache\n\n{\n "access_token":"2yotnfzfejr1zcsicmwpaa",\n "token_type":"example",\n "expires_in":3600,\n "refresh_token":"tgzv3jokf0xg5qx2tlkwia",\n "example_parameter":"example_value"\n}\n\n\nä¸é¢ä»£ç ä¸­ï¼åä¸ªåæ°çå«ä¹åè§ãææç æ¨¡å¼ãä¸èã\n\næ´ä¸ªè¿ç¨ä¸­ï¼å®¢æ·ç«¯ä¸å¾ä¿å­ç¨æ·çå¯ç ã\n\nå®¢æ·ç«¯æ¨¡å¼\n\nå®¢æ·ç«¯æ¨¡å¼ï¼client credentials grantï¼æå®¢æ·ç«¯ä»¥èªå·±çåä¹ï¼èä¸æ¯ä»¥ç¨æ·çåä¹ï¼å"æå¡æä¾å"è¿è¡è®¤è¯ãä¸¥æ ¼å°è¯´ï¼å®¢æ·ç«¯æ¨¡å¼å¹¶ä¸å±äº oauth æ¡æ¶æè¦è§£å³çé®é¢ãå¨è¿ç§æ¨¡å¼ä¸­ï¼ç¨æ·ç´æ¥åå®¢æ·ç«¯æ³¨åï¼å®¢æ·ç«¯ä»¥èªå·±çåä¹è¦æ±"æå¡æä¾å"æä¾æå¡ï¼å¶å®ä¸å­å¨ææé®é¢ã\n\n\n\nå®çæ­¥éª¤å¦ä¸ï¼\n\nï¼aï¼å®¢æ·ç«¯åè®¤è¯æå¡å¨è¿è¡èº«ä»½è®¤è¯ï¼å¹¶è¦æ±ä¸ä¸ªè®¿é®ä»¤çã\n\nï¼bï¼è®¤è¯æå¡å¨ç¡®è®¤æ è¯¯åï¼åå®¢æ·ç«¯æä¾è®¿é®ä»¤çã\n\na æ­¥éª¤ä¸­ï¼å®¢æ·ç«¯ååºç http è¯·æ±ï¼åå«ä»¥ä¸åæ°ï¼\n\n * granttypeï¼è¡¨ç¤ºææç±»åï¼æ­¤å¤çå¼åºå®ä¸º"clientcredentials"ï¼å¿éé¡¹ã\n * scopeï¼è¡¨ç¤ºæéèå´ï¼å¯éé¡¹ã\n\npost /token http/1.1\nhost: server.example.com\nauthorization: basic czzcagrsa3f0mzpnwdfmqmf0m2jw\ncontent-type: application/x-www-form-urlencoded\n\ngrant_type=client_credentials\n\n\nè®¤è¯æå¡å¨å¿é¡»ä»¥æç§æ¹å¼ï¼éªè¯å®¢æ·ç«¯èº«ä»½ã\n\nb æ­¥éª¤ä¸­ï¼è®¤è¯æå¡å¨åå®¢æ·ç«¯åéè®¿é®ä»¤çï¼ä¸é¢æ¯ä¸ä¸ªä¾å­ã\n\nhttp/1.1 200 ok\ncontent-type: application/json;charset=utf-8\ncache-control: no-store\npragma: no-cache\n\n{\n "access_token":"2yotnfzfejr1zcsicmwpaa",\n "token_type":"example",\n "expires_in":3600,\n "example_parameter":"example_value"\n}\n\n\nä¸é¢ä»£ç ä¸­ï¼åä¸ªåæ°çå«ä¹åè§ãææç æ¨¡å¼ãä¸èã\n\n# æ´æ°ä»¤ç\n\nå¦æç¨æ·è®¿é®çæ¶åï¼å®¢æ·ç«¯ç"è®¿é®ä»¤ç"å·²ç»è¿æï¼åéè¦ä½¿ç¨"æ´æ°ä»¤ç"ç³è¯·ä¸ä¸ªæ°çè®¿é®ä»¤çã\n\nå®¢æ·ç«¯ååºæ´æ°ä»¤çç http è¯·æ±ï¼åå«ä»¥ä¸åæ°ï¼\n\n * granttypeï¼è¡¨ç¤ºä½¿ç¨çæææ¨¡å¼ï¼æ­¤å¤çå¼åºå®ä¸º"refreshtoken"ï¼å¿éé¡¹ã\n * refresh_tokenï¼è¡¨ç¤ºæ©åæ¶å°çæ´æ°ä»¤çï¼å¿éé¡¹ã\n * scopeï¼è¡¨ç¤ºç³è¯·çææèå´ï¼ä¸å¯ä»¥è¶åºä¸ä¸æ¬¡ç³è¯·çèå´ï¼å¦æçç¥è¯¥åæ°ï¼åè¡¨ç¤ºä¸ä¸ä¸æ¬¡ä¸è´ã\n\nä¸é¢æ¯ä¸ä¸ªä¾å­ã\n\npost /token http/1.1\nhost: server.example.com\nauthorization: basic czzcagrsa3f0mzpnwdfmqmf0m2jw\ncontent-type: application/x-www-form-urlencoded\n\ngrant_type=refresh_token&refresh_token=tgzv3jokf0xg5qx2tlkwia\n\n\n\n# é´æ\n\n\n# rbac\n\nrbacï¼role-based access controlï¼å³ï¼åºäºè§è²çæéæ§å¶ãéè¿è§è²å³èç¨æ·ï¼è§è²å³èæéçæ¹å¼é´æ¥èµäºç¨æ·æéã\n\næ¯ä¸ªç¨æ·å³èä¸ä¸ªæå¤ä¸ªè§è²ï¼æ¯ä¸ªè§è²å³èä¸ä¸ªæå¤ä¸ªæéï¼ä»èå¯ä»¥å®ç°äºéå¸¸çµæ´»çæéç®¡çãè§è²å¯ä»¥æ ¹æ®å®éä¸å¡éæ±çµæ´»åå»ºï¼è¿æ ·å°±çå»äºæ¯æ°å¢ä¸ä¸ªç¨æ·å°±è¦å³èä¸éæææéçéº»ç¦ãç®åæ¥è¯´ rbac å°±æ¯ï¼ç¨æ·å³èè§è²ï¼è§è²å³èæéã\n\n\n\n\n# è§è²ç»§æ¿\n\nè§è²ç»§æ¿(hierarchical role) å°±æ¯æè§è²å¯ä»¥ç»§æ¿äºå¶ä»è§è²ï¼å¨æ¥æå¶ä»è§è²æéçåæ¶ï¼èªå·±è¿å¯ä»¥å³èé¢å¤çæéãè¿ç§è®¾è®¡å¯ä»¥ç»è§è²åç»ååå±ï¼ä¸å®ç¨åº¦ç®åäºæéç®¡çå·¥ä½ã\n\n\n\n# èè´£åç¦»(separation of duty)\n\nä¸ºäºé¿åç¨æ·æ¥æè¿å¤æéèäº§çå©çå²çªï¼ä¾å¦ä¸ä¸ªç¯®çè¿å¨ååæ¶æ¥æè£å¤çæéï¼çä¸ç¼å°±ç»ä½ å¤ç¯è§ç ä¸ç ï¼ï¼ï¼å¦ä¸ç§èè´£åç¦»æ©å±çç rbac è¢«æåºã\n\nèè´£åç¦»æä¸¤ç§æ¨¡å¼ï¼\n\néæèè´£åç¦»(static separation of duty)ï¼ç¨æ·æ æ³åæ¶è¢«èµäºæå²çªçè§è²ã\n\n\n\nå¨æèè´£åç¦»(dynamic separation of duty)ï¼ç¨æ·å¨ä¸æ¬¡ä¼è¯ï¼sessionï¼ä¸­ä¸è½åæ¶æ¿æ´»èªèº«ææ¥æçãäºç¸æå²çªçè§è²ï¼åªè½éæ©å¶ä¸ã\n\n\n\nè®²äºè¿ä¹å¤ rbacï¼é½è¿åªæ¯å¨ç¨æ·åæéä¹é´è¿è¡è®¾è®¡ï¼å¹¶æ²¡ææ¶åå°ç¨æ·åå¯¹è±¡ä¹é´çæéå¤æ­ï¼èå¨å®éä¸å¡ç³»ç»ä¸­éå¶ç¨æ·è½å¤ä½¿ç¨çå¯¹è±¡æ¯å¾å¸¸è§çéæ±ã\n\n\n# rbac0 æ¨¡å\n\næç®åçç¨æ·ãè§è²ãæéæ¨¡åãè¿éé¢ååå«äº 2 ç§ï¼\n\n 1. ç¨æ·åè§è²æ¯å¤å¯¹ä¸å³ç³»ï¼å³ï¼ä¸ä¸ªç¨æ·åªåå½ä¸ç§è§è²ï¼ä¸ç§è§è²å¯ä»¥æå¤ä¸ªç¨æ·æå½ã\n 2. ç¨æ·åè§è²æ¯å¤å¯¹å¤å³ç³»ï¼å³ï¼ä¸ä¸ªç¨æ·å¯åæ¶åå½å¤ç§è§è²ï¼ä¸ç§è§è²å¯ä»¥æå¤ä¸ªç¨æ·æå½ã\n\né£ä¹ï¼ä»ä¹æ¶åè¯¥ä½¿ç¨å¤å¯¹ä¸çæéä½ç³»ï¼ä»ä¹æ¶ååè¯¥ä½¿ç¨å¤å¯¹å¤çæéä½ç³»å¢ï¼\n\nå¦æç³»ç»åè½æ¯è¾åä¸ï¼ä½¿ç¨äººåè¾å°ï¼å²ä½æéç¸å¯¹æ¸æ°ä¸ç¡®ä¿ä¸ä¼åºç°å¼å²çæåµï¼æ­¤æ¶å¯ä»¥èèç¨å¤å¯¹ä¸çæéä½ç³»ãå¶ä½æåµå°½éä½¿ç¨å¤å¯¹å¤çæéä½ç³»ï¼ä¿è¯ç³»ç»çå¯æ©å±æ§ãå¦ï¼å¼ ä¸æ¢æ¯è¡æ¿ï¼ä¹è´è´£è´¢å¡å·¥ä½ï¼é£å¼ ä¸å°±åæ¶æ¥æè¡æ¿åè´¢å¡ä¸¤ä¸ªè§è²çæéã\n\n\n# rbac1 æ¨¡å\n\nç¸å¯¹äº rbac0 æ¨¡åï¼å¢å äºå­è§è²ï¼å¼å¥äºç»§æ¿æ¦å¿µï¼å³å­è§è²å¯ä»¥ç»§æ¿ç¶è§è²çæææéã\n\n\n\n**ä½¿ç¨åºæ¯ï¼**å¦æä¸ªä¸å¡é¨é¨ï¼æç»çãä¸»ç®¡ãä¸åãä¸»ç®¡çæéä¸è½å¤§äºç»çï¼ä¸åçæéä¸è½å¤§äºä¸»ç®¡ï¼å¦æéç¨ rbac0 æ¨¡ååæéç³»ç»ï¼æå¯è½åºç°åéæéå¤±è¯¯ï¼æç»åºç°ä¸»ç®¡æ¥æç»çé½æ²¡æçæéçæåµã\n\nè rbac1 æ¨¡åå°±å¾å¥½è§£å³äºè¿ä¸ªé®é¢ï¼åå»ºå®ç»çè§è²å¹¶éç½®å¥½æéåï¼ä¸»ç®¡è§è²çæéç»§æ¿ç»çè§è²çæéï¼å¹¶ä¸æ¯æå¨ç»çæéä¸å åä¸»ç®¡æéã\n\n\n# rbac2 æ¨¡å\n\nåºäº rbac0 æ¨¡åï¼å¢å äºå¯¹è§è²çä¸äºéå¶ï¼è§è²äºæ¥ãåºæ°çº¦æãåå³æ¡ä»¶è§è²ç­ã\n\n * **è§è²äºæ¥ï¼**åä¸ç¨æ·ä¸è½åéå°ä¸ç»äºæ¥è§è²éåä¸­çå¤ä¸ªè§è²ï¼äºæ¥è§è²æ¯ææéäºç¸å¶çº¦çä¸¤ä¸ªè§è²ãæ¡ä¾ï¼è´¢å¡ç³»ç»ä¸­ä¸ä¸ªç¨æ·ä¸è½åæ¶è¢«ææ´¾ç»ä¼è®¡è§è²åå®¡è®¡åè§è²ã\n * **åºæ°çº¦æï¼**ä¸ä¸ªè§è²è¢«åéçç¨æ·æ°éåéï¼å®æçæ¯æå¤å°ç¨æ·è½æ¥æè¿ä¸ªè§è²ãä¾å¦ï¼ä¸ä¸ªè§è²ä¸é¨ä¸ºå¬å¸ ceo åå»ºçï¼é£è¿ä¸ªè§è²çæ°éæ¯æéçã\n * **åå³æ¡ä»¶è§è²ï¼**æè¦æ³è·å¾è¾é«çæéï¼è¦é¦åæ¥æä½ä¸çº§çæéãä¾å¦ï¼åæå¯æ»ç»çæéï¼æè½ææ»ç»çæéã\n * **è¿è¡æ¶äºæ¥ï¼**ä¾å¦ï¼åè®¸ä¸ä¸ªç¨æ·å·æä¸¤ä¸ªè§è²çæåèµæ ¼ï¼ä½å¨è¿è¡ä¸­ä¸å¯åæ¶æ¿æ´»è¿ä¸¤ä¸ªè§è²ã\n\n\n# rbac3 æ¨¡å\n\nç§°ä¸ºç»ä¸æ¨¡åï¼å®åå«äº rbac1 å rbac2ï¼å©ç¨ä¼ éæ§ï¼ä¹æ rbac0 åæ¬å¨åï¼ç»¼åäº rbac0ãrbac1 å rbac2 çææç¹ç¹ï¼è¿éå°±ä¸å¨å¤æè¿°äºã\n\n\n\n\n# ä»ä¹æ¯æé\n\nè¯´äºè¿ä¹ä¹ç¨æ·-è§è²-æéï¼å¯è½å°ä¼ä¼´ä»¬é½äºè§£äºä»ä¹æ¯ç¨æ·ãä»ä¹æ¯è§è²ãä½æ¯æçå°ä¼ä¼´ä¼å¥½å¥ï¼é£æéåæ¯ä¸ªä»ä¹ç©æå¢ï¼\n\næéæ¯èµæºçéåï¼è¿éçèµæºæçæ¯è½¯ä»¶ä¸­ææçåå®¹ï¼åæ¬æ¨¡åãèåãé¡µé¢ãå­æ®µãæä½åè½ï¼å¢å æ¹æ¥ï¼ç­ç­ãå·ä½çæééç½®ä¸ï¼ç®åå½¢å¼å¤ç§å¤æ ·ï¼æç§æä¸ªäººççè§£ï¼å¯ä»¥å°æéåä¸ºï¼é¡µé¢æéãæä½æéåæ°æ®æéï¼è¿ç§åç±»æ³ï¼ä¸»è¦æ¯ç»åèªå·±å¨å·¥ä½ä¸­çå®éæåµçè§£æ»ç»èæ¥ï¼è¥æä¸è¶³ä¹å¤ï¼ä¹è¯·å¤§å®¶æåºï¼ã\n\n**é¡µé¢æéï¼**ææç³»ç»é½æ¯ç±ä¸ä¸ªä¸ªçé¡µé¢ç»æï¼é¡µé¢åç»ææ¨¡åï¼ç¨æ·æ¯å¦è½çå°è¿ä¸ªé¡µé¢çèåãæ¯å¦è½è¿å¥è¿ä¸ªé¡µé¢å°±ç§°ä¸ºé¡µé¢æéã\n\nå¦ä¸å¾ï¼\n\n\n\nå®¢æ·åè¡¨ãå®¢æ·é»ååãå®¢æ·å®¡æ¹é¡µé¢ç»æäºå®¢æ·ç®¡çè¿ä¸ªæ¨¡åãå¯¹äºæ®éç¨æ·ï¼ä¸è½è¿è¡å®¡æ¹æä½ï¼å³æ å®¢æ·å®¡æ¹é¡µé¢æéï¼å¨ä»çè´¦å·ç»å½åä¾§è¾¹å¯¼èªæ åªæ¾ç¤ºå®¢æ·åè¡¨ãå®¢æ·é»ååä¸¤ä¸ªèåã\n\n**æä½æéï¼**ç¨æ·å¡æ¯å¨æä½ç³»ç»ä¸­çä»»ä½å¨ä½ãäº¤äºé½æ¯æä½æéï¼å¦å¢å æ¹æ¥ç­ã\n\n**æ°æ®æéï¼**ä¸è¬ä¸å¡ç®¡çç³»ç»ï¼é½ææ°æ®ç§å¯æ§çè¦æ±ï¼åªäºäººå¯ä»¥çå°åªäºæ°æ®ï¼ä¸å¯ä»¥çå°åªäºæ°æ®ã\n\nç®åä¸¾ä¸ªä¾å­ï¼æç³»ç»ä¸­æéå®é¨é¨ï¼éå®ä¸åè´è´£æ¨éååï¼éå®ä¸»ç®¡è´è´£ç®¡çéå®ä¸åæ¥å¸¸å·¥ä½ï¼ç»çè´è´£ç»ç»ç®¡çéå®ä¸»ç®¡ä½ä¸ã\n\nå¦ä¸å¾ï¼\n\n\n\næç§å®éçè§£ï¼âéå®ä¸åå¼ ä¸âç»å½æ¶ï¼åªè½çå°èªå·±è´è´£çæ°æ®ï¼éå®ä¸»ç®¡ 2 ç»å½æ¶ï¼è½çå°ä»æé¢å¯¼çææä¸å¡åè´è´£çæ°æ®ï¼ä½çä¸å°å¶ä»å¢éä¸å¡åè´è´£çæ°æ®ã\n\næ¢å¦å¤ä¸å¥è¯å°±æ¯ï¼æçå®¢æ·åªææåæçç´å±ä¸çº§ä»¥åç´å±ä¸çº§çé¢å¯¼è½çå°ï¼è¿å°±æ¯æçè§£çæ°æ®æéã\n\nè¦å®ç°æ°æ®æéæå¤ç§æ¹å¼ï¼\n\n 1. å¯ä»¥å©ç¨ rbac1 æ¨¡åï¼éè¿è§è²åçº§æ¥å®ç°ã\n 2. å¨âç¨æ·-è§è²-æéâçåºç¡ä¸ï¼å¢å ç¨æ·ä¸ç»ç»çå³èå³ç³»ï¼ç¨ç»ç»å³å®ç¨æ·çæ°æ®æéã\n\nå·ä½å¦ä½åå¢ï¼\n\nâ  ç»ç»å±çº§ååï¼\n\n\n\n**â¡ æ°æ®å¯è§æéè§åå¶å®ï¼**ä¸çº§ç»ç»åªè½çå°ä¸çº§ç»ç»åå·¥è´è´£çæ°æ®ï¼èä¸è½çå°å¶ä»å¹³çº§ç»ç»åå¶ä¸çº§ç»ç»çåå·¥æ°æ®ç­ã\n\néè¿ä»¥ä¸ä¸¤ç¹ï¼ç³»ç»å°±å¯ä»¥å¨ç¨æ·ç»å½æ¶ï¼èªå¨å¤æ­è¦ç»ç¨æ·å±ç¤ºåªäºæ°æ®äºã\n\n\n# ç¨æ·ç»çä½¿ç¨\n\nå½å¹³å°ç¨æ·åºæ°å¢å¤§ï¼è§è²ç±»åå¢å¤æ¶ï¼å¦æç´æ¥ç»ç¨æ·éè§è²ï¼ç®¡çåçå·¥ä½éå°±ä¼å¾å¤§ãè¿æ¶åæä»¬å¯ä»¥å¼å¥ä¸ä¸ªæ¦å¿µâç¨æ·ç»âï¼å°±æ¯å°ç¸åå±æ§çç¨æ·å½ç±»å°ä¸èµ·ã\n\nä¾å¦ï¼å å¥ç¨æ·ç»çæ¦å¿µåï¼å¯ä»¥å°é¨é¨çåä¸ä¸ªç¨æ·ç»ï¼åç»è¿ä¸ªé¨é¨ç´æ¥èµäºè§è²ï¼1 ä¸åå·¥é¨é¨å¯è½å°±å åä¸ªï¼ï¼ä½¿é¨é¨æ¥æé¨é¨æéï¼è¿æ ·è¿ä¸ªé¨é¨çææç¨æ·é½æäºé¨é¨æéï¼èä¸éè¦ä¸ºæ¯ä¸ä¸ªç¨æ·ååç¬æå®è§è²ï¼æå¤§çåå°äºåéæéçå·¥ä½éã\n\nåæ¶ï¼ä¹å¯ä»¥ä¸ºç¹å®çç¨æ·æå®è§è²ï¼è¿æ ·ç¨æ·é¤äºæ¥ææå±ç¨æ·ç»çæææéå¤ï¼è¿æ¥æèªèº«ç¹å®çæéã\n\nç¨æ·ç»çä¼ç¹ï¼é¤äºåå°å·¥ä½éï¼è¿ææ´ä¾¿äºçè§£ãå¢å å¤çº§ç®¡çå³ç³»ç­ãå¦ï¼æä»¬å¨è¿è¡ç»ç»æºæéç½®çæ¶åï¼é¤äºå å¥é¨é¨ï¼è¿å¯ä»¥å å¥ç§å®¤ãå²ä½ç­å±çº§ï¼æ¥ä¸ºç¨æ·ç»åé¨æåçæéè¿è¡ç­çº§ä¸çåºåã\n\nå³äºç¨æ·ç»çè¯¦ç»çé¾è§£ç­ï¼è¯·æ¥çhttps://wen.woshipm.com/question/detail/88fues.htmlãå¨è¿éä¹ååæè°¢ä¸ºæè§£ç­çæçæåä»¬ï¼\n\n\n# å®ä¾åæ\n\n\n# å¦ä½è®¾è®¡ rbac æéç³»ç»\n\né¦åï¼æä»¬æèä¸ä¸ä¸ä¸ªç®åçæéç³»ç»åºè¯¥å·å¤åªäºåå®¹ï¼\n\nç­æ¡æ¾èæè§ï¼rbac æ¨¡åï¼ç¨æ·-è§è²-æéãæä»¥æåºæ¬çæä»¬åºè¯¥å·å¤ç¨æ·ãè§è²ãæéè¿ä¸ä¸ªåå®¹ã\n\næ¥ä¸æ¥ï¼æä»¬æèï¼ç©¶ç«å¦ä½å°ä¸èå³èèµ·æ¥ãåé¡¾åæï¼è§è²ä½ä¸ºæ¢çº½ï¼å³èç¨æ·ãæéãæä»¥å¨ rbac æ¨¡åä¸ï¼æä»¬åºè¯¥ï¼åå»ºä¸ä¸ªè§è²ï¼å¹¶ä¸ºè¿ä¸ªè§è²èµäºç¸åºæéï¼æåå°è§è²èµäºç¨æ·ã\n\nå°è¿ä¸ªé®é¢æ½è±¡ä¸ºæµç¨ï¼å¦ä¸å¾ï¼\n\n\n\nç°å¨ï¼åºæ¬çæµç¨é»è¾å·²ç»æ½è±¡åºæ¥äºï¼æ¥ä¸æ¥ï¼åæè¯¥å¦ä½è®¾è®¡å¢ï¼\n\n * ç¬¬ä¸æ­¥ï¼éè¦è§è²ç®¡çåè¡¨ï¼å¨è§è²ç®¡çåè¡¨è½å¿«éåå»ºä¸ä¸ªè§è²ï¼ä¸åå»ºè§è²çåæ¶è½ä¸ºè§è²éç½®æéï¼å¹¶ä¸æ¯æåå»ºæåçè§è²åè¡¨è½éæ¶è¿è¡æééç½®ççä¿®æ¹ï¼\n * ç¬¬äºæ­¥ï¼éè¦ç¨æ·ç®¡çåè¡¨ï¼å¨ç¨æ·ç®¡çåè¡¨è½å¿«éæ·»å ä¸ä¸ªç¨æ·ï¼ä¸æ·»å ç¨æ·æ¶æè®©ç¨æ·å³èè§è²çåè½ã\n\nç®åæ¥è¯´æéç³»ç»è®¾è®¡å°±åå«ä»¥ä¸ä¸¤æ­¥ï¼æ¥ä¸æ¥ä¸ºå¤§å®¶è¿è¡å®ä¾åæã\n\n\n# å®ä¾åæ\n\nâ  åå»ºè§è²åè¡¨\n\n\n\nå¨è§è²åè¡¨å¿«éåå»ºä¸ä¸ªè§è²ï¼ç¹å»åå»ºè§è²ï¼æ¯æåå»ºè§è²æ¶éç½®æéã\n\n\n\nâ¡ åå»ºç¨æ·åè¡¨\n\n\n\nå¨ç¨æ·åè¡¨å¿«éåå»ºä¸ä¸ªç¨æ·ï¼æ¯æç¨æ·å³èè§è²çåè½ã\n\n\n\nä¸è¿°æ¡ä¾æ¯åºäºæç®åç rbac0 æ¨¡ååå»ºï¼éç¨äºå¤§é¨åå¸¸è§çæéç®¡çç³»ç»ã\n\nä¸é¢ååæä¸ä¸ rbac1 ä¸­è§è²åçº§å·ä½å¦ä½è®¾è®¡ã\n\n 1. å¨ rbac0 çåºç¡ä¸ï¼å ä¸è§è²ç­çº§è¿ä¸ªå­æ®µã\n 2. æéåéè§åå¶å®ï¼ä½ç­çº§è§è²åªè½å¨é«ç­çº§è§è²æéåºç¡ä¸è¿è¡å åæéã\n\nå·ä½çé¢åç°å¦ä¸å¾ï¼\n\n\n\nä»¥ä¸å°±æ¯ç®åç rbac ç³»ç»è®¾è®¡ï¼è¥éæ´å¤æçï¼è¿è¯·è¯»èæ ¹æ®ä¸é¢çåæèªè¡æ£æ©æèï¼å°½ç®¡æ ·å¼ä¸åï¼ä½ä¸åä¸ç¦»å¶å®ï¼çè§£æ¸æ¥ rbac æ¨¡ååï¼ç»åèªå·±çä¸å¡å°±å¯ä»¥è®¾è®¡åºä¸å¥ç¬¦åèªå·±å¹³å°éæ±çè§è²æéç³»ç»ï¼å·ä½çå°±ä¸åå¤éè¿°äºã\n\n\n# å®¡è®¡\n\ntodo\n\n\n# ç½ç«æ»å»\n\näºèç½ç¯å¢é±¼é¾æ··æï¼ç½ç«è¢«æ»å»æ¯å¸¸è§ç°è±¡ï¼æä»¥äºè§£ä¸äºå¸¸è§çç½ç«æ»å»ææ®µååå¿è¦ãä¸é¢åä¸¾æ¯è¾å¸¸è§ç 4 ç§æ»å»ææ®µï¼\n\n\n# xss\n\n# æ¦å¿µ\n\nè·¨ç«èæ¬ï¼cross-site scriptingï¼éå¸¸ç®ç§°ä¸ºxssï¼ æ¯ä¸ç§ç½ç«åºç¨ç¨åºçå®å¨æ¼æ´æ»å»ï¼æ¯ä»£ç æ³¨å¥çä¸ç§ãå®åè®¸æ¶æç¨æ·å°ä»£ç æ³¨å¥å°ç½é¡µä¸ï¼å¶ä»ç¨æ·å¨è§çç½é¡µæ¶å°±ä¼åå°å½±åãè¿ç±»æ»å»éå¸¸åå«äº html ä»¥åç¨æ·ç«¯èæ¬è¯­è¨ã\n\nxss æ»å»ç¤ºä¾ï¼\n\nåå¦æä¸é¢ä¸ä¸ª textbox\n\n<input type="text" name="address1" value="value1from" />\n\n\nvalue1from æ¯æ¥èªç¨æ·çè¾å¥ï¼å¦æç¨æ·ä¸æ¯è¾å¥ value1from,èæ¯è¾å¥ "/><script>alert(document.cookie)<\/script><!- é£ä¹å°±ä¼åæï¼\n\n<input type="text" name="address1" value="" />\n<script>\n  alert(document.cookie)\n<\/script>\n<!- ">\n\n\nåµå¥ç javascript ä»£ç å°ä¼è¢«æ§è¡ãæ»å»çå¨åï¼åå³äºç¨æ·è¾å¥äºä»ä¹æ ·çèæ¬ã\n\n# æ»å»ææ®µåç®ç\n\nå¸¸ç¨ç xss æ»å»ææ®µåç®çæï¼\n\n * çç¨ cookieï¼è·åææä¿¡æ¯ã\n * å©ç¨æ¤å¥ flashï¼éè¿ crossdomain æéè®¾ç½®è¿ä¸æ­¥è·åæ´é«æéï¼æèå©ç¨ java ç­å¾å°ç±»ä¼¼çæä½ã\n * å©ç¨ iframeãframeãxmlhttprequest æä¸è¿° flash ç­æ¹å¼ï¼ä»¥ï¼è¢«æ»å»ï¼ç¨æ·çèº«ä»½æ§è¡ä¸äºç®¡çå¨ä½ï¼ææ§è¡ä¸äºä¸è¬çå¦åå¾®åãå å¥½åãåç§ä¿¡ç­æä½ã\n * å©ç¨å¯è¢«æ»å»çååå°å¶ä»åä¿¡ä»»çç¹ç¹ï¼ä»¥åä¿¡ä»»æ¥æºçèº«ä»½è¯·æ±ä¸äºå¹³æ¶ä¸åè®¸çæä½ï¼å¦è¿è¡ä¸å½çæç¥¨æ´»å¨ã\n * å¨è®¿é®éæå¤§çä¸äºé¡µé¢ä¸ç xss å¯ä»¥æ»å»ä¸äºå°åç½ç«ï¼å®ç° ddos æ»å»çææã\n\n# åºå¯¹ææ®µ\n\n * è¿æ»¤ç¹æ®å­ç¬¦ - å°ç¨æ·ææä¾çåå®¹è¿è¡è¿æ»¤ï¼ä»èé¿å html å jascript ä»£ç çè¿è¡ãå¦ > è½¬ä¹ä¸º &gtã< è½¬ä¹ä¸º &lt ç­ï¼å°±å¯ä»¥é²æ­¢å¤§é¨åæ»å»ãä¸ºäºé¿åå¯¹ä¸å¿è¦çåå®¹éè¯¯è½¬ç§»ï¼å¦ 3<5 ä¸­ç < éè¦è¿è¡ææ¬å¹éååè½¬ç§»ï¼å¦ï¼<img src= è¿æ ·çä¸ä¸æä¸­ç < æè½¬ä¹ã\n * è®¾ç½® cookie ä¸º httponly - è®¾ç½®äº httponly ç cookie å¯ä»¥é²æ­¢ javascript èæ¬è°ç¨ï¼å°±æ æ³éè¿ document.cookie è·åç¨æ· cookie ä¿¡æ¯ã\n\n> ð åèéè¯»ï¼\n> \n>  * wiki è¯æ¡ - è·¨ç«èæ¬\n>  * web å®å¨æµè¯ä¹ xss\n\n\n# csrf\n\n# æ¦å¿µ\n\nè·¨ç«è¯·æ±ä¼ªé ï¼cross-site request forgeryï¼csrfï¼ï¼ä¹è¢«ç§°ä¸º one-click attack æè session ridingï¼éå¸¸ç¼©åä¸º csrf æè xsrfãå®æ¯ä¸ç§ææç¨æ·å¨å½åå·²ç»å½ç web åºç¨ç¨åºä¸æ§è¡éæ¬æçæä½çæ»å»æ¹æ³ãåè·¨ç«èæ¬ï¼xssï¼ç¸æ¯ï¼xss å©ç¨çæ¯ç¨æ·å¯¹æå®ç½ç«çä¿¡ä»»ï¼csrf å©ç¨çæ¯ç½ç«å¯¹ç¨æ·ç½é¡µæµè§å¨çä¿¡ä»»ã\n\n# æ»å»ææ®µåç®ç\n\nå¯ä»¥å¦æ­¤çè§£ csrfï¼æ»å»èçç¨äºä½ çèº«ä»½ï¼ä»¥ä½ çåä¹åéæ¶æè¯·æ±ã\n\ncsrf è½åçäºå¤ªå¤ï¼\n\n * ä»¥ä½ åä¹åéé®ä»¶ï¼åæ¶æ¯\n * ç¨ä½ çè´¦å·è´­ä¹°åå\n * ç¨ä½ çåä¹å®æèæè´§å¸è½¬è´¦\n * æ³é²ä¸ªäººéç§\n * ...\n\n# åºå¯¹ææ®µ\n\n * è¡¨å token - csrf æ¯ä¸ä¸ªä¼ªé ç¨æ·è¯·æ±çæä½ï¼æä»¥éè¦æé ç¨æ·è¯·æ±çææåæ°æå¯ä»¥ãè¡¨å token éè¿å¨è¯·æ±åæ°ä¸­æ·»å éæºæ°çåæ³æ¥é»æ­¢æ»å»èè·å¾ææè¯·æ±åæ°ã\n * éªè¯ç  - è¯·æ±æäº¤æ¶ï¼éè¦ç¨æ·è¾å¥éªè¯ç ï¼ä»¥é¿åç¨æ·å¨ä¸ç¥æçæåµä¸è¢«æ»å»èä¼ªé è¯·æ±ã\n * referer check - http è¯·æ±å¤´ç referer åä¸­è®°å½çè¯·æ±èµæºï¼å¯éè¿æ£æ¥è¯·æ±æ¥æºï¼éªè¯å¶æ¯å¦åæ³ã\n\n> ð åèéè¯»ï¼\n> \n>  * wiki è¯æ¡ - è·¨ç«è¯·æ±ä¼ªé \n>  * æµè° csrf æ»å»æ¹å¼\n>  * ãæ¯æ¥ä¸é¢ãcsrf æ¯ä»ä¹ï¼ãæ¯æ¥ä¸é¢ãcsrf æ¯ä»ä¹ï¼\n>  * web å®å¨ä¹-csrfï¼è·¨ç«è¯·æ±ä¼ªé ï¼\n\n\n# sql æ³¨å¥\n\n# æ¦å¿µ\n\nsql æ³¨å¥æ»å»ï¼sql injectionï¼ï¼æ¯åçäºåºç¨ç¨åºä¹æ°æ®å±çå®å¨æ¼æ´ãç®èè¨ä¹ï¼æ¯å¨è¾å¥çå­ç¬¦ä¸²ä¹ä¸­æ³¨å¥ sql æä»¤ï¼å¨è®¾è®¡ä¸è¯çç¨åºå½ä¸­å¿½ç¥äºæ£æ¥ï¼é£ä¹è¿äºæ³¨å¥è¿å»çæä»¤å°±ä¼è¢«æ°æ®åºæå¡å¨è¯¯è®¤ä¸ºæ¯æ­£å¸¸ç sql æä»¤èè¿è¡ï¼å æ­¤é­å°ç ´åææ¯å¥ä¾µã\n\næ»å»ç¤ºä¾ï¼\n\nèèä»¥ä¸ç®åçç»å½è¡¨åï¼\n\n<form action="/login" method="post">\n  <p>username: <input type="text" name="username" /></p>\n  <p>password: <input type="password" name="password" /></p>\n  <p><input type="submit" value="ç»é" /></p>\n</form>\n\n\næä»¬çå¤çéé¢ç sql å¯è½æ¯è¿æ ·çï¼\n\nusername:=r.form.get("username")\npassword:=r.form.get("password")\nsql:="select * from user where username=\'"+username+"\' and password=\'"+password+"\'"\n\n\nå¦æç¨æ·çè¾å¥çç¨æ·åå¦ä¸ï¼å¯ç ä»»æ\n\nmyuser\' or \'foo\' = \'foo\' --\n\n\né£ä¹æä»¬ç sql åæäºå¦ä¸æç¤ºï¼\n\nselect * from user where username=\'myuser\' or \'foo\' = \'foo\' --\'\' and password=\'xxx\'\n\n\nå¨ sql éé¢ -- æ¯æ³¨éæ è®°ï¼æä»¥æ¥è¯¢è¯­å¥ä¼å¨æ­¤ä¸­æ­ãè¿å°±è®©æ»å»èå¨ä¸ç¥éä»»ä½åæ³ç¨æ·ååå¯ç çæåµä¸æåç»å½äºã\n\nå¯¹äº mssql è¿ææ´å å±é©çä¸ç§ sql æ³¨å¥ï¼å°±æ¯æ§å¶ç³»ç»ï¼ä¸é¢è¿ä¸ªå¯æçä¾å­å°æ¼ç¤ºå¦ä½å¨æäºçæ¬ç mssql æ°æ®åºä¸æ§è¡ç³»ç»å½ä»¤ã\n\nsql:="select * from products where name like \'%"+prod+"%\'"\ndb.exec(sql)\n\n\nå¦ææ»å»æäº¤ a%\' exec master..xp_cmdshell \'net user test testpass /add\' -- ä½ä¸ºåé prod çå¼ï¼é£ä¹ sql å°ä¼åæ\n\nsql:="select * from products where name like \'%a%\' exec master..xp_cmdshell \'net user test testpass /add\'--%\'"\n\n\nmssql æå¡å¨ä¼æ§è¡è¿æ¡ sql è¯­å¥ï¼åæ¬å®åé¢é£ä¸ªç¨äºåç³»ç»æ·»å æ°ç¨æ·çå½ä»¤ãå¦æè¿ä¸ªç¨åºæ¯ä»¥ sa è¿è¡è mssqlserver æå¡åæè¶³å¤çæéçè¯ï¼æ»å»èå°±å¯ä»¥è·å¾ä¸ä¸ªç³»ç»å¸å·æ¥è®¿é®ä¸»æºäºã\n\nè½ç¶ä»¥ä¸çä¾å­æ¯éå¯¹æä¸ç¹å®çæ°æ®åºç³»ç»çï¼ä½æ¯è¿å¹¶ä¸ä»£è¡¨ä¸è½å¯¹å¶å®æ°æ®åºç³»ç»å®æ½ç±»ä¼¼çæ»å»ãéå¯¹è¿ç§å®å¨æ¼æ´ï¼åªè¦ä½¿ç¨ä¸åæ¹æ³ï¼åç§æ°æ®åºé½æå¯è½é­æ®ã\n\n# æ»å»ææ®µåç®ç\n\n * æ°æ®è¡¨ä¸­çæ°æ®å¤æ³ï¼ä¾å¦ä¸ªäººæºå¯æ°æ®ï¼è´¦æ·æ°æ®ï¼å¯ç ç­ã\n * æ°æ®ç»æè¢«é»å®¢æ¢ç¥ï¼å¾ä»¥åè¿ä¸æ­¥æ»å»ï¼ä¾å¦ select * from sys.tablesï¼ã\n * æ°æ®åºæå¡å¨è¢«æ»å»ï¼ç³»ç»ç®¡çåè´¦æ·è¢«çªæ¹ï¼ä¾å¦ alter login sa with password=\'xxxxxx\'ï¼ã\n * è·åç³»ç»è¾é«æéåï¼æå¯è½å¾ä»¥å¨ç½é¡µå å¥æ¶æé¾æ¥ãæ¶æä»£ç ä»¥å xss ç­ã\n * ç»ç±æ°æ®åºæå¡å¨æä¾çæä½ç³»ç»æ¯æï¼è®©é»å®¢å¾ä»¥ä¿®æ¹ææ§å¶æä½ç³»ç»ï¼ä¾å¦ xp_cmdshell "net stop iisadmin"å¯åæ­¢æå¡å¨ç iis æå¡ï¼ã\n * ç ´åç¡¬çæ°æ®ï¼ç«çªå¨ç³»ç»ï¼ä¾å¦ xp_cmdshell "format c:"ï¼ã\n\n# åºå¯¹ææ®µ\n\n * ä½¿ç¨åæ°åæ¥è¯¢ - å»ºè®®ä½¿ç¨æ°æ®åºæä¾çåæ°åæ¥è¯¢æ¥å£ï¼åæ°åçè¯­å¥ä½¿ç¨åæ°èä¸æ¯å°ç¨æ·è¾å¥åéåµå¥å° sql è¯­å¥ä¸­ï¼å³ä¸è¦ç´æ¥æ¼æ¥ sql è¯­å¥ãä¾å¦ä½¿ç¨ database/sql éé¢çæ¥è¯¢å½æ° prepare å query ï¼æè exec(query string, args ...interface{})ã\n * åå¼å·è½¬æ¢ - å¨ç»å sql å­ç¬¦ä¸²æ¶ï¼åéå¯¹æä¼ å¥çåæ°è¿è¡å­ç¬¦æ¿æ¢ï¼å°åå¼å·å­ç¬¦æ¿æ¢ä¸ºè¿ç»­ 2 ä¸ªåå¼å·å­ç¬¦ï¼ã\n\n> ð åèéè¯»ï¼\n> \n>  * wiki è¯æ¡ - sql æ³¨å¥æ»å»\n>  * é¿å sql æ³¨å¥\n>  * å®ä¾è®²è§£ sql æ³¨å¥æ»å»\n\n\n# dos\n\næç»æå¡æ»å»ï¼denial-of-service attack, dosï¼äº¦ç§°æ´ªæ°´æ»å»ï¼æ¯ä¸ç§ç½ç»æ»å»ææ³ï¼å¶ç®çå¨äºä½¿ç®æ çµèçç½ç»æç³»ç»èµæºèå°½ï¼ä½¿æå¡ææ¶ä¸­æ­æåæ­¢ï¼å¯¼è´å¶æ­£å¸¸ç¨æ·æ æ³è®¿é®ã\n\nå½é»å®¢ä½¿ç¨ç½ç»ä¸ä¸¤ä¸ªæä»¥ä¸è¢«æ»é·ççµèä½ä¸ºâåµå°¸âåç¹å®çç®æ åå¨âæç»æå¡âå¼æ»å»æ¶ï¼ç§°ä¸ºåå¸å¼æç»æå¡æ»å»ï¼distributed denial-of-service attackï¼ç¼©åï¼ddos attackãddosï¼ã\n\n# æ»å»æ¹å¼\n\n * å¸¦å®½æ¶èåæ»å»\n * èµæºæ¶èåæ»å»\n\n# åºå¯¹ææ®µ\n\n * é²ç«å¢ - åè®¸ææç»ç¹å®éè®¯åè®®ï¼ç«¯å£æ ip å°åãå½æ»å»ä»å°æ°ä¸æ­£å¸¸ç ip å°åååºæ¶ï¼å¯ä»¥ç®åçä½¿ç¨æç»è§åé»æ­¢ä¸åä»æ»å»æº ip ååºçéä¿¡ã\n * è·¯ç±å¨ãäº¤æ¢æº - å·æéåº¦éå¶åè®¿é®æ§å¶è½åã\n * æµéæ¸æ´ - éè¿éç¨æ dos è½¯ä»¶å¤çï¼å°æ­£å¸¸æµéåæ¶ææµéåºåå¼ã\n\n> ð åèéè¯»ï¼\n> \n>  * æç»æå¡æ»å»\n\n\n# å å¯ææ¯\n\nå¯¹äºç½ç«æ¥è¯´ï¼ç¨æ·ä¿¡æ¯ãè´¦æ·ç­ç­æææ°æ®ä¸æ¦æ³æ¼ï¼åæä¸¥éï¼æä»¥ä¸ºäºä¿æ¤æ°æ®ï¼åºå¯¹è¿äºä¿¡æ¯è¿è¡å å¯å¤çã\n\nä¿¡æ¯å å¯ææ¯ä¸è¬åä¸ºï¼\n\n * æ¶æ¯æè¦\n * å å¯ç®æ³\n   * å¯¹ç§°å å¯\n   * éå¯¹ç§°å å¯\n * è¯ä¹¦\n\n\n# æ¶æ¯æè¦\n\nå¸¸ç¨æ°å­ç­¾åç®æ³ï¼md5ãsha ç­ã\n\nåºç¨åºæ¯ï¼å°ç¨æ·å¯ç ä»¥æ¶æ¯æè¦å½¢å¼ä¿å­å°æ°æ®åºä¸­ã\n\n> ð åèéè¯»ï¼ java ç¼ç åå å¯\n\n\n# å å¯ç®æ³\n\n# å¯¹ç§°å å¯\n\nå¯¹ç§°å å¯æå å¯åè§£å¯æä½¿ç¨çå¯é¥æ¯åä¸ä¸ªå¯é¥ã\n\nå¸¸ç¨å¯¹ç§°å å¯ç®æ³ï¼desãaes ç­ã\n\nåºç¨åºæ¯ï¼cookie å å¯ãéä¿¡æºå¯ç­ã\n\n# éå¯¹ç§°å å¯\n\néå¯¹ç§°å å¯æå å¯åè§£å¯æä½¿ç¨çä¸æ¯åä¸ä¸ªå¯é¥ï¼èæ¯ä¸ä¸ªå¬ç§é¥å¯¹ãç¨å¬é¥å å¯çä¿¡æ¯å¿é¡»ç¨ç§é¥æè½è§£å¼ï¼åä¹ï¼ç¨ç§é¥å å¯çä¿¡æ¯åªæç¨å¬é¥æè½è§£å¼ã\n\nå¸¸ç¨éå¯¹ç§°å å¯ç®æ³ï¼rsa ç­ã\n\nåºç¨åºæ¯ï¼https ä¼ è¾ä¸­æµè§å¨ä½¿ç¨çæ°å­è¯ä¹¦å®è´¨ä¸æ¯ç»è¿æå¨æºæè®¤è¯çéå¯¹ç§°å å¯å¬é¥ã\n\n> ð åèéè¯»ï¼ java ç¼ç åå å¯\n\n# å¯é¥å®å¨ç®¡ç\n\nä¿è¯å¯é¥å®å¨çæ¹æ³ï¼\n\n 1. æå¯é¥åç®æ³æ¾å¨ä¸ä¸ªç¬ç«çæå¡å¨ä¸ï¼å¯¹å¤æä¾å å¯åè§£å¯æå¡ï¼åºç¨ç³»ç»éè¿è°ç¨è¿ä¸ªæå¡ï¼å®ç°æ°æ®çå è§£å¯ã\n 2. æå è§£å¯ç®æ³æ¾å¨åºç¨ç³»ç»ä¸­ï¼å¯é¥åæ¾å¨ç¬ç«æå¡å¨ä¸­ï¼ä¸ºäºæé«å¯é¥çå®å¨æ§ï¼å®éå­å¨æ¶ï¼å¯é¥è¢«ååææ°çï¼å å¯ååå«ä¿å­å¨ä¸åå­å¨ä»è´¨ä¸­ã\n\n\n# è¯ä¹¦\n\nè¯ä¹¦å¯ä»¥ç§°ä¸ºä¿¡æ¯å®å¨å å¯çç»æææ®µãå¬å¼å¯é¥è®¤è¯ï¼è±è¯­ï¼public key certificateï¼ï¼åç§°å¬å¼å¯é¥è¯ä¹¦ãå¬é¥è¯ä¹¦ãæ°å­è¯ä¹¦ï¼digital certificateï¼ãæ°å­è®¤è¯ãèº«ä»½è¯ä¹¦ï¼identity certificateï¼ãçµå­è¯ä¹¦æå®å¨è¯ä¹¦ï¼æ¯ç¨äºå¬å¼å¯é¥åºç¡å»ºè®¾ççµå­æä»¶ï¼ç¨æ¥è¯æå¬å¼å¯é¥æ¥æèçèº«ä»½ãæ­¤æä»¶åå«äºå¬é¥ä¿¡æ¯ãæ¥æèèº«ä»½ä¿¡æ¯ï¼ä¸»ä½ï¼ãä»¥åæ°å­è¯ä¹¦è®¤è¯æºæï¼åè¡èï¼å¯¹è¿ä»½æä»¶çæ°å­ç­¾åï¼ä»¥ä¿è¯è¿ä¸ªæä»¶çæ´ä½åå®¹æ­£ç¡®æ è¯¯ã\n\néè¿ä¿¡ä»»æå¨æ°å­è¯ä¹¦è®¤è¯æºæçæ ¹è¯ä¹¦ãåå¶ä½¿ç¨å¬å¼å¯é¥å å¯ä½æ°å­ç­¾åæ ¸åçå¬å¼å¯é¥è®¤è¯ï¼å½¢æä¿¡ä»»é¾æ¶æï¼å·²å¨ tls å®ç°å¹¶å¨ä¸ç»´ç½ç http ä»¥ httpsãå¨çµå­é®ä»¶ç smtp ä»¥ starttls å¼å¥å¹¶å¹¿æ³åºç¨ã\n\nä¼æå¨ç¥ï¼å¸¸è§çåºç¨å±åè®® httpãftpãtelnet æ¬èº«ä¸ä¿è¯ä¿¡æ¯å®å¨ãä½æ¯å å¥äº ssl/tls å å¯æ°æ®åæºå¶ç httpsãftpsãtelnets æ¯ä¿¡æ¯å®å¨çãä¼ è¾å±å®å¨æ§åè®®ï¼transport layer security, tlsï¼ï¼åå¶åèº«å®å¨å¥æ¥å±ï¼secure sockets layer, sslï¼æ¯ä¸ç§å®å¨åè®®ï¼ç®çæ¯ä¸ºäºèç½éä¿¡ï¼æä¾å®å¨åæ°æ®å®æ´æ§ä¿éã\n\n# è¯ä¹¦åç\n\nssl/tls åè®®çåºæ¬æè·¯æ¯éç¨å¬é¥å å¯æ³ï¼ä¹å°±æ¯è¯´ï¼å®¢æ·ç«¯ååæå¡å¨ç«¯ç´¢è¦å¬é¥ï¼ç¶åç¨å¬é¥å å¯ä¿¡æ¯ï¼æå¡å¨æ¶å°å¯æåï¼ç¨èªå·±çç§é¥è§£å¯ã\n\nè¿éæä¸¤ä¸ªé®é¢ï¼\n\nï¼1ï¼å¦ä½ä¿è¯å¬é¥ä¸è¢«ç¯¡æ¹ï¼\n\nè§£å³æ¹æ³ï¼å°å¬é¥æ¾å¨æ°å­è¯ä¹¦ä¸­ãåªè¦è¯ä¹¦æ¯å¯ä¿¡çï¼å¬é¥å°±æ¯å¯ä¿¡çã\n\nï¼2ï¼å¬é¥å å¯è®¡ç®éå¤ªå¤§ï¼å¦ä½åå°èç¨çæ¶é´ï¼\n\nè§£å³æ¹æ³ï¼æ¯ä¸æ¬¡å¯¹è¯ï¼sessionï¼ï¼å®¢æ·ç«¯åæå¡å¨ç«¯é½çæä¸ä¸ª"å¯¹è¯å¯é¥"ï¼session keyï¼ï¼ç¨å®æ¥å å¯ä¿¡æ¯ãç±äº"å¯¹è¯å¯é¥"æ¯å¯¹ç§°å å¯ï¼æä»¥è¿ç®éåº¦éå¸¸å¿«ï¼èæå¡å¨å¬é¥åªç¨äºå å¯"å¯¹è¯å¯é¥"æ¬èº«ï¼è¿æ ·å°±åå°äºå å¯è¿ç®çæ¶èæ¶é´ã\n\nssl/tls åè®®çåºæ¬è¿ç¨æ¯è¿æ ·çï¼\n\n 1. å®¢æ·ç«¯åæå¡å¨ç«¯ç´¢è¦å¹¶éªè¯å¬é¥ã\n 2. åæ¹ååçæ"å¯¹è¯å¯é¥"ã\n 3. åæ¹éç¨"å¯¹è¯å¯é¥"è¿è¡å å¯éä¿¡ã\n\n> ð åèéè¯»ï¼\n> \n>  * ä¼ è¾å±å®å¨æ§åè®®\n>  * å¬å¼å¯é¥è®¤è¯\n>  * ssl/tls åè®®è¿è¡æºå¶çæ¦è¿°\n\n\n# ä¿¡æ¯è¿æ»¤\n\nå¨ç½ç»ä¸­ï¼å¹¿åååå¾ä¿¡æ¯å±¡è§ä¸é²ï¼æ³æ»¥æç¾ã\n\nå¸¸è§çä¿¡æ¯è¿æ»¤ä¸ååå¾ææ®µæï¼\n\n\n# ææ¬å¹é\n\nè§£å³ææè¯è¿æ»¤ãç³»ç»ç»´æ¤ä¸ä»½ææè¯æ¸åï¼å¦æä¿¡æ¯ä¸­å«æææè¯ï¼åèªå¨è¿è¡è¿æ»¤ææç»ä¿¡æ¯ã\n\n\n# é»åå\n\né»ååå°±æ¯å°ä¸äºå·²ç»è¢«è¯å«åºæè¿è§è¡ä¸ºç ipãååãé®ç®±ç­å å¥é»ååï¼æç»å¶è¯·æ±ã\n\né»ååå¯ä»¥éè¿ hash è¡¨æ¥å®ç°ï¼æ¹æ³ç®åï¼å¤æåº¦å°ï¼éäºä¸è¬åºç¨åºæ¯ã\n\nä½å¦æé»åååè¡¨éå¸¸å¤§æ¶ï¼hash è¡¨è¦å ç¨å¾å¤§çåå­ç©ºé´ï¼è¿æ¶å°±ä¸åä½¿ç¨äºãè¿ç§æåµä¸ï¼å¯ä»¥ä½¿ç¨å¸éè¿æ»¤å¨æ¥å®ç°ï¼å³éè¿ä¸ä¸ªäºè¿å¶åè¡¨åä¸ç»éæºæ°æ å°å½æ°æ¥å®ç°ã\n\n\n# åç±»ç®æ³\n\nå¯¹äºæµ·éä¿¡æ¯ï¼é¾ä»¥éè¿äººå·¥å»å®¡æ ¸ãå¯¹å¹¿åè´´ã\n\nåå¾é®ä»¶ç­åå®¹çè¯å«æ¯è¾å¥½çèªå¨åæ¹æ³å°±æ¯éç¨åç±»ç®æ³ã\n\nç®åæ¥è¯´ï¼å³å°æ¹éå·²åç±»çæ ·æ¬è¾å¥åç±»ç®æ³è¿è¡è®­ç»ï¼å¾å°ä¸ä¸ªåç±»æ¨¡åï¼ç¶åå©ç¨åç±»ç®æ³ç»ååç±»æ¨¡åå»å¯¹ä¿¡æ¯è¿è¡è¯å«ãæ³äºè§£å·ä½åæ³ï¼éè¦å»çè§£æºå¨å­¦ä¹ ç¸å³ç¥è¯ã\n\n\n# é£é©æ§å¶\n\nç½ç»ç»åå¡ãéèé¢åå¸¦æ¥æå¤§ä¾¿å©çåæ¶ï¼ä¹å°é£é©å¸¦ç»äºå¯¹ç½ç»å®å¨ä¸æ æç¥çäººä»¬ãç±äºäº¤æåæ¹ä¿¡æ¯çä¸å¯¹ç­ï¼ä½¿å¾äº¤æå­å¨çé£é©ï¼èå½äº¤æåçå¨ç½ç»ä¸æ¶ï¼é£é©å°±æ´å é¾ä»¥æ§å¶äºã\n\n\n# é£é©ç§ç±»\n\n * è´¦æ·é£é© - çç¨è´¦æ·ãæ¶ææ³¨åè´¦æ·ç­\n * ä¹°å®¶é£é© - èåè¯¢çãæ¶æææ¶ãæ¶æä¸åãé»çåæ¢è´­ç­é¨ååç­\n * åå®¶é£é© - èååè´§ãåºå®è¿ç¦åãä¾µæç­\n * äº¤æé£é© - ä¿¡ç¨å¡çå·ãäº¤ææ¬ºè¯ãæ´é±ãå¥ç°ãçµä¿¡è¯éªç­\n\n\n# é£é©æ§å¶ææ®µ\n\nå¤§åçµåç½ç«ç³»ç»æéèç³»ç»é½éå¤ä¸ä¸çé£æ§å¢éè¿è¡é£é©æ§å¶ãé£é©æ§å¶ææ®µæ¢åæ¬äººå·¥å®¡æ ¸ä¹åæ¬èªå¨å®¡æ ¸ã\n\nèªå¨é£æ§çææ¯ææ®µä¸»è¦æè§åå¼æåç»è®¡æ¨¡åã\n\n\n# è§åå¼æ\n\nå¨äº¤æä¸­ï¼ä¹°å®¶ãåå®¶çæäºææ æ»¡è¶³ä¸å®æ¡ä»¶æ¶ï¼å°±ä¼è¢«è®¤ä¸ºå­å¨é£é©ãå¦ï¼äº¤æéé¢è¶è¿æä¸ªæ°å¼ï¼ç¨æ·æ¥èªé»ååï¼ç¨æ·åä¸æ¬¡ç»å½çå°åè·ç¦»å·®è·å¾å¤§ï¼ç¨æ·å¨ä¸å®æ¶é´åé¢ç¹äº¤æç­ç­ã\n\nå¦æä»¥ä¸è¿äºæ¡ä»¶é½éè¿ if ... else ... å¼æ ·çä»£ç å»å®ç°ï¼ä»£ç ç»´æ¤ãæ©å±ä¼éå¸¸ä¸ä¾¿ãå æ­¤ï¼å°±æäºè§åå¼ææ¥å¤çè¿ç±»é®é¢ãè§åå¼ææ¯ä¸ç§å°ä¸å¡è§ååè§åå¤çé»è¾ç¸åç¦»çææ¯ï¼ä¸å¡è§åç±è¿è¥äººåéè¿ç®¡ççé¢å»ç¼è¾ï¼å®ç°æ éä¿®æ¹ä»£ç ï¼å³å¯å®æ¶çä½¿ç¨æ°è§åã\n\n\n# ç»è®¡æ¨¡å\n\nè§åå¼æè½ç¶ææ¯ç®åï¼ä½æ¯éçè§åä¸æ­å¢å ï¼è§æ¨¡è¶æ¥è¶å¤§ãå¯è½ä¼åºç°è§åå²çªï¼é¾ä»¥ç»´æ¤çæåµï¼å¹¶ä¸è§åè¶å¤ï¼æ§è½ä¹è¶å·®ã\n\nä¸ºäºè§£å³è¿ç§é®é¢ï¼å°±æäºç»è®¡æ¨¡åãç»è®¡æ¨¡åä¼ä½¿ç¨åç±»ç®æ³ææ´å¤æçæºå¨å­¦ä¹ ç®æ³è¿è¡æºè½ç»è®¡ãæ ¹æ®åå²äº¤æä¸­çä¿¡æ¯è®­ç»åç±»ï¼ç¶åå°ç»è¿ééå å·¥åçäº¤æä¿¡æ¯è¾å¥åç±»ç®æ³ï¼å¾å°äº¤æé£é©å¼ï¼ç¶ååºäºæ­¤ï¼ååºé¢æµã\n\nç»è¿ååè®­ç»åçç»è®¡æ¨¡åï¼åç¡®çä¸ä½äºè§åå¼æãä½æ¯ï¼éè¦æé¢åä¸å®¶ãè¡ä¸ä¸å®¶ä»å¥ï¼å»ºç«åççè®­ç»æ¨¡åï¼å¹¶ä¸æ­ä¼åã\n\n\n# åèèµæ\n\n * ãå¤§åç½ç«ææ¯æ¶æï¼æ ¸å¿åçä¸æ¡ä¾åæã\n * wiki è¯æ¡ - è·¨ç«èæ¬\n * web å®å¨æµè¯ä¹ xss\n * wiki è¯æ¡ - è·¨ç«è¯·æ±ä¼ªé \n * æµè° csrf æ»å»æ¹å¼\n * ãæ¯æ¥ä¸é¢ãcsrf æ¯ä»ä¹ï¼ãæ¯æ¥ä¸é¢ãcsrf æ¯ä»ä¹ï¼\n * web å®å¨ä¹-csrfï¼è·¨ç«è¯·æ±ä¼ªé ï¼\n * wiki è¯æ¡ - sql æ³¨å¥æ»å»\n * é¿å sql æ³¨å¥\n * å®ä¾è®²è§£ sql æ³¨å¥æ»å»\n * æç»æå¡æ»å»\n * ä¼ è¾å±å®å¨æ§åè®®\n * å¬å¼å¯é¥è®¤è¯\n * ssl/tls åè®®è¿è¡æºå¶çæ¦è¿°\n * http://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html\n * cas å®ç° sso åç¹ç»å½åç\n * æéç³»ç»è®¾è®¡æ¨¡ååæï¼dacï¼macï¼rbacï¼abacï¼\n * rbac æ¨¡åï¼åºäºç¨æ·-è§è²-æéæ§å¶çä¸äºæè',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"ç³»ç»æ¶ææ¦è¿°",frontmatter:{title:"ç³»ç»æ¶ææ¦è¿°",date:"2018-07-05T15:11:00.000Z",categories:["è®¾è®¡","æ¶æ","ç»¼å"],tags:["æ¶æ"],permalink:"/pages/db2390/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/01.%E6%9E%B6%E6%9E%84/00.%E7%BB%BC%E5%90%88/02.%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E6%A6%82%E8%BF%B0.html",relativePath:"03.è®¾è®¡/01.æ¶æ/00.ç»¼å/02.ç³»ç»æ¶ææ¦è¿°.md",key:"v-1057bb3a",path:"/pages/db2390/",headers:[{level:2,title:"å¤§åç³»ç»æ¶ææ¼å",slug:"å¤§åç³»ç»æ¶ææ¼å",normalizedTitle:"å¤§åç³»ç»æ¶ææ¼å",charIndex:13},{level:3,title:"åæºæ¶æ",slug:"åæºæ¶æ",normalizedTitle:"åæºæ¶æ",charIndex:250},{level:3,title:"åºç¨æå¡åæ°æ®æå¡åç¦»",slug:"åºç¨æå¡åæ°æ®æå¡åç¦»",normalizedTitle:"åºç¨æå¡åæ°æ®æå¡åç¦»",charIndex:432},{level:3,title:"ä½¿ç¨ç¼å­æ¹åæ§è½",slug:"ä½¿ç¨ç¼å­æ¹åæ§è½",normalizedTitle:"ä½¿ç¨ç¼å­æ¹åæ§è½",charIndex:666},{level:3,title:"è´è½½åè¡¡",slug:"è´è½½åè¡¡",normalizedTitle:"è´è½½åè¡¡",charIndex:931},{level:3,title:"æ°æ®åºè¯»ååç¦»",slug:"æ°æ®åºè¯»ååç¦»",normalizedTitle:"æ°æ®åºè¯»ååç¦»",charIndex:1128},{level:3,title:"å¤çº§ç¼å­",slug:"å¤çº§ç¼å­",normalizedTitle:"å¤çº§ç¼å­",charIndex:1481},{level:3,title:"ä¸å¡æå",slug:"ä¸å¡æå",normalizedTitle:"ä¸å¡æå",charIndex:1733},{level:3,title:"ååºåè¡¨",slug:"ååºåè¡¨",normalizedTitle:"ååºåè¡¨",charIndex:2082},{level:3,title:"åå¸å¼ç»ä»¶",slug:"åå¸å¼ç»ä»¶",normalizedTitle:"åå¸å¼ç»ä»¶",charIndex:2256},{level:3,title:"å¾®æå¡",slug:"å¾®æå¡",normalizedTitle:"å¾®æå¡",charIndex:2409},{level:2,title:"æ¶æè®¾è®¡çèé",slug:"æ¶æè®¾è®¡çèé",normalizedTitle:"æ¶æè®¾è®¡çèé",charIndex:2641},{level:3,title:"ä»ä¹æ¯æ¶æ",slug:"ä»ä¹æ¯æ¶æ",normalizedTitle:"ä»ä¹æ¯æ¶æ",charIndex:2709},{level:3,title:"æ¶æè®¾è®¡çç®æ ",slug:"æ¶æè®¾è®¡çç®æ ",normalizedTitle:"æ¶æè®¾è®¡çç®æ ",charIndex:2876},{level:3,title:"æ¶æè®¾è®¡çåå",slug:"æ¶æè®¾è®¡çåå",normalizedTitle:"æ¶æè®¾è®¡çåå",charIndex:3319},{level:4,title:"åéåå",slug:"åéåå",normalizedTitle:"åéåå",charIndex:3356},{level:4,title:"ç®ååå",slug:"ç®ååå",normalizedTitle:"ç®ååå",charIndex:3459},{level:4,title:"æ¼ååå",slug:"æ¼ååå",normalizedTitle:"æ¼ååå",charIndex:3499},{level:4,title:"å¢¨è²å®å¾",slug:"å¢¨è²å®å¾",normalizedTitle:"å¢¨è²å®å¾",charIndex:3541},{level:4,title:"åº·å¨å®å¾",slug:"åº·å¨å®å¾",normalizedTitle:"åº·å¨å®å¾",charIndex:3630},{level:4,title:"äºå«å®å¾",slug:"äºå«å®å¾",normalizedTitle:"äºå«å®å¾",charIndex:727},{level:3,title:"é«æ§è½",slug:"é«æ§è½",normalizedTitle:"é«æ§è½",charIndex:3002},{level:4,title:"æ§è½ææ ",slug:"æ§è½ææ ",normalizedTitle:"æ§è½ææ ",charIndex:3782},{level:4,title:"æ§è½æåææ®µ",slug:"æ§è½æåææ®µ",normalizedTitle:"æ§è½æåææ®µ",charIndex:3970},{level:3,title:"é«å¯ç¨",slug:"é«å¯ç¨",normalizedTitle:"é«å¯ç¨",charIndex:3006},{level:4,title:"æ ç¶æåºç¨çé«å¯ç¨",slug:"æ ç¶æåºç¨çé«å¯ç¨",normalizedTitle:"æ ç¶æåºç¨çé«å¯ç¨",charIndex:4532},{level:4,title:"æç¶æåºç¨çé«å¯ç¨",slug:"æç¶æåºç¨çé«å¯ç¨",normalizedTitle:"æç¶æåºç¨çé«å¯ç¨",charIndex:4826},{level:4,title:"é«å¯ç¨ææ®µ",slug:"é«å¯ç¨ææ®µ",normalizedTitle:"é«å¯ç¨ææ®µ",charIndex:5006},{level:3,title:"æ©å±æ§",slug:"æ©å±æ§",normalizedTitle:"æ©å±æ§",charIndex:3749},{level:3,title:"ä¼¸ç¼©æ§",slug:"ä¼¸ç¼©æ§",normalizedTitle:"ä¼¸ç¼©æ§",charIndex:3753},{level:3,title:"å®å¨æ§",slug:"å®å¨æ§",normalizedTitle:"å®å¨æ§",charIndex:6973},{level:2,title:"å¸¸è§æ¶ææ¨¡å",slug:"å¸¸è§æ¶ææ¨¡å",normalizedTitle:"å¸¸è§æ¶ææ¨¡å",charIndex:7205},{level:3,title:"åå±æ¶æ",slug:"åå±æ¶æ",normalizedTitle:"åå±æ¶æ",charIndex:5832},{level:3,title:"äºä»¶é©±å¨æ¶æ",slug:"äºä»¶é©±å¨æ¶æ",normalizedTitle:"äºä»¶é©±å¨æ¶æ",charIndex:7700},{level:3,title:"å¾®æ ¸æ¶æ",slug:"å¾®æ ¸æ¶æ",normalizedTitle:"å¾®æ ¸æ¶æ",charIndex:8217},{level:3,title:"å¾®æå¡æ¶æ",slug:"å¾®æå¡æ¶æ",normalizedTitle:"å¾®æå¡æ¶æ",charIndex:8592},{level:3,title:"äºæ¶æ",slug:"äºæ¶æ",normalizedTitle:"äºæ¶æ",charIndex:9292},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:10014}],headersStr:"å¤§åç³»ç»æ¶ææ¼å åæºæ¶æ åºç¨æå¡åæ°æ®æå¡åç¦» ä½¿ç¨ç¼å­æ¹åæ§è½ è´è½½åè¡¡ æ°æ®åºè¯»ååç¦» å¤çº§ç¼å­ ä¸å¡æå ååºåè¡¨ åå¸å¼ç»ä»¶ å¾®æå¡ æ¶æè®¾è®¡çèé ä»ä¹æ¯æ¶æ æ¶æè®¾è®¡çç®æ  æ¶æè®¾è®¡çåå åéåå ç®ååå æ¼ååå å¢¨è²å®å¾ åº·å¨å®å¾ äºå«å®å¾ é«æ§è½ æ§è½ææ  æ§è½æåææ®µ é«å¯ç¨ æ ç¶æåºç¨çé«å¯ç¨ æç¶æåºç¨çé«å¯ç¨ é«å¯ç¨ææ®µ æ©å±æ§ ä¼¸ç¼©æ§ å®å¨æ§ å¸¸è§æ¶ææ¨¡å åå±æ¶æ äºä»¶é©±å¨æ¶æ å¾®æ ¸æ¶æ å¾®æå¡æ¶æ äºæ¶æ åèèµæ",content:'# ç³»ç»æ¶ææ¦è¿°\n\n\n# å¤§åç³»ç»æ¶ææ¼å\n\nä¸ä¸ªå¤§åç³»ç»çæ¶ææ¯ä¸ä¸ªæ¸è¿çæ¼åè¿ç¨ãç½é©¬ä¸æ¯ä¸å¤©å»ºæçï¼åçï¼å¾®ä¿¡ãæ·å®ç­å¤§åç³»ç»ç»ä¸æ¯ä¸è¹´èå°±çãéçä¸å¡çä¸æ­åå±ï¼ç¨æ·ä½éçå¢å ï¼ç³»ç»çå¤æåº¦å¿å¿ä¸æ­æåï¼æç»è¿«ä½¿ç³»ç»æ¶æè¿åï¼ä»¥åºå¯¹ææã\n\näºè§£å¤§åç³»ç»æ¶æçæ¼åè¿ç¨ï¼æå©äºæä»¬äºè§£æ¶æè¿åçåå±è§å¾åä¸çä¸äºæççåºå¯¹æ¹æ¡ãå¸®å©æä»¬å¨å®éå·¥ä½ä¸­ï¼å¦ä½å»æèæ¶æï¼å¦ä½å»åç»è§£å³æ¹æ¡ã\n\nå¤§åç³»ç»æ¶ææ¼åæ¯è¾å·æä»£è¡¨æ§çå°±æ¯å¤§åç½ç«çæ¼åè¿ç¨ãè¿éä»ç»ä¸ä¸å¤§åç½ç«æ¼åçä¸è¬è§å¾ã\n\n\n# åæºæ¶æ\n\n * é®é¢ï¼ç½ç«è¿è¥åæï¼è®¿é®ç¨æ·å°ï¼ä¸å°æå¡å¨ç»°ç»°æä½ã\n * ç¹å¾ï¼åºç¨ç¨åºãæ°æ®åºãæä»¶ç­ææçèµæºé½å¨ä¸å°æå¡å¨ä¸ã\n * æè¿°ï¼éå¸¸æå¡å¨æä½ç³»ç»ä½¿ç¨ linuxï¼åºç¨ç¨åºä½¿ç¨ PHP å¼åï¼ç¶åé¨ç½²å¨ Apache ä¸ï¼æ°æ®åºä½¿ç¨ Mysqlï¼éä¿ç§°ä¸º LAMPãæ±éåç§åè´¹å¼æºè½¯ä»¶ä»¥åä¸å°å»ä»·æå¡å¨å°±å¯ä»¥å¼å§ç³»ç»çåå±ä¹è·¯äºã\n\n\n# åºç¨æå¡åæ°æ®æå¡åç¦»\n\n * é®é¢ï¼è¶æ¥è¶å¤çç¨æ·è®¿é®å¯¼è´æ§è½è¶æ¥è¶å·®ï¼è¶æ¥è¶å¤çæ°æ®å¯¼è´å­å¨ç©ºé´ä¸è¶³ï¼ä¸å°æå¡å¨å·²ä¸è¶³ä»¥æ¯æã\n * ç¹å¾ï¼åºç¨æå¡å¨ãæ°æ®åºæå¡å¨ãæä»¶æå¡å¨åå«ç¬ç«é¨ç½²ã\n * æè¿°ï¼ä¸å°æå¡å¨å¯¹æ§è½è¦æ±åä¸ç¸åï¼\n   * åºç¨æå¡å¨è¦å¤çå¤§éä¸å¡é»è¾ï¼å æ­¤éè¦æ´å¿«æ´å¼ºå¤§ç CPUï¼\n   * æ°æ®åºæå¡å¨éè¦å¿«éç£çæ£ç´¢åæ°æ®ç¼å­ï¼å æ­¤éè¦æ´å¿«çç¡¬çåæ´å¤§çåå­ï¼\n   * æä»¶æå¡å¨éè¦å­å¨å¤§éæä»¶ï¼å æ­¤éè¦æ´å¤§å®¹éçç¡¬çã\n\n\n# ä½¿ç¨ç¼å­æ¹åæ§è½\n\n * é®é¢ï¼éçç¨æ·éæ¸å¢å¤ï¼æ°æ®åºååå¤ªå¤§å¯¼è´è®¿é®å»¶è¿ã\n * ç¹å¾ï¼ç±äºç½ç«è®¿é®åè´¢å¯åéä¸æ ·éµå¾ªäºå«å®å¾ï¼80% çä¸å¡è®¿é®éä¸­å¨ 20% çæ°æ®ä¸ãå°æ°æ®åºä¸­è®¿é®è¾éä¸­çå°é¨åæ°æ®ç¼å­å¨åå­ä¸­ï¼å¯ä»¥åå°æ°æ®åºçè®¿é®æ¬¡æ°ï¼éä½æ°æ®åºçè®¿é®ååã\n * æè¿°ï¼ç¼å­åä¸ºä¸¤ç§ï¼åºç¨æå¡å¨ä¸çæ¬å°ç¼å­ååå¸å¼ç¼å­æå¡å¨ä¸çè¿ç¨ç¼å­ã\n   * æ¬å°ç¼å­è®¿é®éåº¦æ´å¿«ï¼ä½ç¼å­æ°æ®éæéï¼åæ¶å­å¨ä¸åºç¨ç¨åºäºç¨åå­çæåµã\n   * åå¸å¼ç¼å­å¯ä»¥éç¨éç¾¤æ¹å¼ï¼çè®ºä¸å¯ä»¥åå°ä¸ååå­å®¹ééå¶çç¼å­æå¡ã\n\n\n# è´è½½åè¡¡\n\n * é®é¢ï¼ä½¿ç¨ç¼å­åï¼æ°æ®åºè®¿é®ååå¾å°ææç¼è§£ãä½æ¯åä¸åºç¨æå¡å¨è½å¤å¤ççè¯·æ±è¿æ¥æéï¼å¨è®¿é®é«å³°æï¼æä¸ºç¶é¢ã\n * ç¹å¾ï¼å¤å°æå¡å¨éè¿è´è½½åè¡¡åæ¶åå¤é¨æä¾æå¡ï¼è§£å³åä¸æå¡å¨å¤çè½ååå­å¨ç©ºé´ä¸è¶³çé®é¢ã\n * æè¿°ï¼ä½¿ç¨éç¾¤æ¯ç³»ç»è§£å³é«å¹¶åãæµ·éæ°æ®é®é¢çå¸¸ç¨ææ®µãéè¿åéç¾¤ä¸­è¿½å èµæºï¼æåç³»ç»çå¹¶åå¤çè½åï¼ä½¿å¾æå¡å¨çè´è½½ååä¸åæä¸ºæ´ä¸ªç³»ç»çç¶é¢ã\n\n\n# æ°æ®åºè¯»ååç¦»\n\n * é®é¢ï¼ç½ç«ä½¿ç¨ç¼å­åï¼ä½¿ç»å¤§é¨åæ°æ®è¯»æä½è®¿é®é½å¯ä»¥ä¸éè¿æ°æ®åºå°±è½å®æï¼ä½æ¯ä»æä¸é¨åè¯»æä½åå¨é¨çåæä½éè¦è®¿é®æ°æ®åºï¼å¨ç½ç«çç¨æ·è¾¾å°ä¸å®è§æ¨¡åï¼æ°æ®åºå ä¸ºè´è½½ååè¿é«èæä¸ºç½ç«çç¶é¢ã\n * ç¹å¾ï¼ç®åå¤§é¨åçä¸»æµæ°æ®åºé½æä¾ä¸»ä»ç­å¤åè½ï¼éè¿éç½®ä¸¤å°æ°æ®åºä¸»ä»å³ç³»ï¼å¯ä»¥å°ä¸å°æ°æ®åºæå¡å¨çæ°æ®æ´æ°åæ­¥å°ä¸å°æå¡å¨ä¸ãç½ç«å©ç¨æ°æ®åºçä¸»ä»ç­å¤åè½ï¼å®ç°æ°æ®åºè¯»ååç¦»ï¼ä»èæ¹åæ°æ®åºè´è½½ååã\n * æè¿°ï¼åºç¨æå¡å¨å¨åæä½çæ¶åï¼è®¿é®ä¸»æ°æ®åºï¼ä¸»æ°æ®åºéè¿ä¸»ä»å¤å¶æºå¶å°æ°æ®æ´æ°åæ­¥å°ä»æ°æ®åºãè¿æ ·å½åºç¨æå¡å¨å¨è¯»æä½çæ¶åï¼è®¿é®ä»æ°æ®åºè·å¾æ°æ®ãä¸ºäºä¾¿äºåºç¨ç¨åºè®¿é®è¯»ååç¦»åçæ°æ®åºï¼éå¸¸å¨åºç¨æå¡å¨ç«¯ä½¿ç¨ä¸é¨çæ°æ®è®¿é®æ¨¡åï¼ä½¿æ°æ®åºè¯»ååç¦»çå¯¹åºç¨éæã\n\n\n# å¤çº§ç¼å­\n\n * é®é¢ï¼ä¸­å½ç½ç»ç¯å¢å¤æï¼ä¸åå°åºçç¨æ·è®¿é®ç½ç«æ¶ï¼éåº¦å·®å«ä¹æå¤§ã\n * ç¹å¾ï¼éç¨ CDN åååä»£çå å¿«ç³»ç»çéæèµæºè®¿é®éåº¦ã\n * æè¿°ï¼CDN åååä»£ççåºæ¬åçé½æ¯ç¼å­ï¼åºå«å¨äºï¼\n   * CDN é¨ç½²å¨ç½ç»æä¾åçæºæ¿ï¼ä½¿ç¨æ·å¨è¯·æ±ç½ç«æå¡æ¶ï¼å¯ä»¥ä»è·ç¦»èªå·±æè¿çç½ç»æä¾åæºæ¿è·åæ°æ®ï¼\n   * èååä»£çåé¨ç½²å¨ç½ç«çä¸­å¿æºæ¿ï¼å½ç¨æ·è¯·æ±å°è¾¾ä¸­å¿æºæ¿åï¼é¦åè®¿é®çæå¡å¨æ¶ååä»£çæå¡å¨ï¼å¦æååä»£çæå¡å¨ä¸­ç¼å­çç¨æ·è¯·æ±çèµæºï¼å°±å°å¶ç´æ¥è¿åç»ç¨æ·ã\n\n\n# ä¸å¡æå\n\n * é®é¢ï¼å¤§åç½ç«çä¸å¡åºæ¯æ¥çå¤æï¼åä¸ºå¤ä¸ªäº§åçº¿ã\n * ç¹å¾ï¼éç¨åèæ²»ä¹çææ®µå°æ´ä¸ªç½ç«ä¸å¡åæä¸åçäº§åçº¿ãç³»ç»ä¸æç§ä¸å¡è¿è¡æåæ¹é ï¼åºç¨æå¡å¨æç§ä¸å¡åºåè¿è¡åå«é¨ç½²ã\n * æè¿°ï¼åºç¨ä¹é´å¯ä»¥éè¿è¶é¾æ¥å»ºç«å³ç³»ï¼ä¹å¯ä»¥éè¿æ¶æ¯éåè¿è¡æ°æ®ååï¼å½ç¶æ´å¤çè¿æ¯éè¿è®¿é®åä¸ä¸ªæ°æ®å­å¨ç³»ç»æ¥ææä¸ä¸ªå³èçå®æ´ç³»ç»ã\n   * çºµåæåï¼å°ä¸ä¸ªå¤§åºç¨æåä¸ºå¤ä¸ªå°åºç¨ï¼å¦ææ°ä¸å¡è¾ä¸ºç¬ç«ï¼é£ä¹å°±ç´æ¥å°å¶è®¾è®¡é¨ç½²ä¸ºä¸ä¸ªç¬ç«ç Web åºç¨ç³»ç»ãçºµåæåç¸å¯¹è¾ä¸ºç®åï¼éè¿æ¢³çä¸å¡ï¼å°è¾å°ç¸å³çä¸å¡å¥ç¦»å³å¯ã\n   * æ¨ªåæåï¼å°å¤ç¨çä¸å¡æååºæ¥ï¼ç¬ç«é¨ç½²ä¸ºåå¸å¼æå¡ï¼æ°å¢ä¸å¡åªéè¦è°ç¨è¿äºåå¸å¼æå¡æ¨ªåæåéè¦è¯å«å¯å¤ç¨çä¸å¡ï¼è®¾è®¡æå¡æ¥å£ï¼è§èæå¡ä¾èµå³ç³»ã\n\n\n# ååºåè¡¨\n\n * é®é¢ï¼éçå¤§åç½ç«ä¸å¡æç»­å¢é¿ï¼æ°æ®åºç»è¿è¯»ååç¦»ï¼ä»ä¸å°æå¡å¨æåä¸ºä¸¤å°æå¡å¨ï¼ä¾ç¶ä¸è½æ»¡è¶³éæ±ã\n * ç¹å¾ï¼æ°æ®åºéç¨åå¸å¼æ°æ®åºã\n * æè¿°ï¼åå¸å¼æ°æ®åºæ¯æ°æ®åºæåçæåæ¹æ³ï¼åªæå¨åè¡¨æ°æ®è§æ¨¡éå¸¸åºå¤§çæ¶åæä½¿ç¨ãä¸å°ä¸å¾å·²æ¶ï¼æ´å¸¸ç¨çæ°æ®åºæåææ®µæ¯ä¸å¡ååºï¼å°ä¸åçä¸å¡æ°æ®åºé¨ç½²å¨ä¸åçç©çæå¡å¨ä¸ã\n\n\n# åå¸å¼ç»ä»¶\n\n * é®é¢ï¼éçç½ç«ä¸å¡è¶æ¥è¶å¤æï¼å¯¹æ°æ®å­å¨åæ£ç´¢çéæ±ä¹è¶æ¥è¶å¤æã\n * ç¹å¾ï¼ç³»ç»å¼å¥ NoSQL æ°æ®åºåæç´¢å¼æã\n * æè¿°ï¼NoSQL æ°æ®åºåæç´¢å¼æå¯¹å¯ä¼¸ç¼©çåå¸å¼ç¹æ§å·ææ´å¥½çæ¯æãåºç¨æå¡å¨éè¿ç»ä¸æ°æ®è®¿é®æ¨¡åè®¿é®åç§æ°æ®ï¼åè½»åºç¨ç¨åºç®¡çè¯¸å¤æ°æ®æºçéº»ç¦ã\n\n\n# å¾®æå¡\n\n * é®é¢ï¼éçä¸å¡è¶æè¶å°ï¼å­å¨ç³»ç»è¶æ¥è¶åºå¤§ï¼åºç¨ç³»ç»æ´ä½å¤æç¨åº¦åææ°çº§ä¸åï¼é¨ç½²ç»´æ¤è¶æ¥è¶å°é¾ãç±äºææåºç¨è¦åæææ°æ®åºç³»ç»è¿æ¥ï¼æç»å¯¼è´æ°æ®åºè¿æ¥èµæºä¸è¶³ï¼æç»æå¡ã\n * ç¹å¾ï¼å¬å±ä¸å¡æååºæ¥ï¼ç¬ç«é¨ç½²ãç±è¿äºå¯å¤ç¨çä¸å¡è¿æ¥æ°æ®åºï¼éè¿åå¸å¼æå¡æä¾å±ç¨ä¸å¡æå¡ã\n * æè¿°ï¼å¤§åç½ç«çæ¶ææ¼åå°è¿éï¼åºæ¬ä¸å¤§å¤æ°çææ¯é®é¢é½å¾ä»¥è§£å³ï¼è¯¸å¦è·¨æ°æ®ä¸­å¿çå®æ¶æ°æ®åæ­¥åå·ä½ç½ç«ä¸å¡ç¸å³çé®é¢ä¹é½å¯ä»¥ç»åæ¹è¿ç°æææ¯æ¶ææ¥è§£å³ã\n\n\n# æ¶æè®¾è®¡çèé\n\n> æ¯ä¸ä¸ªæ¨¡å¼æè¿°äºä¸ä¸ªä¸ä½éå¤åççé®é¢åè¯¥é®é¢è§£å³æ¹æ¡çæ ¸å¿ãè¿æ ·ï¼å°±å¯ä»¥ä¸æ­å¤ç¨è¯¥æ¹æ¡èåå°éå¤å·¥ä½ã\n\n\n# ä»ä¹æ¯æ¶æ\n\næ¶ææ¯ä¸ä¸ªéå¸¸æ½è±¡çæ¦å¿µï¼æ¯ä¸ªäººç±äºææ¯çæ·±åº¦ãæç»´çè§è§ç­å·®å¼ï¼å¯¹äºæ¶æççè§£ï¼åä¸ç¸åã\n\nè¿éææç½ä¸ææ®µæ¯è¾ç²¾é«çå®ä¹ï¼\n\n * æ¶ææ¯è½¯ä»¶ç³»ç»çé¡¶å±è®¾è®¡ã\n * æ¡æ¶æ¯é¢åç¼ç¨æéç½®çåæåã\n * ç»ä»¶æ¯ä»ææ¯ç»´åº¦ä¸çå¤ç¨ã\n * æ¨¡åæ¯ä»ä¸å¡ç»´åº¦ä¸èè´£çååã\n * ç³»ç»æ¯ç¸äºååå¯è¿è¡çå®ä½ã\n\n\n# æ¶æè®¾è®¡çç®æ \n\næ¶æè®¾è®¡çä¸»è¦ç®çæ¯ä¸ºäºè§£å³è½¯ä»¶ç³»ç»å¤æåº¦å¸¦æ¥çé®é¢ã\n\næ¶æè®¾è®¡åºè¯¥æéè®¾è®¡ãä»»ä½ç½ç«é½æ¯éçä¸å¡éæ­¥åå±ï¼ä¸æ­æ¼åèæï¼ä¸è¦ææä¸å³æ°¸é¸ã\n\nå³äºæ¶æè®¾è®¡çç®çï¼å¸¸è§çè¯¯åºæï¼\n\n * å ä¸ºæ¶æå¾éè¦ï¼æä»¥è¦åæ¶æè®¾è®¡\n * ä¸ºäºé«æ§è½ãé«å¯ç¨ãå¯æ©å±ï¼æä»¥è¦åæ¶æè®¾è®¡\n * å¤§åé½æ¯è¿ä¹åçï¼æä»¥æä»¬ä¹è¿ä¹å\n * è¿ç§æ°ææ¯å¾çé¼ï¼æä»¬ä¹ä¸å®è¦å¼å¥\n\næ¶æçååï¼\n\n * æ¶æè®¾è®¡åºè¯¥æéè®¾è®¡ãä»»ä½ç½ç«é½æ¯éçä¸å¡éæ­¥åå±ï¼ä¸æ­æ¼åèæï¼ä¸è¦ææä¸å³æ°¸é¸ã\n * é©±å¨ææ¯åå±çä¸»è¦åéæ¯ä¸å¡åå±ã\n * ä¸è¦ç²ç®è·é£å¤§å¬å¸çè§£å³æ¹æ¡ã\n * ä¸è¦ç²ç®è¿½æ±æµè¡ææ¯ï¼èè±ç¦»äºä¸å¡åå±çå®éæåµã\n * ä¸è¦æææé®é¢é½ä¸¢ç»ææ¯ãç°å®ä¸­ï¼æå¾å¤æ¡ä¾åè¯æä»¬ï¼å¾å¤é®é¢ä¸ä¸å®éè¦éè¿ææ¯æ¥è§£å³ãå½æ ¹ç»åºï¼ææ¯å§ç»é½æ¯ä¸å¡çè¾å©ï¼ä¸å¡é®é¢ç©¶ç«æ¯éè¿ææ¯æ¥è§£å³è¿æ¯ç´æ¥éè¿ä¸å¡æ¥è§£å³ï¼éè¦æ ¹æ®å®éæåµå»åæå¤æ­ãè¿å°±éè¦å¯¹ä¸å¡é¢åææ¯è¾æ·±å¥ççè§£åæèã\n\n\n# æ¶æè®¾è®¡çåå\n\n> åéä¼äºåè¿>æ¼åä¼äºä¸æ­¥å°ä½>ç®åä¼äºå¤æ\n\n# åéåå\n\næ²¡é£ä¹å¤äººï¼å´æ³å¹²é£ä¹å¤æ´»ï¼æ¯å¤±è´¥çç¬¬ä¸ä¸ªä¸»è¦åå ã\n\næ²¡æé£ä¹å¤ç§¯ç´¯ï¼å´æ³ä¸æ­¥ç»å¤©ï¼æ¯å¤±è´¥çç¬¬äºä¸ªä¸»è¦åå ã\n\næ²¡æé£ä¹åè¶çä¸å¡åºæ¯ï¼å´å¹»æ³çµåä¸éªæä¸ºå¤©æï¼æ¯å¤±è´¥çç¬¬ä¸ä¸ªä¸»è¦åå ã\n\n# ç®ååå\n\nåé«å¤§ä¸çè§£å³æ¹æ¡å¦æä¸è½è½å°ï¼ä¹æ¯ç½æ¯ã\n\næä»¥ï¼åºå¯¹éæ±\n\n# æ¼ååå\n\næ¼åä¼äºä¸æ­¥å°ä½ã\n\nä¸è¦å¦å¾è®¾è®¡ä¸ä¸ªä¸æ­¥å°ä½ï¼æ°¸ä¹ä¸åçæ¶æã\n\n# å¢¨è²å®å¾\n\n * ä»»ä½äºé½æ²¡æè¡¨é¢çèµ·æ¥é£ä¹ç®åï¼\n * ææçäºé½ä¼æ¯ä½ é¢è®¡çæ¶é´é¿ï¼\n * ä¼åºéçäºæ»ä¼åºéï¼\n * å¦æä½ æå¿æç§æåµåçï¼é£ä¹å®å°±æ´æå¯è½åçã\n\n# åº·å¨å®å¾\n\nç³»ç»è®¾è®¡(äº§åç»æ)ç­åç»ç»å½¢å¼ï¼æ¯ä¸ªè®¾è®¡ç³»ç»çç»ç»ï¼å¶äº§ççè®¾è®¡ç­åäºç»ç»ä¹é´çæ²éç»æï¼ç®åç¹è¯´å°±æ¯ï¼ç³»ç»çè®¾è®¡åéäºè®¾è®¡ç³»ç»çç»ç»çäººåæ¶æå½¢å¼ã\n\n# äºå«å®å¾\n\n\n# é«æ§è½\n\n> æ§è½æ¯è½¯ä»¶ç³»ç»çéè¦è¡¡éæ åãå¾å¤æ©å±æ§ãä¼¸ç¼©æ§ãå¯ç¨æ§çé®é¢ï¼æ¯ä¸ºäºè§£å³æ§è½é®é¢èå¼å¥çã\n\n# æ§è½ææ \n\nååºå»¶æ¶ãå¹¶åå¤çè½åãåå­ãCPUãIO å¼éç­é½å¯ä»¥è§ä¸ºç³»ç»çæ§è½ææ ã\n\nåæç¨æ·ä½éãæ¥è®¿é®éçå³°å¼ï¼ä¼°ç®åºä¸ºäºå¹³ç¨³åºå¯¹å³°å¼è®¿é®æµéæéçå¹¶åéãååéãå¦ææ¯åºç¨åç³»ç»ï¼æ§è½å¤ç¨å°±å¥½ï¼æ²¡å¿è¦ä¸å³è¿½æ±é«æ§è½ãæ¯å¦ï¼ç¨æ·ä½éå¯è½è¿ä¸è¿ä¸ï¼ä¸å¤©æ»è®¿é®éå¯è½ä¹å°±ä¸ä¸¤å PVï¼å³°å¼ä¹å°±å ç¾ QPSï¼è¿æ ·çç³»ç»å¦æè¦èèæ¯ç§å ä¸ç QPSï¼æ¾ç¶æäºå¤èäºã\n\n# æ§è½æåææ®µ\n\nå¸¸è§çæ§è½æåææ®µæï¼\n\n * åç«¯\n   * æµè§å¨ç¼å­\n   * éæèµæºåç¼©\n   * åçå¸å±é¡µé¢\n   * åå° cookie ä¼ è¾\n   * CDN\n * åºç¨æå¡\n   * è´è½½åè¡¡åååä»£ç\n   * æ¬å°ç¼å­\n   * åå¸å¼ç¼å­\n   * å¼æ­¥æ¶æ¯éå\n   * éç¾¤\n   * ä»£ç å±é¢ï¼ä½¿ç¨å¤çº¿ç¨ãæ¹ååå­ç®¡ç\n * æ°æ®åº\n   * ç´¢å¼\n   * æ°æ®åºç¼å­\n   * SQL ä¼å\n\n> æ³¨æï¼ç¼å­æ¯æ¹åè½¯ä»¶æ§è½çç¬¬ä¸ææ®µãç¼å­é¤äºå¯ä»¥å å¿«æ°æ®è®¿é®éåº¦ä»¥å¤ï¼è¿å¯ä»¥åè½»åç«¯åºç¨åæ°æ®å­å¨çè´è½½ååãæä»¥ï¼å¦æè¦æåç³»ç»æ§è½ï¼åºè¯¥ç¬¬ä¸æ¶é´æ³å°ç¼å­ã\n> \n> ä½¿ç¨ç¼å­æä¸¤ä¸ªåæï¼\n> \n>  * æ°æ®è®¿é®ç­ç¹ä¸ååï¼é¢ç¹è®¿é®çæ°æ®åºè¯¥æ¾å¨ç¼å­ä¸­ã\n>  * æ°æ®å¨æä¸ªæ¶é´æ®µææï¼ä¸ä¼å¾å¿«è¿æï¼å¦åç¼å­æ°æ®ä¼å å·²ç»å¤±æèäº§çèè¯»ã\n\n\n# é«å¯ç¨\n\n> ç³»ç»æ ä¸­æ­å°æ§è¡å¶åè½çè½åï¼ä»£è¡¨ç³»ç»çå¯ç¨æ§ç¨åº¦ï¼æ¯è¿è¡ç³»ç»è®¾è®¡æ¶çååä¹ä¸ã\n\né«æ§è½å¢å æºå¨ç®çå¨äºâæ©å±âå¤çæ§è½ï¼é«å¯ç¨å¢å æºå¨ç®çå¨äºâåä½âå¤çååã\n\nåç¹ç³»ç»ï¼æ¯æ æ³ä¿è¯é«å¯ç¨çãç³»ç»èªèº«æéãæ­çµãç¡¬ä»¶æéãç½ç»ç­ç­ï¼é½å¯è½å¯¼è´æå¡ä¸å¯ç¨ãé«å¯ç¨æ¹æ¡äºè±å«é¨ï¼æ¬è´¨ä¸é½æ¯éè¿âåä½âæ¥å®ç°é«å¯ç¨ã\n\n# æ ç¶æåºç¨çé«å¯ç¨\n\næ ç¶æåºç¨ä¸è¬å·æå¹ç­æ§ï¼å³**æ è®ºå¨åªå°æºå¨ä¸è¿è¡è®¡ç®ï¼åæ ·çç®æ³åè¾å¥æ°æ®ï¼äº§åºçç»æé½æ¯ä¸æ ·çã**æä»¥ï¼è®¡ç®å¨ä»»æèç¹æå¡å¨ä¸æ§è¡ï¼ç»æé½ä¸æ ·ã\n\næ ç¶æåºç¨çé«å¯ç¨ï¼\n\n * éè¦å¢å ä¸ä¸ªä»»å¡åéå¨ï¼éæ©åéçä»»å¡åéå¨ä¹æ¯ä¸ä»¶å¤æçäºæï¼éè¦ç»¼åèèæ§è½ãææ¬ãå¯ç»´æ¤æ§ãå¯ç¨æ§ç­åæ¹é¢å ç´ ã\n * ä»»å¡åéå¨åçæ­£çä¸å¡æå¡å¨ä¹é´æè¿æ¥åäº¤äºï¼éè¦éæ©åéçè¿æ¥æ¹å¼ï¼å¹¶ä¸å¯¹è¿æ¥è¿è¡ç®¡çãä¾å¦ï¼è¿æ¥å»ºç«ãè¿æ¥æ£æµãè¿æ¥ä¸­æ­åå¦ä½å¤çç­ã\n * ä»»å¡åéå¨éè¦å¢å åéç®æ³ãä¾å¦ï¼å¸¸è§çåæºç®æ³æä¸»å¤ãä¸»ä¸»ï¼ä¸»å¤æ¹æ¡åå¯ä»¥ç»åä¸ºå·å¤ãæ¸©å¤ãç­å¤ã\n\n# æç¶æåºç¨çé«å¯ç¨\n\næç¶æåºç¨ï¼æ¯æéè¦å­å¨æ°æ®çç³»ç»ï¼æ¯å¦åç§åå¸å¼å­å¨ãåæ ç¶æåºç¨ç¸æ¯ï¼æä¸ä¸ªæ¬è´¨ä¸çåºå«ï¼åèç¹éè¦éè¿åæ­¥ä¿ææ°æ®ä¸è´ãåå¸å¼é¢åéé¢æä¸ä¸ªèåç CAP å®çï¼ä»çè®ºä¸è®ºè¯äºå­å¨é«å¯ç¨çå¤æåº¦ãä¹å°±æ¯è¯´ï¼å­å¨é«å¯ç¨ä¸å¯è½åæ¶æ»¡è¶³âä¸è´æ§ãå¯ç¨æ§ãååºå®¹éæ§âï¼æå¤æ»¡è¶³å¶ä¸­ä¸¤ä¸ªï¼è¿å°±è¦æ±æä»¬å¨åæ¶æè®¾è®¡æ¶ç»åä¸å¡è¿è¡åèã\n\n# é«å¯ç¨ææ®µ\n\né«å¯ç¨çå¸¸ç¨ææ®µï¼\n\n * è´è½½åè¡¡ - éè¿è´è½½åè¡¡è®¾å¤å»ºç«éç¾¤å±åå¯¹å¤æä¾æå¡ã\n * å¤ä»½ - æ°æ®å­å¨å¨å¤å°æå¡å¨ï¼äºç¸å¤ä»½ãå³ä½¿è®¿é®åè´è½½å¾å°çæå¡ä¹å¿é¡»é¨ç½²è³å°ä¸¤å°æå¡å¨ï¼ææä¸ä¸ªéç¾¤ï¼ç®çå°±æ¯éè¿åä½å®ç°æå¡çé«å¯ç¨ã\n   * å·å¤ä»½ - æ°æ®åºè¯¥å®æå¤ä»½ï¼\n   * ç­å¤ä»½ - ä¸ºäºä¿è¯å¨çº¿ä¸å¡é«å¯ç¨ï¼è¿éè¦å¯¹æ°æ®åºè¿è¡ä¸»ä»åç¦»ï¼å®æ¶åæ­¥ ã\n   * ç¾å¤ - ä¸ºäºæµå¾¡å°éãæµ·å¸ç­ä¸å¯æå ç´ å¯¼è´çç½ç«å®å¨ç«çªï¼æäºå¤§åç½ç«ä¼å¯¹æ´ä¸ªæ°æ®ä¸­å¿è¿è¡å¤ä»½ï¼å¨çèå´åé¨ç½² ç¾å¤æ°æ®ä¸­å¿ãç½ç«ç¨åºåæ°æ®å®æåæ­¥å°å¤ä¸ªç¾å¤æ°æ®ä¸­å¿ã\n * èªå¨å - èªå¨åæ¯æï¼å¤§åç³»ç»æå¿è¦éè¿é¢åå¸éªè¯ãèªå¨åæµè¯ãèªå¨ååå¸ãç°åº¦åå¸ç­ææ®µï¼åå°å°æéå¼å¥çº¿ä¸ç¯å¢çå¯è½ãå¸¸è§èªå¨åææ®µæï¼\n   * åå¸è¿ç¨èªå¨å\n     * èªå¨åä»£ç ç®¡ç\n     * èªå¨åæµè¯\n     * èªå¨åå®å¨çæµ\n     * èªå¨åé¨ç½²\n   * è¿ç»´èªå¨å\n     * èªå¨åçæ§\n     * èªå¨åæ¥è­¦\n     * èªå¨åå¤±æè½¬ç§»\n     * èªå¨åå¤±ææ¢å¤\n     * èªå¨åéçº§\n     * èªå¨ååéèµæº\n\n\n# æ©å±æ§\n\n> å¯æ©å±æ§æç³»ç»ä¸ºäºåºå¯¹å°æ¥éæ±ååèæä¾çä¸ç§æ©å±è½åï¼å½ææ°çéæ±åºç°æ¶ï¼ç³»ç»ä¸éè¦æèä»éè¦å°éä¿®æ¹å°±å¯ä»¥æ¯æï¼æ é¡»æ´ä¸ªç³»ç»éææèéå»ºã\n> \n> è¡¡éæ©å±æ§çæ åå°±æ¯å¢å æ°çä¸å¡äº§åæ¶ï¼æ¯å¦å¯ä»¥å®ç°å¯¹ç°æäº§åéææ å½±åï¼ä¸éè¦ä»»ä½æ¹å¨æå¾å°æ¹å¨ï¼æ¢æåè½å°±å¯ä»¥ä¸çº¿æ°äº§åã\n> \n> è½¯ä»¶åå±çä¸ä¸ªéè¦ç®æ åé©±å¨åæ¯éä½è½¯ä»¶è¦åæ§ãäºç©ä¹é´ç´æ¥å³ç³»è¶å°ï¼å½¼æ­¤å½±åå°±è¶å°ï¼ä¹å°±æ´å®¹æç¬ç«åå±ï¼å³æ©å±æ§å¥½ã\n\nä¸»è¦ææ®µæï¼\n\n * åå± - åå±æ¯æ©å±æ§è®¾è®¡çæåºæ¬ææ®µãéè¿åå±ï¼å¯ä»¥å°ä¸ä¸ªçè½¯ä»¶ç³»ç»ååä¸ºä¸åçé¨åï¼ä¾¿äºåå·¥åä½å¼ååç»´æ¤ï¼åå±é´å·æä¸å®çç¬ç«æ§ã\n   \n   * åå±æ¶æççº¦æï¼ç¦æ­¢è·¨å±æ¬¡çè°ç¨åéåè°ç¨ã\n   * å³ä½¿ç³»ç»è§æ¨¡å¾å°ï¼ä¹åºè¯¥èèéç¨åå±çæ¶æï¼è¿æ ·ä¾¿äºä»¥åæ©å±ã\n\n * åå² - å°ä¸åçåè½åæå¡åå²å¼æ¥ï¼åè£æé«åèãä½è¦åçæ¨¡åååãè¿æå©äºè½¯ä»¶çå¼ååç»´æ¤ï¼ä¾¿äºä¸åæ¨¡åçåå¸å¼é¨ç½²ï¼æé«ç³»ç»çå¹¶åå¤çè½åååè½æ©å±è½åã\n\n * å¼æ­¥ - ä¸å¡é´çæ¶æ¯ä¼ éä¸æ¯åæ­¥è°ç¨ï¼èæ¯å°ä¸ä¸ªä¸å¡æä½æåæå¤é¶æ®µï¼æ¯ä¸ªé¶æ®µé´éè¿å±äº«æ°æ®çæ¹å¼å¼æ­¥æ§è¡è¿è¡åä½ã\n   \n   * å¨åä¸æå¡å¨åé¨å¯éè¿å¤çº¿ç¨å±äº«åå­éåçæ¹å¼å®ç°å¼æ­¥ï¼å¤å¨ä¸å¡æä½åé¢ççº¿ç¨å°æä½è¾åºå°éåï¼åé¢ççº¿ç¨ä»éåä¸­è¯»åæ°æ®è¿è¡å¤çï¼\n   * å¨åå¸å¼ç³»ç»ä¸­ï¼å¤ä¸ªæå¡å¨éç¾¤éè¿åå¸å¼æ¶æ¯éåå®ç°å¼æ­¥ã\n\n * åå¸å¼ - å°ä¸å¡åå¯å¤ç¨æå¡åç¦»ï¼éè¿åå¸å¼æå¡æ¡æ¶è°ç¨ãåå¸å¼æ¯æå¤å°æå¡å¨é¨ç½²ç¸ååºç¨ææä¸ä¸ªéç¾¤ï¼éè¿è´è½½åè¡¡è®¾å¤å±åå¯¹å¤æä¾æå¡ãçæå³çæå¡å¯ä»¥ç¨æ´å¤çæºå¨å·¥ä½ï¼å³æ©å± CPUãåå­ãIO ç­èµæºï¼ä»èæé«ç³»ç»æ´ä½çååéåå¹¶åå¤çè½åã\n   \n   * å¸¸ç¨çåå¸å¼æ¹æ¡ï¼\n     * åå¸å¼åºç¨åæå¡\n     * åå¸å¼éæèµæº\n     * åå¸å¼æ°æ®åå­å¨\n     * åå¸å¼è®¡ç®\n   * åå¸å¼ä¹å¼å¥äºä¸äºé®é¢ï¼\n     * æå¡è°ç¨å¿é¡»éè¿ç½ç»ï¼ç½ç»å»¶è¿ä¼å½±åæ§è½ã\n     * æå¡å¨è¶å¤ï¼å®æºæ¦çä¹è¶å¤§ï¼å¯¼è´å¯ç¨æ§éä½ã\n     * æ°æ®ä¸è´æ§éå¸¸å°é¾ï¼åå¸å¼äºå¡ä¹é¾ä»¥ä¿è¯ã\n     * ç½ç«ä¾èµéç»¼å¤æï¼å¼åç®¡çç»´æ¤å°é¾ã\n\n\n# ä¼¸ç¼©æ§\n\n> è¡¡éä¼¸ç¼©çæ åå°±æ¯æ¯å¦å¯ä»¥ç¨å¤å°æå¡å¨æå»ºéç¾¤ï¼æ¯å¦å®¹æåéç¾¤ä¸­å¢å æå¡å¨èç¹ãå¢å æå¡å¨èç¹åæ¯å¦å¯ä»¥æä¾åä¹åæ å·®å«çæå¡ãéç¾¤ä¸­å¯å®¹çº³çæ»æå¡å¨æ°æ¯å¦æéå¶ã\n\nä¼¸ç¼©æ§æ¯æéè¿å¢/åæå¡å¨èç¹æ°ï¼æ¥çµæ´»çæé«/éä½ç³»ç»å¤çè½åã\n\nä¸»è¦ææ®µæ:\n\n * åºç¨æå¡å¨éç¾¤ - åªè¦æå¡å¨ä¸ä¿å­æ°æ®ï¼åæææå¡å¨é½æ¯å¯¹ç­çï¼éè¿è´è½½åè¡¡è®¾å¤åéç¾¤ä¸­ä¸æ­å å¥æå¡å¨å³å¯\n * ç¼å­æå¡å¨éç¾¤ - å å¥æ°çæå¡å¨å¯è½ä¼å¯¼è´ç¼å­è·¯ç±å¤±æï¼è¿èå¯¼è´éç¾¤ä¸­çå¤§é¨åç¼å­æ°æ®é½æ æ³è®¿é®ãè½ç¶ç¼å­æ°æ®å¯ä»¥éè¿æ°æ®åºéæ°å è½½ï¼ä½æ¯å¦æåºç¨ä¸¥éä¾èµç¼å­ï¼å¯è½ä¼å¯¼è´ç½ç«å´©æºãéè¦æ¹è¿ç¼å­è·¯ç±ç®æ³ä¿è¯ç¼å­æ°æ®çå¯è®¿é®æ§ã\n * å³ç³»åæ°æ®åºéç¾¤ - å³ç³»åæ°æ®åºè½ç¶æ¯ææ°æ®å¤å¶ï¼ä¸»ä»ç­å¤ç­æºå¶ï¼ä½æ¯å¾é¾åå°å¤§è§æ¨¡éç¾¤çå¯ä¼¸ç¼©æ§ï¼å æ­¤å³ç³»åæ°æ®åºçéç¾¤ä¼¸ç¼©æ§æ¹æ¡å¿é¡»å¨æ°æ®åºä¹å¤å®ç°ï¼éè¿è·¯ç±ååºç­ææ®µå°é¨ç½²æå¤ä¸ªæ°æ®åºçæå¡å¨ç»æä¸ä¸ªéç¾¤ã\n * Nosql æ°æ®åºéç¾¤ - ç±äºåå¤©å°±æ¯ä¸ºäºåºå¯¹æµ·éæ°æ®èäº§çï¼å æ­¤å¯¹ä¼¸ç¼©æ§çæ¯æéå¸¸é½éå¸¸å¥½ã\n\n\n# å®å¨æ§\n\nå®å¨æ¯æç³»ç»åºè¯¥å¯¹æ¶ææ»å»æä¸å®çæµæè½åï¼ä¿æ¤éè¦æ°æ®ä¸è¢«çªåã\n\n * å¯ç  å ææºæ ¡éªç  è¿è¡èº«ä»½è®¤è¯\n * ç»å½ãäº¤æç­éè¦æä½éè¦å¯¹ç½ç»éä¿¡è¿è¡ å å¯ï¼å­å¨çæææ°æ®å¦ç¨æ·ä¿¡æ¯ç­ä¹è¿è¡å å¯å¤ç\n * é²æ­¢æºå¨äººç¨åºæ»å»ç½ç«ï¼ä½¿ç¨ éªè¯ç  è¿è¡è¯å«\n * å¯¹å¸¸è§ç¨äº æ»å» ç½ç«ç XSS æ»å»ãSQL æ³¨å¥ãè¿è¡ç¼ç è½¬æ¢ç­ç¸åºå¤ç\n * å¯¹åå¾ä¿¡æ¯ãææä¿¡æ¯è¿è¡ è¿æ»¤\n * å¯¹äº¤æè½¬è´¦ç­éè¦æä½æ ¹æ®äº¤ææ¨¡å¼åäº¤æä¿¡æ¯è¿è¡ é£é©æ§å¶\n\n\n# å¸¸è§æ¶ææ¨¡å\n\n\n# åå±æ¶æ\n\nåå±æ¶æï¼layered architectureï¼æ¯æå¸¸è§çè½¯ä»¶æ¶æï¼ä¹æ¯äºå®ä¸çæ åæ¶æã\n\nè¿ç§æ¶æå°è½¯ä»¶åæè¥å¹²ä¸ªæ°´å¹³å±ï¼æ¯ä¸å±é½ææ¸æ°çè§è²ååå·¥ï¼ä¸éè¦ç¥éå¶ä»å±çç»èãå±ä¸å±ä¹é´éè¿æ¥å£éä¿¡ã\n\nåå±çç»ææå¸¸è§ã\n\n\n * è¡¨ç°å±ï¼presentationï¼ï¼ç¨æ·çé¢ï¼è´è´£è§è§åç¨æ·äºå¨\n * ä¸å¡å±ï¼businessï¼ï¼å®ç°ä¸å¡é»è¾\n * æä¹å±ï¼persistenceï¼ï¼æä¾æ°æ®ï¼SQL è¯­å¥å°±æ¾å¨è¿ä¸å±\n * æ°æ®åºï¼databaseï¼ ï¼ä¿å­æ°æ®\n\nä¼ç¹\n\n * ç»æç®åï¼å®¹æçè§£åå¼å\n * ä¸åæè½çç¨åºåå¯ä»¥åå·¥ï¼è´è´£ä¸åçå±ï¼å¤©ç¶éåå¤§å¤æ°è½¯ä»¶å¬å¸çç»ç»æ¶æ\n * æ¯ä¸å±é½å¯ä»¥ç¬ç«æµè¯ï¼å¶ä»å±çæ¥å£éè¿æ¨¡æè§£å³\n\nç¼ºç¹\n\n * ä¸æ¦ç¯å¢ååï¼éè¦ä»£ç è°æ´æå¢å åè½æ¶ï¼éå¸¸æ¯è¾éº»ç¦åè´¹æ¶\n * é¨ç½²æ¯è¾éº»ç¦ï¼å³ä½¿åªä¿®æ¹ä¸ä¸ªå°å°æ¹ï¼å¾å¾éè¦æ´ä¸ªè½¯ä»¶éæ°é¨ç½²ï¼ä¸å®¹æåæç»­åå¸\n * è½¯ä»¶åçº§æ¶ï¼å¯è½éè¦æ´ä¸ªæå¡æå\n * æ©å±æ§å·®ãç¨æ·è¯·æ±å¤§éå¢å æ¶ï¼å¿é¡»ä¾æ¬¡æ©å±æ¯ä¸å±ï¼ç±äºæ¯ä¸å±åé¨æ¯è¦åçï¼æ©å±ä¼å¾å°é¾\n\n\n# äºä»¶é©±å¨æ¶æ\n\näºä»¶ï¼eventï¼æ¯ç¶æåçååæ¶ï¼è½¯ä»¶ååºçéç¥ã\n\näºä»¶é©±å¨æ¶æï¼event-driven architectureï¼å°±æ¯éè¿äºä»¶è¿è¡éä¿¡çè½¯ä»¶æ¶æãå®åæåä¸ªé¨åã\n\n\n * äºä»¶éåï¼event queueï¼ï¼æ¥æ¶äºä»¶çå¥å£\n * ååå¨ï¼event mediatorï¼ï¼å°ä¸åçäºä»¶ååå°ä¸åçä¸å¡é»è¾åå\n * äºä»¶ééï¼event channelï¼ï¼ååå¨ä¸å¤çå¨ä¹é´çèç³»æ¸ é\n * äºä»¶å¤çå¨ï¼event processorï¼ï¼å®ç°ä¸å¡é»è¾ï¼å¤çå®æåä¼ååºäºä»¶ï¼è§¦åä¸ä¸æ­¥æä½\n\nå¯¹äºç®åçé¡¹ç®ï¼äºä»¶éåãååå¨åäºä»¶ééï¼å¯ä»¥åä¸ºä¸ä½ï¼æ´ä¸ªè½¯ä»¶å°±åæäºä»¶ä»£çåäºä»¶å¤çå¨ä¸¤é¨åã\n\n\n\nä¼ç¹\n\n * åå¸å¼çå¼æ­¥æ¶æï¼äºä»¶å¤çå¨ä¹é´é«åº¦è§£è¦ï¼è½¯ä»¶çæ©å±æ§å¥½\n * éç¨æ§å¹¿ï¼åç§ç±»åçé¡¹ç®é½å¯ä»¥ç¨\n * æ§è½è¾å¥½ï¼å ä¸ºäºä»¶çå¼æ­¥æ¬è´¨ï¼è½¯ä»¶ä¸æäº§çå µå¡\n * äºä»¶å¤çå¨å¯ä»¥ç¬ç«å°å è½½åå¸è½½ï¼å®¹æé¨ç½²\n\nç¼ºç¹\n\n * æ¶åå¼æ­¥ç¼ç¨ï¼è¦èèè¿ç¨éä¿¡ãå¤±å»ååºç­æåµï¼ï¼å¼åç¸å¯¹å¤æ\n * é¾ä»¥æ¯æåå­æ§æä½ï¼å ä¸ºäºä»¶éè¿ä¼æ¶åå¤ä¸ªå¤çå¨ï¼å¾é¾åæ»\n * åå¸å¼åå¼æ­¥ç¹æ§å¯¼è´è¿ä¸ªæ¶æè¾é¾æµè¯\n\n\n# å¾®æ ¸æ¶æ\n\nå¾®æ ¸æ¶æï¼microkernel architectureï¼åç§°ä¸º"æä»¶æ¶æ"ï¼plug-in architectureï¼ï¼æçæ¯è½¯ä»¶çåæ ¸ç¸å¯¹è¾å°ï¼ä¸»è¦åè½åä¸å¡é»è¾é½éè¿æä»¶å®ç°ã\n\nåæ ¸ï¼coreï¼éå¸¸åªåå«ç³»ç»è¿è¡çæå°åè½ãæä»¶åæ¯äºç¸ç¬ç«çï¼æä»¶ä¹é´çéä¿¡ï¼åºè¯¥åå°å°æä½ï¼é¿ååºç°äºç¸ä¾èµçé®é¢ã\n\n\n\nä¼ç¹\n\n * è¯å¥½çåè½å»¶ä¼¸æ§ï¼extensibilityï¼ï¼éè¦ä»ä¹åè½ï¼å¼åä¸ä¸ªæä»¶å³å¯\n * åè½ä¹é´æ¯éç¦»çï¼æä»¶å¯ä»¥ç¬ç«çå è½½åå¸è½½ï¼ä½¿å¾å®æ¯è¾å®¹æé¨ç½²ï¼\n * å¯å®å¶æ§é«ï¼éåºä¸åçå¼åéè¦\n * å¯ä»¥æ¸è¿å¼å°å¼åï¼éæ­¥å¢å åè½\n\nç¼ºç¹\n\n * æ©å±æ§ï¼scalabilityï¼å·®ï¼åæ ¸éå¸¸æ¯ä¸ä¸ªç¬ç«ååï¼ä¸å®¹æåæåå¸å¼\n * å¼åé¾åº¦ç¸å¯¹è¾é«ï¼å ä¸ºæ¶åå°æä»¶ä¸åæ ¸çéä¿¡ï¼ä»¥ååé¨çæä»¶ç»è®°æºå¶\n\n\n# å¾®æå¡æ¶æ\n\nå¾®æå¡æ¶æï¼microservices architectureï¼æ¯æå¡å¯¼åæ¶æï¼service-oriented architectureï¼ç¼©å SOAï¼çåçº§ã\n\næ¯ä¸ä¸ªæå¡å°±æ¯ä¸ä¸ªç¬ç«çé¨ç½²ååï¼separately deployed unitï¼ãè¿äºååé½æ¯åå¸å¼çï¼äºç¸è§£è¦ï¼éè¿è¿ç¨éä¿¡åè®®ï¼æ¯å¦ RESTãSOAPï¼èç³»ã\n\n\n\nå¾®æå¡æ¶æåæä¸ç§å®ç°æ¨¡å¼ã\n\n * RESTful API æ¨¡å¼ï¼æå¡éè¿ API æä¾ï¼äºæå¡å°±å±äºè¿ä¸ç±»\n * RESTful åºç¨æ¨¡å¼ï¼æå¡éè¿ä¼ ç»çç½ç»åè®®æèåºç¨åè®®æä¾ï¼èåéå¸¸æ¯ä¸ä¸ªå¤åè½çåºç¨ç¨åºï¼å¸¸è§äºä¼ä¸åé¨\n * éä¸­æ¶æ¯æ¨¡å¼ï¼éç¨æ¶æ¯ä»£çï¼message brokerï¼ï¼å¯ä»¥å®ç°æ¶æ¯éåãè´è½½åè¡¡ãç»ä¸æ¥å¿åå¼å¸¸å¤çï¼ç¼ºç¹æ¯ä¼åºç°åç¹å¤±è´¥ï¼æ¶æ¯ä»£çå¯è½è¦åæéç¾¤\n\nä¼ç¹\n\n * æ©å±æ§å¥½ï¼åä¸ªæå¡ä¹é´ä½è¦å\n * å®¹æé¨ç½²ï¼è½¯ä»¶ä»åä¸å¯é¨ç½²ååï¼è¢«ææäºå¤ä¸ªæå¡ï¼æ¯ä¸ªæå¡é½æ¯å¯é¨ç½²åå\n * å®¹æå¼åï¼æ¯ä¸ªç»ä»¶é½å¯ä»¥è¿è¡æç»­éæå¼çå¼åï¼å¯ä»¥åå°å®æ¶é¨ç½²ï¼ä¸é´æ­å°åçº§\n * æäºæµè¯ï¼å¯ä»¥åç¬æµè¯æ¯ä¸ä¸ªæå¡\n\nç¼ºç¹\n\n * ç±äºå¼ºè°äºç¸ç¬ç«åä½è¦åï¼æå¡å¯è½ä¼æåå¾å¾ç»ãè¿å¯¼è´ç³»ç»ä¾èµå¤§éçå¾®æå¡ï¼åå¾å¾åä¹±åç¬¨éï¼æ§è½ä¹ä¼ä¸ä½³ã\n * ä¸æ¦æå¡ä¹é´éè¦éä¿¡ï¼å³ä¸ä¸ªæå¡è¦ç¨å°å¦ä¸ä¸ªæå¡ï¼ï¼æ´ä¸ªæ¶æå°±ä¼åå¾å¤æãå¸åçä¾å­å°±æ¯ä¸äºéç¨ç Utility ç±»ï¼ä¸ç§è§£å³æ¹æ¡æ¯æå®ä»¬æ·è´å°æ¯ä¸ä¸ªæå¡ä¸­å»ï¼ç¨åä½æ¢åæ¶æçç®åæ§ã\n * åå¸å¼çæ¬è´¨ä½¿å¾è¿ç§æ¶æå¾é¾å®ç°åå­æ§æä½ï¼äº¤æåæ»ä¼æ¯è¾å°é¾ã\n\n\n# äºæ¶æ\n\näºç»æï¼cloud architectureï¼ä¸»è¦è§£å³æ©å±æ§åå¹¶åçé®é¢ï¼æ¯æå®¹ææ©å±çæ¶æã\n\nå®çé«æ©å±æ§ï¼ä¸»è¦åå æ¯æ²¡ä½¿ç¨ä¸­å¤®æ°æ®åºï¼èæ¯ææ°æ®é½å¤å¶å°åå­ä¸­ï¼åæå¯å¤å¶çåå­æ°æ®ååãç¶åï¼ä¸å¡å¤çè½åå°è£æä¸ä¸ªä¸ªå¤çååï¼prcessing unitï¼ãè®¿é®éå¢å ï¼å°±æ°å»ºå¤çååï¼è®¿é®éåå°ï¼å°±å³é­å¤çååãç±äºæ²¡æä¸­å¤®æ°æ®åºï¼æä»¥æ©å±æ§çæå¤§ç¶é¢æ¶å¤±äºãç±äºæ¯ä¸ªå¤çååçæ°æ®é½å¨åå­éï¼æå¥½è¦è¿è¡æ°æ®æä¹åã\n\n\n\nè¿ä¸ªæ¨¡å¼ä¸»è¦åæä¸¤é¨åï¼å¤çååï¼processing unitï¼åèæä¸­é´ä»¶ï¼virtualized middlewareï¼ã\n\n * å¤çååï¼å®ç°ä¸å¡é»è¾\n * èæä¸­é´ä»¶ï¼è´è´£éä¿¡ãä¿æ sessionsãæ°æ®å¤å¶ãåå¸å¼å¤çãå¤çååçé¨ç½²ã\n\nèæä¸­é´ä»¶ååå«åä¸ªç»ä»¶ã\n\n>  * æ¶æ¯ä¸­é´ä»¶ï¼Messaging Gridï¼ï¼ç®¡çç¨æ·è¯·æ±å sessionï¼å½ä¸ä¸ªè¯·æ±è¿æ¥ä»¥åï¼å³å®åéç»åªä¸ä¸ªå¤çååã\n>  * æ°æ®ä¸­é´ä»¶ï¼Data Gridï¼ï¼å°æ°æ®å¤å¶å°æ¯ä¸ä¸ªå¤çååï¼å³æ°æ®åæ­¥ãä¿è¯æä¸ªå¤çååé½å¾å°åæ ·çæ°æ®ã\n>  * å¤çä¸­é´ä»¶ï¼Processing Gridï¼ï¼å¯éï¼å¦æä¸ä¸ªè¯·æ±æ¶åä¸åç±»åçå¤çååï¼è¯¥ä¸­é´ä»¶è´è´£åè°å¤çåå\n>  * é¨ç½²ä¸­é´ä»¶ï¼Deployment Managerï¼ï¼è´è´£å¤çååçå¯å¨åå³é­ï¼çæ§è´è½½åååºæ¶é´ï¼å½è´è½½å¢å ï¼å°±æ°å¯å¨å¤çååï¼è´è½½åå°ï¼å°±å³é­å¤çååã\n\nä¼ç¹\n\n * é«è´è½½ï¼é«æ©å±æ§\n * å¨æé¨ç½²\n\nç¼ºç¹\n\n * å®ç°å¤æï¼ææ¬è¾é«\n * ä¸»è¦éåç½ç«ç±»åºç¨ï¼ä¸åéå¤§éæ°æ®ååçå¤§åæ°æ®åºåºç¨\n * è¾é¾æµè¯\n\n\n# åèèµæ\n\n * ãå¤§åç½ç«ææ¯æ¶æï¼æ ¸å¿åçä¸æ¡ä¾åæã\n * ãä» 0 å¼å§å­¦æ¶æã\n * è½¯ä»¶æ¶æå¥é¨- é®ä¸å³°çç½ç»æ¥å¿',normalizedContent:'# ç³»ç»æ¶ææ¦è¿°\n\n\n# å¤§åç³»ç»æ¶ææ¼å\n\nä¸ä¸ªå¤§åç³»ç»çæ¶ææ¯ä¸ä¸ªæ¸è¿çæ¼åè¿ç¨ãç½é©¬ä¸æ¯ä¸å¤©å»ºæçï¼åçï¼å¾®ä¿¡ãæ·å®ç­å¤§åç³»ç»ç»ä¸æ¯ä¸è¹´èå°±çãéçä¸å¡çä¸æ­åå±ï¼ç¨æ·ä½éçå¢å ï¼ç³»ç»çå¤æåº¦å¿å¿ä¸æ­æåï¼æç»è¿«ä½¿ç³»ç»æ¶æè¿åï¼ä»¥åºå¯¹ææã\n\näºè§£å¤§åç³»ç»æ¶æçæ¼åè¿ç¨ï¼æå©äºæä»¬äºè§£æ¶æè¿åçåå±è§å¾åä¸çä¸äºæççåºå¯¹æ¹æ¡ãå¸®å©æä»¬å¨å®éå·¥ä½ä¸­ï¼å¦ä½å»æèæ¶æï¼å¦ä½å»åç»è§£å³æ¹æ¡ã\n\nå¤§åç³»ç»æ¶ææ¼åæ¯è¾å·æä»£è¡¨æ§çå°±æ¯å¤§åç½ç«çæ¼åè¿ç¨ãè¿éä»ç»ä¸ä¸å¤§åç½ç«æ¼åçä¸è¬è§å¾ã\n\n\n# åæºæ¶æ\n\n * é®é¢ï¼ç½ç«è¿è¥åæï¼è®¿é®ç¨æ·å°ï¼ä¸å°æå¡å¨ç»°ç»°æä½ã\n * ç¹å¾ï¼åºç¨ç¨åºãæ°æ®åºãæä»¶ç­ææçèµæºé½å¨ä¸å°æå¡å¨ä¸ã\n * æè¿°ï¼éå¸¸æå¡å¨æä½ç³»ç»ä½¿ç¨ linuxï¼åºç¨ç¨åºä½¿ç¨ php å¼åï¼ç¶åé¨ç½²å¨ apache ä¸ï¼æ°æ®åºä½¿ç¨ mysqlï¼éä¿ç§°ä¸º lampãæ±éåç§åè´¹å¼æºè½¯ä»¶ä»¥åä¸å°å»ä»·æå¡å¨å°±å¯ä»¥å¼å§ç³»ç»çåå±ä¹è·¯äºã\n\n\n# åºç¨æå¡åæ°æ®æå¡åç¦»\n\n * é®é¢ï¼è¶æ¥è¶å¤çç¨æ·è®¿é®å¯¼è´æ§è½è¶æ¥è¶å·®ï¼è¶æ¥è¶å¤çæ°æ®å¯¼è´å­å¨ç©ºé´ä¸è¶³ï¼ä¸å°æå¡å¨å·²ä¸è¶³ä»¥æ¯æã\n * ç¹å¾ï¼åºç¨æå¡å¨ãæ°æ®åºæå¡å¨ãæä»¶æå¡å¨åå«ç¬ç«é¨ç½²ã\n * æè¿°ï¼ä¸å°æå¡å¨å¯¹æ§è½è¦æ±åä¸ç¸åï¼\n   * åºç¨æå¡å¨è¦å¤çå¤§éä¸å¡é»è¾ï¼å æ­¤éè¦æ´å¿«æ´å¼ºå¤§ç cpuï¼\n   * æ°æ®åºæå¡å¨éè¦å¿«éç£çæ£ç´¢åæ°æ®ç¼å­ï¼å æ­¤éè¦æ´å¿«çç¡¬çåæ´å¤§çåå­ï¼\n   * æä»¶æå¡å¨éè¦å­å¨å¤§éæä»¶ï¼å æ­¤éè¦æ´å¤§å®¹éçç¡¬çã\n\n\n# ä½¿ç¨ç¼å­æ¹åæ§è½\n\n * é®é¢ï¼éçç¨æ·éæ¸å¢å¤ï¼æ°æ®åºååå¤ªå¤§å¯¼è´è®¿é®å»¶è¿ã\n * ç¹å¾ï¼ç±äºç½ç«è®¿é®åè´¢å¯åéä¸æ ·éµå¾ªäºå«å®å¾ï¼80% çä¸å¡è®¿é®éä¸­å¨ 20% çæ°æ®ä¸ãå°æ°æ®åºä¸­è®¿é®è¾éä¸­çå°é¨åæ°æ®ç¼å­å¨åå­ä¸­ï¼å¯ä»¥åå°æ°æ®åºçè®¿é®æ¬¡æ°ï¼éä½æ°æ®åºçè®¿é®ååã\n * æè¿°ï¼ç¼å­åä¸ºä¸¤ç§ï¼åºç¨æå¡å¨ä¸çæ¬å°ç¼å­ååå¸å¼ç¼å­æå¡å¨ä¸çè¿ç¨ç¼å­ã\n   * æ¬å°ç¼å­è®¿é®éåº¦æ´å¿«ï¼ä½ç¼å­æ°æ®éæéï¼åæ¶å­å¨ä¸åºç¨ç¨åºäºç¨åå­çæåµã\n   * åå¸å¼ç¼å­å¯ä»¥éç¨éç¾¤æ¹å¼ï¼çè®ºä¸å¯ä»¥åå°ä¸ååå­å®¹ééå¶çç¼å­æå¡ã\n\n\n# è´è½½åè¡¡\n\n * é®é¢ï¼ä½¿ç¨ç¼å­åï¼æ°æ®åºè®¿é®ååå¾å°ææç¼è§£ãä½æ¯åä¸åºç¨æå¡å¨è½å¤å¤ççè¯·æ±è¿æ¥æéï¼å¨è®¿é®é«å³°æï¼æä¸ºç¶é¢ã\n * ç¹å¾ï¼å¤å°æå¡å¨éè¿è´è½½åè¡¡åæ¶åå¤é¨æä¾æå¡ï¼è§£å³åä¸æå¡å¨å¤çè½ååå­å¨ç©ºé´ä¸è¶³çé®é¢ã\n * æè¿°ï¼ä½¿ç¨éç¾¤æ¯ç³»ç»è§£å³é«å¹¶åãæµ·éæ°æ®é®é¢çå¸¸ç¨ææ®µãéè¿åéç¾¤ä¸­è¿½å èµæºï¼æåç³»ç»çå¹¶åå¤çè½åï¼ä½¿å¾æå¡å¨çè´è½½ååä¸åæä¸ºæ´ä¸ªç³»ç»çç¶é¢ã\n\n\n# æ°æ®åºè¯»ååç¦»\n\n * é®é¢ï¼ç½ç«ä½¿ç¨ç¼å­åï¼ä½¿ç»å¤§é¨åæ°æ®è¯»æä½è®¿é®é½å¯ä»¥ä¸éè¿æ°æ®åºå°±è½å®æï¼ä½æ¯ä»æä¸é¨åè¯»æä½åå¨é¨çåæä½éè¦è®¿é®æ°æ®åºï¼å¨ç½ç«çç¨æ·è¾¾å°ä¸å®è§æ¨¡åï¼æ°æ®åºå ä¸ºè´è½½ååè¿é«èæä¸ºç½ç«çç¶é¢ã\n * ç¹å¾ï¼ç®åå¤§é¨åçä¸»æµæ°æ®åºé½æä¾ä¸»ä»ç­å¤åè½ï¼éè¿éç½®ä¸¤å°æ°æ®åºä¸»ä»å³ç³»ï¼å¯ä»¥å°ä¸å°æ°æ®åºæå¡å¨çæ°æ®æ´æ°åæ­¥å°ä¸å°æå¡å¨ä¸ãç½ç«å©ç¨æ°æ®åºçä¸»ä»ç­å¤åè½ï¼å®ç°æ°æ®åºè¯»ååç¦»ï¼ä»èæ¹åæ°æ®åºè´è½½ååã\n * æè¿°ï¼åºç¨æå¡å¨å¨åæä½çæ¶åï¼è®¿é®ä¸»æ°æ®åºï¼ä¸»æ°æ®åºéè¿ä¸»ä»å¤å¶æºå¶å°æ°æ®æ´æ°åæ­¥å°ä»æ°æ®åºãè¿æ ·å½åºç¨æå¡å¨å¨è¯»æä½çæ¶åï¼è®¿é®ä»æ°æ®åºè·å¾æ°æ®ãä¸ºäºä¾¿äºåºç¨ç¨åºè®¿é®è¯»ååç¦»åçæ°æ®åºï¼éå¸¸å¨åºç¨æå¡å¨ç«¯ä½¿ç¨ä¸é¨çæ°æ®è®¿é®æ¨¡åï¼ä½¿æ°æ®åºè¯»ååç¦»çå¯¹åºç¨éæã\n\n\n# å¤çº§ç¼å­\n\n * é®é¢ï¼ä¸­å½ç½ç»ç¯å¢å¤æï¼ä¸åå°åºçç¨æ·è®¿é®ç½ç«æ¶ï¼éåº¦å·®å«ä¹æå¤§ã\n * ç¹å¾ï¼éç¨ cdn åååä»£çå å¿«ç³»ç»çéæèµæºè®¿é®éåº¦ã\n * æè¿°ï¼cdn åååä»£ççåºæ¬åçé½æ¯ç¼å­ï¼åºå«å¨äºï¼\n   * cdn é¨ç½²å¨ç½ç»æä¾åçæºæ¿ï¼ä½¿ç¨æ·å¨è¯·æ±ç½ç«æå¡æ¶ï¼å¯ä»¥ä»è·ç¦»èªå·±æè¿çç½ç»æä¾åæºæ¿è·åæ°æ®ï¼\n   * èååä»£çåé¨ç½²å¨ç½ç«çä¸­å¿æºæ¿ï¼å½ç¨æ·è¯·æ±å°è¾¾ä¸­å¿æºæ¿åï¼é¦åè®¿é®çæå¡å¨æ¶ååä»£çæå¡å¨ï¼å¦æååä»£çæå¡å¨ä¸­ç¼å­çç¨æ·è¯·æ±çèµæºï¼å°±å°å¶ç´æ¥è¿åç»ç¨æ·ã\n\n\n# ä¸å¡æå\n\n * é®é¢ï¼å¤§åç½ç«çä¸å¡åºæ¯æ¥çå¤æï¼åä¸ºå¤ä¸ªäº§åçº¿ã\n * ç¹å¾ï¼éç¨åèæ²»ä¹çææ®µå°æ´ä¸ªç½ç«ä¸å¡åæä¸åçäº§åçº¿ãç³»ç»ä¸æç§ä¸å¡è¿è¡æåæ¹é ï¼åºç¨æå¡å¨æç§ä¸å¡åºåè¿è¡åå«é¨ç½²ã\n * æè¿°ï¼åºç¨ä¹é´å¯ä»¥éè¿è¶é¾æ¥å»ºç«å³ç³»ï¼ä¹å¯ä»¥éè¿æ¶æ¯éåè¿è¡æ°æ®ååï¼å½ç¶æ´å¤çè¿æ¯éè¿è®¿é®åä¸ä¸ªæ°æ®å­å¨ç³»ç»æ¥ææä¸ä¸ªå³èçå®æ´ç³»ç»ã\n   * çºµåæåï¼å°ä¸ä¸ªå¤§åºç¨æåä¸ºå¤ä¸ªå°åºç¨ï¼å¦ææ°ä¸å¡è¾ä¸ºç¬ç«ï¼é£ä¹å°±ç´æ¥å°å¶è®¾è®¡é¨ç½²ä¸ºä¸ä¸ªç¬ç«ç web åºç¨ç³»ç»ãçºµåæåç¸å¯¹è¾ä¸ºç®åï¼éè¿æ¢³çä¸å¡ï¼å°è¾å°ç¸å³çä¸å¡å¥ç¦»å³å¯ã\n   * æ¨ªåæåï¼å°å¤ç¨çä¸å¡æååºæ¥ï¼ç¬ç«é¨ç½²ä¸ºåå¸å¼æå¡ï¼æ°å¢ä¸å¡åªéè¦è°ç¨è¿äºåå¸å¼æå¡æ¨ªåæåéè¦è¯å«å¯å¤ç¨çä¸å¡ï¼è®¾è®¡æå¡æ¥å£ï¼è§èæå¡ä¾èµå³ç³»ã\n\n\n# ååºåè¡¨\n\n * é®é¢ï¼éçå¤§åç½ç«ä¸å¡æç»­å¢é¿ï¼æ°æ®åºç»è¿è¯»ååç¦»ï¼ä»ä¸å°æå¡å¨æåä¸ºä¸¤å°æå¡å¨ï¼ä¾ç¶ä¸è½æ»¡è¶³éæ±ã\n * ç¹å¾ï¼æ°æ®åºéç¨åå¸å¼æ°æ®åºã\n * æè¿°ï¼åå¸å¼æ°æ®åºæ¯æ°æ®åºæåçæåæ¹æ³ï¼åªæå¨åè¡¨æ°æ®è§æ¨¡éå¸¸åºå¤§çæ¶åæä½¿ç¨ãä¸å°ä¸å¾å·²æ¶ï¼æ´å¸¸ç¨çæ°æ®åºæåææ®µæ¯ä¸å¡ååºï¼å°ä¸åçä¸å¡æ°æ®åºé¨ç½²å¨ä¸åçç©çæå¡å¨ä¸ã\n\n\n# åå¸å¼ç»ä»¶\n\n * é®é¢ï¼éçç½ç«ä¸å¡è¶æ¥è¶å¤æï¼å¯¹æ°æ®å­å¨åæ£ç´¢çéæ±ä¹è¶æ¥è¶å¤æã\n * ç¹å¾ï¼ç³»ç»å¼å¥ nosql æ°æ®åºåæç´¢å¼æã\n * æè¿°ï¼nosql æ°æ®åºåæç´¢å¼æå¯¹å¯ä¼¸ç¼©çåå¸å¼ç¹æ§å·ææ´å¥½çæ¯æãåºç¨æå¡å¨éè¿ç»ä¸æ°æ®è®¿é®æ¨¡åè®¿é®åç§æ°æ®ï¼åè½»åºç¨ç¨åºç®¡çè¯¸å¤æ°æ®æºçéº»ç¦ã\n\n\n# å¾®æå¡\n\n * é®é¢ï¼éçä¸å¡è¶æè¶å°ï¼å­å¨ç³»ç»è¶æ¥è¶åºå¤§ï¼åºç¨ç³»ç»æ´ä½å¤æç¨åº¦åææ°çº§ä¸åï¼é¨ç½²ç»´æ¤è¶æ¥è¶å°é¾ãç±äºææåºç¨è¦åæææ°æ®åºç³»ç»è¿æ¥ï¼æç»å¯¼è´æ°æ®åºè¿æ¥èµæºä¸è¶³ï¼æç»æå¡ã\n * ç¹å¾ï¼å¬å±ä¸å¡æååºæ¥ï¼ç¬ç«é¨ç½²ãç±è¿äºå¯å¤ç¨çä¸å¡è¿æ¥æ°æ®åºï¼éè¿åå¸å¼æå¡æä¾å±ç¨ä¸å¡æå¡ã\n * æè¿°ï¼å¤§åç½ç«çæ¶ææ¼åå°è¿éï¼åºæ¬ä¸å¤§å¤æ°çææ¯é®é¢é½å¾ä»¥è§£å³ï¼è¯¸å¦è·¨æ°æ®ä¸­å¿çå®æ¶æ°æ®åæ­¥åå·ä½ç½ç«ä¸å¡ç¸å³çé®é¢ä¹é½å¯ä»¥ç»åæ¹è¿ç°æææ¯æ¶ææ¥è§£å³ã\n\n\n# æ¶æè®¾è®¡çèé\n\n> æ¯ä¸ä¸ªæ¨¡å¼æè¿°äºä¸ä¸ªä¸ä½éå¤åççé®é¢åè¯¥é®é¢è§£å³æ¹æ¡çæ ¸å¿ãè¿æ ·ï¼å°±å¯ä»¥ä¸æ­å¤ç¨è¯¥æ¹æ¡èåå°éå¤å·¥ä½ã\n\n\n# ä»ä¹æ¯æ¶æ\n\næ¶ææ¯ä¸ä¸ªéå¸¸æ½è±¡çæ¦å¿µï¼æ¯ä¸ªäººç±äºææ¯çæ·±åº¦ãæç»´çè§è§ç­å·®å¼ï¼å¯¹äºæ¶æççè§£ï¼åä¸ç¸åã\n\nè¿éææç½ä¸ææ®µæ¯è¾ç²¾é«çå®ä¹ï¼\n\n * æ¶ææ¯è½¯ä»¶ç³»ç»çé¡¶å±è®¾è®¡ã\n * æ¡æ¶æ¯é¢åç¼ç¨æéç½®çåæåã\n * ç»ä»¶æ¯ä»ææ¯ç»´åº¦ä¸çå¤ç¨ã\n * æ¨¡åæ¯ä»ä¸å¡ç»´åº¦ä¸èè´£çååã\n * ç³»ç»æ¯ç¸äºååå¯è¿è¡çå®ä½ã\n\n\n# æ¶æè®¾è®¡çç®æ \n\næ¶æè®¾è®¡çä¸»è¦ç®çæ¯ä¸ºäºè§£å³è½¯ä»¶ç³»ç»å¤æåº¦å¸¦æ¥çé®é¢ã\n\næ¶æè®¾è®¡åºè¯¥æéè®¾è®¡ãä»»ä½ç½ç«é½æ¯éçä¸å¡éæ­¥åå±ï¼ä¸æ­æ¼åèæï¼ä¸è¦ææä¸å³æ°¸é¸ã\n\nå³äºæ¶æè®¾è®¡çç®çï¼å¸¸è§çè¯¯åºæï¼\n\n * å ä¸ºæ¶æå¾éè¦ï¼æä»¥è¦åæ¶æè®¾è®¡\n * ä¸ºäºé«æ§è½ãé«å¯ç¨ãå¯æ©å±ï¼æä»¥è¦åæ¶æè®¾è®¡\n * å¤§åé½æ¯è¿ä¹åçï¼æä»¥æä»¬ä¹è¿ä¹å\n * è¿ç§æ°ææ¯å¾çé¼ï¼æä»¬ä¹ä¸å®è¦å¼å¥\n\næ¶æçååï¼\n\n * æ¶æè®¾è®¡åºè¯¥æéè®¾è®¡ãä»»ä½ç½ç«é½æ¯éçä¸å¡éæ­¥åå±ï¼ä¸æ­æ¼åèæï¼ä¸è¦ææä¸å³æ°¸é¸ã\n * é©±å¨ææ¯åå±çä¸»è¦åéæ¯ä¸å¡åå±ã\n * ä¸è¦ç²ç®è·é£å¤§å¬å¸çè§£å³æ¹æ¡ã\n * ä¸è¦ç²ç®è¿½æ±æµè¡ææ¯ï¼èè±ç¦»äºä¸å¡åå±çå®éæåµã\n * ä¸è¦æææé®é¢é½ä¸¢ç»ææ¯ãç°å®ä¸­ï¼æå¾å¤æ¡ä¾åè¯æä»¬ï¼å¾å¤é®é¢ä¸ä¸å®éè¦éè¿ææ¯æ¥è§£å³ãå½æ ¹ç»åºï¼ææ¯å§ç»é½æ¯ä¸å¡çè¾å©ï¼ä¸å¡é®é¢ç©¶ç«æ¯éè¿ææ¯æ¥è§£å³è¿æ¯ç´æ¥éè¿ä¸å¡æ¥è§£å³ï¼éè¦æ ¹æ®å®éæåµå»åæå¤æ­ãè¿å°±éè¦å¯¹ä¸å¡é¢åææ¯è¾æ·±å¥ççè§£åæèã\n\n\n# æ¶æè®¾è®¡çåå\n\n> åéä¼äºåè¿>æ¼åä¼äºä¸æ­¥å°ä½>ç®åä¼äºå¤æ\n\n# åéåå\n\næ²¡é£ä¹å¤äººï¼å´æ³å¹²é£ä¹å¤æ´»ï¼æ¯å¤±è´¥çç¬¬ä¸ä¸ªä¸»è¦åå ã\n\næ²¡æé£ä¹å¤ç§¯ç´¯ï¼å´æ³ä¸æ­¥ç»å¤©ï¼æ¯å¤±è´¥çç¬¬äºä¸ªä¸»è¦åå ã\n\næ²¡æé£ä¹åè¶çä¸å¡åºæ¯ï¼å´å¹»æ³çµåä¸éªæä¸ºå¤©æï¼æ¯å¤±è´¥çç¬¬ä¸ä¸ªä¸»è¦åå ã\n\n# ç®ååå\n\nåé«å¤§ä¸çè§£å³æ¹æ¡å¦æä¸è½è½å°ï¼ä¹æ¯ç½æ¯ã\n\næä»¥ï¼åºå¯¹éæ±\n\n# æ¼ååå\n\næ¼åä¼äºä¸æ­¥å°ä½ã\n\nä¸è¦å¦å¾è®¾è®¡ä¸ä¸ªä¸æ­¥å°ä½ï¼æ°¸ä¹ä¸åçæ¶æã\n\n# å¢¨è²å®å¾\n\n * ä»»ä½äºé½æ²¡æè¡¨é¢çèµ·æ¥é£ä¹ç®åï¼\n * ææçäºé½ä¼æ¯ä½ é¢è®¡çæ¶é´é¿ï¼\n * ä¼åºéçäºæ»ä¼åºéï¼\n * å¦æä½ æå¿æç§æåµåçï¼é£ä¹å®å°±æ´æå¯è½åçã\n\n# åº·å¨å®å¾\n\nç³»ç»è®¾è®¡(äº§åç»æ)ç­åç»ç»å½¢å¼ï¼æ¯ä¸ªè®¾è®¡ç³»ç»çç»ç»ï¼å¶äº§ççè®¾è®¡ç­åäºç»ç»ä¹é´çæ²éç»æï¼ç®åç¹è¯´å°±æ¯ï¼ç³»ç»çè®¾è®¡åéäºè®¾è®¡ç³»ç»çç»ç»çäººåæ¶æå½¢å¼ã\n\n# äºå«å®å¾\n\n\n# é«æ§è½\n\n> æ§è½æ¯è½¯ä»¶ç³»ç»çéè¦è¡¡éæ åãå¾å¤æ©å±æ§ãä¼¸ç¼©æ§ãå¯ç¨æ§çé®é¢ï¼æ¯ä¸ºäºè§£å³æ§è½é®é¢èå¼å¥çã\n\n# æ§è½ææ \n\nååºå»¶æ¶ãå¹¶åå¤çè½åãåå­ãcpuãio å¼éç­é½å¯ä»¥è§ä¸ºç³»ç»çæ§è½ææ ã\n\nåæç¨æ·ä½éãæ¥è®¿é®éçå³°å¼ï¼ä¼°ç®åºä¸ºäºå¹³ç¨³åºå¯¹å³°å¼è®¿é®æµéæéçå¹¶åéãååéãå¦ææ¯åºç¨åç³»ç»ï¼æ§è½å¤ç¨å°±å¥½ï¼æ²¡å¿è¦ä¸å³è¿½æ±é«æ§è½ãæ¯å¦ï¼ç¨æ·ä½éå¯è½è¿ä¸è¿ä¸ï¼ä¸å¤©æ»è®¿é®éå¯è½ä¹å°±ä¸ä¸¤å pvï¼å³°å¼ä¹å°±å ç¾ qpsï¼è¿æ ·çç³»ç»å¦æè¦èèæ¯ç§å ä¸ç qpsï¼æ¾ç¶æäºå¤èäºã\n\n# æ§è½æåææ®µ\n\nå¸¸è§çæ§è½æåææ®µæï¼\n\n * åç«¯\n   * æµè§å¨ç¼å­\n   * éæèµæºåç¼©\n   * åçå¸å±é¡µé¢\n   * åå° cookie ä¼ è¾\n   * cdn\n * åºç¨æå¡\n   * è´è½½åè¡¡åååä»£ç\n   * æ¬å°ç¼å­\n   * åå¸å¼ç¼å­\n   * å¼æ­¥æ¶æ¯éå\n   * éç¾¤\n   * ä»£ç å±é¢ï¼ä½¿ç¨å¤çº¿ç¨ãæ¹ååå­ç®¡ç\n * æ°æ®åº\n   * ç´¢å¼\n   * æ°æ®åºç¼å­\n   * sql ä¼å\n\n> æ³¨æï¼ç¼å­æ¯æ¹åè½¯ä»¶æ§è½çç¬¬ä¸ææ®µãç¼å­é¤äºå¯ä»¥å å¿«æ°æ®è®¿é®éåº¦ä»¥å¤ï¼è¿å¯ä»¥åè½»åç«¯åºç¨åæ°æ®å­å¨çè´è½½ååãæä»¥ï¼å¦æè¦æåç³»ç»æ§è½ï¼åºè¯¥ç¬¬ä¸æ¶é´æ³å°ç¼å­ã\n> \n> ä½¿ç¨ç¼å­æä¸¤ä¸ªåæï¼\n> \n>  * æ°æ®è®¿é®ç­ç¹ä¸ååï¼é¢ç¹è®¿é®çæ°æ®åºè¯¥æ¾å¨ç¼å­ä¸­ã\n>  * æ°æ®å¨æä¸ªæ¶é´æ®µææï¼ä¸ä¼å¾å¿«è¿æï¼å¦åç¼å­æ°æ®ä¼å å·²ç»å¤±æèäº§çèè¯»ã\n\n\n# é«å¯ç¨\n\n> ç³»ç»æ ä¸­æ­å°æ§è¡å¶åè½çè½åï¼ä»£è¡¨ç³»ç»çå¯ç¨æ§ç¨åº¦ï¼æ¯è¿è¡ç³»ç»è®¾è®¡æ¶çååä¹ä¸ã\n\né«æ§è½å¢å æºå¨ç®çå¨äºâæ©å±âå¤çæ§è½ï¼é«å¯ç¨å¢å æºå¨ç®çå¨äºâåä½âå¤çååã\n\nåç¹ç³»ç»ï¼æ¯æ æ³ä¿è¯é«å¯ç¨çãç³»ç»èªèº«æéãæ­çµãç¡¬ä»¶æéãç½ç»ç­ç­ï¼é½å¯è½å¯¼è´æå¡ä¸å¯ç¨ãé«å¯ç¨æ¹æ¡äºè±å«é¨ï¼æ¬è´¨ä¸é½æ¯éè¿âåä½âæ¥å®ç°é«å¯ç¨ã\n\n# æ ç¶æåºç¨çé«å¯ç¨\n\næ ç¶æåºç¨ä¸è¬å·æå¹ç­æ§ï¼å³**æ è®ºå¨åªå°æºå¨ä¸è¿è¡è®¡ç®ï¼åæ ·çç®æ³åè¾å¥æ°æ®ï¼äº§åºçç»æé½æ¯ä¸æ ·çã**æä»¥ï¼è®¡ç®å¨ä»»æèç¹æå¡å¨ä¸æ§è¡ï¼ç»æé½ä¸æ ·ã\n\næ ç¶æåºç¨çé«å¯ç¨ï¼\n\n * éè¦å¢å ä¸ä¸ªä»»å¡åéå¨ï¼éæ©åéçä»»å¡åéå¨ä¹æ¯ä¸ä»¶å¤æçäºæï¼éè¦ç»¼åèèæ§è½ãææ¬ãå¯ç»´æ¤æ§ãå¯ç¨æ§ç­åæ¹é¢å ç´ ã\n * ä»»å¡åéå¨åçæ­£çä¸å¡æå¡å¨ä¹é´æè¿æ¥åäº¤äºï¼éè¦éæ©åéçè¿æ¥æ¹å¼ï¼å¹¶ä¸å¯¹è¿æ¥è¿è¡ç®¡çãä¾å¦ï¼è¿æ¥å»ºç«ãè¿æ¥æ£æµãè¿æ¥ä¸­æ­åå¦ä½å¤çç­ã\n * ä»»å¡åéå¨éè¦å¢å åéç®æ³ãä¾å¦ï¼å¸¸è§çåæºç®æ³æä¸»å¤ãä¸»ä¸»ï¼ä¸»å¤æ¹æ¡åå¯ä»¥ç»åä¸ºå·å¤ãæ¸©å¤ãç­å¤ã\n\n# æç¶æåºç¨çé«å¯ç¨\n\næç¶æåºç¨ï¼æ¯æéè¦å­å¨æ°æ®çç³»ç»ï¼æ¯å¦åç§åå¸å¼å­å¨ãåæ ç¶æåºç¨ç¸æ¯ï¼æä¸ä¸ªæ¬è´¨ä¸çåºå«ï¼åèç¹éè¦éè¿åæ­¥ä¿ææ°æ®ä¸è´ãåå¸å¼é¢åéé¢æä¸ä¸ªèåç cap å®çï¼ä»çè®ºä¸è®ºè¯äºå­å¨é«å¯ç¨çå¤æåº¦ãä¹å°±æ¯è¯´ï¼å­å¨é«å¯ç¨ä¸å¯è½åæ¶æ»¡è¶³âä¸è´æ§ãå¯ç¨æ§ãååºå®¹éæ§âï¼æå¤æ»¡è¶³å¶ä¸­ä¸¤ä¸ªï¼è¿å°±è¦æ±æä»¬å¨åæ¶æè®¾è®¡æ¶ç»åä¸å¡è¿è¡åèã\n\n# é«å¯ç¨ææ®µ\n\né«å¯ç¨çå¸¸ç¨ææ®µï¼\n\n * è´è½½åè¡¡ - éè¿è´è½½åè¡¡è®¾å¤å»ºç«éç¾¤å±åå¯¹å¤æä¾æå¡ã\n * å¤ä»½ - æ°æ®å­å¨å¨å¤å°æå¡å¨ï¼äºç¸å¤ä»½ãå³ä½¿è®¿é®åè´è½½å¾å°çæå¡ä¹å¿é¡»é¨ç½²è³å°ä¸¤å°æå¡å¨ï¼ææä¸ä¸ªéç¾¤ï¼ç®çå°±æ¯éè¿åä½å®ç°æå¡çé«å¯ç¨ã\n   * å·å¤ä»½ - æ°æ®åºè¯¥å®æå¤ä»½ï¼\n   * ç­å¤ä»½ - ä¸ºäºä¿è¯å¨çº¿ä¸å¡é«å¯ç¨ï¼è¿éè¦å¯¹æ°æ®åºè¿è¡ä¸»ä»åç¦»ï¼å®æ¶åæ­¥ ã\n   * ç¾å¤ - ä¸ºäºæµå¾¡å°éãæµ·å¸ç­ä¸å¯æå ç´ å¯¼è´çç½ç«å®å¨ç«çªï¼æäºå¤§åç½ç«ä¼å¯¹æ´ä¸ªæ°æ®ä¸­å¿è¿è¡å¤ä»½ï¼å¨çèå´åé¨ç½² ç¾å¤æ°æ®ä¸­å¿ãç½ç«ç¨åºåæ°æ®å®æåæ­¥å°å¤ä¸ªç¾å¤æ°æ®ä¸­å¿ã\n * èªå¨å - èªå¨åæ¯æï¼å¤§åç³»ç»æå¿è¦éè¿é¢åå¸éªè¯ãèªå¨åæµè¯ãèªå¨ååå¸ãç°åº¦åå¸ç­ææ®µï¼åå°å°æéå¼å¥çº¿ä¸ç¯å¢çå¯è½ãå¸¸è§èªå¨åææ®µæï¼\n   * åå¸è¿ç¨èªå¨å\n     * èªå¨åä»£ç ç®¡ç\n     * èªå¨åæµè¯\n     * èªå¨åå®å¨çæµ\n     * èªå¨åé¨ç½²\n   * è¿ç»´èªå¨å\n     * èªå¨åçæ§\n     * èªå¨åæ¥è­¦\n     * èªå¨åå¤±æè½¬ç§»\n     * èªå¨åå¤±ææ¢å¤\n     * èªå¨åéçº§\n     * èªå¨ååéèµæº\n\n\n# æ©å±æ§\n\n> å¯æ©å±æ§æç³»ç»ä¸ºäºåºå¯¹å°æ¥éæ±ååèæä¾çä¸ç§æ©å±è½åï¼å½ææ°çéæ±åºç°æ¶ï¼ç³»ç»ä¸éè¦æèä»éè¦å°éä¿®æ¹å°±å¯ä»¥æ¯æï¼æ é¡»æ´ä¸ªç³»ç»éææèéå»ºã\n> \n> è¡¡éæ©å±æ§çæ åå°±æ¯å¢å æ°çä¸å¡äº§åæ¶ï¼æ¯å¦å¯ä»¥å®ç°å¯¹ç°æäº§åéææ å½±åï¼ä¸éè¦ä»»ä½æ¹å¨æå¾å°æ¹å¨ï¼æ¢æåè½å°±å¯ä»¥ä¸çº¿æ°äº§åã\n> \n> è½¯ä»¶åå±çä¸ä¸ªéè¦ç®æ åé©±å¨åæ¯éä½è½¯ä»¶è¦åæ§ãäºç©ä¹é´ç´æ¥å³ç³»è¶å°ï¼å½¼æ­¤å½±åå°±è¶å°ï¼ä¹å°±æ´å®¹æç¬ç«åå±ï¼å³æ©å±æ§å¥½ã\n\nä¸»è¦ææ®µæï¼\n\n * åå± - åå±æ¯æ©å±æ§è®¾è®¡çæåºæ¬ææ®µãéè¿åå±ï¼å¯ä»¥å°ä¸ä¸ªçè½¯ä»¶ç³»ç»ååä¸ºä¸åçé¨åï¼ä¾¿äºåå·¥åä½å¼ååç»´æ¤ï¼åå±é´å·æä¸å®çç¬ç«æ§ã\n   \n   * åå±æ¶æççº¦æï¼ç¦æ­¢è·¨å±æ¬¡çè°ç¨åéåè°ç¨ã\n   * å³ä½¿ç³»ç»è§æ¨¡å¾å°ï¼ä¹åºè¯¥èèéç¨åå±çæ¶æï¼è¿æ ·ä¾¿äºä»¥åæ©å±ã\n\n * åå² - å°ä¸åçåè½åæå¡åå²å¼æ¥ï¼åè£æé«åèãä½è¦åçæ¨¡åååãè¿æå©äºè½¯ä»¶çå¼ååç»´æ¤ï¼ä¾¿äºä¸åæ¨¡åçåå¸å¼é¨ç½²ï¼æé«ç³»ç»çå¹¶åå¤çè½åååè½æ©å±è½åã\n\n * å¼æ­¥ - ä¸å¡é´çæ¶æ¯ä¼ éä¸æ¯åæ­¥è°ç¨ï¼èæ¯å°ä¸ä¸ªä¸å¡æä½æåæå¤é¶æ®µï¼æ¯ä¸ªé¶æ®µé´éè¿å±äº«æ°æ®çæ¹å¼å¼æ­¥æ§è¡è¿è¡åä½ã\n   \n   * å¨åä¸æå¡å¨åé¨å¯éè¿å¤çº¿ç¨å±äº«åå­éåçæ¹å¼å®ç°å¼æ­¥ï¼å¤å¨ä¸å¡æä½åé¢ççº¿ç¨å°æä½è¾åºå°éåï¼åé¢ççº¿ç¨ä»éåä¸­è¯»åæ°æ®è¿è¡å¤çï¼\n   * å¨åå¸å¼ç³»ç»ä¸­ï¼å¤ä¸ªæå¡å¨éç¾¤éè¿åå¸å¼æ¶æ¯éåå®ç°å¼æ­¥ã\n\n * åå¸å¼ - å°ä¸å¡åå¯å¤ç¨æå¡åç¦»ï¼éè¿åå¸å¼æå¡æ¡æ¶è°ç¨ãåå¸å¼æ¯æå¤å°æå¡å¨é¨ç½²ç¸ååºç¨ææä¸ä¸ªéç¾¤ï¼éè¿è´è½½åè¡¡è®¾å¤å±åå¯¹å¤æä¾æå¡ãçæå³çæå¡å¯ä»¥ç¨æ´å¤çæºå¨å·¥ä½ï¼å³æ©å± cpuãåå­ãio ç­èµæºï¼ä»èæé«ç³»ç»æ´ä½çååéåå¹¶åå¤çè½åã\n   \n   * å¸¸ç¨çåå¸å¼æ¹æ¡ï¼\n     * åå¸å¼åºç¨åæå¡\n     * åå¸å¼éæèµæº\n     * åå¸å¼æ°æ®åå­å¨\n     * åå¸å¼è®¡ç®\n   * åå¸å¼ä¹å¼å¥äºä¸äºé®é¢ï¼\n     * æå¡è°ç¨å¿é¡»éè¿ç½ç»ï¼ç½ç»å»¶è¿ä¼å½±åæ§è½ã\n     * æå¡å¨è¶å¤ï¼å®æºæ¦çä¹è¶å¤§ï¼å¯¼è´å¯ç¨æ§éä½ã\n     * æ°æ®ä¸è´æ§éå¸¸å°é¾ï¼åå¸å¼äºå¡ä¹é¾ä»¥ä¿è¯ã\n     * ç½ç«ä¾èµéç»¼å¤æï¼å¼åç®¡çç»´æ¤å°é¾ã\n\n\n# ä¼¸ç¼©æ§\n\n> è¡¡éä¼¸ç¼©çæ åå°±æ¯æ¯å¦å¯ä»¥ç¨å¤å°æå¡å¨æå»ºéç¾¤ï¼æ¯å¦å®¹æåéç¾¤ä¸­å¢å æå¡å¨èç¹ãå¢å æå¡å¨èç¹åæ¯å¦å¯ä»¥æä¾åä¹åæ å·®å«çæå¡ãéç¾¤ä¸­å¯å®¹çº³çæ»æå¡å¨æ°æ¯å¦æéå¶ã\n\nä¼¸ç¼©æ§æ¯æéè¿å¢/åæå¡å¨èç¹æ°ï¼æ¥çµæ´»çæé«/éä½ç³»ç»å¤çè½åã\n\nä¸»è¦ææ®µæ:\n\n * åºç¨æå¡å¨éç¾¤ - åªè¦æå¡å¨ä¸ä¿å­æ°æ®ï¼åæææå¡å¨é½æ¯å¯¹ç­çï¼éè¿è´è½½åè¡¡è®¾å¤åéç¾¤ä¸­ä¸æ­å å¥æå¡å¨å³å¯\n * ç¼å­æå¡å¨éç¾¤ - å å¥æ°çæå¡å¨å¯è½ä¼å¯¼è´ç¼å­è·¯ç±å¤±æï¼è¿èå¯¼è´éç¾¤ä¸­çå¤§é¨åç¼å­æ°æ®é½æ æ³è®¿é®ãè½ç¶ç¼å­æ°æ®å¯ä»¥éè¿æ°æ®åºéæ°å è½½ï¼ä½æ¯å¦æåºç¨ä¸¥éä¾èµç¼å­ï¼å¯è½ä¼å¯¼è´ç½ç«å´©æºãéè¦æ¹è¿ç¼å­è·¯ç±ç®æ³ä¿è¯ç¼å­æ°æ®çå¯è®¿é®æ§ã\n * å³ç³»åæ°æ®åºéç¾¤ - å³ç³»åæ°æ®åºè½ç¶æ¯ææ°æ®å¤å¶ï¼ä¸»ä»ç­å¤ç­æºå¶ï¼ä½æ¯å¾é¾åå°å¤§è§æ¨¡éç¾¤çå¯ä¼¸ç¼©æ§ï¼å æ­¤å³ç³»åæ°æ®åºçéç¾¤ä¼¸ç¼©æ§æ¹æ¡å¿é¡»å¨æ°æ®åºä¹å¤å®ç°ï¼éè¿è·¯ç±ååºç­ææ®µå°é¨ç½²æå¤ä¸ªæ°æ®åºçæå¡å¨ç»æä¸ä¸ªéç¾¤ã\n * nosql æ°æ®åºéç¾¤ - ç±äºåå¤©å°±æ¯ä¸ºäºåºå¯¹æµ·éæ°æ®èäº§çï¼å æ­¤å¯¹ä¼¸ç¼©æ§çæ¯æéå¸¸é½éå¸¸å¥½ã\n\n\n# å®å¨æ§\n\nå®å¨æ¯æç³»ç»åºè¯¥å¯¹æ¶ææ»å»æä¸å®çæµæè½åï¼ä¿æ¤éè¦æ°æ®ä¸è¢«çªåã\n\n * å¯ç  å ææºæ ¡éªç  è¿è¡èº«ä»½è®¤è¯\n * ç»å½ãäº¤æç­éè¦æä½éè¦å¯¹ç½ç»éä¿¡è¿è¡ å å¯ï¼å­å¨çæææ°æ®å¦ç¨æ·ä¿¡æ¯ç­ä¹è¿è¡å å¯å¤ç\n * é²æ­¢æºå¨äººç¨åºæ»å»ç½ç«ï¼ä½¿ç¨ éªè¯ç  è¿è¡è¯å«\n * å¯¹å¸¸è§ç¨äº æ»å» ç½ç«ç xss æ»å»ãsql æ³¨å¥ãè¿è¡ç¼ç è½¬æ¢ç­ç¸åºå¤ç\n * å¯¹åå¾ä¿¡æ¯ãææä¿¡æ¯è¿è¡ è¿æ»¤\n * å¯¹äº¤æè½¬è´¦ç­éè¦æä½æ ¹æ®äº¤ææ¨¡å¼åäº¤æä¿¡æ¯è¿è¡ é£é©æ§å¶\n\n\n# å¸¸è§æ¶ææ¨¡å\n\n\n# åå±æ¶æ\n\nåå±æ¶æï¼layered architectureï¼æ¯æå¸¸è§çè½¯ä»¶æ¶æï¼ä¹æ¯äºå®ä¸çæ åæ¶æã\n\nè¿ç§æ¶æå°è½¯ä»¶åæè¥å¹²ä¸ªæ°´å¹³å±ï¼æ¯ä¸å±é½ææ¸æ°çè§è²ååå·¥ï¼ä¸éè¦ç¥éå¶ä»å±çç»èãå±ä¸å±ä¹é´éè¿æ¥å£éä¿¡ã\n\nåå±çç»ææå¸¸è§ã\n\n\n * è¡¨ç°å±ï¼presentationï¼ï¼ç¨æ·çé¢ï¼è´è´£è§è§åç¨æ·äºå¨\n * ä¸å¡å±ï¼businessï¼ï¼å®ç°ä¸å¡é»è¾\n * æä¹å±ï¼persistenceï¼ï¼æä¾æ°æ®ï¼sql è¯­å¥å°±æ¾å¨è¿ä¸å±\n * æ°æ®åºï¼databaseï¼ ï¼ä¿å­æ°æ®\n\nä¼ç¹\n\n * ç»æç®åï¼å®¹æçè§£åå¼å\n * ä¸åæè½çç¨åºåå¯ä»¥åå·¥ï¼è´è´£ä¸åçå±ï¼å¤©ç¶éåå¤§å¤æ°è½¯ä»¶å¬å¸çç»ç»æ¶æ\n * æ¯ä¸å±é½å¯ä»¥ç¬ç«æµè¯ï¼å¶ä»å±çæ¥å£éè¿æ¨¡æè§£å³\n\nç¼ºç¹\n\n * ä¸æ¦ç¯å¢ååï¼éè¦ä»£ç è°æ´æå¢å åè½æ¶ï¼éå¸¸æ¯è¾éº»ç¦åè´¹æ¶\n * é¨ç½²æ¯è¾éº»ç¦ï¼å³ä½¿åªä¿®æ¹ä¸ä¸ªå°å°æ¹ï¼å¾å¾éè¦æ´ä¸ªè½¯ä»¶éæ°é¨ç½²ï¼ä¸å®¹æåæç»­åå¸\n * è½¯ä»¶åçº§æ¶ï¼å¯è½éè¦æ´ä¸ªæå¡æå\n * æ©å±æ§å·®ãç¨æ·è¯·æ±å¤§éå¢å æ¶ï¼å¿é¡»ä¾æ¬¡æ©å±æ¯ä¸å±ï¼ç±äºæ¯ä¸å±åé¨æ¯è¦åçï¼æ©å±ä¼å¾å°é¾\n\n\n# äºä»¶é©±å¨æ¶æ\n\näºä»¶ï¼eventï¼æ¯ç¶æåçååæ¶ï¼è½¯ä»¶ååºçéç¥ã\n\näºä»¶é©±å¨æ¶æï¼event-driven architectureï¼å°±æ¯éè¿äºä»¶è¿è¡éä¿¡çè½¯ä»¶æ¶æãå®åæåä¸ªé¨åã\n\n\n * äºä»¶éåï¼event queueï¼ï¼æ¥æ¶äºä»¶çå¥å£\n * ååå¨ï¼event mediatorï¼ï¼å°ä¸åçäºä»¶ååå°ä¸åçä¸å¡é»è¾åå\n * äºä»¶ééï¼event channelï¼ï¼ååå¨ä¸å¤çå¨ä¹é´çèç³»æ¸ é\n * äºä»¶å¤çå¨ï¼event processorï¼ï¼å®ç°ä¸å¡é»è¾ï¼å¤çå®æåä¼ååºäºä»¶ï¼è§¦åä¸ä¸æ­¥æä½\n\nå¯¹äºç®åçé¡¹ç®ï¼äºä»¶éåãååå¨åäºä»¶ééï¼å¯ä»¥åä¸ºä¸ä½ï¼æ´ä¸ªè½¯ä»¶å°±åæäºä»¶ä»£çåäºä»¶å¤çå¨ä¸¤é¨åã\n\n\n\nä¼ç¹\n\n * åå¸å¼çå¼æ­¥æ¶æï¼äºä»¶å¤çå¨ä¹é´é«åº¦è§£è¦ï¼è½¯ä»¶çæ©å±æ§å¥½\n * éç¨æ§å¹¿ï¼åç§ç±»åçé¡¹ç®é½å¯ä»¥ç¨\n * æ§è½è¾å¥½ï¼å ä¸ºäºä»¶çå¼æ­¥æ¬è´¨ï¼è½¯ä»¶ä¸æäº§çå µå¡\n * äºä»¶å¤çå¨å¯ä»¥ç¬ç«å°å è½½åå¸è½½ï¼å®¹æé¨ç½²\n\nç¼ºç¹\n\n * æ¶åå¼æ­¥ç¼ç¨ï¼è¦èèè¿ç¨éä¿¡ãå¤±å»ååºç­æåµï¼ï¼å¼åç¸å¯¹å¤æ\n * é¾ä»¥æ¯æåå­æ§æä½ï¼å ä¸ºäºä»¶éè¿ä¼æ¶åå¤ä¸ªå¤çå¨ï¼å¾é¾åæ»\n * åå¸å¼åå¼æ­¥ç¹æ§å¯¼è´è¿ä¸ªæ¶æè¾é¾æµè¯\n\n\n# å¾®æ ¸æ¶æ\n\nå¾®æ ¸æ¶æï¼microkernel architectureï¼åç§°ä¸º"æä»¶æ¶æ"ï¼plug-in architectureï¼ï¼æçæ¯è½¯ä»¶çåæ ¸ç¸å¯¹è¾å°ï¼ä¸»è¦åè½åä¸å¡é»è¾é½éè¿æä»¶å®ç°ã\n\nåæ ¸ï¼coreï¼éå¸¸åªåå«ç³»ç»è¿è¡çæå°åè½ãæä»¶åæ¯äºç¸ç¬ç«çï¼æä»¶ä¹é´çéä¿¡ï¼åºè¯¥åå°å°æä½ï¼é¿ååºç°äºç¸ä¾èµçé®é¢ã\n\n\n\nä¼ç¹\n\n * è¯å¥½çåè½å»¶ä¼¸æ§ï¼extensibilityï¼ï¼éè¦ä»ä¹åè½ï¼å¼åä¸ä¸ªæä»¶å³å¯\n * åè½ä¹é´æ¯éç¦»çï¼æä»¶å¯ä»¥ç¬ç«çå è½½åå¸è½½ï¼ä½¿å¾å®æ¯è¾å®¹æé¨ç½²ï¼\n * å¯å®å¶æ§é«ï¼éåºä¸åçå¼åéè¦\n * å¯ä»¥æ¸è¿å¼å°å¼åï¼éæ­¥å¢å åè½\n\nç¼ºç¹\n\n * æ©å±æ§ï¼scalabilityï¼å·®ï¼åæ ¸éå¸¸æ¯ä¸ä¸ªç¬ç«ååï¼ä¸å®¹æåæåå¸å¼\n * å¼åé¾åº¦ç¸å¯¹è¾é«ï¼å ä¸ºæ¶åå°æä»¶ä¸åæ ¸çéä¿¡ï¼ä»¥ååé¨çæä»¶ç»è®°æºå¶\n\n\n# å¾®æå¡æ¶æ\n\nå¾®æå¡æ¶æï¼microservices architectureï¼æ¯æå¡å¯¼åæ¶æï¼service-oriented architectureï¼ç¼©å soaï¼çåçº§ã\n\næ¯ä¸ä¸ªæå¡å°±æ¯ä¸ä¸ªç¬ç«çé¨ç½²ååï¼separately deployed unitï¼ãè¿äºååé½æ¯åå¸å¼çï¼äºç¸è§£è¦ï¼éè¿è¿ç¨éä¿¡åè®®ï¼æ¯å¦ restãsoapï¼èç³»ã\n\n\n\nå¾®æå¡æ¶æåæä¸ç§å®ç°æ¨¡å¼ã\n\n * restful api æ¨¡å¼ï¼æå¡éè¿ api æä¾ï¼äºæå¡å°±å±äºè¿ä¸ç±»\n * restful åºç¨æ¨¡å¼ï¼æå¡éè¿ä¼ ç»çç½ç»åè®®æèåºç¨åè®®æä¾ï¼èåéå¸¸æ¯ä¸ä¸ªå¤åè½çåºç¨ç¨åºï¼å¸¸è§äºä¼ä¸åé¨\n * éä¸­æ¶æ¯æ¨¡å¼ï¼éç¨æ¶æ¯ä»£çï¼message brokerï¼ï¼å¯ä»¥å®ç°æ¶æ¯éåãè´è½½åè¡¡ãç»ä¸æ¥å¿åå¼å¸¸å¤çï¼ç¼ºç¹æ¯ä¼åºç°åç¹å¤±è´¥ï¼æ¶æ¯ä»£çå¯è½è¦åæéç¾¤\n\nä¼ç¹\n\n * æ©å±æ§å¥½ï¼åä¸ªæå¡ä¹é´ä½è¦å\n * å®¹æé¨ç½²ï¼è½¯ä»¶ä»åä¸å¯é¨ç½²ååï¼è¢«ææäºå¤ä¸ªæå¡ï¼æ¯ä¸ªæå¡é½æ¯å¯é¨ç½²åå\n * å®¹æå¼åï¼æ¯ä¸ªç»ä»¶é½å¯ä»¥è¿è¡æç»­éæå¼çå¼åï¼å¯ä»¥åå°å®æ¶é¨ç½²ï¼ä¸é´æ­å°åçº§\n * æäºæµè¯ï¼å¯ä»¥åç¬æµè¯æ¯ä¸ä¸ªæå¡\n\nç¼ºç¹\n\n * ç±äºå¼ºè°äºç¸ç¬ç«åä½è¦åï¼æå¡å¯è½ä¼æåå¾å¾ç»ãè¿å¯¼è´ç³»ç»ä¾èµå¤§éçå¾®æå¡ï¼åå¾å¾åä¹±åç¬¨éï¼æ§è½ä¹ä¼ä¸ä½³ã\n * ä¸æ¦æå¡ä¹é´éè¦éä¿¡ï¼å³ä¸ä¸ªæå¡è¦ç¨å°å¦ä¸ä¸ªæå¡ï¼ï¼æ´ä¸ªæ¶æå°±ä¼åå¾å¤æãå¸åçä¾å­å°±æ¯ä¸äºéç¨ç utility ç±»ï¼ä¸ç§è§£å³æ¹æ¡æ¯æå®ä»¬æ·è´å°æ¯ä¸ä¸ªæå¡ä¸­å»ï¼ç¨åä½æ¢åæ¶æçç®åæ§ã\n * åå¸å¼çæ¬è´¨ä½¿å¾è¿ç§æ¶æå¾é¾å®ç°åå­æ§æä½ï¼äº¤æåæ»ä¼æ¯è¾å°é¾ã\n\n\n# äºæ¶æ\n\näºç»æï¼cloud architectureï¼ä¸»è¦è§£å³æ©å±æ§åå¹¶åçé®é¢ï¼æ¯æå®¹ææ©å±çæ¶æã\n\nå®çé«æ©å±æ§ï¼ä¸»è¦åå æ¯æ²¡ä½¿ç¨ä¸­å¤®æ°æ®åºï¼èæ¯ææ°æ®é½å¤å¶å°åå­ä¸­ï¼åæå¯å¤å¶çåå­æ°æ®ååãç¶åï¼ä¸å¡å¤çè½åå°è£æä¸ä¸ªä¸ªå¤çååï¼prcessing unitï¼ãè®¿é®éå¢å ï¼å°±æ°å»ºå¤çååï¼è®¿é®éåå°ï¼å°±å³é­å¤çååãç±äºæ²¡æä¸­å¤®æ°æ®åºï¼æä»¥æ©å±æ§çæå¤§ç¶é¢æ¶å¤±äºãç±äºæ¯ä¸ªå¤çååçæ°æ®é½å¨åå­éï¼æå¥½è¦è¿è¡æ°æ®æä¹åã\n\n\n\nè¿ä¸ªæ¨¡å¼ä¸»è¦åæä¸¤é¨åï¼å¤çååï¼processing unitï¼åèæä¸­é´ä»¶ï¼virtualized middlewareï¼ã\n\n * å¤çååï¼å®ç°ä¸å¡é»è¾\n * èæä¸­é´ä»¶ï¼è´è´£éä¿¡ãä¿æ sessionsãæ°æ®å¤å¶ãåå¸å¼å¤çãå¤çååçé¨ç½²ã\n\nèæä¸­é´ä»¶ååå«åä¸ªç»ä»¶ã\n\n>  * æ¶æ¯ä¸­é´ä»¶ï¼messaging gridï¼ï¼ç®¡çç¨æ·è¯·æ±å sessionï¼å½ä¸ä¸ªè¯·æ±è¿æ¥ä»¥åï¼å³å®åéç»åªä¸ä¸ªå¤çååã\n>  * æ°æ®ä¸­é´ä»¶ï¼data gridï¼ï¼å°æ°æ®å¤å¶å°æ¯ä¸ä¸ªå¤çååï¼å³æ°æ®åæ­¥ãä¿è¯æä¸ªå¤çååé½å¾å°åæ ·çæ°æ®ã\n>  * å¤çä¸­é´ä»¶ï¼processing gridï¼ï¼å¯éï¼å¦æä¸ä¸ªè¯·æ±æ¶åä¸åç±»åçå¤çååï¼è¯¥ä¸­é´ä»¶è´è´£åè°å¤çåå\n>  * é¨ç½²ä¸­é´ä»¶ï¼deployment managerï¼ï¼è´è´£å¤çååçå¯å¨åå³é­ï¼çæ§è´è½½åååºæ¶é´ï¼å½è´è½½å¢å ï¼å°±æ°å¯å¨å¤çååï¼è´è½½åå°ï¼å°±å³é­å¤çååã\n\nä¼ç¹\n\n * é«è´è½½ï¼é«æ©å±æ§\n * å¨æé¨ç½²\n\nç¼ºç¹\n\n * å®ç°å¤æï¼ææ¬è¾é«\n * ä¸»è¦éåç½ç«ç±»åºç¨ï¼ä¸åéå¤§éæ°æ®ååçå¤§åæ°æ®åºåºç¨\n * è¾é¾æµè¯\n\n\n# åèèµæ\n\n * ãå¤§åç½ç«ææ¯æ¶æï¼æ ¸å¿åçä¸æ¡ä¾åæã\n * ãä» 0 å¼å§å­¦æ¶æã\n * è½¯ä»¶æ¶æå¥é¨- é®ä¸å³°çç½ç»æ¥å¿',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"ç³»ç»æµè¯æ¶æ",frontmatter:{title:"ç³»ç»æµè¯æ¶æ",date:"2019-12-10T17:00:00.000Z",categories:["è®¾è®¡","æ¶æ","ç»¼å"],tags:["æ¶æ","è®¾è®¡","æµè¯"],permalink:"/pages/641e5c/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/01.%E6%9E%B6%E6%9E%84/00.%E7%BB%BC%E5%90%88/09.%E7%B3%BB%E7%BB%9F%E6%B5%8B%E8%AF%95%E6%9E%B6%E6%9E%84.html",relativePath:"03.è®¾è®¡/01.æ¶æ/00.ç»¼å/09.ç³»ç»æµè¯æ¶æ.md",key:"v-c62a590a",path:"/pages/641e5c/",headers:[{level:2,title:"æµè¯æ¹æ³åç±»",slug:"æµè¯æ¹æ³åç±»",normalizedTitle:"æµè¯æ¹æ³åç±»",charIndex:301},{level:3,title:"ä»æµè¯è®¾è®¡æ¹æ³åç±»",slug:"ä»æµè¯è®¾è®¡æ¹æ³åç±»",normalizedTitle:"ä»æµè¯è®¾è®¡æ¹æ³åç±»",charIndex:312},{level:3,title:"ä»æµè¯çç®çåç±»",slug:"ä»æµè¯çç®çåç±»",normalizedTitle:"ä»æµè¯çç®çåç±»",charIndex:597},{level:4,title:"åè½æµè¯",slug:"åè½æµè¯",normalizedTitle:"åè½æµè¯",charIndex:609},{level:4,title:"éåè½æµè¯",slug:"éåè½æµè¯",normalizedTitle:"éåè½æµè¯",charIndex:983},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:1388}],headersStr:"æµè¯æ¹æ³åç±» ä»æµè¯è®¾è®¡æ¹æ³åç±» ä»æµè¯çç®çåç±» åè½æµè¯ éåè½æµè¯ åèèµæ",content:"# ç³»ç»æµè¯æ¶æ\n\n> è½¯ä»¶æµè¯æè¿°ä¸ç§ç¨æ¥ä¿è¿é´å®è½¯ä»¶çæ­£ç¡®æ§ãå®æ´æ§ãå®å¨æ§åè´¨éçè¿ç¨ãè½¯ä»¶æµè¯çç»å¸å®ä¹æ¯ï¼å¨è§å®çæ¡ä»¶ä¸å¯¹ç¨åºè¿è¡æä½ï¼ä»¥åç°ç¨åºéè¯¯ï¼è¡¡éè½¯ä»¶è´¨éï¼å¹¶å¯¹å¶æ¯å¦è½æ»¡è¶³è®¾è®¡è¦æ±è¿è¡è¯ä¼°çè¿ç¨ã\n> \n> ç°ä»£è½¯ä»¶å¼åé¡¹ç®ä¸­ï¼åå·¥æç¡®ï¼åºæ¬ä¸é½ä¼æç åãæµè¯ãQA ç­è§è²ãä¸åè§è²ç±äºå³æ³¨çè§è§ä¸åï¼æµè¯ç®æ åæµè¯æ¹æ³ä¹ä¸å®å¨ç¸åãæ¬æä¸»è¦ä»ç åãæµè¯çè§è§å»èéè½¯ä»¶æµè¯ææ¯ã\n> \n> æ³¨æï¼\n> \n>  * ä¸ºäºæ¹ä¾¿ï¼åªææµè¯äººåéè¦å³æ³¨çæµè¯ç¹ç¨ãæµè¯ãæ æ³¨ï¼\n>  * èåªæç åäººåéè¦å³æ³¨çæµè¯ç¹ç¨ãç åãæ æ³¨ï¼\n>  * é½éè¦å³æ³¨çæµè¯ç¹åä¸ä½æ æ³¨ã\n\n\n# æµè¯æ¹æ³åç±»\n\n\n# ä»æµè¯è®¾è®¡æ¹æ³åç±»\n\n * é»çæµè¯ãæµè¯ã - æè½¯ä»¶ç³»ç»å½ä½ä¸ä¸ªâé»ç®±âï¼æ æ³äºè§£æä½¿ç¨ç³»ç»çåé¨ç»æåç¥è¯ãä»è½¯ä»¶çè¡ä¸ºï¼èä¸æ¯åé¨ç»æåºåæ¥è®¾è®¡æµè¯ã\n * ç½çæµè¯ãç åã - è®¾è®¡èå¯ä»¥çå°è½¯ä»¶ç³»ç»çåé¨ç»æï¼å¹¶ä¸ä½¿ç¨è½¯ä»¶çåé¨ç¥è¯æ¥æå¯¼æµè¯æ°æ®åæ¹æ³çéæ©ã\n * ç°çæµè¯ - ä»äºé»çåç½çä¹é´ã\n\n> å°ç»ï¼\n> \n>  * é»æ²³æµè¯éå¸¸éå¯¹çæ¯è½¯ä»¶çè¡ä¸ºæåè½ï¼ä¸è¬æ¯æµè¯äººåä¸»è¦å³æ³¨çã\n>  * ç½çæµè¯éå¸¸åéè¦å¯¹è½¯ä»¶æä¸å®ç¨åº¦çäºè§£ï¼ä¸è¬æ¯å¼åäººåæå³æ³¨çã\n>  * ç°çæµè¯éå¸¸æ¯ä¸ºäºæµè¯è½¯ä»¶å¨ç¹å®çåºæ¯ä¸çè¡¨ç°ï¼èéä¸»åºæ¯ã\n\n\n# ä»æµè¯çç®çåç±»\n\n# åè½æµè¯\n\n * ååæµè¯ï¼Unit Testï¼ - å¨æä½ç²åº¦çåè½/åæ°ä¸éªè¯ç¨åºçåç¡®æ§ï¼æ¯å¦æµè¯ä¸ä¸ªå½æ°çæ­£ç¡®æ§ããç åã\n   * å¸¸ç¨ææ¯ï¼junit4ãjunit5ãmockitoãassertj-core\n * åè½æµè¯ï¼Functional Testï¼ - éªè¯æ¨¡åçåè½ããæµè¯ã\n * éææµè¯ï¼Integration Testï¼ - éªè¯å ä¸ªäºç¸æä¾èµå³ç³»çæ¨¡åçåè½ããæµè¯ã\n * åºæ¯æµè¯ï¼Scenario Testï¼- éªè¯å ä¸ªæ¨¡åæ¯å¦è½å®æä¸ä¸ªç¨æ·åºæ¯ããæµè¯ã\n * ç³»ç»æµè¯ï¼System Testï¼ - å¯¹äºæ´ä¸ªç³»ç»åè½çæµè¯ããæµè¯ã\n * Alpha æµè¯ - è½¯ä»¶æµè¯äººåå¨çå®ç¨æ·ç¯å¢ä¸­å¯¹è½¯ä»¶è¿è¡å¨é¢çæµè¯ããæµè¯ã\n * Beta æµè¯ - ä¹å«å¬æµï¼æ¯çå®çç¨æ·å¨çå®çç¯å¢ä¸­è¿è¡çæµè¯ã\n\n# éåè½æµè¯\n\n * ååæµè¯ï¼Stress testï¼ - éªè¯è½¯ä»¶å¨è¶è¿è´è½½è®¾è®¡çæåµä¸ä»è½è¿åæ­£ç¡®çç»æï¼æ²¡æå´©æº\n * è´è½½æµè¯ï¼Load testï¼ - æµè¯è½¯ä»¶å¨è´è½½æåµä¸è½å¦æ­£å¸¸å·¥ä½\n * æ§è½æµè¯ï¼Performance testï¼ - æµè¯è½¯ä»¶çæè½ï¼æ¯å¦æä¾æ»¡æçæå¡è´¨éã\n   * å¸¸ç¨ææ¯ï¼JMeterãJMHã\n * è½¯ä»¶è¾å©åè½æµè¯ï¼Accessibility testï¼ - æµè¯è½¯ä»¶æ¯å¦åæ®ç¾ç¨æ·æä¾è¶³å¤çè¾å©åè½\n * æ¬å°å/å¨çåæµè¯ï¼Localization/Globalizationï¼\n * å¼å®¹æ§æµè¯ï¼Compatibility Testï¼\n * éç½®æµè¯ï¼Configuration Testï¼ - æµè¯è½¯ä»¶å¨åç§éç½®ä¸è½å¦æ­£å¸¸å·¥ä½\n * å¯ç¨æ§æµè¯ï¼Usability Testï¼ â æµè¯è½¯ä»¶æ¯å¦å¥½ç¨\n * å®å¨æ§æµè¯ï¼Security Testï¼\n\n\n# åèèµæ\n\n * è½¯ä»¶æµè¯ (ä¸) è½¯ä»¶æµè¯æ¹æ³å¤§æ±æ»\n * Java å¾®åºåæµè¯æ¡æ¶ JMH",normalizedContent:"# ç³»ç»æµè¯æ¶æ\n\n> è½¯ä»¶æµè¯æè¿°ä¸ç§ç¨æ¥ä¿è¿é´å®è½¯ä»¶çæ­£ç¡®æ§ãå®æ´æ§ãå®å¨æ§åè´¨éçè¿ç¨ãè½¯ä»¶æµè¯çç»å¸å®ä¹æ¯ï¼å¨è§å®çæ¡ä»¶ä¸å¯¹ç¨åºè¿è¡æä½ï¼ä»¥åç°ç¨åºéè¯¯ï¼è¡¡éè½¯ä»¶è´¨éï¼å¹¶å¯¹å¶æ¯å¦è½æ»¡è¶³è®¾è®¡è¦æ±è¿è¡è¯ä¼°çè¿ç¨ã\n> \n> ç°ä»£è½¯ä»¶å¼åé¡¹ç®ä¸­ï¼åå·¥æç¡®ï¼åºæ¬ä¸é½ä¼æç åãæµè¯ãqa ç­è§è²ãä¸åè§è²ç±äºå³æ³¨çè§è§ä¸åï¼æµè¯ç®æ åæµè¯æ¹æ³ä¹ä¸å®å¨ç¸åãæ¬æä¸»è¦ä»ç åãæµè¯çè§è§å»èéè½¯ä»¶æµè¯ææ¯ã\n> \n> æ³¨æï¼\n> \n>  * ä¸ºäºæ¹ä¾¿ï¼åªææµè¯äººåéè¦å³æ³¨çæµè¯ç¹ç¨ãæµè¯ãæ æ³¨ï¼\n>  * èåªæç åäººåéè¦å³æ³¨çæµè¯ç¹ç¨ãç åãæ æ³¨ï¼\n>  * é½éè¦å³æ³¨çæµè¯ç¹åä¸ä½æ æ³¨ã\n\n\n# æµè¯æ¹æ³åç±»\n\n\n# ä»æµè¯è®¾è®¡æ¹æ³åç±»\n\n * é»çæµè¯ãæµè¯ã - æè½¯ä»¶ç³»ç»å½ä½ä¸ä¸ªâé»ç®±âï¼æ æ³äºè§£æä½¿ç¨ç³»ç»çåé¨ç»æåç¥è¯ãä»è½¯ä»¶çè¡ä¸ºï¼èä¸æ¯åé¨ç»æåºåæ¥è®¾è®¡æµè¯ã\n * ç½çæµè¯ãç åã - è®¾è®¡èå¯ä»¥çå°è½¯ä»¶ç³»ç»çåé¨ç»æï¼å¹¶ä¸ä½¿ç¨è½¯ä»¶çåé¨ç¥è¯æ¥æå¯¼æµè¯æ°æ®åæ¹æ³çéæ©ã\n * ç°çæµè¯ - ä»äºé»çåç½çä¹é´ã\n\n> å°ç»ï¼\n> \n>  * é»æ²³æµè¯éå¸¸éå¯¹çæ¯è½¯ä»¶çè¡ä¸ºæåè½ï¼ä¸è¬æ¯æµè¯äººåä¸»è¦å³æ³¨çã\n>  * ç½çæµè¯éå¸¸åéè¦å¯¹è½¯ä»¶æä¸å®ç¨åº¦çäºè§£ï¼ä¸è¬æ¯å¼åäººåæå³æ³¨çã\n>  * ç°çæµè¯éå¸¸æ¯ä¸ºäºæµè¯è½¯ä»¶å¨ç¹å®çåºæ¯ä¸çè¡¨ç°ï¼èéä¸»åºæ¯ã\n\n\n# ä»æµè¯çç®çåç±»\n\n# åè½æµè¯\n\n * ååæµè¯ï¼unit testï¼ - å¨æä½ç²åº¦çåè½/åæ°ä¸éªè¯ç¨åºçåç¡®æ§ï¼æ¯å¦æµè¯ä¸ä¸ªå½æ°çæ­£ç¡®æ§ããç åã\n   * å¸¸ç¨ææ¯ï¼junit4ãjunit5ãmockitoãassertj-core\n * åè½æµè¯ï¼functional testï¼ - éªè¯æ¨¡åçåè½ããæµè¯ã\n * éææµè¯ï¼integration testï¼ - éªè¯å ä¸ªäºç¸æä¾èµå³ç³»çæ¨¡åçåè½ããæµè¯ã\n * åºæ¯æµè¯ï¼scenario testï¼- éªè¯å ä¸ªæ¨¡åæ¯å¦è½å®æä¸ä¸ªç¨æ·åºæ¯ããæµè¯ã\n * ç³»ç»æµè¯ï¼system testï¼ - å¯¹äºæ´ä¸ªç³»ç»åè½çæµè¯ããæµè¯ã\n * alpha æµè¯ - è½¯ä»¶æµè¯äººåå¨çå®ç¨æ·ç¯å¢ä¸­å¯¹è½¯ä»¶è¿è¡å¨é¢çæµè¯ããæµè¯ã\n * beta æµè¯ - ä¹å«å¬æµï¼æ¯çå®çç¨æ·å¨çå®çç¯å¢ä¸­è¿è¡çæµè¯ã\n\n# éåè½æµè¯\n\n * ååæµè¯ï¼stress testï¼ - éªè¯è½¯ä»¶å¨è¶è¿è´è½½è®¾è®¡çæåµä¸ä»è½è¿åæ­£ç¡®çç»æï¼æ²¡æå´©æº\n * è´è½½æµè¯ï¼load testï¼ - æµè¯è½¯ä»¶å¨è´è½½æåµä¸è½å¦æ­£å¸¸å·¥ä½\n * æ§è½æµè¯ï¼performance testï¼ - æµè¯è½¯ä»¶çæè½ï¼æ¯å¦æä¾æ»¡æçæå¡è´¨éã\n   * å¸¸ç¨ææ¯ï¼jmeterãjmhã\n * è½¯ä»¶è¾å©åè½æµè¯ï¼accessibility testï¼ - æµè¯è½¯ä»¶æ¯å¦åæ®ç¾ç¨æ·æä¾è¶³å¤çè¾å©åè½\n * æ¬å°å/å¨çåæµè¯ï¼localization/globalizationï¼\n * å¼å®¹æ§æµè¯ï¼compatibility testï¼\n * éç½®æµè¯ï¼configuration testï¼ - æµè¯è½¯ä»¶å¨åç§éç½®ä¸è½å¦æ­£å¸¸å·¥ä½\n * å¯ç¨æ§æµè¯ï¼usability testï¼ â æµè¯è½¯ä»¶æ¯å¦å¥½ç¨\n * å®å¨æ§æµè¯ï¼security testï¼\n\n\n# åèèµæ\n\n * è½¯ä»¶æµè¯ (ä¸) è½¯ä»¶æµè¯æ¹æ³å¤§æ±æ»\n * java å¾®åºåæµè¯æ¡æ¶ jmh",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"å¤§åç³»ç»æ ¸å¿ææ¯",frontmatter:{title:"å¤§åç³»ç»æ ¸å¿ææ¯",date:"2018-07-09T00:00:00.000Z",categories:["è®¾è®¡","æ¶æ","ç»¼å"],tags:["æ¶æ","åå¸å¼"],permalink:"/pages/8cbae8/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/01.%E6%9E%B6%E6%9E%84/00.%E7%BB%BC%E5%90%88/08.%E5%A4%A7%E5%9E%8B%E7%B3%BB%E7%BB%9F%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF.html",relativePath:"03.è®¾è®¡/01.æ¶æ/00.ç»¼å/08.å¤§åç³»ç»æ ¸å¿ææ¯.md",key:"v-1cf67f56",path:"/pages/8cbae8/",headers:[{level:2,title:"åå¸å¼äºå¡",slug:"åå¸å¼äºå¡",normalizedTitle:"åå¸å¼äºå¡",charIndex:269},{level:2,title:"åå¸å¼é",slug:"åå¸å¼é",normalizedTitle:"åå¸å¼é",charIndex:301},{level:3,title:"åºäºæ°æ®åºå®ç°åå¸å¼é",slug:"åºäºæ°æ®åºå®ç°åå¸å¼é",normalizedTitle:"åºäºæ°æ®åºå®ç°åå¸å¼é",charIndex:444},{level:4,title:"å®ç°",slug:"å®ç°",normalizedTitle:"å®ç°",charIndex:389},{level:5,title:"åå»ºè¡¨",slug:"åå»ºè¡¨",normalizedTitle:"åå»ºè¡¨",charIndex:465},{level:5,title:"è·åé",slug:"è·åé",normalizedTitle:"è·åé",charIndex:919},{level:5,title:"éæ¾é",slug:"éæ¾é",normalizedTitle:"éæ¾é",charIndex:1133},{level:4,title:"é®é¢",slug:"é®é¢",normalizedTitle:"é®é¢",charIndex:139},{level:4,title:"è§£å³åæ³",slug:"è§£å³åæ³",normalizedTitle:"è§£å³åæ³",charIndex:1467},{level:4,title:"å°ç»",slug:"å°ç»",normalizedTitle:"å°ç»",charIndex:1674},{level:3,title:"åºäº Redis å®ç°åå¸å¼é",slug:"åºäº-redis-å®ç°åå¸å¼é",normalizedTitle:"åºäº redis å®ç°åå¸å¼é",charIndex:1766},{level:4,title:"Redis å½ä»¤",slug:"redis-å½ä»¤",normalizedTitle:"redis å½ä»¤",charIndex:1874},{level:4,title:"å®ç°",slug:"å®ç°-2",normalizedTitle:"å®ç°",charIndex:389},{level:4,title:"é®é¢",slug:"é®é¢-2",normalizedTitle:"é®é¢",charIndex:139},{level:4,title:"å°ç»",slug:"å°ç»-2",normalizedTitle:"å°ç»",charIndex:1674},{level:3,title:"åºäº ZooKeeper å®ç°åå¸å¼é",slug:"åºäº-zookeeper-å®ç°åå¸å¼é",normalizedTitle:"åºäº zookeeper å®ç°åå¸å¼é",charIndex:2366},{level:4,title:"å®ç°",slug:"å®ç°-3",normalizedTitle:"å®ç°",charIndex:389},{level:4,title:"å°ç»",slug:"å°ç»-3",normalizedTitle:"å°ç»",charIndex:1674},{level:2,title:"åå¸å¼ Session",slug:"åå¸å¼-session",normalizedTitle:"åå¸å¼ session",charIndex:3128},{level:3,title:"Sticky Sessions",slug:"sticky-sessions",normalizedTitle:"sticky sessions",charIndex:3340},{level:3,title:"Session Replication",slug:"session-replication",normalizedTitle:"session replication",charIndex:3464},{level:3,title:"Session Server",slug:"session-server",normalizedTitle:"session server",charIndex:3569},{level:2,title:"åå¸å¼å­å¨",slug:"åå¸å¼å­å¨",normalizedTitle:"åå¸å¼å­å¨",charIndex:3691},{level:2,title:"åå¸å¼ç¼å­",slug:"åå¸å¼ç¼å­",normalizedTitle:"åå¸å¼ç¼å­",charIndex:3802},{level:2,title:"åå¸å¼è®¡ç®",slug:"åå¸å¼è®¡ç®",normalizedTitle:"åå¸å¼è®¡ç®",charIndex:4140},{level:2,title:"è´è½½åè¡¡",slug:"è´è½½åè¡¡",normalizedTitle:"è´è½½åè¡¡",charIndex:3179},{level:3,title:"ç®æ³",slug:"ç®æ³",normalizedTitle:"ç®æ³",charIndex:4159},{level:4,title:"è½®è¯¢ï¼Round Robinï¼",slug:"è½®è¯¢-round-robin",normalizedTitle:"è½®è¯¢ï¼round robinï¼",charIndex:4165},{level:4,title:"å æè½®è¯¢ï¼Weighted Round Robbinï¼",slug:"å æè½®è¯¢-weighted-round-robbin",normalizedTitle:"å æè½®è¯¢ï¼weighted round robbinï¼",charIndex:4394},{level:4,title:"æå°è¿æ¥ï¼least Connectionsï¼",slug:"æå°è¿æ¥-least-connections",normalizedTitle:"æå°è¿æ¥ï¼least connectionsï¼",charIndex:4552},{level:4,title:"å ææå°è¿æ¥ï¼Weighted Least Connectionï¼",slug:"å ææå°è¿æ¥-weighted-least-connection",normalizedTitle:"å ææå°è¿æ¥ï¼weighted least connectionï¼",charIndex:4852},{level:4,title:"éæºç®æ³ï¼Randomï¼",slug:"éæºç®æ³-random",normalizedTitle:"éæºç®æ³ï¼randomï¼",charIndex:4943},{level:4,title:"æºå°ååå¸æ³ (IP Hash)",slug:"æºå°ååå¸æ³-ip-hash",normalizedTitle:"æºå°ååå¸æ³ (ip hash)",charIndex:5003},{level:3,title:"å®ç°",slug:"å®ç°-4",normalizedTitle:"å®ç°",charIndex:389},{level:4,title:"HTTP éå®å",slug:"http-éå®å",normalizedTitle:"http éå®å",charIndex:5184},{level:4,title:"DNS éå®å",slug:"dns-éå®å",normalizedTitle:"dns éå®å",charIndex:5322},{level:4,title:"ä¿®æ¹ MAC å°å",slug:"ä¿®æ¹-mac-å°å",normalizedTitle:"ä¿®æ¹ mac å°å",charIndex:5470},{level:4,title:"ä¿®æ¹ IP å°å",slug:"ä¿®æ¹-ip-å°å",normalizedTitle:"ä¿®æ¹ ip å°å",charIndex:5545},{level:4,title:"ä»£çèªå¨éç½®",slug:"ä»£çèªå¨éç½®",normalizedTitle:"ä»£çèªå¨éç½®",charIndex:5579},{level:2,title:"èµæ",slug:"èµæ",normalizedTitle:"èµæ",charIndex:5733}],headersStr:"åå¸å¼äºå¡ åå¸å¼é åºäºæ°æ®åºå®ç°åå¸å¼é å®ç° åå»ºè¡¨ è·åé éæ¾é é®é¢ è§£å³åæ³ å°ç» åºäº Redis å®ç°åå¸å¼é Redis å½ä»¤ å®ç° é®é¢ å°ç» åºäº ZooKeeper å®ç°åå¸å¼é å®ç° å°ç» åå¸å¼ Session Sticky Sessions Session Replication Session Server åå¸å¼å­å¨ åå¸å¼ç¼å­ åå¸å¼è®¡ç® è´è½½åè¡¡ ç®æ³ è½®è¯¢ï¼Round Robinï¼ å æè½®è¯¢ï¼Weighted Round Robbinï¼ æå°è¿æ¥ï¼least Connectionsï¼ å ææå°è¿æ¥ï¼Weighted Least Connectionï¼ éæºç®æ³ï¼Randomï¼ æºå°ååå¸æ³ (IP Hash) å®ç° HTTP éå®å DNS éå®å ä¿®æ¹ MAC å°å ä¿®æ¹ IP å°å ä»£çèªå¨éç½® èµæ",content:"# å¤§åç³»ç»æ ¸å¿ææ¯\n\n> å¤§åç³»ç»çè®¾è®¡ç®æ å°±æ¯ä¸ºäºå¿«éãé«æãç¨³å®çå¤çæµ·éçæ°æ®ä»¥åé«å¹¶åçè¯·æ±ã\n> \n> åæºæå¡åéäºç¡¬ä»¶ï¼å®¢è§å­å¨çèµæºç¶é¢ï¼é¾ä»¥åºå¯¹ä¸æ­å¢é¿çæ°æ®éåè¯·æ±éï¼ä¸ºäºæç ´ç¶é¢ï¼å¤§åç³»ç»åºæ¬ä¸é½è¢«è®¾è®¡ä¸ºåå¸å¼ç³»ç»ã\n> \n> åå¸å¼ç³»ç»ç±äºå¶é¢ä¸´çå±æ§é®é¢ï¼å¨å¾å¤åºæ¯ä¸çè§£å³æ¹æ¡å¾å¾ä¹å­å¨çå±æ§ãå æ­¤ï¼æä»¬ä¼åç°ï¼å¾å¤ä¼ç§çå¤§åç³»ç»å¨è®¾è®¡æ¹æ¡ä¸å­å¨çå¾å¤çå±åç¹ã\n> \n> æ¬æä¸»è¦è®¨è®ºåºå¯¹åå¸å¼ç³»ç»å±æ§é®é¢çè§£å³æ¹æ¡ï¼è¿æ¢å¯ä»¥å æ·±å¯¹åå¸å¼ç³»ç»è¿ä½åçççè§£ï¼ä¹å¯ä»¥ä½ä¸ºè®¾è®¡å¤§ååå¸å¼ç³»ç»æ¶çåé´ã\n\n\n# åå¸å¼äºå¡\n\n> åèï¼åå¸å¼åç#4-åå¸å¼äºå¡é®é¢\n\n\n# åå¸å¼é\n\nJava åç API è½ç¶æå¹¶åéï¼ä½å¹¶æ²¡ææä¾åå¸å¼éçè½åï¼æä»¥éå¯¹åå¸å¼åºæ¯ä¸­çééè¦è§£å³çæ¹æ¡ã\n\nåå¸å¼éçè§£å³æ¹æ¡å¤§è´æä»¥ä¸å ç§ï¼\n\n * åºäºæ°æ®åºå®ç°\n * åºäºç¼å­ï¼redisï¼memcached ç­ï¼å®ç°\n * åºäº Zookeeper å®ç°\n\n\n# åºäºæ°æ®åºå®ç°åå¸å¼é\n\n# å®ç°\n\n# åå»ºè¡¨\n\nCREATE TABLE `methodLock` (\n  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT 'ä¸»é®',\n  `method_name` varchar(64) NOT NULL DEFAULT '' COMMENT 'éå®çæ¹æ³å',\n  `desc` varchar(1024) NOT NULL DEFAULT 'å¤æ³¨ä¿¡æ¯',\n  `update_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'ä¿å­æ°æ®æ¶é´ï¼èªå¨çæ',\n  PRIMARY KEY (`id`),\n  UNIQUE KEY `uidx_method_name` (`method_name `) USING BTREE\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='éå®ä¸­çæ¹æ³';\n\n\n# è·åé\n\næ³è¦éä½æä¸ªæ¹æ³æ¶ï¼æ§è¡ä»¥ä¸ SQLï¼\n\ninsert into methodLock(method_name,desc) values (âmethod_nameâ,âdescâ)\n\n\nå ä¸ºæä»¬å¯¹ method_name åäºå¯ä¸æ§çº¦æï¼è¿éå¦ææå¤ä¸ªè¯·æ±åæ¶æäº¤å°æ°æ®åºçè¯ï¼æ°æ®åºä¼ä¿è¯åªæä¸ä¸ªæä½å¯ä»¥æåï¼é£ä¹æä»¬å°±å¯ä»¥è®¤ä¸ºæä½æåçé£ä¸ªçº¿ç¨è·å¾äºè¯¥æ¹æ³çéï¼å¯ä»¥æ§è¡æ¹æ³ä½åå®¹ã\n\næåæå¥åè·åéã\n\n# éæ¾é\n\nå½æ¹æ³æ§è¡å®æ¯ä¹åï¼æ³è¦éæ¾éçè¯ï¼éè¦æ§è¡ä»¥ä¸ Sql:\n\ndelete from methodLock where method_name ='method_name'\n\n\n# é®é¢\n\n 1. è¿æéå¼ºä¾èµæ°æ®åºçå¯ç¨æ§ãå¦ææ°æ®åºæ¯ä¸ä¸ªåç¹ï¼ä¸æ¦æ°æ®åºææï¼ä¼å¯¼è´ä¸å¡ç³»ç»ä¸å¯ç¨ã\n 2. è¿æéæ²¡æå¤±ææ¶é´ï¼ä¸æ¦è§£éæä½å¤±è´¥ï¼å°±ä¼å¯¼è´éè®°å½ä¸ç´å¨æ°æ®åºä¸­ï¼å¶ä»çº¿ç¨æ æ³åè·å¾å°éã\n 3. è¿æéåªè½æ¯éé»å¡çï¼å ä¸ºæ°æ®ç insert æä½ï¼ä¸æ¦æå¥å¤±è´¥å°±ä¼ç´æ¥æ¥éãæ²¡æè·å¾éççº¿ç¨å¹¶ä¸ä¼è¿å¥æééåï¼è¦æ³åæ¬¡è·å¾éå°±è¦åæ¬¡è§¦åè·å¾éæä½ã\n 4. è¿æéæ¯ééå¥çï¼åä¸ä¸ªçº¿ç¨å¨æ²¡æéæ¾éä¹åæ æ³åæ¬¡è·å¾è¯¥éãå ä¸ºæ°æ®ä¸­æ°æ®å·²ç»å­å¨äºã\n\n# è§£å³åæ³\n\n 1. åç¹é®é¢å¯ä»¥ç¨å¤æ°æ®åºå®ä¾ï¼åæ¶å¡ N ä¸ªè¡¨ï¼N/2+1 ä¸ªæåå°±ä»»å¡éå®æå\n 2. åä¸ä¸ªå®æ¶ä»»å¡ï¼éä¸æ®µæ¶é´æ¸é¤ä¸æ¬¡è¿æçæ°æ®ã\n 3. åä¸ä¸ª while å¾ªç¯ï¼ä¸æ­çéè¯æå¥ï¼ç´å°æåã\n 4. å¨æ°æ®åºè¡¨ä¸­å ä¸ªå­æ®µï¼è®°å½å½åè·å¾éçæºå¨çä¸»æºä¿¡æ¯åçº¿ç¨ä¿¡æ¯ï¼é£ä¹ä¸æ¬¡åè·åéçæ¶ååæ¥è¯¢æ°æ®åºï¼å¦æå½åæºå¨çä¸»æºä¿¡æ¯åçº¿ç¨ä¿¡æ¯å¨æ°æ®åºå¯ä»¥æ¥å°çè¯ï¼ç´æ¥æéåéç»ä»å°±å¯ä»¥äºã\n\n# å°ç»\n\n * ä¼ç¹: ç´æ¥åå©æ°æ®åºï¼å®¹æçè§£ã\n * ç¼ºç¹: ä¼æåç§åæ ·çé®é¢ï¼å¨è§£å³é®é¢çè¿ç¨ä¸­ä¼ä½¿æ´ä¸ªæ¹æ¡åå¾è¶æ¥è¶å¤æãæä½æ°æ®åºéè¦ä¸å®çå¼éï¼æ§è½é®é¢éè¦èèã\n\n\n# åºäº Redis å®ç°åå¸å¼é\n\nç¸æ¯äºç¨æ°æ®åºæ¥å®ç°åå¸å¼éï¼åºäºç¼å­å®ç°çåå¸å¼éçæ§è½ä¼æ´å¥½ä¸äºãç®åæå¾å¤æççåå¸å¼äº§åï¼åæ¬ RedisãmemcacheãTair ç­ãè¿éä»¥ Redis ä¸¾ä¾ã\n\n# Redis å½ä»¤\n\n * setnx - setnx key valï¼å½ä¸ä»å½ key ä¸å­å¨æ¶ï¼set ä¸ä¸ª key ä¸º val çå­ç¬¦ä¸²ï¼è¿å 1ï¼è¥ key å­å¨ï¼åä»ä¹é½ä¸åï¼è¿å 0ã\n * expire - expire key timeoutï¼ä¸º key è®¾ç½®ä¸ä¸ªè¶æ¶æ¶é´ï¼åä½ä¸º secondï¼è¶è¿è¿ä¸ªæ¶é´éä¼èªå¨éæ¾ï¼é¿åæ­»éã\n * delete - delete keyï¼å é¤ key\n\n# å®ç°\n\nåç¹å®ç°æ­¥éª¤ï¼\n\n 1. è·åéçä½¿ç¨ï¼ä½¿ç¨ setnx å éï¼éç value å¼ä¸ºä¸ä¸ªéæºçæç UUIDï¼åä½¿ç¨ expire è®¾ç½®ä¸ä¸ªè¿æå¼ã\n 2. è·åéçæ¶åè¿è®¾ç½®ä¸ä¸ªè·åçè¶æ¶æ¶é´ï¼è¥è¶è¿è¿ä¸ªæ¶é´åæ¾å¼è·åéã\n 3. éæ¾éçæ¶åï¼éè¿ UUID å¤æ­æ¯ä¸æ¯è¯¥éï¼è¥æ¯è¯¥éï¼åæ§è¡ delete è¿è¡ééæ¾ã\n\n# é®é¢\n\n * åç¹é®é¢ãå¦æåæº redis ææäºï¼é£ä¹ç¨åºä¼è·çåºéã\n * å¦æè½¬ç§»ä½¿ç¨ slave èç¹ï¼å¤å¶ä¸æ¯åæ­¥å¤å¶ï¼ä¼åºç°å¤ä¸ªç¨åºè·åéçæåµ\n\n# å°ç»\n\nå¯ä»¥èèä½¿ç¨ redisson çè§£å³æ¹æ¡ã\n\n\n# åºäº ZooKeeper å®ç°åå¸å¼é\n\n# å®ç°\n\nè¿ä¹æ¯ ZooKeeper å®¢æ·ç«¯ curator çåå¸å¼éå®ç°ã\n\n 1. åå»ºä¸ä¸ªç®å½ mylockï¼\n 2. çº¿ç¨ A æ³è·åéå°±å¨ mylock ç®å½ä¸åå»ºä¸´æ¶é¡ºåºèç¹ï¼\n 3. è·å mylock ç®å½ä¸ææçå­èç¹ï¼ç¶åè·åæ¯èªå·±å°çåå¼èç¹ï¼å¦æä¸å­å¨ï¼åè¯´æå½åçº¿ç¨é¡ºåºå·æå°ï¼è·å¾éï¼\n 4. çº¿ç¨ B è·åææèç¹ï¼å¤æ­èªå·±ä¸æ¯æå°èç¹ï¼è®¾ç½®çå¬æ¯èªå·±æ¬¡å°çèç¹ï¼\n 5. çº¿ç¨ A å¤çå®ï¼å é¤èªå·±çèç¹ï¼çº¿ç¨ B çå¬å°åæ´äºä»¶ï¼å¤æ­èªå·±æ¯ä¸æ¯æå°çèç¹ï¼å¦ææ¯åè·å¾éã\n\n# å°ç»\n\nZooKeeper çæ¬çåå¸å¼éé®é¢ç¸å¯¹æ¯è¾æ¥è¯´å°ã\n\n * éçå ç¨æ¶é´éå¶ï¼redis å°±æå ç¨æ¶é´éå¶ï¼è ZooKeeper åæ²¡æï¼æä¸»è¦çåå æ¯ redis ç®åæ²¡æåæ³ç¥éå·²ç»è·åéçå®¢æ·ç«¯çç¶æï¼æ¯å·²ç»æäºå¢è¿æ¯æ­£å¨æ§è¡èæ¶è¾é¿çä¸å¡é»è¾ãè ZooKeeper éè¿ä¸´æ¶èç¹å°±è½æ¸æ°ç¥éï¼å¦æä¸´æ¶èç¹å­å¨è¯´æè¿å¨æ§è¡ä¸å¡é»è¾ï¼å¦æä¸´æ¶èç¹ä¸å­å¨è¯´æå·²ç»æ§è¡å®æ¯éæ¾éæèæ¯æäºãç±æ­¤çæ¥ redis å¦æè½å ZooKeeper ä¸æ ·æ·»å ä¸äºä¸å®¢æ·ç«¯ç»å®çä¸´æ¶é®ï¼ä¹æ¯ä¸å¤§å¥½äºã\n * æ¯å¦åç¹æéï¼redis æ¬èº«æå¾å¤ä¸­ç©æ³ï¼å¦å®¢æ·ç«¯ä¸è´æ§ hashï¼æå¡å¨ç«¯ sentinel æ¹æ¡æè cluster æ¹æ¡ï¼å¾é¾åå°ä¸ç§åå¸å¼éæ¹å¼è½åºå¯¹ææè¿äºæ¹æ¡ãè ZooKeeper åªæä¸ç§ç©æ³ï¼å¤å°æºå¨çèç¹æ°æ®æ¯ä¸è´çï¼æ²¡æ redis çé£ä¹å¤çéº»ç¦å ç´ è¦èèã\n\næ»ä½ä¸æ¥è¯´ ZooKeeper å®ç°åå¸å¼éæ´å çç®åï¼å¯é æ§æ´é«ãä½ ZooKeeper å ä¸ºéè¦é¢ç¹çåå»ºåå é¤èç¹ï¼æ§è½ä¸ä¸å¦ Redis æ¹å¼ã\n\n\n# åå¸å¼ Session\n\nå¨åå¸å¼åºæ¯ä¸ï¼ä¸ä¸ªç¨æ·ç Session å¦æåªå­å¨å¨ä¸ä¸ªæå¡å¨ä¸ï¼é£ä¹å½è´è½½åè¡¡å¨æç¨æ·çä¸ä¸ä¸ªè¯·æ±è½¬åå°å¦ä¸ä¸ªæå¡å¨ä¸ï¼è¯¥æå¡å¨æ²¡æç¨æ·ç Sessionï¼å°±å¯è½å¯¼è´ç¨æ·éè¦éæ°è¿è¡ç»å½ç­æä½ã\n\nåå¸å¼ Session çå ç§å®ç°ç­ç¥ï¼\n\n 1. ç²æ§ session\n 2. åºç¨æå¡å¨é´ç session å¤å¶å±äº«\n 3. åºäº cache DB ç¼å­ç session å±äº«\n\n\n# Sticky Sessions\n\néè¦éç½®è´è½½åè¡¡å¨ï¼ä½¿å¾ä¸ä¸ªç¨æ·çææè¯·æ±é½è·¯ç±å°ä¸ä¸ªæå¡å¨èç¹ä¸ï¼è¿æ ·å°±å¯ä»¥æç¨æ·ç Session å­æ¾å¨è¯¥æå¡å¨èç¹ä¸­ã\n\nç¼ºç¹ï¼å½æå¡å¨èç¹å®æºæ¶ï¼å°ä¸¢å¤±è¯¥æå¡å¨èç¹ä¸çææ Sessionã\n\n\n\n\n# Session Replication\n\nå¨æå¡å¨èç¹ä¹é´è¿è¡ Session åæ­¥æä½ï¼è¿æ ·çè¯ç¨æ·å¯ä»¥è®¿é®ä»»ä½ä¸ä¸ªæå¡å¨èç¹ã\n\nç¼ºç¹ï¼å ç¨è¿å¤åå­ï¼åæ­¥è¿ç¨å ç¨ç½ç»å¸¦å®½ä»¥åæå¡å¨å¤çå¨æ¶é´ã\n\n\n\n\n# Session Server\n\nä½¿ç¨ä¸ä¸ªåç¬çæå¡å¨å­å¨ Session æ°æ®ï¼å¯ä»¥å­å¨ MySQL æ°æ®åºä¸ï¼ä¹å¯ä»¥å­å¨ Redis æè Memcached è¿ç§åå­åæ°æ®åºã\n\nç¼ºç¹ï¼éè¦å»å®ç°å­å Session çä»£ç ã\n\n\n\n\n# åå¸å¼å­å¨\n\néå¸¸æä¸¤ç§è§£å³æ¹æ¡ï¼\n\n 1. æ°æ®åå¸ï¼å°±æ¯ææ°æ®ååå­å¨ä¸åçæå¡å¨ä¸ï¼ååºåè¡¨ï¼ã\n 2. æ°æ®å¤å¶ï¼è®©ææçæå¡å¨é½æç¸åçæ°æ®ï¼æä¾ç¸å½çæå¡ã\n\n> åèï¼åå¸å¼åç.md#2-æ°æ®åå¸\n\n\n# åå¸å¼ç¼å­\n\nä½¿ç¨ç¼å­çå¥½å¤ï¼\n\n * æåæ°æ®è¯»åéåº¦\n * æåç³»ç»æ©å±è½åï¼éè¿æ©å±ç¼å­ï¼æåç³»ç»æ¿è½½è½å\n * éä½å­å¨ææ¬ï¼Cache+DB çæ¹å¼å¯ä»¥æ¿æåæéè¦å¤å° DB æè½æ¿æçè¯·æ±éï¼èçæºå¨ææ¬\n\næ ¹æ®ä¸å¡åºæ¯ï¼éå¸¸ç¼å­æä»¥ä¸å ç§ä½¿ç¨æ¹å¼\n\n * ææ±å¼(è¯»æ¶è§¦å)ï¼åå¥ DB å, ç¶åæç¸å³çæ°æ®ä¹åå¥ Cache\n * é¥¥é¥¿å¼(åæ¶è§¦å)ï¼åæ¥è¯¢ DB éçæ°æ®, ç¶åæç¸å³çæ°æ®åå¥ Cache\n * å®æå·æ°ï¼éåå¨ææ§çè·æ°æ®çä»»å¡ï¼æèåè¡¨åçæ°æ®ï¼èä¸ä¸è¦æ±ç»å¯¹å®æ¶æ§\n\nç¼å­åç±»ï¼\n\n * åºç¨åç¼å­ï¼å¦ï¼EHCache\n * åå¸å¼ç¼å­ï¼å¦ï¼MemachedãRedis\n\n> åèï¼åå¸å¼åç.md#6-åå¸å¼ç¼å­é®é¢\n\n\n# åå¸å¼è®¡ç®\n\n\n# è´è½½åè¡¡\n\n\n# ç®æ³\n\n# è½®è¯¢ï¼Round Robinï¼\n\nè½®è¯¢ç®æ³ææ¯ä¸ªè¯·æ±è½®æµåéå°æ¯ä¸ªæå¡å¨ä¸ãä¸å¾ä¸­ï¼ä¸å±æ 6 ä¸ªå®¢æ·ç«¯äº§çäº 6 ä¸ªè¯·æ±ï¼è¿ 6 ä¸ªè¯·æ±æ (1, 2, 3, 4, 5, 6) çé¡ºåºåéãæåï¼(1, 3, 5) çè¯·æ±ä¼è¢«åéå°æå¡å¨ 1ï¼(2, 4, 6) çè¯·æ±ä¼è¢«åéå°æå¡å¨ 2ã\n\n\n\nè¯¥ç®æ³æ¯è¾éåæ¯ä¸ªæå¡å¨çæ§è½å·®ä¸å¤çåºæ¯ï¼å¦æææ§è½å­å¨å·®å¼çæåµä¸ï¼é£ä¹æ§è½è¾å·®çæå¡å¨å¯è½æ æ³æ¿æè¿å¤§çè´è½½ï¼ä¸å¾ç Server 2ï¼ã\n\n\n\n# å æè½®è¯¢ï¼Weighted Round Robbinï¼\n\nå æè½®è¯¢æ¯å¨è½®è¯¢çåºç¡ä¸ï¼æ ¹æ®æå¡å¨çæ§è½å·®å¼ï¼ä¸ºæå¡å¨èµäºä¸å®çæå¼ãä¾å¦ä¸å¾ä¸­ï¼æå¡å¨ 1 è¢«èµäºçæå¼ä¸º 5ï¼æå¡å¨ 2 è¢«èµäºçæå¼ä¸º 1ï¼é£ä¹ (1, 2, 3, 4, 5) è¯·æ±ä¼è¢«åéå°æå¡å¨ 1ï¼(6) è¯·æ±ä¼è¢«åéå°æå¡å¨ 2ã\n\n\n\n# æå°è¿æ¥ï¼least Connectionsï¼\n\nç±äºæ¯ä¸ªè¯·æ±çè¿æ¥æ¶é´ä¸ä¸æ ·ï¼ä½¿ç¨è½®è¯¢æèå æè½®è¯¢ç®æ³çè¯ï¼å¯è½ä¼è®©ä¸å°æå¡å¨å½åè¿æ¥æ°è¿å¤§ï¼èå¦ä¸å°æå¡å¨çè¿æ¥è¿å°ï¼é æè´è½½ä¸åè¡¡ãä¾å¦ä¸å¾ä¸­ï¼(1, 3, 5) è¯·æ±ä¼è¢«åéå°æå¡å¨ 1ï¼ä½æ¯ (1, 3) å¾å¿«å°±æ­å¼è¿æ¥ï¼æ­¤æ¶åªæ (5) è¯·æ±è¿æ¥æå¡å¨ 1ï¼(2, 4, 6) è¯·æ±è¢«åéå°æå¡å¨ 2ï¼åªæ (2) çè¿æ¥æ­å¼ãè¯¥ç³»ç»ç»§ç»­è¿è¡æ¶ï¼æå¡å¨ 2 ä¼æ¿æè¿å¤§çè´è½½ã\n\n\n\næå°è¿æ¥ç®æ³å°±æ¯å°è¯·æ±åéç»å½åæå°è¿æ¥æ°çæå¡å¨ä¸ãä¾å¦ä¸å¾ä¸­ï¼æå¡å¨ 1 å½åè¿æ¥æ°æå°ï¼é£ä¹æ°å°æ¥çè¯·æ± 6 å°±ä¼è¢«åéå°æå¡å¨ 1 ä¸ã\n\n\n\n# å ææå°è¿æ¥ï¼Weighted Least Connectionï¼\n\nå¨æå°è¿æ¥çåºç¡ä¸ï¼æ ¹æ®æå¡å¨çæ§è½ä¸ºæ¯å°æå¡å¨åéæéï¼åæ ¹æ®æéè®¡ç®åºæ¯å°æå¡å¨è½å¤ççè¿æ¥æ°ã\n\n\n\n# éæºç®æ³ï¼Randomï¼\n\næè¯·æ±éæºåéå°æå¡å¨ä¸ãåè½®è¯¢ç®æ³ç±»ä¼¼ï¼è¯¥ç®æ³æ¯è¾éåæå¡å¨æ§è½å·®ä¸å¤çåºæ¯ã\n\n\n\n# æºå°ååå¸æ³ (IP Hash)\n\næºå°ååå¸éè¿å¯¹å®¢æ·ç«¯ IP åå¸è®¡ç®å¾å°çä¸ä¸ªæ°å¼ï¼ç¨è¯¥æ°å¼å¯¹æå¡å¨æ°éè¿è¡åæ¨¡è¿ç®ï¼åæ¨¡ç»æä¾¿æ¯ç®æ æå¡å¨çåºå·ã\n\n * ä¼ç¹ï¼ä¿è¯åä¸ IP çå®¢æ·ç«¯é½ä¼è¢« hash å°åä¸å°æå¡å¨ä¸ã\n * ç¼ºç¹ï¼ä¸å©äºéç¾¤æ©å±ï¼åå°æå¡å¨æ°éåæ´é½ä¼å½±å hash ç»æãå¯ä»¥éç¨ä¸è´æ§ Hash æ¹è¿ã\n\n\n\n\n# å®ç°\n\n# HTTP éå®å\n\nHTTP éå®åè´è½½åè¡¡æå¡å¨æ¶å° HTTP è¯·æ±ä¹åä¼è¿åæå¡å¨çå°åï¼å¹¶å°è¯¥å°ååå¥ HTTP éå®åååºä¸­è¿åç»æµè§å¨ï¼æµè§å¨æ¶å°åéè¦åæ¬¡åéè¯·æ±ã\n\nç¼ºç¹ï¼\n\n * ç¨æ·è®¿é®çå»¶è¿ä¼å¢å ï¼\n * å¦æè´è½½åè¡¡å¨å®æºï¼å°±æ æ³è®¿é®è¯¥ç«ç¹ã\n\n\n\n# DNS éå®å\n\nä½¿ç¨ DNS ä½ä¸ºè´è½½åè¡¡å¨ï¼æ ¹æ®è´è½½æåµè¿åä¸åæå¡å¨ç IP å°åãå¤§åç½ç«åºæ¬ä½¿ç¨äºè¿ç§æ¹å¼åä¸ºç¬¬ä¸çº§è´è½½åè¡¡ææ®µï¼ç¶åå¨åé¨ä½¿ç¨å¶å®æ¹å¼åç¬¬äºçº§è´è½½åè¡¡ã\n\nç¼ºç¹ï¼\n\n * DNS æ¥æ¾è¡¨å¯è½ä¼è¢«å®¢æ·ç«¯ç¼å­èµ·æ¥ï¼é£ä¹ä¹åçææè¯·æ±é½ä¼è¢«éå®åå°åä¸ä¸ªæå¡å¨ã\n\n\n\n# ä¿®æ¹ MAC å°å\n\nä½¿ç¨ LVSï¼Linux Virtual Serverï¼è¿ç§é¾è·¯å±è´è½½åè¡¡å¨ï¼æ ¹æ®è´è½½æåµä¿®æ¹è¯·æ±ç MAC å°åã\n\n\n\n# ä¿®æ¹ IP å°å\n\nå¨ç½ç»å±ä¿®æ¹è¯·æ±çç®ç IP å°åã\n\n\n\n# ä»£çèªå¨éç½®\n\næ­£åä»£çä¸ååä»£ççåºå«ï¼\n\n * æ­£åä»£çï¼åçå¨å®¢æ·ç«¯ï¼æ¯ç±ç¨æ·ä¸»å¨åèµ·çãæ¯å¦ç¿»å¢ï¼å®¢æ·ç«¯éè¿ä¸»å¨è®¿é®ä»£çæå¡å¨ï¼è®©ä»£çæå¡å¨è·å¾éè¦çå¤ç½æ°æ®ï¼ç¶åè½¬ååå®¢æ·ç«¯ã\n * ååä»£çï¼åçå¨æå¡å¨ç«¯ï¼ç¨æ·ä¸ç¥éä»£ççå­å¨ã\n\nPAC æå¡å¨æ¯ç¨æ¥å¤æ­ä¸ä¸ªè¯·æ±æ¯å¦è¦ç»è¿ä»£çã\n\n\n\n\n# èµæ\n\n * https://www.cnblogs.com/savorboard/p/distributed-system-transaction-consistency.html\n * https://github.com/CyC2018/Interview-Notebook/blob/master/notes/%E5%88%86%E5%B8%83%E5%BC%8F%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90.md\n * https://www.jianshu.com/p/453c6e7ff81c\n * https://juejin.im/post/5a20cd8bf265da43163cdd9a\n * https://github.com/redisson/redisson/wiki/8.-%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E5%92%8C%E5%90%8C%E6%AD%A5%E5%99%A8\n * https://github.com/L316476844/distributed-session\n * åå¸å¼ç¼å­æ¶æåºç¡\n * é¿é P8 ææ¯ä¸å®¶ç»ç©¶åå¸å¼ç¼å­é®é¢",normalizedContent:"# å¤§åç³»ç»æ ¸å¿ææ¯\n\n> å¤§åç³»ç»çè®¾è®¡ç®æ å°±æ¯ä¸ºäºå¿«éãé«æãç¨³å®çå¤çæµ·éçæ°æ®ä»¥åé«å¹¶åçè¯·æ±ã\n> \n> åæºæå¡åéäºç¡¬ä»¶ï¼å®¢è§å­å¨çèµæºç¶é¢ï¼é¾ä»¥åºå¯¹ä¸æ­å¢é¿çæ°æ®éåè¯·æ±éï¼ä¸ºäºæç ´ç¶é¢ï¼å¤§åç³»ç»åºæ¬ä¸é½è¢«è®¾è®¡ä¸ºåå¸å¼ç³»ç»ã\n> \n> åå¸å¼ç³»ç»ç±äºå¶é¢ä¸´çå±æ§é®é¢ï¼å¨å¾å¤åºæ¯ä¸çè§£å³æ¹æ¡å¾å¾ä¹å­å¨çå±æ§ãå æ­¤ï¼æä»¬ä¼åç°ï¼å¾å¤ä¼ç§çå¤§åç³»ç»å¨è®¾è®¡æ¹æ¡ä¸å­å¨çå¾å¤çå±åç¹ã\n> \n> æ¬æä¸»è¦è®¨è®ºåºå¯¹åå¸å¼ç³»ç»å±æ§é®é¢çè§£å³æ¹æ¡ï¼è¿æ¢å¯ä»¥å æ·±å¯¹åå¸å¼ç³»ç»è¿ä½åçççè§£ï¼ä¹å¯ä»¥ä½ä¸ºè®¾è®¡å¤§ååå¸å¼ç³»ç»æ¶çåé´ã\n\n\n# åå¸å¼äºå¡\n\n> åèï¼åå¸å¼åç#4-åå¸å¼äºå¡é®é¢\n\n\n# åå¸å¼é\n\njava åç api è½ç¶æå¹¶åéï¼ä½å¹¶æ²¡ææä¾åå¸å¼éçè½åï¼æä»¥éå¯¹åå¸å¼åºæ¯ä¸­çééè¦è§£å³çæ¹æ¡ã\n\nåå¸å¼éçè§£å³æ¹æ¡å¤§è´æä»¥ä¸å ç§ï¼\n\n * åºäºæ°æ®åºå®ç°\n * åºäºç¼å­ï¼redisï¼memcached ç­ï¼å®ç°\n * åºäº zookeeper å®ç°\n\n\n# åºäºæ°æ®åºå®ç°åå¸å¼é\n\n# å®ç°\n\n# åå»ºè¡¨\n\ncreate table `methodlock` (\n  `id` int(11) not null auto_increment comment 'ä¸»é®',\n  `method_name` varchar(64) not null default '' comment 'éå®çæ¹æ³å',\n  `desc` varchar(1024) not null default 'å¤æ³¨ä¿¡æ¯',\n  `update_time` timestamp not null default current_timestamp on update current_timestamp comment 'ä¿å­æ°æ®æ¶é´ï¼èªå¨çæ',\n  primary key (`id`),\n  unique key `uidx_method_name` (`method_name `) using btree\n) engine=innodb default charset=utf8 comment='éå®ä¸­çæ¹æ³';\n\n\n# è·åé\n\næ³è¦éä½æä¸ªæ¹æ³æ¶ï¼æ§è¡ä»¥ä¸ sqlï¼\n\ninsert into methodlock(method_name,desc) values (âmethod_nameâ,âdescâ)\n\n\nå ä¸ºæä»¬å¯¹ method_name åäºå¯ä¸æ§çº¦æï¼è¿éå¦ææå¤ä¸ªè¯·æ±åæ¶æäº¤å°æ°æ®åºçè¯ï¼æ°æ®åºä¼ä¿è¯åªæä¸ä¸ªæä½å¯ä»¥æåï¼é£ä¹æä»¬å°±å¯ä»¥è®¤ä¸ºæä½æåçé£ä¸ªçº¿ç¨è·å¾äºè¯¥æ¹æ³çéï¼å¯ä»¥æ§è¡æ¹æ³ä½åå®¹ã\n\næåæå¥åè·åéã\n\n# éæ¾é\n\nå½æ¹æ³æ§è¡å®æ¯ä¹åï¼æ³è¦éæ¾éçè¯ï¼éè¦æ§è¡ä»¥ä¸ sql:\n\ndelete from methodlock where method_name ='method_name'\n\n\n# é®é¢\n\n 1. è¿æéå¼ºä¾èµæ°æ®åºçå¯ç¨æ§ãå¦ææ°æ®åºæ¯ä¸ä¸ªåç¹ï¼ä¸æ¦æ°æ®åºææï¼ä¼å¯¼è´ä¸å¡ç³»ç»ä¸å¯ç¨ã\n 2. è¿æéæ²¡æå¤±ææ¶é´ï¼ä¸æ¦è§£éæä½å¤±è´¥ï¼å°±ä¼å¯¼è´éè®°å½ä¸ç´å¨æ°æ®åºä¸­ï¼å¶ä»çº¿ç¨æ æ³åè·å¾å°éã\n 3. è¿æéåªè½æ¯éé»å¡çï¼å ä¸ºæ°æ®ç insert æä½ï¼ä¸æ¦æå¥å¤±è´¥å°±ä¼ç´æ¥æ¥éãæ²¡æè·å¾éççº¿ç¨å¹¶ä¸ä¼è¿å¥æééåï¼è¦æ³åæ¬¡è·å¾éå°±è¦åæ¬¡è§¦åè·å¾éæä½ã\n 4. è¿æéæ¯ééå¥çï¼åä¸ä¸ªçº¿ç¨å¨æ²¡æéæ¾éä¹åæ æ³åæ¬¡è·å¾è¯¥éãå ä¸ºæ°æ®ä¸­æ°æ®å·²ç»å­å¨äºã\n\n# è§£å³åæ³\n\n 1. åç¹é®é¢å¯ä»¥ç¨å¤æ°æ®åºå®ä¾ï¼åæ¶å¡ n ä¸ªè¡¨ï¼n/2+1 ä¸ªæåå°±ä»»å¡éå®æå\n 2. åä¸ä¸ªå®æ¶ä»»å¡ï¼éä¸æ®µæ¶é´æ¸é¤ä¸æ¬¡è¿æçæ°æ®ã\n 3. åä¸ä¸ª while å¾ªç¯ï¼ä¸æ­çéè¯æå¥ï¼ç´å°æåã\n 4. å¨æ°æ®åºè¡¨ä¸­å ä¸ªå­æ®µï¼è®°å½å½åè·å¾éçæºå¨çä¸»æºä¿¡æ¯åçº¿ç¨ä¿¡æ¯ï¼é£ä¹ä¸æ¬¡åè·åéçæ¶ååæ¥è¯¢æ°æ®åºï¼å¦æå½åæºå¨çä¸»æºä¿¡æ¯åçº¿ç¨ä¿¡æ¯å¨æ°æ®åºå¯ä»¥æ¥å°çè¯ï¼ç´æ¥æéåéç»ä»å°±å¯ä»¥äºã\n\n# å°ç»\n\n * ä¼ç¹: ç´æ¥åå©æ°æ®åºï¼å®¹æçè§£ã\n * ç¼ºç¹: ä¼æåç§åæ ·çé®é¢ï¼å¨è§£å³é®é¢çè¿ç¨ä¸­ä¼ä½¿æ´ä¸ªæ¹æ¡åå¾è¶æ¥è¶å¤æãæä½æ°æ®åºéè¦ä¸å®çå¼éï¼æ§è½é®é¢éè¦èèã\n\n\n# åºäº redis å®ç°åå¸å¼é\n\nç¸æ¯äºç¨æ°æ®åºæ¥å®ç°åå¸å¼éï¼åºäºç¼å­å®ç°çåå¸å¼éçæ§è½ä¼æ´å¥½ä¸äºãç®åæå¾å¤æççåå¸å¼äº§åï¼åæ¬ redisãmemcacheãtair ç­ãè¿éä»¥ redis ä¸¾ä¾ã\n\n# redis å½ä»¤\n\n * setnx - setnx key valï¼å½ä¸ä»å½ key ä¸å­å¨æ¶ï¼set ä¸ä¸ª key ä¸º val çå­ç¬¦ä¸²ï¼è¿å 1ï¼è¥ key å­å¨ï¼åä»ä¹é½ä¸åï¼è¿å 0ã\n * expire - expire key timeoutï¼ä¸º key è®¾ç½®ä¸ä¸ªè¶æ¶æ¶é´ï¼åä½ä¸º secondï¼è¶è¿è¿ä¸ªæ¶é´éä¼èªå¨éæ¾ï¼é¿åæ­»éã\n * delete - delete keyï¼å é¤ key\n\n# å®ç°\n\nåç¹å®ç°æ­¥éª¤ï¼\n\n 1. è·åéçä½¿ç¨ï¼ä½¿ç¨ setnx å éï¼éç value å¼ä¸ºä¸ä¸ªéæºçæç uuidï¼åä½¿ç¨ expire è®¾ç½®ä¸ä¸ªè¿æå¼ã\n 2. è·åéçæ¶åè¿è®¾ç½®ä¸ä¸ªè·åçè¶æ¶æ¶é´ï¼è¥è¶è¿è¿ä¸ªæ¶é´åæ¾å¼è·åéã\n 3. éæ¾éçæ¶åï¼éè¿ uuid å¤æ­æ¯ä¸æ¯è¯¥éï¼è¥æ¯è¯¥éï¼åæ§è¡ delete è¿è¡ééæ¾ã\n\n# é®é¢\n\n * åç¹é®é¢ãå¦æåæº redis ææäºï¼é£ä¹ç¨åºä¼è·çåºéã\n * å¦æè½¬ç§»ä½¿ç¨ slave èç¹ï¼å¤å¶ä¸æ¯åæ­¥å¤å¶ï¼ä¼åºç°å¤ä¸ªç¨åºè·åéçæåµ\n\n# å°ç»\n\nå¯ä»¥èèä½¿ç¨ redisson çè§£å³æ¹æ¡ã\n\n\n# åºäº zookeeper å®ç°åå¸å¼é\n\n# å®ç°\n\nè¿ä¹æ¯ zookeeper å®¢æ·ç«¯ curator çåå¸å¼éå®ç°ã\n\n 1. åå»ºä¸ä¸ªç®å½ mylockï¼\n 2. çº¿ç¨ a æ³è·åéå°±å¨ mylock ç®å½ä¸åå»ºä¸´æ¶é¡ºåºèç¹ï¼\n 3. è·å mylock ç®å½ä¸ææçå­èç¹ï¼ç¶åè·åæ¯èªå·±å°çåå¼èç¹ï¼å¦æä¸å­å¨ï¼åè¯´æå½åçº¿ç¨é¡ºåºå·æå°ï¼è·å¾éï¼\n 4. çº¿ç¨ b è·åææèç¹ï¼å¤æ­èªå·±ä¸æ¯æå°èç¹ï¼è®¾ç½®çå¬æ¯èªå·±æ¬¡å°çèç¹ï¼\n 5. çº¿ç¨ a å¤çå®ï¼å é¤èªå·±çèç¹ï¼çº¿ç¨ b çå¬å°åæ´äºä»¶ï¼å¤æ­èªå·±æ¯ä¸æ¯æå°çèç¹ï¼å¦ææ¯åè·å¾éã\n\n# å°ç»\n\nzookeeper çæ¬çåå¸å¼éé®é¢ç¸å¯¹æ¯è¾æ¥è¯´å°ã\n\n * éçå ç¨æ¶é´éå¶ï¼redis å°±æå ç¨æ¶é´éå¶ï¼è zookeeper åæ²¡æï¼æä¸»è¦çåå æ¯ redis ç®åæ²¡æåæ³ç¥éå·²ç»è·åéçå®¢æ·ç«¯çç¶æï¼æ¯å·²ç»æäºå¢è¿æ¯æ­£å¨æ§è¡èæ¶è¾é¿çä¸å¡é»è¾ãè zookeeper éè¿ä¸´æ¶èç¹å°±è½æ¸æ°ç¥éï¼å¦æä¸´æ¶èç¹å­å¨è¯´æè¿å¨æ§è¡ä¸å¡é»è¾ï¼å¦æä¸´æ¶èç¹ä¸å­å¨è¯´æå·²ç»æ§è¡å®æ¯éæ¾éæèæ¯æäºãç±æ­¤çæ¥ redis å¦æè½å zookeeper ä¸æ ·æ·»å ä¸äºä¸å®¢æ·ç«¯ç»å®çä¸´æ¶é®ï¼ä¹æ¯ä¸å¤§å¥½äºã\n * æ¯å¦åç¹æéï¼redis æ¬èº«æå¾å¤ä¸­ç©æ³ï¼å¦å®¢æ·ç«¯ä¸è´æ§ hashï¼æå¡å¨ç«¯ sentinel æ¹æ¡æè cluster æ¹æ¡ï¼å¾é¾åå°ä¸ç§åå¸å¼éæ¹å¼è½åºå¯¹ææè¿äºæ¹æ¡ãè zookeeper åªæä¸ç§ç©æ³ï¼å¤å°æºå¨çèç¹æ°æ®æ¯ä¸è´çï¼æ²¡æ redis çé£ä¹å¤çéº»ç¦å ç´ è¦èèã\n\næ»ä½ä¸æ¥è¯´ zookeeper å®ç°åå¸å¼éæ´å çç®åï¼å¯é æ§æ´é«ãä½ zookeeper å ä¸ºéè¦é¢ç¹çåå»ºåå é¤èç¹ï¼æ§è½ä¸ä¸å¦ redis æ¹å¼ã\n\n\n# åå¸å¼ session\n\nå¨åå¸å¼åºæ¯ä¸ï¼ä¸ä¸ªç¨æ·ç session å¦æåªå­å¨å¨ä¸ä¸ªæå¡å¨ä¸ï¼é£ä¹å½è´è½½åè¡¡å¨æç¨æ·çä¸ä¸ä¸ªè¯·æ±è½¬åå°å¦ä¸ä¸ªæå¡å¨ä¸ï¼è¯¥æå¡å¨æ²¡æç¨æ·ç sessionï¼å°±å¯è½å¯¼è´ç¨æ·éè¦éæ°è¿è¡ç»å½ç­æä½ã\n\nåå¸å¼ session çå ç§å®ç°ç­ç¥ï¼\n\n 1. ç²æ§ session\n 2. åºç¨æå¡å¨é´ç session å¤å¶å±äº«\n 3. åºäº cache db ç¼å­ç session å±äº«\n\n\n# sticky sessions\n\néè¦éç½®è´è½½åè¡¡å¨ï¼ä½¿å¾ä¸ä¸ªç¨æ·çææè¯·æ±é½è·¯ç±å°ä¸ä¸ªæå¡å¨èç¹ä¸ï¼è¿æ ·å°±å¯ä»¥æç¨æ·ç session å­æ¾å¨è¯¥æå¡å¨èç¹ä¸­ã\n\nç¼ºç¹ï¼å½æå¡å¨èç¹å®æºæ¶ï¼å°ä¸¢å¤±è¯¥æå¡å¨èç¹ä¸çææ sessionã\n\n\n\n\n# session replication\n\nå¨æå¡å¨èç¹ä¹é´è¿è¡ session åæ­¥æä½ï¼è¿æ ·çè¯ç¨æ·å¯ä»¥è®¿é®ä»»ä½ä¸ä¸ªæå¡å¨èç¹ã\n\nç¼ºç¹ï¼å ç¨è¿å¤åå­ï¼åæ­¥è¿ç¨å ç¨ç½ç»å¸¦å®½ä»¥åæå¡å¨å¤çå¨æ¶é´ã\n\n\n\n\n# session server\n\nä½¿ç¨ä¸ä¸ªåç¬çæå¡å¨å­å¨ session æ°æ®ï¼å¯ä»¥å­å¨ mysql æ°æ®åºä¸ï¼ä¹å¯ä»¥å­å¨ redis æè memcached è¿ç§åå­åæ°æ®åºã\n\nç¼ºç¹ï¼éè¦å»å®ç°å­å session çä»£ç ã\n\n\n\n\n# åå¸å¼å­å¨\n\néå¸¸æä¸¤ç§è§£å³æ¹æ¡ï¼\n\n 1. æ°æ®åå¸ï¼å°±æ¯ææ°æ®ååå­å¨ä¸åçæå¡å¨ä¸ï¼ååºåè¡¨ï¼ã\n 2. æ°æ®å¤å¶ï¼è®©ææçæå¡å¨é½æç¸åçæ°æ®ï¼æä¾ç¸å½çæå¡ã\n\n> åèï¼åå¸å¼åç.md#2-æ°æ®åå¸\n\n\n# åå¸å¼ç¼å­\n\nä½¿ç¨ç¼å­çå¥½å¤ï¼\n\n * æåæ°æ®è¯»åéåº¦\n * æåç³»ç»æ©å±è½åï¼éè¿æ©å±ç¼å­ï¼æåç³»ç»æ¿è½½è½å\n * éä½å­å¨ææ¬ï¼cache+db çæ¹å¼å¯ä»¥æ¿æåæéè¦å¤å° db æè½æ¿æçè¯·æ±éï¼èçæºå¨ææ¬\n\næ ¹æ®ä¸å¡åºæ¯ï¼éå¸¸ç¼å­æä»¥ä¸å ç§ä½¿ç¨æ¹å¼\n\n * ææ±å¼(è¯»æ¶è§¦å)ï¼åå¥ db å, ç¶åæç¸å³çæ°æ®ä¹åå¥ cache\n * é¥¥é¥¿å¼(åæ¶è§¦å)ï¼åæ¥è¯¢ db éçæ°æ®, ç¶åæç¸å³çæ°æ®åå¥ cache\n * å®æå·æ°ï¼éåå¨ææ§çè·æ°æ®çä»»å¡ï¼æèåè¡¨åçæ°æ®ï¼èä¸ä¸è¦æ±ç»å¯¹å®æ¶æ§\n\nç¼å­åç±»ï¼\n\n * åºç¨åç¼å­ï¼å¦ï¼ehcache\n * åå¸å¼ç¼å­ï¼å¦ï¼memachedãredis\n\n> åèï¼åå¸å¼åç.md#6-åå¸å¼ç¼å­é®é¢\n\n\n# åå¸å¼è®¡ç®\n\n\n# è´è½½åè¡¡\n\n\n# ç®æ³\n\n# è½®è¯¢ï¼round robinï¼\n\nè½®è¯¢ç®æ³ææ¯ä¸ªè¯·æ±è½®æµåéå°æ¯ä¸ªæå¡å¨ä¸ãä¸å¾ä¸­ï¼ä¸å±æ 6 ä¸ªå®¢æ·ç«¯äº§çäº 6 ä¸ªè¯·æ±ï¼è¿ 6 ä¸ªè¯·æ±æ (1, 2, 3, 4, 5, 6) çé¡ºåºåéãæåï¼(1, 3, 5) çè¯·æ±ä¼è¢«åéå°æå¡å¨ 1ï¼(2, 4, 6) çè¯·æ±ä¼è¢«åéå°æå¡å¨ 2ã\n\n\n\nè¯¥ç®æ³æ¯è¾éåæ¯ä¸ªæå¡å¨çæ§è½å·®ä¸å¤çåºæ¯ï¼å¦æææ§è½å­å¨å·®å¼çæåµä¸ï¼é£ä¹æ§è½è¾å·®çæå¡å¨å¯è½æ æ³æ¿æè¿å¤§çè´è½½ï¼ä¸å¾ç server 2ï¼ã\n\n\n\n# å æè½®è¯¢ï¼weighted round robbinï¼\n\nå æè½®è¯¢æ¯å¨è½®è¯¢çåºç¡ä¸ï¼æ ¹æ®æå¡å¨çæ§è½å·®å¼ï¼ä¸ºæå¡å¨èµäºä¸å®çæå¼ãä¾å¦ä¸å¾ä¸­ï¼æå¡å¨ 1 è¢«èµäºçæå¼ä¸º 5ï¼æå¡å¨ 2 è¢«èµäºçæå¼ä¸º 1ï¼é£ä¹ (1, 2, 3, 4, 5) è¯·æ±ä¼è¢«åéå°æå¡å¨ 1ï¼(6) è¯·æ±ä¼è¢«åéå°æå¡å¨ 2ã\n\n\n\n# æå°è¿æ¥ï¼least connectionsï¼\n\nç±äºæ¯ä¸ªè¯·æ±çè¿æ¥æ¶é´ä¸ä¸æ ·ï¼ä½¿ç¨è½®è¯¢æèå æè½®è¯¢ç®æ³çè¯ï¼å¯è½ä¼è®©ä¸å°æå¡å¨å½åè¿æ¥æ°è¿å¤§ï¼èå¦ä¸å°æå¡å¨çè¿æ¥è¿å°ï¼é æè´è½½ä¸åè¡¡ãä¾å¦ä¸å¾ä¸­ï¼(1, 3, 5) è¯·æ±ä¼è¢«åéå°æå¡å¨ 1ï¼ä½æ¯ (1, 3) å¾å¿«å°±æ­å¼è¿æ¥ï¼æ­¤æ¶åªæ (5) è¯·æ±è¿æ¥æå¡å¨ 1ï¼(2, 4, 6) è¯·æ±è¢«åéå°æå¡å¨ 2ï¼åªæ (2) çè¿æ¥æ­å¼ãè¯¥ç³»ç»ç»§ç»­è¿è¡æ¶ï¼æå¡å¨ 2 ä¼æ¿æè¿å¤§çè´è½½ã\n\n\n\næå°è¿æ¥ç®æ³å°±æ¯å°è¯·æ±åéç»å½åæå°è¿æ¥æ°çæå¡å¨ä¸ãä¾å¦ä¸å¾ä¸­ï¼æå¡å¨ 1 å½åè¿æ¥æ°æå°ï¼é£ä¹æ°å°æ¥çè¯·æ± 6 å°±ä¼è¢«åéå°æå¡å¨ 1 ä¸ã\n\n\n\n# å ææå°è¿æ¥ï¼weighted least connectionï¼\n\nå¨æå°è¿æ¥çåºç¡ä¸ï¼æ ¹æ®æå¡å¨çæ§è½ä¸ºæ¯å°æå¡å¨åéæéï¼åæ ¹æ®æéè®¡ç®åºæ¯å°æå¡å¨è½å¤ççè¿æ¥æ°ã\n\n\n\n# éæºç®æ³ï¼randomï¼\n\næè¯·æ±éæºåéå°æå¡å¨ä¸ãåè½®è¯¢ç®æ³ç±»ä¼¼ï¼è¯¥ç®æ³æ¯è¾éåæå¡å¨æ§è½å·®ä¸å¤çåºæ¯ã\n\n\n\n# æºå°ååå¸æ³ (ip hash)\n\næºå°ååå¸éè¿å¯¹å®¢æ·ç«¯ ip åå¸è®¡ç®å¾å°çä¸ä¸ªæ°å¼ï¼ç¨è¯¥æ°å¼å¯¹æå¡å¨æ°éè¿è¡åæ¨¡è¿ç®ï¼åæ¨¡ç»æä¾¿æ¯ç®æ æå¡å¨çåºå·ã\n\n * ä¼ç¹ï¼ä¿è¯åä¸ ip çå®¢æ·ç«¯é½ä¼è¢« hash å°åä¸å°æå¡å¨ä¸ã\n * ç¼ºç¹ï¼ä¸å©äºéç¾¤æ©å±ï¼åå°æå¡å¨æ°éåæ´é½ä¼å½±å hash ç»æãå¯ä»¥éç¨ä¸è´æ§ hash æ¹è¿ã\n\n\n\n\n# å®ç°\n\n# http éå®å\n\nhttp éå®åè´è½½åè¡¡æå¡å¨æ¶å° http è¯·æ±ä¹åä¼è¿åæå¡å¨çå°åï¼å¹¶å°è¯¥å°ååå¥ http éå®åååºä¸­è¿åç»æµè§å¨ï¼æµè§å¨æ¶å°åéè¦åæ¬¡åéè¯·æ±ã\n\nç¼ºç¹ï¼\n\n * ç¨æ·è®¿é®çå»¶è¿ä¼å¢å ï¼\n * å¦æè´è½½åè¡¡å¨å®æºï¼å°±æ æ³è®¿é®è¯¥ç«ç¹ã\n\n\n\n# dns éå®å\n\nä½¿ç¨ dns ä½ä¸ºè´è½½åè¡¡å¨ï¼æ ¹æ®è´è½½æåµè¿åä¸åæå¡å¨ç ip å°åãå¤§åç½ç«åºæ¬ä½¿ç¨äºè¿ç§æ¹å¼åä¸ºç¬¬ä¸çº§è´è½½åè¡¡ææ®µï¼ç¶åå¨åé¨ä½¿ç¨å¶å®æ¹å¼åç¬¬äºçº§è´è½½åè¡¡ã\n\nç¼ºç¹ï¼\n\n * dns æ¥æ¾è¡¨å¯è½ä¼è¢«å®¢æ·ç«¯ç¼å­èµ·æ¥ï¼é£ä¹ä¹åçææè¯·æ±é½ä¼è¢«éå®åå°åä¸ä¸ªæå¡å¨ã\n\n\n\n# ä¿®æ¹ mac å°å\n\nä½¿ç¨ lvsï¼linux virtual serverï¼è¿ç§é¾è·¯å±è´è½½åè¡¡å¨ï¼æ ¹æ®è´è½½æåµä¿®æ¹è¯·æ±ç mac å°åã\n\n\n\n# ä¿®æ¹ ip å°å\n\nå¨ç½ç»å±ä¿®æ¹è¯·æ±çç®ç ip å°åã\n\n\n\n# ä»£çèªå¨éç½®\n\næ­£åä»£çä¸ååä»£ççåºå«ï¼\n\n * æ­£åä»£çï¼åçå¨å®¢æ·ç«¯ï¼æ¯ç±ç¨æ·ä¸»å¨åèµ·çãæ¯å¦ç¿»å¢ï¼å®¢æ·ç«¯éè¿ä¸»å¨è®¿é®ä»£çæå¡å¨ï¼è®©ä»£çæå¡å¨è·å¾éè¦çå¤ç½æ°æ®ï¼ç¶åè½¬ååå®¢æ·ç«¯ã\n * ååä»£çï¼åçå¨æå¡å¨ç«¯ï¼ç¨æ·ä¸ç¥éä»£ççå­å¨ã\n\npac æå¡å¨æ¯ç¨æ¥å¤æ­ä¸ä¸ªè¯·æ±æ¯å¦è¦ç»è¿ä»£çã\n\n\n\n\n# èµæ\n\n * https://www.cnblogs.com/savorboard/p/distributed-system-transaction-consistency.html\n * https://github.com/cyc2018/interview-notebook/blob/master/notes/%e5%88%86%e5%b8%83%e5%bc%8f%e9%97%ae%e9%a2%98%e5%88%86%e6%9e%90.md\n * https://www.jianshu.com/p/453c6e7ff81c\n * https://juejin.im/post/5a20cd8bf265da43163cdd9a\n * https://github.com/redisson/redisson/wiki/8.-%e5%88%86%e5%b8%83%e5%bc%8f%e9%94%81%e5%92%8c%e5%90%8c%e6%ad%a5%e5%99%a8\n * https://github.com/l316476844/distributed-session\n * åå¸å¼ç¼å­æ¶æåºç¡\n * é¿é p8 ææ¯ä¸å®¶ç»ç©¶åå¸å¼ç¼å­é®é¢",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"å¾®æå¡ç®ä»",frontmatter:{title:"å¾®æå¡ç®ä»",date:"2022-04-15T16:42:51.000Z",categories:["è®¾è®¡","æ¶æ","å¾®æå¡"],tags:["è®¾è®¡","æ¶æ","å¾®æå¡"],permalink:"/pages/012075/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/01.%E6%9E%B6%E6%9E%84/01.%E5%BE%AE%E6%9C%8D%E5%8A%A1/01.%E5%BE%AE%E6%9C%8D%E5%8A%A1%E7%AE%80%E4%BB%8B.html",relativePath:"03.è®¾è®¡/01.æ¶æ/01.å¾®æå¡/01.å¾®æå¡ç®ä».md",key:"v-58986cb9",path:"/pages/012075/",headers:[{level:2,title:"ä»ä¹æ¯å¾®æå¡",slug:"ä»ä¹æ¯å¾®æå¡",normalizedTitle:"ä»ä¹æ¯å¾®æå¡",charIndex:12},{level:3,title:"åä½åºç¨",slug:"åä½åºç¨",normalizedTitle:"åä½åºç¨",charIndex:285},{level:3,title:"å¾®æå¡",slug:"å¾®æå¡",normalizedTitle:"å¾®æå¡",charIndex:2},{level:2,title:"ä½æ¶éè¦å¾®æå¡",slug:"ä½æ¶éè¦å¾®æå¡",normalizedTitle:"ä½æ¶éè¦å¾®æå¡",charIndex:889},{level:3,title:"æåæå¡çæèç»´åº¦",slug:"æåæå¡çæèç»´åº¦",normalizedTitle:"æåæå¡çæèç»´åº¦",charIndex:973},{level:3,title:"æåæå¡çåå",slug:"æåæå¡çåå",normalizedTitle:"æåæå¡çåå",charIndex:1209},{level:3,title:"æåæå¡çåç½®æ¡ä»¶",slug:"æåæå¡çåç½®æ¡ä»¶",normalizedTitle:"æåæå¡çåç½®æ¡ä»¶",charIndex:1261},{level:2,title:"å¾®æå¡çåºç¡æ¶æ",slug:"å¾®æå¡çåºç¡æ¶æ",normalizedTitle:"å¾®æå¡çåºç¡æ¶æ",charIndex:1973},{level:3,title:"æå¡æè¿°",slug:"æå¡æè¿°",normalizedTitle:"æå¡æè¿°",charIndex:2012},{level:3,title:"æ³¨åä¸­å¿",slug:"æ³¨åä¸­å¿",normalizedTitle:"æ³¨åä¸­å¿",charIndex:1506},{level:3,title:"æå¡æ¡æ¶",slug:"æå¡æ¡æ¶",normalizedTitle:"æå¡æ¡æ¶",charIndex:2028},{level:3,title:"æå¡çæ§",slug:"æå¡çæ§",normalizedTitle:"æå¡çæ§",charIndex:2036},{level:3,title:"æå¡é¾è·¯è¿½è¸ª",slug:"æå¡é¾è·¯è¿½è¸ª",normalizedTitle:"æå¡é¾è·¯è¿½è¸ª",charIndex:3373},{level:3,title:"æå¡æ²»ç",slug:"æå¡æ²»ç",normalizedTitle:"æå¡æ²»ç",charIndex:792},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:4299}],headersStr:"ä»ä¹æ¯å¾®æå¡ åä½åºç¨ å¾®æå¡ ä½æ¶éè¦å¾®æå¡ æåæå¡çæèç»´åº¦ æåæå¡çåå æåæå¡çåç½®æ¡ä»¶ å¾®æå¡çåºç¡æ¶æ æå¡æè¿° æ³¨åä¸­å¿ æå¡æ¡æ¶ æå¡çæ§ æå¡é¾è·¯è¿½è¸ª æå¡æ²»ç åèèµæ",content:"# å¾®æå¡ç®ä»\n\n\n# ä»ä¹æ¯å¾®æå¡\n\n> Martin Fowler ä¸ James Lewis å±åæåºäºå¾®æå¡çæ¦å¿µï¼å®ä¹äºå¾®æå¡æ¯ç±åä¸åºç¨ç¨åºææçå°æå¡ï¼èªå·±æ¥æèªå·±çè¿ç¨ä¸è½»éåå¤çï¼æå¡ä¾ä¸å¡åè½è®¾è®¡ï¼ä»¥å¨èªå¨çæ¹å¼é¨ç½²ï¼ä¸å¶ä»æå¡ä½¿ç¨ HTTP API éä¿¡ãåæ¶æå¡ä¼ä½¿ç¨æå°çè§æ¨¡çéä¸­ç®¡ç (ä¾å¦ Docker) è½åï¼æå¡å¯ä»¥ç¨ä¸åçç¼ç¨è¯­è¨ä¸æ°æ®åºç­ç»ä»¶å®ç°ãââå¾®æå¡çç»´åºç¾ç§è¯æ¡å®ä¹\n\näºèç½åºç¨æ¶æå¤§è´çæ¼è¿æ¹åä¸ºï¼åä½æ¶æ -> æå¡åæ¶æ -> å¾®æå¡æ¶æãå¨æ¼åè¿ç¨ä¸­ï¼æ¶æè¶æ¥è¶å¤æï¼ä¸ä¸ªåºç¨è¢«æåçæå¡ä¹è¶æ¥è¶ç»ã\n\n\n# åä½åºç¨\n\näºèç½æ©æçææ¯æ éå¸¸ä¸º LAMPï¼Linux + Apache + MySQL + PHPï¼æ MVCï¼Spring + iBatis/Hibernate + Tomcatï¼ãè¿ä¸¤ç§æ¶æé½æ¯å¸åçåä½åºç¨æ¶æãå¶ä¼ç¹æ¯ææ¯æ ç®åï¼å æ­¤å­¦ä¹ ä¸æå¿«ï¼é¨ç½²ä¹å®¹æã\n\néçä¸å¡è¶æ¥è¶å¤æï¼å¼åå¢éè§æ¨¡ä¸æ­æ©å¼ ï¼åä½åºç¨æ¶æå°±é¾ä»¥éåºå¼åè¿­ä»£èå¥ï¼ä¸»è¦æä»¥ä¸é®é¢ï¼\n\n * æå»ºãé¨ç½²æçä½ï¼ä»£ç è¶å¤ï¼ä¾èµèµæºè¶å¤ï¼åæå»ºãé¨ç½²çèè´¹æ¶é´èªç¶ä¼è¶é¿ãå³ä½¿æ¯æ¬¡ä¿®æ¹ä¸ä¸ªå¾å°çåè½ç¹ï¼ä¹ä¸å¾ä¸å¨éæå»ºãå¨é¨é¨ç½²ï¼èæ¶èåã\n * å¢éåä½ææ¬é«ï¼åä½åºç¨çä»£ç å¾å¾å¨ä¸ä¸ªå·¥ç¨ä¸­ï¼èä¸ä¸ªå·¥ç¨ä¸­çå¼åäººåè¶å¤ï¼æ¾ç¶æ²éææ¬è¶é«ã\n * å¯ç¨æ§å·®ï¼å ä¸ºææçåè½å¼åæåé½é¨ç½²å°åä¸ä¸ª WAR åéï¼è¿è¡å¨åä¸ä¸ª Tomcat è¿ç¨ä¹ä¸­ï¼ä¸æ¦æä¸åè½æ¶åçä»£ç æèèµæºæé®é¢ï¼é£å°±ä¼å½±åæ´ä¸ª WAR åä¸­é¨ç½²çåè½ã\n\n\n# å¾®æå¡\n\nå¾®æå¡æ¶ææä»¥ä¸ 4 ä¸ªç¹ç¹ï¼\n\n * æå¡æåç²åº¦æ´ç»ï¼æ ¹æ®ä¸å¡æåã\n * ç¬ç«é¨ç½²ï¼æ¯ä¸ªæå¡é¨ç½²å¨ç©çä¸éç¦»ï¼äºä¸å½±åã\n * ç¬ç«ç»´æ¤ï¼æ ¹æ®ç»ç»æ¶ææåï¼åå¢éç»´æ¤ã\n * æå¡æ²»çï¼æå¡æ°éåå¤ï¼éè¦æç»ä¸çæå¡æ²»çå¹³å°ã\n\nç®åæ¥è¯´ï¼å¾®æå¡å°±æ¯å°åºæèè¿çåä½åºç¨æåæç»ç²åº¦çæå¡ï¼ç¬ç«é¨ç½²ï¼å¹¶äº¤ç»åä¸ªä¸­å°å¢éæ¥è´è´£å¼åãæµè¯ãä¸çº¿åè¿ç»´æ´ä¸ªçå½å¨æã\n\n\n# ä½æ¶éè¦å¾®æå¡\n\nåºç¨å¾®æå¡åæ¶æåï¼è¦æèå ä¸ªé®é¢ï¼ä»ä¹æ¶åè¿è¡æå¡åæåï¼å¦ä½æåæå¡ï¼\n\nå½åºç¨å¤æåº¦ãå¼åå¢éè¨èå°é¾ä»¥ç»´æ¤æ¶ï¼å°±è¯¥èèæå¡åæåäºã\n\n\n# æåæå¡çæèç»´åº¦\n\n * ä¸å¡ç»´åº¦ï¼ä¸å¡åæ°æ®å³ç³»å¯åçåºè¯¥æåä¸ºä¸ä¸ªå¾®æå¡ï¼èåè½ç¸å¯¹æ¯è¾ç¬ç«çä¸å¡éååç¬æåä¸ºä¸ä¸ªå¾®æå¡ã\n * åè½ç»´åº¦ï¼å¬å±åè½èåä¸ºä¸ä¸ªæå¡ãæ åæ¯æ¯å¦è¢«å¤ä¸ªå¶ä»æå¡è°ç¨ï¼ä¸ä¾èµçèµæºç¬ç«ä¸ä¸å¶ä»ä¸å¡è¦åã\n * ç»ç»æ¶æï¼æ ¹æ®å®éç»ç»æ¶æï¼å¤©ç¶åä¸ºä¸åçå¢éï¼æ¯ä¸ªå¢éç¬ç«ç»´æ¤è¥å¹²å¾®æå¡ã\n\nä½å¹¶ä¸æ¯è¯´åè½æåçè¶ç»è¶å¥½ï¼è¿åº¦çæååèä¼è®©æå¡æ°éè¨èåå¾é¾ä»¥ç®¡çï¼å æ­¤æ¾å°ç¬¦åèªå·±ä¸å¡ç°ç¶åå¢éäººåææ¯æ°´å¹³çæåç²åº¦ææ¯å¯åçã\n\n\n# æåæå¡çåå\n\nåä¸èè´£\n\né«åèï¼ä½è¦å\n\nåç²åç»ï¼éæ¸ç»å\n\næ¸è¿å¼è¿­ä»£\n\nèèæ©å±æ§\n\n\n# æåæå¡çåç½®æ¡ä»¶\n\n * æå¡å¦ä½å®ä¹ï¼\n   * å¯¹äºåä½åºç¨æ¥è¯´ï¼ä¸ååè½æ¨¡åä¹åç¸äºäº¤äºæ¶ï¼éå¸¸æ¯ä»¥ç±»åºçæ¹å¼æ¥æä¾åä¸ªæ¨¡åçåè½ã\n   * å¯¹äºå¾®æå¡æ¥è¯´ï¼æ¯ä¸ªæå¡é½è¿è¡å¨åèªçè¿ç¨ä¹ä¸­ï¼æ è®ºéç¨åªç§éè®¯åè®®ï¼æ¯ HTTP è¿æ¯ RPCï¼æå¡ä¹é´çè°ç¨é½éè¿æ¥å£æ¥çº¦å®å¦ä½äº¤äºãçº¦å®åå®¹åæ¬æ¥å£åãæ¥å£åæ°ä»¥åæ¥å£è¿åå¼ã\n * æå¡å¦ä½åå¸åè®¢éï¼\n   * åä½åºç¨ç±äºé¨ç½²å¨åä¸ä¸ª WAR åéï¼æ¥å£ä¹é´çè°ç¨å±äºè¿ç¨åçè°ç¨ã\n   * å¯¹äºå¾®æå¡æ¥è¯´ï¼æå¡æä¾èéè¦åæ³¨åä¸­å¿åå¸èªå·±æä¾çæå¡ï¼æ´é²æ¥å£ä¿¡æ¯ä»¥åæ¥å£å°åï¼ï¼æå¡æ¶è´¹èåæ³¨åä¸­å¿è®¢éåªäºæå¡å¯ç¨ã\n * æå¡å¦ä½çæ§ï¼éå¸¸å¯¹äºä¸ä¸ªæå¡ï¼æä»¬æå³å¿çæ¯ QPSï¼è°ç¨éï¼ãAvgTimeï¼å¹³åèæ¶ï¼ä»¥å P999ï¼99.9% çè¯·æ±æ§è½å¨å¤å°æ¯«ç§ä»¥åï¼è¿äºææ ãè¿æ¶åä½ å°±éè¦ä¸ç§éç¨ççæ§æ¹æ¡ï¼è½å¤è¦çä¸å¡åç¹ãæ°æ®æ¶éãæ°æ®å¤çï¼æåå°æ°æ®å±ç¤ºçå¨é¾è·¯åè½ã\n * æå¡å¦ä½æ²»çï¼å¯ä»¥æ³è±¡ï¼æåä¸ºå¾®æå¡æ¶æåï¼æå¡çæ°éåå¤äºï¼ä¾èµå³ç³»ä¹åå¤æäºãæ¯å¦ä¸ä¸ªæå¡çæ§è½æé®é¢æ¶ï¼ä¾èµçæå¡é½å¿å¿ä¼åå°å½±åãå¯ä»¥è®¾å®ä¸ä¸ªè°ç¨æ§è½éå¼ï¼å¦æä¸æ®µæ¶é´åä¸ç´è¶è¿è¿ä¸ªå¼ï¼é£ä¹ä¾èµæå¡çè°ç¨å¯ä»¥ç´æ¥è¿åï¼è¿å°±æ¯çæ­ï¼ä¹æ¯æå¡æ²»çæå¸¸ç¨çææ®µä¹ä¸ã\n * æéå¦ä½å®ä½ï¼å¨åä½åºç¨æåä¸ºå¾®æå¡ä¹åï¼ä¸æ¬¡ç¨æ·è°ç¨å¯è½ä¾èµå¤ä¸ªæå¡ï¼æ¯ä¸ªæå¡åé¨ç½²å¨ä¸åçèç¹ä¸ï¼å¦æç¨æ·è°ç¨åºç°é®é¢ï¼ä½ éè¦æä¸ç§è§£å³æ¹æ¡è½å¤å°ä¸æ¬¡ç¨æ·è¯·æ±è¿è¡æ è®°ï¼å¹¶å¨å¤ä¸ªä¾èµçæå¡ç³»ç»ä¸­ç»§ç»­ä¼ éï¼ä»¥ä¾¿ä¸²èææè·¯å¾ï¼ä»èè¿è¡æéå®ä½ã\n\nåºç¨å¾®æå¡æ¶æï¼å¿é¡»è¦åè§£å³ä»¥ä¸é®é¢\n\n\n# å¾®æå¡çåºç¡æ¶æ\n\nå¾®æå¡æ¶æä¸ï¼æå¡è°ç¨ä¸»è¦ä¾èµä¸é¢å ä¸ªåºæ¬ç»ä»¶ï¼\n\n * æå¡æè¿°\n * æ³¨åä¸­å¿\n * æå¡æ¡æ¶\n * æå¡çæ§\n * æå¡è¿½è¸ª\n * æå¡æ²»ç\n\n\n# æå¡æè¿°\n\næå¡è°ç¨é¦åè¦è§£å³çé®é¢å°±æ¯æå¡å¦ä½å¯¹å¤æè¿°ãæ¯å¦ï¼ä½ å¯¹å¤æä¾äºä¸ä¸ªæå¡ï¼é£ä¹è¿ä¸ªæå¡çæå¡åå«ä»ä¹ï¼è°ç¨è¿ä¸ªæå¡éè¦æä¾åªäºä¿¡æ¯ï¼è°ç¨è¿ä¸ªæå¡è¿åçç»ææ¯ä»ä¹æ ¼å¼çï¼è¯¥å¦ä½è§£æï¼è¿äºå°±æ¯æå¡æè¿°è¦è§£å³çé®é¢ã\n\nå¸¸ç¨çæå¡æè¿°æ¹å¼åæ¬ RESTful APIãXML éç½®ä»¥å IDL æä»¶ä¸ç§ã\n\nå¶ä¸­ï¼RESTful API æ¹å¼éå¸¸ç¨äº HTTP åè®®çæå¡æè¿°ï¼å¹¶ä¸å¸¸ç¨ Wiki æèSwaggeræ¥è¿è¡ç®¡çãä¸é¢æ¯ä¸ä¸ª RESTful API æ¹å¼çæå¡æè¿°çä¾å­ã\n\nXML éç½®æ¹å¼å¤ç¨ä½ RPC åè®®çæå¡æè¿°ï¼éè¿ *.xml éç½®æä»¶æ¥å®ä¹æ¥å£åãåæ°ä»¥åè¿åå¼ç±»åç­ãä¸é¢æ¯ä¸ä¸ª XML éç½®æ¹å¼çæå¡æè¿°çä¾å­ã\n\nIDL æä»¶æ¹å¼éå¸¸ç¨ä½ Thrift å gRPC è¿ç±»è·¨è¯­è¨æå¡è°ç¨æ¡æ¶ä¸­ï¼æ¯å¦ gRPC å°±æ¯éè¿ Protobuf æä»¶æ¥å®ä¹æå¡çæ¥å£åãåæ°ä»¥åè¿åå¼çæ°æ®ç»æã\n\n\n# æ³¨åä¸­å¿\n\n\n\næäºæå¡çæ¥å£æè¿°ï¼ä¸ä¸æ­¥è¦è§£å³çé®é¢å°±æ¯æå¡çåå¸åè®¢éï¼å°±æ¯è¯´ä½ æä¾äºä¸ä¸ªæå¡ï¼å¦ä½è®©å¤é¨æ³è°ç¨ä½ çæå¡çäººç¥éãè¿ä¸ªæ¶åå°±éè¦ä¸ä¸ªç±»ä¼¼æ³¨åä¸­å¿çè§è²ï¼æå¡æä¾èå°èªå·±æä¾çæå¡ä»¥åå°åç»è®°å°æ³¨åä¸­å¿ï¼æå¡æ¶è´¹èåä»æ³¨åä¸­å¿æ¥è¯¢æéè¦è°ç¨çæå¡çå°åï¼ç¶ååèµ·è¯·æ±ã\n\nä¸è¬æ¥è®²ï¼æ³¨åä¸­å¿çå·¥ä½æµç¨æ¯ï¼\n\n * æå¡æä¾èå¨å¯å¨æ¶ï¼æ ¹æ®æå¡åå¸æä»¶ä¸­éç½®çåå¸ä¿¡æ¯åæ³¨åä¸­å¿æ³¨åèªå·±çæå¡ã\n * æå¡æ¶è´¹èå¨å¯å¨æ¶ï¼æ ¹æ®æ¶è´¹èéç½®æä»¶ä¸­éç½®çæå¡ä¿¡æ¯åæ³¨åä¸­å¿è®¢éèªå·±æéè¦çæå¡ã\n * æ³¨åä¸­å¿è¿åæå¡æä¾èå°ååè¡¨ç»æå¡æ¶è´¹èã\n * å½æå¡æä¾èåçååï¼æ¯å¦æèç¹æ°å¢æèéæ¯ï¼æ³¨åä¸­å¿å°åæ´éç¥ç»æå¡æ¶è´¹èã\n\n\n# æå¡æ¡æ¶\n\næå¡æ¶è´¹èåèµ·è°ç¨éè§£å³ä»¥ä¸é®é¢ï¼\n\n * æå¡éä¿¡éç¨ä»ä¹åè®®ï¼å°±æ¯è¯´æå¡æä¾èåæå¡æ¶è´¹èä¹é´ä»¥ä»ä¹æ ·çåè®®è¿è¡ç½ç»éä¿¡ï¼æ¯éç¨åå± TCPãUDP åè®®ï¼è¿æ¯éç¨ä¸å± HTTP åè®®ï¼è¿æ¯éç¨å¶ä»åè®®ï¼\n * æ°æ®ä¼ è¾éç¨ä»ä¹æ¹å¼ï¼å°±æ¯è¯´æå¡æä¾èåæå¡æ¶è´¹èä¹é´çæ°æ®ä¼ è¾éç¨åªç§æ¹å¼ï¼æ¯åæ­¥è¿æ¯å¼æ­¥ï¼æ¯å¨åè¿æ¥ä¸ä¼ è¾ï¼è¿æ¯å¤è·¯å¤ç¨ã\n * æ°æ®åç¼©éç¨ä»ä¹æ ¼å¼ï¼éå¸¸æ°æ®ä¼ è¾é½ä¼å¯¹æ°æ®è¿è¡åç¼©ï¼æ¥åå°ç½ç»ä¼ è¾çæ°æ®éï¼ä»èåå°å¸¦å®½æ¶èåç½ç»ä¼ è¾æ¶é´ï¼æ¯å¦å¸¸è§ç JSON åºååãJava å¯¹è±¡åºååä»¥å Protobuf åºååç­ã\n\n\n# æå¡çæ§\n\nä¸æ¦æå¡æ¶è´¹èä¸æå¡æä¾èä¹é´è½å¤æ­£å¸¸åèµ·æå¡è°ç¨ï¼ä½ å°±éè¦å¯¹è°ç¨æåµè¿è¡çæ§ï¼ä»¥äºè§£æå¡æ¯å¦æ­£å¸¸ãéå¸¸æ¥è®²ï¼æå¡çæ§ä¸»è¦åæ¬ä¸ä¸ªæµç¨ã\n\n * æ°æ®æ¶éãå°±æ¯è¦ææ¯ä¸æ¬¡æå¡è°ç¨çè¯·æ±èæ¶ä»¥åæåä¸å¦æ¶éèµ·æ¥ï¼å¹¶ä¸ä¼ å°éä¸­çæ°æ®å¤çä¸­å¿ã\n * æ°æ®å¤çãæäºæ¯æ¬¡è°ç¨çè¯·æ±èæ¶ä»¥åæåä¸å¦ç­ä¿¡æ¯ï¼å°±å¯ä»¥è®¡ç®æ¯ç§æå¡è¯·æ±éãå¹³åèæ¶ä»¥åæåçç­ææ ã\n * æ°æ®å±ç¤ºãæ°æ®æ¶éèµ·æ¥ï¼ç»è¿å¤çä¹åï¼è¿éè¦ä»¥åå¥½çæ¹å¼å¯¹å¤å±ç¤ºï¼æè½åæ¥ä»·å¼ãéå¸¸é½æ¯å°æ°æ®å±ç¤ºå¨ Dashboard é¢æ¿ä¸ï¼å¹¶ä¸æ¯é 10s ç­é´éèªå¨å·æ°ï¼ç¨ä½ä¸å¡çæ§åæ¥è­¦ç­ã\n\n\n# æå¡é¾è·¯è¿½è¸ª\n\né¤äºéè¦å¯¹æå¡è°ç¨æåµè¿è¡çæ§ä¹å¤ï¼ä½ è¿éè¦è®°å½æå¡è°ç¨ç»è¿çæ¯ä¸å±é¾è·¯ï¼ä»¥ä¾¿è¿è¡é®é¢è¿½è¸ªåæéå®ä½ã\n\næå¡é¾è·¯è¿½è¸ªçå·¥ä½åçå¤§è´å¦ä¸ï¼\n\n * æå¡æ¶è´¹èåèµ·è°ç¨åï¼ä¼å¨æ¬å°æç§ä¸å®çè§åçæä¸ä¸ª requestidï¼åèµ·è°ç¨æ¶ï¼å° requestid å½ä½è¯·æ±åæ°çä¸é¨åï¼ä¼ éç»æå¡æä¾èã\n * æå¡æä¾èæ¥æ¶å°è¯·æ±åï¼è®°å½ä¸è¿æ¬¡è¯·æ±ç requestidï¼ç¶åå¤çè¯·æ±ãå¦ææå¡æä¾èç»§ç»­è¯·æ±å¶ä»æå¡ï¼ä¼å¨æ¬å°åçæä¸ä¸ªèªå·±ç requestidï¼ç¶åæè¿ä¸¤ä¸ª requestid é½å½ä½è¯·æ±åæ°ç»§ç»­å¾ä¸ä¼ éã\n\nä»¥æ­¤ç±»æ¨ï¼éè¿è¿ç§å±å±å¾ä¸ä¼ éçæ¹å¼ï¼ä¸æ¬¡è¯·æ±ï¼æ è®ºæåä¾èµå¤å°æ¬¡æå¡è°ç¨ãç»è¿å¤å°æå¡èç¹ï¼é½å¯ä»¥éè¿æå¼å§çæç requestid ä¸²èææèç¹ï¼ä»èè¾¾å°æå¡è¿½è¸ªçç®çã\n\n\n# æå¡æ²»ç\n\næå¡çæ§è½å¤åç°é®é¢ï¼æå¡è¿½è¸ªè½å¤å®ä½é®é¢æå¨ï¼èè§£å³é®é¢å°±å¾é æå¡æ²»çäºãæå¡æ²»çå°±æ¯éè¿ä¸ç³»åçææ®µæ¥ä¿è¯å¨åç§æå¤æåµä¸ï¼æå¡è°ç¨ä»ç¶è½å¤æ­£å¸¸è¿è¡ã\n\nå¨çäº§ç¯å¢ä¸­ï¼ä½ åºè¯¥ç»å¸¸ä¼éå°ä¸é¢å ç§ç¶åµã\n\n * åæºæéãéå¸¸éå°åæºæéï¼é½æ¯é è¿ç»´åç°å¹¶éå¯æå¡æèä»çº¿ä¸æé¤æéèç¹ãç¶èéç¾¤çè§æ¨¡è¶å¤§ï¼è¶æ¯å®¹æéå°åæºæéï¼å¨æºå¨è§æ¨¡è¶è¿ä¸ç¾å°ä»¥ä¸æ¶ï¼é ä¼ ç»çäººèè¿ç»´æ¾ç¶é¾ä»¥åºå¯¹ãèæå¡æ²»çå¯ä»¥éè¿ä¸å®çç­ç¥ï¼èªå¨æé¤æéèç¹ï¼ä¸éè¦äººä¸ºå¹²é¢ï¼å°±è½ä¿è¯åæºæéä¸ä¼å½±åä¸å¡ã\n * å IDC æéãä½ åºè¯¥ç»å¸¸å¬è¯´ææ Appï¼å ä¸ºæ½å·¥ææ­åç¼å¯¼è´å¤§æ¹éç¨æ·æ æ³ä½¿ç¨çä¸¥éæéãèæå¡æ²»çå¯ä»¥éè¿èªå¨åæ¢æé IDC çæµéå°å¶ä»æ­£å¸¸ IDCï¼å¯ä»¥é¿åå ä¸ºå IDC æéå¼èµ·çå¤§æ¹éä¸å¡åå½±åã\n * ä¾èµæå¡ä¸å¯ç¨ãæ¯å¦ä½ çæå¡ä¾èµä¾èµäºå¦ä¸ä¸ªæå¡ï¼å½å¦ä¸ä¸ªæå¡åºç°é®é¢æ¶ï¼ä¼ææ¢çè³æå®ä½ çæå¡ãèæå¡æ²»çå¯ä»¥éè¿çæ­ï¼å¨ä¾èµæå¡å¼å¸¸çæåµä¸ï¼ä¸æ®µæ¶æååæ­¢åèµ·è°ç¨èç´æ¥è¿åãè¿æ ·ä¸æ¹é¢ä¿è¯äºæå¡æ¶è´¹èè½å¤ä¸è¢«æå®ï¼å¦ä¸æ¹é¢ä¹ç»æå¡æä¾èåå°ååï¼ä½¿å¶è½å¤å°½å¿«æ¢å¤ã\n\nä¸é¢æ¯ä¸ç§æå¸¸è§çéè¦å¼å¥æå¡æ²»ççåºæ¯ï¼å½ç¶è¿æä¸äºå¶ä»æå¡æ²»ççææ®µæ¯å¦èªå¨æ©ç¼©å®¹ï¼å¯ä»¥ç¨æ¥è§£å³æå¡çå®¹éé®é¢ã\n\n\n# åèèµæ\n\n * ä» 0 å¼å§å­¦å¾®æå¡",normalizedContent:"# å¾®æå¡ç®ä»\n\n\n# ä»ä¹æ¯å¾®æå¡\n\n> martin fowler ä¸ james lewis å±åæåºäºå¾®æå¡çæ¦å¿µï¼å®ä¹äºå¾®æå¡æ¯ç±åä¸åºç¨ç¨åºææçå°æå¡ï¼èªå·±æ¥æèªå·±çè¿ç¨ä¸è½»éåå¤çï¼æå¡ä¾ä¸å¡åè½è®¾è®¡ï¼ä»¥å¨èªå¨çæ¹å¼é¨ç½²ï¼ä¸å¶ä»æå¡ä½¿ç¨ http api éä¿¡ãåæ¶æå¡ä¼ä½¿ç¨æå°çè§æ¨¡çéä¸­ç®¡ç (ä¾å¦ docker) è½åï¼æå¡å¯ä»¥ç¨ä¸åçç¼ç¨è¯­è¨ä¸æ°æ®åºç­ç»ä»¶å®ç°ãââå¾®æå¡çç»´åºç¾ç§è¯æ¡å®ä¹\n\näºèç½åºç¨æ¶æå¤§è´çæ¼è¿æ¹åä¸ºï¼åä½æ¶æ -> æå¡åæ¶æ -> å¾®æå¡æ¶æãå¨æ¼åè¿ç¨ä¸­ï¼æ¶æè¶æ¥è¶å¤æï¼ä¸ä¸ªåºç¨è¢«æåçæå¡ä¹è¶æ¥è¶ç»ã\n\n\n# åä½åºç¨\n\näºèç½æ©æçææ¯æ éå¸¸ä¸º lampï¼linux + apache + mysql + phpï¼æ mvcï¼spring + ibatis/hibernate + tomcatï¼ãè¿ä¸¤ç§æ¶æé½æ¯å¸åçåä½åºç¨æ¶æãå¶ä¼ç¹æ¯ææ¯æ ç®åï¼å æ­¤å­¦ä¹ ä¸æå¿«ï¼é¨ç½²ä¹å®¹æã\n\néçä¸å¡è¶æ¥è¶å¤æï¼å¼åå¢éè§æ¨¡ä¸æ­æ©å¼ ï¼åä½åºç¨æ¶æå°±é¾ä»¥éåºå¼åè¿­ä»£èå¥ï¼ä¸»è¦æä»¥ä¸é®é¢ï¼\n\n * æå»ºãé¨ç½²æçä½ï¼ä»£ç è¶å¤ï¼ä¾èµèµæºè¶å¤ï¼åæå»ºãé¨ç½²çèè´¹æ¶é´èªç¶ä¼è¶é¿ãå³ä½¿æ¯æ¬¡ä¿®æ¹ä¸ä¸ªå¾å°çåè½ç¹ï¼ä¹ä¸å¾ä¸å¨éæå»ºãå¨é¨é¨ç½²ï¼èæ¶èåã\n * å¢éåä½ææ¬é«ï¼åä½åºç¨çä»£ç å¾å¾å¨ä¸ä¸ªå·¥ç¨ä¸­ï¼èä¸ä¸ªå·¥ç¨ä¸­çå¼åäººåè¶å¤ï¼æ¾ç¶æ²éææ¬è¶é«ã\n * å¯ç¨æ§å·®ï¼å ä¸ºææçåè½å¼åæåé½é¨ç½²å°åä¸ä¸ª war åéï¼è¿è¡å¨åä¸ä¸ª tomcat è¿ç¨ä¹ä¸­ï¼ä¸æ¦æä¸åè½æ¶åçä»£ç æèèµæºæé®é¢ï¼é£å°±ä¼å½±åæ´ä¸ª war åä¸­é¨ç½²çåè½ã\n\n\n# å¾®æå¡\n\nå¾®æå¡æ¶ææä»¥ä¸ 4 ä¸ªç¹ç¹ï¼\n\n * æå¡æåç²åº¦æ´ç»ï¼æ ¹æ®ä¸å¡æåã\n * ç¬ç«é¨ç½²ï¼æ¯ä¸ªæå¡é¨ç½²å¨ç©çä¸éç¦»ï¼äºä¸å½±åã\n * ç¬ç«ç»´æ¤ï¼æ ¹æ®ç»ç»æ¶ææåï¼åå¢éç»´æ¤ã\n * æå¡æ²»çï¼æå¡æ°éåå¤ï¼éè¦æç»ä¸çæå¡æ²»çå¹³å°ã\n\nç®åæ¥è¯´ï¼å¾®æå¡å°±æ¯å°åºæèè¿çåä½åºç¨æåæç»ç²åº¦çæå¡ï¼ç¬ç«é¨ç½²ï¼å¹¶äº¤ç»åä¸ªä¸­å°å¢éæ¥è´è´£å¼åãæµè¯ãä¸çº¿åè¿ç»´æ´ä¸ªçå½å¨æã\n\n\n# ä½æ¶éè¦å¾®æå¡\n\nåºç¨å¾®æå¡åæ¶æåï¼è¦æèå ä¸ªé®é¢ï¼ä»ä¹æ¶åè¿è¡æå¡åæåï¼å¦ä½æåæå¡ï¼\n\nå½åºç¨å¤æåº¦ãå¼åå¢éè¨èå°é¾ä»¥ç»´æ¤æ¶ï¼å°±è¯¥èèæå¡åæåäºã\n\n\n# æåæå¡çæèç»´åº¦\n\n * ä¸å¡ç»´åº¦ï¼ä¸å¡åæ°æ®å³ç³»å¯åçåºè¯¥æåä¸ºä¸ä¸ªå¾®æå¡ï¼èåè½ç¸å¯¹æ¯è¾ç¬ç«çä¸å¡éååç¬æåä¸ºä¸ä¸ªå¾®æå¡ã\n * åè½ç»´åº¦ï¼å¬å±åè½èåä¸ºä¸ä¸ªæå¡ãæ åæ¯æ¯å¦è¢«å¤ä¸ªå¶ä»æå¡è°ç¨ï¼ä¸ä¾èµçèµæºç¬ç«ä¸ä¸å¶ä»ä¸å¡è¦åã\n * ç»ç»æ¶æï¼æ ¹æ®å®éç»ç»æ¶æï¼å¤©ç¶åä¸ºä¸åçå¢éï¼æ¯ä¸ªå¢éç¬ç«ç»´æ¤è¥å¹²å¾®æå¡ã\n\nä½å¹¶ä¸æ¯è¯´åè½æåçè¶ç»è¶å¥½ï¼è¿åº¦çæååèä¼è®©æå¡æ°éè¨èåå¾é¾ä»¥ç®¡çï¼å æ­¤æ¾å°ç¬¦åèªå·±ä¸å¡ç°ç¶åå¢éäººåææ¯æ°´å¹³çæåç²åº¦ææ¯å¯åçã\n\n\n# æåæå¡çåå\n\nåä¸èè´£\n\né«åèï¼ä½è¦å\n\nåç²åç»ï¼éæ¸ç»å\n\næ¸è¿å¼è¿­ä»£\n\nèèæ©å±æ§\n\n\n# æåæå¡çåç½®æ¡ä»¶\n\n * æå¡å¦ä½å®ä¹ï¼\n   * å¯¹äºåä½åºç¨æ¥è¯´ï¼ä¸ååè½æ¨¡åä¹åç¸äºäº¤äºæ¶ï¼éå¸¸æ¯ä»¥ç±»åºçæ¹å¼æ¥æä¾åä¸ªæ¨¡åçåè½ã\n   * å¯¹äºå¾®æå¡æ¥è¯´ï¼æ¯ä¸ªæå¡é½è¿è¡å¨åèªçè¿ç¨ä¹ä¸­ï¼æ è®ºéç¨åªç§éè®¯åè®®ï¼æ¯ http è¿æ¯ rpcï¼æå¡ä¹é´çè°ç¨é½éè¿æ¥å£æ¥çº¦å®å¦ä½äº¤äºãçº¦å®åå®¹åæ¬æ¥å£åãæ¥å£åæ°ä»¥åæ¥å£è¿åå¼ã\n * æå¡å¦ä½åå¸åè®¢éï¼\n   * åä½åºç¨ç±äºé¨ç½²å¨åä¸ä¸ª war åéï¼æ¥å£ä¹é´çè°ç¨å±äºè¿ç¨åçè°ç¨ã\n   * å¯¹äºå¾®æå¡æ¥è¯´ï¼æå¡æä¾èéè¦åæ³¨åä¸­å¿åå¸èªå·±æä¾çæå¡ï¼æ´é²æ¥å£ä¿¡æ¯ä»¥åæ¥å£å°åï¼ï¼æå¡æ¶è´¹èåæ³¨åä¸­å¿è®¢éåªäºæå¡å¯ç¨ã\n * æå¡å¦ä½çæ§ï¼éå¸¸å¯¹äºä¸ä¸ªæå¡ï¼æä»¬æå³å¿çæ¯ qpsï¼è°ç¨éï¼ãavgtimeï¼å¹³åèæ¶ï¼ä»¥å p999ï¼99.9% çè¯·æ±æ§è½å¨å¤å°æ¯«ç§ä»¥åï¼è¿äºææ ãè¿æ¶åä½ å°±éè¦ä¸ç§éç¨ççæ§æ¹æ¡ï¼è½å¤è¦çä¸å¡åç¹ãæ°æ®æ¶éãæ°æ®å¤çï¼æåå°æ°æ®å±ç¤ºçå¨é¾è·¯åè½ã\n * æå¡å¦ä½æ²»çï¼å¯ä»¥æ³è±¡ï¼æåä¸ºå¾®æå¡æ¶æåï¼æå¡çæ°éåå¤äºï¼ä¾èµå³ç³»ä¹åå¤æäºãæ¯å¦ä¸ä¸ªæå¡çæ§è½æé®é¢æ¶ï¼ä¾èµçæå¡é½å¿å¿ä¼åå°å½±åãå¯ä»¥è®¾å®ä¸ä¸ªè°ç¨æ§è½éå¼ï¼å¦æä¸æ®µæ¶é´åä¸ç´è¶è¿è¿ä¸ªå¼ï¼é£ä¹ä¾èµæå¡çè°ç¨å¯ä»¥ç´æ¥è¿åï¼è¿å°±æ¯çæ­ï¼ä¹æ¯æå¡æ²»çæå¸¸ç¨çææ®µä¹ä¸ã\n * æéå¦ä½å®ä½ï¼å¨åä½åºç¨æåä¸ºå¾®æå¡ä¹åï¼ä¸æ¬¡ç¨æ·è°ç¨å¯è½ä¾èµå¤ä¸ªæå¡ï¼æ¯ä¸ªæå¡åé¨ç½²å¨ä¸åçèç¹ä¸ï¼å¦æç¨æ·è°ç¨åºç°é®é¢ï¼ä½ éè¦æä¸ç§è§£å³æ¹æ¡è½å¤å°ä¸æ¬¡ç¨æ·è¯·æ±è¿è¡æ è®°ï¼å¹¶å¨å¤ä¸ªä¾èµçæå¡ç³»ç»ä¸­ç»§ç»­ä¼ éï¼ä»¥ä¾¿ä¸²èææè·¯å¾ï¼ä»èè¿è¡æéå®ä½ã\n\nåºç¨å¾®æå¡æ¶æï¼å¿é¡»è¦åè§£å³ä»¥ä¸é®é¢\n\n\n# å¾®æå¡çåºç¡æ¶æ\n\nå¾®æå¡æ¶æä¸ï¼æå¡è°ç¨ä¸»è¦ä¾èµä¸é¢å ä¸ªåºæ¬ç»ä»¶ï¼\n\n * æå¡æè¿°\n * æ³¨åä¸­å¿\n * æå¡æ¡æ¶\n * æå¡çæ§\n * æå¡è¿½è¸ª\n * æå¡æ²»ç\n\n\n# æå¡æè¿°\n\næå¡è°ç¨é¦åè¦è§£å³çé®é¢å°±æ¯æå¡å¦ä½å¯¹å¤æè¿°ãæ¯å¦ï¼ä½ å¯¹å¤æä¾äºä¸ä¸ªæå¡ï¼é£ä¹è¿ä¸ªæå¡çæå¡åå«ä»ä¹ï¼è°ç¨è¿ä¸ªæå¡éè¦æä¾åªäºä¿¡æ¯ï¼è°ç¨è¿ä¸ªæå¡è¿åçç»ææ¯ä»ä¹æ ¼å¼çï¼è¯¥å¦ä½è§£æï¼è¿äºå°±æ¯æå¡æè¿°è¦è§£å³çé®é¢ã\n\nå¸¸ç¨çæå¡æè¿°æ¹å¼åæ¬ restful apiãxml éç½®ä»¥å idl æä»¶ä¸ç§ã\n\nå¶ä¸­ï¼restful api æ¹å¼éå¸¸ç¨äº http åè®®çæå¡æè¿°ï¼å¹¶ä¸å¸¸ç¨ wiki æèswaggeræ¥è¿è¡ç®¡çãä¸é¢æ¯ä¸ä¸ª restful api æ¹å¼çæå¡æè¿°çä¾å­ã\n\nxml éç½®æ¹å¼å¤ç¨ä½ rpc åè®®çæå¡æè¿°ï¼éè¿ *.xml éç½®æä»¶æ¥å®ä¹æ¥å£åãåæ°ä»¥åè¿åå¼ç±»åç­ãä¸é¢æ¯ä¸ä¸ª xml éç½®æ¹å¼çæå¡æè¿°çä¾å­ã\n\nidl æä»¶æ¹å¼éå¸¸ç¨ä½ thrift å grpc è¿ç±»è·¨è¯­è¨æå¡è°ç¨æ¡æ¶ä¸­ï¼æ¯å¦ grpc å°±æ¯éè¿ protobuf æä»¶æ¥å®ä¹æå¡çæ¥å£åãåæ°ä»¥åè¿åå¼çæ°æ®ç»æã\n\n\n# æ³¨åä¸­å¿\n\n\n\næäºæå¡çæ¥å£æè¿°ï¼ä¸ä¸æ­¥è¦è§£å³çé®é¢å°±æ¯æå¡çåå¸åè®¢éï¼å°±æ¯è¯´ä½ æä¾äºä¸ä¸ªæå¡ï¼å¦ä½è®©å¤é¨æ³è°ç¨ä½ çæå¡çäººç¥éãè¿ä¸ªæ¶åå°±éè¦ä¸ä¸ªç±»ä¼¼æ³¨åä¸­å¿çè§è²ï¼æå¡æä¾èå°èªå·±æä¾çæå¡ä»¥åå°åç»è®°å°æ³¨åä¸­å¿ï¼æå¡æ¶è´¹èåä»æ³¨åä¸­å¿æ¥è¯¢æéè¦è°ç¨çæå¡çå°åï¼ç¶ååèµ·è¯·æ±ã\n\nä¸è¬æ¥è®²ï¼æ³¨åä¸­å¿çå·¥ä½æµç¨æ¯ï¼\n\n * æå¡æä¾èå¨å¯å¨æ¶ï¼æ ¹æ®æå¡åå¸æä»¶ä¸­éç½®çåå¸ä¿¡æ¯åæ³¨åä¸­å¿æ³¨åèªå·±çæå¡ã\n * æå¡æ¶è´¹èå¨å¯å¨æ¶ï¼æ ¹æ®æ¶è´¹èéç½®æä»¶ä¸­éç½®çæå¡ä¿¡æ¯åæ³¨åä¸­å¿è®¢éèªå·±æéè¦çæå¡ã\n * æ³¨åä¸­å¿è¿åæå¡æä¾èå°ååè¡¨ç»æå¡æ¶è´¹èã\n * å½æå¡æä¾èåçååï¼æ¯å¦æèç¹æ°å¢æèéæ¯ï¼æ³¨åä¸­å¿å°åæ´éç¥ç»æå¡æ¶è´¹èã\n\n\n# æå¡æ¡æ¶\n\næå¡æ¶è´¹èåèµ·è°ç¨éè§£å³ä»¥ä¸é®é¢ï¼\n\n * æå¡éä¿¡éç¨ä»ä¹åè®®ï¼å°±æ¯è¯´æå¡æä¾èåæå¡æ¶è´¹èä¹é´ä»¥ä»ä¹æ ·çåè®®è¿è¡ç½ç»éä¿¡ï¼æ¯éç¨åå± tcpãudp åè®®ï¼è¿æ¯éç¨ä¸å± http åè®®ï¼è¿æ¯éç¨å¶ä»åè®®ï¼\n * æ°æ®ä¼ è¾éç¨ä»ä¹æ¹å¼ï¼å°±æ¯è¯´æå¡æä¾èåæå¡æ¶è´¹èä¹é´çæ°æ®ä¼ è¾éç¨åªç§æ¹å¼ï¼æ¯åæ­¥è¿æ¯å¼æ­¥ï¼æ¯å¨åè¿æ¥ä¸ä¼ è¾ï¼è¿æ¯å¤è·¯å¤ç¨ã\n * æ°æ®åç¼©éç¨ä»ä¹æ ¼å¼ï¼éå¸¸æ°æ®ä¼ è¾é½ä¼å¯¹æ°æ®è¿è¡åç¼©ï¼æ¥åå°ç½ç»ä¼ è¾çæ°æ®éï¼ä»èåå°å¸¦å®½æ¶èåç½ç»ä¼ è¾æ¶é´ï¼æ¯å¦å¸¸è§ç json åºååãjava å¯¹è±¡åºååä»¥å protobuf åºååç­ã\n\n\n# æå¡çæ§\n\nä¸æ¦æå¡æ¶è´¹èä¸æå¡æä¾èä¹é´è½å¤æ­£å¸¸åèµ·æå¡è°ç¨ï¼ä½ å°±éè¦å¯¹è°ç¨æåµè¿è¡çæ§ï¼ä»¥äºè§£æå¡æ¯å¦æ­£å¸¸ãéå¸¸æ¥è®²ï¼æå¡çæ§ä¸»è¦åæ¬ä¸ä¸ªæµç¨ã\n\n * æ°æ®æ¶éãå°±æ¯è¦ææ¯ä¸æ¬¡æå¡è°ç¨çè¯·æ±èæ¶ä»¥åæåä¸å¦æ¶éèµ·æ¥ï¼å¹¶ä¸ä¼ å°éä¸­çæ°æ®å¤çä¸­å¿ã\n * æ°æ®å¤çãæäºæ¯æ¬¡è°ç¨çè¯·æ±èæ¶ä»¥åæåä¸å¦ç­ä¿¡æ¯ï¼å°±å¯ä»¥è®¡ç®æ¯ç§æå¡è¯·æ±éãå¹³åèæ¶ä»¥åæåçç­ææ ã\n * æ°æ®å±ç¤ºãæ°æ®æ¶éèµ·æ¥ï¼ç»è¿å¤çä¹åï¼è¿éè¦ä»¥åå¥½çæ¹å¼å¯¹å¤å±ç¤ºï¼æè½åæ¥ä»·å¼ãéå¸¸é½æ¯å°æ°æ®å±ç¤ºå¨ dashboard é¢æ¿ä¸ï¼å¹¶ä¸æ¯é 10s ç­é´éèªå¨å·æ°ï¼ç¨ä½ä¸å¡çæ§åæ¥è­¦ç­ã\n\n\n# æå¡é¾è·¯è¿½è¸ª\n\né¤äºéè¦å¯¹æå¡è°ç¨æåµè¿è¡çæ§ä¹å¤ï¼ä½ è¿éè¦è®°å½æå¡è°ç¨ç»è¿çæ¯ä¸å±é¾è·¯ï¼ä»¥ä¾¿è¿è¡é®é¢è¿½è¸ªåæéå®ä½ã\n\næå¡é¾è·¯è¿½è¸ªçå·¥ä½åçå¤§è´å¦ä¸ï¼\n\n * æå¡æ¶è´¹èåèµ·è°ç¨åï¼ä¼å¨æ¬å°æç§ä¸å®çè§åçæä¸ä¸ª requestidï¼åèµ·è°ç¨æ¶ï¼å° requestid å½ä½è¯·æ±åæ°çä¸é¨åï¼ä¼ éç»æå¡æä¾èã\n * æå¡æä¾èæ¥æ¶å°è¯·æ±åï¼è®°å½ä¸è¿æ¬¡è¯·æ±ç requestidï¼ç¶åå¤çè¯·æ±ãå¦ææå¡æä¾èç»§ç»­è¯·æ±å¶ä»æå¡ï¼ä¼å¨æ¬å°åçæä¸ä¸ªèªå·±ç requestidï¼ç¶åæè¿ä¸¤ä¸ª requestid é½å½ä½è¯·æ±åæ°ç»§ç»­å¾ä¸ä¼ éã\n\nä»¥æ­¤ç±»æ¨ï¼éè¿è¿ç§å±å±å¾ä¸ä¼ éçæ¹å¼ï¼ä¸æ¬¡è¯·æ±ï¼æ è®ºæåä¾èµå¤å°æ¬¡æå¡è°ç¨ãç»è¿å¤å°æå¡èç¹ï¼é½å¯ä»¥éè¿æå¼å§çæç requestid ä¸²èææèç¹ï¼ä»èè¾¾å°æå¡è¿½è¸ªçç®çã\n\n\n# æå¡æ²»ç\n\næå¡çæ§è½å¤åç°é®é¢ï¼æå¡è¿½è¸ªè½å¤å®ä½é®é¢æå¨ï¼èè§£å³é®é¢å°±å¾é æå¡æ²»çäºãæå¡æ²»çå°±æ¯éè¿ä¸ç³»åçææ®µæ¥ä¿è¯å¨åç§æå¤æåµä¸ï¼æå¡è°ç¨ä»ç¶è½å¤æ­£å¸¸è¿è¡ã\n\nå¨çäº§ç¯å¢ä¸­ï¼ä½ åºè¯¥ç»å¸¸ä¼éå°ä¸é¢å ç§ç¶åµã\n\n * åæºæéãéå¸¸éå°åæºæéï¼é½æ¯é è¿ç»´åç°å¹¶éå¯æå¡æèä»çº¿ä¸æé¤æéèç¹ãç¶èéç¾¤çè§æ¨¡è¶å¤§ï¼è¶æ¯å®¹æéå°åæºæéï¼å¨æºå¨è§æ¨¡è¶è¿ä¸ç¾å°ä»¥ä¸æ¶ï¼é ä¼ ç»çäººèè¿ç»´æ¾ç¶é¾ä»¥åºå¯¹ãèæå¡æ²»çå¯ä»¥éè¿ä¸å®çç­ç¥ï¼èªå¨æé¤æéèç¹ï¼ä¸éè¦äººä¸ºå¹²é¢ï¼å°±è½ä¿è¯åæºæéä¸ä¼å½±åä¸å¡ã\n * å idc æéãä½ åºè¯¥ç»å¸¸å¬è¯´ææ appï¼å ä¸ºæ½å·¥ææ­åç¼å¯¼è´å¤§æ¹éç¨æ·æ æ³ä½¿ç¨çä¸¥éæéãèæå¡æ²»çå¯ä»¥éè¿èªå¨åæ¢æé idc çæµéå°å¶ä»æ­£å¸¸ idcï¼å¯ä»¥é¿åå ä¸ºå idc æéå¼èµ·çå¤§æ¹éä¸å¡åå½±åã\n * ä¾èµæå¡ä¸å¯ç¨ãæ¯å¦ä½ çæå¡ä¾èµä¾èµäºå¦ä¸ä¸ªæå¡ï¼å½å¦ä¸ä¸ªæå¡åºç°é®é¢æ¶ï¼ä¼ææ¢çè³æå®ä½ çæå¡ãèæå¡æ²»çå¯ä»¥éè¿çæ­ï¼å¨ä¾èµæå¡å¼å¸¸çæåµä¸ï¼ä¸æ®µæ¶æååæ­¢åèµ·è°ç¨èç´æ¥è¿åãè¿æ ·ä¸æ¹é¢ä¿è¯äºæå¡æ¶è´¹èè½å¤ä¸è¢«æå®ï¼å¦ä¸æ¹é¢ä¹ç»æå¡æä¾èåå°ååï¼ä½¿å¶è½å¤å°½å¿«æ¢å¤ã\n\nä¸é¢æ¯ä¸ç§æå¸¸è§çéè¦å¼å¥æå¡æ²»ççåºæ¯ï¼å½ç¶è¿æä¸äºå¶ä»æå¡æ²»ççææ®µæ¯å¦èªå¨æ©ç¼©å®¹ï¼å¯ä»¥ç¨æ¥è§£å³æå¡çå®¹éé®é¢ã\n\n\n# åèèµæ\n\n * ä» 0 å¼å§å­¦å¾®æå¡",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"å¾®æå¡åºæ¬åç",frontmatter:{title:"å¾®æå¡åºæ¬åç",date:"2020-07-21T15:35:00.000Z",categories:["è®¾è®¡","æ¶æ","å¾®æå¡"],tags:["è®¾è®¡","æ¶æ","å¾®æå¡"],permalink:"/pages/aa7497/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/01.%E6%9E%B6%E6%9E%84/01.%E5%BE%AE%E6%9C%8D%E5%8A%A1/02.%E5%BE%AE%E6%9C%8D%E5%8A%A1%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86.html",relativePath:"03.è®¾è®¡/01.æ¶æ/01.å¾®æå¡/02.å¾®æå¡åºæ¬åç.md",key:"v-121637aa",path:"/pages/aa7497/",headers:[{level:2,title:"å¾®æå¡ç®ä»",slug:"å¾®æå¡ç®ä»",normalizedTitle:"å¾®æå¡ç®ä»",charIndex:14},{level:3,title:"ä»ä¹æ¯å¾®æå¡æ¶æ",slug:"ä»ä¹æ¯å¾®æå¡æ¶æ",normalizedTitle:"ä»ä¹æ¯å¾®æå¡æ¶æ",charIndex:24},{level:3,title:"å¦ä½æè¡¡å¾®æå¡çå©å¼",slug:"å¦ä½æè¡¡å¾®æå¡çå©å¼",normalizedTitle:"å¦ä½æè¡¡å¾®æå¡çå©å¼",charIndex:190},{level:3,title:"åº·å¨å®å¾",slug:"åº·å¨å®å¾",normalizedTitle:"åº·å¨å®å¾",charIndex:280},{level:3,title:"å¦ä½æåå¾®æå¡",slug:"å¦ä½æåå¾®æå¡",normalizedTitle:"å¦ä½æåå¾®æå¡",charIndex:411},{level:2,title:"å¾®æå¡ææ¯æ¶æ",slug:"å¾®æå¡ææ¯æ¶æ",normalizedTitle:"å¾®æå¡ææ¯æ¶æ",charIndex:682},{level:2,title:"æå¡æ³¨ååç°",slug:"æå¡æ³¨ååç°",normalizedTitle:"æå¡æ³¨ååç°",charIndex:808},{level:3,title:"æ³¨åä¸­å¿çå·¥ä½æµç¨",slug:"æ³¨åä¸­å¿çå·¥ä½æµç¨",normalizedTitle:"æ³¨åä¸­å¿çå·¥ä½æµç¨",charIndex:1205},{level:3,title:"æ³¨åä¸­å¿å®ç°æ¨¡å¼",slug:"æ³¨åä¸­å¿å®ç°æ¨¡å¼",normalizedTitle:"æ³¨åä¸­å¿å®ç°æ¨¡å¼",charIndex:1397},{level:4,title:"åºç¨åæ³¨åååç°",slug:"åºç¨åæ³¨åååç°",normalizedTitle:"åºç¨åæ³¨åååç°",charIndex:1409},{level:4,title:"åºç¨å¤æ³¨åååç°",slug:"åºç¨å¤æ³¨åååç°",normalizedTitle:"åºç¨å¤æ³¨åååç°",charIndex:1697},{level:4,title:"æ³¨åä¸­å¿éå",slug:"æ³¨åä¸­å¿éå",normalizedTitle:"æ³¨åä¸­å¿éå",charIndex:1986},{level:5,title:"é«å¯ç¨æ§",slug:"é«å¯ç¨æ§",normalizedTitle:"é«å¯ç¨æ§",charIndex:1996},{level:5,title:"æ°æ®ä¸è´æ§",slug:"æ°æ®ä¸è´æ§",normalizedTitle:"æ°æ®ä¸è´æ§",charIndex:2053},{level:3,title:"æå¡æ³¨ååç°çé®é¢",slug:"æå¡æ³¨ååç°çé®é¢",normalizedTitle:"æå¡æ³¨ååç°çé®é¢",charIndex:2557},{level:4,title:"å¤æ³¨åä¸­å¿",slug:"å¤æ³¨åä¸­å¿",normalizedTitle:"å¤æ³¨åä¸­å¿",charIndex:2570},{level:4,title:"å¹¶è¡è®¢éæå¡",slug:"å¹¶è¡è®¢éæå¡",normalizedTitle:"å¹¶è¡è®¢éæå¡",charIndex:2635},{level:4,title:"æ¹éæ³¨éæå¡",slug:"æ¹éæ³¨éæå¡",normalizedTitle:"æ¹éæ³¨éæå¡",charIndex:2756},{level:4,title:"æå¡åæ´ä¿¡æ¯åæ­¥æ´æ°",slug:"æå¡åæ´ä¿¡æ¯åæ­¥æ´æ°",normalizedTitle:"æå¡åæ´ä¿¡æ¯åæ­¥æ´æ°",charIndex:2825},{level:3,title:"è¯å«æå¡èç¹æ¯å¦å­æ´»",slug:"è¯å«æå¡èç¹æ¯å¦å­æ´»",normalizedTitle:"è¯å«æå¡èç¹æ¯å¦å­æ´»",charIndex:2962},{level:4,title:"å¿è·³å¼å³ä¿æ¤æºå¶",slug:"å¿è·³å¼å³ä¿æ¤æºå¶",normalizedTitle:"å¿è·³å¼å³ä¿æ¤æºå¶",charIndex:2976},{level:4,title:"æå¡èç¹æé¤ä¿æ¤æºå¶",slug:"æå¡èç¹æé¤ä¿æ¤æºå¶",normalizedTitle:"æå¡èç¹æé¤ä¿æ¤æºå¶",charIndex:3465},{level:2,title:"æå¡éä¿¡",slug:"æå¡éä¿¡",normalizedTitle:"æå¡éä¿¡",charIndex:4006},{level:3,title:"åºååæ¹å¼",slug:"åºååæ¹å¼",normalizedTitle:"åºååæ¹å¼",charIndex:4365},{level:3,title:"éä¿¡åè®®",slug:"éä¿¡åè®®",normalizedTitle:"éä¿¡åè®®",charIndex:4061},{level:2,title:"æå¡çæ§",slug:"æå¡çæ§",normalizedTitle:"æå¡çæ§",charIndex:4929},{level:3,title:"çæ§å¯¹è±¡",slug:"çæ§å¯¹è±¡",normalizedTitle:"çæ§å¯¹è±¡",charIndex:5060},{level:3,title:"ç³»ç»çæ§åç",slug:"ç³»ç»çæ§åç",normalizedTitle:"ç³»ç»çæ§åç",charIndex:5276},{level:4,title:"æ°æ®éé",slug:"æ°æ®éé",normalizedTitle:"æ°æ®éé",charIndex:5322},{level:4,title:"æ°æ®ä¼ è¾",slug:"æ°æ®ä¼ è¾",normalizedTitle:"æ°æ®ä¼ è¾",charIndex:4289},{level:4,title:"æ°æ®å¤ç",slug:"æ°æ®å¤ç",normalizedTitle:"æ°æ®å¤ç",charIndex:5332},{level:4,title:"æ°æ®å±ç¤º",slug:"æ°æ®å±ç¤º",normalizedTitle:"æ°æ®å±ç¤º",charIndex:5337},{level:3,title:"çæ§ææ¯",slug:"çæ§ææ¯",normalizedTitle:"çæ§ææ¯",charIndex:6180},{level:2,title:"æå¡æ²»ç",slug:"æå¡æ²»ç",normalizedTitle:"æå¡æ²»ç",charIndex:160},{level:2,title:"API ç½å³",slug:"api-ç½å³",normalizedTitle:"api ç½å³",charIndex:6951},{level:3,title:"Zuul",slug:"zuul",normalizedTitle:"zuul",charIndex:7188},{level:2,title:"è´è½½åè¡¡",slug:"è´è½½åè¡¡",normalizedTitle:"è´è½½åè¡¡",charIndex:6772},{level:2,title:"æå¡è·¯ç±",slug:"æå¡è·¯ç±",normalizedTitle:"æå¡è·¯ç±",charIndex:6822},{level:3,title:"æå¡è·¯ç±çåºç¨åºæ¯",slug:"æå¡è·¯ç±çåºç¨åºæ¯",normalizedTitle:"æå¡è·¯ç±çåºç¨åºæ¯",charIndex:7739},{level:3,title:"æå¡è·¯ç±çè§å",slug:"æå¡è·¯ç±çè§å",normalizedTitle:"æå¡è·¯ç±çè§å",charIndex:8228},{level:4,title:"æ¡ä»¶è·¯ç±",slug:"æ¡ä»¶è·¯ç±",normalizedTitle:"æ¡ä»¶è·¯ç±",charIndex:8252},{level:4,title:"èæ¬è·¯ç±",slug:"èæ¬è·¯ç±",normalizedTitle:"èæ¬è·¯ç±",charIndex:8260},{level:3,title:"æå¡è·¯ç±çè·åæ¹å¼",slug:"æå¡è·¯ç±çè·åæ¹å¼",normalizedTitle:"æå¡è·¯ç±çè·åæ¹å¼",charIndex:10508},{level:3,title:"åé¨æå¡è°ç¨",slug:"åé¨æå¡è°ç¨",normalizedTitle:"åé¨æå¡è°ç¨",charIndex:10798},{level:3,title:"å¤é¨æå¡è°ç¨",slug:"å¤é¨æå¡è°ç¨",normalizedTitle:"å¤é¨æå¡è°ç¨",charIndex:10973},{level:2,title:"éç½®ä¸­å¿",slug:"éç½®ä¸­å¿",normalizedTitle:"éç½®ä¸­å¿",charIndex:10618},{level:3,title:"Apollo",slug:"apollo",normalizedTitle:"apollo",charIndex:11573},{level:3,title:"Spring Cloud Git",slug:"spring-cloud-git",normalizedTitle:"spring cloud git",charIndex:11662},{level:2,title:"é¾è·¯è¿½è¸ª",slug:"é¾è·¯è¿½è¸ª",normalizedTitle:"é¾è·¯è¿½è¸ª",charIndex:11771},{level:3,title:"é¾è·¯è¿½è¸ªçä½ç¨",slug:"é¾è·¯è¿½è¸ªçä½ç¨",normalizedTitle:"é¾è·¯è¿½è¸ªçä½ç¨",charIndex:11780},{level:3,title:"é¾è·¯è¿½è¸ªçåç",slug:"é¾è·¯è¿½è¸ªçåç",normalizedTitle:"é¾è·¯è¿½è¸ªçåç",charIndex:11833},{level:3,title:"é¾è·¯è¿½è¸ªçå®ç°",slug:"é¾è·¯è¿½è¸ªçå®ç°",normalizedTitle:"é¾è·¯è¿½è¸ªçå®ç°",charIndex:12300},{level:4,title:"æ°æ®ééå±",slug:"æ°æ®ééå±",normalizedTitle:"æ°æ®ééå±",charIndex:12331},{level:4,title:"æ°æ®å¤çå±",slug:"æ°æ®å¤çå±",normalizedTitle:"æ°æ®å¤çå±",charIndex:12351},{level:4,title:"æ°æ®å±ç¤ºå±",slug:"æ°æ®å±ç¤ºå±",normalizedTitle:"æ°æ®å±ç¤ºå±",charIndex:12372},{level:3,title:"é¾è·¯è¿½è¸ªæ¹æ¡å¯¹æ¯",slug:"é¾è·¯è¿½è¸ªæ¹æ¡å¯¹æ¯",normalizedTitle:"é¾è·¯è¿½è¸ªæ¹æ¡å¯¹æ¯",charIndex:13124},{level:2,title:"éæµçæ­",slug:"éæµçæ­",normalizedTitle:"éæµçæ­",charIndex:13139},{level:3,title:"éæµ",slug:"éæµ",normalizedTitle:"éæµ",charIndex:13139},{level:3,title:"éçº§",slug:"éçº§",normalizedTitle:"éçº§",charIndex:6580},{level:2,title:"DEVOPS",slug:"devops",normalizedTitle:"devops",charIndex:14551},{level:3,title:"å®¹å¨åå®¹å¨å¹³å°",slug:"å®¹å¨åå®¹å¨å¹³å°",normalizedTitle:"å®¹å¨åå®¹å¨å¹³å°",charIndex:14562},{level:2,title:"RPC éå",slug:"rpc-éå",normalizedTitle:"rpc éå",charIndex:14601},{level:3,title:"éå®è¯­è¨ RPC",slug:"éå®è¯­è¨-rpc",normalizedTitle:"éå®è¯­è¨ rpc",charIndex:14612},{level:3,title:"è·¨è¯­è¨ RPC",slug:"è·¨è¯­è¨-rpc",normalizedTitle:"è·¨è¯­è¨ rpc",charIndex:15325},{level:2,title:"Service Mesh",slug:"service-mesh",normalizedTitle:"service mesh",charIndex:15951},{level:3,title:"Service Mesh çå®ç°åç",slug:"service-mesh-çå®ç°åç",normalizedTitle:"service mesh çå®ç°åç",charIndex:15970},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:16157}],headersStr:"å¾®æå¡ç®ä» ä»ä¹æ¯å¾®æå¡æ¶æ å¦ä½æè¡¡å¾®æå¡çå©å¼ åº·å¨å®å¾ å¦ä½æåå¾®æå¡ å¾®æå¡ææ¯æ¶æ æå¡æ³¨ååç° æ³¨åä¸­å¿çå·¥ä½æµç¨ æ³¨åä¸­å¿å®ç°æ¨¡å¼ åºç¨åæ³¨åååç° åºç¨å¤æ³¨åååç° æ³¨åä¸­å¿éå é«å¯ç¨æ§ æ°æ®ä¸è´æ§ æå¡æ³¨ååç°çé®é¢ å¤æ³¨åä¸­å¿ å¹¶è¡è®¢éæå¡ æ¹éæ³¨éæå¡ æå¡åæ´ä¿¡æ¯åæ­¥æ´æ° è¯å«æå¡èç¹æ¯å¦å­æ´» å¿è·³å¼å³ä¿æ¤æºå¶ æå¡èç¹æé¤ä¿æ¤æºå¶ æå¡éä¿¡ åºååæ¹å¼ éä¿¡åè®® æå¡çæ§ çæ§å¯¹è±¡ ç³»ç»çæ§åç æ°æ®éé æ°æ®ä¼ è¾ æ°æ®å¤ç æ°æ®å±ç¤º çæ§ææ¯ æå¡æ²»ç API ç½å³ Zuul è´è½½åè¡¡ æå¡è·¯ç± æå¡è·¯ç±çåºç¨åºæ¯ æå¡è·¯ç±çè§å æ¡ä»¶è·¯ç± èæ¬è·¯ç± æå¡è·¯ç±çè·åæ¹å¼ åé¨æå¡è°ç¨ å¤é¨æå¡è°ç¨ éç½®ä¸­å¿ Apollo Spring Cloud Git é¾è·¯è¿½è¸ª é¾è·¯è¿½è¸ªçä½ç¨ é¾è·¯è¿½è¸ªçåç é¾è·¯è¿½è¸ªçå®ç° æ°æ®ééå± æ°æ®å¤çå± æ°æ®å±ç¤ºå± é¾è·¯è¿½è¸ªæ¹æ¡å¯¹æ¯ éæµçæ­ éæµ éçº§ DEVOPS å®¹å¨åå®¹å¨å¹³å° RPC éå éå®è¯­è¨ RPC è·¨è¯­è¨ RPC Service Mesh Service Mesh çå®ç°åç åèèµæ",content:'# å¾®æå¡åºæ¬åç\n\n\n# å¾®æå¡ç®ä»\n\n\n# ä»ä¹æ¯å¾®æå¡æ¶æ\n\näºèç½åºç¨æ¶æå¤§è´çæ¼è¿æ¹åä¸ºï¼åä½æ¶æ -> æå¡åæ¶æ -> å¾®æå¡æ¶æã\n\nå¾®æå¡æ¶æçç¹ç¹ï¼\n\n * æå¡æåç²åº¦æ´ç»ï¼æ ¹æ®ä¸å¡æåã\n * ç¬ç«é¨ç½²ï¼æ¯ä¸ªæå¡é¨ç½²å¨ç©çä¸éç¦»ï¼äºä¸å½±åã\n * ç¬ç«ç»´æ¤ï¼æ ¹æ®ç»ç»æ¶ææåï¼åå¢éç»´æ¤ã\n * æå¡æ²»çï¼æå¡æ°éåå¤ï¼éè¦æç»ä¸çæå¡æ²»çå¹³å°ã\n\n\n# å¦ä½æè¡¡å¾®æå¡çå©å¼\n\nä¼ç¹\n\n * å¼ºæ¨¡ååè¾¹ç\n * å¯ç¬ç«é¨ç½²\n * ææ¯å¤æ ·æ§\n\nç¼ºç¹\n\n * åå¸å¼å¤æåº¦\n * æç»ä¸è´æ§\n * è¿ç»´å¤æåº¦\n * æµè¯å¤æåº¦\n\n\n# åº·å¨å®å¾\n\n * ç¬¬ä¸å®å¾ï¼ç»ç»æ²éæ¹å¼ä¼éè¿ç³»ç»è®¾è®¡è¡¨è¾¾åºæ¥\n * ç¬¬äºå®å¾ï¼æ¶é´åå¤ä¸ä»¶äºæä¹ä¸å¯è½åçå®ç¾ï¼ä½æ»ææ¶é´åå®ä¸ä»¶äºæ\n * ç¬¬ä¸å®å¾ï¼çº¿åç³»ç»åçº¿åç»ç»æ¶æé´ææ½å¨çå¼è´¨åæç¹æ§\n * ç¬¬åå®å¾ï¼å¤§çç³»ç»ç»ç»æ»æ¯æ¯å°ç³»ç»æ´å¾åäºåè§£\n\n\n# å¦ä½æåå¾®æå¡\n\nåºç¨å¾®æå¡åæ¶æåï¼è¦æèå ä¸ªé®é¢ï¼\n\nä»ä¹æ¶åè¿è¡æå¡åæåï¼å¦ä½æåæå¡ï¼\n\nå½åºç¨å¤æåº¦ãå¼åå¢éè¨èå°é¾ä»¥ç»´æ¤æ¶ï¼å°±è¯¥èèæå¡åæåäºã\n\næåæå¡çæèç»´åº¦ï¼\n\n * ä¸å¡ç»´åº¦ï¼ä¸å¡åæ°æ®å³ç³»å¯åçåºè¯¥æ¾å¨ä¸èµ·ã\n * åè½ç»´åº¦ï¼å¬å±åè½èåä¸ºä¸ä¸ªæå¡ã\n * ç»ç»æ¶æï¼æ ¹æ®å®éç»ç»æ¶æï¼å¤©ç¶åä¸ºä¸åçå¢éï¼æ¯ä¸ªå¢éç¬ç«ç»´æ¤è¥å¹²å¾®æå¡ã\n\næåæå¡çåç½®æ¡ä»¶ï¼\n\nåºç¨å¾®æå¡æ¶æè¦åè§£å³ä»¥ä¸é®é¢ï¼\n\n * æå¡å¦ä½å®\n * æå¡å¦ä½åå¸åè®¢é\n * æå¡å¦ä½çæ§\n * æå¡å¦ä½æ²»ç\n * æéå¦ä½å®ä½\n\n\n# å¾®æå¡ææ¯æ¶æ\n\n\n\nç¬¬ä¸å±ï¼æ¥å¥å±\n\nå¤é¨è®¾å¤è®¿é®çç»ä¸æ¥å¥å±ã\n\nç¬¬äºå±ï¼èåæå¡å±\n\nå¯¹ä¸å±çåºç¡æå¡åä¸äºèåï¼åªè£çå·¥ä½ï¼ééä¸å±ä¸åè®¾å¤çæ°æ®è¾åºã\n\nç¬¬ä¸å±ï¼åºç¡æå¡å±\n\næ¯è¾ç»ç²åº¦çå¾®æå¡å±ï¼æä¾åºç¡çæ ¸å¿æå¡ï¼å¬å±æå¡ã\n\n\n\n\n# æå¡æ³¨ååç°\n\nå¨å¾®æå¡æ¶æä¸ï¼ä¸»è¦æä¸ç§è§è²ï¼\n\n * æå¡æä¾èï¼RPC Server / Providerï¼\n * æå¡æ¶è´¹èï¼RPC Client / Consumerï¼\n * æå¡æ³¨åä¸­å¿ï¼Registryï¼\n\næ³¨åä¸­å¿çå®ç°ä¾èµä»¥ä¸æºå¶ï¼\n\n * æ³¨åä¸­å¿ API\n * éç¾¤é¨ç½²ï¼å¦ææ³¨åä¸­å¿æ¯åç¹ï¼æ æ³ä¿éé«å¯ç¨ã\n * åæ°æ®å­å¨ï¼ä¾å¦ ZooKeeper å°æ°æ®ä»¥å±æ¬¡åçç®å½ç»æå­å¨ã\n * æå¡å¥åº·æ£æ¥ï¼ä½¿ç¨é¿è¿æ¥æå¿è·³æ¢æµæ¹å¼æ£æ¥æå¡å¥åº·ç¶æã\n * æå¡ç¶æåæ´éç¥ï¼å¯ä»¥åºäºè®¢éèæ¨¡å¼å®ç°ï¼ä¾å¦ ZooKeeper ç Watch æºå¶ã\n * ç½ååæºå¶\n\næ³¨åä¸­å¿çæå¡æ³¨åååç°é½æ¯åºäº API çãä¸è¬éè¦æ¯æä»¥ä¸åè½ï¼\n\n * æå¡æ³¨å\n * æå¡æ³¨é\n * æ¥å£ç»­çº¦ï¼å¿è·³ï¼\n * æå¡è®¢é\n * å¯ç¨æå¡åæ­¥\n * æå¡æ¥è¯¢\n * æå¡ä¿®æ¹\n\n\n# æ³¨åä¸­å¿çå·¥ä½æµç¨\n\nä¸è¬æ¥è®²ï¼æ³¨åä¸­å¿çå·¥ä½æµç¨æ¯ï¼\n\n * æå¡æä¾èå¨å¯å¨æ¶ï¼æ ¹æ®æå¡åå¸æä»¶ä¸­éç½®çåå¸ä¿¡æ¯åæ³¨åä¸­å¿æ³¨åèªå·±çæå¡ã\n * æå¡æ¶è´¹èå¨å¯å¨æ¶ï¼æ ¹æ®æ¶è´¹èéç½®æä»¶ä¸­éç½®çæå¡ä¿¡æ¯åæ³¨åä¸­å¿è®¢éèªå·±æéè¦çæå¡ã\n * æ³¨åä¸­å¿è¿åæå¡æä¾èå°ååè¡¨ç»æå¡æ¶è´¹èã\n * å½æå¡æä¾èåçååï¼æ¯å¦æèç¹æ°å¢æèéæ¯ï¼æ³¨åä¸­å¿å°åæ´éç¥ç»æå¡æ¶è´¹èã\n\n\n# æ³¨åä¸­å¿å®ç°æ¨¡å¼\n\n# åºç¨åæ³¨åååç°\n\néç¨åºç¨åæ³¨åä¸åç°çæ¹å¼ï¼æå¸åçæ¡ä¾è¦å± Netflix å¼æºç Eurekaï¼å®æ¹æ¶æå¾å¦ä¸ã\n\n\n\nå¯¹çè¿å¼ å¾ï¼ææ¥ä»ç»ä¸ Eureka çæ¶æï¼å®ä¸»è¦ç±ä¸ä¸ªéè¦çç»ä»¶ç»æï¼\n\n * Eureka Serverï¼æ³¨åä¸­å¿çæå¡ç«¯ï¼å®ç°äºæå¡ä¿¡æ¯æ³¨åãå­å¨ä»¥åæ¥è¯¢ç­åè½ã\n * æå¡ç«¯ç Eureka Clientï¼éæå¨æå¡ç«¯çæ³¨åä¸­å¿ SDKï¼æå¡æä¾èéè¿è°ç¨ SDKï¼å®ç°æå¡æ³¨åãåæ³¨åç­åè½ã\n * å®¢æ·ç«¯ç Eureka Clientï¼éæå¨å®¢æ·ç«¯çæ³¨åä¸­å¿ SDKï¼æå¡æ¶è´¹èéè¿è°ç¨ SDKï¼å®ç°æå¡è®¢éãæå¡æ´æ°ç­åè½ã\n\n# åºç¨å¤æ³¨åååç°\n\n\n\néè¿è¿å¼ æ¶æå¾ï¼å¯ä»¥çåºæ¥ä½¿ç¨ Consul å®ç°åºç¨å¤æå¡æ³¨åååç°ä¸»è¦ä¾é ä¸ä¸ªéè¦çç»ä»¶ï¼\n\n * Consulï¼æ³¨åä¸­å¿çæå¡ç«¯ï¼å®ç°æå¡æ³¨åä¿¡æ¯çå­å¨ï¼å¹¶æä¾æ³¨åååç°æå¡ã\n * Registratorï¼ä¸ä¸ªå¼æºçç¬¬ä¸æ¹æå¡ç®¡çå¨é¡¹ç®ï¼å®éè¿çå¬æå¡é¨ç½²ç Docker å®ä¾æ¯å¦å­æ´»ï¼æ¥è´è´£æå¡æä¾èçæ³¨ååéæ¯ã\n * Consul Templateï¼å®æ¶ä»æ³¨åä¸­å¿æå¡ç«¯è·åææ°çæå¡æä¾èèç¹åè¡¨å¹¶å·æ° LB éç½®ï¼æ¯å¦ Nginx ç upstreamï¼ï¼è¿æ ·æå¡æ¶è´¹èå°±éè¿è®¿é® Nginx å°±å¯ä»¥è·åææ°çæå¡æä¾èä¿¡æ¯ã\n\n# æ³¨åä¸­å¿éå\n\n# é«å¯ç¨æ§\n\néç¾¤é¨ç½²ï¼éè¿é¨ç½²å¤ä¸ªå®ä¾ç»æéç¾¤æ¥ä¿è¯é«å¯ç¨æ§ã\n\nå¤ IDC é¨ç½²ï¼å³é¨ç½²å¨ä¸æ­¢ä¸ä¸ªæºæ¿ã\n\n# æ°æ®ä¸è´æ§\n\næ ¹æ® CAP çè®ºï¼ä¸èä¸è½åæ¶æ»¡è¶³ï¼\n\n * CP åæ³¨åä¸­å¿ï¼çºç²å¯ç¨æ§æ¥ä¿è¯æ°æ®å¼ºä¸è´æ§ï¼æå¸åçä¾å­å°±æ¯ ZooKeeperï¼etcdï¼Consul äºãZooKeeper éç¾¤ååªæä¸ä¸ª Leaderï¼èä¸å¨ Leader æ æ³ä½¿ç¨çæ¶åéè¿ Paxos ç®æ³éä¸¾åºä¸ä¸ªæ°ç Leaderãè¿ä¸ª Leader çç®çå°±æ¯ä¿è¯åä¿¡æ¯çæ¶ååªåè¿ä¸ª Leader åå¥ï¼Leader ä¼åæ­¥ä¿¡æ¯å° Followersï¼è¿ä¸ªè¿ç¨å°±å¯ä»¥ä¿è¯æ°æ®çå¼ºä¸è´æ§ãä½å¦æå¤ä¸ª ZooKeeper ä¹é´ç½ç»åºç°é®é¢ï¼é æåºç°å¤ä¸ª Leaderï¼åçèè£çè¯ï¼æ³¨åä¸­å¿å°±ä¸å¯ç¨äºãè etcd å Consul éç¾¤åé½æ¯éè¿ raft åè®®æ¥ä¿è¯å¼ºä¸è´æ§ï¼å¦æåºç°èè£çè¯ï¼ æ³¨åä¸­å¿ä¹ä¸å¯ç¨ã\n * AP åæ³¨åä¸­å¿ï¼çºç²ä¸è´æ§æ¥ä¿è¯å¯ç¨æ§ï¼æå¸åçä¾å­å°±æ¯ Eureka äºãå¯¹æ¯ä¸ Zookeeperï¼Eureka ä¸ç¨éä¸¾ä¸ä¸ª Leaderï¼æ¯ä¸ª Eureka æå¡å¨åç¬ä¿å­æå¡æ³¨åå°åï¼å æ­¤æå¯è½åºç°æ°æ®ä¿¡æ¯ä¸ä¸è´çæåµãä½æ¯å½ç½ç»åºç°é®é¢çæ¶åï¼æ¯å°æå¡å¨é½å¯ä»¥å®æç¬ç«çæå¡ã\n\n\n# æå¡æ³¨ååç°çé®é¢\n\n# å¤æ³¨åä¸­å¿\n\nå¯¹äºæå¡æ¶è´¹èæ¥è¯´ï¼è¦è½å¤åæ¶ä»å¤ä¸ªæ³¨åä¸­å¿è®¢éæå¡ï¼å¯¹äºæå¡æä¾èæ¥è¯´ï¼è¦è½å¤åæ¶åå¤ä¸ªæ³¨åä¸­å¿æ³¨åæå¡ã\n\n# å¹¶è¡è®¢éæå¡\n\nå¯ä»¥æ¯è®¢éä¸ä¸ªæå¡å°±åç¬ç¨ä¸ä¸ªçº¿ç¨æ¥å¤çï¼è¿æ ·çè¯å³ä½¿éå°ä¸ªå«æå¡èç¹è¿æ¥è¶æ¶ï¼å¶ä»æå¡èç¹çåå§åè¿æ¥ä¹ä¸åå½±åï¼ææ¢ä¹å°±æ¯è¿ä¸ªæå¡èç¹çåå§åè¿æ¥èè´¹çæ¶é´ï¼æç»æææå¡èç¹çåå§åè¿æ¥èæ¶æ§å¶å¨äº 30 ç§ä»¥åã\n\n# æ¹éæ³¨éæå¡\n\néè¦å®æ¶å»æ¸çæ³¨åä¸­å¿ä¸­çâåµå°¸èç¹âï¼å¦ææ¯ææ¹éæ³¨éæå¡ï¼å°±å¯ä»¥ä¸æ¬¡è°ç¨å°±æè¯¥èç¹ä¸æä¾çæææå¡åæ¶æ³¨éæã\n\n# æå¡åæ´ä¿¡æ¯åæ­¥æ´æ°\n\nä¸ºäºåå°æå¡æ¶è´¹èä»æ³¨åä¸­å¿ä¸­æåçæå¡å¯ç¨èç¹ä¿¡æ¯çæ°æ®éï¼è¿ä¸ªæ¶åå¯ä»¥éè¿å¢éæ´æ°çæ¹å¼ï¼æ³¨åä¸­å¿åªè¿åååçé£é¨åèç¹ä¿¡æ¯ï¼å°¤å¶å¨åªæå°æ°èç¹ä¿¡æ¯åæ´æ¶ï¼æ­¤ä¸¾å¯ä»¥å¤§å¤§åå°æå¡æ¶è´¹èä»æ³¨åä¸­å¿æåçæ°æ®éï¼ä»èæå¤§ç¨åº¦é¿åäº§çç½ç»é£æ´ã\n\n\n# è¯å«æå¡èç¹æ¯å¦å­æ´»\n\n# å¿è·³å¼å³ä¿æ¤æºå¶\n\nå¨ç½ç»é¢ç¹æå¨çæåµä¸ï¼æ³¨åä¸­å¿ä¸­å¯ç¨çèç¹ä¼ä¸æ­ååï¼è¿æ¶åæå¡æ¶è´¹èä¼é¢ç¹æ¶å°æå¡æä¾èèç¹åæ´çä¿¡æ¯ï¼äºæ¯å°±ä¸æ­å°è¯·æ±æ³¨åä¸­å¿æ¥æåææ°çå¯ç¨æå¡èç¹ä¿¡æ¯ãå½ææç¾ä¸åä¸ªæå¡æ¶è´¹èï¼åæ¶è¯·æ±æ³¨åä¸­å¿è·åææ°çæå¡æä¾èçèç¹ä¿¡æ¯æ¶ï¼å¯è½ä¼ææ³¨åä¸­å¿çå¸¦å®½ç»å æ»¡ï¼å°¤å¶æ¯æ³¨åä¸­å¿æ¯ç¾åç½å¡çæåµä¸ã\n\næä»¥éå¯¹è¿ç§æåµï¼éè¦ä¸ç§ä¿æ¤æºå¶ï¼å³ä½¿å¨ç½ç»é¢ç¹æå¨çæ¶åï¼æå¡æ¶è´¹èä¹ä¸è³äºåæ¶å»è¯·æ±æ³¨åä¸­å¿è·åææ°çæå¡èç¹ä¿¡æ¯ã\n\nææ¾ç»å°±éå°è¿è¿ç§æåµï¼ä¸ä¸ªå¯è¡çè§£å³æ¹æ¡å°±æ¯ç»æ³¨åä¸­å¿è®¾ç½®ä¸ä¸ªå¼å³ï¼å½å¼å³æå¼æ¶ï¼å³ä½¿ç½ç»é¢ç¹æå¨ï¼æ³¨åä¸­å¿ä¹ä¸ä¼éç¥ææçæå¡æ¶è´¹èææå¡èç¹ä¿¡æ¯åæ´ï¼æ¯å¦åªç» 10% çæå¡æ¶è´¹èè¿ååæ´ï¼è¿æ ·çè¯å°±è½å°æ³¨åä¸­å¿çè¯·æ±éåå°å°åæ¥ç 1/10ã\n\nå½ç¶æå¼è¿ä¸ªå¼å³ä¹æ¯æä¸å®ä»£ä»·çï¼å®ä¼å¯¼è´æå¡æ¶è´¹èæç¥ææ°çæå¡èç¹ä¿¡æ¯å»¶è¿ï¼ååå¯è½å¨ 10s åå°±è½æç¥å°æå¡æä¾èèç¹ä¿¡æ¯çåæ´ï¼ç°å¨å¯è½ä¼å»¶è¿å°å åéï¼æä»¥å¨ç½ç»æ­£å¸¸çæåµä¸ï¼å¼å³å¹¶ä¸éåæå¼ï¼å¯ä»¥ä½ä¸ºä¸ä¸ªç´§æ¥æªæ½ï¼å¨ç½ç»é¢ç¹æå¨çæ¶åï¼ææå¼è¿ä¸ªå¼å³ã\n\n# æå¡èç¹æé¤ä¿æ¤æºå¶\n\næå¡æä¾èå¨è¿ç¨å¯å¨æ¶ï¼ä¼æ³¨åæå¡å°æ³¨åä¸­å¿ï¼å¹¶æ¯éä¸æ®µæ¶é´ï¼æ±æ¥å¿è·³ç»æ³¨åä¸­å¿ï¼ä»¥æ è¯èªå·±çå­æ´»ç¶æãå¦æéäºä¸æ®µåºå®æ¶é´åï¼æå¡æä¾èä»ç¶æ²¡ææ±æ¥å¿è·³ç»æ³¨åä¸­å¿ï¼æ³¨åä¸­å¿å°±ä¼è®¤ä¸ºè¯¥èç¹å·²ç»å¤äºâdeadâç¶æï¼äºæ¯ä»æå¡çå¯ç¨èç¹ä¿¡æ¯ä¸­ç§»é¤åºå»ã\n\nå¦æéå°ç½ç»é®é¢ï¼å¤§æ¹æå¡æä¾èèç¹æ±æ¥ç»æ³¨åä¸­å¿çå¿è·³ä¿¡æ¯é½å¯è½ä¼ä¼ è¾¾å¤±è´¥ï¼æ³¨åä¸­å¿å°±ä¼æå®ä»¬é½ä»å¯ç¨èç¹åè¡¨ä¸­ç§»é¤åºå»ï¼é æå©ä¸çå¯ç¨èç¹é¾ä»¥æ¿åææçè°ç¨ï¼å¼èµ·âéªå´©âãä½æ¯è¿ç§æåµä¸ï¼å¯è½å¤§é¨åæå¡æä¾èèç¹æ¯å¯ç¨çï¼ä»ä»å ä¸ºç½ç»åå æ æ³æ±æ¥å¿è·³ç»æ³¨åä¸­å¿å°±è¢«âæ æâçæé¤äºã\n\nè¿ä¸ªæ¶åå°±éè¦æ ¹æ®å®éä¸å¡çæåµï¼è®¾å®ä¸ä¸ªéå¼æ¯ä¾ï¼å³ä½¿éå°åæè¯´çè¿ç§æåµï¼æ³¨åä¸­å¿ä¹ä¸è½æé¤è¶è¿è¿ä¸ªéå¼æ¯ä¾çèç¹ã\n\nè¿ä¸ªéå¼æ¯ä¾å¯ä»¥æ ¹æ®å®éä¸å¡çåä½åº¦æ¥ç¡®å®ï¼æéå¸¸ä¼æè¿ä¸ªæ¯ä¾è®¾å®å¨ 20%ï¼å°±æ¯è¯´æ³¨åä¸­å¿ä¸è½æé¤è¶è¿ 20% çèç¹ãå ä¸ºå¤§é¨åæåµä¸ï¼èç¹çååä¸ä¼è¿ä¹é¢ç¹ï¼åªæå¨ç½ç»æå¨æèä¸å¡æç¡®è¦ä¸çº¿å¤§æ¹éèç¹çæåµä¸ææå¯è½åçãèä¸å¡æç¡®è¦ä¸çº¿å¤§æ¹éèç¹çæåµæ¯å¯ä»¥é¢ç¥çï¼è¿ç§æåµä¸å¯ä»¥å³é­éå¼ä¿æ¤ï¼èæ­£å¸¸æåµä¸ï¼åºè¯¥æå¼éå¼ä¿æ¤ï¼ä»¥é²æ­¢ç½ç»æå¨æ¶ï¼å¤§æ¹éå¯ç¨çæå¡èç¹è¢«æé¤ã\n\n\n# æå¡éä¿¡\n\néè¿æ³¨åä¸­å¿ï¼æå¡æ¶è´¹èåæå¡æä¾èå°±å¯ä»¥æç¥å½¼æ­¤ï¼ä½æ¯ï¼è¦å®ç°äº¤äºè¿å¿é¡»è§£å³éä¿¡é®é¢ï¼\n\n * éä¿¡åè®®ãå³æå¡æä¾èåæå¡æ¶è´¹èä¹é´ä»¥ä»ä¹æ ·ç åè®® è¿è¡ç½ç»éä¿¡ï¼è¯´ç½äºï¼æ¯è¦è§£å³å®¢æ·ç«¯åæå¡ç«¯å¦ä½å»ºç«è¿æ¥ãç®¡çè¿æ¥ä»¥åæå¡ç«¯å¦ä½å¤çè¯·æ±çé®é¢ãæ¯éç¨åå± TCPãUDP åè®®ï¼è¿æ¯éç¨ä¸å± HTTP åè®®ï¼è¿æ¯éç¨å¶ä»åè®®ï¼ä¾å¦ï¼Dubbo åºäº TCP éä¿¡ï¼è Spring Cloud åºäº HTTP REST éä¿¡ãTCP éä¿¡æ¹å¼ï¼ä¼ è¾æçæ´é«ï¼ä½æ¯ HTTP æ¹å¼å¤©ç¶å¯ä»¥æä¾å¯¹å¤æå¡ã\n * ä¼ è¾æ¹å¼ãå³æå¡æä¾èåæå¡æ¶è´¹èä¹é´çæ°æ®ä¼ è¾éç¨åªç§æ¹å¼ãæ¯åæ­¥è¿æ¯å¼æ­¥ï¼æ¯å¨åè¿æ¥ä¸ä¼ è¾ï¼è¿æ¯å¤è·¯å¤ç¨ã\n * åºåååååºååãå®ä¸»è¦è§£å³å®¢æ·ç«¯åæå¡ç«¯éç¨åªç§æ°æ®ç¼è§£ç çé®é¢ãå¸¸è§çåºååæ¹å¼åæ¬ï¼XMLãJSONï¼äºè¿å¶ç±»å¦ï¼thriftãprotobufãhessianãJDKã\n\n\n# åºååæ¹å¼\n\nåºååæ¹å¼çéåï¼ä¸è¬åºäºä»¥ä¸èèï¼\n\n * æ¯ææ°æ®ç»æç±»åçä¸°å¯åº¦\n * è·¨è¯­è¨æ¯æ\n * æ§è½\n\n> ð åèï¼Java åºåå\n\n\n# éä¿¡åè®®\n\nå¾®æå¡æ¡æ¶å¯¹æ¯ï¼\n\n       RPC                                       REST\nè¦åæ§    å¼ºè¦å                                       æ¾æ£è¦å\nåè®®     Tcp                                       HttpãHttp2\nåºåå    äºè¿å¶ï¼ThriftãProtobufãHessianãAvroãJDK ç­ï¼   XmlãJson\næ§è½     é«                                         ä½\nå®¢æ·ç«¯    å¯¹ç¼ç¨è¯­è¨æéå¶                                  è·¨è¯­è¨æ¯ææ´å¥½ï¼æ¯æ Http å³å¯ï¼\nä»£è¡¨ææ¯   DubboãMotanãTarsãgRpcãThrift              Spring Cloud\n\n\n# æå¡çæ§\n\nå½æå¡æ¶è´¹èä¸æå¡æä¾èä¹é´å»ºç«äºéä¿¡ï¼ä½ä¸ºç®¡çèéè¦éè¿çæ§ææ®µæ¥è§å¯æå¡æ¯å¦æ­£å¸¸ï¼è°ç¨æ¯å¦æåãæå¡çæ§æ¯å¾å¤æçï¼å¨å¾®æå¡æ¶æä¸ï¼ä¸æ¬¡ç¨æ·è°ç¨ä¼å ä¸ºæå¡åæååï¼åæå¤ä¸ªä¸åæå¡ä¹é´çç¸äºè°ç¨ï¼è¿ä¹å°±éè¦å¯¹æååçæ¯ä¸ªæå¡é½çæ§èµ·æ¥ã\n\n\n# çæ§å¯¹è±¡\n\næå¡çæ§ä¸å®æ¯éè¿è§å¯æ°æ®æ¥éååæï¼æä»¥é¦åè¦æç¡®éè¦çæ§ä»ä¹ã\n\nä¸è¬æ¥è¯´ï¼æå¡çæ§æ°æ®æä»¥ä¸åç±»ï¼\n\n * ä¸å¡çæ§ï¼æ ¸å¿ææ ãç»å½ãç»åºãä¸åãæ¯ä»ç­ã\n * åºç¨çæ§ï¼è®¿é®æ¥å£ãè®¿é®æå¡ãSQLãåå­ä½¿ç¨çãååºæ¶é´ãTPSãQPS ç­ã\n * ç³»ç»çæ§ï¼CPUãåå­ãç½ç»ãç£çç­ã\n * åºç¡çæ§ï¼ç½ç»æµéãä¸¢åæ°ãéåæ°ãè¿æ¥æ°ç­ã\n * å®¢æ·ç«¯çæ§ï¼æ§è½ãè¿åç ãå°åãè¿è¥åãçæ¬ãç³»ç»ç­ã\n\n\n# ç³»ç»çæ§åç\n\nä¸æ¦æç¡®äºè¦çæ§çå¯¹è±¡ï¼æ¥ä¸å°±æ¯èèå¦ä½çæ§ã\n\nçæ§ç³»ç»ä¸»è¦åæ¬åä¸ªç¯èï¼æ°æ®ééãæ°æ®ä¼ è¾ãæ°æ®å¤çåæ°æ®å±ç¤º\n\n# æ°æ®éé\n\néå¸¸æä¸¤ç§æ°æ®æ¶éæ¹å¼ï¼\n\n * æå¡ä¸»å¨ä¸æ¥ï¼è¿ç§å¤çæ¹å¼éè¿å¨ä¸å¡ä»£ç æèæå¡æ¡æ¶éå å¥æ°æ®æ¶éä»£ç é»è¾ï¼å¨æ¯ä¸æ¬¡æå¡è°ç¨å®æåï¼ä¸»å¨ä¸æ¥æå¡çè°ç¨ä¿¡æ¯ãè¿ç§æ¹å¼å¨é¾è·¯è·è¸ªä¸­è¾ä¸ºå¸¸è§ï¼ä¸»æµçææ¯æ¹æ¡æï¼Zipkinã\n * ä»£çæ¶éï¼è¿ç§å¤çæ¹å¼éè¿æå¡è°ç¨åæè°ç¨çè¯¦ç»ä¿¡æ¯è®°å½å°æ¬å°æ¥å¿æä»¶ä¸­ï¼ç¶ååéè¿ä»£çå»è§£ææ¬å°æ¥å¿æä»¶ï¼ç¶ååä¸æ¥æå¡çè°ç¨ä¿¡æ¯ãä¸»æµçææ¯æ¹æ¡æï¼ELKãFlumeã\n\n# æ°æ®ä¼ è¾\n\næ°æ®ä¼ è¾æå¸¸ç¨çæ¹å¼æä¸¤ç§ï¼\n\n * UDP ä¼ è¾ï¼è¿ç§å¤çæ¹å¼æ¯æ°æ®å¤çååæä¾æå¡å¨çè¯·æ±å°åï¼æ°æ®ééåéè¿ UDP åè®®ä¸æå¡å¨å»ºç«è¿æ¥ï¼ç¶åææ°æ®åéè¿å»ã\n * Kafka ä¼ è¾ï¼è¿ç§å¤çæ¹å¼æ¯æ°æ®ééååéå°æå®ç Topicï¼ç¶åæ°æ®å¤çåååè®¢éå¯¹åºç Topicï¼å°±å¯ä»¥ä» Kafka æ¶æ¯éåä¸­è¯»åå°å¯¹åºçæ°æ®ãç±äº Kafka æéå¸¸é«çååè½åï¼æä»¥å¾éåä½ä¸ºå¤§æ°æ®éçç¼å²æ± ã\n\n# æ°æ®å¤ç\n\næ°æ®å¤çæ¯å¯¹æ¶éæ¥çåå§æ°æ®è¿è¡èåå¹¶å­å¨ãæ°æ®èåéå¸¸æä¸¤ä¸ªç»´åº¦ï¼\n\n * æ¥å£ç»´åº¦èåï¼è¿ä¸ªç»´åº¦æ¯æå®æ¶æ¶å°çæ°æ®æç§æ¥å£åç»´åº¦å®æ¶èåå¨ä¸èµ·ï¼è¿æ ·å°±å¯ä»¥å¾å°æ¯ä¸ªæ¥å£çæ¯ç§è¯·æ±éãå¹³åèæ¶ãæåçç­ä¿¡æ¯ã\n * æºå¨ç»´åº¦èåï¼è¿ä¸ªç»´åº¦æ¯æå®æ¶æ¶å°çæ°æ®æç§è°ç¨çèç¹ç»´åº¦èåå¨ä¸èµ·ï¼è¿æ ·å°±å¯ä»¥ä»åæºç»´åº¦å»æ¥çæ¯ä¸ªæ¥å£çå®æ¶è¯·æ±éãå¹³åèæ¶ç­ä¿¡æ¯ã\n\nèååçæ°æ®éè¦æä¹åå°æ°æ®åºä¸­å­å¨ï¼æéç¨çæ°æ®åºä¸è¬åä¸ºä¸¤ç§ï¼\n\n * å¨ææ£ç´¢æ°æ®åºï¼æ¯å¦ Elasticsearchï¼ä»¥åæç´¢å¼çæ°æ®ç»æå­å¨ï¼éè¦æ¥è¯¢çæ¶åï¼æ ¹æ®ç´¢å¼æ¥æ¥è¯¢ã\n * æ¶åºæ°æ®åºï¼æ¯å¦ OpenTSDBï¼ä»¥æ¶åºåºåæ°æ®çæ¹å¼å­å¨ï¼æ¥è¯¢çæ¶åæç§æ¶åºå¦ 1minã5min ç­ç»´åº¦æ¥æ¥è¯¢ã\n\n# æ°æ®å±ç¤º\n\næ°æ®å±ç¤ºæ¯æå¤çåçæ°æ®ä»¥ Dashboard çæ¹å¼å±ç¤ºç»ç¨æ·ãæ°æ®å±ç¤ºæå¤ç§æ¹å¼ï¼æ¯å¦æ²çº¿å¾ãé¥¼ç¶å¾ãæ ¼å­å¾å±ç¤ºç­ã\n\n\n# çæ§ææ¯\n\n\n\n * ELK çææ¯æ æ¯è¾æçï¼åºç¨èå´ä¹æ¯è¾å¹¿ï¼é¤äºå¯ç¨ä½çæ§ç³»ç»å¤ï¼è¿å¯ä»¥ç¨ä½æ¥å¿æ¥è¯¢ååæã\n * Graphite æ¯åºäºæ¶é´åºåæ°æ®åºå­å¨ççæ§ç³»ç»ï¼å¹¶ä¸æä¾äºåè½å¼ºå¤§çåç§èåå½æ°æ¯å¦ sumãaverageãtop5 ç­å¯ç¨äºçæ§åæï¼èä¸å¯¹å¤æä¾äº API ä¹å¯ä»¥æ¥å¥å¶ä»å¾å½¢åçæ§ç³»ç»å¦ Grafanaã\n * TICK çæ ¸å¿å¨äºå¶æ¶é´åºåæ°æ®åº InfluxDB çå­å¨åè½å¼ºå¤§ï¼ä¸æ¯æç±»ä¼¼ SQL è¯­è¨çå¤ææ°æ®å¤çæä½ã\n * Prometheus çç¬ç¹ä¹å¤å¨äºå®éç¨äºææ°æ®çæ¹å¼ï¼å¯¹ä¸å¡å½±åè¾å°ï¼åæ¶ä¹éç¨äºæ¶é´åºåæ°æ®åºå­å¨ï¼èä¸æ¯æç¬æç PromQL æ¥è¯¢è¯­è¨ï¼åè½å¼ºå¤§èä¸ç®æ´ã\n\n\n# æå¡æ²»ç\n\nå¾®æå¡æ²»çå¹³å°å°±æ¯ä¸æå¡æäº¤éçç»ä¸å¥å£ï¼æ è®ºæ¯å¼åäººåè¿æ¯è¿ç»´äººåï¼é½è½éè¿è¿ä¸ªå¹³å°å¯¹æå¡è¿è¡åç§æä½ï¼æ¯å¦å¼åäººåå¯ä»¥éè¿è¿ä¸ªå¹³å°å¯¹æå¡è¿è¡éçº§æä½ï¼è¿ç»´äººåå¯ä»¥éè¿è¿ä¸ªå¹³å°å¯¹æå¡è¿è¡ä¸ä¸çº¿æä½ï¼èä¸éè¦å³å¿è¿ä¸ªæä½èåçå·ä½å®ç°ã\n\nå¾®æå¡æ²»çå¹³å°å³é®ä¹å¤å°±å¨äºå®è½å¤å°è£å¯¹å¾®æå¡æ¶æåçåä¸ªåºç¡è®¾æ½ç»ä»¶çè°ç¨ï¼ä»èå¯¹å¤æä¾ç»ä¸çæå¡æä½ APIï¼èä¸è¿æä¾äºå¯è§åççé¢ï¼ä»¥æ¹ä¾¿å¼åäººååè¿ç»´äººåæä½ã\n\n\n\næå¡æ²»ççå¸¸ç¨ææ®µæï¼\n\n * èç¹ç®¡ç\n   * æ³¨åä¸­å¿ä¸»å¨æé¤æºå¶\n   * æå¡æ¶è´¹èæé¤æºå¶\n * è´è½½åè¡¡\n   * è½®è¯¢\n   * éæº\n   * æè¿æå°è¿æ¥\n   * ä¸è´æ§ Hash\n * æå¡è·¯ç±\n   * ä¸å¡å­å¨ç°åº¦åå¸çéæ±\n   * å¤æºæ¿å°±è¿è®¿é®çéæ±\n * æå¡å®¹é\n   * FailOverï¼å¤±è´¥èªå¨åæ¢\n   * FailBackï¼å¤±è´¥éç¥\n   * FailCacheï¼å¤±è´¥ç¼å­\n   * FailFastï¼å¿«éå¤±è´¥\n\n\n# API ç½å³\n\nAPI ç½å³æ¯ä¸ä¸ªæå¡å¨ï¼æ¯ç³»ç»çå¯ä¸å¥å£ãä»é¢åå¯¹è±¡è®¾è®¡çè§åº¦çï¼å®ä¸å¤è§æ¨¡å¼ç±»ä¼¼ãAPI ç½å³å°è£äºç³»ç»åé¨æ¶æï¼ä¸ºæ¯ä¸ªå®¢æ·ç«¯æä¾ä¸ä¸ªå®å¶ç APIãå®å¯è½è¿å·æå¶å®èè´£ï¼å¦èº«ä»½éªè¯ãçæ§ãè´è½½åè¡¡ãç¼å­ãè¯·æ±åçä¸ç®¡çãéæååºå¤çã API ç½å³æ¹å¼çæ ¸å¿è¦ç¹æ¯ï¼ææçå®¢æ·ç«¯åæ¶è´¹ç«¯é½éè¿ç»ä¸çç½å³æ¥å¥å¾®æå¡ï¼å¨ç½å³å±å¤çææçéä¸å¡åè½ãéå¸¸ï¼ç½å³ä¹æ¯æä¾ REST/HTTP çè®¿é® APIãæå¡ç«¯éè¿ API-GW æ³¨ååç®¡çæå¡ã\n\n\n# Zuul\n\n\n\nå¨ zuul ä¸­ï¼ æ´ä¸ªè¯·æ±çè¿ç¨æ¯è¿æ ·çï¼é¦åå°è¯·æ±ç» zuulservlet å¤çï¼zuulservlet ä¸­æä¸ä¸ª zuulRunner å¯¹è±¡ï¼è¯¥å¯¹è±¡ä¸­åå§åäº RequestContextï¼ä½ä¸ºå­å¨æ´ä¸ªè¯·æ±çä¸äºæ°æ®ï¼å¹¶è¢«ææç zuulfilter å±äº«ãzuulRunner ä¸­è¿æ FilterProcessorï¼FilterProcessor ä½ä¸ºæ§è¡ææç zuulfilter çç®¡çå¨ãFilterProcessor ä» filterloader ä¸­è·å zuulfilterï¼è zuulfilter æ¯è¢« filterFileManager æå è½½ï¼å¹¶æ¯æ groovy ç­å è½½ï¼éç¨äºè½®è¯¢çæ¹å¼ç­å è½½ãæäºè¿äº filter ä¹åï¼zuulservelet é¦åæ§è¡ç Pre ç±»åçè¿æ»¤å¨ï¼åæ§è¡ route ç±»åçè¿æ»¤å¨ï¼æåæ§è¡çæ¯ post ç±»åçè¿æ»¤å¨ï¼å¦æå¨æ§è¡è¿äºè¿æ»¤å¨æéè¯¯çæ¶ååä¼æ§è¡ error ç±»åçè¿æ»¤å¨ãæ§è¡å®è¿äºè¿æ»¤å¨ï¼æç»å°è¯·æ±çç»æè¿åç»å®¢æ·ç«¯ã\n\n\n# è´è½½åè¡¡\n\n> åèï¼è´è½½åè¡¡åºæ¬åç\n\n\n# æå¡è·¯ç±\n\næå¡è·¯ç±å°±æ¯æå¡æ¶è´¹èå¨åèµ·æå¡è°ç¨æ¶ï¼å¿é¡»æ ¹æ®ç¹å®çè§åæ¥éæ©æå¡èç¹ï¼ä»èæ»¡è¶³æäºç¹å®çéæ±ã\n\n\n# æå¡è·¯ç±çåºç¨åºæ¯\n\n * åç»è°ç¨ãä¸è¬æ¥è®²ï¼ä¸ºäºä¿è¯æå¡çé«å¯ç¨æ§ï¼å®ç°å¼å°å¤æ´»çéæ±ï¼ä¸ä¸ªæå¡å¾å¾ä¸æ­¢é¨ç½²å¨ä¸ä¸ªæ°æ®ä¸­å¿ï¼èä¸åºäºèçææ¬ç­èèï¼æäºä¸å¡å¯è½ä¸ä»å¨ç§ææºæ¿é¨ç½²ï¼è¿ä¼éç¨å¬æäºé¨ç½²ï¼çè³éç¨å¤å®¶å¬æäºé¨ç½²ãæå¡èç¹ä¹ä¼æç§ä¸åçæ°æ®ä¸­å¿åæä¸åçåç»ï¼è¿æ¶å¯¹äºæå¡æ¶è´¹èæ¥è¯´ï¼éæ©åªä¸ä¸ªåç»è°ç¨ï¼å°±å¿é¡»æç¸åºçè·¯ç±è§åã\n * ç°åº¦åå¸ãå¨æå¡ä¸çº¿åå¸çè¿ç¨ä¸­ï¼ä¸è¬éè¦åå¨ä¸å°é¨åè§æ¨¡çæå¡èç¹ä¸ååå¸æå¡ï¼ç¶åéªè¯åè½æ¯å¦æ­£å¸¸ãå¦ææ­£å¸¸çè¯å°±ç»§ç»­æ©å¤§åå¸èå´ï¼å¦æä¸æ­£å¸¸çè¯ï¼å°±éè¦ææ¥é®é¢ï¼è§£å³é®é¢åç»§ç»­åå¸ãè¿ä¸ªè¿ç¨å°±å«ä½ç°åº¦åå¸ï¼ä¹å«éä¸éé¨ç½²ã\n * æµéåæ¢ãå¨ä¸å¡çº¿ä¸è¿è¡è¿ç¨ä¸­ï¼ç»å¸¸ä¼éå°ä¸äºä¸å¯æåå ç´ å¯¼è´ä¸å¡æéï¼æ¯å¦æä¸ªæºæ¿çåç¼è¢«ææ­ï¼æèåççç«ç­äºæå¯¼è´æ´ä¸ªæºæ¿çæå¡é½ä¸å¯ç¨ãè¿ä¸ªæ¶åå°±éè¦æç§æä¸ªæä»¤ï¼è½å¤æåæ¥è°ç¨è¿ä¸ªæºæ¿æå¡çæµéåæ¢å°å¶ä»æ­£å¸¸çæºæ¿ã\n * è¯»ååç¦»ãå¯¹äºå¤§å¤æ°äºèç½ä¸å¡æ¥è¯´é½æ¯è¯»å¤åå°ï¼æä»¥å¨è¿è¡æå¡é¨ç½²çæ¶åï¼å¯ä»¥æè¯»ååå¼é¨ç½²ï¼ææåæ¥å£å¯ä»¥é¨ç½²å¨ä¸èµ·ï¼èè¯»æ¥å£é¨ç½²å¨å¦å¤çèç¹ä¸ã\n\n\n# æå¡è·¯ç±çè§å\n\næå¡è·¯ç±ä¸»è¦æä¸¤ç§è§åï¼ä¸ç§æ¯æ¡ä»¶è·¯ç±ï¼ä¸ç§æ¯èæ¬è·¯ç±ã\n\n# æ¡ä»¶è·¯ç±\n\næ¡ä»¶è·¯ç±æ¯åºäºæ¡ä»¶è¡¨è¾¾å¼çè·¯ç±è§åã\n\ncondition://0.0.0.0/dubbo.test.interfaces.TestService?category=routers&dynamic=true&priority=2&enabled=true&rule=" + URL.encode(" host = 10.20.153.10=> host = 10.20.153.11")\n\n\nè¿éé¢ condition:// ä»£è¡¨äºè¿æ¯ä¸æ®µç¨æ¡ä»¶è¡¨è¾¾å¼ç¼åçè·¯ç±è§åï¼å·ä½çè§åæ¯\n\nhost = 10.20.153.10 => host = 10.20.153.11\n\n\nåéç¬¦â=>âåé¢æ¯æå¡æ¶è´¹èçå¹éæ¡ä»¶ï¼åé¢æ¯æå¡æä¾èçè¿æ»¤æ¡ä»¶ãå½æå¡æ¶è´¹èèç¹æ»¡è¶³å¹éæ¡ä»¶æ¶ï¼å°±å¯¹è¯¥æå¡æ¶è´¹èæ§è¡åé¢çè¿æ»¤è§åãé£ä¹ä¸é¢è¿æ®µè¡¨è¾¾å¼è¡¨è¾¾çæä¹å°±æ¯ IP ä¸ºâ10.20.153.10âçæå¡æ¶è´¹èé½è°ç¨ IP ä¸ºâ10.20.153.11âçæå¡æä¾èèç¹ã\n\nå¦ææå¡æ¶è´¹èçå¹éæ¡ä»¶ä¸ºç©ºï¼å°±è¡¨ç¤ºå¯¹ææçæå¡æ¶è´¹èåºç¨ï¼å°±åä¸é¢çè¡¨è¾¾å¼ä¸æ ·ã\n\n=> host ï¼= 10.20.153.11\n\n\nå¦ææå¡æä¾èçè¿æ»¤æ¡ä»¶ä¸ºç©ºï¼å°±è¡¨ç¤ºç¦æ­¢æå¡æ¶è´¹èè®¿é®ï¼å°±åä¸é¢çè¡¨è¾¾å¼ä¸æ ·ã\n\nhost = 10.20.153.10=>\n\n\nä¸é¢æä¸¾ä¸äº Dubbo æ¡æ¶ä¸­çæ¡ä»¶è·¯ç±ï¼æ¥ç»ä½ è®²è§£ä¸æ¡ä»¶è·¯ç±çå·ä½åºç¨åºæ¯ã\n\n * æé¤æä¸ªæå¡èç¹\n\n=> host != 172.22.3.91\n\n\nä¸æ¦è¿æ¡è·¯ç±è§åè¢«åºç¨å°çº¿ä¸ï¼ææçæå¡æ¶è´¹èé½ä¸ä¼è®¿é® IP ä¸º 172.22.3.91 çæå¡èç¹ï¼è¿ç§è·¯ç±è§åä¸è¬åºç¨å¨çº¿ä¸æµéæé¤é¢åå¸æºä»¥åæé¤æä¸ªæéèç¹çåºæ¯ã\n\n * ç½åååé»åååè½\n\nhost != 10.20.153.10,10.20.153.11 =>\n\n\nè¿æ¡è·¯ç±è§åæææ¯é¤äº IP ä¸º 10.20.153.10 å 10.20.153.11 çæå¡æ¶è´¹èå¯ä»¥åèµ·æå¡è°ç¨ä»¥å¤ï¼å¶ä»æå¡æ¶è´¹èé½ä¸å¯ä»¥ï¼ä¸»è¦ç¨äºç½ååè®¿é®é»è¾ï¼æ¯å¦æä¸ªåå°æå¡åªåè®¸ç¹å®çå å°æºå¨æå¯ä»¥è®¿é®ï¼è¿æ ·çè¯å¯ä»¥æºå¨æ§å¶è®¿é®æéã\n\nhost = 10.20.153.10,10.20.153.11 =>\n\n\nåçï¼è¿æ¡è·¯ç±è§åæææ¯é¤äº IP ä¸º 10.20.153.10 å 10.20.153.11 çæå¡æ¶è´¹èä¸è½åèµ·æå¡è°ç¨ä»¥å¤ï¼å¶ä»æå¡æ¶è´¹èé½å¯ä»¥ï¼ä¹å°±æ¯å®ç°äºé»åååè½ï¼æ¯å¦çº¿ä¸ç»å¸¸ä¼éå°æäºè°ç¨æ¹ä¸ç®¡æ¯åºäºææè¿æ¯æ æçä¸åçè°ç¨ï¼å½±åäºæå¡çç¨³å®æ§ï¼è¿æ¶åå¯ä»¥éè¿é»åååè½ææ¶äºä»¥å°æã\n\n * æºæ¿éç¦»\n\nhost = 172.22.3.* => host = 172.22.3.*\n\n\nè¿æ¡è·¯ç±è§åæææ¯ IP ç½æ®µä¸º 172.22.3.* çæå¡æ¶è´¹èï¼æå¯ä»¥è®¿é®åç½æ®µçæå¡èç¹ï¼è¿ç§è§åä¸è¬åºç¨äºæå¡é¨ç½²å¨å¤ä¸ª IDCï¼çè®ºä¸åä¸ä¸ª IDC åçè°ç¨æ§è½è¦æ¯è·¨ IDC è°ç¨æ§è½è¦å¥½ï¼åºç¨è¿ä¸ªè§åæ¯ä¸ºäºå®ç°å IDC å°±è¿è®¿é®ã\n\n * è¯»ååç¦»\n\nmethod = find*,list*,get*,is* => host =172.22.3.94,172.22.3.95\nmethod != find*,list*,get*,is* => host = 172.22.3.97,172.22.3.98\n\n\nè¿æ¡è·¯ç±è§åæææ¯ find*ãget*ãis* ç­è¯»æ¹æ³è°ç¨ IP ä¸º 172.22.3.94 å 172.22.3.95 çèç¹ï¼é¤æ­¤ä»¥å¤çåæ¹æ³è°ç¨ IP ä¸º 172.22.3.97 å 172.22.3.98 çèç¹ãå¯¹äºå¤§é¨åäºèç½ä¸å¡æ¥è¯´ï¼å¾å¾è¯»è¯·æ±è¦è¿è¿å¤§äºåè¯·æ±ï¼èåè¯·æ±çéè¦æ§å¾å¾è¦è¿è¿é«äºè¯»è¯·æ±ï¼æä»¥éè¦æè¯»åè¯·æ±è¿è¡åç¦»ï¼ä»¥é¿åè¯»è¯·æ±å¼å¸¸å½±åå°åè¯·æ±ï¼è¿æ¶åå°±å¯ä»¥åºç¨è¿ç§è§åã\n\n# èæ¬è·¯ç±\n\nèæ¬è·¯ç±æ¯åºäºèæ¬è¯­è¨çè·¯ç±è§åï¼å¸¸ç¨çèæ¬è¯­è¨æ¯å¦ JavaScriptãGroovyãJRuby ç­ã\n\n"script://0.0.0.0/com.foo.BarService?category=routers&dynamic=false&rule=" + URL.encode("ï¼function route(invokers) { ... } (invokers)ï¼")\n\n\nè¿éé¢âscript://âå°±ä»£è¡¨äºè¿æ¯ä¸æ®µèæ¬è¯­è¨ç¼åçè·¯ç±è§åï¼å·ä½è§åå®ä¹å¨èæ¬è¯­è¨ç route æ¹æ³å®ç°éï¼æ¯å¦ä¸é¢è¿æ®µç¨ JavaScript ç¼åç route() æ¹æ³è¡¨è¾¾çæææ¯ï¼åªæ IP ä¸º 10.20.153.10 çæå¡æ¶è´¹èå¯ä»¥åèµ·æå¡è°ç¨ã\n\nfunction route(invokers){\n  var result = new java.util.ArrayList(invokers.size());\n  for(i =0; i < invokers.size(); i ++){\n    if("10.20.153.10".equals(invokers.get(i).getUrl().getHost())){\n       result.add(invokers.get(i));\n    }\n  }\n  return result;\n } (invokers)ï¼;\n\n\n\n# æå¡è·¯ç±çè·åæ¹å¼\n\næå¡è·¯ç±çè·åæ¹å¼ä¸»è¦æä¸ç§ï¼\n\n * æ¬å°éç½®\n\né¡¾åæä¹å°±æ¯è·¯ç±è§åå­å¨å¨æå¡æ¶è´¹èæ¬å°ä¸ãæå¡æ¶è´¹èåèµ·è°ç¨æ¶ï¼ä»æ¬å°åºå®ä½ç½®è¯»åè·¯ç±è§åï¼ç¶åæç§è·¯ç±è§åéåä¸ä¸ªæå¡èç¹åèµ·è°ç¨ã\n\n * éç½®ä¸­å¿ç®¡ç\n\nè¿ç§æ¹å¼ä¸ï¼ææçæå¡æ¶è´¹èé½ä»éç½®ä¸­å¿è·åè·¯ç±è§åï¼ç±éç½®ä¸­å¿æ¥ç»ä¸ç®¡çã\n\n * å¨æä¸å\n\nè¿ç§æ¹å¼ä¸ï¼ä¸è¬æ¯è¿ç»´äººåæèå¼åäººåï¼éè¿æå¡æ²»çå¹³å°ä¿®æ¹è·¯ç±è§åï¼æå¡æ²»çå¹³å°è°ç¨éç½®ä¸­å¿æ¥å£ï¼æä¿®æ¹åçè·¯ç±è§åæä¹åå°éç½®ä¸­å¿ãå ä¸ºæå¡æ¶è´¹èè®¢éäºè·¯ç±è§åçåæ´ï¼äºæ¯å°±ä¼ä»éç½®ä¸­å¿è·åææ°çè·¯ç±è§åï¼æç§ææ°çè·¯ç±è§åæ¥æ§è¡ã\n\n\n# åé¨æå¡è°ç¨\n\nåºç¡æå¡ä¹é´çè°ç¨ï¼ç»åæå¡æ³¨åä¸­å¿ä»¥åä¸å±çå·æè´è½½åè¡¡åè½çå®¢æ·ç«¯ï¼å¦ Eureka+ï¼restTemplate+Ribbonï¼æè Eureka+Feign èåæå¡è°ç¨ï¼ç»åæå¡æ³¨åä¸­å¿ä»¥åä¸å±çå·æè´è½½åè¡¡åè½çå®¢æ·ç«¯ï¼å¦ Eureka+ï¼restTemplate+Ribbonï¼æè Eureka+Feign\n\n\n\n\n# å¤é¨æå¡è°ç¨\n\nåºäº Netflix ç zuulï¼åäºç®åäºè§£ï¼SpringCloud ä¸ zuul éæçæ¹å¼ãè¿éåå¯¹æ ¸å¿æµç¨åä¸ªç®åäºè§£ï¼åç»­ä¼ææ·±å¥çåºç¨ãåæã\n\nSpring Cloud å¾å¥½çéæäº zuulï¼å¹¶ä¸å¯ä»¥éè¿æ³¨è§£çå½¢å¼æ¥è¿è¡è¯·æ±çååè·¯ç±ä»¥å API ç½å³åè½ Spring Cloud éæ zuulï¼å¯¹ä¸ url æ å°çå¤çæ¹å¼ä¸ SpringMVC å¯¹ url çè¯·æ±æ¹å¼ç±»ä¼¼ï¼é½æ¯éè¿ RequestMapping æ¥è¿è¡è¯·æ±ç»å®çãæ ¸å¿ç±»ï¼ZuulHandlerMapping zuul çæ ¸å¿æ¯ ZuulServletï¼ä¸ä¸ªè¯·æ±æ ¸å¿æµç¨ï¼HttpServletRequest â>ZuulHandlerMapping â>ZuulController â> ZuulServlet â> ZuulFilter â> HttpServletResponse\n\n\n# éç½®ä¸­å¿\n\néç½®ä¸­å¿çæè·¯å°±æ¯ææå¡çåç§éç½®ï¼å¦ä»£ç ééç½®çåç§åæ°ãæå¡éçº§çå¼å³çè³ä¾èµçèµæºç­é½å¨ä¸ä¸ªå°æ¹ç»ä¸è¿è¡ç®¡çãæå¡å¯å¨æ¶ï¼å¯ä»¥èªå¨ä»éç½®ä¸­å¿ä¸­æåæéçéç½®ï¼å¹¶ä¸å¦ææéç½®åæ´çæåµï¼åæ ·å¯ä»¥èªå¨ä»éç½®ä¸­å¿æåææ°çéç½®ä¿¡æ¯ï¼æå¡æ é¡»éæ°åå¸ã\n\néç½®ä¸­å¿ä¸è¬åå«ä¸é¢å ä¸ªåè½ï¼\n\n * éç½®æ³¨ååè½\n * éç½®åæ³¨ååè½\n * éç½®æ¥çåè½\n * éç½®åæ´è®¢éåè½\n\n\n# Apollo\n\næºç¨å¼æºçåå¸å¼éç½®ä¸­å¿ï¼æ¯æ Java å.Net è¯­è¨ï¼å®¢æ·ç«¯åéç½®ä¸­å¿éè¿ HTTP é¿è¿æ¥å®ç°å®æ¶æ¨éï¼å¹¶ä¸æç»ä¸çç®¡ççé¢æ¥å®ç°éç½®ç®¡çã\n\n\n\n\n# Spring Cloud Git\n\nSpring Cloud ä¸­ä½¿ç¨çéç½®ä¸­å¿ç»ä»¶ï¼åªæ¯æ Java è¯­è¨ï¼éç½®å­å¨å¨ git ä¸­ï¼åæ´éç½®ä¹éè¦éè¿ git æä½ï¼å¦æéç½®ä¸­å¿æéç½®åæ´ï¼éè¦æå¨å·æ°ã\n\n\n\n\n# é¾è·¯è¿½è¸ª\n\n\n# é¾è·¯è¿½è¸ªçä½ç¨\n\n * ä¼åç³»ç»ç¶é¢\n * ä¼åé¾è·¯è°ç¨\n * çæç½ç»ææ\n * éæä¼ è¾æ°æ®\n\n\n# é¾è·¯è¿½è¸ªçåç\n\nçè§£é¾è·¯è¿½è¸ªå¿é¡»åäºè§£ä»¥ä¸æ¦å¿µï¼\n\n * traceIdï¼ç¨äºæ è¯æä¸æ¬¡å·ä½çè¯·æ± IDãå½ç¨æ·çè¯·æ±è¿å¥ç³»ç»åï¼ä¼å¨ RPC è°ç¨ç½ç»çç¬¬ä¸å±çæä¸ä¸ªå¨å±å¯ä¸ç traceIdï¼å¹¶ä¸ä¼éçæ¯ä¸å±ç RPC è°ç¨ï¼ä¸æ­å¾åä¼ éï¼è¿æ ·çè¯éè¿ traceId å°±å¯ä»¥æä¸æ¬¡ç¨æ·è¯·æ±å¨ç³»ç»ä¸­è°ç¨çè·¯å¾ä¸²èèµ·æ¥ã\n * spanIdï¼ç¨äºæ è¯ä¸æ¬¡ RPC è°ç¨å¨åå¸å¼è¯·æ±ä¸­çä½ç½®ãå½ç¨æ·çè¯·æ±è¿å¥ç³»ç»åï¼å¤å¨ RPC è°ç¨ç½ç»çç¬¬ä¸å± A æ¶ spanId åå§å¼æ¯ 0ï¼è¿å¥ä¸ä¸å± RPC è°ç¨ B çæ¶å spanId æ¯ 0.1ï¼ç»§ç»­è¿å¥ä¸ä¸å± RPC è°ç¨ C æ¶ spanId æ¯ 0.1.1ï¼èä¸ B å¤å¨åä¸å±ç RPC è°ç¨ E ç spanId æ¯ 0.2ï¼è¿æ ·çè¯éè¿ spanId å°±å¯ä»¥å®ä½æä¸æ¬¡ RPC è¯·æ±å¨ç³»ç»è°ç¨ä¸­æå¤çä½ç½®ï¼ä»¥åå®çä¸ä¸æ¸¸ä¾èµåå«æ¯è°ã\n * annotationï¼ç¨äºä¸å¡èªå®ä¹åç¹æ°æ®ï¼å¯ä»¥æ¯ä¸å¡æå´è¶£çæ³ä¸ä¼ å°åç«¯çæ°æ®ï¼æ¯å¦ä¸æ¬¡è¯·æ±çç¨æ· UIDã\n\n\n\n\n# é¾è·¯è¿½è¸ªçå®ç°\n\nä¸ä¸ªæå¡è¿½è¸ªç³»ç»ä¸è¬å¯ä»¥åä¸ºä¸å±ï¼\n\n * æ°æ®ééå±ï¼è´è´£æ°æ®åç¹å¹¶ä¸æ¥ã\n * æ°æ®å¤çå±ï¼è´è´£æ°æ®çå­å¨ä¸è®¡ç®ã\n * æ°æ®å±ç¤ºå±ï¼è´è´£æ°æ®çå¾å½¢åå±ç¤ºã\n\n# æ°æ®ééå±\n\nä¸æ¬¡ RPC è¯·æ±å¯ä»¥åä¸ºåä¸ªé¶æ®µã\n\n * CSï¼Client Sendï¼é¶æ®µ : å®¢æ·ç«¯åèµ·è¯·æ±ï¼å¹¶çæè°ç¨çä¸ä¸æã\n * SRï¼Server Recieveï¼é¶æ®µ : æå¡ç«¯æ¥æ¶è¯·æ±ï¼å¹¶çæä¸ä¸æã\n * SSï¼Server Sendï¼é¶æ®µ : æå¡ç«¯è¿åè¯·æ±ï¼è¿ä¸ªé¶æ®µä¼å°æå¡ç«¯ä¸ä¸ææ°æ®ä¸æ¥ï¼ä¸é¢è¿å¼ å¾å¯ä»¥è¯´æä¸æ¥çæ°æ®æï¼traceId=123456ï¼spanId=0.1ï¼appKey=Bï¼method=B.methodï¼start=103ï¼duration=38ã\n * CRï¼Client Recieveï¼é¶æ®µ : å®¢æ·ç«¯æ¥æ¶è¿åç»æï¼è¿ä¸ªé¶æ®µä¼å°å®¢æ·ç«¯ä¸ä¸ææ°æ®ä¸æ¥ï¼ä¸æ¥çæ°æ®æï¼traceid=123456ï¼spanId=0.1ï¼appKey=Aï¼method=B.methodï¼start=103ï¼duration=38ã\n\n# æ°æ®å¤çå±\n\næ°æ®å¤çå±çä½ç¨å°±æ¯ææ°æ®ééå±ä¸æ¥çæ°æ®æéè®¡ç®ï¼ç¶åè½å°å­å¨ä¾æ¥è¯¢ä½¿ç¨ã\n\n * å®æ¶æ°æ®å¤ç\n\néå¯¹å®æ¶æ°æ®å¤çï¼ä¸è¬éç¨ Storm æè Spark Streaming æ¥å¯¹é¾è·¯æ°æ®è¿è¡å®æ¶èåå å·¥ï¼å­å¨ä¸è¬ä½¿ç¨ OLTP æ°æ®ä»åºï¼æ¯å¦ HBaseï¼ä½¿ç¨ traceId ä½ä¸º RowKeyï¼è½å¤©ç¶å°æä¸æ´æ¡è°ç¨é¾èåå¨ä¸èµ·ï¼æé«æ¥è¯¢æçã\n\n * ç¦»çº¿æ°æ®å¤ç\n\néå¯¹ç¦»çº¿æ°æ®å¤çï¼ä¸è¬éè¿è¿è¡ MapReduce æè Spark æ¹å¤çç¨åºæ¥å¯¹é¾è·¯æ°æ®è¿è¡ç¦»çº¿è®¡ç®ï¼å­å¨ä¸è¬ä½¿ç¨ Hiveã\n\n# æ°æ®å±ç¤ºå±\n\næ°æ®å±ç¤ºå±çä½ç¨å°±æ¯å°å¤çåçé¾è·¯ä¿¡æ¯ä»¥å¾å½¢åçæ¹å¼å±ç¤ºç»ç¨æ·ã\n\nå®éé¡¹ç®ä¸­ä¸»è¦ç¨å°ä¸¤ç§å¾å½¢å±ç¤ºï¼ä¸ç§æ¯è°ç¨é¾è·¯å¾ï¼ä¸ç§æ¯è°ç¨ææå¾ã\n\n\n# é¾è·¯è¿½è¸ªæ¹æ¡å¯¹æ¯\n\n\n\n\n# éæµçæ­\n\nä¸è¬èè¨ï¼éç¾¤æéçäº§çåå ä¸å¤ä¹æä¸¤ç§ï¼\n\nä¸ç§æ¯ä»£ç  bug æå¯¼è´ï¼æ¯å¦è¯´æä¸æ®µ Java ä»£ç ä¸æ­å°åéå¤§å¯¹è±¡ï¼ä½æ²¡æåæ¶åæ¶å¯¼è´ JVM OOM éåºï¼\n\nå¦ä¸ç§æ¯çªåçæµéå²å»ï¼è¶åºäºç³»ç»çæå¤§æ¿è½½è½åï¼æ¯å¦âå 11âè¿ç§è´­ç©æ´»å¨ï¼çµåç³»ç»ä¼å¨é¶ç¹ä¸ç¬é´æ¶å¥å¤§éæµéï¼è¶åºç³»ç»çæå¤§æ¿è½½è½åï¼ä¸ä¸å­å°±ææ´ä¸ªç³»ç»ç»åå®äºã\n\nåºä»éç¾¤æéçæè·¯ï¼ä¸»è¦æä¸¤ç§ï¼éæµåéçº§ã\n\n\n# éæµ\n\néæµå°±æ¯éå¶æµéãéå¸¸æåµä¸ï¼ç³»ç»è½å¤æ¿è½½çæµéæ ¹æ®éç¾¤è§æ¨¡çå¤§å°æ¯åºå®çï¼å¯ä»¥ç§°ä¹ä¸ºç³»ç»çæå¤§å®¹éãå½çå®æµéè¶è¿äºç³»ç»çæå¤§å®¹éåï¼å°±ä¼å¯¼è´ç³»ç»ååºåæ¢ï¼æå¡è°ç¨åºç°å¤§éè¶æ¶ï¼åæ ç»ç¨æ·çæè§å°±æ¯å¡é¡¿ãæ ååºãæä»¥ï¼åºè¯¥æ ¹æ®ç³»ç»çæå¤§å®¹éï¼ç»ç³»ç»è®¾ç½®ä¸ä¸ªéå¼ï¼è¶è¿è¿ä¸ªéå¼çè¯·æ±ä¼è¢«èªå¨æå¼ï¼è¿æ ·çè¯å¯ä»¥æå¤§éåº¦å°ä¿è¯ç³»ç»æä¾çæå¡æ­£å¸¸ã\n\né¤æ­¤ä¹å¤ï¼éå¸¸ä¸ä¸ªå¾®æå¡ç³»ç»ä¼åæ¶æä¾å¤ä¸ªæå¡ï¼æ¯ä¸ªæå¡å¨åä¸æ¶å»çè¯·æ±éä¹æ¯ä¸åçï¼å¾å¯è½åºç°çä¸ç§æåµå°±æ¯ï¼ç³»ç»ä¸­æä¸ªæå¡çè¯·æ±éçªå¢ï¼å ç¨äºç³»ç»ä¸­å¤§é¨åèµæºï¼å¯¼è´å¶ä»æå¡æ²¡æèµæºå¯ç¨ãå æ­¤ï¼è¿è¦éå¯¹ç³»ç»ä¸­æ¯ä¸ªæå¡çè¯·æ±éä¹è®¾ç½®ä¸ä¸ªéå¼ï¼è¶è¿è¿ä¸ªéå¼çè¯·æ±ä¹è¦è¢«èªå¨æå¼ï¼è¿æ ·çè¯ä¸è³äºå ä¸ºä¸ä¸ªæå¡å½±åäºå¶ä»æææå¡ã\n\nå¨å®éé¡¹ç®ä¸­ï¼å¯ä»¥ç¨ä¸¤ä¸ªææ æ¥è¡¡éæå¡çè¯·æ±éï¼ä¸ä¸ªæ¯ QPS å³æ¯ç§è¯·æ±éï¼ä¸ä¸ªæ¯å·¥ä½çº¿ç¨æ°ãä¸è¿ QPS å ä¸ºä¸åæå¡çååºå¿«æ¢ä¸åï¼æä»¥ç³»ç»è½å¤æ¿è½½ç QPS ç¸å·®å¾å¤§ï¼å æ­¤ä¸è¬éæ©å·¥ä½çº¿ç¨æ°æ¥ä½ä¸ºéæµçææ ï¼ç»ç³»ç»è®¾ç½®ä¸ä¸ªæ»çæå¤§å·¥ä½çº¿ç¨æ°ä»¥ååä¸ªæå¡çæå¤§å·¥ä½çº¿ç¨æ°ï¼è¿æ ·çè¯æ è®ºæ¯ç³»ç»çæ»è¯·æ±éè¿å¤§å¯¼è´æ´ä½å·¥ä½çº¿ç¨æ°éè¾¾å°æå¤§å·¥ä½çº¿ç¨æ°ï¼è¿æ¯æä¸ªæå¡çè¯·æ±éè¶è¿åä¸ªæå¡çæå¤§å·¥ä½çº¿ç¨æ°ï¼é½ä¼è¢«éæµï¼ä»¥èµ·å°ä¿æ¤æ´ä¸ªç³»ç»çä½ç¨ã\n\n\n# éçº§\n\nä»ä¹æ¯éçº§å¢ï¼å¨æçæ¥ï¼éçº§å°±æ¯éè¿åæ­¢ç³»ç»ä¸­çæäºåè½ï¼æ¥ä¿è¯ç³»ç»æ´ä½çå¯ç¨æ§ãéçº§å¯ä»¥è¯´æ¯ä¸ç§è¢«å¨é²å¾¡çæªæ½ï¼ä¸ºä»ä¹è¿ä¹è¯´å¢ï¼å ä¸ºå®ä¸è¬æ¯ç³»ç»å·²ç»åºç°æéåæéåçä¸ç§æ­¢ææªæ½ã\n\né£ä¹éçº§ä¸è¬æ¯å¦ä½å®ç°çå¢ï¼æ ¹æ®æçå®è·µæ¥çï¼ ä¸ç§å¯è¡çæ¹æ¡æ¯éè¿å¼å³æ¥å®ç°ã\n\nå·ä½æ¥è®²ï¼å°±æ¯å¨ç³»ç»è¿è¡çåå­ä¸­å¼è¾ä¸ååºåï¼ä¸é¨ç¨äºå­å¨å¼å³çç¶æï¼ä¹å°±æ¯å¼å¯è¿æ¯å³é­ãå¹¶ä¸éè¦çå¬æä¸ªç«¯å£ï¼éè¿è¿ä¸ªç«¯å£å¯ä»¥åç³»ç»ä¸åå½ä»¤ï¼æ¥æ¹ååå­ä¸­å¼å³çç¶æãå½å¼å³å¼å¯æ¶ï¼ä¸å¡çæä¸æ®µé»è¾å°±ä¸åæ§è¡ï¼èæ­£å¸¸æåµä¸ï¼å¼å³æ¯å³é­çç¶æã\n\nå¼å³ä¸è¬ç¨å¨ä¸¤ç§å°æ¹ï¼ä¸ç§æ¯æ°å¢çä¸å¡é»è¾ï¼å ä¸ºæ°å¢çä¸å¡é»è¾ç¸å¯¹æ¥è¯´ä¸æçï¼å¾å¾å·å¤ä¸å®çé£é©ï¼æä»¥éè¦å å¼å³æ¥æ§å¶æ°ä¸å¡é»è¾æ¯å¦æ§è¡ï¼å¦ä¸ç§æ¯ä¾èµçæå¡æèµæºï¼å ä¸ºä¾èµçæå¡æèèµæºä¸æ»æ¯å¯é çï¼æä»¥æå¥½æ¯æå¼å³è½å¤æ§å¶æ¯å¦å¯¹ä¾èµæå¡æèµæºåèµ·è°ç¨ï¼æ¥ä¿è¯å³ä½¿ä¾èµåºç°é®é¢ï¼ä¹è½éè¿éçº§æ¥é¿åå½±åã\n\nå¨å®éä¸å¡åºç¨çæ¶åï¼éçº§è¦æç§å¯¹ä¸å¡çå½±åç¨åº¦è¿è¡åçº§ï¼ä¸è¬åä¸ºä¸çº§ï¼ä¸çº§éçº§æ¯å¯¹ä¸å¡å½±åæå°çéçº§ï¼å¨æéçæåµä¸ï¼é¦åæ§è¡ä¸çº§éçº§ï¼æä»¥ä¸çº§éçº§ä¹å¯ä»¥è®¾ç½®æèªå¨éçº§ï¼ä¸éè¦äººä¸ºå¹²é¢ï¼äºçº§éçº§æ¯å¯¹ä¸å¡æä¸å®å½±åçéçº§ï¼å¨æéçæåµä¸ï¼å¦æä¸çº§éçº§èµ·ä¸å°å¤å¤§ä½ç¨çæ¶åï¼å¯ä»¥äººä¸ºéåæªæ½ï¼æ§è¡äºçº§éçº§ï¼ä¸çº§éçº§æ¯å¯¹ä¸å¡æè¾å¤§å½±åçéçº§ï¼è¿ç§éçº§è¦ä¹æ¯å¯¹åä¸æ¶å¥æéå¤§å½±åï¼è¦ä¹æ¯å¯¹ç¨æ·ä½éªæéå¤§å½±åï¼æä»¥æä½èµ·æ¥è¦éå¸¸è°¨æï¼ä¸å¨æåæ¶å»ä¸è¬ä¸äºéç¨ã\n\n\n# DEVOPS\n\n\n# å®¹å¨åå®¹å¨å¹³å°\n\nMesosãMarathonãKubernetes\n\n\n# RPC éå\n\n\n# éå®è¯­è¨ RPC\n\nè·è¯­è¨å¹³å°ç»å®çå¼æº RPC æ¡æ¶ä¸»è¦æä¸é¢å ç§ã\n\n * Dubboï¼å½åææ©å¼æºç RPC æ¡æ¶ï¼ç±é¿éå·´å·´å¬å¸å¼åå¹¶äº 2011 å¹´æ«å¯¹å¤å¼æºï¼ä»æ¯æ Java è¯­è¨ã\n * Motanï¼å¾®ååé¨ä½¿ç¨ç RPC æ¡æ¶ï¼äº 2016 å¹´å¯¹å¤å¼æºï¼ä»æ¯æ Java è¯­è¨ã\n * Tarsï¼è¾è®¯åé¨ä½¿ç¨ç RPC æ¡æ¶ï¼äº 2017 å¹´å¯¹å¤å¼æºï¼ä»æ¯æ C++ è¯­è¨ã\n * Spring Cloudï¼å½å¤ Pivotal å¬å¸ 2014 å¹´å¯¹å¤å¼æºç RPC æ¡æ¶ï¼ä»æ¯æ Java è¯­è¨ï¼æè¿å å¹´çæåå±å¾æ¯è¾å¥½ï¼æ¯æ¯è¾ç«ç RPC æ¡æ¶ã\n\næä»¥å¾ææ¾ï¼å¦æä½ çä¸å¡åºæ¯ä»ä»å±éäºä¸ç§è¯­è¨çè¯ï¼å¯ä»¥éæ©è·è¯­è¨ç»å®ç RPC æ¡æ¶ä¸­çä¸ç§ï¼å¦ææ¶åå¤ä¸ªè¯­è¨å¹³å°ä¹é´çç¸äºè°ç¨ï¼å°±åºè¯¥éæ©è·¨è¯­è¨å¹³å°ç RPC æ¡æ¶ã\n\nä»ç»åæï¼å¯ä»¥çåº Spring Cloud ä¸ä»æä¾äºåºæ¬ç RPC æ¡æ¶åè½ï¼è¿æä¾äºæå¡æ³¨åç»ä»¶ãéç½®ä¸­å¿ç»ä»¶ãè´è½½åè¡¡ç»ä»¶ãæ­è·¯å¨ç»ä»¶ãåå¸å¼æ¶æ¯è¿½è¸ªç»ä»¶ç­ä¸ç³»åç»ä»¶ï¼ä¹é¾æªè¢«ææ¯åçäººç§°ä¹ä¸ºâSpring Cloud å¨å®¶æ¡¶âãå¦æä½ ä¸æ³èªå·±å®ç°ä»¥ä¸è¿äºåè½ï¼é£ä¹ Spring Cloud åºæ¬å¯ä»¥æ»¡è¶³ä½ çå¨é¨éæ±ãè DubboãMotan åºæ¬ä¸åªæä¾äºæåºç¡ç RPC æ¡æ¶çåè½ï¼å¶ä»å¾®æå¡ç»ä»¶é½éè¦èªå·±å»å®ç°ãä¸è¿ç±äº Spring Cloud ç RPC éä¿¡éç¨äº HTTP åè®®ï¼ç¸æ¯ Dubbo å Motan æéç¨çç§æåè®®æ¥è¯´ï¼å¨é«å¹¶åçéä¿¡åºæ¯ä¸ï¼æ§è½ç¸å¯¹è¦å·®ä¸äºï¼æä»¥å¯¹æ§è½æèå»è¦æ±çæåµä¸ï¼å¯ä»¥èè Dubbo å Motanã\n\n\n# è·¨è¯­è¨ RPC\n\nèè·¨è¯­è¨å¹³å°çå¼æº RPC æ¡æ¶ä¸»è¦æä»¥ä¸å ç§ã\n\n * gRPCï¼Google äº 2015 å¹´å¯¹å¤å¼æºçè·¨è¯­è¨ RPC æ¡æ¶ï¼æ¯æå¸¸ç¨ç C++ãJavaãPythonãGoãRubyãPHPãAndroid JavaãObjective-C ç­å¤ç§è¯­è¨ã\n * Thriftï¼æåæ¯ç± Facebook å¼åçåé¨ç³»ç»è·¨è¯­è¨ç RPC æ¡æ¶ï¼2007 å¹´è´¡ç®ç»äº Apache åºéï¼æä¸º Apache å¼æºé¡¹ç®ä¹ä¸ï¼æ¯æå¸¸ç¨ç C++ãJavaãPHPãPythonãRubyãErlang ç­å¤ç§è¯­è¨ã\n\nä»æçåº¦ä¸æ¥è®²ï¼Thrift å ä¸ºè¯ççæ¶é´è¦æ©äº gRPCï¼æä»¥ä½¿ç¨çèå´è¦é«äº gRPCï¼å¨ HBaseãHadoopãScribeãCassandra ç­è®¸å¤å¼æºç»ä»¶ä¸­é½å¾å°äºå¹¿æ³å°åºç¨ãèä¸ Thrift æ¯æå¤è¾¾ 25 ç§è¯­è¨ï¼è¿è¦æ¯ gRPC æ¯æçè¯­è¨æ´å¤ï¼æä»¥å¦æéå° gRPC ä¸æ¯æçè¯­è¨åºæ¯ä¸ï¼éæ© Thrift æ´åéã\n\nä½ gRPC ä½ä¸ºåèµ·ä¹ç§ï¼å ä¸ºéç¨äº HTTP/2 ä½ä¸ºéä¿¡åè®®ãProtoBuf ä½ä¸ºæ°æ®åºååæ ¼å¼ï¼å¨ç§»å¨ç«¯è®¾å¤çåºç¨ä»¥åå¯¹ä¼ è¾å¸¦å®½æ¯è¾ææçåºæ¯ä¸å·æå¾å¤§çä¼å¿ï¼èä¸å¼åææ¡£ä¸°å¯ï¼æ ¹æ® ProtoBuf æä»¶çæçä»£ç è¦æ¯ Thrift æ´ç®æ´ä¸äºï¼ä»ä½¿ç¨é¾æç¨åº¦ä¸æ´å ä¼å¿ï¼æä»¥å¦æä½¿ç¨çè¯­è¨å¹³å° gRPC æ¯æçè¯ï¼å»ºè®®è¿æ¯éç¨ gRPC æ¯è¾å¥½ã\n\n\n# Service Mesh\n\n\n\n\n# Service Mesh çå®ç°åç\n\nService Mesh å®ç°çå³é®å°±å¨äºä¸¤ç¹ï¼\n\nä¸ä¸ªæ¯ä¸é¢æå°çè½»éçº§çç½ç»ä»£çä¹å« SideCarï¼å®çä½ç¨å°±æ¯è½¬åæå¡ä¹é´çè°ç¨ï¼\n\nä¸ä¸ªæ¯åºäº SideCar çæå¡æ²»çä¹è¢«å«ä½ Control Planeï¼å®çä½ç¨æ¯å SideCar åéåç§æä»¤ï¼ä»¥å®æåç§æå¡æ²»çåè½ãä¸é¢æå°±æ¥è¯¦ç»è®²è§£è¿ä¸¤ç¹æ¯å¦ä½å®ç°çã\n\n\n# åèèµæ\n\n * ä» 0 å¼å§å­¦å¾®æå¡\n * RPC å®æä¸æ ¸å¿åç\n * å¾®æå¡æ¶ææ ¸å¿ 20 è®²\n * è°è°å¾®æå¡ä¸­ç API ç½å³ï¼API Gatewayï¼',normalizedContent:'# å¾®æå¡åºæ¬åç\n\n\n# å¾®æå¡ç®ä»\n\n\n# ä»ä¹æ¯å¾®æå¡æ¶æ\n\näºèç½åºç¨æ¶æå¤§è´çæ¼è¿æ¹åä¸ºï¼åä½æ¶æ -> æå¡åæ¶æ -> å¾®æå¡æ¶æã\n\nå¾®æå¡æ¶æçç¹ç¹ï¼\n\n * æå¡æåç²åº¦æ´ç»ï¼æ ¹æ®ä¸å¡æåã\n * ç¬ç«é¨ç½²ï¼æ¯ä¸ªæå¡é¨ç½²å¨ç©çä¸éç¦»ï¼äºä¸å½±åã\n * ç¬ç«ç»´æ¤ï¼æ ¹æ®ç»ç»æ¶ææåï¼åå¢éç»´æ¤ã\n * æå¡æ²»çï¼æå¡æ°éåå¤ï¼éè¦æç»ä¸çæå¡æ²»çå¹³å°ã\n\n\n# å¦ä½æè¡¡å¾®æå¡çå©å¼\n\nä¼ç¹\n\n * å¼ºæ¨¡ååè¾¹ç\n * å¯ç¬ç«é¨ç½²\n * ææ¯å¤æ ·æ§\n\nç¼ºç¹\n\n * åå¸å¼å¤æåº¦\n * æç»ä¸è´æ§\n * è¿ç»´å¤æåº¦\n * æµè¯å¤æåº¦\n\n\n# åº·å¨å®å¾\n\n * ç¬¬ä¸å®å¾ï¼ç»ç»æ²éæ¹å¼ä¼éè¿ç³»ç»è®¾è®¡è¡¨è¾¾åºæ¥\n * ç¬¬äºå®å¾ï¼æ¶é´åå¤ä¸ä»¶äºæä¹ä¸å¯è½åçå®ç¾ï¼ä½æ»ææ¶é´åå®ä¸ä»¶äºæ\n * ç¬¬ä¸å®å¾ï¼çº¿åç³»ç»åçº¿åç»ç»æ¶æé´ææ½å¨çå¼è´¨åæç¹æ§\n * ç¬¬åå®å¾ï¼å¤§çç³»ç»ç»ç»æ»æ¯æ¯å°ç³»ç»æ´å¾åäºåè§£\n\n\n# å¦ä½æåå¾®æå¡\n\nåºç¨å¾®æå¡åæ¶æåï¼è¦æèå ä¸ªé®é¢ï¼\n\nä»ä¹æ¶åè¿è¡æå¡åæåï¼å¦ä½æåæå¡ï¼\n\nå½åºç¨å¤æåº¦ãå¼åå¢éè¨èå°é¾ä»¥ç»´æ¤æ¶ï¼å°±è¯¥èèæå¡åæåäºã\n\næåæå¡çæèç»´åº¦ï¼\n\n * ä¸å¡ç»´åº¦ï¼ä¸å¡åæ°æ®å³ç³»å¯åçåºè¯¥æ¾å¨ä¸èµ·ã\n * åè½ç»´åº¦ï¼å¬å±åè½èåä¸ºä¸ä¸ªæå¡ã\n * ç»ç»æ¶æï¼æ ¹æ®å®éç»ç»æ¶æï¼å¤©ç¶åä¸ºä¸åçå¢éï¼æ¯ä¸ªå¢éç¬ç«ç»´æ¤è¥å¹²å¾®æå¡ã\n\næåæå¡çåç½®æ¡ä»¶ï¼\n\nåºç¨å¾®æå¡æ¶æè¦åè§£å³ä»¥ä¸é®é¢ï¼\n\n * æå¡å¦ä½å®\n * æå¡å¦ä½åå¸åè®¢é\n * æå¡å¦ä½çæ§\n * æå¡å¦ä½æ²»ç\n * æéå¦ä½å®ä½\n\n\n# å¾®æå¡ææ¯æ¶æ\n\n\n\nç¬¬ä¸å±ï¼æ¥å¥å±\n\nå¤é¨è®¾å¤è®¿é®çç»ä¸æ¥å¥å±ã\n\nç¬¬äºå±ï¼èåæå¡å±\n\nå¯¹ä¸å±çåºç¡æå¡åä¸äºèåï¼åªè£çå·¥ä½ï¼ééä¸å±ä¸åè®¾å¤çæ°æ®è¾åºã\n\nç¬¬ä¸å±ï¼åºç¡æå¡å±\n\næ¯è¾ç»ç²åº¦çå¾®æå¡å±ï¼æä¾åºç¡çæ ¸å¿æå¡ï¼å¬å±æå¡ã\n\n\n\n\n# æå¡æ³¨ååç°\n\nå¨å¾®æå¡æ¶æä¸ï¼ä¸»è¦æä¸ç§è§è²ï¼\n\n * æå¡æä¾èï¼rpc server / providerï¼\n * æå¡æ¶è´¹èï¼rpc client / consumerï¼\n * æå¡æ³¨åä¸­å¿ï¼registryï¼\n\næ³¨åä¸­å¿çå®ç°ä¾èµä»¥ä¸æºå¶ï¼\n\n * æ³¨åä¸­å¿ api\n * éç¾¤é¨ç½²ï¼å¦ææ³¨åä¸­å¿æ¯åç¹ï¼æ æ³ä¿éé«å¯ç¨ã\n * åæ°æ®å­å¨ï¼ä¾å¦ zookeeper å°æ°æ®ä»¥å±æ¬¡åçç®å½ç»æå­å¨ã\n * æå¡å¥åº·æ£æ¥ï¼ä½¿ç¨é¿è¿æ¥æå¿è·³æ¢æµæ¹å¼æ£æ¥æå¡å¥åº·ç¶æã\n * æå¡ç¶æåæ´éç¥ï¼å¯ä»¥åºäºè®¢éèæ¨¡å¼å®ç°ï¼ä¾å¦ zookeeper ç watch æºå¶ã\n * ç½ååæºå¶\n\næ³¨åä¸­å¿çæå¡æ³¨åååç°é½æ¯åºäº api çãä¸è¬éè¦æ¯æä»¥ä¸åè½ï¼\n\n * æå¡æ³¨å\n * æå¡æ³¨é\n * æ¥å£ç»­çº¦ï¼å¿è·³ï¼\n * æå¡è®¢é\n * å¯ç¨æå¡åæ­¥\n * æå¡æ¥è¯¢\n * æå¡ä¿®æ¹\n\n\n# æ³¨åä¸­å¿çå·¥ä½æµç¨\n\nä¸è¬æ¥è®²ï¼æ³¨åä¸­å¿çå·¥ä½æµç¨æ¯ï¼\n\n * æå¡æä¾èå¨å¯å¨æ¶ï¼æ ¹æ®æå¡åå¸æä»¶ä¸­éç½®çåå¸ä¿¡æ¯åæ³¨åä¸­å¿æ³¨åèªå·±çæå¡ã\n * æå¡æ¶è´¹èå¨å¯å¨æ¶ï¼æ ¹æ®æ¶è´¹èéç½®æä»¶ä¸­éç½®çæå¡ä¿¡æ¯åæ³¨åä¸­å¿è®¢éèªå·±æéè¦çæå¡ã\n * æ³¨åä¸­å¿è¿åæå¡æä¾èå°ååè¡¨ç»æå¡æ¶è´¹èã\n * å½æå¡æä¾èåçååï¼æ¯å¦æèç¹æ°å¢æèéæ¯ï¼æ³¨åä¸­å¿å°åæ´éç¥ç»æå¡æ¶è´¹èã\n\n\n# æ³¨åä¸­å¿å®ç°æ¨¡å¼\n\n# åºç¨åæ³¨åååç°\n\néç¨åºç¨åæ³¨åä¸åç°çæ¹å¼ï¼æå¸åçæ¡ä¾è¦å± netflix å¼æºç eurekaï¼å®æ¹æ¶æå¾å¦ä¸ã\n\n\n\nå¯¹çè¿å¼ å¾ï¼ææ¥ä»ç»ä¸ eureka çæ¶æï¼å®ä¸»è¦ç±ä¸ä¸ªéè¦çç»ä»¶ç»æï¼\n\n * eureka serverï¼æ³¨åä¸­å¿çæå¡ç«¯ï¼å®ç°äºæå¡ä¿¡æ¯æ³¨åãå­å¨ä»¥åæ¥è¯¢ç­åè½ã\n * æå¡ç«¯ç eureka clientï¼éæå¨æå¡ç«¯çæ³¨åä¸­å¿ sdkï¼æå¡æä¾èéè¿è°ç¨ sdkï¼å®ç°æå¡æ³¨åãåæ³¨åç­åè½ã\n * å®¢æ·ç«¯ç eureka clientï¼éæå¨å®¢æ·ç«¯çæ³¨åä¸­å¿ sdkï¼æå¡æ¶è´¹èéè¿è°ç¨ sdkï¼å®ç°æå¡è®¢éãæå¡æ´æ°ç­åè½ã\n\n# åºç¨å¤æ³¨åååç°\n\n\n\néè¿è¿å¼ æ¶æå¾ï¼å¯ä»¥çåºæ¥ä½¿ç¨ consul å®ç°åºç¨å¤æå¡æ³¨åååç°ä¸»è¦ä¾é ä¸ä¸ªéè¦çç»ä»¶ï¼\n\n * consulï¼æ³¨åä¸­å¿çæå¡ç«¯ï¼å®ç°æå¡æ³¨åä¿¡æ¯çå­å¨ï¼å¹¶æä¾æ³¨åååç°æå¡ã\n * registratorï¼ä¸ä¸ªå¼æºçç¬¬ä¸æ¹æå¡ç®¡çå¨é¡¹ç®ï¼å®éè¿çå¬æå¡é¨ç½²ç docker å®ä¾æ¯å¦å­æ´»ï¼æ¥è´è´£æå¡æä¾èçæ³¨ååéæ¯ã\n * consul templateï¼å®æ¶ä»æ³¨åä¸­å¿æå¡ç«¯è·åææ°çæå¡æä¾èèç¹åè¡¨å¹¶å·æ° lb éç½®ï¼æ¯å¦ nginx ç upstreamï¼ï¼è¿æ ·æå¡æ¶è´¹èå°±éè¿è®¿é® nginx å°±å¯ä»¥è·åææ°çæå¡æä¾èä¿¡æ¯ã\n\n# æ³¨åä¸­å¿éå\n\n# é«å¯ç¨æ§\n\néç¾¤é¨ç½²ï¼éè¿é¨ç½²å¤ä¸ªå®ä¾ç»æéç¾¤æ¥ä¿è¯é«å¯ç¨æ§ã\n\nå¤ idc é¨ç½²ï¼å³é¨ç½²å¨ä¸æ­¢ä¸ä¸ªæºæ¿ã\n\n# æ°æ®ä¸è´æ§\n\næ ¹æ® cap çè®ºï¼ä¸èä¸è½åæ¶æ»¡è¶³ï¼\n\n * cp åæ³¨åä¸­å¿ï¼çºç²å¯ç¨æ§æ¥ä¿è¯æ°æ®å¼ºä¸è´æ§ï¼æå¸åçä¾å­å°±æ¯ zookeeperï¼etcdï¼consul äºãzookeeper éç¾¤ååªæä¸ä¸ª leaderï¼èä¸å¨ leader æ æ³ä½¿ç¨çæ¶åéè¿ paxos ç®æ³éä¸¾åºä¸ä¸ªæ°ç leaderãè¿ä¸ª leader çç®çå°±æ¯ä¿è¯åä¿¡æ¯çæ¶ååªåè¿ä¸ª leader åå¥ï¼leader ä¼åæ­¥ä¿¡æ¯å° followersï¼è¿ä¸ªè¿ç¨å°±å¯ä»¥ä¿è¯æ°æ®çå¼ºä¸è´æ§ãä½å¦æå¤ä¸ª zookeeper ä¹é´ç½ç»åºç°é®é¢ï¼é æåºç°å¤ä¸ª leaderï¼åçèè£çè¯ï¼æ³¨åä¸­å¿å°±ä¸å¯ç¨äºãè etcd å consul éç¾¤åé½æ¯éè¿ raft åè®®æ¥ä¿è¯å¼ºä¸è´æ§ï¼å¦æåºç°èè£çè¯ï¼ æ³¨åä¸­å¿ä¹ä¸å¯ç¨ã\n * ap åæ³¨åä¸­å¿ï¼çºç²ä¸è´æ§æ¥ä¿è¯å¯ç¨æ§ï¼æå¸åçä¾å­å°±æ¯ eureka äºãå¯¹æ¯ä¸ zookeeperï¼eureka ä¸ç¨éä¸¾ä¸ä¸ª leaderï¼æ¯ä¸ª eureka æå¡å¨åç¬ä¿å­æå¡æ³¨åå°åï¼å æ­¤æå¯è½åºç°æ°æ®ä¿¡æ¯ä¸ä¸è´çæåµãä½æ¯å½ç½ç»åºç°é®é¢çæ¶åï¼æ¯å°æå¡å¨é½å¯ä»¥å®æç¬ç«çæå¡ã\n\n\n# æå¡æ³¨ååç°çé®é¢\n\n# å¤æ³¨åä¸­å¿\n\nå¯¹äºæå¡æ¶è´¹èæ¥è¯´ï¼è¦è½å¤åæ¶ä»å¤ä¸ªæ³¨åä¸­å¿è®¢éæå¡ï¼å¯¹äºæå¡æä¾èæ¥è¯´ï¼è¦è½å¤åæ¶åå¤ä¸ªæ³¨åä¸­å¿æ³¨åæå¡ã\n\n# å¹¶è¡è®¢éæå¡\n\nå¯ä»¥æ¯è®¢éä¸ä¸ªæå¡å°±åç¬ç¨ä¸ä¸ªçº¿ç¨æ¥å¤çï¼è¿æ ·çè¯å³ä½¿éå°ä¸ªå«æå¡èç¹è¿æ¥è¶æ¶ï¼å¶ä»æå¡èç¹çåå§åè¿æ¥ä¹ä¸åå½±åï¼ææ¢ä¹å°±æ¯è¿ä¸ªæå¡èç¹çåå§åè¿æ¥èè´¹çæ¶é´ï¼æç»æææå¡èç¹çåå§åè¿æ¥èæ¶æ§å¶å¨äº 30 ç§ä»¥åã\n\n# æ¹éæ³¨éæå¡\n\néè¦å®æ¶å»æ¸çæ³¨åä¸­å¿ä¸­çâåµå°¸èç¹âï¼å¦ææ¯ææ¹éæ³¨éæå¡ï¼å°±å¯ä»¥ä¸æ¬¡è°ç¨å°±æè¯¥èç¹ä¸æä¾çæææå¡åæ¶æ³¨éæã\n\n# æå¡åæ´ä¿¡æ¯åæ­¥æ´æ°\n\nä¸ºäºåå°æå¡æ¶è´¹èä»æ³¨åä¸­å¿ä¸­æåçæå¡å¯ç¨èç¹ä¿¡æ¯çæ°æ®éï¼è¿ä¸ªæ¶åå¯ä»¥éè¿å¢éæ´æ°çæ¹å¼ï¼æ³¨åä¸­å¿åªè¿åååçé£é¨åèç¹ä¿¡æ¯ï¼å°¤å¶å¨åªæå°æ°èç¹ä¿¡æ¯åæ´æ¶ï¼æ­¤ä¸¾å¯ä»¥å¤§å¤§åå°æå¡æ¶è´¹èä»æ³¨åä¸­å¿æåçæ°æ®éï¼ä»èæå¤§ç¨åº¦é¿åäº§çç½ç»é£æ´ã\n\n\n# è¯å«æå¡èç¹æ¯å¦å­æ´»\n\n# å¿è·³å¼å³ä¿æ¤æºå¶\n\nå¨ç½ç»é¢ç¹æå¨çæåµä¸ï¼æ³¨åä¸­å¿ä¸­å¯ç¨çèç¹ä¼ä¸æ­ååï¼è¿æ¶åæå¡æ¶è´¹èä¼é¢ç¹æ¶å°æå¡æä¾èèç¹åæ´çä¿¡æ¯ï¼äºæ¯å°±ä¸æ­å°è¯·æ±æ³¨åä¸­å¿æ¥æåææ°çå¯ç¨æå¡èç¹ä¿¡æ¯ãå½ææç¾ä¸åä¸ªæå¡æ¶è´¹èï¼åæ¶è¯·æ±æ³¨åä¸­å¿è·åææ°çæå¡æä¾èçèç¹ä¿¡æ¯æ¶ï¼å¯è½ä¼ææ³¨åä¸­å¿çå¸¦å®½ç»å æ»¡ï¼å°¤å¶æ¯æ³¨åä¸­å¿æ¯ç¾åç½å¡çæåµä¸ã\n\næä»¥éå¯¹è¿ç§æåµï¼éè¦ä¸ç§ä¿æ¤æºå¶ï¼å³ä½¿å¨ç½ç»é¢ç¹æå¨çæ¶åï¼æå¡æ¶è´¹èä¹ä¸è³äºåæ¶å»è¯·æ±æ³¨åä¸­å¿è·åææ°çæå¡èç¹ä¿¡æ¯ã\n\nææ¾ç»å°±éå°è¿è¿ç§æåµï¼ä¸ä¸ªå¯è¡çè§£å³æ¹æ¡å°±æ¯ç»æ³¨åä¸­å¿è®¾ç½®ä¸ä¸ªå¼å³ï¼å½å¼å³æå¼æ¶ï¼å³ä½¿ç½ç»é¢ç¹æå¨ï¼æ³¨åä¸­å¿ä¹ä¸ä¼éç¥ææçæå¡æ¶è´¹èææå¡èç¹ä¿¡æ¯åæ´ï¼æ¯å¦åªç» 10% çæå¡æ¶è´¹èè¿ååæ´ï¼è¿æ ·çè¯å°±è½å°æ³¨åä¸­å¿çè¯·æ±éåå°å°åæ¥ç 1/10ã\n\nå½ç¶æå¼è¿ä¸ªå¼å³ä¹æ¯æä¸å®ä»£ä»·çï¼å®ä¼å¯¼è´æå¡æ¶è´¹èæç¥ææ°çæå¡èç¹ä¿¡æ¯å»¶è¿ï¼ååå¯è½å¨ 10s åå°±è½æç¥å°æå¡æä¾èèç¹ä¿¡æ¯çåæ´ï¼ç°å¨å¯è½ä¼å»¶è¿å°å åéï¼æä»¥å¨ç½ç»æ­£å¸¸çæåµä¸ï¼å¼å³å¹¶ä¸éåæå¼ï¼å¯ä»¥ä½ä¸ºä¸ä¸ªç´§æ¥æªæ½ï¼å¨ç½ç»é¢ç¹æå¨çæ¶åï¼ææå¼è¿ä¸ªå¼å³ã\n\n# æå¡èç¹æé¤ä¿æ¤æºå¶\n\næå¡æä¾èå¨è¿ç¨å¯å¨æ¶ï¼ä¼æ³¨åæå¡å°æ³¨åä¸­å¿ï¼å¹¶æ¯éä¸æ®µæ¶é´ï¼æ±æ¥å¿è·³ç»æ³¨åä¸­å¿ï¼ä»¥æ è¯èªå·±çå­æ´»ç¶æãå¦æéäºä¸æ®µåºå®æ¶é´åï¼æå¡æä¾èä»ç¶æ²¡ææ±æ¥å¿è·³ç»æ³¨åä¸­å¿ï¼æ³¨åä¸­å¿å°±ä¼è®¤ä¸ºè¯¥èç¹å·²ç»å¤äºâdeadâç¶æï¼äºæ¯ä»æå¡çå¯ç¨èç¹ä¿¡æ¯ä¸­ç§»é¤åºå»ã\n\nå¦æéå°ç½ç»é®é¢ï¼å¤§æ¹æå¡æä¾èèç¹æ±æ¥ç»æ³¨åä¸­å¿çå¿è·³ä¿¡æ¯é½å¯è½ä¼ä¼ è¾¾å¤±è´¥ï¼æ³¨åä¸­å¿å°±ä¼æå®ä»¬é½ä»å¯ç¨èç¹åè¡¨ä¸­ç§»é¤åºå»ï¼é æå©ä¸çå¯ç¨èç¹é¾ä»¥æ¿åææçè°ç¨ï¼å¼èµ·âéªå´©âãä½æ¯è¿ç§æåµä¸ï¼å¯è½å¤§é¨åæå¡æä¾èèç¹æ¯å¯ç¨çï¼ä»ä»å ä¸ºç½ç»åå æ æ³æ±æ¥å¿è·³ç»æ³¨åä¸­å¿å°±è¢«âæ æâçæé¤äºã\n\nè¿ä¸ªæ¶åå°±éè¦æ ¹æ®å®éä¸å¡çæåµï¼è®¾å®ä¸ä¸ªéå¼æ¯ä¾ï¼å³ä½¿éå°åæè¯´çè¿ç§æåµï¼æ³¨åä¸­å¿ä¹ä¸è½æé¤è¶è¿è¿ä¸ªéå¼æ¯ä¾çèç¹ã\n\nè¿ä¸ªéå¼æ¯ä¾å¯ä»¥æ ¹æ®å®éä¸å¡çåä½åº¦æ¥ç¡®å®ï¼æéå¸¸ä¼æè¿ä¸ªæ¯ä¾è®¾å®å¨ 20%ï¼å°±æ¯è¯´æ³¨åä¸­å¿ä¸è½æé¤è¶è¿ 20% çèç¹ãå ä¸ºå¤§é¨åæåµä¸ï¼èç¹çååä¸ä¼è¿ä¹é¢ç¹ï¼åªæå¨ç½ç»æå¨æèä¸å¡æç¡®è¦ä¸çº¿å¤§æ¹éèç¹çæåµä¸ææå¯è½åçãèä¸å¡æç¡®è¦ä¸çº¿å¤§æ¹éèç¹çæåµæ¯å¯ä»¥é¢ç¥çï¼è¿ç§æåµä¸å¯ä»¥å³é­éå¼ä¿æ¤ï¼èæ­£å¸¸æåµä¸ï¼åºè¯¥æå¼éå¼ä¿æ¤ï¼ä»¥é²æ­¢ç½ç»æå¨æ¶ï¼å¤§æ¹éå¯ç¨çæå¡èç¹è¢«æé¤ã\n\n\n# æå¡éä¿¡\n\néè¿æ³¨åä¸­å¿ï¼æå¡æ¶è´¹èåæå¡æä¾èå°±å¯ä»¥æç¥å½¼æ­¤ï¼ä½æ¯ï¼è¦å®ç°äº¤äºè¿å¿é¡»è§£å³éä¿¡é®é¢ï¼\n\n * éä¿¡åè®®ãå³æå¡æä¾èåæå¡æ¶è´¹èä¹é´ä»¥ä»ä¹æ ·ç åè®® è¿è¡ç½ç»éä¿¡ï¼è¯´ç½äºï¼æ¯è¦è§£å³å®¢æ·ç«¯åæå¡ç«¯å¦ä½å»ºç«è¿æ¥ãç®¡çè¿æ¥ä»¥åæå¡ç«¯å¦ä½å¤çè¯·æ±çé®é¢ãæ¯éç¨åå± tcpãudp åè®®ï¼è¿æ¯éç¨ä¸å± http åè®®ï¼è¿æ¯éç¨å¶ä»åè®®ï¼ä¾å¦ï¼dubbo åºäº tcp éä¿¡ï¼è spring cloud åºäº http rest éä¿¡ãtcp éä¿¡æ¹å¼ï¼ä¼ è¾æçæ´é«ï¼ä½æ¯ http æ¹å¼å¤©ç¶å¯ä»¥æä¾å¯¹å¤æå¡ã\n * ä¼ è¾æ¹å¼ãå³æå¡æä¾èåæå¡æ¶è´¹èä¹é´çæ°æ®ä¼ è¾éç¨åªç§æ¹å¼ãæ¯åæ­¥è¿æ¯å¼æ­¥ï¼æ¯å¨åè¿æ¥ä¸ä¼ è¾ï¼è¿æ¯å¤è·¯å¤ç¨ã\n * åºåååååºååãå®ä¸»è¦è§£å³å®¢æ·ç«¯åæå¡ç«¯éç¨åªç§æ°æ®ç¼è§£ç çé®é¢ãå¸¸è§çåºååæ¹å¼åæ¬ï¼xmlãjsonï¼äºè¿å¶ç±»å¦ï¼thriftãprotobufãhessianãjdkã\n\n\n# åºååæ¹å¼\n\nåºååæ¹å¼çéåï¼ä¸è¬åºäºä»¥ä¸èèï¼\n\n * æ¯ææ°æ®ç»æç±»åçä¸°å¯åº¦\n * è·¨è¯­è¨æ¯æ\n * æ§è½\n\n> ð åèï¼java åºåå\n\n\n# éä¿¡åè®®\n\nå¾®æå¡æ¡æ¶å¯¹æ¯ï¼\n\n       rpc                                       rest\nè¦åæ§    å¼ºè¦å                                       æ¾æ£è¦å\nåè®®     tcp                                       httpãhttp2\nåºåå    äºè¿å¶ï¼thriftãprotobufãhessianãavroãjdk ç­ï¼   xmlãjson\næ§è½     é«                                         ä½\nå®¢æ·ç«¯    å¯¹ç¼ç¨è¯­è¨æéå¶                                  è·¨è¯­è¨æ¯ææ´å¥½ï¼æ¯æ http å³å¯ï¼\nä»£è¡¨ææ¯   dubboãmotanãtarsãgrpcãthrift              spring cloud\n\n\n# æå¡çæ§\n\nå½æå¡æ¶è´¹èä¸æå¡æä¾èä¹é´å»ºç«äºéä¿¡ï¼ä½ä¸ºç®¡çèéè¦éè¿çæ§ææ®µæ¥è§å¯æå¡æ¯å¦æ­£å¸¸ï¼è°ç¨æ¯å¦æåãæå¡çæ§æ¯å¾å¤æçï¼å¨å¾®æå¡æ¶æä¸ï¼ä¸æ¬¡ç¨æ·è°ç¨ä¼å ä¸ºæå¡åæååï¼åæå¤ä¸ªä¸åæå¡ä¹é´çç¸äºè°ç¨ï¼è¿ä¹å°±éè¦å¯¹æååçæ¯ä¸ªæå¡é½çæ§èµ·æ¥ã\n\n\n# çæ§å¯¹è±¡\n\næå¡çæ§ä¸å®æ¯éè¿è§å¯æ°æ®æ¥éååæï¼æä»¥é¦åè¦æç¡®éè¦çæ§ä»ä¹ã\n\nä¸è¬æ¥è¯´ï¼æå¡çæ§æ°æ®æä»¥ä¸åç±»ï¼\n\n * ä¸å¡çæ§ï¼æ ¸å¿ææ ãç»å½ãç»åºãä¸åãæ¯ä»ç­ã\n * åºç¨çæ§ï¼è®¿é®æ¥å£ãè®¿é®æå¡ãsqlãåå­ä½¿ç¨çãååºæ¶é´ãtpsãqps ç­ã\n * ç³»ç»çæ§ï¼cpuãåå­ãç½ç»ãç£çç­ã\n * åºç¡çæ§ï¼ç½ç»æµéãä¸¢åæ°ãéåæ°ãè¿æ¥æ°ç­ã\n * å®¢æ·ç«¯çæ§ï¼æ§è½ãè¿åç ãå°åãè¿è¥åãçæ¬ãç³»ç»ç­ã\n\n\n# ç³»ç»çæ§åç\n\nä¸æ¦æç¡®äºè¦çæ§çå¯¹è±¡ï¼æ¥ä¸å°±æ¯èèå¦ä½çæ§ã\n\nçæ§ç³»ç»ä¸»è¦åæ¬åä¸ªç¯èï¼æ°æ®ééãæ°æ®ä¼ è¾ãæ°æ®å¤çåæ°æ®å±ç¤º\n\n# æ°æ®éé\n\néå¸¸æä¸¤ç§æ°æ®æ¶éæ¹å¼ï¼\n\n * æå¡ä¸»å¨ä¸æ¥ï¼è¿ç§å¤çæ¹å¼éè¿å¨ä¸å¡ä»£ç æèæå¡æ¡æ¶éå å¥æ°æ®æ¶éä»£ç é»è¾ï¼å¨æ¯ä¸æ¬¡æå¡è°ç¨å®æåï¼ä¸»å¨ä¸æ¥æå¡çè°ç¨ä¿¡æ¯ãè¿ç§æ¹å¼å¨é¾è·¯è·è¸ªä¸­è¾ä¸ºå¸¸è§ï¼ä¸»æµçææ¯æ¹æ¡æï¼zipkinã\n * ä»£çæ¶éï¼è¿ç§å¤çæ¹å¼éè¿æå¡è°ç¨åæè°ç¨çè¯¦ç»ä¿¡æ¯è®°å½å°æ¬å°æ¥å¿æä»¶ä¸­ï¼ç¶ååéè¿ä»£çå»è§£ææ¬å°æ¥å¿æä»¶ï¼ç¶ååä¸æ¥æå¡çè°ç¨ä¿¡æ¯ãä¸»æµçææ¯æ¹æ¡æï¼elkãflumeã\n\n# æ°æ®ä¼ è¾\n\næ°æ®ä¼ è¾æå¸¸ç¨çæ¹å¼æä¸¤ç§ï¼\n\n * udp ä¼ è¾ï¼è¿ç§å¤çæ¹å¼æ¯æ°æ®å¤çååæä¾æå¡å¨çè¯·æ±å°åï¼æ°æ®ééåéè¿ udp åè®®ä¸æå¡å¨å»ºç«è¿æ¥ï¼ç¶åææ°æ®åéè¿å»ã\n * kafka ä¼ è¾ï¼è¿ç§å¤çæ¹å¼æ¯æ°æ®ééååéå°æå®ç topicï¼ç¶åæ°æ®å¤çåååè®¢éå¯¹åºç topicï¼å°±å¯ä»¥ä» kafka æ¶æ¯éåä¸­è¯»åå°å¯¹åºçæ°æ®ãç±äº kafka æéå¸¸é«çååè½åï¼æä»¥å¾éåä½ä¸ºå¤§æ°æ®éçç¼å²æ± ã\n\n# æ°æ®å¤ç\n\næ°æ®å¤çæ¯å¯¹æ¶éæ¥çåå§æ°æ®è¿è¡èåå¹¶å­å¨ãæ°æ®èåéå¸¸æä¸¤ä¸ªç»´åº¦ï¼\n\n * æ¥å£ç»´åº¦èåï¼è¿ä¸ªç»´åº¦æ¯æå®æ¶æ¶å°çæ°æ®æç§æ¥å£åç»´åº¦å®æ¶èåå¨ä¸èµ·ï¼è¿æ ·å°±å¯ä»¥å¾å°æ¯ä¸ªæ¥å£çæ¯ç§è¯·æ±éãå¹³åèæ¶ãæåçç­ä¿¡æ¯ã\n * æºå¨ç»´åº¦èåï¼è¿ä¸ªç»´åº¦æ¯æå®æ¶æ¶å°çæ°æ®æç§è°ç¨çèç¹ç»´åº¦èåå¨ä¸èµ·ï¼è¿æ ·å°±å¯ä»¥ä»åæºç»´åº¦å»æ¥çæ¯ä¸ªæ¥å£çå®æ¶è¯·æ±éãå¹³åèæ¶ç­ä¿¡æ¯ã\n\nèååçæ°æ®éè¦æä¹åå°æ°æ®åºä¸­å­å¨ï¼æéç¨çæ°æ®åºä¸è¬åä¸ºä¸¤ç§ï¼\n\n * å¨ææ£ç´¢æ°æ®åºï¼æ¯å¦ elasticsearchï¼ä»¥åæç´¢å¼çæ°æ®ç»æå­å¨ï¼éè¦æ¥è¯¢çæ¶åï¼æ ¹æ®ç´¢å¼æ¥æ¥è¯¢ã\n * æ¶åºæ°æ®åºï¼æ¯å¦ opentsdbï¼ä»¥æ¶åºåºåæ°æ®çæ¹å¼å­å¨ï¼æ¥è¯¢çæ¶åæç§æ¶åºå¦ 1minã5min ç­ç»´åº¦æ¥æ¥è¯¢ã\n\n# æ°æ®å±ç¤º\n\næ°æ®å±ç¤ºæ¯æå¤çåçæ°æ®ä»¥ dashboard çæ¹å¼å±ç¤ºç»ç¨æ·ãæ°æ®å±ç¤ºæå¤ç§æ¹å¼ï¼æ¯å¦æ²çº¿å¾ãé¥¼ç¶å¾ãæ ¼å­å¾å±ç¤ºç­ã\n\n\n# çæ§ææ¯\n\n\n\n * elk çææ¯æ æ¯è¾æçï¼åºç¨èå´ä¹æ¯è¾å¹¿ï¼é¤äºå¯ç¨ä½çæ§ç³»ç»å¤ï¼è¿å¯ä»¥ç¨ä½æ¥å¿æ¥è¯¢ååæã\n * graphite æ¯åºäºæ¶é´åºåæ°æ®åºå­å¨ççæ§ç³»ç»ï¼å¹¶ä¸æä¾äºåè½å¼ºå¤§çåç§èåå½æ°æ¯å¦ sumãaverageãtop5 ç­å¯ç¨äºçæ§åæï¼èä¸å¯¹å¤æä¾äº api ä¹å¯ä»¥æ¥å¥å¶ä»å¾å½¢åçæ§ç³»ç»å¦ grafanaã\n * tick çæ ¸å¿å¨äºå¶æ¶é´åºåæ°æ®åº influxdb çå­å¨åè½å¼ºå¤§ï¼ä¸æ¯æç±»ä¼¼ sql è¯­è¨çå¤ææ°æ®å¤çæä½ã\n * prometheus çç¬ç¹ä¹å¤å¨äºå®éç¨äºææ°æ®çæ¹å¼ï¼å¯¹ä¸å¡å½±åè¾å°ï¼åæ¶ä¹éç¨äºæ¶é´åºåæ°æ®åºå­å¨ï¼èä¸æ¯æç¬æç promql æ¥è¯¢è¯­è¨ï¼åè½å¼ºå¤§èä¸ç®æ´ã\n\n\n# æå¡æ²»ç\n\nå¾®æå¡æ²»çå¹³å°å°±æ¯ä¸æå¡æäº¤éçç»ä¸å¥å£ï¼æ è®ºæ¯å¼åäººåè¿æ¯è¿ç»´äººåï¼é½è½éè¿è¿ä¸ªå¹³å°å¯¹æå¡è¿è¡åç§æä½ï¼æ¯å¦å¼åäººåå¯ä»¥éè¿è¿ä¸ªå¹³å°å¯¹æå¡è¿è¡éçº§æä½ï¼è¿ç»´äººåå¯ä»¥éè¿è¿ä¸ªå¹³å°å¯¹æå¡è¿è¡ä¸ä¸çº¿æä½ï¼èä¸éè¦å³å¿è¿ä¸ªæä½èåçå·ä½å®ç°ã\n\nå¾®æå¡æ²»çå¹³å°å³é®ä¹å¤å°±å¨äºå®è½å¤å°è£å¯¹å¾®æå¡æ¶æåçåä¸ªåºç¡è®¾æ½ç»ä»¶çè°ç¨ï¼ä»èå¯¹å¤æä¾ç»ä¸çæå¡æä½ apiï¼èä¸è¿æä¾äºå¯è§åççé¢ï¼ä»¥æ¹ä¾¿å¼åäººååè¿ç»´äººåæä½ã\n\n\n\næå¡æ²»ççå¸¸ç¨ææ®µæï¼\n\n * èç¹ç®¡ç\n   * æ³¨åä¸­å¿ä¸»å¨æé¤æºå¶\n   * æå¡æ¶è´¹èæé¤æºå¶\n * è´è½½åè¡¡\n   * è½®è¯¢\n   * éæº\n   * æè¿æå°è¿æ¥\n   * ä¸è´æ§ hash\n * æå¡è·¯ç±\n   * ä¸å¡å­å¨ç°åº¦åå¸çéæ±\n   * å¤æºæ¿å°±è¿è®¿é®çéæ±\n * æå¡å®¹é\n   * failoverï¼å¤±è´¥èªå¨åæ¢\n   * failbackï¼å¤±è´¥éç¥\n   * failcacheï¼å¤±è´¥ç¼å­\n   * failfastï¼å¿«éå¤±è´¥\n\n\n# api ç½å³\n\napi ç½å³æ¯ä¸ä¸ªæå¡å¨ï¼æ¯ç³»ç»çå¯ä¸å¥å£ãä»é¢åå¯¹è±¡è®¾è®¡çè§åº¦çï¼å®ä¸å¤è§æ¨¡å¼ç±»ä¼¼ãapi ç½å³å°è£äºç³»ç»åé¨æ¶æï¼ä¸ºæ¯ä¸ªå®¢æ·ç«¯æä¾ä¸ä¸ªå®å¶ç apiãå®å¯è½è¿å·æå¶å®èè´£ï¼å¦èº«ä»½éªè¯ãçæ§ãè´è½½åè¡¡ãç¼å­ãè¯·æ±åçä¸ç®¡çãéæååºå¤çã api ç½å³æ¹å¼çæ ¸å¿è¦ç¹æ¯ï¼ææçå®¢æ·ç«¯åæ¶è´¹ç«¯é½éè¿ç»ä¸çç½å³æ¥å¥å¾®æå¡ï¼å¨ç½å³å±å¤çææçéä¸å¡åè½ãéå¸¸ï¼ç½å³ä¹æ¯æä¾ rest/http çè®¿é® apiãæå¡ç«¯éè¿ api-gw æ³¨ååç®¡çæå¡ã\n\n\n# zuul\n\n\n\nå¨ zuul ä¸­ï¼ æ´ä¸ªè¯·æ±çè¿ç¨æ¯è¿æ ·çï¼é¦åå°è¯·æ±ç» zuulservlet å¤çï¼zuulservlet ä¸­æä¸ä¸ª zuulrunner å¯¹è±¡ï¼è¯¥å¯¹è±¡ä¸­åå§åäº requestcontextï¼ä½ä¸ºå­å¨æ´ä¸ªè¯·æ±çä¸äºæ°æ®ï¼å¹¶è¢«ææç zuulfilter å±äº«ãzuulrunner ä¸­è¿æ filterprocessorï¼filterprocessor ä½ä¸ºæ§è¡ææç zuulfilter çç®¡çå¨ãfilterprocessor ä» filterloader ä¸­è·å zuulfilterï¼è zuulfilter æ¯è¢« filterfilemanager æå è½½ï¼å¹¶æ¯æ groovy ç­å è½½ï¼éç¨äºè½®è¯¢çæ¹å¼ç­å è½½ãæäºè¿äº filter ä¹åï¼zuulservelet é¦åæ§è¡ç pre ç±»åçè¿æ»¤å¨ï¼åæ§è¡ route ç±»åçè¿æ»¤å¨ï¼æåæ§è¡çæ¯ post ç±»åçè¿æ»¤å¨ï¼å¦æå¨æ§è¡è¿äºè¿æ»¤å¨æéè¯¯çæ¶ååä¼æ§è¡ error ç±»åçè¿æ»¤å¨ãæ§è¡å®è¿äºè¿æ»¤å¨ï¼æç»å°è¯·æ±çç»æè¿åç»å®¢æ·ç«¯ã\n\n\n# è´è½½åè¡¡\n\n> åèï¼è´è½½åè¡¡åºæ¬åç\n\n\n# æå¡è·¯ç±\n\næå¡è·¯ç±å°±æ¯æå¡æ¶è´¹èå¨åèµ·æå¡è°ç¨æ¶ï¼å¿é¡»æ ¹æ®ç¹å®çè§åæ¥éæ©æå¡èç¹ï¼ä»èæ»¡è¶³æäºç¹å®çéæ±ã\n\n\n# æå¡è·¯ç±çåºç¨åºæ¯\n\n * åç»è°ç¨ãä¸è¬æ¥è®²ï¼ä¸ºäºä¿è¯æå¡çé«å¯ç¨æ§ï¼å®ç°å¼å°å¤æ´»çéæ±ï¼ä¸ä¸ªæå¡å¾å¾ä¸æ­¢é¨ç½²å¨ä¸ä¸ªæ°æ®ä¸­å¿ï¼èä¸åºäºèçææ¬ç­èèï¼æäºä¸å¡å¯è½ä¸ä»å¨ç§ææºæ¿é¨ç½²ï¼è¿ä¼éç¨å¬æäºé¨ç½²ï¼çè³éç¨å¤å®¶å¬æäºé¨ç½²ãæå¡èç¹ä¹ä¼æç§ä¸åçæ°æ®ä¸­å¿åæä¸åçåç»ï¼è¿æ¶å¯¹äºæå¡æ¶è´¹èæ¥è¯´ï¼éæ©åªä¸ä¸ªåç»è°ç¨ï¼å°±å¿é¡»æç¸åºçè·¯ç±è§åã\n * ç°åº¦åå¸ãå¨æå¡ä¸çº¿åå¸çè¿ç¨ä¸­ï¼ä¸è¬éè¦åå¨ä¸å°é¨åè§æ¨¡çæå¡èç¹ä¸ååå¸æå¡ï¼ç¶åéªè¯åè½æ¯å¦æ­£å¸¸ãå¦ææ­£å¸¸çè¯å°±ç»§ç»­æ©å¤§åå¸èå´ï¼å¦æä¸æ­£å¸¸çè¯ï¼å°±éè¦ææ¥é®é¢ï¼è§£å³é®é¢åç»§ç»­åå¸ãè¿ä¸ªè¿ç¨å°±å«ä½ç°åº¦åå¸ï¼ä¹å«éä¸éé¨ç½²ã\n * æµéåæ¢ãå¨ä¸å¡çº¿ä¸è¿è¡è¿ç¨ä¸­ï¼ç»å¸¸ä¼éå°ä¸äºä¸å¯æåå ç´ å¯¼è´ä¸å¡æéï¼æ¯å¦æä¸ªæºæ¿çåç¼è¢«ææ­ï¼æèåççç«ç­äºæå¯¼è´æ´ä¸ªæºæ¿çæå¡é½ä¸å¯ç¨ãè¿ä¸ªæ¶åå°±éè¦æç§æä¸ªæä»¤ï¼è½å¤æåæ¥è°ç¨è¿ä¸ªæºæ¿æå¡çæµéåæ¢å°å¶ä»æ­£å¸¸çæºæ¿ã\n * è¯»ååç¦»ãå¯¹äºå¤§å¤æ°äºèç½ä¸å¡æ¥è¯´é½æ¯è¯»å¤åå°ï¼æä»¥å¨è¿è¡æå¡é¨ç½²çæ¶åï¼å¯ä»¥æè¯»ååå¼é¨ç½²ï¼ææåæ¥å£å¯ä»¥é¨ç½²å¨ä¸èµ·ï¼èè¯»æ¥å£é¨ç½²å¨å¦å¤çèç¹ä¸ã\n\n\n# æå¡è·¯ç±çè§å\n\næå¡è·¯ç±ä¸»è¦æä¸¤ç§è§åï¼ä¸ç§æ¯æ¡ä»¶è·¯ç±ï¼ä¸ç§æ¯èæ¬è·¯ç±ã\n\n# æ¡ä»¶è·¯ç±\n\næ¡ä»¶è·¯ç±æ¯åºäºæ¡ä»¶è¡¨è¾¾å¼çè·¯ç±è§åã\n\ncondition://0.0.0.0/dubbo.test.interfaces.testservice?category=routers&dynamic=true&priority=2&enabled=true&rule=" + url.encode(" host = 10.20.153.10=> host = 10.20.153.11")\n\n\nè¿éé¢ condition:// ä»£è¡¨äºè¿æ¯ä¸æ®µç¨æ¡ä»¶è¡¨è¾¾å¼ç¼åçè·¯ç±è§åï¼å·ä½çè§åæ¯\n\nhost = 10.20.153.10 => host = 10.20.153.11\n\n\nåéç¬¦â=>âåé¢æ¯æå¡æ¶è´¹èçå¹éæ¡ä»¶ï¼åé¢æ¯æå¡æä¾èçè¿æ»¤æ¡ä»¶ãå½æå¡æ¶è´¹èèç¹æ»¡è¶³å¹éæ¡ä»¶æ¶ï¼å°±å¯¹è¯¥æå¡æ¶è´¹èæ§è¡åé¢çè¿æ»¤è§åãé£ä¹ä¸é¢è¿æ®µè¡¨è¾¾å¼è¡¨è¾¾çæä¹å°±æ¯ ip ä¸ºâ10.20.153.10âçæå¡æ¶è´¹èé½è°ç¨ ip ä¸ºâ10.20.153.11âçæå¡æä¾èèç¹ã\n\nå¦ææå¡æ¶è´¹èçå¹éæ¡ä»¶ä¸ºç©ºï¼å°±è¡¨ç¤ºå¯¹ææçæå¡æ¶è´¹èåºç¨ï¼å°±åä¸é¢çè¡¨è¾¾å¼ä¸æ ·ã\n\n=> host ï¼= 10.20.153.11\n\n\nå¦ææå¡æä¾èçè¿æ»¤æ¡ä»¶ä¸ºç©ºï¼å°±è¡¨ç¤ºç¦æ­¢æå¡æ¶è´¹èè®¿é®ï¼å°±åä¸é¢çè¡¨è¾¾å¼ä¸æ ·ã\n\nhost = 10.20.153.10=>\n\n\nä¸é¢æä¸¾ä¸äº dubbo æ¡æ¶ä¸­çæ¡ä»¶è·¯ç±ï¼æ¥ç»ä½ è®²è§£ä¸æ¡ä»¶è·¯ç±çå·ä½åºç¨åºæ¯ã\n\n * æé¤æä¸ªæå¡èç¹\n\n=> host != 172.22.3.91\n\n\nä¸æ¦è¿æ¡è·¯ç±è§åè¢«åºç¨å°çº¿ä¸ï¼ææçæå¡æ¶è´¹èé½ä¸ä¼è®¿é® ip ä¸º 172.22.3.91 çæå¡èç¹ï¼è¿ç§è·¯ç±è§åä¸è¬åºç¨å¨çº¿ä¸æµéæé¤é¢åå¸æºä»¥åæé¤æä¸ªæéèç¹çåºæ¯ã\n\n * ç½åååé»åååè½\n\nhost != 10.20.153.10,10.20.153.11 =>\n\n\nè¿æ¡è·¯ç±è§åæææ¯é¤äº ip ä¸º 10.20.153.10 å 10.20.153.11 çæå¡æ¶è´¹èå¯ä»¥åèµ·æå¡è°ç¨ä»¥å¤ï¼å¶ä»æå¡æ¶è´¹èé½ä¸å¯ä»¥ï¼ä¸»è¦ç¨äºç½ååè®¿é®é»è¾ï¼æ¯å¦æä¸ªåå°æå¡åªåè®¸ç¹å®çå å°æºå¨æå¯ä»¥è®¿é®ï¼è¿æ ·çè¯å¯ä»¥æºå¨æ§å¶è®¿é®æéã\n\nhost = 10.20.153.10,10.20.153.11 =>\n\n\nåçï¼è¿æ¡è·¯ç±è§åæææ¯é¤äº ip ä¸º 10.20.153.10 å 10.20.153.11 çæå¡æ¶è´¹èä¸è½åèµ·æå¡è°ç¨ä»¥å¤ï¼å¶ä»æå¡æ¶è´¹èé½å¯ä»¥ï¼ä¹å°±æ¯å®ç°äºé»åååè½ï¼æ¯å¦çº¿ä¸ç»å¸¸ä¼éå°æäºè°ç¨æ¹ä¸ç®¡æ¯åºäºææè¿æ¯æ æçä¸åçè°ç¨ï¼å½±åäºæå¡çç¨³å®æ§ï¼è¿æ¶åå¯ä»¥éè¿é»åååè½ææ¶äºä»¥å°æã\n\n * æºæ¿éç¦»\n\nhost = 172.22.3.* => host = 172.22.3.*\n\n\nè¿æ¡è·¯ç±è§åæææ¯ ip ç½æ®µä¸º 172.22.3.* çæå¡æ¶è´¹èï¼æå¯ä»¥è®¿é®åç½æ®µçæå¡èç¹ï¼è¿ç§è§åä¸è¬åºç¨äºæå¡é¨ç½²å¨å¤ä¸ª idcï¼çè®ºä¸åä¸ä¸ª idc åçè°ç¨æ§è½è¦æ¯è·¨ idc è°ç¨æ§è½è¦å¥½ï¼åºç¨è¿ä¸ªè§åæ¯ä¸ºäºå®ç°å idc å°±è¿è®¿é®ã\n\n * è¯»ååç¦»\n\nmethod = find*,list*,get*,is* => host =172.22.3.94,172.22.3.95\nmethod != find*,list*,get*,is* => host = 172.22.3.97,172.22.3.98\n\n\nè¿æ¡è·¯ç±è§åæææ¯ find*ãget*ãis* ç­è¯»æ¹æ³è°ç¨ ip ä¸º 172.22.3.94 å 172.22.3.95 çèç¹ï¼é¤æ­¤ä»¥å¤çåæ¹æ³è°ç¨ ip ä¸º 172.22.3.97 å 172.22.3.98 çèç¹ãå¯¹äºå¤§é¨åäºèç½ä¸å¡æ¥è¯´ï¼å¾å¾è¯»è¯·æ±è¦è¿è¿å¤§äºåè¯·æ±ï¼èåè¯·æ±çéè¦æ§å¾å¾è¦è¿è¿é«äºè¯»è¯·æ±ï¼æä»¥éè¦æè¯»åè¯·æ±è¿è¡åç¦»ï¼ä»¥é¿åè¯»è¯·æ±å¼å¸¸å½±åå°åè¯·æ±ï¼è¿æ¶åå°±å¯ä»¥åºç¨è¿ç§è§åã\n\n# èæ¬è·¯ç±\n\nèæ¬è·¯ç±æ¯åºäºèæ¬è¯­è¨çè·¯ç±è§åï¼å¸¸ç¨çèæ¬è¯­è¨æ¯å¦ javascriptãgroovyãjruby ç­ã\n\n"script://0.0.0.0/com.foo.barservice?category=routers&dynamic=false&rule=" + url.encode("ï¼function route(invokers) { ... } (invokers)ï¼")\n\n\nè¿éé¢âscript://âå°±ä»£è¡¨äºè¿æ¯ä¸æ®µèæ¬è¯­è¨ç¼åçè·¯ç±è§åï¼å·ä½è§åå®ä¹å¨èæ¬è¯­è¨ç route æ¹æ³å®ç°éï¼æ¯å¦ä¸é¢è¿æ®µç¨ javascript ç¼åç route() æ¹æ³è¡¨è¾¾çæææ¯ï¼åªæ ip ä¸º 10.20.153.10 çæå¡æ¶è´¹èå¯ä»¥åèµ·æå¡è°ç¨ã\n\nfunction route(invokers){\n  var result = new java.util.arraylist(invokers.size());\n  for(i =0; i < invokers.size(); i ++){\n    if("10.20.153.10".equals(invokers.get(i).geturl().gethost())){\n       result.add(invokers.get(i));\n    }\n  }\n  return result;\n } (invokers)ï¼;\n\n\n\n# æå¡è·¯ç±çè·åæ¹å¼\n\næå¡è·¯ç±çè·åæ¹å¼ä¸»è¦æä¸ç§ï¼\n\n * æ¬å°éç½®\n\né¡¾åæä¹å°±æ¯è·¯ç±è§åå­å¨å¨æå¡æ¶è´¹èæ¬å°ä¸ãæå¡æ¶è´¹èåèµ·è°ç¨æ¶ï¼ä»æ¬å°åºå®ä½ç½®è¯»åè·¯ç±è§åï¼ç¶åæç§è·¯ç±è§åéåä¸ä¸ªæå¡èç¹åèµ·è°ç¨ã\n\n * éç½®ä¸­å¿ç®¡ç\n\nè¿ç§æ¹å¼ä¸ï¼ææçæå¡æ¶è´¹èé½ä»éç½®ä¸­å¿è·åè·¯ç±è§åï¼ç±éç½®ä¸­å¿æ¥ç»ä¸ç®¡çã\n\n * å¨æä¸å\n\nè¿ç§æ¹å¼ä¸ï¼ä¸è¬æ¯è¿ç»´äººåæèå¼åäººåï¼éè¿æå¡æ²»çå¹³å°ä¿®æ¹è·¯ç±è§åï¼æå¡æ²»çå¹³å°è°ç¨éç½®ä¸­å¿æ¥å£ï¼æä¿®æ¹åçè·¯ç±è§åæä¹åå°éç½®ä¸­å¿ãå ä¸ºæå¡æ¶è´¹èè®¢éäºè·¯ç±è§åçåæ´ï¼äºæ¯å°±ä¼ä»éç½®ä¸­å¿è·åææ°çè·¯ç±è§åï¼æç§ææ°çè·¯ç±è§åæ¥æ§è¡ã\n\n\n# åé¨æå¡è°ç¨\n\nåºç¡æå¡ä¹é´çè°ç¨ï¼ç»åæå¡æ³¨åä¸­å¿ä»¥åä¸å±çå·æè´è½½åè¡¡åè½çå®¢æ·ç«¯ï¼å¦ eureka+ï¼resttemplate+ribbonï¼æè eureka+feign èåæå¡è°ç¨ï¼ç»åæå¡æ³¨åä¸­å¿ä»¥åä¸å±çå·æè´è½½åè¡¡åè½çå®¢æ·ç«¯ï¼å¦ eureka+ï¼resttemplate+ribbonï¼æè eureka+feign\n\n\n\n\n# å¤é¨æå¡è°ç¨\n\nåºäº netflix ç zuulï¼åäºç®åäºè§£ï¼springcloud ä¸ zuul éæçæ¹å¼ãè¿éåå¯¹æ ¸å¿æµç¨åä¸ªç®åäºè§£ï¼åç»­ä¼ææ·±å¥çåºç¨ãåæã\n\nspring cloud å¾å¥½çéæäº zuulï¼å¹¶ä¸å¯ä»¥éè¿æ³¨è§£çå½¢å¼æ¥è¿è¡è¯·æ±çååè·¯ç±ä»¥å api ç½å³åè½ spring cloud éæ zuulï¼å¯¹ä¸ url æ å°çå¤çæ¹å¼ä¸ springmvc å¯¹ url çè¯·æ±æ¹å¼ç±»ä¼¼ï¼é½æ¯éè¿ requestmapping æ¥è¿è¡è¯·æ±ç»å®çãæ ¸å¿ç±»ï¼zuulhandlermapping zuul çæ ¸å¿æ¯ zuulservletï¼ä¸ä¸ªè¯·æ±æ ¸å¿æµç¨ï¼httpservletrequest â>zuulhandlermapping â>zuulcontroller â> zuulservlet â> zuulfilter â> httpservletresponse\n\n\n# éç½®ä¸­å¿\n\néç½®ä¸­å¿çæè·¯å°±æ¯ææå¡çåç§éç½®ï¼å¦ä»£ç ééç½®çåç§åæ°ãæå¡éçº§çå¼å³çè³ä¾èµçèµæºç­é½å¨ä¸ä¸ªå°æ¹ç»ä¸è¿è¡ç®¡çãæå¡å¯å¨æ¶ï¼å¯ä»¥èªå¨ä»éç½®ä¸­å¿ä¸­æåæéçéç½®ï¼å¹¶ä¸å¦ææéç½®åæ´çæåµï¼åæ ·å¯ä»¥èªå¨ä»éç½®ä¸­å¿æåææ°çéç½®ä¿¡æ¯ï¼æå¡æ é¡»éæ°åå¸ã\n\néç½®ä¸­å¿ä¸è¬åå«ä¸é¢å ä¸ªåè½ï¼\n\n * éç½®æ³¨ååè½\n * éç½®åæ³¨ååè½\n * éç½®æ¥çåè½\n * éç½®åæ´è®¢éåè½\n\n\n# apollo\n\næºç¨å¼æºçåå¸å¼éç½®ä¸­å¿ï¼æ¯æ java å.net è¯­è¨ï¼å®¢æ·ç«¯åéç½®ä¸­å¿éè¿ http é¿è¿æ¥å®ç°å®æ¶æ¨éï¼å¹¶ä¸æç»ä¸çç®¡ççé¢æ¥å®ç°éç½®ç®¡çã\n\n\n\n\n# spring cloud git\n\nspring cloud ä¸­ä½¿ç¨çéç½®ä¸­å¿ç»ä»¶ï¼åªæ¯æ java è¯­è¨ï¼éç½®å­å¨å¨ git ä¸­ï¼åæ´éç½®ä¹éè¦éè¿ git æä½ï¼å¦æéç½®ä¸­å¿æéç½®åæ´ï¼éè¦æå¨å·æ°ã\n\n\n\n\n# é¾è·¯è¿½è¸ª\n\n\n# é¾è·¯è¿½è¸ªçä½ç¨\n\n * ä¼åç³»ç»ç¶é¢\n * ä¼åé¾è·¯è°ç¨\n * çæç½ç»ææ\n * éæä¼ è¾æ°æ®\n\n\n# é¾è·¯è¿½è¸ªçåç\n\nçè§£é¾è·¯è¿½è¸ªå¿é¡»åäºè§£ä»¥ä¸æ¦å¿µï¼\n\n * traceidï¼ç¨äºæ è¯æä¸æ¬¡å·ä½çè¯·æ± idãå½ç¨æ·çè¯·æ±è¿å¥ç³»ç»åï¼ä¼å¨ rpc è°ç¨ç½ç»çç¬¬ä¸å±çæä¸ä¸ªå¨å±å¯ä¸ç traceidï¼å¹¶ä¸ä¼éçæ¯ä¸å±ç rpc è°ç¨ï¼ä¸æ­å¾åä¼ éï¼è¿æ ·çè¯éè¿ traceid å°±å¯ä»¥æä¸æ¬¡ç¨æ·è¯·æ±å¨ç³»ç»ä¸­è°ç¨çè·¯å¾ä¸²èèµ·æ¥ã\n * spanidï¼ç¨äºæ è¯ä¸æ¬¡ rpc è°ç¨å¨åå¸å¼è¯·æ±ä¸­çä½ç½®ãå½ç¨æ·çè¯·æ±è¿å¥ç³»ç»åï¼å¤å¨ rpc è°ç¨ç½ç»çç¬¬ä¸å± a æ¶ spanid åå§å¼æ¯ 0ï¼è¿å¥ä¸ä¸å± rpc è°ç¨ b çæ¶å spanid æ¯ 0.1ï¼ç»§ç»­è¿å¥ä¸ä¸å± rpc è°ç¨ c æ¶ spanid æ¯ 0.1.1ï¼èä¸ b å¤å¨åä¸å±ç rpc è°ç¨ e ç spanid æ¯ 0.2ï¼è¿æ ·çè¯éè¿ spanid å°±å¯ä»¥å®ä½æä¸æ¬¡ rpc è¯·æ±å¨ç³»ç»è°ç¨ä¸­æå¤çä½ç½®ï¼ä»¥åå®çä¸ä¸æ¸¸ä¾èµåå«æ¯è°ã\n * annotationï¼ç¨äºä¸å¡èªå®ä¹åç¹æ°æ®ï¼å¯ä»¥æ¯ä¸å¡æå´è¶£çæ³ä¸ä¼ å°åç«¯çæ°æ®ï¼æ¯å¦ä¸æ¬¡è¯·æ±çç¨æ· uidã\n\n\n\n\n# é¾è·¯è¿½è¸ªçå®ç°\n\nä¸ä¸ªæå¡è¿½è¸ªç³»ç»ä¸è¬å¯ä»¥åä¸ºä¸å±ï¼\n\n * æ°æ®ééå±ï¼è´è´£æ°æ®åç¹å¹¶ä¸æ¥ã\n * æ°æ®å¤çå±ï¼è´è´£æ°æ®çå­å¨ä¸è®¡ç®ã\n * æ°æ®å±ç¤ºå±ï¼è´è´£æ°æ®çå¾å½¢åå±ç¤ºã\n\n# æ°æ®ééå±\n\nä¸æ¬¡ rpc è¯·æ±å¯ä»¥åä¸ºåä¸ªé¶æ®µã\n\n * csï¼client sendï¼é¶æ®µ : å®¢æ·ç«¯åèµ·è¯·æ±ï¼å¹¶çæè°ç¨çä¸ä¸æã\n * srï¼server recieveï¼é¶æ®µ : æå¡ç«¯æ¥æ¶è¯·æ±ï¼å¹¶çæä¸ä¸æã\n * ssï¼server sendï¼é¶æ®µ : æå¡ç«¯è¿åè¯·æ±ï¼è¿ä¸ªé¶æ®µä¼å°æå¡ç«¯ä¸ä¸ææ°æ®ä¸æ¥ï¼ä¸é¢è¿å¼ å¾å¯ä»¥è¯´æä¸æ¥çæ°æ®æï¼traceid=123456ï¼spanid=0.1ï¼appkey=bï¼method=b.methodï¼start=103ï¼duration=38ã\n * crï¼client recieveï¼é¶æ®µ : å®¢æ·ç«¯æ¥æ¶è¿åç»æï¼è¿ä¸ªé¶æ®µä¼å°å®¢æ·ç«¯ä¸ä¸ææ°æ®ä¸æ¥ï¼ä¸æ¥çæ°æ®æï¼traceid=123456ï¼spanid=0.1ï¼appkey=aï¼method=b.methodï¼start=103ï¼duration=38ã\n\n# æ°æ®å¤çå±\n\næ°æ®å¤çå±çä½ç¨å°±æ¯ææ°æ®ééå±ä¸æ¥çæ°æ®æéè®¡ç®ï¼ç¶åè½å°å­å¨ä¾æ¥è¯¢ä½¿ç¨ã\n\n * å®æ¶æ°æ®å¤ç\n\néå¯¹å®æ¶æ°æ®å¤çï¼ä¸è¬éç¨ storm æè spark streaming æ¥å¯¹é¾è·¯æ°æ®è¿è¡å®æ¶èåå å·¥ï¼å­å¨ä¸è¬ä½¿ç¨ oltp æ°æ®ä»åºï¼æ¯å¦ hbaseï¼ä½¿ç¨ traceid ä½ä¸º rowkeyï¼è½å¤©ç¶å°æä¸æ´æ¡è°ç¨é¾èåå¨ä¸èµ·ï¼æé«æ¥è¯¢æçã\n\n * ç¦»çº¿æ°æ®å¤ç\n\néå¯¹ç¦»çº¿æ°æ®å¤çï¼ä¸è¬éè¿è¿è¡ mapreduce æè spark æ¹å¤çç¨åºæ¥å¯¹é¾è·¯æ°æ®è¿è¡ç¦»çº¿è®¡ç®ï¼å­å¨ä¸è¬ä½¿ç¨ hiveã\n\n# æ°æ®å±ç¤ºå±\n\næ°æ®å±ç¤ºå±çä½ç¨å°±æ¯å°å¤çåçé¾è·¯ä¿¡æ¯ä»¥å¾å½¢åçæ¹å¼å±ç¤ºç»ç¨æ·ã\n\nå®éé¡¹ç®ä¸­ä¸»è¦ç¨å°ä¸¤ç§å¾å½¢å±ç¤ºï¼ä¸ç§æ¯è°ç¨é¾è·¯å¾ï¼ä¸ç§æ¯è°ç¨ææå¾ã\n\n\n# é¾è·¯è¿½è¸ªæ¹æ¡å¯¹æ¯\n\n\n\n\n# éæµçæ­\n\nä¸è¬èè¨ï¼éç¾¤æéçäº§çåå ä¸å¤ä¹æä¸¤ç§ï¼\n\nä¸ç§æ¯ä»£ç  bug æå¯¼è´ï¼æ¯å¦è¯´æä¸æ®µ java ä»£ç ä¸æ­å°åéå¤§å¯¹è±¡ï¼ä½æ²¡æåæ¶åæ¶å¯¼è´ jvm oom éåºï¼\n\nå¦ä¸ç§æ¯çªåçæµéå²å»ï¼è¶åºäºç³»ç»çæå¤§æ¿è½½è½åï¼æ¯å¦âå 11âè¿ç§è´­ç©æ´»å¨ï¼çµåç³»ç»ä¼å¨é¶ç¹ä¸ç¬é´æ¶å¥å¤§éæµéï¼è¶åºç³»ç»çæå¤§æ¿è½½è½åï¼ä¸ä¸å­å°±ææ´ä¸ªç³»ç»ç»åå®äºã\n\nåºä»éç¾¤æéçæè·¯ï¼ä¸»è¦æä¸¤ç§ï¼éæµåéçº§ã\n\n\n# éæµ\n\néæµå°±æ¯éå¶æµéãéå¸¸æåµä¸ï¼ç³»ç»è½å¤æ¿è½½çæµéæ ¹æ®éç¾¤è§æ¨¡çå¤§å°æ¯åºå®çï¼å¯ä»¥ç§°ä¹ä¸ºç³»ç»çæå¤§å®¹éãå½çå®æµéè¶è¿äºç³»ç»çæå¤§å®¹éåï¼å°±ä¼å¯¼è´ç³»ç»ååºåæ¢ï¼æå¡è°ç¨åºç°å¤§éè¶æ¶ï¼åæ ç»ç¨æ·çæè§å°±æ¯å¡é¡¿ãæ ååºãæä»¥ï¼åºè¯¥æ ¹æ®ç³»ç»çæå¤§å®¹éï¼ç»ç³»ç»è®¾ç½®ä¸ä¸ªéå¼ï¼è¶è¿è¿ä¸ªéå¼çè¯·æ±ä¼è¢«èªå¨æå¼ï¼è¿æ ·çè¯å¯ä»¥æå¤§éåº¦å°ä¿è¯ç³»ç»æä¾çæå¡æ­£å¸¸ã\n\né¤æ­¤ä¹å¤ï¼éå¸¸ä¸ä¸ªå¾®æå¡ç³»ç»ä¼åæ¶æä¾å¤ä¸ªæå¡ï¼æ¯ä¸ªæå¡å¨åä¸æ¶å»çè¯·æ±éä¹æ¯ä¸åçï¼å¾å¯è½åºç°çä¸ç§æåµå°±æ¯ï¼ç³»ç»ä¸­æä¸ªæå¡çè¯·æ±éçªå¢ï¼å ç¨äºç³»ç»ä¸­å¤§é¨åèµæºï¼å¯¼è´å¶ä»æå¡æ²¡æèµæºå¯ç¨ãå æ­¤ï¼è¿è¦éå¯¹ç³»ç»ä¸­æ¯ä¸ªæå¡çè¯·æ±éä¹è®¾ç½®ä¸ä¸ªéå¼ï¼è¶è¿è¿ä¸ªéå¼çè¯·æ±ä¹è¦è¢«èªå¨æå¼ï¼è¿æ ·çè¯ä¸è³äºå ä¸ºä¸ä¸ªæå¡å½±åäºå¶ä»æææå¡ã\n\nå¨å®éé¡¹ç®ä¸­ï¼å¯ä»¥ç¨ä¸¤ä¸ªææ æ¥è¡¡éæå¡çè¯·æ±éï¼ä¸ä¸ªæ¯ qps å³æ¯ç§è¯·æ±éï¼ä¸ä¸ªæ¯å·¥ä½çº¿ç¨æ°ãä¸è¿ qps å ä¸ºä¸åæå¡çååºå¿«æ¢ä¸åï¼æä»¥ç³»ç»è½å¤æ¿è½½ç qps ç¸å·®å¾å¤§ï¼å æ­¤ä¸è¬éæ©å·¥ä½çº¿ç¨æ°æ¥ä½ä¸ºéæµçææ ï¼ç»ç³»ç»è®¾ç½®ä¸ä¸ªæ»çæå¤§å·¥ä½çº¿ç¨æ°ä»¥ååä¸ªæå¡çæå¤§å·¥ä½çº¿ç¨æ°ï¼è¿æ ·çè¯æ è®ºæ¯ç³»ç»çæ»è¯·æ±éè¿å¤§å¯¼è´æ´ä½å·¥ä½çº¿ç¨æ°éè¾¾å°æå¤§å·¥ä½çº¿ç¨æ°ï¼è¿æ¯æä¸ªæå¡çè¯·æ±éè¶è¿åä¸ªæå¡çæå¤§å·¥ä½çº¿ç¨æ°ï¼é½ä¼è¢«éæµï¼ä»¥èµ·å°ä¿æ¤æ´ä¸ªç³»ç»çä½ç¨ã\n\n\n# éçº§\n\nä»ä¹æ¯éçº§å¢ï¼å¨æçæ¥ï¼éçº§å°±æ¯éè¿åæ­¢ç³»ç»ä¸­çæäºåè½ï¼æ¥ä¿è¯ç³»ç»æ´ä½çå¯ç¨æ§ãéçº§å¯ä»¥è¯´æ¯ä¸ç§è¢«å¨é²å¾¡çæªæ½ï¼ä¸ºä»ä¹è¿ä¹è¯´å¢ï¼å ä¸ºå®ä¸è¬æ¯ç³»ç»å·²ç»åºç°æéåæéåçä¸ç§æ­¢ææªæ½ã\n\né£ä¹éçº§ä¸è¬æ¯å¦ä½å®ç°çå¢ï¼æ ¹æ®æçå®è·µæ¥çï¼ ä¸ç§å¯è¡çæ¹æ¡æ¯éè¿å¼å³æ¥å®ç°ã\n\nå·ä½æ¥è®²ï¼å°±æ¯å¨ç³»ç»è¿è¡çåå­ä¸­å¼è¾ä¸ååºåï¼ä¸é¨ç¨äºå­å¨å¼å³çç¶æï¼ä¹å°±æ¯å¼å¯è¿æ¯å³é­ãå¹¶ä¸éè¦çå¬æä¸ªç«¯å£ï¼éè¿è¿ä¸ªç«¯å£å¯ä»¥åç³»ç»ä¸åå½ä»¤ï¼æ¥æ¹ååå­ä¸­å¼å³çç¶æãå½å¼å³å¼å¯æ¶ï¼ä¸å¡çæä¸æ®µé»è¾å°±ä¸åæ§è¡ï¼èæ­£å¸¸æåµä¸ï¼å¼å³æ¯å³é­çç¶æã\n\nå¼å³ä¸è¬ç¨å¨ä¸¤ç§å°æ¹ï¼ä¸ç§æ¯æ°å¢çä¸å¡é»è¾ï¼å ä¸ºæ°å¢çä¸å¡é»è¾ç¸å¯¹æ¥è¯´ä¸æçï¼å¾å¾å·å¤ä¸å®çé£é©ï¼æä»¥éè¦å å¼å³æ¥æ§å¶æ°ä¸å¡é»è¾æ¯å¦æ§è¡ï¼å¦ä¸ç§æ¯ä¾èµçæå¡æèµæºï¼å ä¸ºä¾èµçæå¡æèèµæºä¸æ»æ¯å¯é çï¼æä»¥æå¥½æ¯æå¼å³è½å¤æ§å¶æ¯å¦å¯¹ä¾èµæå¡æèµæºåèµ·è°ç¨ï¼æ¥ä¿è¯å³ä½¿ä¾èµåºç°é®é¢ï¼ä¹è½éè¿éçº§æ¥é¿åå½±åã\n\nå¨å®éä¸å¡åºç¨çæ¶åï¼éçº§è¦æç§å¯¹ä¸å¡çå½±åç¨åº¦è¿è¡åçº§ï¼ä¸è¬åä¸ºä¸çº§ï¼ä¸çº§éçº§æ¯å¯¹ä¸å¡å½±åæå°çéçº§ï¼å¨æéçæåµä¸ï¼é¦åæ§è¡ä¸çº§éçº§ï¼æä»¥ä¸çº§éçº§ä¹å¯ä»¥è®¾ç½®æèªå¨éçº§ï¼ä¸éè¦äººä¸ºå¹²é¢ï¼äºçº§éçº§æ¯å¯¹ä¸å¡æä¸å®å½±åçéçº§ï¼å¨æéçæåµä¸ï¼å¦æä¸çº§éçº§èµ·ä¸å°å¤å¤§ä½ç¨çæ¶åï¼å¯ä»¥äººä¸ºéåæªæ½ï¼æ§è¡äºçº§éçº§ï¼ä¸çº§éçº§æ¯å¯¹ä¸å¡æè¾å¤§å½±åçéçº§ï¼è¿ç§éçº§è¦ä¹æ¯å¯¹åä¸æ¶å¥æéå¤§å½±åï¼è¦ä¹æ¯å¯¹ç¨æ·ä½éªæéå¤§å½±åï¼æä»¥æä½èµ·æ¥è¦éå¸¸è°¨æï¼ä¸å¨æåæ¶å»ä¸è¬ä¸äºéç¨ã\n\n\n# devops\n\n\n# å®¹å¨åå®¹å¨å¹³å°\n\nmesosãmarathonãkubernetes\n\n\n# rpc éå\n\n\n# éå®è¯­è¨ rpc\n\nè·è¯­è¨å¹³å°ç»å®çå¼æº rpc æ¡æ¶ä¸»è¦æä¸é¢å ç§ã\n\n * dubboï¼å½åææ©å¼æºç rpc æ¡æ¶ï¼ç±é¿éå·´å·´å¬å¸å¼åå¹¶äº 2011 å¹´æ«å¯¹å¤å¼æºï¼ä»æ¯æ java è¯­è¨ã\n * motanï¼å¾®ååé¨ä½¿ç¨ç rpc æ¡æ¶ï¼äº 2016 å¹´å¯¹å¤å¼æºï¼ä»æ¯æ java è¯­è¨ã\n * tarsï¼è¾è®¯åé¨ä½¿ç¨ç rpc æ¡æ¶ï¼äº 2017 å¹´å¯¹å¤å¼æºï¼ä»æ¯æ c++ è¯­è¨ã\n * spring cloudï¼å½å¤ pivotal å¬å¸ 2014 å¹´å¯¹å¤å¼æºç rpc æ¡æ¶ï¼ä»æ¯æ java è¯­è¨ï¼æè¿å å¹´çæåå±å¾æ¯è¾å¥½ï¼æ¯æ¯è¾ç«ç rpc æ¡æ¶ã\n\næä»¥å¾ææ¾ï¼å¦æä½ çä¸å¡åºæ¯ä»ä»å±éäºä¸ç§è¯­è¨çè¯ï¼å¯ä»¥éæ©è·è¯­è¨ç»å®ç rpc æ¡æ¶ä¸­çä¸ç§ï¼å¦ææ¶åå¤ä¸ªè¯­è¨å¹³å°ä¹é´çç¸äºè°ç¨ï¼å°±åºè¯¥éæ©è·¨è¯­è¨å¹³å°ç rpc æ¡æ¶ã\n\nä»ç»åæï¼å¯ä»¥çåº spring cloud ä¸ä»æä¾äºåºæ¬ç rpc æ¡æ¶åè½ï¼è¿æä¾äºæå¡æ³¨åç»ä»¶ãéç½®ä¸­å¿ç»ä»¶ãè´è½½åè¡¡ç»ä»¶ãæ­è·¯å¨ç»ä»¶ãåå¸å¼æ¶æ¯è¿½è¸ªç»ä»¶ç­ä¸ç³»åç»ä»¶ï¼ä¹é¾æªè¢«ææ¯åçäººç§°ä¹ä¸ºâspring cloud å¨å®¶æ¡¶âãå¦æä½ ä¸æ³èªå·±å®ç°ä»¥ä¸è¿äºåè½ï¼é£ä¹ spring cloud åºæ¬å¯ä»¥æ»¡è¶³ä½ çå¨é¨éæ±ãè dubboãmotan åºæ¬ä¸åªæä¾äºæåºç¡ç rpc æ¡æ¶çåè½ï¼å¶ä»å¾®æå¡ç»ä»¶é½éè¦èªå·±å»å®ç°ãä¸è¿ç±äº spring cloud ç rpc éä¿¡éç¨äº http åè®®ï¼ç¸æ¯ dubbo å motan æéç¨çç§æåè®®æ¥è¯´ï¼å¨é«å¹¶åçéä¿¡åºæ¯ä¸ï¼æ§è½ç¸å¯¹è¦å·®ä¸äºï¼æä»¥å¯¹æ§è½æèå»è¦æ±çæåµä¸ï¼å¯ä»¥èè dubbo å motanã\n\n\n# è·¨è¯­è¨ rpc\n\nèè·¨è¯­è¨å¹³å°çå¼æº rpc æ¡æ¶ä¸»è¦æä»¥ä¸å ç§ã\n\n * grpcï¼google äº 2015 å¹´å¯¹å¤å¼æºçè·¨è¯­è¨ rpc æ¡æ¶ï¼æ¯æå¸¸ç¨ç c++ãjavaãpythonãgoãrubyãphpãandroid javaãobjective-c ç­å¤ç§è¯­è¨ã\n * thriftï¼æåæ¯ç± facebook å¼åçåé¨ç³»ç»è·¨è¯­è¨ç rpc æ¡æ¶ï¼2007 å¹´è´¡ç®ç»äº apache åºéï¼æä¸º apache å¼æºé¡¹ç®ä¹ä¸ï¼æ¯æå¸¸ç¨ç c++ãjavaãphpãpythonãrubyãerlang ç­å¤ç§è¯­è¨ã\n\nä»æçåº¦ä¸æ¥è®²ï¼thrift å ä¸ºè¯ççæ¶é´è¦æ©äº grpcï¼æä»¥ä½¿ç¨çèå´è¦é«äº grpcï¼å¨ hbaseãhadoopãscribeãcassandra ç­è®¸å¤å¼æºç»ä»¶ä¸­é½å¾å°äºå¹¿æ³å°åºç¨ãèä¸ thrift æ¯æå¤è¾¾ 25 ç§è¯­è¨ï¼è¿è¦æ¯ grpc æ¯æçè¯­è¨æ´å¤ï¼æä»¥å¦æéå° grpc ä¸æ¯æçè¯­è¨åºæ¯ä¸ï¼éæ© thrift æ´åéã\n\nä½ grpc ä½ä¸ºåèµ·ä¹ç§ï¼å ä¸ºéç¨äº http/2 ä½ä¸ºéä¿¡åè®®ãprotobuf ä½ä¸ºæ°æ®åºååæ ¼å¼ï¼å¨ç§»å¨ç«¯è®¾å¤çåºç¨ä»¥åå¯¹ä¼ è¾å¸¦å®½æ¯è¾ææçåºæ¯ä¸å·æå¾å¤§çä¼å¿ï¼èä¸å¼åææ¡£ä¸°å¯ï¼æ ¹æ® protobuf æä»¶çæçä»£ç è¦æ¯ thrift æ´ç®æ´ä¸äºï¼ä»ä½¿ç¨é¾æç¨åº¦ä¸æ´å ä¼å¿ï¼æä»¥å¦æä½¿ç¨çè¯­è¨å¹³å° grpc æ¯æçè¯ï¼å»ºè®®è¿æ¯éç¨ grpc æ¯è¾å¥½ã\n\n\n# service mesh\n\n\n\n\n# service mesh çå®ç°åç\n\nservice mesh å®ç°çå³é®å°±å¨äºä¸¤ç¹ï¼\n\nä¸ä¸ªæ¯ä¸é¢æå°çè½»éçº§çç½ç»ä»£çä¹å« sidecarï¼å®çä½ç¨å°±æ¯è½¬åæå¡ä¹é´çè°ç¨ï¼\n\nä¸ä¸ªæ¯åºäº sidecar çæå¡æ²»çä¹è¢«å«ä½ control planeï¼å®çä½ç¨æ¯å sidecar åéåç§æä»¤ï¼ä»¥å®æåç§æå¡æ²»çåè½ãä¸é¢æå°±æ¥è¯¦ç»è®²è§£è¿ä¸¤ç¹æ¯å¦ä½å®ç°çã\n\n\n# åèèµæ\n\n * ä» 0 å¼å§å­¦å¾®æå¡\n * rpc å®æä¸æ ¸å¿åç\n * å¾®æå¡æ¶ææ ¸å¿ 20 è®²\n * è°è°å¾®æå¡ä¸­ç api ç½å³ï¼api gatewayï¼',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"å¾®æå¡",frontmatter:{title:"å¾®æå¡",date:"2021-06-02T11:22:02.000Z",categories:["è®¾è®¡","æ¶æ","å¾®æå¡"],tags:["è®¾è®¡","æ¶æ","å¾®æå¡"],permalink:"/pages/559360/",hidden:!0},regularPath:"/03.%E8%AE%BE%E8%AE%A1/01.%E6%9E%B6%E6%9E%84/01.%E5%BE%AE%E6%9C%8D%E5%8A%A1/",relativePath:"03.è®¾è®¡/01.æ¶æ/01.å¾®æå¡/README.md",key:"v-717c7df2",path:"/pages/559360/",headers:[{level:2,title:"ð åå®¹",slug:"ð-åå®¹",normalizedTitle:"ð åå®¹",charIndex:10},{level:2,title:"ð èµæ",slug:"ð-èµæ",normalizedTitle:"ð èµæ",charIndex:116},{level:2,title:"ðª ä¼ é",slug:"ðª-ä¼ é",normalizedTitle:"ðª ä¼ é",charIndex:419}],headersStr:"ð åå®¹ ð èµæ ðª ä¼ é",content:"# å¾®æå¡\n\n\n# ð åå®¹\n\n * å¾®æå¡ç®ä» - å³é®è¯ï¼å¾®æå¡\n * å¾®æå¡åºæ¬åç - å³é®è¯ï¼å¾®æå¡ãåºååãå¨æä»£çãéä¿¡ãæå¡æ³¨ååç°ãå¥åº·æ£æ¥ãè·¯ç±ãè´è½½åè¡¡ãå®¹éå¤çãä¼éä¸çº¿ä¸çº¿ãéæµãçæ­ãä¸å¡åç»\n\n\n# ð èµæ\n\n * ä¹¦ç±\n   * ãå¤§åç½ç«ææ¯æ¶æï¼æ ¸å¿åçä¸æ¡ä¾åæã - æµæ¾ææçå°è§£å¤§åç½ç«æ¶ææ¼è¿ä¹è·¯ï¼ç®ä»äºå¤§åç³»ç»æé¢ä¸´çææä»¥åæ ¸å¿ææ¯ç¹ã\n   * å¤§åç½ç«ç³»ç»ä¸ Java ä¸­é´ä»¶å®è·µ\n   * äº¿çº§æµéç½ç«æ¶ææ ¸å¿ææ¯ï¼è·å¼æ¶å­¦æ­å»ºé«å¯ç¨é«å¹¶åç³»ç»\n   * ä¼ä¸ IT æ¶æè½¬åä¹éï¼é¿éå·´å·´ä¸­å°æç¥ææ³ä¸æ¶æå®æ - éè¿°é¿éå·´å·´ä¸­å°ç³»ç»åå±ï¼æ´å¤çæ¯è®²è§£åºç¨åºæ¯åè½åï¼æ²¡æè®²è§£ææ¯ç»èã\n   * éæµèä¸ï¼é¿éå·´å·´ææ¯æé¿ä¹è·¯ - ä¸»è¦ä»¥è¿ç»´çè§è§éè¿°ç³»ç»è¿ç»´ä¸­éå°çå°é¾ï¼å®ä½æè·¯ä»¥åè§£å³æ¹æ³ã\n * æç¨\n   * system-design-primer\n\n\n# ðª ä¼ é\n\nâ¾ ð¯ éæçåå®¢ â¾",normalizedContent:"# å¾®æå¡\n\n\n# ð åå®¹\n\n * å¾®æå¡ç®ä» - å³é®è¯ï¼å¾®æå¡\n * å¾®æå¡åºæ¬åç - å³é®è¯ï¼å¾®æå¡ãåºååãå¨æä»£çãéä¿¡ãæå¡æ³¨ååç°ãå¥åº·æ£æ¥ãè·¯ç±ãè´è½½åè¡¡ãå®¹éå¤çãä¼éä¸çº¿ä¸çº¿ãéæµãçæ­ãä¸å¡åç»\n\n\n# ð èµæ\n\n * ä¹¦ç±\n   * ãå¤§åç½ç«ææ¯æ¶æï¼æ ¸å¿åçä¸æ¡ä¾åæã - æµæ¾ææçå°è§£å¤§åç½ç«æ¶ææ¼è¿ä¹è·¯ï¼ç®ä»äºå¤§åç³»ç»æé¢ä¸´çææä»¥åæ ¸å¿ææ¯ç¹ã\n   * å¤§åç½ç«ç³»ç»ä¸ java ä¸­é´ä»¶å®è·µ\n   * äº¿çº§æµéç½ç«æ¶ææ ¸å¿ææ¯ï¼è·å¼æ¶å­¦æ­å»ºé«å¯ç¨é«å¹¶åç³»ç»\n   * ä¼ä¸ it æ¶æè½¬åä¹éï¼é¿éå·´å·´ä¸­å°æç¥ææ³ä¸æ¶æå®æ - éè¿°é¿éå·´å·´ä¸­å°ç³»ç»åå±ï¼æ´å¤çæ¯è®²è§£åºç¨åºæ¯åè½åï¼æ²¡æè®²è§£ææ¯ç»èã\n   * éæµèä¸ï¼é¿éå·´å·´ææ¯æé¿ä¹è·¯ - ä¸»è¦ä»¥è¿ç»´çè§è§éè¿°ç³»ç»è¿ç»´ä¸­éå°çå°é¾ï¼å®ä½æè·¯ä»¥åè§£å³æ¹æ³ã\n * æç¨\n   * system-design-primer\n\n\n# ðª ä¼ é\n\nâ¾ ð¯ éæçåå®¢ â¾",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¤è¯åææ",frontmatter:{title:"è®¤è¯åææ",date:"2021-11-08T08:15:33.000Z",categories:["è®¾è®¡","æ¶æ","å®å¨"],tags:["æ¶æ","å®å¨","è®¤è¯","ææ"],permalink:"/pages/7ac4c5/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/01.%E6%9E%B6%E6%9E%84/02.%E5%AE%89%E5%85%A8/01.%E8%AE%A4%E8%AF%81%E5%92%8C%E6%8E%88%E6%9D%83.html",relativePath:"03.è®¾è®¡/01.æ¶æ/02.å®å¨/01.è®¤è¯åææ.md",key:"v-0d3720dc",path:"/pages/7ac4c5/",headers:[{level:2,title:"åºæ¬æ¦å¿µ",slug:"åºæ¬æ¦å¿µ",normalizedTitle:"åºæ¬æ¦å¿µ",charIndex:46},{level:3,title:"è®¤è¯",slug:"è®¤è¯",normalizedTitle:"è®¤è¯",charIndex:2},{level:3,title:"ææ",slug:"ææ",normalizedTitle:"ææ",charIndex:5},{level:3,title:"é´æ",slug:"é´æ",normalizedTitle:"é´æ",charIndex:1107},{level:3,title:"æéæ§å¶",slug:"æéæ§å¶",normalizedTitle:"æéæ§å¶",charIndex:1534},{level:3,title:"è®¤è¯ãææãé´æåæéæ§å¶çå³ç³»",slug:"è®¤è¯ãææãé´æåæéæ§å¶çå³ç³»",normalizedTitle:"è®¤è¯ãææãé´æåæéæ§å¶çå³ç³»",charIndex:2139},{level:2,title:"JWT",slug:"jwt",normalizedTitle:"jwt",charIndex:38},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:2623}],headersStr:"åºæ¬æ¦å¿µ è®¤è¯ ææ é´æ æéæ§å¶ è®¤è¯ãææãé´æåæéæ§å¶çå³ç³» JWT åèèµæ",content:"# è®¤è¯åææ\n\n> å³é®è¯ï¼SSOãOauth 2.0ãCASãRABCãJWT\n\n\n# åºæ¬æ¦å¿µ\n\n\n# è®¤è¯\n\nè®¤è¯æ¯ææ ¹æ®å£°æèæç¹æçè¯å«ä¿¡æ¯ï¼ç¡®è®¤å£°æèçèº«ä»½ãè®¤è¯å¨è±æä¸­å¯¹åºäº identification è¿ä¸ªåè¯ã\n\næå¸¸è§çè®¤è¯å®ç°æ¹å¼æ¯éè¿ç¨æ·ååå¯ç ï¼ä½è®¤è¯æ¹å¼ä¸éäºæ­¤ãä¸é¢é½æ¯å½åå¸¸è§å°çè®¤è¯ææ¯ï¼\n\n * èº«ä»½è¯\n * ç¨æ·ååå¯ç è®¤è¯\n * ç¨æ·ææºè®¤è¯ï¼ææºç­ä¿¡ãææºäºç»´ç æ«æãæå¿å¯ç \n * ç¨æ·é®ç®±è®¤è¯\n * åºäºæ¶é´åºååç¨æ·ç¸å³çä¸æ¬¡æ§å£ä»¤\n * ç¨æ·ççç©å­¦ç¹å¾è®¤è¯ï¼æçº¹ãè¯­é³ãç¼çè¹è\n * ç¨æ·çå¤§æ°æ®è¯å«è®¤è¯\n * ç­ç­\n\nä¸ºäºç¡®è®¤ç¨æ·çèº«ä»½ï¼é²æ­¢ä¼ªé ï¼å¨å®å¨è¦æ±é«çåºåï¼ç»å¸¸ä¼ä½¿ç¨ç»åè®¤è¯ï¼æèå«å¤å ç´ è®¤è¯ï¼ï¼ä¹å°±æ¯åæ¶ä½¿ç¨å¤ä¸ªè®¤è¯æ¹å¼å¯¹ç¨æ·çèº«ä»½è¿è¡æ ¡éªã\n\n\n# ææ\n\nç®åæ¥è¯´ï¼ææä¸è¬æ¯æè·åç¨æ·çå§æ´¾æéãå¨è±æä¸­å¯¹åºäº authorization è¿ä¸ªåè¯ã\n\nå¨ä¿¡æ¯å®å¨é¢åï¼æææ¯æèµæºææèå§æ´¾æ§è¡èï¼èµäºæ§è¡èæå®èå´çèµæºæä½æéï¼ä»¥ä¾¿æ§è¡èä»£çæ§è¡å¯¹èµæºçç¸å³æä½ãè¿éé¢åå«æå¦ä¸åä¸ªéè¦æ¦å¿µï¼\n\n * èµæºææèï¼æ¥æèµæºçæææå©ï¼ä¸è¬å°±æ¯èµæºçæ¥æèã\n * èµæºæ§è¡èï¼è¢«å§æ´¾å»æ§è¡èµæºçç¸å³æä½ã\n * æä½æéï¼å¯ä»¥å¯¹èµæºè¿è¡çæç§æä½ã\n * èµæºï¼æä»·å¼çä¿¡æ¯ææ°æ®ç­ï¼åå°å®å¨ä¿æ¤ã\n\néè¦è¯´æçæ¯ï¼èµæºææèåæ§è¡èå¯ä»¥æ¯èªç¶äººï¼å°±æ¯æ®éç¨æ·ï¼ä½ä¸éäºèªç¶äººãå¨ä¿¡æ¯å®å¨é¢åï¼èµæºææèåæ§è¡èï¼å¾å¤æ¶åæ¯åºç¨ç¨åºæèæºå¨ãæ¯å¦ç¨æ·å¨æµè§å¨ä¸ç»å½ä¸ä¸ªç½ç«ï¼é£ä¹è¿ä¸ªæµè§å¨å°±æä¸ºä¸ä¸ªæ§è¡èï¼å®å¨ç¨æ·ç»å½åè·åäºç¨æ·çææï¼ä»£è¡¨çç¨æ·æ§è¡åç§æä»¤ï¼è¿è¡è´­ç©ãä¸åãä»é±ãè½¬è´¦ç­ç­æä½ã\n\nåæ¶ï¼èµæºææèåæ§è¡èå¯ä»¥æ¯åå¼çä¸åå®ä½ï¼ä¹å¯ä»¥æ¯åä¸ä¸ªãè¥æ¯åå¼çä¸¤èï¼åèµæºæ§è¡èæ¯ä»¥èµæºææèçä»£çå½¢å¼èå­å¨ã\n\nææçå®ç°æ¹å¼éå¸¸å¤ä¹å¾å¹¿æ³ï¼æä»¬å¸¸è§çé¶è¡å¡ãé¨ç¦å¡ãé¥åãå¬è¯ä¹¦ï¼è¿äºé½æ¯ç°å®çæ´»ä¸­ææçå®ç°æ¹å¼ãå¶å®ç°æ¹å¼ä¸»è¦éè¿ä¸ä¸ªå±ä¿¡çåªä»å®æï¼è¿ä¸ªåªä»ä¸å¯è¢«ç¯¡æ¹ï¼ä¸å¯éæä¼ªé ï¼å¾å¤æ¶åéè¦åä¿æ¤ï¼é²æ­¢è¢«çªåã\n\nå¨äºèç½åºç¨å¼åé¢åï¼æææç¨å°çæä¿¡åªä»ä¸»è¦åæ¬å¦ä¸å ç§ï¼\n\n * éè¿ web æå¡å¨ç session æºå¶ï¼ä¸ä¸ªè®¿é®ä¼è¯ä¿æçç¨æ·çææä¿¡æ¯\n * éè¿ web æµè§å¨ç cookie æºå¶ï¼ä¸ä¸ªç½ç«ç cookie ä¿æçç¨æ·çææä¿¡æ¯\n * é¢åææä»¤çï¼tokenï¼ï¼ä¸ä¸ªåæ³ææçä»¤çä¸­ä¿æçç¨æ·çææä¿¡æ¯\n\nåé¢ä¸¤èå¸¸è§äº web å¼åï¼éè¦ææµè§å¨çæ¯æã\n\n\n# é´æ\n\né´ææ¯æå¯¹äºä¸ä¸ªå£°æèæå£°æçèº«ä»½æå©ï¼å¯¹å¶æå£°æççå®æ§è¿è¡é´å«ç¡®è®¤çè¿ç¨ãå¨è±æä¸­å¯¹åºäº authentication è¿ä¸ªåè¯ã\n\né´æä¸»è¦æ¯å¯¹å£°æèæå£°æççå®æ§è¿è¡æ ¡éªãè¥ä»ææåºåï¼åä¼æ´å å®¹æçè§£é´æãææåé´ææ¯ä¸¤ä¸ªä¸ä¸æ¸¸ç¸å¹éçå³ç³»ï¼åææï¼åé´æãææåé´æä¸¤ä¸ªè¯ä¸­çâæâï¼æ¯åä¸ä¸ªæ¦å¿µï¼å°±æ¯æå§æ´¾çæå©ï¼å¨å®ç°ä¸å³ä¸ºæä¿¡åªä»çè¡¨è¾¾å½¢å¼ã\n\nå æ­¤ï¼é´æçå®ç°æ¹å¼æ¯åæææ¹å¼æä¸ä¸å¯¹åºå³ç³»ãå¯¹æææé¢åæä¿¡åªä»è¿è¡è§£æï¼ç¡®è®¤å¶çå®æ§ãä¸é¢æ¯é´æçä¸äºå®ç°æ¹å¼ï¼\n\n * é¨ç¦å¡ï¼éè¿é¨ç¦å¡è¯å«å¨\n * é¥åï¼éè¿ç¸å¹éçé\n * é¶è¡å¡ï¼éè¿é¶è¡å¡è¯å«å¨\n * äºèç½ web å¼åé¢åç session/cookie/tokenï¼æ ¡éª session/cookie/token çåæ³æ§åæææ§\n\né´ææ¯ä¸ä¸ªæ¿ä¸å¯ä¸çä¸ä¸ªç¯èï¼ä¸æ¸¸å®æ¥åææçè¾åºï¼æ ¡éªå¶çå®æ§åï¼ç¶åè·åæéï¼permissionï¼ï¼è¿ä¸ªå°ä¼ä¸ºä¸ä¸æ­¥çæéæ§å¶åå¥½åå¤ã\n\n\n# æéæ§å¶\n\næéæ§å¶æ¯æå¯¹å¯æ§è¡çåç§æä½ç»åéç½®ä¸ºæéåè¡¨ï¼ç¶åæ ¹æ®æ§è¡èçæéï¼è¥å¶æä½å¨æéèå´åï¼ååè®¸æ§è¡ï¼å¦åç¦æ­¢ãæéæ§å¶å¨è±æä¸­å¯¹åºäº access/permission controlã\n\nå¯¹äºæéæ§å¶ï¼å¯ä»¥åä¸ºä¸¤é¨åè¿è¡çè§£ï¼ä¸ä¸ªæ¯æéï¼å¦ä¸ä¸ªæ¯æ§å¶ãæéæ¯æ½è±¡çé»è¾æ¦å¿µï¼èæ§å¶æ¯å·ä½çå®ç°æ¹å¼ã\n\nåçæéï¼Permissionï¼ï¼è¿æ¯ä¸ä¸ªæ½è±¡çæ¦å¿µï¼ä¸è¬é¢åå®ä¹åéç½®å¥½ï¼ä»¥ä¾¿æ§å¶çå·ä½å®ç°ãæéçå®ä¹ï¼è¥ç®åç¹ï¼å¯ä»¥ç´æ¥å¯¹åºäºä¸ä¸ªå¯æ§è¡çæä½éåãèä¸è¬æåµä¸ï¼ä¼æåºäºè§è²çæ¹å¼æ¥å®ä¹æéï¼ç±è§è²æ¥å°è£å¯æ§è¡çæä½éåã\n\nè¥ä»¥é¨ç¦å¡çæéå®ç°ä¸ºä¾ï¼ä¸è¿°ä¸¤ç§å®ä¹æ¹å¼åå¯ä»¥åèªè¡¨è¾¾ä¸ºï¼\n\n * è¿æ¯ä¸ä¸ªé¨ç¦å¡ï¼æ¥æå¼å¬å¸ææçé¨çæé\n * è¿æ¯ä¸ä¸ªé¨ç¦å¡ï¼æ¥æç®¡çåè§è²çæéï¼å èå¯ä»¥å¼å¬å¸ææçé¨\n\nå¯ä»¥çå°ï¼æéä½ä¸ºä¸ä¸ªæ½è±¡çæ¦å¿µï¼å°æ§è¡èåå¯å·ä½æ§è¡çæä½ç¸åç¦»ã\n\nå¨ä¸æçè®¨è®ºä¸­ï¼é´æçè¾åºæ¯æéï¼Permissionï¼ãä¸æ¦æäºæéï¼ä¾¿ç¥éäºå¯æ§è¡çæä½ï¼æ¥ä¸æ¥å°±æ¯æ§å¶çäºæäºã\n\nå¯¹äºæ§å¶ï¼æ¯æ ¹æ®æ§è¡èçæéï¼å¯¹å¶ææ§è¡çæä½è¿è¡å¤æ­ï¼å³å®åè®¸æç¦æ­¢å½åæä½çæ§è¡ãç°å®çæ´»ä¸­æ§å¶çå®ç°æ¹å¼ï¼å¤ç§å¤æ ·ï¼\n\n * é¨ç¦ï¼æ§å¶é¨çå¼å³\n * èªè¡è½¦éï¼æ§å¶è½¦è½®\n * äºèç½ web åç«¯æå¡ï¼æ§å¶æ¥å£è®¿é®ï¼åè®¸ææç»è®¿é®è¯·æ±\n\n\n# è®¤è¯ãææãé´æåæéæ§å¶çå³ç³»\n\nè®¤è¯ãææãé´æåæéæ§å¶è¿åä¸ªç¯èæ¯ä¸ä¸ªååä¾æ¬¡åçãä¸ä¸æ¸¸çå³ç³»ï¼\n\nè®¤è¯--\x3eææ--\x3eé´æ--\x3eæéæ§å¶\n\néè¦è¯´æçæ¯ï¼è¿åä¸ªç¯èå¨æäºæ¶åä¼åæ¶åçã ä¾å¦å¨ä¸é¢çå ä¸ªåºæ¯ï¼\n\n * ä½¿ç¨é¨ç¦å¡å¼é¨ï¼è®¤è¯ãææãé´æãæéæ§å¶åä¸ªç¯èä¸æ°åµæï¼å¨ç¬é´åæ¶åç\n * ç¨æ·çç½ç«ç»å½ï¼ç¨æ·å¨ä½¿ç¨ç¨æ·ååå¯ç è¿è¡ç»å½æ¶ï¼è®¤è¯åææä¸¤ä¸ªç¯èä¸åå®æï¼èé´æåæéæ§å¶ååçå¨åç»­çè¯·æ±è®¿é®ä¸­ï¼æ¯å¦å¨éè´­ç©åææ¯ä»æ¶ã\n\næ è®ºææ ·ï¼è¥ä»æ¶é´é¡ºåºæ¹é¢æ¥çï¼è¿åä¸ªç¯èæ¯ææ¶é´ååãä¾æ¬¡ç¸ç»§åççå³ç³»ã\n\nè®¤è¯åé´æçå³ç³»ï¼\n\nè¿ä¸¤ä¸ªæ¦å¿µå¨å¾å¤æ¶åæ¯è¢«æ··æ·æå¤çæ¦å¿µãè¢«æ··æ·çä¸»è¦åå ï¼å¦ä¸ææè¿°ï¼å¾å¤æ¶åè®¤è¯ãææãé´æåæéæ§å¶ä¸ååçï¼ä»¥è³äºè¢«è¯¯è§£ä¸ºï¼è®¤è¯å°±æ¯é´æï¼é´æå°±æ¯è®¤è¯ã\n\nå¶å®ä¸¤èæ¯ä¸ä¸æ ·çæ¦å¿µï¼ä¸¤èé½æå¯¹èº«ä»½çç¡®è®¤è¿ç¨ï¼ä½æ¯ä¸¤èçä¸»è¦åºå«å¨äºï¼\n\n * è®¤è¯æ¯ç¡®è®¤å£°æèçæ¬èº«èº«ä»½ï¼å¶ä½ä¸ºææçä¸æ¸¸è¡æ¥èå­å¨\n * é´ææ¯å¯¹å£°æèæå£°æççå®æ§è¿è¡ç¡®è®¤çè¿ç¨ï¼å¶ä½ä¸ºææçä¸æ¸¸è¡æ¥èå­å¨\n\n\n# JWT\n\n\n# åèèµæ\n\nçè§£ OAuth 2.0",normalizedContent:"# è®¤è¯åææ\n\n> å³é®è¯ï¼ssoãoauth 2.0ãcasãrabcãjwt\n\n\n# åºæ¬æ¦å¿µ\n\n\n# è®¤è¯\n\nè®¤è¯æ¯ææ ¹æ®å£°æèæç¹æçè¯å«ä¿¡æ¯ï¼ç¡®è®¤å£°æèçèº«ä»½ãè®¤è¯å¨è±æä¸­å¯¹åºäº identification è¿ä¸ªåè¯ã\n\næå¸¸è§çè®¤è¯å®ç°æ¹å¼æ¯éè¿ç¨æ·ååå¯ç ï¼ä½è®¤è¯æ¹å¼ä¸éäºæ­¤ãä¸é¢é½æ¯å½åå¸¸è§å°çè®¤è¯ææ¯ï¼\n\n * èº«ä»½è¯\n * ç¨æ·ååå¯ç è®¤è¯\n * ç¨æ·ææºè®¤è¯ï¼ææºç­ä¿¡ãææºäºç»´ç æ«æãæå¿å¯ç \n * ç¨æ·é®ç®±è®¤è¯\n * åºäºæ¶é´åºååç¨æ·ç¸å³çä¸æ¬¡æ§å£ä»¤\n * ç¨æ·ççç©å­¦ç¹å¾è®¤è¯ï¼æçº¹ãè¯­é³ãç¼çè¹è\n * ç¨æ·çå¤§æ°æ®è¯å«è®¤è¯\n * ç­ç­\n\nä¸ºäºç¡®è®¤ç¨æ·çèº«ä»½ï¼é²æ­¢ä¼ªé ï¼å¨å®å¨è¦æ±é«çåºåï¼ç»å¸¸ä¼ä½¿ç¨ç»åè®¤è¯ï¼æèå«å¤å ç´ è®¤è¯ï¼ï¼ä¹å°±æ¯åæ¶ä½¿ç¨å¤ä¸ªè®¤è¯æ¹å¼å¯¹ç¨æ·çèº«ä»½è¿è¡æ ¡éªã\n\n\n# ææ\n\nç®åæ¥è¯´ï¼ææä¸è¬æ¯æè·åç¨æ·çå§æ´¾æéãå¨è±æä¸­å¯¹åºäº authorization è¿ä¸ªåè¯ã\n\nå¨ä¿¡æ¯å®å¨é¢åï¼æææ¯æèµæºææèå§æ´¾æ§è¡èï¼èµäºæ§è¡èæå®èå´çèµæºæä½æéï¼ä»¥ä¾¿æ§è¡èä»£çæ§è¡å¯¹èµæºçç¸å³æä½ãè¿éé¢åå«æå¦ä¸åä¸ªéè¦æ¦å¿µï¼\n\n * èµæºææèï¼æ¥æèµæºçæææå©ï¼ä¸è¬å°±æ¯èµæºçæ¥æèã\n * èµæºæ§è¡èï¼è¢«å§æ´¾å»æ§è¡èµæºçç¸å³æä½ã\n * æä½æéï¼å¯ä»¥å¯¹èµæºè¿è¡çæç§æä½ã\n * èµæºï¼æä»·å¼çä¿¡æ¯ææ°æ®ç­ï¼åå°å®å¨ä¿æ¤ã\n\néè¦è¯´æçæ¯ï¼èµæºææèåæ§è¡èå¯ä»¥æ¯èªç¶äººï¼å°±æ¯æ®éç¨æ·ï¼ä½ä¸éäºèªç¶äººãå¨ä¿¡æ¯å®å¨é¢åï¼èµæºææèåæ§è¡èï¼å¾å¤æ¶åæ¯åºç¨ç¨åºæèæºå¨ãæ¯å¦ç¨æ·å¨æµè§å¨ä¸ç»å½ä¸ä¸ªç½ç«ï¼é£ä¹è¿ä¸ªæµè§å¨å°±æä¸ºä¸ä¸ªæ§è¡èï¼å®å¨ç¨æ·ç»å½åè·åäºç¨æ·çææï¼ä»£è¡¨çç¨æ·æ§è¡åç§æä»¤ï¼è¿è¡è´­ç©ãä¸åãä»é±ãè½¬è´¦ç­ç­æä½ã\n\nåæ¶ï¼èµæºææèåæ§è¡èå¯ä»¥æ¯åå¼çä¸åå®ä½ï¼ä¹å¯ä»¥æ¯åä¸ä¸ªãè¥æ¯åå¼çä¸¤èï¼åèµæºæ§è¡èæ¯ä»¥èµæºææèçä»£çå½¢å¼èå­å¨ã\n\nææçå®ç°æ¹å¼éå¸¸å¤ä¹å¾å¹¿æ³ï¼æä»¬å¸¸è§çé¶è¡å¡ãé¨ç¦å¡ãé¥åãå¬è¯ä¹¦ï¼è¿äºé½æ¯ç°å®çæ´»ä¸­ææçå®ç°æ¹å¼ãå¶å®ç°æ¹å¼ä¸»è¦éè¿ä¸ä¸ªå±ä¿¡çåªä»å®æï¼è¿ä¸ªåªä»ä¸å¯è¢«ç¯¡æ¹ï¼ä¸å¯éæä¼ªé ï¼å¾å¤æ¶åéè¦åä¿æ¤ï¼é²æ­¢è¢«çªåã\n\nå¨äºèç½åºç¨å¼åé¢åï¼æææç¨å°çæä¿¡åªä»ä¸»è¦åæ¬å¦ä¸å ç§ï¼\n\n * éè¿ web æå¡å¨ç session æºå¶ï¼ä¸ä¸ªè®¿é®ä¼è¯ä¿æçç¨æ·çææä¿¡æ¯\n * éè¿ web æµè§å¨ç cookie æºå¶ï¼ä¸ä¸ªç½ç«ç cookie ä¿æçç¨æ·çææä¿¡æ¯\n * é¢åææä»¤çï¼tokenï¼ï¼ä¸ä¸ªåæ³ææçä»¤çä¸­ä¿æçç¨æ·çææä¿¡æ¯\n\nåé¢ä¸¤èå¸¸è§äº web å¼åï¼éè¦ææµè§å¨çæ¯æã\n\n\n# é´æ\n\né´ææ¯æå¯¹äºä¸ä¸ªå£°æèæå£°æçèº«ä»½æå©ï¼å¯¹å¶æå£°æççå®æ§è¿è¡é´å«ç¡®è®¤çè¿ç¨ãå¨è±æä¸­å¯¹åºäº authentication è¿ä¸ªåè¯ã\n\né´æä¸»è¦æ¯å¯¹å£°æèæå£°æççå®æ§è¿è¡æ ¡éªãè¥ä»ææåºåï¼åä¼æ´å å®¹æçè§£é´æãææåé´ææ¯ä¸¤ä¸ªä¸ä¸æ¸¸ç¸å¹éçå³ç³»ï¼åææï¼åé´æãææåé´æä¸¤ä¸ªè¯ä¸­çâæâï¼æ¯åä¸ä¸ªæ¦å¿µï¼å°±æ¯æå§æ´¾çæå©ï¼å¨å®ç°ä¸å³ä¸ºæä¿¡åªä»çè¡¨è¾¾å½¢å¼ã\n\nå æ­¤ï¼é´æçå®ç°æ¹å¼æ¯åæææ¹å¼æä¸ä¸å¯¹åºå³ç³»ãå¯¹æææé¢åæä¿¡åªä»è¿è¡è§£æï¼ç¡®è®¤å¶çå®æ§ãä¸é¢æ¯é´æçä¸äºå®ç°æ¹å¼ï¼\n\n * é¨ç¦å¡ï¼éè¿é¨ç¦å¡è¯å«å¨\n * é¥åï¼éè¿ç¸å¹éçé\n * é¶è¡å¡ï¼éè¿é¶è¡å¡è¯å«å¨\n * äºèç½ web å¼åé¢åç session/cookie/tokenï¼æ ¡éª session/cookie/token çåæ³æ§åæææ§\n\né´ææ¯ä¸ä¸ªæ¿ä¸å¯ä¸çä¸ä¸ªç¯èï¼ä¸æ¸¸å®æ¥åææçè¾åºï¼æ ¡éªå¶çå®æ§åï¼ç¶åè·åæéï¼permissionï¼ï¼è¿ä¸ªå°ä¼ä¸ºä¸ä¸æ­¥çæéæ§å¶åå¥½åå¤ã\n\n\n# æéæ§å¶\n\næéæ§å¶æ¯æå¯¹å¯æ§è¡çåç§æä½ç»åéç½®ä¸ºæéåè¡¨ï¼ç¶åæ ¹æ®æ§è¡èçæéï¼è¥å¶æä½å¨æéèå´åï¼ååè®¸æ§è¡ï¼å¦åç¦æ­¢ãæéæ§å¶å¨è±æä¸­å¯¹åºäº access/permission controlã\n\nå¯¹äºæéæ§å¶ï¼å¯ä»¥åä¸ºä¸¤é¨åè¿è¡çè§£ï¼ä¸ä¸ªæ¯æéï¼å¦ä¸ä¸ªæ¯æ§å¶ãæéæ¯æ½è±¡çé»è¾æ¦å¿µï¼èæ§å¶æ¯å·ä½çå®ç°æ¹å¼ã\n\nåçæéï¼permissionï¼ï¼è¿æ¯ä¸ä¸ªæ½è±¡çæ¦å¿µï¼ä¸è¬é¢åå®ä¹åéç½®å¥½ï¼ä»¥ä¾¿æ§å¶çå·ä½å®ç°ãæéçå®ä¹ï¼è¥ç®åç¹ï¼å¯ä»¥ç´æ¥å¯¹åºäºä¸ä¸ªå¯æ§è¡çæä½éåãèä¸è¬æåµä¸ï¼ä¼æåºäºè§è²çæ¹å¼æ¥å®ä¹æéï¼ç±è§è²æ¥å°è£å¯æ§è¡çæä½éåã\n\nè¥ä»¥é¨ç¦å¡çæéå®ç°ä¸ºä¾ï¼ä¸è¿°ä¸¤ç§å®ä¹æ¹å¼åå¯ä»¥åèªè¡¨è¾¾ä¸ºï¼\n\n * è¿æ¯ä¸ä¸ªé¨ç¦å¡ï¼æ¥æå¼å¬å¸ææçé¨çæé\n * è¿æ¯ä¸ä¸ªé¨ç¦å¡ï¼æ¥æç®¡çåè§è²çæéï¼å èå¯ä»¥å¼å¬å¸ææçé¨\n\nå¯ä»¥çå°ï¼æéä½ä¸ºä¸ä¸ªæ½è±¡çæ¦å¿µï¼å°æ§è¡èåå¯å·ä½æ§è¡çæä½ç¸åç¦»ã\n\nå¨ä¸æçè®¨è®ºä¸­ï¼é´æçè¾åºæ¯æéï¼permissionï¼ãä¸æ¦æäºæéï¼ä¾¿ç¥éäºå¯æ§è¡çæä½ï¼æ¥ä¸æ¥å°±æ¯æ§å¶çäºæäºã\n\nå¯¹äºæ§å¶ï¼æ¯æ ¹æ®æ§è¡èçæéï¼å¯¹å¶ææ§è¡çæä½è¿è¡å¤æ­ï¼å³å®åè®¸æç¦æ­¢å½åæä½çæ§è¡ãç°å®çæ´»ä¸­æ§å¶çå®ç°æ¹å¼ï¼å¤ç§å¤æ ·ï¼\n\n * é¨ç¦ï¼æ§å¶é¨çå¼å³\n * èªè¡è½¦éï¼æ§å¶è½¦è½®\n * äºèç½ web åç«¯æå¡ï¼æ§å¶æ¥å£è®¿é®ï¼åè®¸ææç»è®¿é®è¯·æ±\n\n\n# è®¤è¯ãææãé´æåæéæ§å¶çå³ç³»\n\nè®¤è¯ãææãé´æåæéæ§å¶è¿åä¸ªç¯èæ¯ä¸ä¸ªååä¾æ¬¡åçãä¸ä¸æ¸¸çå³ç³»ï¼\n\nè®¤è¯--\x3eææ--\x3eé´æ--\x3eæéæ§å¶\n\néè¦è¯´æçæ¯ï¼è¿åä¸ªç¯èå¨æäºæ¶åä¼åæ¶åçã ä¾å¦å¨ä¸é¢çå ä¸ªåºæ¯ï¼\n\n * ä½¿ç¨é¨ç¦å¡å¼é¨ï¼è®¤è¯ãææãé´æãæéæ§å¶åä¸ªç¯èä¸æ°åµæï¼å¨ç¬é´åæ¶åç\n * ç¨æ·çç½ç«ç»å½ï¼ç¨æ·å¨ä½¿ç¨ç¨æ·ååå¯ç è¿è¡ç»å½æ¶ï¼è®¤è¯åææä¸¤ä¸ªç¯èä¸åå®æï¼èé´æåæéæ§å¶ååçå¨åç»­çè¯·æ±è®¿é®ä¸­ï¼æ¯å¦å¨éè´­ç©åææ¯ä»æ¶ã\n\næ è®ºææ ·ï¼è¥ä»æ¶é´é¡ºåºæ¹é¢æ¥çï¼è¿åä¸ªç¯èæ¯ææ¶é´ååãä¾æ¬¡ç¸ç»§åççå³ç³»ã\n\nè®¤è¯åé´æçå³ç³»ï¼\n\nè¿ä¸¤ä¸ªæ¦å¿µå¨å¾å¤æ¶åæ¯è¢«æ··æ·æå¤çæ¦å¿µãè¢«æ··æ·çä¸»è¦åå ï¼å¦ä¸ææè¿°ï¼å¾å¤æ¶åè®¤è¯ãææãé´æåæéæ§å¶ä¸ååçï¼ä»¥è³äºè¢«è¯¯è§£ä¸ºï¼è®¤è¯å°±æ¯é´æï¼é´æå°±æ¯è®¤è¯ã\n\nå¶å®ä¸¤èæ¯ä¸ä¸æ ·çæ¦å¿µï¼ä¸¤èé½æå¯¹èº«ä»½çç¡®è®¤è¿ç¨ï¼ä½æ¯ä¸¤èçä¸»è¦åºå«å¨äºï¼\n\n * è®¤è¯æ¯ç¡®è®¤å£°æèçæ¬èº«èº«ä»½ï¼å¶ä½ä¸ºææçä¸æ¸¸è¡æ¥èå­å¨\n * é´ææ¯å¯¹å£°æèæå£°æççå®æ§è¿è¡ç¡®è®¤çè¿ç¨ï¼å¶ä½ä¸ºææçä¸æ¸¸è¡æ¥èå­å¨\n\n\n# jwt\n\n\n# åèèµæ\n\nçè§£ oauth 2.0",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"OAuth 2.0",frontmatter:{title:"OAuth 2.0",date:"2021-11-08T08:15:33.000Z",categories:["è®¾è®¡","æ¶æ","å®å¨"],tags:["æ¶æ","å®å¨","è®¤è¯","ææ","OAuth 2.0"],permalink:"/pages/21bd0a/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/01.%E6%9E%B6%E6%9E%84/02.%E5%AE%89%E5%85%A8/02.OAuth2.0.html",relativePath:"03.è®¾è®¡/01.æ¶æ/02.å®å¨/02.OAuth2.0.md",key:"v-04b48643",path:"/pages/21bd0a/",headers:[{level:2,title:"ææç æ¨¡å¼",slug:"ææç æ¨¡å¼",normalizedTitle:"ææç æ¨¡å¼",charIndex:251},{level:2,title:"éèæ¨¡å¼",slug:"éèæ¨¡å¼",normalizedTitle:"éèæ¨¡å¼",charIndex:538},{level:2,title:"å¯ç æ¨¡å¼",slug:"å¯ç æ¨¡å¼",normalizedTitle:"å¯ç æ¨¡å¼",charIndex:298},{level:2,title:"å®¢æ·ç«¯å­è¯æ¨¡å¼",slug:"å®¢æ·ç«¯å­è¯æ¨¡å¼",normalizedTitle:"å®¢æ·ç«¯å­è¯æ¨¡å¼",charIndex:757},{level:2,title:"ä»¤ççä½¿ç¨",slug:"ä»¤ççä½¿ç¨",normalizedTitle:"ä»¤ççä½¿ç¨",charIndex:796},{level:2,title:"ä»¤ççæ´æ°",slug:"ä»¤ççæ´æ°",normalizedTitle:"ä»¤ççæ´æ°",charIndex:806},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:1029}],headersStr:"ææç æ¨¡å¼ éèæ¨¡å¼ å¯ç æ¨¡å¼ å®¢æ·ç«¯å­è¯æ¨¡å¼ ä»¤ççä½¿ç¨ ä»¤ççæ´æ° åèèµæ",content:'# OAuth 2.0\n\n> OAuth æ¯ä¸ä¸ªå³äºææï¼authorizationï¼çå¼æ¾ç½ç»æ åï¼å¨å¨ä¸çå¾å°å¹¿æ³åºç¨ï¼ç®åççæ¬æ¯ 2.0 çã\n\nç®åæ¥è¯´ï¼OAuth æ¯ä¸ç§æææºå¶ãèµæºçææèåè¯ç³»ç»ï¼åæææç¬¬ä¸æ¹åºç¨è¿å¥ç³»ç»ï¼è®¿é®è¿äºèµæºãç³»ç»ä»èäº§çä¸ä¸ªç­æçè¿å¥ä»¤çï¼tokenï¼ï¼ç¨æ¥ä»£æ¿å¯ç ï¼ä¾ç¬¬ä¸æ¹åºç¨ä½¿ç¨ã\n\nå®¢æ·ç«¯å¿é¡»å¾å°ç¨æ·çææï¼authorization grantï¼ï¼æè½è·å¾ä»¤çï¼access tokenï¼ã\n\nOAuth 2.0 å®ä¹äºåç§æææ¹å¼ã\n\n * ææç æ¨¡å¼ï¼authorization codeï¼\n * ç®åæ¨¡å¼ï¼implicitï¼\n * å¯ç æ¨¡å¼ï¼resource owner password credentialsï¼\n * å®¢æ·ç«¯æ¨¡å¼ï¼client credentialsï¼\n\n\n# ææç æ¨¡å¼\n\nææç ï¼authorization codeï¼æ¹å¼ï¼æçæ¯ç¬¬ä¸æ¹åºç¨åç³è¯·ä¸ä¸ªææç ï¼ç¶ååç¨è¯¥ææç è·åä»¤çã\n\nè¿ç§æ¹å¼æ¯æå¸¸ç¨çæµç¨ï¼å®å¨æ§ä¹æé«ï¼å®éç¨äºé£äºæåç«¯ç Web åºç¨ãææç éè¿åç«¯ä¼ éï¼ä»¤çåæ¯å¨å­å¨åç«¯ï¼èä¸ææä¸èµæºæå¡å¨çéä¿¡é½å¨åç«¯å®æãè¿æ ·çååç«¯åç¦»ï¼å¯ä»¥é¿åä»¤çæ³æ¼ã\n\n\n# éèæ¨¡å¼\n\næäº Web åºç¨æ¯çº¯åç«¯åºç¨ï¼æ²¡æåç«¯ãè¿æ¶å°±ä¸è½ç¨ä¸é¢çæ¹å¼äºï¼å¿é¡»å°ä»¤çå¨å­å¨åç«¯ãRFC 6749 å°±è§å®äºç¬¬äºç§æ¹å¼ï¼åè®¸ç´æ¥ååç«¯é¢åä»¤çãè¿ç§æ¹å¼æ²¡æææç è¿ä¸ªä¸­é´æ­¥éª¤ï¼æä»¥ç§°ä¸ºï¼ææç ï¼"éèå¼"ï¼implicitï¼ã\n\n\n# å¯ç æ¨¡å¼\n\nå¦æä½ é«åº¦ä¿¡ä»»æä¸ªåºç¨ï¼RFC 6749 ä¹åè®¸ç¨æ·æç¨æ·ååå¯ç ï¼ç´æ¥åè¯è¯¥åºç¨ãè¯¥åºç¨å°±ä½¿ç¨ä½ çå¯ç ï¼ç³è¯·ä»¤çï¼è¿ç§æ¹å¼ç§°ä¸º"å¯ç å¼"ï¼passwordï¼ã\n\n\n# å®¢æ·ç«¯å­è¯æ¨¡å¼\n\néç¨äºæ²¡æåç«¯çå½ä»¤è¡åºç¨ï¼å³å¨å½ä»¤è¡ä¸è¯·æ±ä»¤çã\n\n\n# ä»¤ççä½¿ç¨\n\n\n# ä»¤ççæ´æ°\n\nå¦æç¨æ·è®¿é®çæ¶åï¼å®¢æ·ç«¯ç"è®¿é®ä»¤ç"å·²ç»è¿æï¼åéè¦ä½¿ç¨"æ´æ°ä»¤ç"ç³è¯·ä¸ä¸ªæ°çè®¿é®ä»¤çã\n\nå®¢æ·ç«¯ååºæ´æ°ä»¤çç HTTP è¯·æ±ï¼åå«ä»¥ä¸åæ°ï¼\n\n * granttypeï¼è¡¨ç¤ºä½¿ç¨çæææ¨¡å¼ï¼æ­¤å¤çå¼åºå®ä¸º"refreshtoken"ï¼å¿éé¡¹ã\n * refresh_tokenï¼è¡¨ç¤ºæ©åæ¶å°çæ´æ°ä»¤çï¼å¿éé¡¹ã\n * scopeï¼è¡¨ç¤ºç³è¯·çææèå´ï¼ä¸å¯ä»¥è¶åºä¸ä¸æ¬¡ç³è¯·çèå´ï¼å¦æçç¥è¯¥åæ°ï¼åè¡¨ç¤ºä¸ä¸ä¸æ¬¡ä¸è´\n\n\n# åèèµæ\n\n * RFC 6749\n * OAuth 2.0 çä¸ä¸ªç®åè§£é\n * çè§£ OAuth 2.0\n * The Simplest Guide To OAuth 2.0',normalizedContent:'# oauth 2.0\n\n> oauth æ¯ä¸ä¸ªå³äºææï¼authorizationï¼çå¼æ¾ç½ç»æ åï¼å¨å¨ä¸çå¾å°å¹¿æ³åºç¨ï¼ç®åççæ¬æ¯ 2.0 çã\n\nç®åæ¥è¯´ï¼oauth æ¯ä¸ç§æææºå¶ãèµæºçææèåè¯ç³»ç»ï¼åæææç¬¬ä¸æ¹åºç¨è¿å¥ç³»ç»ï¼è®¿é®è¿äºèµæºãç³»ç»ä»èäº§çä¸ä¸ªç­æçè¿å¥ä»¤çï¼tokenï¼ï¼ç¨æ¥ä»£æ¿å¯ç ï¼ä¾ç¬¬ä¸æ¹åºç¨ä½¿ç¨ã\n\nå®¢æ·ç«¯å¿é¡»å¾å°ç¨æ·çææï¼authorization grantï¼ï¼æè½è·å¾ä»¤çï¼access tokenï¼ã\n\noauth 2.0 å®ä¹äºåç§æææ¹å¼ã\n\n * ææç æ¨¡å¼ï¼authorization codeï¼\n * ç®åæ¨¡å¼ï¼implicitï¼\n * å¯ç æ¨¡å¼ï¼resource owner password credentialsï¼\n * å®¢æ·ç«¯æ¨¡å¼ï¼client credentialsï¼\n\n\n# ææç æ¨¡å¼\n\nææç ï¼authorization codeï¼æ¹å¼ï¼æçæ¯ç¬¬ä¸æ¹åºç¨åç³è¯·ä¸ä¸ªææç ï¼ç¶ååç¨è¯¥ææç è·åä»¤çã\n\nè¿ç§æ¹å¼æ¯æå¸¸ç¨çæµç¨ï¼å®å¨æ§ä¹æé«ï¼å®éç¨äºé£äºæåç«¯ç web åºç¨ãææç éè¿åç«¯ä¼ éï¼ä»¤çåæ¯å¨å­å¨åç«¯ï¼èä¸ææä¸èµæºæå¡å¨çéä¿¡é½å¨åç«¯å®æãè¿æ ·çååç«¯åç¦»ï¼å¯ä»¥é¿åä»¤çæ³æ¼ã\n\n\n# éèæ¨¡å¼\n\næäº web åºç¨æ¯çº¯åç«¯åºç¨ï¼æ²¡æåç«¯ãè¿æ¶å°±ä¸è½ç¨ä¸é¢çæ¹å¼äºï¼å¿é¡»å°ä»¤çå¨å­å¨åç«¯ãrfc 6749 å°±è§å®äºç¬¬äºç§æ¹å¼ï¼åè®¸ç´æ¥ååç«¯é¢åä»¤çãè¿ç§æ¹å¼æ²¡æææç è¿ä¸ªä¸­é´æ­¥éª¤ï¼æä»¥ç§°ä¸ºï¼ææç ï¼"éèå¼"ï¼implicitï¼ã\n\n\n# å¯ç æ¨¡å¼\n\nå¦æä½ é«åº¦ä¿¡ä»»æä¸ªåºç¨ï¼rfc 6749 ä¹åè®¸ç¨æ·æç¨æ·ååå¯ç ï¼ç´æ¥åè¯è¯¥åºç¨ãè¯¥åºç¨å°±ä½¿ç¨ä½ çå¯ç ï¼ç³è¯·ä»¤çï¼è¿ç§æ¹å¼ç§°ä¸º"å¯ç å¼"ï¼passwordï¼ã\n\n\n# å®¢æ·ç«¯å­è¯æ¨¡å¼\n\néç¨äºæ²¡æåç«¯çå½ä»¤è¡åºç¨ï¼å³å¨å½ä»¤è¡ä¸è¯·æ±ä»¤çã\n\n\n# ä»¤ççä½¿ç¨\n\n\n# ä»¤ççæ´æ°\n\nå¦æç¨æ·è®¿é®çæ¶åï¼å®¢æ·ç«¯ç"è®¿é®ä»¤ç"å·²ç»è¿æï¼åéè¦ä½¿ç¨"æ´æ°ä»¤ç"ç³è¯·ä¸ä¸ªæ°çè®¿é®ä»¤çã\n\nå®¢æ·ç«¯ååºæ´æ°ä»¤çç http è¯·æ±ï¼åå«ä»¥ä¸åæ°ï¼\n\n * granttypeï¼è¡¨ç¤ºä½¿ç¨çæææ¨¡å¼ï¼æ­¤å¤çå¼åºå®ä¸º"refreshtoken"ï¼å¿éé¡¹ã\n * refresh_tokenï¼è¡¨ç¤ºæ©åæ¶å°çæ´æ°ä»¤çï¼å¿éé¡¹ã\n * scopeï¼è¡¨ç¤ºç³è¯·çææèå´ï¼ä¸å¯ä»¥è¶åºä¸ä¸æ¬¡ç³è¯·çèå´ï¼å¦æçç¥è¯¥åæ°ï¼åè¡¨ç¤ºä¸ä¸ä¸æ¬¡ä¸è´\n\n\n# åèèµæ\n\n * rfc 6749\n * oauth 2.0 çä¸ä¸ªç®åè§£é\n * çè§£ oauth 2.0\n * the simplest guide to oauth 2.0',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"Cinchcast çæ¶æ",frontmatter:{title:"Cinchcast çæ¶æ",date:"2021-11-08T08:15:33.000Z",categories:["è®¾è®¡","æ¶æ","è§£å³æ¹æ¡"],tags:["æ¶æ","è§£å³æ¹æ¡"],permalink:"/pages/3f25aa/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/01.%E6%9E%B6%E6%9E%84/99.%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/Cinchcast%E7%9A%84%E6%9E%B6%E6%9E%84.html",relativePath:"03.è®¾è®¡/01.æ¶æ/99.è§£å³æ¹æ¡/Cinchcastçæ¶æ.md",key:"v-b45bd736",path:"/pages/3f25aa/",headers:[{level:2,title:"ç»è®¡æ°æ®",slug:"ç»è®¡æ°æ®",normalizedTitle:"ç»è®¡æ°æ®",charIndex:231},{level:2,title:"æ°æ®ä¸­å¿",slug:"æ°æ®ä¸­å¿",normalizedTitle:"æ°æ®ä¸­å¿",charIndex:417},{level:2,title:"ç¡¬ä»¶",slug:"ç¡¬ä»¶",normalizedTitle:"ç¡¬ä»¶",charIndex:408},{level:2,title:"å¼åå·¥å·",slug:"å¼åå·¥å·",normalizedTitle:"å¼åå·¥å·",charIndex:626},{level:2,title:"è½¯ä»¶åä½¿ç¨çææ¯",slug:"è½¯ä»¶åä½¿ç¨çææ¯",normalizedTitle:"è½¯ä»¶åä½¿ç¨çææ¯",charIndex:839},{level:2,title:"çæµ",slug:"çæµ",normalizedTitle:"çæµ",charIndex:1083},{level:2,title:"æä»¬çåå",slug:"æä»¬çåå",normalizedTitle:"æä»¬çåå",charIndex:1238},{level:2,title:"æ¶æ",slug:"æ¶æ",normalizedTitle:"æ¶æ",charIndex:13},{level:2,title:"ç»éªæè®­",slug:"ç»éªæè®­",normalizedTitle:"ç»éªæè®­",charIndex:1748},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:2152}],headersStr:"ç»è®¡æ°æ® æ°æ®ä¸­å¿ ç¡¬ä»¶ å¼åå·¥å· è½¯ä»¶åä½¿ç¨çææ¯ çæµ æä»¬çåå æ¶æ ç»éªæè®­ åèèµæ",content:"# Cinchcast çæ¶æ\n\nCinchcast æä¾çè§£å³æ¹æ¡åè®¸å¬å¸åå»ºãå±äº«ãè¡¡éåè´§å¸åé³é¢åå®¹ï¼ä»¥æ¥è§¦åå¸å¼å¯¹å¶ä¸å¡æéè¦çäººãæä»¬çææ¯å°ä¼è®®æ¡¥æ¥å¨ä¸å®æ¶é³é¢æµç¸ç»åï¼ä»¥ç®åå¨çº¿æ´»å¨å¹¶å¢å¼ºåä¸èçåä¸åº¦ã Cinchcast ææ¯è¿ç¨äºä¸ºå¨çæå¤§çé³é¢ç¤¾äº¤ç½ç» Blogtalkradio æä¾å¨åãä»å¤©ï¼æä»¬çå¹³å°æ¯å¤©å¶ä½åååè¶è¿ 1,500 å°æ¶çåååå®¹ãå¨æ¬æä¸­ï¼æä»¬æè¿°äºæä»¬ä¸ºæ©å±å¹³å°ä»¥æ¯æè¿ç§è§æ¨¡çæ°æ®èååºçå·¥ç¨å³ç­ã\n\n\n# ç»è®¡æ°æ®\n\n * æµè§éæ¯æè¶è¿ 5000 ä¸\n * åå»ºäº 50000 å°æ¶çé³é¢åå®¹\n * 1500 ä¸ä¸ªæµåªä½\n * 175,000,000 æ¬¡å¹¿åå±ç¤º\n * å³°å¼æ¯ç§ 40000 å¹¶åè¯·æ±\n * MSSQLãRedisãElasticSearch éç¾¤ä¸­å­å¨çæ°æ®è¾¾å°æ¯å¤©æ° TBï¼\n * 10 äººå·¥ç¨å¸å¢é\n * çäº§ç¯å¢å¤§æ¦æ 100 å·¦å³çç¡¬ä»¶èç¹\n\n\n# æ°æ®ä¸­å¿\n\nçº¿ä¸ç½ç«é¨ç½²å¨å¸é²åæçæ°æ®ä¸­å¿ãä½ QA å Staging ç¯å¢åä½¿ç¨äº Amazon EC2 äºå®ä¾ã\n\nââèèå°æ°æ®å®å¨ï¼å¤§é¨åå¬å¸ä¸æ¿ææçå®æ°æ®é¨ç½²å¨äºç«¯ã\n\n\n# ç¡¬ä»¶\n\n * å¤§æ¦æ 50 å° Web æå¡å¨\n * 15 å° MS SQL æ°æ®åºæå¡å¨\n * 2 å° Redis ç NoSQL çé®å¼æå¡å¨\n * 2 å° NodeJS æå¡å¨\n * 2 å° å¼¹æ§æç´¢éç¾¤æå¡å¨\n\n\n# å¼åå·¥å·\n\n * NET 4 C#ï¼ASP.NET å MVC3\n * IDE ç¨çæ¯ Visual Studio 2010 Team Suite\n * ç¨ StyleCopãReSharper æ¥å¼ºåä»£ç æ å\n * ä½¿ç¨ææ·ãå¶ä¸­å¤§çåè½ç¨ Scrumï¼å°ä»»å¡åéè¿çæ¿ä»»å¡å¢ç®¡ç\n * æµè¯åæç»­éæä½¿ç¨ Jenkins + Nunit\n * èªå¨åæµè¯åæ¯ Selenium å Sauce On Demand\n\n\n# è½¯ä»¶åä½¿ç¨çææ¯\n\n * Windows Server 2008 R2 ç 64 ä½æä½ç³»ç»\n * åºäºå¾®è½¯ Windows Server 2008 Web æå¡å¨ä¸è¿è¡ç SQL Server 2005\n * è´è½½åè¡¡æ¯ EQL(Equalizer load balancers)\n * Redis ä½ä¸ºåå¸å¼ç¼å­å±åæ¶æ¯ååéå\n * NodeJS ç¨æ¥è¿è¡å®æ¶åæåæ´æ°ä»ªè¡¨ç\n * æç´¢ç¨å¾æ¯ ElasticSearchï¼æ¥å¿åææ¯éè¿ Sawmill+èªå®ä¹åæå¨èæ¬\n\n\n# çæµ\n\n * NewRelicï¼æ§è½çæ§\n * æ§è½å¯¹ KPIï¼è½¬æ¢çï¼é¡µé¢æµè§éï¼çå½±åï¼Chartbeatï¼\n * Gomezï¼WhatsupGoldï¼Nagios ç­ç¨æ¥åç§é¢è­¦åæ¥è­¦\n * SQL Server monitoring ççæ§ï¼æ¥èª Red Gate ç SQL Monitor\n\n\n# æä»¬çåå\n\n * å°éä»äººçæ¶é´ãä¸è¦å¸¦çé®é¢æ¥ï¼è¦æ¿åºè§£å³åæ³ã\n * ä¸è¦å»è¿½éå½ä¸çç­ç¹ææ¯ï¼åå®ç°åºæ¬åè½ï¼ç¶åååé¦ä¸æ·»è±çãå¡å®æ¯æéè¦çã\n * æä¸ºä¸ä¸ªâå¦ä½åâçå¢éèä¸æ¯æ»æ¯è¯´âä¸âçå¢é\n * é¢åå¤çæ»æ¯äº¡ç¾è¡¥ç¢è¦å¥½ï¼æå®å¨æ¤å¥å°è½¯ä»¶å¼åçå½å¨æä¸­ï¼éè¿å¹è®­å¼åäººåå¦ä½ååºå®å¨çè½¯ä»¶å¹¶æå®ä»ä¸å¼å§å°±ä½ä¸ºä¸å¡ä¼åèèä¹å¤ã\n\n\n# æ¶æ\n\n * ææ JavascriptãCSS åå¾åé½ç¼å­å¨ CDN çº§å«ã DNS æåä¸ä¸ª CDNï¼å®å°è¯·æ±ä¼ éç»æºæå¡å¨ãæä»¬ä½¿ç¨ Cotendo æ¯å ä¸ºå®åè®¸å¨ CDN ä¸ååº L7 è·¯ç±å³ç­ã\n * åç¬ç Web æå¡å¨éç¾¤ç¨äºä¸ºæ®éç¨æ·åå¹¿åç¨æ·çè¯·æ±æä¾æå¡ï¼éè¿ cookie è¿è¡åºåã\n * æä»¬æ­£å¨è½¬åé¢åæå¡çæ¶æï¼å¶ä¸­ç³»ç»çå³é®é¨åï¼ä¾å¦æç´¢ãèº«ä»½éªè¯ãç¼å­ï¼é½æ¯ä»¥åç§è¯­è¨å®ç°ç RESTFUL æå¡ãè¿äºæå¡è¿æä¾äºä¸ä¸ªç¼å­å±ã\n * REDIS NOSQL é®å¼å­å¨ï¼redis.ioï¼ç¨ä½æ°æ®åºè°ç¨ä¹åçç¼å­å±ã\n * Scaleout ç¨äºå¨ç½ç»æå¡å¨éç¾¤ä¸­ç»´æ¤ä¼è¯ç¶æãä½æ¯ï¼æä»¬æ­£å¨èèåæ¢å° REDISã\n\n\n# ç»éªæè®­\n\n * SQL Server æ°æ®åºä¸­çææ¬æç´¢ä¸å¥½ç¨ï¼ç»å¸¸åºç° CPU é»å¡ï¼æä»¥ Cinchcast åæ¢å° ElasticSearchï¼ä¸ä¸ª Lucene çè¡çå·¥å·ã\n * å¾®è½¯åç½®çä¼è¯æ¨¡åå®¹æåºç°æ­»éï¼ä»ä»¬ç¨ AngiesList ä¼è¯æ¨¡ååä»£äºå®ï¼å¹¶ææ°æ®å­å¨å° Redisã\n * æ¥å¿æ¯åç°é®é¢çå³é®ã\n * éæ°åæè½®å­ï¼ææ¶åä¹å¯ä»¥æ¯ä¸ä»¶å¥½äºãä¾å¦ï¼å¨ä¸ä¸ªä¾åºåçæä¾ç JS / CSS çäº§åå¯¼è´æ§è½é®é¢çæ¶åï¼ä»ä»¬éè¿éåæ¾èæ¹åäºç½ç«çæ§è½ã\n * å¹¶ä¸æ¯ææçæ°æ®é½æ¯å³ç³»åçã\n * å¨å¼åä¸­ä¸ä½¿ç¨ææ æ£æµå°±åå¨é£æ´ä¸­ä¸åèé«åº¦è¡¨æ¥éè½é£æºï¼å æ­¤æ´ä¸ªå¼åè¿ç¨ä¸­ï¼ä¸å®è¦éè¿ç½ç«ååéï¼è§£å³éè¯¯çæ¶é´ãä»£ç è¦ççï¼ç­ææ æ¥è¡¡éä½ çæçã æ»çæ¥è¯´ï¼å¯¹äºæ¥ PV ç¾ä¸çº§çç½ç«æ¥è¯´ï¼Cinchcast çæ¶æãç åãè¿ç»´ç­å±é¢çææ¯éååç»éªå¼å¾å­¦ä¹ ååèã\n\n\n# åèèµæ\n\n * æ¯å¤©äº§ç 1500 å°æ¶çé³é¢",normalizedContent:"# cinchcast çæ¶æ\n\ncinchcast æä¾çè§£å³æ¹æ¡åè®¸å¬å¸åå»ºãå±äº«ãè¡¡éåè´§å¸åé³é¢åå®¹ï¼ä»¥æ¥è§¦åå¸å¼å¯¹å¶ä¸å¡æéè¦çäººãæä»¬çææ¯å°ä¼è®®æ¡¥æ¥å¨ä¸å®æ¶é³é¢æµç¸ç»åï¼ä»¥ç®åå¨çº¿æ´»å¨å¹¶å¢å¼ºåä¸èçåä¸åº¦ã cinchcast ææ¯è¿ç¨äºä¸ºå¨çæå¤§çé³é¢ç¤¾äº¤ç½ç» blogtalkradio æä¾å¨åãä»å¤©ï¼æä»¬çå¹³å°æ¯å¤©å¶ä½åååè¶è¿ 1,500 å°æ¶çåååå®¹ãå¨æ¬æä¸­ï¼æä»¬æè¿°äºæä»¬ä¸ºæ©å±å¹³å°ä»¥æ¯æè¿ç§è§æ¨¡çæ°æ®èååºçå·¥ç¨å³ç­ã\n\n\n# ç»è®¡æ°æ®\n\n * æµè§éæ¯æè¶è¿ 5000 ä¸\n * åå»ºäº 50000 å°æ¶çé³é¢åå®¹\n * 1500 ä¸ä¸ªæµåªä½\n * 175,000,000 æ¬¡å¹¿åå±ç¤º\n * å³°å¼æ¯ç§ 40000 å¹¶åè¯·æ±\n * mssqlãredisãelasticsearch éç¾¤ä¸­å­å¨çæ°æ®è¾¾å°æ¯å¤©æ° tbï¼\n * 10 äººå·¥ç¨å¸å¢é\n * çäº§ç¯å¢å¤§æ¦æ 100 å·¦å³çç¡¬ä»¶èç¹\n\n\n# æ°æ®ä¸­å¿\n\nçº¿ä¸ç½ç«é¨ç½²å¨å¸é²åæçæ°æ®ä¸­å¿ãä½ qa å staging ç¯å¢åä½¿ç¨äº amazon ec2 äºå®ä¾ã\n\nââèèå°æ°æ®å®å¨ï¼å¤§é¨åå¬å¸ä¸æ¿ææçå®æ°æ®é¨ç½²å¨äºç«¯ã\n\n\n# ç¡¬ä»¶\n\n * å¤§æ¦æ 50 å° web æå¡å¨\n * 15 å° ms sql æ°æ®åºæå¡å¨\n * 2 å° redis ç nosql çé®å¼æå¡å¨\n * 2 å° nodejs æå¡å¨\n * 2 å° å¼¹æ§æç´¢éç¾¤æå¡å¨\n\n\n# å¼åå·¥å·\n\n * net 4 c#ï¼asp.net å mvc3\n * ide ç¨çæ¯ visual studio 2010 team suite\n * ç¨ stylecopãresharper æ¥å¼ºåä»£ç æ å\n * ä½¿ç¨ææ·ãå¶ä¸­å¤§çåè½ç¨ scrumï¼å°ä»»å¡åéè¿çæ¿ä»»å¡å¢ç®¡ç\n * æµè¯åæç»­éæä½¿ç¨ jenkins + nunit\n * èªå¨åæµè¯åæ¯ selenium å sauce on demand\n\n\n# è½¯ä»¶åä½¿ç¨çææ¯\n\n * windows server 2008 r2 ç 64 ä½æä½ç³»ç»\n * åºäºå¾®è½¯ windows server 2008 web æå¡å¨ä¸è¿è¡ç sql server 2005\n * è´è½½åè¡¡æ¯ eql(equalizer load balancers)\n * redis ä½ä¸ºåå¸å¼ç¼å­å±åæ¶æ¯ååéå\n * nodejs ç¨æ¥è¿è¡å®æ¶åæåæ´æ°ä»ªè¡¨ç\n * æç´¢ç¨å¾æ¯ elasticsearchï¼æ¥å¿åææ¯éè¿ sawmill+èªå®ä¹åæå¨èæ¬\n\n\n# çæµ\n\n * newrelicï¼æ§è½çæ§\n * æ§è½å¯¹ kpiï¼è½¬æ¢çï¼é¡µé¢æµè§éï¼çå½±åï¼chartbeatï¼\n * gomezï¼whatsupgoldï¼nagios ç­ç¨æ¥åç§é¢è­¦åæ¥è­¦\n * sql server monitoring ççæ§ï¼æ¥èª red gate ç sql monitor\n\n\n# æä»¬çåå\n\n * å°éä»äººçæ¶é´ãä¸è¦å¸¦çé®é¢æ¥ï¼è¦æ¿åºè§£å³åæ³ã\n * ä¸è¦å»è¿½éå½ä¸çç­ç¹ææ¯ï¼åå®ç°åºæ¬åè½ï¼ç¶åååé¦ä¸æ·»è±çãå¡å®æ¯æéè¦çã\n * æä¸ºä¸ä¸ªâå¦ä½åâçå¢éèä¸æ¯æ»æ¯è¯´âä¸âçå¢é\n * é¢åå¤çæ»æ¯äº¡ç¾è¡¥ç¢è¦å¥½ï¼æå®å¨æ¤å¥å°è½¯ä»¶å¼åçå½å¨æä¸­ï¼éè¿å¹è®­å¼åäººåå¦ä½ååºå®å¨çè½¯ä»¶å¹¶æå®ä»ä¸å¼å§å°±ä½ä¸ºä¸å¡ä¼åèèä¹å¤ã\n\n\n# æ¶æ\n\n * ææ javascriptãcss åå¾åé½ç¼å­å¨ cdn çº§å«ã dns æåä¸ä¸ª cdnï¼å®å°è¯·æ±ä¼ éç»æºæå¡å¨ãæä»¬ä½¿ç¨ cotendo æ¯å ä¸ºå®åè®¸å¨ cdn ä¸ååº l7 è·¯ç±å³ç­ã\n * åç¬ç web æå¡å¨éç¾¤ç¨äºä¸ºæ®éç¨æ·åå¹¿åç¨æ·çè¯·æ±æä¾æå¡ï¼éè¿ cookie è¿è¡åºåã\n * æä»¬æ­£å¨è½¬åé¢åæå¡çæ¶æï¼å¶ä¸­ç³»ç»çå³é®é¨åï¼ä¾å¦æç´¢ãèº«ä»½éªè¯ãç¼å­ï¼é½æ¯ä»¥åç§è¯­è¨å®ç°ç restful æå¡ãè¿äºæå¡è¿æä¾äºä¸ä¸ªç¼å­å±ã\n * redis nosql é®å¼å­å¨ï¼redis.ioï¼ç¨ä½æ°æ®åºè°ç¨ä¹åçç¼å­å±ã\n * scaleout ç¨äºå¨ç½ç»æå¡å¨éç¾¤ä¸­ç»´æ¤ä¼è¯ç¶æãä½æ¯ï¼æä»¬æ­£å¨èèåæ¢å° redisã\n\n\n# ç»éªæè®­\n\n * sql server æ°æ®åºä¸­çææ¬æç´¢ä¸å¥½ç¨ï¼ç»å¸¸åºç° cpu é»å¡ï¼æä»¥ cinchcast åæ¢å° elasticsearchï¼ä¸ä¸ª lucene çè¡çå·¥å·ã\n * å¾®è½¯åç½®çä¼è¯æ¨¡åå®¹æåºç°æ­»éï¼ä»ä»¬ç¨ angieslist ä¼è¯æ¨¡ååä»£äºå®ï¼å¹¶ææ°æ®å­å¨å° redisã\n * æ¥å¿æ¯åç°é®é¢çå³é®ã\n * éæ°åæè½®å­ï¼ææ¶åä¹å¯ä»¥æ¯ä¸ä»¶å¥½äºãä¾å¦ï¼å¨ä¸ä¸ªä¾åºåçæä¾ç js / css çäº§åå¯¼è´æ§è½é®é¢çæ¶åï¼ä»ä»¬éè¿éåæ¾èæ¹åäºç½ç«çæ§è½ã\n * å¹¶ä¸æ¯ææçæ°æ®é½æ¯å³ç³»åçã\n * å¨å¼åä¸­ä¸ä½¿ç¨ææ æ£æµå°±åå¨é£æ´ä¸­ä¸åèé«åº¦è¡¨æ¥éè½é£æºï¼å æ­¤æ´ä¸ªå¼åè¿ç¨ä¸­ï¼ä¸å®è¦éè¿ç½ç«ååéï¼è§£å³éè¯¯çæ¶é´ãä»£ç è¦ççï¼ç­ææ æ¥è¡¡éä½ çæçã æ»çæ¥è¯´ï¼å¯¹äºæ¥ pv ç¾ä¸çº§çç½ç«æ¥è¯´ï¼cinchcast çæ¶æãç åãè¿ç»´ç­å±é¢çææ¯éååç»éªå¼å¾å­¦ä¹ ååèã\n\n\n# åèèµæ\n\n * æ¯å¤©äº§ç 1500 å°æ¶çé³é¢",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"README",frontmatter:{title:"README",date:"2021-11-08T08:15:33.000Z",categories:["è®¾è®¡","æ¶æ","è§£å³æ¹æ¡"],tags:["æ¶æ","è§£å³æ¹æ¡"],permalink:"/pages/c38eff/",hidden:!0},regularPath:"/03.%E8%AE%BE%E8%AE%A1/01.%E6%9E%B6%E6%9E%84/99.%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/",relativePath:"03.è®¾è®¡/01.æ¶æ/99.è§£å³æ¹æ¡/README.md",key:"v-f4f72696",path:"/pages/c38eff/",headers:[{level:2,title:"ð åå®¹",slug:"ð-åå®¹",normalizedTitle:"ð åå®¹",charIndex:11},{level:3,title:"ç¥åç³»ç»æ¶æ",slug:"ç¥åç³»ç»æ¶æ",normalizedTitle:"ç¥åç³»ç»æ¶æ",charIndex:21},{level:3,title:"æä¸æä¹è¡ç³»å",slug:"æä¸æä¹è¡ç³»å",normalizedTitle:"æä¸æä¹è¡ç³»å",charIndex:1665},{level:4,title:"è®¾è®¡ä¸ä¸ªç­å°åæå¡",slug:"è®¾è®¡ä¸ä¸ªç­å°åæå¡",normalizedTitle:"è®¾è®¡ä¸ä¸ªç­å°åæå¡",charIndex:1676},{level:4,title:"è®¾è®¡ä¸ä¸ªä½ä»£ç å¹³å°",slug:"è®¾è®¡ä¸ä¸ªä½ä»£ç å¹³å°",normalizedTitle:"è®¾è®¡ä¸ä¸ªä½ä»£ç å¹³å°",charIndex:1689},{level:2,title:"ðª ä¼ é",slug:"ðª-ä¼ é",normalizedTitle:"ðª ä¼ é",charIndex:1703}],headersStr:"ð åå®¹ ç¥åç³»ç»æ¶æ æä¸æä¹è¡ç³»å è®¾è®¡ä¸ä¸ªç­å°åæå¡ è®¾è®¡ä¸ä¸ªä½ä»£ç å¹³å° ðª ä¼ é",content:"# è§£å³æ¹æ¡\n\n\n# ð åå®¹\n\n\n# ç¥åç³»ç»æ¶æ\n\nç±»å                ç»åç±»å    ç³»ç»                                      èµæ\nData processing           MapReduce - Google çåå¸å¼æ°æ®å¤ç             research.google.com\nData processing           Spark - Databricks çåå¸å¼æ°æ®å¤ç             slideshare.net\nData processing           Storm - Twitter çåå¸å¼æ°æ®å¤ç                slideshare.net\n                                                                  \nåå¸å¼å­å¨             Nosql   Bigtable - Google çåå¼æ°æ®åº                harvard.edu\nåå¸å¼å­å¨             Nosql   HBase - Bigtable çå¼æºå®ç°                  slideshare.net\nåå¸å¼å­å¨             Nosql   Cassandra - Facebook çåå¼æ°æ®åº             slideshare.net\nåå¸å¼å­å¨             Nosql   DynamoDB - Amazon çææ¡£æ°æ®åº                harvard.edu\nåå¸å¼å­å¨             Nosql   MongoDB - ææ¡£æ°æ®åº                         MongoDB\nåå¸å¼å­å¨             Nosql   Spanner - Google çå¨çåå¸æ°æ®åº               research.google.com\nåå¸å¼å­å¨             Nosql   Memcached - åå¸å¼åå­ç¼å­ç³»ç»                   slideshare.net\nåå¸å¼å­å¨             Nosql   Redis - è½å¤æä¹ååå·æå¼ç±»åçåå¸å¼åå­ç¼å­ç³»ç»           Redis\nåå¸å¼å­å¨             æä»¶ç³»ç»    Google File System (GFS) - åå¸å¼æä»¶ç³»ç»      research.google.com\nåå¸å¼å­å¨             æä»¶ç³»ç»    Hadoop File System (HDFS) - GFS çå¼æºå®ç°   apache.org\n                                                                  \nåå¸å¼ä¸­é´ä»¶                    Chubby - Google çåå¸å¼ç³»ç»çä½è¦åéæå¡           research.google.com\nåå¸å¼ä¸­é´ä»¶                    Dapper - åå¸å¼ç³»ç»è·è¸ªåºç¡è®¾æ½                    research.google.com\nåå¸å¼ä¸­é´ä»¶            MQ      Kafka - LinkedIn çåå¸è®¢éæ¶æ¯ç³»ç»              Kafka\nåå¸å¼ä¸­é´ä»¶            åå¸å¼åè°   Zookeeper - éä¸­çåºç¡æ¶æååè°æå¡                ZooKeeper\n                                                                  \n\n\n# æä¸æä¹è¡ç³»å\n\n# è®¾è®¡ä¸ä¸ªç­å°åæå¡\n\n# è®¾è®¡ä¸ä¸ªä½ä»£ç å¹³å°\n\n\n# ðª ä¼ é\n\nâ¾ ð§ éæç IT ç¥è¯å¾è°± â¾ ð¯ éæçåå®¢ â¾",normalizedContent:"# è§£å³æ¹æ¡\n\n\n# ð åå®¹\n\n\n# ç¥åç³»ç»æ¶æ\n\nç±»å                ç»åç±»å    ç³»ç»                                      èµæ\ndata processing           mapreduce - google çåå¸å¼æ°æ®å¤ç             research.google.com\ndata processing           spark - databricks çåå¸å¼æ°æ®å¤ç             slideshare.net\ndata processing           storm - twitter çåå¸å¼æ°æ®å¤ç                slideshare.net\n                                                                  \nåå¸å¼å­å¨             nosql   bigtable - google çåå¼æ°æ®åº                harvard.edu\nåå¸å¼å­å¨             nosql   hbase - bigtable çå¼æºå®ç°                  slideshare.net\nåå¸å¼å­å¨             nosql   cassandra - facebook çåå¼æ°æ®åº             slideshare.net\nåå¸å¼å­å¨             nosql   dynamodb - amazon çææ¡£æ°æ®åº                harvard.edu\nåå¸å¼å­å¨             nosql   mongodb - ææ¡£æ°æ®åº                         mongodb\nåå¸å¼å­å¨             nosql   spanner - google çå¨çåå¸æ°æ®åº               research.google.com\nåå¸å¼å­å¨             nosql   memcached - åå¸å¼åå­ç¼å­ç³»ç»                   slideshare.net\nåå¸å¼å­å¨             nosql   redis - è½å¤æä¹ååå·æå¼ç±»åçåå¸å¼åå­ç¼å­ç³»ç»           redis\nåå¸å¼å­å¨             æä»¶ç³»ç»    google file system (gfs) - åå¸å¼æä»¶ç³»ç»      research.google.com\nåå¸å¼å­å¨             æä»¶ç³»ç»    hadoop file system (hdfs) - gfs çå¼æºå®ç°   apache.org\n                                                                  \nåå¸å¼ä¸­é´ä»¶                    chubby - google çåå¸å¼ç³»ç»çä½è¦åéæå¡           research.google.com\nåå¸å¼ä¸­é´ä»¶                    dapper - åå¸å¼ç³»ç»è·è¸ªåºç¡è®¾æ½                    research.google.com\nåå¸å¼ä¸­é´ä»¶            mq      kafka - linkedin çåå¸è®¢éæ¶æ¯ç³»ç»              kafka\nåå¸å¼ä¸­é´ä»¶            åå¸å¼åè°   zookeeper - éä¸­çåºç¡æ¶æååè°æå¡                zookeeper\n                                                                  \n\n\n# æä¸æä¹è¡ç³»å\n\n# è®¾è®¡ä¸ä¸ªç­å°åæå¡\n\n# è®¾è®¡ä¸ä¸ªä½ä»£ç å¹³å°\n\n\n# ðª ä¼ é\n\nâ¾ ð§ éæç it ç¥è¯å¾è°± â¾ ð¯ éæçåå®¢ â¾",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"äºé©¬éçæ¶æ",frontmatter:{title:"äºé©¬éçæ¶æ",date:"2021-11-08T08:15:33.000Z",categories:["è®¾è®¡","æ¶æ","è§£å³æ¹æ¡"],tags:["æ¶æ","è§£å³æ¹æ¡"],permalink:"/pages/940342/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/01.%E6%9E%B6%E6%9E%84/99.%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/%E4%BA%9A%E9%A9%AC%E9%80%8A%E7%9A%84%E6%9E%B6%E6%9E%84.html",relativePath:"03.è®¾è®¡/01.æ¶æ/99.è§£å³æ¹æ¡/äºé©¬éçæ¶æ.md",key:"v-f104e8ee",path:"/pages/940342/",headers:[{level:2,title:"æå½çè¦ç¹",slug:"æå½çè¦ç¹",normalizedTitle:"æå½çè¦ç¹",charIndex:13},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:178}],headersStr:"æå½çè¦ç¹ åèèµæ",content:"# äºé©¬éçæ¶æ\n\n\n# æå½çè¦ç¹\n\nå¯æ©å±ï¼æ·»å èµæºï¼æ§è½ææ­£æ¯æå\n\nåå¸å¼ãå»ä¸­å¿å\n\néç¦»æ§ï¼é¢åæå¡ï¼èåæ°ä»¥ç¾è®¡çæå¡ï¼å¯¹å¤ç»ä¸æä¾æå¡\n\nåæ¶æ¯æ REST å SOAP\n\nå¢éå¨ç²¾ä¸å¨å¤ï¼èçæ²éææ¬\n\nç¶æç®¡çæ¯å¤§è§æ¨¡ç³»ç»çæ ¸å¿é®é¢ï¼å¦åå¸å¼ Session ç­\n\nè®¾è®¡åºå°½éç®åï¼å¾å¤é®é¢å¯ä»¥ç¨ä¸å¡é»è¾å»è§£å³ï¼èä¸æ¯éè¿ææ¯\n\n\n# åèèµæ\n\n * Amazon çæ¶æ",normalizedContent:"# äºé©¬éçæ¶æ\n\n\n# æå½çè¦ç¹\n\nå¯æ©å±ï¼æ·»å èµæºï¼æ§è½ææ­£æ¯æå\n\nåå¸å¼ãå»ä¸­å¿å\n\néç¦»æ§ï¼é¢åæå¡ï¼èåæ°ä»¥ç¾è®¡çæå¡ï¼å¯¹å¤ç»ä¸æä¾æå¡\n\nåæ¶æ¯æ rest å soap\n\nå¢éå¨ç²¾ä¸å¨å¤ï¼èçæ²éææ¬\n\nç¶æç®¡çæ¯å¤§è§æ¨¡ç³»ç»çæ ¸å¿é®é¢ï¼å¦åå¸å¼ session ç­\n\nè®¾è®¡åºå°½éç®åï¼å¾å¤é®é¢å¯ä»¥ç¨ä¸å¡é»è¾å»è§£å³ï¼èä¸æ¯éè¿ææ¯\n\n\n# åèèµæ\n\n * amazon çæ¶æ",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"ä½ä»£ç å¹³å°",frontmatter:{title:"ä½ä»£ç å¹³å°",date:"2021-05-06T16:57:48.000Z",categories:["è®¾è®¡","æ¶æ","è§£å³æ¹æ¡"],tags:["æ¶æ","è§£å³æ¹æ¡"],permalink:"/pages/f90553/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/01.%E6%9E%B6%E6%9E%84/99.%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/%E4%BD%8E%E4%BB%A3%E7%A0%81%E5%B9%B3%E5%8F%B0.html",relativePath:"03.è®¾è®¡/01.æ¶æ/99.è§£å³æ¹æ¡/ä½ä»£ç å¹³å°.md",key:"v-569eca3f",path:"/pages/f90553/",headers:[{level:2,title:"ä¸å¡åæ",slug:"ä¸å¡åæ",normalizedTitle:"ä¸å¡åæ",charIndex:76},{level:3,title:"ä½ä»£ç å¹³å°æ¯ä»ä¹",slug:"ä½ä»£ç å¹³å°æ¯ä»ä¹",normalizedTitle:"ä½ä»£ç å¹³å°æ¯ä»ä¹",charIndex:85},{level:3,title:"ææ¯è·¯çº¿",slug:"ææ¯è·¯çº¿",normalizedTitle:"ææ¯è·¯çº¿",charIndex:287},{level:4,title:"åºäº IDE æ¡æ¶çå¿«éå¼åå¹³å°",slug:"åºäº-ide-æ¡æ¶çå¿«éå¼åå¹³å°",normalizedTitle:"åºäº ide æ¡æ¶çå¿«éå¼åå¹³å°",charIndex:295},{level:4,title:"åºäºæ¨¡åé©±å¨çåºç¨å¹³å°",slug:"åºäºæ¨¡åé©±å¨çåºç¨å¹³å°",normalizedTitle:"åºäºæ¨¡åé©±å¨çåºç¨å¹³å°",charIndex:556},{level:3,title:"æ ¸å¿è¦ç´ ",slug:"æ ¸å¿è¦ç´ ",normalizedTitle:"æ ¸å¿è¦ç´ ",charIndex:783},{level:4,title:"æ°æ®æ¨¡å",slug:"æ°æ®æ¨¡å",normalizedTitle:"æ°æ®æ¨¡å",charIndex:356},{level:4,title:"ä¸å¡æµç¨",slug:"ä¸å¡æµç¨",normalizedTitle:"ä¸å¡æµç¨",charIndex:986},{level:4,title:"ç¨æ·æé",slug:"ç¨æ·æé",normalizedTitle:"ç¨æ·æé",charIndex:991},{level:4,title:"ç»è®¡å¾è¡¨",slug:"ç»è®¡å¾è¡¨",normalizedTitle:"ç»è®¡å¾è¡¨",charIndex:996},{level:3,title:"æµè¡äº§å",slug:"æµè¡äº§å",normalizedTitle:"æµè¡äº§å",charIndex:1776},{level:4,title:"OutSystems",slug:"outsystems",normalizedTitle:"outsystems",charIndex:1784},{level:4,title:"Mendix",slug:"mendix",normalizedTitle:"mendix",charIndex:1923},{level:2,title:"é¡¶å±è®¾è®¡",slug:"é¡¶å±è®¾è®¡",normalizedTitle:"é¡¶å±è®¾è®¡",charIndex:2064},{level:2,title:"ç»ä»¶è®¾è®¡",slug:"ç»ä»¶è®¾è®¡",normalizedTitle:"ç»ä»¶è®¾è®¡",charIndex:2452},{level:3,title:"åè¡¨é¡µ",slug:"åè¡¨é¡µ",normalizedTitle:"åè¡¨é¡µ",charIndex:2461},{level:4,title:"æç´¢æ ",slug:"æç´¢æ ",normalizedTitle:"æç´¢æ ",charIndex:2468},{level:4,title:"æä½æ ",slug:"æä½æ ",normalizedTitle:"æä½æ ",charIndex:2475},{level:4,title:"è¡¨æ ¼",slug:"è¡¨æ ¼",normalizedTitle:"è¡¨æ ¼",charIndex:2482},{level:4,title:"åé¡µ",slug:"åé¡µ",normalizedTitle:"åé¡µ",charIndex:2488},{level:3,title:"è¡¨åé¡µ",slug:"è¡¨åé¡µ",normalizedTitle:"è¡¨åé¡µ",charIndex:2495},{level:4,title:"è¡¨åç»ä»¶",slug:"è¡¨åç»ä»¶",normalizedTitle:"è¡¨åç»ä»¶",charIndex:2502},{level:4,title:"æ ¡éªå¨",slug:"æ ¡éªå¨",normalizedTitle:"æ ¡éªå¨",charIndex:2510},{level:2,title:"æ©å±è®¾è®¡",slug:"æ©å±è®¾è®¡",normalizedTitle:"æ©å±è®¾è®¡",charIndex:2518},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:2527}],headersStr:"ä¸å¡åæ ä½ä»£ç å¹³å°æ¯ä»ä¹ ææ¯è·¯çº¿ åºäº IDE æ¡æ¶çå¿«éå¼åå¹³å° åºäºæ¨¡åé©±å¨çåºç¨å¹³å° æ ¸å¿è¦ç´  æ°æ®æ¨¡å ä¸å¡æµç¨ ç¨æ·æé ç»è®¡å¾è¡¨ æµè¡äº§å OutSystems Mendix é¡¶å±è®¾è®¡ ç»ä»¶è®¾è®¡ åè¡¨é¡µ æç´¢æ  æä½æ  è¡¨æ ¼ åé¡µ è¡¨åé¡µ è¡¨åç»ä»¶ æ ¡éªå¨ æ©å±è®¾è®¡ åèèµæ",content:"# è®¾è®¡ä¸ä¸ªä½ä»£ç å¹³å°\n\n> æ¬æç®æ æ¯è®¾è®¡ä¸ä¸ªç¨äºæé«å¼åäººåå¼åæççä½ä»£ç å¹³å°ï¼è¿éä¼éç¨ç³»ç»è§£å³æ¹æ¡è®¾è®¡çä¸è¬æè·¯æ¥éæ­¥æ¢å¯»è®¾è®¡æ¹æ¡ã\n\n\n# ä¸å¡åæ\n\n\n# ä½ä»£ç å¹³å°æ¯ä»ä¹\n\nå¹¿ä¹ä¸çä½ä»£ç å¹³å°åæ¬ä½ä»£ç å¹³å°åé¶ä»£ç å¹³å°ï¼å®ä»¬é½å±äº APaaSï¼Application Platform as a Service åºç¨å¹³å°å³æå¡ï¼ï¼ä¸¤èçä¸»è¦åºå«å¨äºå¯¹ä»£ç çä¾èµç¨åº¦ï¼\n\n * ä½ä»£ç å¹³å°ï¼éè¿èªå¨ä»£ç çæåå¯è§åç¼ç¨ï¼åªéè¦å°éä»£ç ï¼å³å¯å¿«éæ­å»ºåç§åºç¨ã\n * é¶ä»£ç å¹³å°ï¼é¶å¼åç»éªçä¸å¡äººåéè¿ææ½ç­æ¹å¼ï¼æ éç¼åä»£ç ï¼å³å¯å¿«éæ­å»ºåç§åºç¨ã\n\n\n# ææ¯è·¯çº¿\n\n# åºäº IDE æ¡æ¶çå¿«éå¼åå¹³å°\n\nè¯¥æ¹æ¡å°ä¼ ç»çéæå¼åç¯å¢ï¼IDEï¼ååå¯è§åï¼å¼åèå¯¹åç«¯çé¢ç»ä»¶ãæ°æ®æºç»å®æ¹å¼ãæ°æ®æ¨¡åãä¸å¡é»è¾åå·¥ä½æµç­é½å¯ä»¥èªç±å®ä¹ï¼å¹³å°å°èªå¨çæä»£ç ï¼å¼åèä¹å¯ä»¥æ·»å èªå·±çä»£ç ï¼å¯¹ç¨åºå·æè¾å¼ºçæ§å¶è½åï¼å æ­¤è¯¥æ¹æ¡å·å¤æ´é«ççµæ´»æ§ï¼å¯ä»¥è®¾è®¡åºå®å¶åç¨åº¦é«ãé»è¾å¤æçè½¯ä»¶ã\n\nç±äºè¯¥æ¹æ¡ä»æ¶åä»£ç å¼åãé¨ç½²ç­ææ¯å·¥ä½ï¼æä»¥å®ä»ç¶æ¯ä¸ä¸ªææ¯å¼åå¹³å°ï¼éè¦è¾é«çå­¦ä¹ ææ¬ï¼ä¸»è¦ä»·å¼æ¯æé«å¼åæçï¼åå°éå¤å³å¨ã\n\nOutsystems å°±æ¯éç¨è¯¥æ¹æ¡çå¸åäº§åï¼å¦ä¸ä¸ºäº§åæªå¾ï¼\n\n\n\n# åºäºæ¨¡åé©±å¨çåºç¨å¹³å°\n\nç¨æ·éè¿å¯è§åæ¹å¼æå»ºæ°æ®æ¨¡åãè§å¾ãæéãå·¥ä½æµç­ï¼å³å¯å¨å¹³å°æä¾çç¯å¢ä¸­è¿è¡ï¼æ éç¼è¯é¨ç½²ï¼æ´åä¸ç§å»çå¼çåºç¨æ­å»ºå¹³å°ãå¹³å°å¯¹åç±»ç»ä»¶ãä¸å¡é»è¾åäºè¾é«å±çº§çå°è£ï¼å æ­¤ç¨æ·æ æ³éå¿ææ¬²ä¿®æ¹çé¢é£æ ¼ãäº¤äºæ¹å¼ãå¤çé»è¾ç­ã\n\nè¯¥æ¹æ¡å¯ä»¥å®ç°å®å¨é¶ä»£ç ï¼å¯¹ä½¿ç¨èææ¯è¦æ±ä¸é«ï¼ä½éè¦å·å¤ä¸å¡æ½è±¡ãå»ºæ¨¡è½åãä¸»è¦ä»·å¼æ¯éä½å¼åé¨æ§ãå¿«ééåºååã\n\næéäºãä¼ä¼´äºç­é½æ¯æ­¤ç±»æ¹æ¡çå¸åäº§åï¼å¦ä¸ä¸ºæéäºçäº§åæªå¾ï¼\n\n\n\n\n# æ ¸å¿è¦ç´ \n\nç»å¤§é¨åçä¼ä¸è½¯ä»¶ç±ä»¥ä¸åä¸ªé¨åç»æï¼\n\n * ä¸å¡å®ä½ï¼å³æä½å¯¹è±¡ï¼å¦å®¢æ·ãè®¢å\n * ä¸å¡æ´»å¨ï¼å³è¿è¡ä½ç§æä½ï¼å¦éè´­ç³è¯·ãååå®¡æ¹\n * ä¸å¡æéï¼å³ä½ç§äººæ¥æä½ç§æéï¼åæ¬æ°æ®æ¥çæéåæ°æ®æä½æéï¼å¦é¨é¨ç»çå¯ä»¥ç®¡çææä¸å±çå®¢æ·ä¿¡æ¯ï¼èåå·¥åªè½ç®¡çèªå·±çå®¢æ·ä¿¡æ¯\n * ç»è®¡æ¥è¡¨ï¼å³ä»åªäºæ¹é¢éåä¼ä¸æ´»å¨æåµï¼å¦å®¢æ·å¢é¿çãåæéå®é¢è¶å¿\n\nä½ä»£ç å¹³å°å°ä»¥ä¸è¿è¡æ½è±¡ï¼æ¯ææ°æ®æ¨¡åãä¸å¡æµç¨ãç¨æ·æéãç»è®¡å¾è¡¨ï¼å æ­¤å¯ä»¥ä½ä¸ºæ´éç¨çä¼ä¸è½¯ä»¶è§£å³æ¹æ¡ï¼è¿åç±»è½åä¹æ¯ä»»ä½ä¸ä¸ªä½ä»£ç å¹³å°é½å¿é¡»å·å¤çæ ¸å¿è¦ç´ ã\n\n# æ°æ®æ¨¡å\n\nå»ºç«æ°æ®æ¨¡åå°±æ¯æåä¸å¡å®ä½çæ°æ®ç¹å¾ï¼æ½è±¡ä¸ºæ°æ®è¡¨ï¼å»ºç«è¡¨é´å³ç³»ãå¶ä½ ER å¾çè¿ç¨å°±æ¯æ°æ®å»ºæ¨¡ãå¸é¢ä¸å¸¸è§çä½ä»£ç å¹³å°åæä¾äºä¸°å¯çæ§ä»¶ï¼å¯ä»¥ææ½å®ææ°æ®æ¨¡åæ­å»ºãæ­¤å¤ï¼æ°æ®æ¨¡åæ­å»ºä¸è¡¨åå±ç¤ºåäºä¸ºä¸ï¼æ¯å®æä¸ä¸ªæ°æ®è¡¨çåå»ºï¼å°±èªå¨çæäºè¯¥è¡¨çå¢å æ¹æ¥åè½åç¸å³é¡µé¢ï¼è¿èéèäºæ°æ®åºè®¾è®¡ãåç«¯å¼åè¿äºä¸ä¸ææ¯ãå¶å®ï¼è¿ä¹å°±æ¯æä»¬å¸¸è¯´çè¡¨åå¼æã\n\nè¿éé¡ºä¾¿æä¸ä¸ï¼è½ç¶å¾å¤ä½ä»£ç å¹³å°å°æ°æ®å»ºæ¨¡ä¸è¡¨åå±ç¤ºåäºä¸ºä¸ï¼ä½éè¿è¿ç§æ¹å¼èªå¨çæçè¡¨ååªè½å®ç°æåºç¡çå¢å æ¹æ¥é¡µé¢ï¼ç¨æ·å¯¹çé¢å±ç¤ºåå®¹åå½¢å¼çæ§å¶ç¨åº¦å¾ä½ï¼æ æ³æ»¡è¶³å¤§é¨åä¼ä¸è½¯ä»¶çéæ±ï¼æä»¥ä½ä»£ç å¹³å°ä¸è¬è¿ä¼æä¾èªå®ä¹é¡µé¢åè½ï¼ç¨æ·å¯æ ¹æ®éè¦å¨é¡µé¢ä¸éç½®æé®ãå¾è¡¨ç­åç´ ï¼æ»¡è¶³ä¸ªæ§åéæ±ã\n\n# ä¸å¡æµç¨\n\nä¸å¡æµç¨æä¸ºäºå®ç°æé¡¹ç®æ ï¼ç±å¤äººåä½ï¼æç§ä¸å®çè§åãé¡ºåºè¿è¡çä¸ç³»åæ´»å¨ï¼å¨è½¯ä»¶ä¸­ï¼ä¸å¡æµç¨çåä¸èå¯ä»¥æ¯äººï¼ä¹å¯ä»¥æ¯ç¨åºãä½ä»£ç å¹³å°å®ç°äºå¯è§åæµç¨éç½®ï¼ç¨æ·å¯¹è§¦åæ¡ä»¶ãå¤çèç¹ãèç¹åä¸èè¿è¡éç½®ï¼å®ç°èªå®ä¹ä¸å¡æµç¨ã\n\n# ç¨æ·æé\n\nå¤§é¨åçä½ä»£ç å¹³å°é½éç¨äºéå¸¸ç»å¸ç RBACï¼Role-Based Access Control ï¼æ¨¡åç®¡çç¨æ·æéï¼ç®åæ¥è¯´å°±æ¯å°æ¥æç¸åæéçç¨æ·æ·»å ä¸ºç¸åè§è²ï¼éè¿ä¸ºè§è²åéæéï¼å®ç°äºâç¨æ·ââè§è²ââæéâçæææ¨¡å¼ãç±äºä¼ä¸æ¯ä¸ä¸ªç»ç»ï¼ä¸è¬é½ä¼æé¨é¨çæ¦å¿µï¼æä»¥ä¹å¯ä»¥å°é¨é¨æ·»å å°æä¸ªè§è²ï¼å®ç°âç¨æ·ââé¨é¨ââè§è²ââæéâçæææ¨¡å¼ã\n\n# ç»è®¡å¾è¡¨\n\nç»è®¡å¾è¡¨å¯ä»¥ç±»æ¯ Excel ä¸­çéè§å¾ï¼ç»è®¡å¾è¡¨ç±æ°æ®æºãç»è®¡è§åãå±ç¤ºå½¢å¼å®ä¹ï¼ä½ä»£ç å¹³å°ä¹æ­£æ¯éµå¾ªè¿ç§æ¹å¼ï¼å®ç°ç»è®¡å¾è¡¨çå¯è§åéç½®ã\n\n\n# æµè¡äº§å\n\n# OutSystems\n\nOutSystems æ¯å¿«éåºç¨å¼åçå¤´å·ä½ä»£ç å¹³å°ï¼å¹¶ä¸æ¯ 2018 å¹´ Gartner é«çäº§åå¹³å°çé¢å¯¼èãOutSystems å·ç§°å°ä½ä»£ç åè½ä¸é«çº§ç§»å¨åè½ç¸ç»åçå¯ä¸è§£å³æ¹æ¡ï¼å®æ¯ææ´ä¸ªåºç¨ç¨åºç»åçå¯è§åå¼åï¼å¯è½»æ¾ä¸ç°æç³»ç»éæã\n\n# Mendix\n\nMendix å¸®å©ä¼ä¸æ¹ååæ°æ¹å¼ãéè¿ä½¿ç¨å¯è§åæ¨¡åï¼å¨ Mendix ä¸æå»ºåºç¨ç¨åºéå¸¸ç®åï¼å¿«éä¸ç´è§ï¼å¯ä½¿å¼åäººååä¸å¡åæäººåç­ä¼å¤äººåæå»ºå¼ºå¤§çåºç¨ç¨åºï¼èæ éç¼åä»£ç ãåå©æ¨¡åé©±å¨å¼åï¼ä¸å¡é¢å¯¼èå IT é¨é¨å¯ä»¥å±äº«è¯­è¨æ¥å¿«éæå»ºåºç¨ç¨åºã\n\n\n# é¡¶å±è®¾è®¡\n\nç±äºç³»ç»çç¨æ·ç¾¤ä½æ¯æä¸å®ææ¯åºç¡çå¼åäººåãæä»¥ï¼ç³»ç»å®ä½æ¯ä½ä»£ç å¹³å°ï¼èéé¶ä»£ç å¹³å°ã\n\nå¶æ¬¡ï¼ç±äºç³»ç»ä¸»è¦æ¯ç¨äºç®ååºæ¬çé¡µé¢å¼åï¼æä»¥ææ¯è·¯çº¿åºè¯¥éæ©ï¼åºäºæ¨¡åé©±å¨çåºç¨å¹³å°ã\n\næåï¼ç±äºçæçä»£ç æ¯åºç¨äº Java Web æ¡æ¶ãçæçåç«¯ä»£ç æ¯ java ä»£ç ï¼åç«¯ä»£ç æ¯åºäº vue + element-ui çæçåç«¯ä»£ç ã\n\n\n\nä»£ç çæè§åå¯¹åºçæ°æ®å»ºæ¨¡ï¼\n\n\n\nèªå¨çæååç«¯ä»£ç ã\n\n * åç«¯ä»£ç \n   * Controller\n   * Service\n   * ServiceImpl\n   * Daomybatis\n   * DaoImpl\n   * Mapper\n   * Query\n   * Dto\n   * Entity\n   * xml\n * åç«¯ä»£ç \n   * List\n   * Form\n   * Api\n\n\n# ç»ä»¶è®¾è®¡\n\n\n# åè¡¨é¡µ\n\n# æç´¢æ \n\n# æä½æ \n\n# è¡¨æ ¼\n\n# åé¡µ\n\n\n# è¡¨åé¡µ\n\n# è¡¨åç»ä»¶\n\n# æ ¡éªå¨\n\n\n# æ©å±è®¾è®¡\n\n\n# åèèµæ\n\n * ä½ä»£ç å¹³å°ï¼10 åéä»å¥é¨å°åç\n * æµè°ä½ä»£ç å¹³å°æ¶åçä¸äºææ¯éå",normalizedContent:"# è®¾è®¡ä¸ä¸ªä½ä»£ç å¹³å°\n\n> æ¬æç®æ æ¯è®¾è®¡ä¸ä¸ªç¨äºæé«å¼åäººåå¼åæççä½ä»£ç å¹³å°ï¼è¿éä¼éç¨ç³»ç»è§£å³æ¹æ¡è®¾è®¡çä¸è¬æè·¯æ¥éæ­¥æ¢å¯»è®¾è®¡æ¹æ¡ã\n\n\n# ä¸å¡åæ\n\n\n# ä½ä»£ç å¹³å°æ¯ä»ä¹\n\nå¹¿ä¹ä¸çä½ä»£ç å¹³å°åæ¬ä½ä»£ç å¹³å°åé¶ä»£ç å¹³å°ï¼å®ä»¬é½å±äº apaasï¼application platform as a service åºç¨å¹³å°å³æå¡ï¼ï¼ä¸¤èçä¸»è¦åºå«å¨äºå¯¹ä»£ç çä¾èµç¨åº¦ï¼\n\n * ä½ä»£ç å¹³å°ï¼éè¿èªå¨ä»£ç çæåå¯è§åç¼ç¨ï¼åªéè¦å°éä»£ç ï¼å³å¯å¿«éæ­å»ºåç§åºç¨ã\n * é¶ä»£ç å¹³å°ï¼é¶å¼åç»éªçä¸å¡äººåéè¿ææ½ç­æ¹å¼ï¼æ éç¼åä»£ç ï¼å³å¯å¿«éæ­å»ºåç§åºç¨ã\n\n\n# ææ¯è·¯çº¿\n\n# åºäº ide æ¡æ¶çå¿«éå¼åå¹³å°\n\nè¯¥æ¹æ¡å°ä¼ ç»çéæå¼åç¯å¢ï¼ideï¼ååå¯è§åï¼å¼åèå¯¹åç«¯çé¢ç»ä»¶ãæ°æ®æºç»å®æ¹å¼ãæ°æ®æ¨¡åãä¸å¡é»è¾åå·¥ä½æµç­é½å¯ä»¥èªç±å®ä¹ï¼å¹³å°å°èªå¨çæä»£ç ï¼å¼åèä¹å¯ä»¥æ·»å èªå·±çä»£ç ï¼å¯¹ç¨åºå·æè¾å¼ºçæ§å¶è½åï¼å æ­¤è¯¥æ¹æ¡å·å¤æ´é«ççµæ´»æ§ï¼å¯ä»¥è®¾è®¡åºå®å¶åç¨åº¦é«ãé»è¾å¤æçè½¯ä»¶ã\n\nç±äºè¯¥æ¹æ¡ä»æ¶åä»£ç å¼åãé¨ç½²ç­ææ¯å·¥ä½ï¼æä»¥å®ä»ç¶æ¯ä¸ä¸ªææ¯å¼åå¹³å°ï¼éè¦è¾é«çå­¦ä¹ ææ¬ï¼ä¸»è¦ä»·å¼æ¯æé«å¼åæçï¼åå°éå¤å³å¨ã\n\noutsystems å°±æ¯éç¨è¯¥æ¹æ¡çå¸åäº§åï¼å¦ä¸ä¸ºäº§åæªå¾ï¼\n\n\n\n# åºäºæ¨¡åé©±å¨çåºç¨å¹³å°\n\nç¨æ·éè¿å¯è§åæ¹å¼æå»ºæ°æ®æ¨¡åãè§å¾ãæéãå·¥ä½æµç­ï¼å³å¯å¨å¹³å°æä¾çç¯å¢ä¸­è¿è¡ï¼æ éç¼è¯é¨ç½²ï¼æ´åä¸ç§å»çå¼çåºç¨æ­å»ºå¹³å°ãå¹³å°å¯¹åç±»ç»ä»¶ãä¸å¡é»è¾åäºè¾é«å±çº§çå°è£ï¼å æ­¤ç¨æ·æ æ³éå¿ææ¬²ä¿®æ¹çé¢é£æ ¼ãäº¤äºæ¹å¼ãå¤çé»è¾ç­ã\n\nè¯¥æ¹æ¡å¯ä»¥å®ç°å®å¨é¶ä»£ç ï¼å¯¹ä½¿ç¨èææ¯è¦æ±ä¸é«ï¼ä½éè¦å·å¤ä¸å¡æ½è±¡ãå»ºæ¨¡è½åãä¸»è¦ä»·å¼æ¯éä½å¼åé¨æ§ãå¿«ééåºååã\n\næéäºãä¼ä¼´äºç­é½æ¯æ­¤ç±»æ¹æ¡çå¸åäº§åï¼å¦ä¸ä¸ºæéäºçäº§åæªå¾ï¼\n\n\n\n\n# æ ¸å¿è¦ç´ \n\nç»å¤§é¨åçä¼ä¸è½¯ä»¶ç±ä»¥ä¸åä¸ªé¨åç»æï¼\n\n * ä¸å¡å®ä½ï¼å³æä½å¯¹è±¡ï¼å¦å®¢æ·ãè®¢å\n * ä¸å¡æ´»å¨ï¼å³è¿è¡ä½ç§æä½ï¼å¦éè´­ç³è¯·ãååå®¡æ¹\n * ä¸å¡æéï¼å³ä½ç§äººæ¥æä½ç§æéï¼åæ¬æ°æ®æ¥çæéåæ°æ®æä½æéï¼å¦é¨é¨ç»çå¯ä»¥ç®¡çææä¸å±çå®¢æ·ä¿¡æ¯ï¼èåå·¥åªè½ç®¡çèªå·±çå®¢æ·ä¿¡æ¯\n * ç»è®¡æ¥è¡¨ï¼å³ä»åªäºæ¹é¢éåä¼ä¸æ´»å¨æåµï¼å¦å®¢æ·å¢é¿çãåæéå®é¢è¶å¿\n\nä½ä»£ç å¹³å°å°ä»¥ä¸è¿è¡æ½è±¡ï¼æ¯ææ°æ®æ¨¡åãä¸å¡æµç¨ãç¨æ·æéãç»è®¡å¾è¡¨ï¼å æ­¤å¯ä»¥ä½ä¸ºæ´éç¨çä¼ä¸è½¯ä»¶è§£å³æ¹æ¡ï¼è¿åç±»è½åä¹æ¯ä»»ä½ä¸ä¸ªä½ä»£ç å¹³å°é½å¿é¡»å·å¤çæ ¸å¿è¦ç´ ã\n\n# æ°æ®æ¨¡å\n\nå»ºç«æ°æ®æ¨¡åå°±æ¯æåä¸å¡å®ä½çæ°æ®ç¹å¾ï¼æ½è±¡ä¸ºæ°æ®è¡¨ï¼å»ºç«è¡¨é´å³ç³»ãå¶ä½ er å¾çè¿ç¨å°±æ¯æ°æ®å»ºæ¨¡ãå¸é¢ä¸å¸¸è§çä½ä»£ç å¹³å°åæä¾äºä¸°å¯çæ§ä»¶ï¼å¯ä»¥ææ½å®ææ°æ®æ¨¡åæ­å»ºãæ­¤å¤ï¼æ°æ®æ¨¡åæ­å»ºä¸è¡¨åå±ç¤ºåäºä¸ºä¸ï¼æ¯å®æä¸ä¸ªæ°æ®è¡¨çåå»ºï¼å°±èªå¨çæäºè¯¥è¡¨çå¢å æ¹æ¥åè½åç¸å³é¡µé¢ï¼è¿èéèäºæ°æ®åºè®¾è®¡ãåç«¯å¼åè¿äºä¸ä¸ææ¯ãå¶å®ï¼è¿ä¹å°±æ¯æä»¬å¸¸è¯´çè¡¨åå¼æã\n\nè¿éé¡ºä¾¿æä¸ä¸ï¼è½ç¶å¾å¤ä½ä»£ç å¹³å°å°æ°æ®å»ºæ¨¡ä¸è¡¨åå±ç¤ºåäºä¸ºä¸ï¼ä½éè¿è¿ç§æ¹å¼èªå¨çæçè¡¨ååªè½å®ç°æåºç¡çå¢å æ¹æ¥é¡µé¢ï¼ç¨æ·å¯¹çé¢å±ç¤ºåå®¹åå½¢å¼çæ§å¶ç¨åº¦å¾ä½ï¼æ æ³æ»¡è¶³å¤§é¨åä¼ä¸è½¯ä»¶çéæ±ï¼æä»¥ä½ä»£ç å¹³å°ä¸è¬è¿ä¼æä¾èªå®ä¹é¡µé¢åè½ï¼ç¨æ·å¯æ ¹æ®éè¦å¨é¡µé¢ä¸éç½®æé®ãå¾è¡¨ç­åç´ ï¼æ»¡è¶³ä¸ªæ§åéæ±ã\n\n# ä¸å¡æµç¨\n\nä¸å¡æµç¨æä¸ºäºå®ç°æé¡¹ç®æ ï¼ç±å¤äººåä½ï¼æç§ä¸å®çè§åãé¡ºåºè¿è¡çä¸ç³»åæ´»å¨ï¼å¨è½¯ä»¶ä¸­ï¼ä¸å¡æµç¨çåä¸èå¯ä»¥æ¯äººï¼ä¹å¯ä»¥æ¯ç¨åºãä½ä»£ç å¹³å°å®ç°äºå¯è§åæµç¨éç½®ï¼ç¨æ·å¯¹è§¦åæ¡ä»¶ãå¤çèç¹ãèç¹åä¸èè¿è¡éç½®ï¼å®ç°èªå®ä¹ä¸å¡æµç¨ã\n\n# ç¨æ·æé\n\nå¤§é¨åçä½ä»£ç å¹³å°é½éç¨äºéå¸¸ç»å¸ç rbacï¼role-based access control ï¼æ¨¡åç®¡çç¨æ·æéï¼ç®åæ¥è¯´å°±æ¯å°æ¥æç¸åæéçç¨æ·æ·»å ä¸ºç¸åè§è²ï¼éè¿ä¸ºè§è²åéæéï¼å®ç°äºâç¨æ·ââè§è²ââæéâçæææ¨¡å¼ãç±äºä¼ä¸æ¯ä¸ä¸ªç»ç»ï¼ä¸è¬é½ä¼æé¨é¨çæ¦å¿µï¼æä»¥ä¹å¯ä»¥å°é¨é¨æ·»å å°æä¸ªè§è²ï¼å®ç°âç¨æ·ââé¨é¨ââè§è²ââæéâçæææ¨¡å¼ã\n\n# ç»è®¡å¾è¡¨\n\nç»è®¡å¾è¡¨å¯ä»¥ç±»æ¯ excel ä¸­çéè§å¾ï¼ç»è®¡å¾è¡¨ç±æ°æ®æºãç»è®¡è§åãå±ç¤ºå½¢å¼å®ä¹ï¼ä½ä»£ç å¹³å°ä¹æ­£æ¯éµå¾ªè¿ç§æ¹å¼ï¼å®ç°ç»è®¡å¾è¡¨çå¯è§åéç½®ã\n\n\n# æµè¡äº§å\n\n# outsystems\n\noutsystems æ¯å¿«éåºç¨å¼åçå¤´å·ä½ä»£ç å¹³å°ï¼å¹¶ä¸æ¯ 2018 å¹´ gartner é«çäº§åå¹³å°çé¢å¯¼èãoutsystems å·ç§°å°ä½ä»£ç åè½ä¸é«çº§ç§»å¨åè½ç¸ç»åçå¯ä¸è§£å³æ¹æ¡ï¼å®æ¯ææ´ä¸ªåºç¨ç¨åºç»åçå¯è§åå¼åï¼å¯è½»æ¾ä¸ç°æç³»ç»éæã\n\n# mendix\n\nmendix å¸®å©ä¼ä¸æ¹ååæ°æ¹å¼ãéè¿ä½¿ç¨å¯è§åæ¨¡åï¼å¨ mendix ä¸æå»ºåºç¨ç¨åºéå¸¸ç®åï¼å¿«éä¸ç´è§ï¼å¯ä½¿å¼åäººååä¸å¡åæäººåç­ä¼å¤äººåæå»ºå¼ºå¤§çåºç¨ç¨åºï¼èæ éç¼åä»£ç ãåå©æ¨¡åé©±å¨å¼åï¼ä¸å¡é¢å¯¼èå it é¨é¨å¯ä»¥å±äº«è¯­è¨æ¥å¿«éæå»ºåºç¨ç¨åºã\n\n\n# é¡¶å±è®¾è®¡\n\nç±äºç³»ç»çç¨æ·ç¾¤ä½æ¯æä¸å®ææ¯åºç¡çå¼åäººåãæä»¥ï¼ç³»ç»å®ä½æ¯ä½ä»£ç å¹³å°ï¼èéé¶ä»£ç å¹³å°ã\n\nå¶æ¬¡ï¼ç±äºç³»ç»ä¸»è¦æ¯ç¨äºç®ååºæ¬çé¡µé¢å¼åï¼æä»¥ææ¯è·¯çº¿åºè¯¥éæ©ï¼åºäºæ¨¡åé©±å¨çåºç¨å¹³å°ã\n\næåï¼ç±äºçæçä»£ç æ¯åºç¨äº java web æ¡æ¶ãçæçåç«¯ä»£ç æ¯ java ä»£ç ï¼åç«¯ä»£ç æ¯åºäº vue + element-ui çæçåç«¯ä»£ç ã\n\n\n\nä»£ç çæè§åå¯¹åºçæ°æ®å»ºæ¨¡ï¼\n\n\n\nèªå¨çæååç«¯ä»£ç ã\n\n * åç«¯ä»£ç \n   * controller\n   * service\n   * serviceimpl\n   * daomybatis\n   * daoimpl\n   * mapper\n   * query\n   * dto\n   * entity\n   * xml\n * åç«¯ä»£ç \n   * list\n   * form\n   * api\n\n\n# ç»ä»¶è®¾è®¡\n\n\n# åè¡¨é¡µ\n\n# æç´¢æ \n\n# æä½æ \n\n# è¡¨æ ¼\n\n# åé¡µ\n\n\n# è¡¨åé¡µ\n\n# è¡¨åç»ä»¶\n\n# æ ¡éªå¨\n\n\n# æ©å±è®¾è®¡\n\n\n# åèèµæ\n\n * ä½ä»£ç å¹³å°ï¼10 åéä»å¥é¨å°åç\n * æµè°ä½ä»£ç å¹³å°æ¶åçä¸äºææ¯éå",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"æµ·éæ°æ®å¤ç",frontmatter:{title:"æµ·éæ°æ®å¤ç",date:"2021-08-19T22:15:16.000Z",categories:["è®¾è®¡","æ¶æ","è§£å³æ¹æ¡"],tags:["æ¶æ","è§£å³æ¹æ¡"],permalink:"/pages/d63886/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/01.%E6%9E%B6%E6%9E%84/99.%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/%E6%B5%B7%E9%87%8F%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86.html",relativePath:"03.è®¾è®¡/01.æ¶æ/99.è§£å³æ¹æ¡/æµ·éæ°æ®å¤ç.md",key:"v-6f5cbd38",path:"/pages/d63886/",headers:[{level:2,title:"å¦ä½ä»æµ·éç URL ä¸­æ¾åºç¸åç URLï¼",slug:"å¦ä½ä»æµ·éç-url-ä¸­æ¾åºç¸åç-url",normalizedTitle:"å¦ä½ä»æµ·éç url ä¸­æ¾åºç¸åç urlï¼",charIndex:13},{level:3,title:"é®é¢æè¿°",slug:"é®é¢æè¿°",normalizedTitle:"é®é¢æè¿°",charIndex:40},{level:3,title:"è§£å³æè·¯",slug:"è§£å³æè·¯",normalizedTitle:"è§£å³æè·¯",charIndex:120},{level:3,title:"æ¹æ¡æ»ç»",slug:"æ¹æ¡æ»ç»",normalizedTitle:"æ¹æ¡æ»ç»",charIndex:748},{level:2,title:"å¦ä½ä»æµ·éæ°æ®ä¸­æ¾åºé«é¢è¯ï¼",slug:"å¦ä½ä»æµ·éæ°æ®ä¸­æ¾åºé«é¢è¯",normalizedTitle:"å¦ä½ä»æµ·éæ°æ®ä¸­æ¾åºé«é¢è¯ï¼",charIndex:798},{level:3,title:"é®é¢æè¿°",slug:"é®é¢æè¿°-2",normalizedTitle:"é®é¢æè¿°",charIndex:40},{level:3,title:"è§£å³æè·¯",slug:"è§£å³æè·¯-2",normalizedTitle:"è§£å³æè·¯",charIndex:120},{level:3,title:"æ¹æ¡æ»ç»",slug:"æ¹æ¡æ»ç»-2",normalizedTitle:"æ¹æ¡æ»ç»",charIndex:748},{level:2,title:"å¦ä½æ¾åºæä¸å¤©è®¿é®ç¾åº¦ç½ç«æå¤ç IPï¼",slug:"å¦ä½æ¾åºæä¸å¤©è®¿é®ç¾åº¦ç½ç«æå¤ç-ip",normalizedTitle:"å¦ä½æ¾åºæä¸å¤©è®¿é®ç¾åº¦ç½ç«æå¤ç ipï¼",charIndex:1564},{level:3,title:"é®é¢æè¿°",slug:"é®é¢æè¿°-3",normalizedTitle:"é®é¢æè¿°",charIndex:40},{level:3,title:"è§£å³æè·¯",slug:"è§£å³æè·¯-3",normalizedTitle:"è§£å³æè·¯",charIndex:120},{level:3,title:"æ¹æ³æ»ç»",slug:"æ¹æ³æ»ç»",normalizedTitle:"æ¹æ³æ»ç»",charIndex:1852},{level:2,title:"å¦ä½å¨å¤§éçæ°æ®ä¸­æ¾åºä¸éå¤çæ´æ°ï¼",slug:"å¦ä½å¨å¤§éçæ°æ®ä¸­æ¾åºä¸éå¤çæ´æ°",normalizedTitle:"å¦ä½å¨å¤§éçæ°æ®ä¸­æ¾åºä¸éå¤çæ´æ°ï¼",charIndex:1938},{level:3,title:"é®é¢æè¿°",slug:"é®é¢æè¿°-4",normalizedTitle:"é®é¢æè¿°",charIndex:40},{level:3,title:"è§£å³æè·¯",slug:"è§£å³æè·¯-4",normalizedTitle:"è§£å³æè·¯",charIndex:120},{level:4,title:"æ¹æ³ä¸ï¼åæ²»æ³",slug:"æ¹æ³ä¸-åæ²»æ³",normalizedTitle:"æ¹æ³ä¸ï¼åæ²»æ³",charIndex:2021},{level:4,title:"æ¹æ³äºï¼ä½å¾æ³",slug:"æ¹æ³äº-ä½å¾æ³",normalizedTitle:"æ¹æ³äºï¼ä½å¾æ³",charIndex:2113},{level:3,title:"æ¹æ³æ»ç»",slug:"æ¹æ³æ»ç»-2",normalizedTitle:"æ¹æ³æ»ç»",charIndex:1852},{level:2,title:"å¦ä½å¨å¤§éçæ°æ®ä¸­å¤æ­ä¸ä¸ªæ°æ¯å¦å­å¨ï¼",slug:"å¦ä½å¨å¤§éçæ°æ®ä¸­å¤æ­ä¸ä¸ªæ°æ¯å¦å­å¨",normalizedTitle:"å¦ä½å¨å¤§éçæ°æ®ä¸­å¤æ­ä¸ä¸ªæ°æ¯å¦å­å¨ï¼",charIndex:2959},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°",normalizedTitle:"é¢ç®æè¿°",charIndex:2983},{level:3,title:"è§£ç­æè·¯",slug:"è§£ç­æè·¯",normalizedTitle:"è§£ç­æè·¯",charIndex:3062},{level:4,title:"æ¹æ³ä¸ï¼åæ²»æ³",slug:"æ¹æ³ä¸-åæ²»æ³-2",normalizedTitle:"æ¹æ³ä¸ï¼åæ²»æ³",charIndex:2021},{level:4,title:"æ¹æ³äºï¼ä½å¾æ³",slug:"æ¹æ³äº-ä½å¾æ³-2",normalizedTitle:"æ¹æ³äºï¼ä½å¾æ³",charIndex:2113},{level:3,title:"æ¹æ³æ»ç»",slug:"æ¹æ³æ»ç»-3",normalizedTitle:"æ¹æ³æ»ç»",charIndex:1852},{level:2,title:"å¦ä½æ¥è¯¢æç­é¨çæ¥è¯¢ä¸²ï¼",slug:"å¦ä½æ¥è¯¢æç­é¨çæ¥è¯¢ä¸²",normalizedTitle:"å¦ä½æ¥è¯¢æç­é¨çæ¥è¯¢ä¸²ï¼",charIndex:3311},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-2",normalizedTitle:"é¢ç®æè¿°",charIndex:2983},{level:3,title:"è§£ç­æè·¯",slug:"è§£ç­æè·¯-2",normalizedTitle:"è§£ç­æè·¯",charIndex:3062},{level:4,title:"æ¹æ³ä¸ï¼åæ²»æ³",slug:"æ¹æ³ä¸-åæ²»æ³-3",normalizedTitle:"æ¹æ³ä¸ï¼åæ²»æ³",charIndex:2021},{level:4,title:"æ¹æ³äºï¼HashMap æ³",slug:"æ¹æ³äº-hashmap-æ³",normalizedTitle:"æ¹æ³äºï¼hashmap æ³",charIndex:3732},{level:4,title:"æ¹æ³ä¸ï¼åç¼æ æ³ï¼å­å¸æ ï¼",slug:"æ¹æ³ä¸-åç¼æ æ³-å­å¸æ ",normalizedTitle:"æ¹æ³ä¸ï¼åç¼æ æ³ï¼å­å¸æ ï¼",charIndex:4079},{level:3,title:"æ¹æ³æ»ç»",slug:"æ¹æ³æ»ç»-4",normalizedTitle:"æ¹æ³æ»ç»",charIndex:1852},{level:2,title:"å¦ä½ç»è®¡ä¸åçµè¯å·ç çä¸ªæ°ï¼",slug:"å¦ä½ç»è®¡ä¸åçµè¯å·ç çä¸ªæ°",normalizedTitle:"å¦ä½ç»è®¡ä¸åçµè¯å·ç çä¸ªæ°ï¼",charIndex:4350},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-3",normalizedTitle:"é¢ç®æè¿°",charIndex:2983},{level:3,title:"è§£ç­æè·¯",slug:"è§£ç­æè·¯-3",normalizedTitle:"è§£ç­æè·¯",charIndex:3062},{level:3,title:"æ¹æ³æ»ç»",slug:"æ¹æ³æ»ç»-5",normalizedTitle:"æ¹æ³æ»ç»",charIndex:1852},{level:2,title:"å¦ä½ä» 5 äº¿ä¸ªæ°ä¸­æ¾åºä¸­ä½æ°ï¼",slug:"å¦ä½ä»-5-äº¿ä¸ªæ°ä¸­æ¾åºä¸­ä½æ°",normalizedTitle:"å¦ä½ä» 5 äº¿ä¸ªæ°ä¸­æ¾åºä¸­ä½æ°ï¼",charIndex:4703},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-4",normalizedTitle:"é¢ç®æè¿°",charIndex:2983},{level:3,title:"è§£ç­æè·¯",slug:"è§£ç­æè·¯-4",normalizedTitle:"è§£ç­æè·¯",charIndex:3062},{level:4,title:"æ¹æ³ä¸ï¼åå æ³",slug:"æ¹æ³ä¸-åå æ³",normalizedTitle:"æ¹æ³ä¸ï¼åå æ³",charIndex:4914},{level:4,title:"æ¹æ³äºï¼åæ²»æ³",slug:"æ¹æ³äº-åæ²»æ³",normalizedTitle:"æ¹æ³äºï¼åæ²»æ³",charIndex:6276},{level:3,title:"æ¹æ³æ»ç»",slug:"æ¹æ³æ»ç»-6",normalizedTitle:"æ¹æ³æ»ç»",charIndex:1852},{level:2,title:"å¦ä½æ¾åºæåå 500 çæ°ï¼",slug:"å¦ä½æ¾åºæåå-500-çæ°",normalizedTitle:"å¦ä½æ¾åºæåå 500 çæ°ï¼",charIndex:6794},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-5",normalizedTitle:"é¢ç®æè¿°",charIndex:2983},{level:3,title:"è§£ç­æè·¯",slug:"è§£ç­æè·¯-5",normalizedTitle:"è§£ç­æè·¯",charIndex:3062},{level:3,title:"æ¹æ³æ»ç»",slug:"æ¹æ³æ»ç»-7",normalizedTitle:"æ¹æ³æ»ç»",charIndex:1852},{level:2,title:"å¦ä½æç§ query çé¢åº¦æåºï¼",slug:"å¦ä½æç§-query-çé¢åº¦æåº",normalizedTitle:"å¦ä½æç§ query çé¢åº¦æåºï¼",charIndex:9132},{level:3,title:"é¢ç®æè¿°",slug:"é¢ç®æè¿°-6",normalizedTitle:"é¢ç®æè¿°",charIndex:2983},{level:3,title:"è§£ç­æè·¯",slug:"è§£ç­æè·¯-6",normalizedTitle:"è§£ç­æè·¯",charIndex:3062},{level:4,title:"æ¹æ³ä¸ï¼HashMap æ³",slug:"æ¹æ³ä¸-hashmap-æ³",normalizedTitle:"æ¹æ³ä¸ï¼hashmap æ³",charIndex:9353},{level:4,title:"æ¹æ³äºï¼åæ²»æ³",slug:"æ¹æ³äº-åæ²»æ³-2",normalizedTitle:"æ¹æ³äºï¼åæ²»æ³",charIndex:6276},{level:3,title:"æ¹æ³æ»ç»",slug:"æ¹æ³æ»ç»-8",normalizedTitle:"æ¹æ³æ»ç»",charIndex:1852}],headersStr:"å¦ä½ä»æµ·éç URL ä¸­æ¾åºç¸åç URLï¼ é®é¢æè¿° è§£å³æè·¯ æ¹æ¡æ»ç» å¦ä½ä»æµ·éæ°æ®ä¸­æ¾åºé«é¢è¯ï¼ é®é¢æè¿° è§£å³æè·¯ æ¹æ¡æ»ç» å¦ä½æ¾åºæä¸å¤©è®¿é®ç¾åº¦ç½ç«æå¤ç IPï¼ é®é¢æè¿° è§£å³æè·¯ æ¹æ³æ»ç» å¦ä½å¨å¤§éçæ°æ®ä¸­æ¾åºä¸éå¤çæ´æ°ï¼ é®é¢æè¿° è§£å³æè·¯ æ¹æ³ä¸ï¼åæ²»æ³ æ¹æ³äºï¼ä½å¾æ³ æ¹æ³æ»ç» å¦ä½å¨å¤§éçæ°æ®ä¸­å¤æ­ä¸ä¸ªæ°æ¯å¦å­å¨ï¼ é¢ç®æè¿° è§£ç­æè·¯ æ¹æ³ä¸ï¼åæ²»æ³ æ¹æ³äºï¼ä½å¾æ³ æ¹æ³æ»ç» å¦ä½æ¥è¯¢æç­é¨çæ¥è¯¢ä¸²ï¼ é¢ç®æè¿° è§£ç­æè·¯ æ¹æ³ä¸ï¼åæ²»æ³ æ¹æ³äºï¼HashMap æ³ æ¹æ³ä¸ï¼åç¼æ æ³ï¼å­å¸æ ï¼ æ¹æ³æ»ç» å¦ä½ç»è®¡ä¸åçµè¯å·ç çä¸ªæ°ï¼ é¢ç®æè¿° è§£ç­æè·¯ æ¹æ³æ»ç» å¦ä½ä» 5 äº¿ä¸ªæ°ä¸­æ¾åºä¸­ä½æ°ï¼ é¢ç®æè¿° è§£ç­æè·¯ æ¹æ³ä¸ï¼åå æ³ æ¹æ³äºï¼åæ²»æ³ æ¹æ³æ»ç» å¦ä½æ¾åºæåå 500 çæ°ï¼ é¢ç®æè¿° è§£ç­æè·¯ æ¹æ³æ»ç» å¦ä½æç§ query çé¢åº¦æåºï¼ é¢ç®æè¿° è§£ç­æè·¯ æ¹æ³ä¸ï¼HashMap æ³ æ¹æ³äºï¼åæ²»æ³ æ¹æ³æ»ç»",content:"# æµ·éæ°æ®å¤ç\n\n\n# å¦ä½ä»æµ·éç URL ä¸­æ¾åºç¸åç URLï¼\n\n\n# é®é¢æè¿°\n\nç»å® aãb ä¸¤ä¸ªæä»¶ï¼åå­æ¾ 50 äº¿ä¸ª URLï¼æ¯ä¸ª URL åå  64Bï¼åå­éå¶æ¯ 4Gãè¯·æ¾åº aãb ä¸¤ä¸ªæä»¶å±åç URLã\n\n\n# è§£å³æè·¯\n\næ¯ä¸ª URL å  64Bï¼é£ä¹ 50 äº¿ä¸ª URL å ç¨çç©ºé´å¤§å°çº¦ä¸º 320GBã\n\n> $$5,000,000,000 * 64 B â 5 GB * 64 = 320 GB$$\n\nç±äºåå­å¤§å°åªæ 4Gï¼å æ­¤ï¼æä»¬ä¸å¯è½ä¸æ¬¡æ§æææ URL å è½½å°åå­ä¸­å¤çãå¯¹äºè¿ç§ç±»åçé¢ç®ï¼ä¸è¬éç¨åæ²»ç­ç¥ï¼å³ï¼æä¸ä¸ªæä»¶ä¸­ç URL æç§æä¸ªç¹å¾ååä¸ºå¤ä¸ªå°æä»¶ï¼ä½¿å¾æ¯ä¸ªå°æä»¶å¤§å°ä¸è¶è¿ 4Gï¼è¿æ ·å°±å¯ä»¥æè¿ä¸ªå°æä»¶è¯»å°åå­ä¸­è¿è¡å¤çäºã\n\næè·¯å¦ä¸ï¼\n\né¦åéåæä»¶ aï¼å¯¹éåå°ç URL æ± hash(URL) % 1000ï¼æ ¹æ®è®¡ç®ç»ææéåå°ç URL å­å¨å° a0, a1, a2, ..., a999ï¼è¿æ ·æ¯ä¸ªå¤§å°çº¦ä¸º 300MBãä½¿ç¨åæ ·çæ¹æ³éåæä»¶ bï¼ææä»¶ b ä¸­ç URL åå«å­å¨å°æä»¶ b0, b1, b2, ..., b999 ä¸­ãè¿æ ·å¤çè¿åï¼ææå¯è½ç¸åç URL é½å¨å¯¹åºçå°æä»¶ä¸­ï¼å³ a0 å¯¹åº b0, ..., a999 å¯¹åº b999ï¼ä¸å¯¹åºçå°æä»¶ä¸å¯è½æç¸åç URLãé£ä¹æ¥ä¸æ¥ï¼æä»¬åªéè¦æ±åºè¿ 1000 å¯¹å°æä»¶ä¸­ç¸åç URL å°±å¥½äºã\n\næ¥çéå ai( iâ[0,999])ï¼æ URL å­å¨å°ä¸ä¸ª HashSet éåä¸­ãç¶åéå bi ä¸­æ¯ä¸ª URLï¼çå¨ HashSet éåä¸­æ¯å¦å­å¨ï¼è¥å­å¨ï¼è¯´æè¿å°±æ¯å±åç URLï¼å¯ä»¥æè¿ä¸ª URL ä¿å­å°ä¸ä¸ªåç¬çæä»¶ä¸­ã\n\n\n# æ¹æ¡æ»ç»\n\n * åèæ²»ä¹ï¼è¿è¡åå¸åä½ï¼\n * å¯¹æ¯ä¸ªå­æä»¶è¿è¡ HashSet ç»è®¡ã\n\n\n# å¦ä½ä»æµ·éæ°æ®ä¸­æ¾åºé«é¢è¯ï¼\n\n\n# é®é¢æè¿°\n\næä¸ä¸ª 1GB å¤§å°çæä»¶ï¼æä»¶éæ¯ä¸è¡æ¯ä¸ä¸ªè¯ï¼æ¯ä¸ªè¯çå¤§å°ä¸è¶è¿ 16Bï¼åå­å¤§å°éå¶æ¯ 1MBï¼è¦æ±è¿åé¢æ°æé«ç 100 ä¸ªè¯(Top 100)ã\n\n\n# è§£å³æè·¯\n\nç±äºåå­éå¶ï¼æ æ³ç´æ¥å°å¤§æä»¶çææè¯ä¸æ¬¡è¯»å°åå­ä¸­ãå æ­¤ï¼å¯ä»¥éç¨åæ²»ç­ç¥ï¼æä¸ä¸ªå¤§æä»¶åè§£æå¤ä¸ªå°æä»¶ï¼ä¿è¯æ¯ä¸ªæä»¶çå¤§å°å°äº 1MBï¼è¿èç´æ¥å°åä¸ªå°æä»¶è¯»åå°åå­ä¸­è¿è¡å¤çã\n\næè·¯å¦ä¸ï¼\n\né¦åéåå¤§æä»¶ï¼å¯¹éåå°çæ¯ä¸ªè¯ xï¼æ§è¡ hash(x) % 5000ï¼å°ç»æä¸º i çè¯å­æ¾å°æä»¶ Ai ä¸­ãéåç»æåï¼æä»¬å¯ä»¥å¾å° 5000 ä¸ªå°æä»¶ãæ¯ä¸ªå°æä»¶çå¤§å°ä¸º 200KB å·¦å³ãå¦ææçå°æä»¶å¤§å°ä»ç¶è¶è¿ 1MBï¼åéç¨åæ ·çæ¹å¼ç»§ç»­è¿è¡åè§£ã\n\næ¥çç»è®¡æ¯ä¸ªå°æä»¶ä¸­åºç°é¢æ°æé«ç 100 ä¸ªè¯ãæç®åçæ¹å¼æ¯ä½¿ç¨ HashMap æ¥å®ç°ãå¶ä¸­ key ä¸ºè¯ï¼value ä¸ºè¯¥è¯åºç°çé¢çãå·ä½æ¹æ³æ¯ï¼å¯¹äºéåå°çè¯ xï¼å¦æå¨ map ä¸­ä¸å­å¨ï¼åæ§è¡ map.put(x, 1) è¥å­å¨ï¼åæ§è¡ map.put(x, map.get(x)+1)ï¼å°è¯¥è¯é¢æ°å  1ã\n\nä¸é¢æä»¬ç»è®¡äºæ¯ä¸ªå°æä»¶åè¯åºç°çé¢æ°ãæ¥ä¸æ¥ï¼æä»¬å¯ä»¥éè¿ç»´æ¤ä¸ä¸ªå°é¡¶å æ¥æ¾åºææè¯ä¸­åºç°é¢æ°æé«ç 100 ä¸ªãå·ä½æ¹æ³æ¯ï¼ä¾æ¬¡éåæ¯ä¸ªå°æä»¶ï¼æå»ºä¸ä¸ªå°é¡¶å ï¼å å¤§å°ä¸º 100ãå¦æéåå°çè¯çåºç°æ¬¡æ°å¤§äºå é¡¶è¯çåºç°æ¬¡æ°ï¼åç¨æ°è¯æ¿æ¢å é¡¶çè¯ï¼ç¶åéæ°è°æ´ä¸ºå°é¡¶å ï¼éåç»æåï¼å°é¡¶å ä¸çè¯å°±æ¯åºç°é¢æ°æé«ç 100 ä¸ªè¯ã\n\n\n# æ¹æ¡æ»ç»\n\n * åèæ²»ä¹ï¼è¿è¡åå¸åä½ï¼\n * ä½¿ç¨ HashMap ç»è®¡é¢æ°ï¼\n * æ±è§£æå¤§ç TopN ä¸ªï¼ç¨å°é¡¶å ï¼æ±è§£æå°ç TopN ä¸ªï¼ç¨å¤§é¡¶å ã\n\n\n# å¦ä½æ¾åºæä¸å¤©è®¿é®ç¾åº¦ç½ç«æå¤ç IPï¼\n\n\n# é®é¢æè¿°\n\nç°ææµ·éæ¥å¿æ°æ®ä¿å­å¨ä¸ä¸ªè¶å¤§æä»¶ä¸­ï¼è¯¥æä»¶æ æ³ç´æ¥è¯»å¥åå­ï¼è¦æ±ä»ä¸­æåæå¤©è®¿é®ç¾åº¦æ¬¡æ°æå¤çé£ä¸ª IPã\n\n\n# è§£å³æè·¯\n\nè¿éé¢åªå³å¿æä¸å¤©è®¿é®ç¾åº¦æå¤ç IPï¼å æ­¤ï¼å¯ä»¥é¦åå¯¹æä»¶è¿è¡ä¸æ¬¡éåï¼æè¿ä¸å¤©è®¿é®ç¾åº¦ IP çç¸å³ä¿¡æ¯è®°å½å°ä¸ä¸ªåç¬çå¤§æä»¶ä¸­ãæ¥ä¸æ¥éç¨çæ¹æ³ä¸ä¸ä¸é¢ä¸æ ·ï¼å¤§è´å°±æ¯åå¯¹ IP è¿è¡åå¸æ å°ï¼æ¥çä½¿ç¨ HashMap ç»è®¡éå¤ IP çæ¬¡æ°ï¼æåè®¡ç®åºéå¤æ¬¡æ°æå¤ç IPã\n\n> æ³¨ï¼è¿éåªéè¦æ¾åºåºç°æ¬¡æ°æå¤ç IPï¼å¯ä»¥ä¸å¿ä½¿ç¨å ï¼ç´æ¥ç¨ä¸ä¸ªåé max å³å¯ã\n\n\n# æ¹æ³æ»ç»\n\n * åèæ²»ä¹ï¼è¿è¡åå¸åä½ï¼\n * ä½¿ç¨ HashMap ç»è®¡é¢æ°ï¼\n * æ±è§£æå¤§ç TopN ä¸ªï¼ç¨å°é¡¶å ï¼æ±è§£æå°ç TopN ä¸ªï¼ç¨å¤§é¡¶å ã\n\n\n# å¦ä½å¨å¤§éçæ°æ®ä¸­æ¾åºä¸éå¤çæ´æ°ï¼\n\n\n# é®é¢æè¿°\n\nå¨ 2.5 äº¿ä¸ªæ´æ°ä¸­æ¾åºä¸éå¤çæ´æ°ãæ³¨æï¼åå­ä¸è¶³ä»¥å®¹çº³è¿ 2.5 äº¿ä¸ªæ´æ°ã\n\n\n# è§£å³æè·¯\n\n# æ¹æ³ä¸ï¼åæ²»æ³\n\nä¸åé¢çé¢ç®æ¹æ³ç±»ä¼¼ï¼åå° 2.5 äº¿ä¸ªæ°ååå°å¤ä¸ªå°æä»¶ï¼ç¨ HashSet/HashMap æ¾åºæ¯ä¸ªå°æä»¶ä¸­ä¸éå¤çæ´æ°ï¼ååå¹¶æ¯ä¸ªå­ç»æï¼å³ä¸ºæç»ç»æã\n\n# æ¹æ³äºï¼ä½å¾æ³\n\nä½å¾ï¼å°±æ¯ç¨ä¸ä¸ªæå¤ä¸ª bit æ¥æ è®°æä¸ªåç´ å¯¹åºçå¼ï¼èé®å°±æ¯è¯¥åç´ ãéç¨ä½ä½ä¸ºåä½æ¥å­å¨æ°æ®ï¼å¯ä»¥å¤§å¤§èçå­å¨ç©ºé´ã\n\nä½å¾éè¿ä½¿ç¨ä½æ°ç»æ¥è¡¨ç¤ºæäºåç´ æ¯å¦å­å¨ãå®å¯ä»¥ç¨äºå¿«éæ¥æ¾ï¼å¤éï¼æåºç­ãä¸æ¯å¾æ¸æ¥ï¼æåä¸¾ä¸ªå°ä¾å­ã\n\nåè®¾æä»¬è¦å¯¹ [0,7] ä¸­ç 5 ä¸ªåç´  (6, 4, 2, 1, 5) è¿è¡æåºï¼å¯ä»¥éç¨ä½å¾æ³ã0~7 èå´æ»å±æ 8 ä¸ªæ°ï¼åªéè¦ 8bitï¼å³ 1 ä¸ªå­èãé¦åå°æ¯ä¸ªä½é½ç½® 0ï¼\n\n0 0 0 0 0 0 0 0\n\n\nç¶åéå 5 ä¸ªåç´ ï¼é¦åéå° 6ï¼é£ä¹å°ä¸æ ä¸º 6 çä½ç 0 ç½®ä¸º 1ï¼æ¥çéå° 4ï¼æä¸æ ä¸º 4 çä½ ç 0 ç½®ä¸º 1ï¼\n\n0 0 0 0 1 0 1 0\n\n\nä¾æ¬¡éåï¼ç»æåï¼ä½æ°ç»æ¯è¿æ ·çï¼\n\n0 1 1 0 1 1 1 0\n\n\næ¯ä¸ªä¸º 1 çä½ï¼å®çä¸æ é½è¡¨ç¤ºäºä¸ä¸ªæ°ï¼\n\nfor i in range(8):\n    if bits[i] == 1:\n        print(i)\n\n\nè¿æ ·æä»¬å¶å®å°±å·²ç»å®ç°äºæåºã\n\nå¯¹äºæ´æ°ç¸å³çç®æ³çæ±è§£ï¼ä½å¾æ³æ¯ä¸ç§éå¸¸å®ç¨çç®æ³ãåè®¾ int æ´æ°å ç¨ 4Bï¼å³ 32bitï¼é£ä¹æä»¬å¯ä»¥è¡¨ç¤ºçæ´æ°çä¸ªæ°ä¸º 232ã\n\né£ä¹å¯¹äºè¿éé¢ï¼æä»¬ç¨ 2 ä¸ª bit æ¥è¡¨ç¤ºåä¸ªæ°å­çç¶æï¼\n\n * 00 è¡¨ç¤ºè¿ä¸ªæ°å­æ²¡åºç°è¿ï¼\n * 01 è¡¨ç¤ºè¿ä¸ªæ°å­åºç°è¿ä¸æ¬¡ï¼å³ä¸ºé¢ç®ææ¾çä¸éå¤æ´æ°ï¼ï¼\n * 10 è¡¨ç¤ºè¿ä¸ªæ°å­åºç°äºå¤æ¬¡ã\n\né£ä¹è¿ 232 ä¸ªæ´æ°ï¼æ»å±æéåå­ä¸º 232*2b=1GBãå æ­¤ï¼å½å¯ç¨åå­è¶è¿ 1GB æ¶ï¼å¯ä»¥éç¨ä½å¾æ³ãåè®¾åå­æ»¡è¶³ä½å¾æ³éæ±ï¼è¿è¡ä¸é¢çæä½ï¼\n\néå 2.5 äº¿ä¸ªæ´æ°ï¼æ¥çä½å¾ä¸­å¯¹åºçä½ï¼å¦ææ¯ 00ï¼ååä¸º 01ï¼å¦ææ¯ 01 ååä¸º 10ï¼å¦ææ¯ 10 åä¿æä¸åãéåç»æåï¼æ¥çä½å¾ï¼æå¯¹åºä½æ¯ 01 çæ´æ°è¾åºå³å¯ã\n\n\n# æ¹æ³æ»ç»\n\nå¤æ­æ°å­æ¯å¦éå¤çé®é¢ï¼ä½å¾æ³æ¯ä¸ç§éå¸¸é«æçæ¹æ³ã\n\n\n# å¦ä½å¨å¤§éçæ°æ®ä¸­å¤æ­ä¸ä¸ªæ°æ¯å¦å­å¨ï¼\n\n\n# é¢ç®æè¿°\n\nç»å® 40 äº¿ä¸ªä¸éå¤çæ²¡æè¿åºç unsigned int åæ´æ°ï¼ç¶ååç»å®ä¸ä¸ªæ°ï¼å¦ä½å¿«éå¤æ­è¿ä¸ªæ°æ¯å¦å¨è¿ 40 äº¿ä¸ªæ´æ°å½ä¸­ï¼\n\n\n# è§£ç­æè·¯\n\n# æ¹æ³ä¸ï¼åæ²»æ³\n\nä¾ç¶å¯ä»¥ç¨åæ²»æ³è§£å³ï¼æ¹æ³ä¸åé¢ç±»ä¼¼ï¼å°±ä¸åæ¬¡èµè¿°äºã\n\n# æ¹æ³äºï¼ä½å¾æ³\n\n40 äº¿ä¸ªä¸éå¤æ´æ°ï¼æä»¬ç¨ 40 äº¿ä¸ª bit æ¥è¡¨ç¤ºï¼åå§ä½åä¸º 0ï¼é£ä¹æ»å±éè¦åå­ï¼4,000,000,000bâ512Mã\n\næä»¬è¯»åè¿ 40 äº¿ä¸ªæ´æ°ï¼å°å¯¹åºç bit è®¾ç½®ä¸º 1ãæ¥çè¯»åè¦æ¥è¯¢çæ°ï¼æ¥çç¸åºä½æ¯å¦ä¸º 1ï¼å¦æä¸º 1 è¡¨ç¤ºå­å¨ï¼å¦æä¸º 0 è¡¨ç¤ºä¸å­å¨ã\n\n\n# æ¹æ³æ»ç»\n\nå¤æ­æ°å­æ¯å¦å­å¨ãå¤æ­æ°å­æ¯å¦éå¤çé®é¢ï¼ä½å¾æ³æ¯ä¸ç§éå¸¸é«æçæ¹æ³ã\n\n\n# å¦ä½æ¥è¯¢æç­é¨çæ¥è¯¢ä¸²ï¼\n\n\n# é¢ç®æè¿°\n\næç´¢å¼æä¼éè¿æ¥å¿æä»¶æç¨æ·æ¯æ¬¡æ£ç´¢ä½¿ç¨çæææ¥è¯¢ä¸²é½è®°å½ä¸æ¥ï¼æ¯ä¸ªæ¥è¯¢ä¸²çé¿åº¦ä¸è¶è¿ 255 å­èã\n\nåè®¾ç®åæ 1000w ä¸ªè®°å½ï¼è¿äºæ¥è¯¢ä¸²çéå¤åº¦æ¯è¾é«ï¼è½ç¶æ»æ°æ¯ 1000wï¼ä½å¦æé¤å»éå¤åï¼åä¸è¶è¿ 300w ä¸ªï¼ãè¯·ç»è®¡æç­é¨ç 10 ä¸ªæ¥è¯¢ä¸²ï¼è¦æ±ä½¿ç¨çåå­ä¸è½è¶è¿ 1Gãï¼ä¸ä¸ªæ¥è¯¢ä¸²çéå¤åº¦è¶é«ï¼è¯´ææ¥è¯¢å®çç¨æ·è¶å¤ï¼ä¹å°±è¶ç­é¨ãï¼\n\n\n# è§£ç­æè·¯\n\næ¯ä¸ªæ¥è¯¢ä¸²æé¿ä¸º 255Bï¼1000w ä¸ªä¸²éè¦å ç¨ çº¦ 2.55G åå­ï¼å æ­¤ï¼æä»¬æ æ³å°ææå­ç¬¦ä¸²å¨é¨è¯»å¥å°åå­ä¸­å¤çã\n\n# æ¹æ³ä¸ï¼åæ²»æ³\n\nåæ²»æ³ä¾ç¶æ¯ä¸ä¸ªéå¸¸å®ç¨çæ¹æ³ã\n\nååä¸ºå¤ä¸ªå°æä»¶ï¼ä¿è¯åä¸ªå°æä»¶ä¸­çå­ç¬¦ä¸²è½è¢«ç´æ¥å è½½å°åå­ä¸­å¤çï¼ç¶åæ±åºæ¯ä¸ªæä»¶ä¸­åºç°æ¬¡æ°æå¤ç 10 ä¸ªå­ç¬¦ä¸²ï¼æåéè¿ä¸ä¸ªå°é¡¶å ç»è®¡åºæææä»¶ä¸­åºç°æå¤ç 10 ä¸ªå­ç¬¦ä¸²ã\n\næ¹æ³å¯è¡ï¼ä½ä¸æ¯æå¥½ï¼ä¸é¢ä»ç»å¶ä»æ¹æ³ã\n\n# æ¹æ³äºï¼HashMap æ³\n\nè½ç¶å­ç¬¦ä¸²æ»æ°æ¯è¾å¤ï¼ä½å»éåä¸è¶è¿ 300wï¼å æ­¤ï¼å¯ä»¥èèæææå­ç¬¦ä¸²ååºç°æ¬¡æ°ä¿å­å¨ä¸ä¸ª HashMap ä¸­ï¼æå ç¨çç©ºé´ä¸º 300w*(255+4)â777Mï¼å¶ä¸­ï¼4 è¡¨ç¤ºæ´æ°å ç¨ç 4 ä¸ªå­èï¼ãç±æ­¤å¯è§ï¼1G çåå­ç©ºé´å®å¨å¤ç¨ã\n\næè·¯å¦ä¸ï¼\n\né¦åï¼éåå­ç¬¦ä¸²ï¼è¥ä¸å¨ map ä¸­ï¼ç´æ¥å­å¥ mapï¼value è®°ä¸º 1ï¼è¥å¨ map ä¸­ï¼åæå¯¹åºç value å  1ï¼è¿ä¸æ­¥æ¶é´å¤æåº¦ O(N)ã\n\næ¥çéå mapï¼æå»ºä¸ä¸ª 10 ä¸ªåç´ çå°é¡¶å ï¼è¥éåå°çå­ç¬¦ä¸²çåºç°æ¬¡æ°å¤§äºå é¡¶å­ç¬¦ä¸²çåºç°æ¬¡æ°ï¼åè¿è¡æ¿æ¢ï¼å¹¶å°å è°æ´ä¸ºå°é¡¶å ã\n\néåç»æåï¼å ä¸­ 10 ä¸ªå­ç¬¦ä¸²å°±æ¯åºç°æ¬¡æ°æå¤çå­ç¬¦ä¸²ãè¿ä¸æ­¥æ¶é´å¤æåº¦ O(Nlog10)ã\n\n# æ¹æ³ä¸ï¼åç¼æ æ³ï¼å­å¸æ ï¼\n\næ¹æ³äºä½¿ç¨äº HashMap æ¥ç»è®¡æ¬¡æ°ï¼å½è¿äºå­ç¬¦ä¸²æå¤§éç¸ååç¼æ¶ï¼å¯ä»¥èèä½¿ç¨åç¼æ æ¥ç»è®¡å­ç¬¦ä¸²åºç°çæ¬¡æ°ï¼æ çç»ç¹ä¿å­å­ç¬¦ä¸²åºç°æ¬¡æ°ï¼0 è¡¨ç¤ºæ²¡æåºç°ã\n\næè·¯å¦ä¸ï¼\n\nå¨éåå­ç¬¦ä¸²æ¶ï¼å¨åç¼æ ä¸­æ¥æ¾ï¼å¦ææ¾å°ï¼åæç»ç¹ä¸­ä¿å­çå­ç¬¦ä¸²æ¬¡æ°å  1ï¼å¦åä¸ºè¿ä¸ªå­ç¬¦ä¸²æå»ºæ°ç»ç¹ï¼æå»ºå®æåæå¶å­ç»ç¹ä¸­å­ç¬¦ä¸²çåºç°æ¬¡æ°ç½®ä¸º 1ã\n\næåä¾ç¶ä½¿ç¨å°é¡¶å æ¥å¯¹å­ç¬¦ä¸²çåºç°æ¬¡æ°è¿è¡æåºã\n\n\n# æ¹æ³æ»ç»\n\nåç¼æ ç»å¸¸è¢«ç¨æ¥ç»è®¡å­ç¬¦ä¸²çåºç°æ¬¡æ°ãå®çå¦å¤ä¸ä¸ªå¤§çç¨éæ¯å­ç¬¦ä¸²æ¥æ¾ï¼å¤æ­æ¯å¦æéå¤çå­ç¬¦ä¸²ç­ã\n\n\n# å¦ä½ç»è®¡ä¸åçµè¯å·ç çä¸ªæ°ï¼\n\n\n# é¢ç®æè¿°\n\nå·²ç¥æä¸ªæä»¶ååå«ä¸äºçµè¯å·ç ï¼æ¯ä¸ªå·ç ä¸º 8 ä½æ°å­ï¼ç»è®¡ä¸åå·ç çä¸ªæ°ã\n\n\n# è§£ç­æè·¯\n\nè¿éé¢æ¬è´¨è¿æ¯æ±è§£æ°æ®éå¤çé®é¢ï¼å¯¹äºè¿ç±»é®é¢ï¼ä¸è¬é¦åèèä½å¾æ³ã\n\nå¯¹äºæ¬é¢ï¼8 ä½çµè¯å·ç å¯ä»¥è¡¨ç¤ºçå·ç ä¸ªæ°ä¸º $$10^8$$ ä¸ªï¼å³ 1 äº¿ä¸ªãæä»¬æ¯ä¸ªå·ç ç¨ä¸ä¸ª bit æ¥è¡¨ç¤ºï¼åæ»å±éè¦ 1 äº¿ä¸ª bitï¼åå­å ç¨çº¦ 100Mã\n\næè·¯å¦ä¸ï¼\n\nç³è¯·ä¸ä¸ªä½å¾æ°ç»ï¼é¿åº¦ä¸º 1 äº¿ï¼åå§åä¸º 0ãç¶åéåææçµè¯å·ç ï¼æå·ç å¯¹åºçä½å¾ä¸­çä½ç½®ç½®ä¸º 1ãéåå®æåï¼å¦æ bit ä¸º 1ï¼åè¡¨ç¤ºè¿ä¸ªçµè¯å·ç å¨æä»¶ä¸­å­å¨ï¼å¦åä¸å­å¨ãbit å¼ä¸º 1 çæ°éå³ä¸º ä¸åçµè¯å·ç çä¸ªæ°ã\n\n\n# æ¹æ³æ»ç»\n\næ±è§£æ°æ®éå¤é®é¢ï¼è®°å¾èèä½å¾æ³ã\n\n\n# å¦ä½ä» 5 äº¿ä¸ªæ°ä¸­æ¾åºä¸­ä½æ°ï¼\n\n\n# é¢ç®æè¿°\n\nä» 5 äº¿ä¸ªæ°ä¸­æ¾åºä¸­ä½æ°ãæ°æ®æåºåï¼ä½ç½®å¨æä¸­é´çæ°å°±æ¯ä¸­ä½æ°ãå½æ ·æ¬æ°ä¸ºå¥æ°æ¶ï¼ä¸­ä½æ°ä¸º ç¬¬ (N+1)/2 ä¸ªæ°ï¼å½æ ·æ¬æ°ä¸ºå¶æ°æ¶ï¼ä¸­ä½æ°ä¸º ç¬¬ N/2 ä¸ªæ°ä¸ç¬¬ 1+N/2 ä¸ªæ°çåå¼ã\n\n\n# è§£ç­æè·¯\n\nå¦æè¿éé¢æ²¡æåå­å¤§å°éå¶ï¼åå¯ä»¥ææææ°è¯»å°åå­ä¸­æåºåæ¾åºä¸­ä½æ°ãä½æ¯æå¥½çæåºç®æ³çæ¶é´å¤æåº¦é½ä¸º O(NlogN)ãè¿éä½¿ç¨å¶ä»æ¹æ³ã\n\n# æ¹æ³ä¸ï¼åå æ³\n\nç»´æ¤ä¸¤ä¸ªå ï¼ä¸ä¸ªå¤§é¡¶å ï¼ä¸ä¸ªå°é¡¶å ãå¤§é¡¶å ä¸­æå¤§çæ°å°äºç­äºå°é¡¶å ä¸­æå°çæ°ï¼ä¿è¯è¿ä¸¤ä¸ªå ä¸­çåç´ ä¸ªæ°çå·®ä¸è¶è¿ 1ã\n\nè¥æ°æ®æ»æ°ä¸ºå¶æ°ï¼å½è¿ä¸¤ä¸ªå å»ºå¥½ä¹åï¼ä¸­ä½æ°å°±æ¯è¿ä¸¤ä¸ªå é¡¶åç´ çå¹³åå¼ãå½æ°æ®æ»æ°ä¸ºå¥æ°æ¶ï¼æ ¹æ®ä¸¤ä¸ªå çå¤§å°ï¼ä¸­ä½æ°ä¸å®å¨æ°æ®å¤çå çå é¡¶ã\n\nclass MedianFinder {\n\n    private PriorityQueue<Integer> maxHeap;\n    private PriorityQueue<Integer> minHeap;\n\n    /** initialize your data structure here. */\n    public MedianFinder() {\n        maxHeap = new PriorityQueue<>(Comparator.reverseOrder());\n        minHeap = new PriorityQueue<>(Integer::compareTo);\n    }\n\n    public void addNum(int num) {\n        if (maxHeap.isEmpty() || maxHeap.peek() > num) {\n            maxHeap.offer(num);\n        } else {\n            minHeap.offer(num);\n        }\n\n        int size1 = maxHeap.size();\n        int size2 = minHeap.size();\n        if (size1 - size2 > 1) {\n            minHeap.offer(maxHeap.poll());\n        } else if (size2 - size1 > 1) {\n            maxHeap.offer(minHeap.poll());\n        }\n    }\n\n    public double findMedian() {\n        int size1 = maxHeap.size();\n        int size2 = minHeap.size();\n\n        return size1 == size2\n            ? (maxHeap.peek() + minHeap.peek()) * 1.0 / 2\n            : (size1 > size2 ? maxHeap.peek() : minHeap.peek());\n    }\n}\n\n\n> è§ LeetCode No.295ï¼https://leetcode.com/problems/find-median-from-data-stream/\n\nä»¥ä¸è¿ç§æ¹æ³ï¼éè¦ææææ°æ®é½å è½½å°åå­ä¸­ãå½æ°æ®éå¾å¤§æ¶ï¼å°±ä¸è½è¿æ ·äºï¼å æ­¤ï¼è¿ç§æ¹æ³éç¨äºæ°æ®éè¾å°çæåµã5 äº¿ä¸ªæ°ï¼æ¯ä¸ªæ°å­å ç¨ 4Bï¼æ»å±éè¦ 2G åå­ãå¦æå¯ç¨åå­ä¸è¶³ 2Gï¼å°±ä¸è½ä½¿ç¨è¿ç§æ¹æ³äºï¼ä¸é¢ä»ç»å¦ä¸ç§æ¹æ³ã\n\n# æ¹æ³äºï¼åæ²»æ³\n\nåæ²»æ³çææ³æ¯æä¸ä¸ªå¤§çé®é¢éæ¸è½¬æ¢ä¸ºè§æ¨¡è¾å°çé®é¢æ¥æ±è§£ã\n\nå¯¹äºè¿éé¢ï¼é¡ºåºè¯»åè¿ 5 äº¿ä¸ªæ°å­ï¼å¯¹äºè¯»åå°çæ°å­ numï¼å¦æå®å¯¹åºçäºè¿å¶ä¸­æé«ä½ä¸º 1ï¼åæè¿ä¸ªæ°å­åå° f1 ä¸­ï¼å¦ååå¥ f0 ä¸­ãéè¿è¿ä¸æ­¥ï¼å¯ä»¥æè¿ 5 äº¿ä¸ªæ°ååä¸ºä¸¤é¨åï¼èä¸ f0 ä¸­çæ°é½å¤§äº f1 ä¸­çæ°ï¼æé«ä½æ¯ç¬¦å·ä½ï¼ã\n\nååä¹åï¼å¯ä»¥éå¸¸å®¹æå°ç¥éä¸­ä½æ°æ¯å¨ f0 è¿æ¯ f1 ä¸­ãåè®¾ f1 ä¸­æ 1 äº¿ä¸ªæ°ï¼é£ä¹ä¸­ä½æ°ä¸å®å¨ f0 ä¸­ï¼ä¸æ¯å¨ f0 ä¸­ï¼ä»å°å°å¤§æåçç¬¬ 1.5 äº¿ä¸ªæ°ä¸å®åé¢çä¸ä¸ªæ°çå¹³åå¼ã\n\n> æç¤ºï¼5 äº¿æ°çä¸­ä½æ°æ¯ç¬¬ 2.5 äº¿ä¸å³è¾¹ç¸é»ä¸ä¸ªæ°æ±å¹³åå¼ãè¥ f1 æä¸äº¿ä¸ªæ°ï¼é£ä¹ä¸­ä½æ°å°±æ¯ f0 ä¸­ä»ç¬¬ 1.5 äº¿ä¸ªæ°å¼å§çä¸¤ä¸ªæ°æ±å¾çå¹³åå¼ã\n\nå¯¹äº f0 å¯ä»¥ç¨æ¬¡é«ä½çäºè¿å¶ç»§ç»­å°æä»¶ä¸åä¸ºäºï¼å¦æ­¤ååä¸å»ï¼ç´å°åååçæä»¶å¯ä»¥è¢«å è½½å°åå­ä¸­ï¼ææ°æ®å è½½å°åå­ä¸­ä»¥åç´æ¥æåºï¼æ¾åºä¸­ä½æ°ã\n\n> æ³¨æï¼å½æ°æ®æ»æ°ä¸ºå¶æ°ï¼å¦æåååä¸¤ä¸ªæä»¶ä¸­çæ°æ®æç¸åä¸ªæ°ï¼é£ä¹ä¸­ä½æ°å°±æ¯æ°æ®è¾å°çæä»¶ä¸­çæå¤§å¼ä¸æ°æ®è¾å¤§çæä»¶ä¸­çæå°å¼çå¹³åå¼ã\n\n\n# æ¹æ³æ»ç»\n\nåæ²»æ³ï¼çé¦ï¼\n\n\n# å¦ä½æ¾åºæåå 500 çæ°ï¼\n\n\n# é¢ç®æè¿°\n\næ 20 ä¸ªæ°ç»ï¼æ¯ä¸ªæ°ç»æ 500 ä¸ªåç´ ï¼å¹¶ä¸æåºæåãå¦ä½å¨è¿ 20*500 ä¸ªæ°ä¸­æ¾åºå 500 çæ°ï¼\n\n\n# è§£ç­æè·¯\n\nå¯¹äº TopK é®é¢ï¼æå¸¸ç¨çæ¹æ³æ¯ä½¿ç¨å æåºãå¯¹æ¬é¢èè¨ï¼åè®¾æ°ç»éåºæåï¼å¯ä»¥éç¨ä»¥ä¸æ¹æ³ï¼\n\né¦åå»ºç«å¤§é¡¶å ï¼å çå¤§å°ä¸ºæ°ç»çä¸ªæ°ï¼å³ä¸º 20ï¼ææ¯ä¸ªæ°ç»æå¤§çå¼å­å°å ä¸­ã\n\næ¥çå é¤å é¡¶åç´ ï¼ä¿å­å°å¦ä¸ä¸ªå¤§å°ä¸º 500 çæ°ç»ä¸­ï¼ç¶ååå¤§é¡¶å æå¥å é¤çåç´ æå¨æ°ç»çä¸ä¸ä¸ªåç´ ã\n\néå¤ä¸é¢çæ­¥éª¤ï¼ç´å°å é¤å®ç¬¬ 500 ä¸ªåç´ ï¼ä¹å³æ¾åºäºæå¤§çå 500 ä¸ªæ°ã\n\n> ä¸ºäºå¨å ä¸­ååºä¸ä¸ªæ°æ®åï¼è½ç¥éå®æ¯ä»åªä¸ªæ°ç»ä¸­ååºçï¼ä»èå¯ä»¥ä»è¿ä¸ªæ°ç»ä¸­åä¸ä¸ä¸ªå¼ï¼å¯ä»¥ææ°ç»çæéå­æ¾å°å ä¸­ï¼å¯¹è¿ä¸ªæéæä¾æ¯è¾å¤§å°çæ¹æ³ã\n\nimport lombok.Data;\n\nimport java.util.Arrays;\nimport java.util.PriorityQueue;\n\n/**\n * @author https://github.com/yanglbme\n */\n@Data\npublic class DataWithSource implements Comparable<DataWithSource> {\n    /**\n     * æ°å¼\n     */\n    private int value;\n\n    /**\n     * è®°å½æ°å¼æ¥æºçæ°ç»\n     */\n    private int source;\n\n    /**\n     * è®°å½æ°å¼å¨æ°ç»ä¸­çç´¢å¼\n     */\n    private int index;\n\n    public DataWithSource(int value, int source, int index) {\n        this.value = value;\n        this.source = source;\n        this.index = index;\n    }\n\n    /**\n     *\n     * ç±äº PriorityQueue ä½¿ç¨å°é¡¶å æ¥å®ç°ï¼è¿ééè¿ä¿®æ¹\n     * ä¸¤ä¸ªæ´æ°çæ¯è¾é»è¾æ¥è®© PriorityQueue åæå¤§é¡¶å \n     */\n    @Override\n    public int compareTo(DataWithSource o) {\n        return Integer.compare(o.getValue(), this.value);\n    }\n}\n\n\nclass Test {\n    public static int[] getTop(int[][] data) {\n        int rowSize = data.length;\n        int columnSize = data[0].length;\n\n        // åå»ºä¸ä¸ªcolumnSizeå¤§å°çæ°ç»ï¼å­æ¾ç»æ\n        int[] result = new int[columnSize];\n\n        PriorityQueue<DataWithSource> maxHeap = new PriorityQueue<>();\n        for (int i = 0; i < rowSize; ++i) {\n            // å°æ¯ä¸ªæ°ç»çæå¤§ä¸ä¸ªåç´ æ¾å¥å ä¸­\n            DataWithSource d = new DataWithSource(data[i][0], i, 0);\n            maxHeap.add(d);\n        }\n\n        int num = 0;\n        while (num < columnSize) {\n            // å é¤å é¡¶åç´ \n            DataWithSource d = maxHeap.poll();\n            result[num++] = d.getValue();\n            if (num >= columnSize) {\n                break;\n            }\n\n            d.setValue(data[d.getSource()][d.getIndex() + 1]);\n            d.setIndex(d.getIndex() + 1);\n            maxHeap.add(d);\n        }\n        return result;\n\n    }\n\n    public static void main(String[] args) {\n        int[][] data = {\n                {29, 17, 14, 2, 1},\n                {19, 17, 16, 15, 6},\n                {30, 25, 20, 14, 5},\n        };\n\n        int[] top = getTop(data);\n        System.out.println(Arrays.toString(top)); // [30, 29, 25, 20, 19]\n    }\n}\n\n\n\n# æ¹æ³æ»ç»\n\næ± TopKï¼ä¸å¦¨èèä¸ä¸å æåºï¼\n\n\n# å¦ä½æç§ query çé¢åº¦æåºï¼\n\n\n# é¢ç®æè¿°\n\næ 10 ä¸ªæä»¶ï¼æ¯ä¸ªæä»¶å¤§å°ä¸º 1Gï¼æ¯ä¸ªæä»¶çæ¯ä¸è¡å­æ¾çé½æ¯ç¨æ·ç queryï¼æ¯ä¸ªæä»¶ç query é½å¯è½éå¤ãè¦æ±æç§ query çé¢åº¦æåºã\n\n\n# è§£ç­æè·¯\n\nå¦æ query çéå¤åº¦æ¯è¾å¤§ï¼å¯ä»¥èèä¸æ¬¡æ§æææ query è¯»å¥åå­ä¸­å¤çï¼å¦æ query çéå¤çä¸é«ï¼é£ä¹å¯ç¨åå­ä¸è¶³ä»¥å®¹çº³ææç queryï¼è¿æ¶åå°±éè¦éç¨åæ²»æ³æå¶ä»çæ¹æ³æ¥è§£å³ã\n\n# æ¹æ³ä¸ï¼HashMap æ³\n\nå¦æ query éå¤çé«ï¼è¯´æä¸å query æ»æ°æ¯è¾å°ï¼å¯ä»¥èèæææç query é½å è½½å°åå­ä¸­ç HashMap ä¸­ãæ¥çå°±å¯ä»¥æç§ query åºç°çæ¬¡æ°è¿è¡æåºã\n\n# æ¹æ³äºï¼åæ²»æ³\n\nåæ²»æ³éè¦æ ¹æ®æ°æ®éå¤§å°ä»¥åå¯ç¨åå­çå¤§å°æ¥ç¡®å®é®é¢ååçè§æ¨¡ãå¯¹äºè¿éé¢ï¼å¯ä»¥é¡ºåºéå 10 ä¸ªæä»¶ä¸­ç queryï¼éè¿ Hash å½æ° hash(query) % 10 æè¿äº query ååå° 10 ä¸ªå°æä»¶ä¸­ãä¹åå¯¹æ¯ä¸ªå°æä»¶ä½¿ç¨ HashMap ç»è®¡ query åºç°æ¬¡æ°ï¼æ ¹æ®æ¬¡æ°æåºå¹¶åå¥å°é¶å¤ä¸ä¸ªåç¬æä»¶ä¸­ã\n\næ¥çå¯¹æææä»¶æç§ query çæ¬¡æ°è¿è¡æåºï¼è¿éå¯ä»¥ä½¿ç¨å½å¹¶æåºï¼ç±äºæ æ³æææ query é½è¯»å¥åå­ï¼å æ­¤éè¦ä½¿ç¨å¤æåºï¼ã\n\n\n# æ¹æ³æ»ç»\n\n * åå­è¥å¤ï¼ç´æ¥è¯»å¥è¿è¡æåºï¼\n * åå­ä¸å¤ï¼åååä¸ºå°æä»¶ï¼å°æä»¶æå¥½åºåï¼æ´çä½¿ç¨å¤æåºè¿è¡å½å¹¶ã",normalizedContent:"# æµ·éæ°æ®å¤ç\n\n\n# å¦ä½ä»æµ·éç url ä¸­æ¾åºç¸åç urlï¼\n\n\n# é®é¢æè¿°\n\nç»å® aãb ä¸¤ä¸ªæä»¶ï¼åå­æ¾ 50 äº¿ä¸ª urlï¼æ¯ä¸ª url åå  64bï¼åå­éå¶æ¯ 4gãè¯·æ¾åº aãb ä¸¤ä¸ªæä»¶å±åç urlã\n\n\n# è§£å³æè·¯\n\næ¯ä¸ª url å  64bï¼é£ä¹ 50 äº¿ä¸ª url å ç¨çç©ºé´å¤§å°çº¦ä¸º 320gbã\n\n> $$5,000,000,000 * 64 b â 5 gb * 64 = 320 gb$$\n\nç±äºåå­å¤§å°åªæ 4gï¼å æ­¤ï¼æä»¬ä¸å¯è½ä¸æ¬¡æ§æææ url å è½½å°åå­ä¸­å¤çãå¯¹äºè¿ç§ç±»åçé¢ç®ï¼ä¸è¬éç¨åæ²»ç­ç¥ï¼å³ï¼æä¸ä¸ªæä»¶ä¸­ç url æç§æä¸ªç¹å¾ååä¸ºå¤ä¸ªå°æä»¶ï¼ä½¿å¾æ¯ä¸ªå°æä»¶å¤§å°ä¸è¶è¿ 4gï¼è¿æ ·å°±å¯ä»¥æè¿ä¸ªå°æä»¶è¯»å°åå­ä¸­è¿è¡å¤çäºã\n\næè·¯å¦ä¸ï¼\n\né¦åéåæä»¶ aï¼å¯¹éåå°ç url æ± hash(url) % 1000ï¼æ ¹æ®è®¡ç®ç»ææéåå°ç url å­å¨å° a0, a1, a2, ..., a999ï¼è¿æ ·æ¯ä¸ªå¤§å°çº¦ä¸º 300mbãä½¿ç¨åæ ·çæ¹æ³éåæä»¶ bï¼ææä»¶ b ä¸­ç url åå«å­å¨å°æä»¶ b0, b1, b2, ..., b999 ä¸­ãè¿æ ·å¤çè¿åï¼ææå¯è½ç¸åç url é½å¨å¯¹åºçå°æä»¶ä¸­ï¼å³ a0 å¯¹åº b0, ..., a999 å¯¹åº b999ï¼ä¸å¯¹åºçå°æä»¶ä¸å¯è½æç¸åç urlãé£ä¹æ¥ä¸æ¥ï¼æä»¬åªéè¦æ±åºè¿ 1000 å¯¹å°æä»¶ä¸­ç¸åç url å°±å¥½äºã\n\næ¥çéå ai( iâ[0,999])ï¼æ url å­å¨å°ä¸ä¸ª hashset éåä¸­ãç¶åéå bi ä¸­æ¯ä¸ª urlï¼çå¨ hashset éåä¸­æ¯å¦å­å¨ï¼è¥å­å¨ï¼è¯´æè¿å°±æ¯å±åç urlï¼å¯ä»¥æè¿ä¸ª url ä¿å­å°ä¸ä¸ªåç¬çæä»¶ä¸­ã\n\n\n# æ¹æ¡æ»ç»\n\n * åèæ²»ä¹ï¼è¿è¡åå¸åä½ï¼\n * å¯¹æ¯ä¸ªå­æä»¶è¿è¡ hashset ç»è®¡ã\n\n\n# å¦ä½ä»æµ·éæ°æ®ä¸­æ¾åºé«é¢è¯ï¼\n\n\n# é®é¢æè¿°\n\næä¸ä¸ª 1gb å¤§å°çæä»¶ï¼æä»¶éæ¯ä¸è¡æ¯ä¸ä¸ªè¯ï¼æ¯ä¸ªè¯çå¤§å°ä¸è¶è¿ 16bï¼åå­å¤§å°éå¶æ¯ 1mbï¼è¦æ±è¿åé¢æ°æé«ç 100 ä¸ªè¯(top 100)ã\n\n\n# è§£å³æè·¯\n\nç±äºåå­éå¶ï¼æ æ³ç´æ¥å°å¤§æä»¶çææè¯ä¸æ¬¡è¯»å°åå­ä¸­ãå æ­¤ï¼å¯ä»¥éç¨åæ²»ç­ç¥ï¼æä¸ä¸ªå¤§æä»¶åè§£æå¤ä¸ªå°æä»¶ï¼ä¿è¯æ¯ä¸ªæä»¶çå¤§å°å°äº 1mbï¼è¿èç´æ¥å°åä¸ªå°æä»¶è¯»åå°åå­ä¸­è¿è¡å¤çã\n\næè·¯å¦ä¸ï¼\n\né¦åéåå¤§æä»¶ï¼å¯¹éåå°çæ¯ä¸ªè¯ xï¼æ§è¡ hash(x) % 5000ï¼å°ç»æä¸º i çè¯å­æ¾å°æä»¶ ai ä¸­ãéåç»æåï¼æä»¬å¯ä»¥å¾å° 5000 ä¸ªå°æä»¶ãæ¯ä¸ªå°æä»¶çå¤§å°ä¸º 200kb å·¦å³ãå¦ææçå°æä»¶å¤§å°ä»ç¶è¶è¿ 1mbï¼åéç¨åæ ·çæ¹å¼ç»§ç»­è¿è¡åè§£ã\n\næ¥çç»è®¡æ¯ä¸ªå°æä»¶ä¸­åºç°é¢æ°æé«ç 100 ä¸ªè¯ãæç®åçæ¹å¼æ¯ä½¿ç¨ hashmap æ¥å®ç°ãå¶ä¸­ key ä¸ºè¯ï¼value ä¸ºè¯¥è¯åºç°çé¢çãå·ä½æ¹æ³æ¯ï¼å¯¹äºéåå°çè¯ xï¼å¦æå¨ map ä¸­ä¸å­å¨ï¼åæ§è¡ map.put(x, 1) è¥å­å¨ï¼åæ§è¡ map.put(x, map.get(x)+1)ï¼å°è¯¥è¯é¢æ°å  1ã\n\nä¸é¢æä»¬ç»è®¡äºæ¯ä¸ªå°æä»¶åè¯åºç°çé¢æ°ãæ¥ä¸æ¥ï¼æä»¬å¯ä»¥éè¿ç»´æ¤ä¸ä¸ªå°é¡¶å æ¥æ¾åºææè¯ä¸­åºç°é¢æ°æé«ç 100 ä¸ªãå·ä½æ¹æ³æ¯ï¼ä¾æ¬¡éåæ¯ä¸ªå°æä»¶ï¼æå»ºä¸ä¸ªå°é¡¶å ï¼å å¤§å°ä¸º 100ãå¦æéåå°çè¯çåºç°æ¬¡æ°å¤§äºå é¡¶è¯çåºç°æ¬¡æ°ï¼åç¨æ°è¯æ¿æ¢å é¡¶çè¯ï¼ç¶åéæ°è°æ´ä¸ºå°é¡¶å ï¼éåç»æåï¼å°é¡¶å ä¸çè¯å°±æ¯åºç°é¢æ°æé«ç 100 ä¸ªè¯ã\n\n\n# æ¹æ¡æ»ç»\n\n * åèæ²»ä¹ï¼è¿è¡åå¸åä½ï¼\n * ä½¿ç¨ hashmap ç»è®¡é¢æ°ï¼\n * æ±è§£æå¤§ç topn ä¸ªï¼ç¨å°é¡¶å ï¼æ±è§£æå°ç topn ä¸ªï¼ç¨å¤§é¡¶å ã\n\n\n# å¦ä½æ¾åºæä¸å¤©è®¿é®ç¾åº¦ç½ç«æå¤ç ipï¼\n\n\n# é®é¢æè¿°\n\nç°ææµ·éæ¥å¿æ°æ®ä¿å­å¨ä¸ä¸ªè¶å¤§æä»¶ä¸­ï¼è¯¥æä»¶æ æ³ç´æ¥è¯»å¥åå­ï¼è¦æ±ä»ä¸­æåæå¤©è®¿é®ç¾åº¦æ¬¡æ°æå¤çé£ä¸ª ipã\n\n\n# è§£å³æè·¯\n\nè¿éé¢åªå³å¿æä¸å¤©è®¿é®ç¾åº¦æå¤ç ipï¼å æ­¤ï¼å¯ä»¥é¦åå¯¹æä»¶è¿è¡ä¸æ¬¡éåï¼æè¿ä¸å¤©è®¿é®ç¾åº¦ ip çç¸å³ä¿¡æ¯è®°å½å°ä¸ä¸ªåç¬çå¤§æä»¶ä¸­ãæ¥ä¸æ¥éç¨çæ¹æ³ä¸ä¸ä¸é¢ä¸æ ·ï¼å¤§è´å°±æ¯åå¯¹ ip è¿è¡åå¸æ å°ï¼æ¥çä½¿ç¨ hashmap ç»è®¡éå¤ ip çæ¬¡æ°ï¼æåè®¡ç®åºéå¤æ¬¡æ°æå¤ç ipã\n\n> æ³¨ï¼è¿éåªéè¦æ¾åºåºç°æ¬¡æ°æå¤ç ipï¼å¯ä»¥ä¸å¿ä½¿ç¨å ï¼ç´æ¥ç¨ä¸ä¸ªåé max å³å¯ã\n\n\n# æ¹æ³æ»ç»\n\n * åèæ²»ä¹ï¼è¿è¡åå¸åä½ï¼\n * ä½¿ç¨ hashmap ç»è®¡é¢æ°ï¼\n * æ±è§£æå¤§ç topn ä¸ªï¼ç¨å°é¡¶å ï¼æ±è§£æå°ç topn ä¸ªï¼ç¨å¤§é¡¶å ã\n\n\n# å¦ä½å¨å¤§éçæ°æ®ä¸­æ¾åºä¸éå¤çæ´æ°ï¼\n\n\n# é®é¢æè¿°\n\nå¨ 2.5 äº¿ä¸ªæ´æ°ä¸­æ¾åºä¸éå¤çæ´æ°ãæ³¨æï¼åå­ä¸è¶³ä»¥å®¹çº³è¿ 2.5 äº¿ä¸ªæ´æ°ã\n\n\n# è§£å³æè·¯\n\n# æ¹æ³ä¸ï¼åæ²»æ³\n\nä¸åé¢çé¢ç®æ¹æ³ç±»ä¼¼ï¼åå° 2.5 äº¿ä¸ªæ°ååå°å¤ä¸ªå°æä»¶ï¼ç¨ hashset/hashmap æ¾åºæ¯ä¸ªå°æä»¶ä¸­ä¸éå¤çæ´æ°ï¼ååå¹¶æ¯ä¸ªå­ç»æï¼å³ä¸ºæç»ç»æã\n\n# æ¹æ³äºï¼ä½å¾æ³\n\nä½å¾ï¼å°±æ¯ç¨ä¸ä¸ªæå¤ä¸ª bit æ¥æ è®°æä¸ªåç´ å¯¹åºçå¼ï¼èé®å°±æ¯è¯¥åç´ ãéç¨ä½ä½ä¸ºåä½æ¥å­å¨æ°æ®ï¼å¯ä»¥å¤§å¤§èçå­å¨ç©ºé´ã\n\nä½å¾éè¿ä½¿ç¨ä½æ°ç»æ¥è¡¨ç¤ºæäºåç´ æ¯å¦å­å¨ãå®å¯ä»¥ç¨äºå¿«éæ¥æ¾ï¼å¤éï¼æåºç­ãä¸æ¯å¾æ¸æ¥ï¼æåä¸¾ä¸ªå°ä¾å­ã\n\nåè®¾æä»¬è¦å¯¹ [0,7] ä¸­ç 5 ä¸ªåç´  (6, 4, 2, 1, 5) è¿è¡æåºï¼å¯ä»¥éç¨ä½å¾æ³ã0~7 èå´æ»å±æ 8 ä¸ªæ°ï¼åªéè¦ 8bitï¼å³ 1 ä¸ªå­èãé¦åå°æ¯ä¸ªä½é½ç½® 0ï¼\n\n0 0 0 0 0 0 0 0\n\n\nç¶åéå 5 ä¸ªåç´ ï¼é¦åéå° 6ï¼é£ä¹å°ä¸æ ä¸º 6 çä½ç 0 ç½®ä¸º 1ï¼æ¥çéå° 4ï¼æä¸æ ä¸º 4 çä½ ç 0 ç½®ä¸º 1ï¼\n\n0 0 0 0 1 0 1 0\n\n\nä¾æ¬¡éåï¼ç»æåï¼ä½æ°ç»æ¯è¿æ ·çï¼\n\n0 1 1 0 1 1 1 0\n\n\næ¯ä¸ªä¸º 1 çä½ï¼å®çä¸æ é½è¡¨ç¤ºäºä¸ä¸ªæ°ï¼\n\nfor i in range(8):\n    if bits[i] == 1:\n        print(i)\n\n\nè¿æ ·æä»¬å¶å®å°±å·²ç»å®ç°äºæåºã\n\nå¯¹äºæ´æ°ç¸å³çç®æ³çæ±è§£ï¼ä½å¾æ³æ¯ä¸ç§éå¸¸å®ç¨çç®æ³ãåè®¾ int æ´æ°å ç¨ 4bï¼å³ 32bitï¼é£ä¹æä»¬å¯ä»¥è¡¨ç¤ºçæ´æ°çä¸ªæ°ä¸º 232ã\n\né£ä¹å¯¹äºè¿éé¢ï¼æä»¬ç¨ 2 ä¸ª bit æ¥è¡¨ç¤ºåä¸ªæ°å­çç¶æï¼\n\n * 00 è¡¨ç¤ºè¿ä¸ªæ°å­æ²¡åºç°è¿ï¼\n * 01 è¡¨ç¤ºè¿ä¸ªæ°å­åºç°è¿ä¸æ¬¡ï¼å³ä¸ºé¢ç®ææ¾çä¸éå¤æ´æ°ï¼ï¼\n * 10 è¡¨ç¤ºè¿ä¸ªæ°å­åºç°äºå¤æ¬¡ã\n\né£ä¹è¿ 232 ä¸ªæ´æ°ï¼æ»å±æéåå­ä¸º 232*2b=1gbãå æ­¤ï¼å½å¯ç¨åå­è¶è¿ 1gb æ¶ï¼å¯ä»¥éç¨ä½å¾æ³ãåè®¾åå­æ»¡è¶³ä½å¾æ³éæ±ï¼è¿è¡ä¸é¢çæä½ï¼\n\néå 2.5 äº¿ä¸ªæ´æ°ï¼æ¥çä½å¾ä¸­å¯¹åºçä½ï¼å¦ææ¯ 00ï¼ååä¸º 01ï¼å¦ææ¯ 01 ååä¸º 10ï¼å¦ææ¯ 10 åä¿æä¸åãéåç»æåï¼æ¥çä½å¾ï¼æå¯¹åºä½æ¯ 01 çæ´æ°è¾åºå³å¯ã\n\n\n# æ¹æ³æ»ç»\n\nå¤æ­æ°å­æ¯å¦éå¤çé®é¢ï¼ä½å¾æ³æ¯ä¸ç§éå¸¸é«æçæ¹æ³ã\n\n\n# å¦ä½å¨å¤§éçæ°æ®ä¸­å¤æ­ä¸ä¸ªæ°æ¯å¦å­å¨ï¼\n\n\n# é¢ç®æè¿°\n\nç»å® 40 äº¿ä¸ªä¸éå¤çæ²¡æè¿åºç unsigned int åæ´æ°ï¼ç¶ååç»å®ä¸ä¸ªæ°ï¼å¦ä½å¿«éå¤æ­è¿ä¸ªæ°æ¯å¦å¨è¿ 40 äº¿ä¸ªæ´æ°å½ä¸­ï¼\n\n\n# è§£ç­æè·¯\n\n# æ¹æ³ä¸ï¼åæ²»æ³\n\nä¾ç¶å¯ä»¥ç¨åæ²»æ³è§£å³ï¼æ¹æ³ä¸åé¢ç±»ä¼¼ï¼å°±ä¸åæ¬¡èµè¿°äºã\n\n# æ¹æ³äºï¼ä½å¾æ³\n\n40 äº¿ä¸ªä¸éå¤æ´æ°ï¼æä»¬ç¨ 40 äº¿ä¸ª bit æ¥è¡¨ç¤ºï¼åå§ä½åä¸º 0ï¼é£ä¹æ»å±éè¦åå­ï¼4,000,000,000bâ512mã\n\næä»¬è¯»åè¿ 40 äº¿ä¸ªæ´æ°ï¼å°å¯¹åºç bit è®¾ç½®ä¸º 1ãæ¥çè¯»åè¦æ¥è¯¢çæ°ï¼æ¥çç¸åºä½æ¯å¦ä¸º 1ï¼å¦æä¸º 1 è¡¨ç¤ºå­å¨ï¼å¦æä¸º 0 è¡¨ç¤ºä¸å­å¨ã\n\n\n# æ¹æ³æ»ç»\n\nå¤æ­æ°å­æ¯å¦å­å¨ãå¤æ­æ°å­æ¯å¦éå¤çé®é¢ï¼ä½å¾æ³æ¯ä¸ç§éå¸¸é«æçæ¹æ³ã\n\n\n# å¦ä½æ¥è¯¢æç­é¨çæ¥è¯¢ä¸²ï¼\n\n\n# é¢ç®æè¿°\n\næç´¢å¼æä¼éè¿æ¥å¿æä»¶æç¨æ·æ¯æ¬¡æ£ç´¢ä½¿ç¨çæææ¥è¯¢ä¸²é½è®°å½ä¸æ¥ï¼æ¯ä¸ªæ¥è¯¢ä¸²çé¿åº¦ä¸è¶è¿ 255 å­èã\n\nåè®¾ç®åæ 1000w ä¸ªè®°å½ï¼è¿äºæ¥è¯¢ä¸²çéå¤åº¦æ¯è¾é«ï¼è½ç¶æ»æ°æ¯ 1000wï¼ä½å¦æé¤å»éå¤åï¼åä¸è¶è¿ 300w ä¸ªï¼ãè¯·ç»è®¡æç­é¨ç 10 ä¸ªæ¥è¯¢ä¸²ï¼è¦æ±ä½¿ç¨çåå­ä¸è½è¶è¿ 1gãï¼ä¸ä¸ªæ¥è¯¢ä¸²çéå¤åº¦è¶é«ï¼è¯´ææ¥è¯¢å®çç¨æ·è¶å¤ï¼ä¹å°±è¶ç­é¨ãï¼\n\n\n# è§£ç­æè·¯\n\næ¯ä¸ªæ¥è¯¢ä¸²æé¿ä¸º 255bï¼1000w ä¸ªä¸²éè¦å ç¨ çº¦ 2.55g åå­ï¼å æ­¤ï¼æä»¬æ æ³å°ææå­ç¬¦ä¸²å¨é¨è¯»å¥å°åå­ä¸­å¤çã\n\n# æ¹æ³ä¸ï¼åæ²»æ³\n\nåæ²»æ³ä¾ç¶æ¯ä¸ä¸ªéå¸¸å®ç¨çæ¹æ³ã\n\nååä¸ºå¤ä¸ªå°æä»¶ï¼ä¿è¯åä¸ªå°æä»¶ä¸­çå­ç¬¦ä¸²è½è¢«ç´æ¥å è½½å°åå­ä¸­å¤çï¼ç¶åæ±åºæ¯ä¸ªæä»¶ä¸­åºç°æ¬¡æ°æå¤ç 10 ä¸ªå­ç¬¦ä¸²ï¼æåéè¿ä¸ä¸ªå°é¡¶å ç»è®¡åºæææä»¶ä¸­åºç°æå¤ç 10 ä¸ªå­ç¬¦ä¸²ã\n\næ¹æ³å¯è¡ï¼ä½ä¸æ¯æå¥½ï¼ä¸é¢ä»ç»å¶ä»æ¹æ³ã\n\n# æ¹æ³äºï¼hashmap æ³\n\nè½ç¶å­ç¬¦ä¸²æ»æ°æ¯è¾å¤ï¼ä½å»éåä¸è¶è¿ 300wï¼å æ­¤ï¼å¯ä»¥èèæææå­ç¬¦ä¸²ååºç°æ¬¡æ°ä¿å­å¨ä¸ä¸ª hashmap ä¸­ï¼æå ç¨çç©ºé´ä¸º 300w*(255+4)â777mï¼å¶ä¸­ï¼4 è¡¨ç¤ºæ´æ°å ç¨ç 4 ä¸ªå­èï¼ãç±æ­¤å¯è§ï¼1g çåå­ç©ºé´å®å¨å¤ç¨ã\n\næè·¯å¦ä¸ï¼\n\né¦åï¼éåå­ç¬¦ä¸²ï¼è¥ä¸å¨ map ä¸­ï¼ç´æ¥å­å¥ mapï¼value è®°ä¸º 1ï¼è¥å¨ map ä¸­ï¼åæå¯¹åºç value å  1ï¼è¿ä¸æ­¥æ¶é´å¤æåº¦ o(n)ã\n\næ¥çéå mapï¼æå»ºä¸ä¸ª 10 ä¸ªåç´ çå°é¡¶å ï¼è¥éåå°çå­ç¬¦ä¸²çåºç°æ¬¡æ°å¤§äºå é¡¶å­ç¬¦ä¸²çåºç°æ¬¡æ°ï¼åè¿è¡æ¿æ¢ï¼å¹¶å°å è°æ´ä¸ºå°é¡¶å ã\n\néåç»æåï¼å ä¸­ 10 ä¸ªå­ç¬¦ä¸²å°±æ¯åºç°æ¬¡æ°æå¤çå­ç¬¦ä¸²ãè¿ä¸æ­¥æ¶é´å¤æåº¦ o(nlog10)ã\n\n# æ¹æ³ä¸ï¼åç¼æ æ³ï¼å­å¸æ ï¼\n\næ¹æ³äºä½¿ç¨äº hashmap æ¥ç»è®¡æ¬¡æ°ï¼å½è¿äºå­ç¬¦ä¸²æå¤§éç¸ååç¼æ¶ï¼å¯ä»¥èèä½¿ç¨åç¼æ æ¥ç»è®¡å­ç¬¦ä¸²åºç°çæ¬¡æ°ï¼æ çç»ç¹ä¿å­å­ç¬¦ä¸²åºç°æ¬¡æ°ï¼0 è¡¨ç¤ºæ²¡æåºç°ã\n\næè·¯å¦ä¸ï¼\n\nå¨éåå­ç¬¦ä¸²æ¶ï¼å¨åç¼æ ä¸­æ¥æ¾ï¼å¦ææ¾å°ï¼åæç»ç¹ä¸­ä¿å­çå­ç¬¦ä¸²æ¬¡æ°å  1ï¼å¦åä¸ºè¿ä¸ªå­ç¬¦ä¸²æå»ºæ°ç»ç¹ï¼æå»ºå®æåæå¶å­ç»ç¹ä¸­å­ç¬¦ä¸²çåºç°æ¬¡æ°ç½®ä¸º 1ã\n\næåä¾ç¶ä½¿ç¨å°é¡¶å æ¥å¯¹å­ç¬¦ä¸²çåºç°æ¬¡æ°è¿è¡æåºã\n\n\n# æ¹æ³æ»ç»\n\nåç¼æ ç»å¸¸è¢«ç¨æ¥ç»è®¡å­ç¬¦ä¸²çåºç°æ¬¡æ°ãå®çå¦å¤ä¸ä¸ªå¤§çç¨éæ¯å­ç¬¦ä¸²æ¥æ¾ï¼å¤æ­æ¯å¦æéå¤çå­ç¬¦ä¸²ç­ã\n\n\n# å¦ä½ç»è®¡ä¸åçµè¯å·ç çä¸ªæ°ï¼\n\n\n# é¢ç®æè¿°\n\nå·²ç¥æä¸ªæä»¶ååå«ä¸äºçµè¯å·ç ï¼æ¯ä¸ªå·ç ä¸º 8 ä½æ°å­ï¼ç»è®¡ä¸åå·ç çä¸ªæ°ã\n\n\n# è§£ç­æè·¯\n\nè¿éé¢æ¬è´¨è¿æ¯æ±è§£æ°æ®éå¤çé®é¢ï¼å¯¹äºè¿ç±»é®é¢ï¼ä¸è¬é¦åèèä½å¾æ³ã\n\nå¯¹äºæ¬é¢ï¼8 ä½çµè¯å·ç å¯ä»¥è¡¨ç¤ºçå·ç ä¸ªæ°ä¸º $$10^8$$ ä¸ªï¼å³ 1 äº¿ä¸ªãæä»¬æ¯ä¸ªå·ç ç¨ä¸ä¸ª bit æ¥è¡¨ç¤ºï¼åæ»å±éè¦ 1 äº¿ä¸ª bitï¼åå­å ç¨çº¦ 100mã\n\næè·¯å¦ä¸ï¼\n\nç³è¯·ä¸ä¸ªä½å¾æ°ç»ï¼é¿åº¦ä¸º 1 äº¿ï¼åå§åä¸º 0ãç¶åéåææçµè¯å·ç ï¼æå·ç å¯¹åºçä½å¾ä¸­çä½ç½®ç½®ä¸º 1ãéåå®æåï¼å¦æ bit ä¸º 1ï¼åè¡¨ç¤ºè¿ä¸ªçµè¯å·ç å¨æä»¶ä¸­å­å¨ï¼å¦åä¸å­å¨ãbit å¼ä¸º 1 çæ°éå³ä¸º ä¸åçµè¯å·ç çä¸ªæ°ã\n\n\n# æ¹æ³æ»ç»\n\næ±è§£æ°æ®éå¤é®é¢ï¼è®°å¾èèä½å¾æ³ã\n\n\n# å¦ä½ä» 5 äº¿ä¸ªæ°ä¸­æ¾åºä¸­ä½æ°ï¼\n\n\n# é¢ç®æè¿°\n\nä» 5 äº¿ä¸ªæ°ä¸­æ¾åºä¸­ä½æ°ãæ°æ®æåºåï¼ä½ç½®å¨æä¸­é´çæ°å°±æ¯ä¸­ä½æ°ãå½æ ·æ¬æ°ä¸ºå¥æ°æ¶ï¼ä¸­ä½æ°ä¸º ç¬¬ (n+1)/2 ä¸ªæ°ï¼å½æ ·æ¬æ°ä¸ºå¶æ°æ¶ï¼ä¸­ä½æ°ä¸º ç¬¬ n/2 ä¸ªæ°ä¸ç¬¬ 1+n/2 ä¸ªæ°çåå¼ã\n\n\n# è§£ç­æè·¯\n\nå¦æè¿éé¢æ²¡æåå­å¤§å°éå¶ï¼åå¯ä»¥ææææ°è¯»å°åå­ä¸­æåºåæ¾åºä¸­ä½æ°ãä½æ¯æå¥½çæåºç®æ³çæ¶é´å¤æåº¦é½ä¸º o(nlogn)ãè¿éä½¿ç¨å¶ä»æ¹æ³ã\n\n# æ¹æ³ä¸ï¼åå æ³\n\nç»´æ¤ä¸¤ä¸ªå ï¼ä¸ä¸ªå¤§é¡¶å ï¼ä¸ä¸ªå°é¡¶å ãå¤§é¡¶å ä¸­æå¤§çæ°å°äºç­äºå°é¡¶å ä¸­æå°çæ°ï¼ä¿è¯è¿ä¸¤ä¸ªå ä¸­çåç´ ä¸ªæ°çå·®ä¸è¶è¿ 1ã\n\nè¥æ°æ®æ»æ°ä¸ºå¶æ°ï¼å½è¿ä¸¤ä¸ªå å»ºå¥½ä¹åï¼ä¸­ä½æ°å°±æ¯è¿ä¸¤ä¸ªå é¡¶åç´ çå¹³åå¼ãå½æ°æ®æ»æ°ä¸ºå¥æ°æ¶ï¼æ ¹æ®ä¸¤ä¸ªå çå¤§å°ï¼ä¸­ä½æ°ä¸å®å¨æ°æ®å¤çå çå é¡¶ã\n\nclass medianfinder {\n\n    private priorityqueue<integer> maxheap;\n    private priorityqueue<integer> minheap;\n\n    /** initialize your data structure here. */\n    public medianfinder() {\n        maxheap = new priorityqueue<>(comparator.reverseorder());\n        minheap = new priorityqueue<>(integer::compareto);\n    }\n\n    public void addnum(int num) {\n        if (maxheap.isempty() || maxheap.peek() > num) {\n            maxheap.offer(num);\n        } else {\n            minheap.offer(num);\n        }\n\n        int size1 = maxheap.size();\n        int size2 = minheap.size();\n        if (size1 - size2 > 1) {\n            minheap.offer(maxheap.poll());\n        } else if (size2 - size1 > 1) {\n            maxheap.offer(minheap.poll());\n        }\n    }\n\n    public double findmedian() {\n        int size1 = maxheap.size();\n        int size2 = minheap.size();\n\n        return size1 == size2\n            ? (maxheap.peek() + minheap.peek()) * 1.0 / 2\n            : (size1 > size2 ? maxheap.peek() : minheap.peek());\n    }\n}\n\n\n> è§ leetcode no.295ï¼https://leetcode.com/problems/find-median-from-data-stream/\n\nä»¥ä¸è¿ç§æ¹æ³ï¼éè¦ææææ°æ®é½å è½½å°åå­ä¸­ãå½æ°æ®éå¾å¤§æ¶ï¼å°±ä¸è½è¿æ ·äºï¼å æ­¤ï¼è¿ç§æ¹æ³éç¨äºæ°æ®éè¾å°çæåµã5 äº¿ä¸ªæ°ï¼æ¯ä¸ªæ°å­å ç¨ 4bï¼æ»å±éè¦ 2g åå­ãå¦æå¯ç¨åå­ä¸è¶³ 2gï¼å°±ä¸è½ä½¿ç¨è¿ç§æ¹æ³äºï¼ä¸é¢ä»ç»å¦ä¸ç§æ¹æ³ã\n\n# æ¹æ³äºï¼åæ²»æ³\n\nåæ²»æ³çææ³æ¯æä¸ä¸ªå¤§çé®é¢éæ¸è½¬æ¢ä¸ºè§æ¨¡è¾å°çé®é¢æ¥æ±è§£ã\n\nå¯¹äºè¿éé¢ï¼é¡ºåºè¯»åè¿ 5 äº¿ä¸ªæ°å­ï¼å¯¹äºè¯»åå°çæ°å­ numï¼å¦æå®å¯¹åºçäºè¿å¶ä¸­æé«ä½ä¸º 1ï¼åæè¿ä¸ªæ°å­åå° f1 ä¸­ï¼å¦ååå¥ f0 ä¸­ãéè¿è¿ä¸æ­¥ï¼å¯ä»¥æè¿ 5 äº¿ä¸ªæ°ååä¸ºä¸¤é¨åï¼èä¸ f0 ä¸­çæ°é½å¤§äº f1 ä¸­çæ°ï¼æé«ä½æ¯ç¬¦å·ä½ï¼ã\n\nååä¹åï¼å¯ä»¥éå¸¸å®¹æå°ç¥éä¸­ä½æ°æ¯å¨ f0 è¿æ¯ f1 ä¸­ãåè®¾ f1 ä¸­æ 1 äº¿ä¸ªæ°ï¼é£ä¹ä¸­ä½æ°ä¸å®å¨ f0 ä¸­ï¼ä¸æ¯å¨ f0 ä¸­ï¼ä»å°å°å¤§æåçç¬¬ 1.5 äº¿ä¸ªæ°ä¸å®åé¢çä¸ä¸ªæ°çå¹³åå¼ã\n\n> æç¤ºï¼5 äº¿æ°çä¸­ä½æ°æ¯ç¬¬ 2.5 äº¿ä¸å³è¾¹ç¸é»ä¸ä¸ªæ°æ±å¹³åå¼ãè¥ f1 æä¸äº¿ä¸ªæ°ï¼é£ä¹ä¸­ä½æ°å°±æ¯ f0 ä¸­ä»ç¬¬ 1.5 äº¿ä¸ªæ°å¼å§çä¸¤ä¸ªæ°æ±å¾çå¹³åå¼ã\n\nå¯¹äº f0 å¯ä»¥ç¨æ¬¡é«ä½çäºè¿å¶ç»§ç»­å°æä»¶ä¸åä¸ºäºï¼å¦æ­¤ååä¸å»ï¼ç´å°åååçæä»¶å¯ä»¥è¢«å è½½å°åå­ä¸­ï¼ææ°æ®å è½½å°åå­ä¸­ä»¥åç´æ¥æåºï¼æ¾åºä¸­ä½æ°ã\n\n> æ³¨æï¼å½æ°æ®æ»æ°ä¸ºå¶æ°ï¼å¦æåååä¸¤ä¸ªæä»¶ä¸­çæ°æ®æç¸åä¸ªæ°ï¼é£ä¹ä¸­ä½æ°å°±æ¯æ°æ®è¾å°çæä»¶ä¸­çæå¤§å¼ä¸æ°æ®è¾å¤§çæä»¶ä¸­çæå°å¼çå¹³åå¼ã\n\n\n# æ¹æ³æ»ç»\n\nåæ²»æ³ï¼çé¦ï¼\n\n\n# å¦ä½æ¾åºæåå 500 çæ°ï¼\n\n\n# é¢ç®æè¿°\n\næ 20 ä¸ªæ°ç»ï¼æ¯ä¸ªæ°ç»æ 500 ä¸ªåç´ ï¼å¹¶ä¸æåºæåãå¦ä½å¨è¿ 20*500 ä¸ªæ°ä¸­æ¾åºå 500 çæ°ï¼\n\n\n# è§£ç­æè·¯\n\nå¯¹äº topk é®é¢ï¼æå¸¸ç¨çæ¹æ³æ¯ä½¿ç¨å æåºãå¯¹æ¬é¢èè¨ï¼åè®¾æ°ç»éåºæåï¼å¯ä»¥éç¨ä»¥ä¸æ¹æ³ï¼\n\né¦åå»ºç«å¤§é¡¶å ï¼å çå¤§å°ä¸ºæ°ç»çä¸ªæ°ï¼å³ä¸º 20ï¼ææ¯ä¸ªæ°ç»æå¤§çå¼å­å°å ä¸­ã\n\næ¥çå é¤å é¡¶åç´ ï¼ä¿å­å°å¦ä¸ä¸ªå¤§å°ä¸º 500 çæ°ç»ä¸­ï¼ç¶ååå¤§é¡¶å æå¥å é¤çåç´ æå¨æ°ç»çä¸ä¸ä¸ªåç´ ã\n\néå¤ä¸é¢çæ­¥éª¤ï¼ç´å°å é¤å®ç¬¬ 500 ä¸ªåç´ ï¼ä¹å³æ¾åºäºæå¤§çå 500 ä¸ªæ°ã\n\n> ä¸ºäºå¨å ä¸­ååºä¸ä¸ªæ°æ®åï¼è½ç¥éå®æ¯ä»åªä¸ªæ°ç»ä¸­ååºçï¼ä»èå¯ä»¥ä»è¿ä¸ªæ°ç»ä¸­åä¸ä¸ä¸ªå¼ï¼å¯ä»¥ææ°ç»çæéå­æ¾å°å ä¸­ï¼å¯¹è¿ä¸ªæéæä¾æ¯è¾å¤§å°çæ¹æ³ã\n\nimport lombok.data;\n\nimport java.util.arrays;\nimport java.util.priorityqueue;\n\n/**\n * @author https://github.com/yanglbme\n */\n@data\npublic class datawithsource implements comparable<datawithsource> {\n    /**\n     * æ°å¼\n     */\n    private int value;\n\n    /**\n     * è®°å½æ°å¼æ¥æºçæ°ç»\n     */\n    private int source;\n\n    /**\n     * è®°å½æ°å¼å¨æ°ç»ä¸­çç´¢å¼\n     */\n    private int index;\n\n    public datawithsource(int value, int source, int index) {\n        this.value = value;\n        this.source = source;\n        this.index = index;\n    }\n\n    /**\n     *\n     * ç±äº priorityqueue ä½¿ç¨å°é¡¶å æ¥å®ç°ï¼è¿ééè¿ä¿®æ¹\n     * ä¸¤ä¸ªæ´æ°çæ¯è¾é»è¾æ¥è®© priorityqueue åæå¤§é¡¶å \n     */\n    @override\n    public int compareto(datawithsource o) {\n        return integer.compare(o.getvalue(), this.value);\n    }\n}\n\n\nclass test {\n    public static int[] gettop(int[][] data) {\n        int rowsize = data.length;\n        int columnsize = data[0].length;\n\n        // åå»ºä¸ä¸ªcolumnsizeå¤§å°çæ°ç»ï¼å­æ¾ç»æ\n        int[] result = new int[columnsize];\n\n        priorityqueue<datawithsource> maxheap = new priorityqueue<>();\n        for (int i = 0; i < rowsize; ++i) {\n            // å°æ¯ä¸ªæ°ç»çæå¤§ä¸ä¸ªåç´ æ¾å¥å ä¸­\n            datawithsource d = new datawithsource(data[i][0], i, 0);\n            maxheap.add(d);\n        }\n\n        int num = 0;\n        while (num < columnsize) {\n            // å é¤å é¡¶åç´ \n            datawithsource d = maxheap.poll();\n            result[num++] = d.getvalue();\n            if (num >= columnsize) {\n                break;\n            }\n\n            d.setvalue(data[d.getsource()][d.getindex() + 1]);\n            d.setindex(d.getindex() + 1);\n            maxheap.add(d);\n        }\n        return result;\n\n    }\n\n    public static void main(string[] args) {\n        int[][] data = {\n                {29, 17, 14, 2, 1},\n                {19, 17, 16, 15, 6},\n                {30, 25, 20, 14, 5},\n        };\n\n        int[] top = gettop(data);\n        system.out.println(arrays.tostring(top)); // [30, 29, 25, 20, 19]\n    }\n}\n\n\n\n# æ¹æ³æ»ç»\n\næ± topkï¼ä¸å¦¨èèä¸ä¸å æåºï¼\n\n\n# å¦ä½æç§ query çé¢åº¦æåºï¼\n\n\n# é¢ç®æè¿°\n\næ 10 ä¸ªæä»¶ï¼æ¯ä¸ªæä»¶å¤§å°ä¸º 1gï¼æ¯ä¸ªæä»¶çæ¯ä¸è¡å­æ¾çé½æ¯ç¨æ·ç queryï¼æ¯ä¸ªæä»¶ç query é½å¯è½éå¤ãè¦æ±æç§ query çé¢åº¦æåºã\n\n\n# è§£ç­æè·¯\n\nå¦æ query çéå¤åº¦æ¯è¾å¤§ï¼å¯ä»¥èèä¸æ¬¡æ§æææ query è¯»å¥åå­ä¸­å¤çï¼å¦æ query çéå¤çä¸é«ï¼é£ä¹å¯ç¨åå­ä¸è¶³ä»¥å®¹çº³ææç queryï¼è¿æ¶åå°±éè¦éç¨åæ²»æ³æå¶ä»çæ¹æ³æ¥è§£å³ã\n\n# æ¹æ³ä¸ï¼hashmap æ³\n\nå¦æ query éå¤çé«ï¼è¯´æä¸å query æ»æ°æ¯è¾å°ï¼å¯ä»¥èèæææç query é½å è½½å°åå­ä¸­ç hashmap ä¸­ãæ¥çå°±å¯ä»¥æç§ query åºç°çæ¬¡æ°è¿è¡æåºã\n\n# æ¹æ³äºï¼åæ²»æ³\n\nåæ²»æ³éè¦æ ¹æ®æ°æ®éå¤§å°ä»¥åå¯ç¨åå­çå¤§å°æ¥ç¡®å®é®é¢ååçè§æ¨¡ãå¯¹äºè¿éé¢ï¼å¯ä»¥é¡ºåºéå 10 ä¸ªæä»¶ä¸­ç queryï¼éè¿ hash å½æ° hash(query) % 10 æè¿äº query ååå° 10 ä¸ªå°æä»¶ä¸­ãä¹åå¯¹æ¯ä¸ªå°æä»¶ä½¿ç¨ hashmap ç»è®¡ query åºç°æ¬¡æ°ï¼æ ¹æ®æ¬¡æ°æåºå¹¶åå¥å°é¶å¤ä¸ä¸ªåç¬æä»¶ä¸­ã\n\næ¥çå¯¹æææä»¶æç§ query çæ¬¡æ°è¿è¡æåºï¼è¿éå¯ä»¥ä½¿ç¨å½å¹¶æåºï¼ç±äºæ æ³æææ query é½è¯»å¥åå­ï¼å æ­¤éè¦ä½¿ç¨å¤æåºï¼ã\n\n\n# æ¹æ³æ»ç»\n\n * åå­è¥å¤ï¼ç´æ¥è¯»å¥è¿è¡æåºï¼\n * åå­ä¸å¤ï¼åååä¸ºå°æä»¶ï¼å°æä»¶æå¥½åºåï¼æ´çä½¿ç¨å¤æåºè¿è¡å½å¹¶ã",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"çµå",frontmatter:{title:"çµå",date:"2021-08-05T23:42:12.000Z",categories:["è®¾è®¡","æ¶æ","è§£å³æ¹æ¡"],tags:["æ¶æ","è§£å³æ¹æ¡"],permalink:"/pages/4ae6a4/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/01.%E6%9E%B6%E6%9E%84/99.%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/%E7%94%B5%E5%95%86.html",relativePath:"03.è®¾è®¡/01.æ¶æ/99.è§£å³æ¹æ¡/çµå.md",key:"v-5430ebce",path:"/pages/4ae6a4/",headers:[{level:2,title:"åºæ¬ä¸å¡æ¶æ",slug:"åºæ¬ä¸å¡æ¶æ",normalizedTitle:"åºæ¬ä¸å¡æ¶æ",charIndex:9},{level:3,title:"è®¢å",slug:"è®¢å",normalizedTitle:"è®¢å",charIndex:22},{level:4,title:"è®¢åä¿¡æ¯ç®¡ç",slug:"è®¢åä¿¡æ¯ç®¡ç",normalizedTitle:"è®¢åä¿¡æ¯ç®¡ç",charIndex:80},{level:4,title:"ä¼æ å¸",slug:"ä¼æ å¸",normalizedTitle:"ä¼æ å¸",charIndex:134},{level:2,title:"å¸åé®é¢",slug:"å¸åé®é¢",normalizedTitle:"å¸åé®é¢",charIndex:142}],headersStr:"åºæ¬ä¸å¡æ¶æ è®¢å è®¢åä¿¡æ¯ç®¡ç ä¼æ å¸ å¸åé®é¢",content:"# çµå\n\n\n# åºæ¬ä¸å¡æ¶æ\n\n\n\n\n# è®¢å\n\nè®¢åæå¡ä¸è¬ä¸ä¸»å¨è°ç¨å¶ä»æå¡\n\nè®¢åæå¡ä¸è´è´£åç¬¬ä¸æ¹éæ\n\nè®¢åæå¡ä¸æä¾ä¼æ è®¡ç®æææ¬åæé»è¾\n\n# è®¢åä¿¡æ¯ç®¡ç\n\n * ç¨æ·\n * åå\n * æ¶è´§äºº\n * æ¶è´§å°å\n * æ¶è´§æ¶é´\n * è®¢åç¶æ\n\n# ä¼æ å¸\n\n\n# å¸åé®é¢\n\nç§ææ´»å¨\n\nè¶å",normalizedContent:"# çµå\n\n\n# åºæ¬ä¸å¡æ¶æ\n\n\n\n\n# è®¢å\n\nè®¢åæå¡ä¸è¬ä¸ä¸»å¨è°ç¨å¶ä»æå¡\n\nè®¢åæå¡ä¸è´è´£åç¬¬ä¸æ¹éæ\n\nè®¢åæå¡ä¸æä¾ä¼æ è®¡ç®æææ¬åæé»è¾\n\n# è®¢åä¿¡æ¯ç®¡ç\n\n * ç¨æ·\n * åå\n * æ¶è´§äºº\n * æ¶è´§å°å\n * æ¶è´§æ¶é´\n * è®¢åç¶æ\n\n# ä¼æ å¸\n\n\n# å¸åé®é¢\n\nç§ææ´»å¨\n\nè¶å",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"ç­å°åæå¡",frontmatter:{title:"ç­å°åæå¡",date:"2021-11-08T08:15:33.000Z",categories:["è®¾è®¡","æ¶æ","è§£å³æ¹æ¡"],tags:["æ¶æ","è§£å³æ¹æ¡"],permalink:"/pages/c72587/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/01.%E6%9E%B6%E6%9E%84/99.%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/%E7%9F%AD%E5%9C%B0%E5%9D%80%E6%9C%8D%E5%8A%A1.html",relativePath:"03.è®¾è®¡/01.æ¶æ/99.è§£å³æ¹æ¡/ç­å°åæå¡.md",key:"v-fd8744e6",path:"/pages/c72587/",headers:[{level:2,title:"æ­¥éª¤ä¸ãéæ±åæ",slug:"æ­¥éª¤ä¸ãéæ±åæ",normalizedTitle:"æ­¥éª¤ä¸ãéæ±åæ",charIndex:199},{level:3,title:"ç¨ä¾",slug:"ç¨ä¾",normalizedTitle:"ç¨ä¾",charIndex:233},{level:4,title:"é®é¢èå´",slug:"é®é¢èå´",normalizedTitle:"é®é¢èå´",charIndex:258},{level:4,title:"è¶åºèç´çç¨ä¾",slug:"è¶åºèç´çç¨ä¾",normalizedTitle:"è¶åºèç´çç¨ä¾",charIndex:464},{level:3,title:"çº¦æååè®¾",slug:"çº¦æååè®¾",normalizedTitle:"çº¦æååè®¾",charIndex:567},{level:4,title:"ç¶æåè®¾",slug:"ç¶æåè®¾",normalizedTitle:"ç¶æåè®¾",charIndex:576},{level:4,title:"æ§è½ä¼°ç®",slug:"æ§è½ä¼°ç®",normalizedTitle:"æ§è½ä¼°ç®",charIndex:717},{level:2,title:"æ­¥éª¤äºãé¡¶å±è®¾è®¡",slug:"æ­¥éª¤äºãé¡¶å±è®¾è®¡",normalizedTitle:"æ­¥éª¤äºãé¡¶å±è®¾è®¡",charIndex:1211},{level:2,title:"æ­¥éª¤ä¸ãæ ¸å¿ç»ä»¶è®¾è®¡",slug:"æ­¥éª¤ä¸ãæ ¸å¿ç»ä»¶è®¾è®¡",normalizedTitle:"æ­¥éª¤ä¸ãæ ¸å¿ç»ä»¶è®¾è®¡",charIndex:1249},{level:3,title:"ç¨ä¾ï¼ç¨æ·è¾å¥ä¸æ®µææ¬ï¼ç¶åå¾å°ä¸ä¸ªéæºçæçé¾æ¥",slug:"ç¨ä¾-ç¨æ·è¾å¥ä¸æ®µææ¬-ç¶åå¾å°ä¸ä¸ªéæºçæçé¾æ¥",normalizedTitle:"ç¨ä¾ï¼ç¨æ·è¾å¥ä¸æ®µææ¬ï¼ç¶åå¾å°ä¸ä¸ªéæºçæçé¾æ¥",charIndex:1280},{level:3,title:"ç¨ä¾ï¼ç¨æ·è¾å¥ä¸ä¸ª paste ç url åå¯ä»¥çå°å®å­å¨çåå®¹",slug:"ç¨ä¾-ç¨æ·è¾å¥ä¸ä¸ª-paste-ç-url-åå¯ä»¥çå°å®å­å¨çåå®¹",normalizedTitle:"ç¨ä¾ï¼ç¨æ·è¾å¥ä¸ä¸ª paste ç url åå¯ä»¥çå°å®å­å¨çåå®¹",charIndex:3061},{level:3,title:"ç¨ä¾ï¼ æå¡è·è¸ªåæé¡µé¢",slug:"ç¨ä¾-æå¡è·è¸ªåæé¡µé¢",normalizedTitle:"ç¨ä¾ï¼ æå¡è·è¸ªåæé¡µé¢",charIndex:3483},{level:3,title:"ç¨ä¾ï¼ æå¡å é¤è¿æç pastes",slug:"ç¨ä¾-æå¡å é¤è¿æç-pastes",normalizedTitle:"ç¨ä¾ï¼ æå¡å é¤è¿æç pastes",charIndex:4334},{level:2,title:"æ­¥éª¤åãæ©å±è®¾è®¡",slug:"æ­¥éª¤åãæ©å±è®¾è®¡",normalizedTitle:"æ­¥éª¤åãæ©å±è®¾è®¡",charIndex:4439},{level:2,title:"é¢å¤çè¯é¢",slug:"é¢å¤çè¯é¢",normalizedTitle:"é¢å¤çè¯é¢",charIndex:5365},{level:3,title:"NoSQL",slug:"nosql",normalizedTitle:"nosql",charIndex:1417},{level:3,title:"ç¼å­",slug:"ç¼å­",normalizedTitle:"ç¼å­",charIndex:4896},{level:3,title:"å¼æ­¥åå¾®æå¡",slug:"å¼æ­¥åå¾®æå¡",normalizedTitle:"å¼æ­¥åå¾®æå¡",charIndex:5627},{level:3,title:"éä¿¡",slug:"éä¿¡",normalizedTitle:"éä¿¡",charIndex:3043},{level:3,title:"å®å¨",slug:"å®å¨",normalizedTitle:"å®å¨",charIndex:5753},{level:3,title:"å»¶è¿æ°å­",slug:"å»¶è¿æ°å­",normalizedTitle:"å»¶è¿æ°å­",charIndex:5767},{level:3,title:"æç»­è¿è¡",slug:"æç»­è¿è¡",normalizedTitle:"æç»­è¿è¡",charIndex:5794}],headersStr:"æ­¥éª¤ä¸ãéæ±åæ ç¨ä¾ é®é¢èå´ è¶åºèç´çç¨ä¾ çº¦æååè®¾ ç¶æåè®¾ æ§è½ä¼°ç® æ­¥éª¤äºãé¡¶å±è®¾è®¡ æ­¥éª¤ä¸ãæ ¸å¿ç»ä»¶è®¾è®¡ ç¨ä¾ï¼ç¨æ·è¾å¥ä¸æ®µææ¬ï¼ç¶åå¾å°ä¸ä¸ªéæºçæçé¾æ¥ ç¨ä¾ï¼ç¨æ·è¾å¥ä¸ä¸ª paste ç url åå¯ä»¥çå°å®å­å¨çåå®¹ ç¨ä¾ï¼ æå¡è·è¸ªåæé¡µé¢ ç¨ä¾ï¼ æå¡å é¤è¿æç pastes æ­¥éª¤åãæ©å±è®¾è®¡ é¢å¤çè¯é¢ NoSQL ç¼å­ å¼æ­¥åå¾®æå¡ éä¿¡ å®å¨ å»¶è¿æ°å­ æç»­è¿è¡",content:'# è®¾è®¡ Pastebin.com (æè Bit.ly)\n\n> æ¬ææ¬è¿èª è®¾è®¡ Pastebin.com (æè Bit.ly)\n\næ³¨æ: ä¸ºäºé¿åéå¤ï¼å½åææ¡£ä¼ç´æ¥é¾æ¥å°ç³»ç»è®¾è®¡ä¸»é¢çç¸å³åºåï¼è¯·åèé¾æ¥åå®¹ä»¥è·å¾ç»¼åçè®¨è®ºç¹ãæè¡¡åæ¿ä»£æ¹æ¡ã\n\nè®¾è®¡ Bit.ly - æ¯ä¸ä¸ªç±»ä¼¼çé®é¢ï¼åºå«æ¯ pastebin éè¦å­å¨çæ¯ paste çåå®¹ï¼èä¸æ¯åå§çæªç­åç urlã\n\n\n# æ­¥éª¤ä¸ãéæ±åæ\n\n> æ¶éè¿ä¸ªé®é¢çéæ±åèç´ã é®ç¸å³é®é¢æ¥æç¡®ç¨ä¾åçº¦æã è®¨è®ºä¸äºåè®¾ã\n\n\n# ç¨ä¾\n\n# é®é¢èå´\n\n * ç¨æ· è¾å¥ä¸æ®µææ¬ï¼ç¶åå¾å°ä¸ä¸ªéæºçæçé¾æ¥\n   * è¿æè®¾ç½®\n     * é»è®¤çè®¾ç½®æ¯ä¸ä¼è¿æç\n     * å¯ä»¥éæ©è®¾ç½®ä¸ä¸ªè¿æçæ¶é´\n * ç¨æ· è¾å¥ä¸ä¸ª paste ç url åï¼å¯ä»¥çå°å®å­å¨çåå®¹\n * ç¨æ· æ¯å¿åç\n * Service è·è¸ªé¡µé¢åæ\n   * ä¸ä¸ªæçè®¿é®ç»è®¡\n * Service å é¤è¿æç pastes\n * Service éè¦é«å¯ç¨\n\n# è¶åºèç´çç¨ä¾\n\n * ç¨æ· å¯ä»¥æ³¨åä¸ä¸ªè´¦æ·\n   * ç¨æ· éè¿éªè¯é®ç®±\n * ç¨æ· å¯ä»¥ç¨æ³¨åçè´¦æ·ç»å½\n   * ç¨æ· å¯ä»¥ç¼è¾ææ¡£\n * ç¨æ· å¯ä»¥è®¾ç½®å¯è§æ§\n * ç¨æ· å¯ä»¥è®¾ç½®ç­é¾æ¥\n\n\n# çº¦æååè®¾\n\n# ç¶æåè®¾\n\n * è®¿é®æµéä¸æ¯åååå¸ç\n * æå¼ä¸ä¸ªç­é¾æ¥åºè¯¥æ¯å¾å¿«ç\n * pastes åªè½æ¯ææ¬\n * é¡µé¢è®¿é®åææ°æ®å¯ä»¥ä¸ç¨å®æ¶\n * ä¸åä¸çç¨æ·é\n * æ¯ä¸ªæä¸åä¸ç paste åå¥é\n * æ¯ä¸ªæä¸äº¿ç paste è¯»åé\n * è¯»åæ¯ä¾å¨ 10:1\n\n# æ§è½ä¼°ç®\n\n * æ¯ä¸ª paste çå¤§å°\n   * æ¯ä¸ä¸ª paste 1 KB\n   * shortlink - 7 bytes\n   * expiration_length_in_minutes - 4 bytes\n   * created_at - 5 bytes\n   * paste_path - 255 bytes\n   * æ»å± = ~1.27 KB\n * æ¯ä¸ªææ°ç paste åå®¹å¨ 12.7GB\n   * (1.27 * 10000000)KB / æç paste\n   * ä¸å¹´åå°è¿ 450GB çæ° paste åå®¹\n   * ä¸å¹´å 3.6 äº¿ç­é¾æ¥\n   * åè®¾å¤§é¨åé½æ¯æ°ç pasteï¼èä¸æ¯éè¦æ´æ°å·²å­å¨ç paste\n * å¹³å 4paste/s çåå¥éåº¦\n * å¹³å 40paste/s çè¯»åéåº¦\n\nç®åçè½¬æ¢æå:\n\n * 2.5 ç¾ä¸ req/s\n * 1 req/s = 2.5 ç¾ä¸ req/month\n * 40 req/s = 1 äº¿ req/month\n * 400 req/s = 10 äº¿ req/month\n\n\n# æ­¥éª¤äºãé¡¶å±è®¾è®¡\n\n> æ¦è¿°ä¸ä¸ªåæ¬ææéè¦çç»ä»¶çé«å±æ¬¡è®¾è®¡\n\n\n\n\n# æ­¥éª¤ä¸ãæ ¸å¿ç»ä»¶è®¾è®¡\n\n> æ·±å¥æ¯ä¸ä¸ªæ ¸å¿ç»ä»¶çç»è\n\n\n# ç¨ä¾ï¼ç¨æ·è¾å¥ä¸æ®µææ¬ï¼ç¶åå¾å°ä¸ä¸ªéæºçæçé¾æ¥\n\næä»¬å¯ä»¥ç¨ä¸ä¸ª å³ç³»åæ°æ®åºä½ä¸ºä¸ä¸ªå¤§çåå¸è¡¨ï¼ç¨æ¥æçæç url æ å°å°ä¸ä¸ªåå« paste æä»¶çæä»¶æå¡å¨åè·¯å¾ä¸ã\n\nä¸ºäºé¿åæç®¡ä¸ä¸ªæä»¶æå¡å¨ï¼æä»¬å¯ä»¥ç¨ä¸ä¸ªæç®¡çå¯¹è±¡å­å¨ï¼æ¯å¦ Amazon ç S3 æèNoSQL ææ¡£ç±»åå­å¨ã\n\nä½ä¸ºä¸ä¸ªå¤§çåå¸è¡¨çå³ç³»åæ°æ®åºçæ¿ä»£æ¹æ¡ï¼æä»¬å¯ä»¥ç¨NoSQL é®å¼å­å¨ãæä»¬éè¦è®¨è®ºéæ© SQL æ NoSQL ä¹é´çæè¡¡ãä¸é¢çè®¨è®ºæ¯ä½¿ç¨å³ç³»åæ°æ®åºæ¹æ³ã\n\n * å®¢æ·ç«¯ åéä¸ä¸ªåå»º paste çè¯·æ±å°ä½ä¸ºä¸ä¸ªååä»£çå¯å¨ç Web æå¡å¨ã\n * Web æå¡å¨ è½¬åè¯·æ±ç» åæ¥å£ æå¡å¨\n * åæ¥å£ æå¡å¨æ§è¡å¦ä¸æä½ï¼\n   * çæä¸ä¸ªå¯ä¸ç url\n     * æ£æ¥è¿ä¸ª url å¨ SQL æ°æ®åº éé¢æ¯å¦æ¯å¯ä¸ç\n     * å¦æè¿ä¸ª url ä¸æ¯å¯ä¸çï¼çæå¦å¤ä¸ä¸ª url\n     * å¦ææä»¬æ¯æèªå®ä¹ urlï¼æä»¬å¯ä»¥ä½¿ç¨ç¨æ·æä¾ç urlï¼ä¹éè¦æ£æ¥æ¯å¦éå¤ï¼\n   * æçæç url å­å¨å° SQL æ°æ®åº ç pastes è¡¨éé¢\n   * å­å¨ paste çåå®¹æ°æ®å° å¯¹è±¡å­å¨ éé¢\n   * è¿åçæç url\n\nåé¢è¯å®éæä½ éè¦åå¤å°ä»£ç \n\npastes è¡¨å¯ä»¥æå¦ä¸ç»æï¼\n\nshortlink char(7) NOT NULL\nexpiration_length_in_minutes int NOT NULL\ncreated_at datetime NOT NULL\npaste_path varchar(255) NOT NULL\nPRIMARY KEY(shortlink)\n\n\næä»¬å°å¨ shortlink å­æ®µå created_at å­æ®µä¸åå»ºä¸ä¸ªæ°æ®åºç´¢å¼ï¼ç¨æ¥æé«æ¥è¯¢çéåº¦ï¼é¿åå ä¸ºæ«æå¨è¡¨å¯¼è´çé¿æ¶é´æ¥è¯¢ï¼å¹¶å°æ°æ®ä¿å­å¨åå­ä¸­ï¼ä»åå­éé¢é¡ºåºè¯»å 1MB çæ°æ®éè¦å¤§æ¦ 250 å¾®ç§ï¼èä» SSD ä¸è¯»ååéè¦è±è´¹ 4 åçæ¶é´ï¼ä»ç¡¬çä¸åéè¦è±è´¹ 80 åçæ¶é´ã 1\n\nä¸ºäºçæå¯ä¸ç urlï¼æä»¬å¯ä»¥ï¼\n\n * ä½¿ç¨ MD5 æ¥åå¸ç¨æ·ç IP å°å + æ¶é´æ³\n   * MD5 æ¯ä¸ä¸ªæ®éç¨æ¥çæä¸ä¸ª 128-bit é¿åº¦çåå¸å¼çä¸ç§åå¸æ¹æ³\n   * MD5 æ¯ä¸è´åå¸ç\n   * æèæä»¬ä¹å¯ä»¥ç¨ MD5 åå¸ä¸ä¸ªéæºçæçæ°æ®\n * ç¨ Base 62 ç¼ç  MD5 åå¸å¼\n   * å¯¹äº urlsï¼ä½¿ç¨ Base 62 ç¼ç  [a-zA-Z0-9] æ¯æ¯è¾åéç\n   * å¯¹äºæ¯ä¸ä¸ªåå§è¾å¥åªä¼æä¸ä¸ª hash ç»æï¼Base 62 æ¯ç¡®å®çï¼ä¸æ¶åéæºæ§ï¼\n   * Base 64 æ¯å¦å¤ä¸ä¸ªæµè¡çç¼ç æ¹æ¡ï¼ä½æ¯å¯¹äº urlsï¼ä¼å ä¸ºé¢å¤ç + å - å­ç¬¦ä¸²èäº§çä¸äºé®é¢\n   * ä»¥ä¸ Base 62 ä¼ªä»£ç  æ§è¡çæ¶é´å¤æåº¦æ¯ O(k)ï¼k æ¯æ°å­çæ°é = 7ï¼\n\ndef base_encode(num, base=62):\n    digits = []\n    while num > 0\n      remainder = modulo(num, base)\n      digits.push(remainder)\n      num = divide(num, base)\n    digits = digits.reverse\n\n\n * åè¾åºçå 7 ä¸ªå­ç¬¦ï¼ç»æä¼æ 62^7 ä¸ªå¯è½çå¼ï¼åºè¯¥è¶³ä»¥æ»¡è¶³å¨ 3 å¹´åå¤ç 3.6 äº¿ä¸ªç­é¾æ¥ççº¦æï¼\n\nurl = base_encode(md5(ip_address+timestamp))[:URL_LENGTH]\n\n\næä»¬å°ä¼ç¨ä¸ä¸ªå¬å¼ç REST é£æ ¼æ¥å£ï¼\n\n$ curl -X POST --data \'{"expiration_length_in_minutes":"60", \\"paste_contents":"Hello World!"}\' https://pastebin.com/api/v1/paste\n\n\nResponse:\n\n{\n  "shortlink": "foobar"\n}\n\n\nç¨äºåé¨éä¿¡ï¼æä»¬å¯ä»¥ç¨ RPCã\n\n\n# ç¨ä¾ï¼ç¨æ·è¾å¥ä¸ä¸ª paste ç url åå¯ä»¥çå°å®å­å¨çåå®¹\n\n * å®¢æ·ç«¯ åéä¸ä¸ªè·å paste è¯·æ±å° Web Server\n * Web Server è½¬åè¯·æ±ç» è¯»åæ¥å£ æå¡å¨\n * è¯»åæ¥å£ æå¡å¨æ§è¡å¦ä¸æä½ï¼\n   * å¨ SQL æ°æ®åº æ£æ¥è¿ä¸ªçæç url\n     * å¦æè¿ä¸ª url å¨ SQL æ°æ®åº éé¢ï¼åä» å¯¹è±¡å­å¨ è·åè¿ä¸ª paste çåå®¹\n     * å¦åï¼è¿åä¸ä¸ªéè¯¯é¡µé¢ç»ç¨æ·\n\nREST APIï¼\n\ncurl https://pastebin.com/api/v1/paste?shortlink=foobar\n\n\nResponse:\n\n{\n  "paste_contents": "Hello World",\n  "created_at": "YYYY-MM-DD HH:MM:SS",\n  "expiration_length_in_minutes": "60"\n}\n\n\n\n# ç¨ä¾ï¼ æå¡è·è¸ªåæé¡µé¢\n\nå ä¸ºå®æ¶åæä¸æ¯å¿é¡»çï¼æä»¥æä»¬å¯ä»¥ç®åç MapReduce Web Server çæ¥å¿ï¼ç¨æ¥çæç¹å»æ¬¡æ°ã\n\nclass HitCounts(MRJob):\n\n    def extract_url(self, line):\n        """Extract the generated url from the log line."""\n        ...\n\n    def extract_year_month(self, line):\n        """Return the year and month portions of the timestamp."""\n        ...\n\n    def mapper(self, _, line):\n        """Parse each log line, extract and transform relevant lines.\n\n        Emit key value pairs of the form:\n\n        (2016-01, url0), 1\n        (2016-01, url0), 1\n        (2016-01, url1), 1\n        """\n        url = self.extract_url(line)\n        period = self.extract_year_month(line)\n        yield (period, url), 1\n\n    def reducer(self, key, values):\n        """Sum values for each key.\n\n        (2016-01, url0), 2\n        (2016-01, url1), 1\n        """\n        yield key, sum(values)\n\n\n\n# ç¨ä¾ï¼ æå¡å é¤è¿æç pastes\n\nä¸ºäºå é¤è¿æç pastesï¼æä»¬å¯ä»¥ç´æ¥æç´¢ SQL æ°æ®åº ä¸­ææçè¿ææ¶é´æ¯å½åæ¶é´æ´æ©çè®°å½ï¼ ææè¿æçè®°å½å°ä»è¿å¼ è¡¨éé¢å é¤ï¼æèå°å¶æ è®°ä¸ºè¿æï¼ã\n\n\n# æ­¥éª¤åãæ©å±è®¾è®¡\n\n> ç»å®çº¦ææ¡ä»¶ï¼è¯å«åè§£å³ç¶é¢ã\n\n\n\néè¦æç¤º: ä¸è¦ç®åçä»æåçè®¾è®¡ç´æ¥è·³å°æç»çè®¾è®¡\n\nè¯´ææ¨å°è¿­ä»£å°æ§è¡è¿æ ·çæä½ï¼1)Benchmark/Load æµè¯ï¼2)Profile åºç¶é¢ï¼3)å¨è¯ä¼°æ¿ä»£æ¹æ¡åæè¡¡æ¶è§£å³ç¶é¢ï¼4)éå¤åé¢ï¼å¯ä»¥åèå¨ AWS ä¸è®¾è®¡ä¸ä¸ªå¯ä»¥æ¯æç¾ä¸ç¨æ·çç³»ç»è¿ä¸ªç¨æ¥è§£å³å¦ä½è¿­ä»£å°æ©å±åå§è®¾è®¡çä¾å­ã\n\néè¦çæ¯è®¨è®ºå¨åå§è®¾è®¡ä¸­å¯è½éå°çç¶é¢ï¼ä»¥åå¦ä½è§£å³æ¯ä¸ªç¶é¢ãæ¯å¦ï¼å¨å¤ä¸ª Web æå¡å¨ ä¸æ·»å  è´è½½å¹³è¡¡å¨ å¯ä»¥è§£å³åªäºé®é¢ï¼ CDN è§£å³åªäºé®é¢ï¼Master-Slave Replicas è§£å³åªäºé®é¢? æ¿ä»£æ¹æ¡æ¯ä»ä¹åæä¹å¯¹æ¯ä¸ä¸ªæ¿ä»£æ¹æ¡è¿è¡æè¡¡æ¯è¾ï¼\n\næä»¬å°ä»ç»ä¸äºç»ä»¶æ¥å®æè®¾è®¡ï¼å¹¶è§£å³å¯ä¼¸ç¼©æ§é®é¢ãåé¨çè´è½½å¹³è¡¡å¨å¹¶ä¸è½åå°æä¹±ã\n\nä¸ºäºé¿åéå¤çè®¨è®ºï¼ åèä»¥ä¸ç³»ç»è®¾è®¡ä¸»é¢è·åä¸»è¦è®¨è®ºè¦ç¹ãæè¡¡åæ¿ä»£æ¹æ¡ï¼\n\n * DNS\n * CDN\n * è´è½½åè¡¡å¨\n * æ°´å¹³æ©å±\n * ååä»£çï¼web æå¡å¨ï¼\n * åºç¨å±\n * ç¼å­\n * å³ç³»åæ°æ®åºç®¡çç³»ç» (RDBMS)\n * SQL write master-slave failover\n * ä¸»ä»å¤å¶\n * ä¸è´æ§æ¨¡å¼\n * å¯ç¨æ§æ¨¡å¼\n\nåæå­å¨æ°æ®åº å¯ä»¥ç¨æ¯å¦ Amazon Redshift æè Google BigQuery è¿æ ·çæ°æ®ä»åºè§£å³æ¹æ¡ã\n\nä¸ä¸ªå Amazon S3 è¿æ ·ç å¯¹è±¡å­å¨ï¼å¯ä»¥è½»æ¾å¤çæ¯æ 12.7 GB çæ°åå®¹çº¦æã\n\nè¦å¤ç å¹³å æ¯ç§ 40 è¯»è¯·æ±(å³°å¼æ´é«)ï¼å¶ä¸­ç­ç¹åå®¹çæµéåºè¯¥ç± åå­ç¼å­ å¤çï¼èä¸æ¯æ°æ®åºãåå­ç¼å­ å¯¹äºå¤çåå¸ä¸ååçæµéåæµéå³°å¼ä¹å¾æç¨ãåªè¦å¯æ¬æ²¡æé·å¥å¤å¶åçæ³¥æ½­ï¼SQL Read Replicas åºè¯¥è½å¤å¤çç¼å­ä¸¢å¤±ã\n\nå¯¹äºåä¸ª SQL Write Master-Slaveï¼å¹³å æ¯ç§ 4paste åå¥ (å³°å¼æ´é«) åºè¯¥æ¯å¯ä»¥åå°çãå¦åï¼æä»¬éè¦ä½¿ç¨é¢å¤ç SQL æ©å±æ¨¡å¼:\n\n * èå\n * åç\n * éè§èå\n * SQL è°ä¼\n\næä»¬è¿åºè¯¥èèå°ä¸äºæ°æ®ç§»å¨å° NoSQL æ°æ®åºã\n\n\n# é¢å¤çè¯é¢\n\n> æ¯å¦æ´æ·±å¥æ¢è®¨é¢å¤ä¸»é¢ï¼åå³äºé®é¢çèå´åé¢è¯å©ä½çæ¶é´ã\n\n\n# NoSQL\n\n * é®å¼å­å¨\n * ææ¡£å­å¨\n * ååå­å¨\n * å¾æ°æ®åº\n * sql è¿æ¯ nosql\n\n\n# ç¼å­\n\n * å¨åªç¼å­\n   * å®¢æ·ç«¯ç¼å­\n   * CDN ç¼å­\n   * Web æå¡å¨ç¼å­\n   * æ°æ®åºç¼å­\n   * åºç¨ç¼å­\n * ç¼å­ä»ä¹\n   * æ°æ®åºæ¥è¯¢çº§å«çç¼å­\n   * å¯¹è±¡çº§å«çç¼å­\n * ä½æ¶æ´æ°ç¼å­\n   * ç¼å­æ¨¡å¼\n   * ç´åæ¨¡å¼\n   * ååæ¨¡å¼\n   * å·æ°\n\n\n# å¼æ­¥åå¾®æå¡\n\n * æ¶æ¯éå\n * ä»»å¡éå\n * èå\n * å¾®æå¡\n\n\n# éä¿¡\n\n * è®¨è®ºæè¡¡:\n   * è·å®¢æ·ç«¯ä¹é´çå¤é¨éä¿¡ - HTTP APIs following REST\n   * åé¨éä¿¡ - RPC\n * æå¡åç°\n\n\n# å®å¨\n\nåèå®å¨ã\n\n\n# å»¶è¿æ°å­\n\nè§æ¯ä¸ªç¨åºåé½åºè¯¥ç¥éçå»¶è¿æ°ã\n\n\n# æç»­è¿è¡\n\n * ç»§ç»­å¯¹ç³»ç»è¿è¡åºåæµè¯åçæ§ï¼ä»¥å¨ç¶é¢åºç°æ¶è§£å³å®ä»¬\n * æ©å±æ¯ä¸ä¸ªè¿­ä»£çè¿ç¨',normalizedContent:'# è®¾è®¡ pastebin.com (æè bit.ly)\n\n> æ¬ææ¬è¿èª è®¾è®¡ pastebin.com (æè bit.ly)\n\næ³¨æ: ä¸ºäºé¿åéå¤ï¼å½åææ¡£ä¼ç´æ¥é¾æ¥å°ç³»ç»è®¾è®¡ä¸»é¢çç¸å³åºåï¼è¯·åèé¾æ¥åå®¹ä»¥è·å¾ç»¼åçè®¨è®ºç¹ãæè¡¡åæ¿ä»£æ¹æ¡ã\n\nè®¾è®¡ bit.ly - æ¯ä¸ä¸ªç±»ä¼¼çé®é¢ï¼åºå«æ¯ pastebin éè¦å­å¨çæ¯ paste çåå®¹ï¼èä¸æ¯åå§çæªç­åç urlã\n\n\n# æ­¥éª¤ä¸ãéæ±åæ\n\n> æ¶éè¿ä¸ªé®é¢çéæ±åèç´ã é®ç¸å³é®é¢æ¥æç¡®ç¨ä¾åçº¦æã è®¨è®ºä¸äºåè®¾ã\n\n\n# ç¨ä¾\n\n# é®é¢èå´\n\n * ç¨æ· è¾å¥ä¸æ®µææ¬ï¼ç¶åå¾å°ä¸ä¸ªéæºçæçé¾æ¥\n   * è¿æè®¾ç½®\n     * é»è®¤çè®¾ç½®æ¯ä¸ä¼è¿æç\n     * å¯ä»¥éæ©è®¾ç½®ä¸ä¸ªè¿æçæ¶é´\n * ç¨æ· è¾å¥ä¸ä¸ª paste ç url åï¼å¯ä»¥çå°å®å­å¨çåå®¹\n * ç¨æ· æ¯å¿åç\n * service è·è¸ªé¡µé¢åæ\n   * ä¸ä¸ªæçè®¿é®ç»è®¡\n * service å é¤è¿æç pastes\n * service éè¦é«å¯ç¨\n\n# è¶åºèç´çç¨ä¾\n\n * ç¨æ· å¯ä»¥æ³¨åä¸ä¸ªè´¦æ·\n   * ç¨æ· éè¿éªè¯é®ç®±\n * ç¨æ· å¯ä»¥ç¨æ³¨åçè´¦æ·ç»å½\n   * ç¨æ· å¯ä»¥ç¼è¾ææ¡£\n * ç¨æ· å¯ä»¥è®¾ç½®å¯è§æ§\n * ç¨æ· å¯ä»¥è®¾ç½®ç­é¾æ¥\n\n\n# çº¦æååè®¾\n\n# ç¶æåè®¾\n\n * è®¿é®æµéä¸æ¯åååå¸ç\n * æå¼ä¸ä¸ªç­é¾æ¥åºè¯¥æ¯å¾å¿«ç\n * pastes åªè½æ¯ææ¬\n * é¡µé¢è®¿é®åææ°æ®å¯ä»¥ä¸ç¨å®æ¶\n * ä¸åä¸çç¨æ·é\n * æ¯ä¸ªæä¸åä¸ç paste åå¥é\n * æ¯ä¸ªæä¸äº¿ç paste è¯»åé\n * è¯»åæ¯ä¾å¨ 10:1\n\n# æ§è½ä¼°ç®\n\n * æ¯ä¸ª paste çå¤§å°\n   * æ¯ä¸ä¸ª paste 1 kb\n   * shortlink - 7 bytes\n   * expiration_length_in_minutes - 4 bytes\n   * created_at - 5 bytes\n   * paste_path - 255 bytes\n   * æ»å± = ~1.27 kb\n * æ¯ä¸ªææ°ç paste åå®¹å¨ 12.7gb\n   * (1.27 * 10000000)kb / æç paste\n   * ä¸å¹´åå°è¿ 450gb çæ° paste åå®¹\n   * ä¸å¹´å 3.6 äº¿ç­é¾æ¥\n   * åè®¾å¤§é¨åé½æ¯æ°ç pasteï¼èä¸æ¯éè¦æ´æ°å·²å­å¨ç paste\n * å¹³å 4paste/s çåå¥éåº¦\n * å¹³å 40paste/s çè¯»åéåº¦\n\nç®åçè½¬æ¢æå:\n\n * 2.5 ç¾ä¸ req/s\n * 1 req/s = 2.5 ç¾ä¸ req/month\n * 40 req/s = 1 äº¿ req/month\n * 400 req/s = 10 äº¿ req/month\n\n\n# æ­¥éª¤äºãé¡¶å±è®¾è®¡\n\n> æ¦è¿°ä¸ä¸ªåæ¬ææéè¦çç»ä»¶çé«å±æ¬¡è®¾è®¡\n\n\n\n\n# æ­¥éª¤ä¸ãæ ¸å¿ç»ä»¶è®¾è®¡\n\n> æ·±å¥æ¯ä¸ä¸ªæ ¸å¿ç»ä»¶çç»è\n\n\n# ç¨ä¾ï¼ç¨æ·è¾å¥ä¸æ®µææ¬ï¼ç¶åå¾å°ä¸ä¸ªéæºçæçé¾æ¥\n\næä»¬å¯ä»¥ç¨ä¸ä¸ª å³ç³»åæ°æ®åºä½ä¸ºä¸ä¸ªå¤§çåå¸è¡¨ï¼ç¨æ¥æçæç url æ å°å°ä¸ä¸ªåå« paste æä»¶çæä»¶æå¡å¨åè·¯å¾ä¸ã\n\nä¸ºäºé¿åæç®¡ä¸ä¸ªæä»¶æå¡å¨ï¼æä»¬å¯ä»¥ç¨ä¸ä¸ªæç®¡çå¯¹è±¡å­å¨ï¼æ¯å¦ amazon ç s3 æènosql ææ¡£ç±»åå­å¨ã\n\nä½ä¸ºä¸ä¸ªå¤§çåå¸è¡¨çå³ç³»åæ°æ®åºçæ¿ä»£æ¹æ¡ï¼æä»¬å¯ä»¥ç¨nosql é®å¼å­å¨ãæä»¬éè¦è®¨è®ºéæ© sql æ nosql ä¹é´çæè¡¡ãä¸é¢çè®¨è®ºæ¯ä½¿ç¨å³ç³»åæ°æ®åºæ¹æ³ã\n\n * å®¢æ·ç«¯ åéä¸ä¸ªåå»º paste çè¯·æ±å°ä½ä¸ºä¸ä¸ªååä»£çå¯å¨ç web æå¡å¨ã\n * web æå¡å¨ è½¬åè¯·æ±ç» åæ¥å£ æå¡å¨\n * åæ¥å£ æå¡å¨æ§è¡å¦ä¸æä½ï¼\n   * çæä¸ä¸ªå¯ä¸ç url\n     * æ£æ¥è¿ä¸ª url å¨ sql æ°æ®åº éé¢æ¯å¦æ¯å¯ä¸ç\n     * å¦æè¿ä¸ª url ä¸æ¯å¯ä¸çï¼çæå¦å¤ä¸ä¸ª url\n     * å¦ææä»¬æ¯æèªå®ä¹ urlï¼æä»¬å¯ä»¥ä½¿ç¨ç¨æ·æä¾ç urlï¼ä¹éè¦æ£æ¥æ¯å¦éå¤ï¼\n   * æçæç url å­å¨å° sql æ°æ®åº ç pastes è¡¨éé¢\n   * å­å¨ paste çåå®¹æ°æ®å° å¯¹è±¡å­å¨ éé¢\n   * è¿åçæç url\n\nåé¢è¯å®éæä½ éè¦åå¤å°ä»£ç \n\npastes è¡¨å¯ä»¥æå¦ä¸ç»æï¼\n\nshortlink char(7) not null\nexpiration_length_in_minutes int not null\ncreated_at datetime not null\npaste_path varchar(255) not null\nprimary key(shortlink)\n\n\næä»¬å°å¨ shortlink å­æ®µå created_at å­æ®µä¸åå»ºä¸ä¸ªæ°æ®åºç´¢å¼ï¼ç¨æ¥æé«æ¥è¯¢çéåº¦ï¼é¿åå ä¸ºæ«æå¨è¡¨å¯¼è´çé¿æ¶é´æ¥è¯¢ï¼å¹¶å°æ°æ®ä¿å­å¨åå­ä¸­ï¼ä»åå­éé¢é¡ºåºè¯»å 1mb çæ°æ®éè¦å¤§æ¦ 250 å¾®ç§ï¼èä» ssd ä¸è¯»ååéè¦è±è´¹ 4 åçæ¶é´ï¼ä»ç¡¬çä¸åéè¦è±è´¹ 80 åçæ¶é´ã 1\n\nä¸ºäºçæå¯ä¸ç urlï¼æä»¬å¯ä»¥ï¼\n\n * ä½¿ç¨ md5 æ¥åå¸ç¨æ·ç ip å°å + æ¶é´æ³\n   * md5 æ¯ä¸ä¸ªæ®éç¨æ¥çæä¸ä¸ª 128-bit é¿åº¦çåå¸å¼çä¸ç§åå¸æ¹æ³\n   * md5 æ¯ä¸è´åå¸ç\n   * æèæä»¬ä¹å¯ä»¥ç¨ md5 åå¸ä¸ä¸ªéæºçæçæ°æ®\n * ç¨ base 62 ç¼ç  md5 åå¸å¼\n   * å¯¹äº urlsï¼ä½¿ç¨ base 62 ç¼ç  [a-za-z0-9] æ¯æ¯è¾åéç\n   * å¯¹äºæ¯ä¸ä¸ªåå§è¾å¥åªä¼æä¸ä¸ª hash ç»æï¼base 62 æ¯ç¡®å®çï¼ä¸æ¶åéæºæ§ï¼\n   * base 64 æ¯å¦å¤ä¸ä¸ªæµè¡çç¼ç æ¹æ¡ï¼ä½æ¯å¯¹äº urlsï¼ä¼å ä¸ºé¢å¤ç + å - å­ç¬¦ä¸²èäº§çä¸äºé®é¢\n   * ä»¥ä¸ base 62 ä¼ªä»£ç  æ§è¡çæ¶é´å¤æåº¦æ¯ o(k)ï¼k æ¯æ°å­çæ°é = 7ï¼\n\ndef base_encode(num, base=62):\n    digits = []\n    while num > 0\n      remainder = modulo(num, base)\n      digits.push(remainder)\n      num = divide(num, base)\n    digits = digits.reverse\n\n\n * åè¾åºçå 7 ä¸ªå­ç¬¦ï¼ç»æä¼æ 62^7 ä¸ªå¯è½çå¼ï¼åºè¯¥è¶³ä»¥æ»¡è¶³å¨ 3 å¹´åå¤ç 3.6 äº¿ä¸ªç­é¾æ¥ççº¦æï¼\n\nurl = base_encode(md5(ip_address+timestamp))[:url_length]\n\n\næä»¬å°ä¼ç¨ä¸ä¸ªå¬å¼ç rest é£æ ¼æ¥å£ï¼\n\n$ curl -x post --data \'{"expiration_length_in_minutes":"60", \\"paste_contents":"hello world!"}\' https://pastebin.com/api/v1/paste\n\n\nresponse:\n\n{\n  "shortlink": "foobar"\n}\n\n\nç¨äºåé¨éä¿¡ï¼æä»¬å¯ä»¥ç¨ rpcã\n\n\n# ç¨ä¾ï¼ç¨æ·è¾å¥ä¸ä¸ª paste ç url åå¯ä»¥çå°å®å­å¨çåå®¹\n\n * å®¢æ·ç«¯ åéä¸ä¸ªè·å paste è¯·æ±å° web server\n * web server è½¬åè¯·æ±ç» è¯»åæ¥å£ æå¡å¨\n * è¯»åæ¥å£ æå¡å¨æ§è¡å¦ä¸æä½ï¼\n   * å¨ sql æ°æ®åº æ£æ¥è¿ä¸ªçæç url\n     * å¦æè¿ä¸ª url å¨ sql æ°æ®åº éé¢ï¼åä» å¯¹è±¡å­å¨ è·åè¿ä¸ª paste çåå®¹\n     * å¦åï¼è¿åä¸ä¸ªéè¯¯é¡µé¢ç»ç¨æ·\n\nrest apiï¼\n\ncurl https://pastebin.com/api/v1/paste?shortlink=foobar\n\n\nresponse:\n\n{\n  "paste_contents": "hello world",\n  "created_at": "yyyy-mm-dd hh:mm:ss",\n  "expiration_length_in_minutes": "60"\n}\n\n\n\n# ç¨ä¾ï¼ æå¡è·è¸ªåæé¡µé¢\n\nå ä¸ºå®æ¶åæä¸æ¯å¿é¡»çï¼æä»¥æä»¬å¯ä»¥ç®åç mapreduce web server çæ¥å¿ï¼ç¨æ¥çæç¹å»æ¬¡æ°ã\n\nclass hitcounts(mrjob):\n\n    def extract_url(self, line):\n        """extract the generated url from the log line."""\n        ...\n\n    def extract_year_month(self, line):\n        """return the year and month portions of the timestamp."""\n        ...\n\n    def mapper(self, _, line):\n        """parse each log line, extract and transform relevant lines.\n\n        emit key value pairs of the form:\n\n        (2016-01, url0), 1\n        (2016-01, url0), 1\n        (2016-01, url1), 1\n        """\n        url = self.extract_url(line)\n        period = self.extract_year_month(line)\n        yield (period, url), 1\n\n    def reducer(self, key, values):\n        """sum values for each key.\n\n        (2016-01, url0), 2\n        (2016-01, url1), 1\n        """\n        yield key, sum(values)\n\n\n\n# ç¨ä¾ï¼ æå¡å é¤è¿æç pastes\n\nä¸ºäºå é¤è¿æç pastesï¼æä»¬å¯ä»¥ç´æ¥æç´¢ sql æ°æ®åº ä¸­ææçè¿ææ¶é´æ¯å½åæ¶é´æ´æ©çè®°å½ï¼ ææè¿æçè®°å½å°ä»è¿å¼ è¡¨éé¢å é¤ï¼æèå°å¶æ è®°ä¸ºè¿æï¼ã\n\n\n# æ­¥éª¤åãæ©å±è®¾è®¡\n\n> ç»å®çº¦ææ¡ä»¶ï¼è¯å«åè§£å³ç¶é¢ã\n\n\n\néè¦æç¤º: ä¸è¦ç®åçä»æåçè®¾è®¡ç´æ¥è·³å°æç»çè®¾è®¡\n\nè¯´ææ¨å°è¿­ä»£å°æ§è¡è¿æ ·çæä½ï¼1)benchmark/load æµè¯ï¼2)profile åºç¶é¢ï¼3)å¨è¯ä¼°æ¿ä»£æ¹æ¡åæè¡¡æ¶è§£å³ç¶é¢ï¼4)éå¤åé¢ï¼å¯ä»¥åèå¨ aws ä¸è®¾è®¡ä¸ä¸ªå¯ä»¥æ¯æç¾ä¸ç¨æ·çç³»ç»è¿ä¸ªç¨æ¥è§£å³å¦ä½è¿­ä»£å°æ©å±åå§è®¾è®¡çä¾å­ã\n\néè¦çæ¯è®¨è®ºå¨åå§è®¾è®¡ä¸­å¯è½éå°çç¶é¢ï¼ä»¥åå¦ä½è§£å³æ¯ä¸ªç¶é¢ãæ¯å¦ï¼å¨å¤ä¸ª web æå¡å¨ ä¸æ·»å  è´è½½å¹³è¡¡å¨ å¯ä»¥è§£å³åªäºé®é¢ï¼ cdn è§£å³åªäºé®é¢ï¼master-slave replicas è§£å³åªäºé®é¢? æ¿ä»£æ¹æ¡æ¯ä»ä¹åæä¹å¯¹æ¯ä¸ä¸ªæ¿ä»£æ¹æ¡è¿è¡æè¡¡æ¯è¾ï¼\n\næä»¬å°ä»ç»ä¸äºç»ä»¶æ¥å®æè®¾è®¡ï¼å¹¶è§£å³å¯ä¼¸ç¼©æ§é®é¢ãåé¨çè´è½½å¹³è¡¡å¨å¹¶ä¸è½åå°æä¹±ã\n\nä¸ºäºé¿åéå¤çè®¨è®ºï¼ åèä»¥ä¸ç³»ç»è®¾è®¡ä¸»é¢è·åä¸»è¦è®¨è®ºè¦ç¹ãæè¡¡åæ¿ä»£æ¹æ¡ï¼\n\n * dns\n * cdn\n * è´è½½åè¡¡å¨\n * æ°´å¹³æ©å±\n * ååä»£çï¼web æå¡å¨ï¼\n * åºç¨å±\n * ç¼å­\n * å³ç³»åæ°æ®åºç®¡çç³»ç» (rdbms)\n * sql write master-slave failover\n * ä¸»ä»å¤å¶\n * ä¸è´æ§æ¨¡å¼\n * å¯ç¨æ§æ¨¡å¼\n\nåæå­å¨æ°æ®åº å¯ä»¥ç¨æ¯å¦ amazon redshift æè google bigquery è¿æ ·çæ°æ®ä»åºè§£å³æ¹æ¡ã\n\nä¸ä¸ªå amazon s3 è¿æ ·ç å¯¹è±¡å­å¨ï¼å¯ä»¥è½»æ¾å¤çæ¯æ 12.7 gb çæ°åå®¹çº¦æã\n\nè¦å¤ç å¹³å æ¯ç§ 40 è¯»è¯·æ±(å³°å¼æ´é«)ï¼å¶ä¸­ç­ç¹åå®¹çæµéåºè¯¥ç± åå­ç¼å­ å¤çï¼èä¸æ¯æ°æ®åºãåå­ç¼å­ å¯¹äºå¤çåå¸ä¸ååçæµéåæµéå³°å¼ä¹å¾æç¨ãåªè¦å¯æ¬æ²¡æé·å¥å¤å¶åçæ³¥æ½­ï¼sql read replicas åºè¯¥è½å¤å¤çç¼å­ä¸¢å¤±ã\n\nå¯¹äºåä¸ª sql write master-slaveï¼å¹³å æ¯ç§ 4paste åå¥ (å³°å¼æ´é«) åºè¯¥æ¯å¯ä»¥åå°çãå¦åï¼æä»¬éè¦ä½¿ç¨é¢å¤ç sql æ©å±æ¨¡å¼:\n\n * èå\n * åç\n * éè§èå\n * sql è°ä¼\n\næä»¬è¿åºè¯¥èèå°ä¸äºæ°æ®ç§»å¨å° nosql æ°æ®åºã\n\n\n# é¢å¤çè¯é¢\n\n> æ¯å¦æ´æ·±å¥æ¢è®¨é¢å¤ä¸»é¢ï¼åå³äºé®é¢çèå´åé¢è¯å©ä½çæ¶é´ã\n\n\n# nosql\n\n * é®å¼å­å¨\n * ææ¡£å­å¨\n * ååå­å¨\n * å¾æ°æ®åº\n * sql è¿æ¯ nosql\n\n\n# ç¼å­\n\n * å¨åªç¼å­\n   * å®¢æ·ç«¯ç¼å­\n   * cdn ç¼å­\n   * web æå¡å¨ç¼å­\n   * æ°æ®åºç¼å­\n   * åºç¨ç¼å­\n * ç¼å­ä»ä¹\n   * æ°æ®åºæ¥è¯¢çº§å«çç¼å­\n   * å¯¹è±¡çº§å«çç¼å­\n * ä½æ¶æ´æ°ç¼å­\n   * ç¼å­æ¨¡å¼\n   * ç´åæ¨¡å¼\n   * ååæ¨¡å¼\n   * å·æ°\n\n\n# å¼æ­¥åå¾®æå¡\n\n * æ¶æ¯éå\n * ä»»å¡éå\n * èå\n * å¾®æå¡\n\n\n# éä¿¡\n\n * è®¨è®ºæè¡¡:\n   * è·å®¢æ·ç«¯ä¹é´çå¤é¨éä¿¡ - http apis following rest\n   * åé¨éä¿¡ - rpc\n * æå¡åç°\n\n\n# å®å¨\n\nåèå®å¨ã\n\n\n# å»¶è¿æ°å­\n\nè§æ¯ä¸ªç¨åºåé½åºè¯¥ç¥éçå»¶è¿æ°ã\n\n\n# æç»­è¿è¡\n\n * ç»§ç»­å¯¹ç³»ç»è¿è¡åºåæµè¯åçæ§ï¼ä»¥å¨ç¶é¢åºç°æ¶è§£å³å®ä»¬\n * æ©å±æ¯ä¸ä¸ªè¿­ä»£çè¿ç¨',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"ç§æç³»ç»è®¾è®¡",frontmatter:{title:"ç§æç³»ç»è®¾è®¡",date:"2018-07-05T15:11:00.000Z",categories:["è®¾è®¡","æ¶æ","è§£å³æ¹æ¡"],tags:["æ¶æ","è§£å³æ¹æ¡"],permalink:"/pages/a963f0/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/01.%E6%9E%B6%E6%9E%84/99.%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1.html",relativePath:"03.è®¾è®¡/01.æ¶æ/99.è§£å³æ¹æ¡/ç§æç³»ç»è®¾è®¡.md",key:"v-8da1bcae",path:"/pages/a963f0/",headers:[{level:2,title:"ç§æç³»ç»çé¾ç¹",slug:"ç§æç³»ç»çé¾ç¹",normalizedTitle:"ç§æç³»ç»çé¾ç¹",charIndex:36},{level:2,title:"ç§æç³»ç»çæè",slug:"ç§æç³»ç»çæè",normalizedTitle:"ç§æç³»ç»çæè",charIndex:443},{level:3,title:"ç¨³åå¿«",slug:"ç¨³åå¿«",normalizedTitle:"ç¨³åå¿«",charIndex:455},{level:2,title:"åç«¯ä¼å",slug:"åç«¯ä¼å",normalizedTitle:"åç«¯ä¼å",charIndex:589},{level:3,title:"éæé¡µé¢",slug:"éæé¡µé¢",normalizedTitle:"éæé¡µé¢",charIndex:598},{level:3,title:"æé®æ§å¶",slug:"æé®æ§å¶",normalizedTitle:"æé®æ§å¶",charIndex:790},{level:2,title:"åç«¯ä¼å",slug:"åç«¯ä¼å",normalizedTitle:"åç«¯ä¼å",charIndex:849},{level:3,title:"éç¦»",slug:"éç¦»",normalizedTitle:"éç¦»",charIndex:858},{level:3,title:"éæµãçæ­ãéçº§ãéç¦»",slug:"éæµãçæ­ãéçº§ãéç¦»",normalizedTitle:"éæµãçæ­ãéçº§ãéç¦»",charIndex:947},{level:3,title:"ç¼å­",slug:"ç¼å­",normalizedTitle:"ç¼å­",charIndex:647},{level:3,title:"æµéåå³°",slug:"æµéåå³°",normalizedTitle:"æµéåå³°",charIndex:1141},{level:3,title:"ååºå­",slug:"ååºå­",normalizedTitle:"ååºå­",charIndex:527},{level:4,title:"æ¶æä¸å",slug:"æ¶æä¸å",normalizedTitle:"æ¶æä¸å",charIndex:1282},{level:4,title:"é¿åè¶å",slug:"é¿åè¶å",normalizedTitle:"é¿åè¶å",charIndex:1361},{level:3,title:"URL å¨æå",slug:"url-å¨æå",normalizedTitle:"url å¨æå",charIndex:1776},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:1843}],headersStr:"ç§æç³»ç»çé¾ç¹ ç§æç³»ç»çæè ç¨³åå¿« åç«¯ä¼å éæé¡µé¢ æé®æ§å¶ åç«¯ä¼å éç¦» éæµãçæ­ãéçº§ãéç¦» ç¼å­ æµéåå³° ååºå­ æ¶æä¸å é¿åè¶å URL å¨æå åèèµæ",content:"# ç§æç³»ç»è®¾è®¡\n\nç§æç³»ç»æè¦åºå¯¹çåºæ¯å°±æ¯ï¼ç¬æ¶æµ·éè¯·æ±ã\n\n\n# ç§æç³»ç»çé¾ç¹\n\n * é«å¹¶åï¼ç§æç³»ç»æ¯æè´çé«å¹¶åºæ¯åèªä¸ç¨è¯´ãå¶é«å¹¶åå¯ä»¥ç»åä¸ºäºï¼\n   * å¹¶åè¯»ï¼ä¸»è¦æ¯è¯»åå©ä½åºå­éä»¥åååä¿¡æ¯\n   * å¹¶ååï¼ä¸»è¦æ¯ä¸ååï¼ç³»ç»åå¥è®¢åè®°å½\n * è¶åï¼ç§æç³»ç»ä¸­å®åçååä¸è¬é½æ¯æ§ä»·æ¯å¾é«ï¼ä¸æä¹èµé±ï¼çè³èµé±èµååçååãä¸æ¦åºç°è¶åç°è±¡ï¼ä¼ç»åå®¶å¸¦æ¥å·¨å¤§çç»æµæå¤±ãä»ç³»ç»å±é¢æ¥çï¼æ¯å¦æç§æååæ¬æ¥åºå­ 100 ä»¶ï¼ä½æ¯å¨é«å¹¶ååºæ¯ä¸ï¼ç¬æ¶ä¸åéè¶è¿ 100 ä»¶ï¼å¤çä¸å½ï¼è®©è¿äºä¸åé½æåäºï¼å°±ä¼åºç°è¶åã\n * æ¶æè¯·æ±ï¼æäºäººä¸ºäºä½ä»·è´­å¥ç§æååï¼éè¿å¨å¤å°æºå¨ä¸è·èæ¬ï¼æ¨¡æå¤§éç¨æ·æ¢ååçè¯·æ±ï¼èµ°èªå·±çè·¯ï¼è®©å«äººæ è·¯å¯èµ°ï¼ã\n * æ°æ®åºå´©æºï¼æµ·éè¯·æ±ä¸ï¼å¦ææ²¡æ MQ åå³°ï¼æ²¡æè¿è½½ä¿æ¤ï¼è®©ææè¯·æ±é½æå°æ°æ®åºï¼é£ä¹æ°æ®åºåºæ¬å°±æäºãæ°æ®åºå¦ææäºï¼ä¹ä¼æ³¢åå¶ä»ä¸å¡ï¼ä»èå¯è½è®©æ´ä¸ªç³»ç»ãç½ç«é·å¥ç«çªã\n * å¯¹ç°æä¸å¡é æå²å»\n\n\n# ç§æç³»ç»çæè\n\n\n# ç¨³åå¿«\n\nç§æç³»ç»æ¶æçæèè§åº¦å¯ä»¥æ¦æ¬ä¸ºï¼ç¨³ãåãå¿«\n\n * ç¨³ï¼é«å¯ç¨ï¼ï¼ç³»ç»æ¶æè¦æ»¡è¶³é«å¯ç¨ï¼ç³»ç»è¦è½æä½æ´»å¨ã\n * åï¼ä¸è´æ§ï¼ï¼ååååºå­æ¹å¼éå¸¸å³é®ï¼ä¸è½åºç°è¶åã\n * å¿«ï¼é«æ§è½ï¼ï¼æ´ä¸ªè¯·æ±é¾è·¯ï¼ä»åç«¯å°åç«¯ï¼ä¾èµç»ä»¶é½è¦åå°ååä¼åã\n\n\n\n\n# åç«¯ä¼å\n\n\n# éæé¡µé¢\n\næç§æååé¡µé¢éæåï¼åå°æ¥æ°æ®åºç IO å¼éãç¶åï¼å¯ä»¥å°è¿äºéæé¡µé¢å CDN ç¼å­ï¼å¦æé¡¹ç®æ¯ååç«¯åç¦»çï¼è¿å¯ä»¥å¨ååä»£çæå¡å¨ä¾§è®¾ç½®éæç¼å­ã\n\nå¦æ¯ä¸ªååé½ç± ID æ¥æ è¯ï¼é£ä¹ http://item.xxx.com/item.htm?id=xxxx å°±å¯ä»¥ä½ä¸ºå¯ä¸ç URL æ è¯ãç¸åºçé¡µé¢å¯ä»¥æåååç«¯ç¼å­ï¼è¿æ ·å°±ä¸éè¦ååå°æ¥è¯¢ååä¿¡æ¯ã\n\n\n# æé®æ§å¶\n\nå¨ç§ææ´»å¨å¼å¯æ¶é´åï¼ä¸åæé®ç¦ç¨ã\n\næ­¤å¤ï¼æé®ä¸æ¦ç¹å»ä¹åï¼ç¦ç¨ä¸æ®µæ¶é´ï¼é²æ­¢æäººç¯çè¾åºã\n\n\n# åç«¯ä¼å\n\n\n# éç¦»\n\nç§ææ´»å¨ï¼æ¬è´¨ä¸è¿æ¯ä¸ä¸ªè¥éæ´»å¨ï¼æ§è´¨åææãä¿éä¸æ ·ã\n\nç§æç³»ç»è®¾è®¡åºçº¿ååï¼æ¯ä¸åºè¯¥å½±åç°æä¸å¡ãæä»¥ï¼ä¸ºäºé¿åé²ä¸èé²ï¼ç¾å¯ä¸ççæåµä¸ï¼ç§æç³»ç»å´©äºã\n\n\n# éæµãçæ­ãéçº§ãéç¦»\n\n * éç¦»ï¼å°ç§æç³»ç»ãæ°æ®ä¸å¶ä»æ­£å¸¸ä¸å¡éç¦»ãå½¼æ­¤éç¦»ï¼èªç¶äºä¸å½±åã\n\n * éæµï¼è®¾ç½®éå¼ï¼è¶è¿éå¼ï¼æç»è¯·æ±ãé²æ­¢æ°æ®åºè¢«ææ­»ã\n\n * éçº§ï¼ä¿è¯æ ¸å¿ä¸å¡ç»§ç»­å·¥ä½ï¼éæ ¸å¿ä¸å¡åå®å¤©å½ã\n\n * çæ­ï¼ä¸è¦å½±åå«çç³»ç»ã\n\n\n# ç¼å­\n\nç¼å­è¦é¢ç­ï¼é¿åç¬é´æµéå²å»ã\n\næ­¤å¤ï¼é²æ­¢éªå´©ãç©¿éãå»ç©¿é®é¢çå¸¸è§å¤çè¦åå¥½ã\n\nç¼å­ä¹è¦ä¿è¯é«å¯ç¨ã\n\n\n# æµéåå³°\n\nåå³°çæè·¯ï¼æéãç­é¢ãåå±è¿æ»¤ã\n\n * æéï¼ç¨æ¶æ¯éåæ¥ç¼å²ç¬æ¶æµéçæ¹æ¡ãä½æ¯ï¼æ¶æ¯éåèªèº«ä¹æä¸éï¼å¦æç§¯åè¿å¤ï¼ä¹ä¼å¤çä¸äºã\n * ç­é¢ï¼æä¸æï¼ï¼å¯ä»¥éå¶ç§æå¨å¹¶å»¶ç¼è¯·æ±ã\n * åå±è¿æ»¤ï¼éç¨æ¼æå¼çè®¾è®¡å°½å¯è½æ¦æªæ æè¯·æ±ã\n\n\n\n\n# ååºå­\n\n# æ¶æä¸å\n\næ¶æä¸åçè§£å³æ¹æ¡è¿æ¯è¦ç»åå®å¨ååä½å¼æªæ½æ¥å¶æ­¢ï¼\n\n * è¯å«é¢ç¹ä¸åä¸ä»æ¬¾æéå¤ä¸åä¸ä»æ¬¾çåå®¶ï¼é»æ­å¶ä¸åã\n * éå¶ä¸ªäººè´­ä¹°æ°\n\n# é¿åè¶å\n\nååºå­å¨æ°æ®ä¸è´æ§ä¸ï¼ä¸»è¦å°±æ¯ä¿è¯å¤§å¹¶åè¯·æ±æ¶åºå­æ°æ®ä¸è½ä¸ºè´æ°ï¼ä¹å°±æ¯è¦ä¿è¯æ°æ®åºä¸­çåºå­å­æ®µå¼ä¸è½ä¸ºè´æ°ï¼ä¸è¬æä»¬æå¤ç§è§£å³æ¹æ¡ï¼ä¸ç§æ¯å¨åºç¨ç¨åºä¸­éè¿äºå¡æ¥å¤æ­ï¼å³ä¿è¯åååºå­ä¸è½ä¸ºè´æ°ï¼å¦åå°±åæ»ï¼å¦ä¸ç§åæ³æ¯ç´æ¥è®¾ç½®æ°æ®åºçå­æ®µæ°æ®ä¸ºæ ç¬¦å·æ´æ°ï¼è¿æ ·åååºå­å­æ®µå¼å°äºé¶æ¶ä¼ç´æ¥æ§è¡ SQL è¯­å¥æ¥æ¥éï¼åæä¸ç§å°±æ¯ä½¿ç¨ CASE WHEN å¤æ­è¯­å¥ï¼ä¾å¦è¿æ ·ç SQL è¯­å¥ï¼\n\nUPDATE item SET inventory = CASE WHEN inventory >= xxx THEN inventory-xxx ELSE inventory END\n\n\nå¨äº¤æç¯èä¸­ï¼âåºå­âæ¯ä¸ªå³é®æ°æ®ï¼ä¹æ¯ä¸ªç­ç¹æ°æ®ï¼å ä¸ºäº¤æçåä¸ªç¯èä¸­é½å¯è½æ¶åå¯¹åºå­çæ¥è¯¢ãä½æ¯ï¼æå¨åé¢ä»ç»åå±è¿æ»¤æ¶æå°è¿ï¼ç§æä¸­å¹¶ä¸éè¦å¯¹åºå­æç²¾ç¡®çä¸è´æ§è¯»ï¼æåºå­æ°æ®æ¾å°ç¼å­ï¼Cacheï¼ä¸­ï¼å¯ä»¥å¤§å¤§æåè¯»æ§è½ã\n\n\n# URL å¨æå\n\néè¿ MD5 ä¹ç±»çå å¯ç®æ³å å¯éæºçå­ç¬¦ä¸²å»å urlï¼ç¶åéè¿åç«¯ä»£ç è·å url åå°æ ¡éªæè½éè¿ã\n\n\n# åèèµæ\n\n * å¦ä½è®¾è®¡ä¸ä¸ªç§æç³»ç»\n * ä¸ä¸ªç§æç³»ç»çè®¾è®¡æè",normalizedContent:"# ç§æç³»ç»è®¾è®¡\n\nç§æç³»ç»æè¦åºå¯¹çåºæ¯å°±æ¯ï¼ç¬æ¶æµ·éè¯·æ±ã\n\n\n# ç§æç³»ç»çé¾ç¹\n\n * é«å¹¶åï¼ç§æç³»ç»æ¯æè´çé«å¹¶åºæ¯åèªä¸ç¨è¯´ãå¶é«å¹¶åå¯ä»¥ç»åä¸ºäºï¼\n   * å¹¶åè¯»ï¼ä¸»è¦æ¯è¯»åå©ä½åºå­éä»¥åååä¿¡æ¯\n   * å¹¶ååï¼ä¸»è¦æ¯ä¸ååï¼ç³»ç»åå¥è®¢åè®°å½\n * è¶åï¼ç§æç³»ç»ä¸­å®åçååä¸è¬é½æ¯æ§ä»·æ¯å¾é«ï¼ä¸æä¹èµé±ï¼çè³èµé±èµååçååãä¸æ¦åºç°è¶åç°è±¡ï¼ä¼ç»åå®¶å¸¦æ¥å·¨å¤§çç»æµæå¤±ãä»ç³»ç»å±é¢æ¥çï¼æ¯å¦æç§æååæ¬æ¥åºå­ 100 ä»¶ï¼ä½æ¯å¨é«å¹¶ååºæ¯ä¸ï¼ç¬æ¶ä¸åéè¶è¿ 100 ä»¶ï¼å¤çä¸å½ï¼è®©è¿äºä¸åé½æåäºï¼å°±ä¼åºç°è¶åã\n * æ¶æè¯·æ±ï¼æäºäººä¸ºäºä½ä»·è´­å¥ç§æååï¼éè¿å¨å¤å°æºå¨ä¸è·èæ¬ï¼æ¨¡æå¤§éç¨æ·æ¢ååçè¯·æ±ï¼èµ°èªå·±çè·¯ï¼è®©å«äººæ è·¯å¯èµ°ï¼ã\n * æ°æ®åºå´©æºï¼æµ·éè¯·æ±ä¸ï¼å¦ææ²¡æ mq åå³°ï¼æ²¡æè¿è½½ä¿æ¤ï¼è®©ææè¯·æ±é½æå°æ°æ®åºï¼é£ä¹æ°æ®åºåºæ¬å°±æäºãæ°æ®åºå¦ææäºï¼ä¹ä¼æ³¢åå¶ä»ä¸å¡ï¼ä»èå¯è½è®©æ´ä¸ªç³»ç»ãç½ç«é·å¥ç«çªã\n * å¯¹ç°æä¸å¡é æå²å»\n\n\n# ç§æç³»ç»çæè\n\n\n# ç¨³åå¿«\n\nç§æç³»ç»æ¶æçæèè§åº¦å¯ä»¥æ¦æ¬ä¸ºï¼ç¨³ãåãå¿«\n\n * ç¨³ï¼é«å¯ç¨ï¼ï¼ç³»ç»æ¶æè¦æ»¡è¶³é«å¯ç¨ï¼ç³»ç»è¦è½æä½æ´»å¨ã\n * åï¼ä¸è´æ§ï¼ï¼ååååºå­æ¹å¼éå¸¸å³é®ï¼ä¸è½åºç°è¶åã\n * å¿«ï¼é«æ§è½ï¼ï¼æ´ä¸ªè¯·æ±é¾è·¯ï¼ä»åç«¯å°åç«¯ï¼ä¾èµç»ä»¶é½è¦åå°ååä¼åã\n\n\n\n\n# åç«¯ä¼å\n\n\n# éæé¡µé¢\n\næç§æååé¡µé¢éæåï¼åå°æ¥æ°æ®åºç io å¼éãç¶åï¼å¯ä»¥å°è¿äºéæé¡µé¢å cdn ç¼å­ï¼å¦æé¡¹ç®æ¯ååç«¯åç¦»çï¼è¿å¯ä»¥å¨ååä»£çæå¡å¨ä¾§è®¾ç½®éæç¼å­ã\n\nå¦æ¯ä¸ªååé½ç± id æ¥æ è¯ï¼é£ä¹ http://item.xxx.com/item.htm?id=xxxx å°±å¯ä»¥ä½ä¸ºå¯ä¸ç url æ è¯ãç¸åºçé¡µé¢å¯ä»¥æåååç«¯ç¼å­ï¼è¿æ ·å°±ä¸éè¦ååå°æ¥è¯¢ååä¿¡æ¯ã\n\n\n# æé®æ§å¶\n\nå¨ç§ææ´»å¨å¼å¯æ¶é´åï¼ä¸åæé®ç¦ç¨ã\n\næ­¤å¤ï¼æé®ä¸æ¦ç¹å»ä¹åï¼ç¦ç¨ä¸æ®µæ¶é´ï¼é²æ­¢æäººç¯çè¾åºã\n\n\n# åç«¯ä¼å\n\n\n# éç¦»\n\nç§ææ´»å¨ï¼æ¬è´¨ä¸è¿æ¯ä¸ä¸ªè¥éæ´»å¨ï¼æ§è´¨åææãä¿éä¸æ ·ã\n\nç§æç³»ç»è®¾è®¡åºçº¿ååï¼æ¯ä¸åºè¯¥å½±åç°æä¸å¡ãæä»¥ï¼ä¸ºäºé¿åé²ä¸èé²ï¼ç¾å¯ä¸ççæåµä¸ï¼ç§æç³»ç»å´©äºã\n\n\n# éæµãçæ­ãéçº§ãéç¦»\n\n * éç¦»ï¼å°ç§æç³»ç»ãæ°æ®ä¸å¶ä»æ­£å¸¸ä¸å¡éç¦»ãå½¼æ­¤éç¦»ï¼èªç¶äºä¸å½±åã\n\n * éæµï¼è®¾ç½®éå¼ï¼è¶è¿éå¼ï¼æç»è¯·æ±ãé²æ­¢æ°æ®åºè¢«ææ­»ã\n\n * éçº§ï¼ä¿è¯æ ¸å¿ä¸å¡ç»§ç»­å·¥ä½ï¼éæ ¸å¿ä¸å¡åå®å¤©å½ã\n\n * çæ­ï¼ä¸è¦å½±åå«çç³»ç»ã\n\n\n# ç¼å­\n\nç¼å­è¦é¢ç­ï¼é¿åç¬é´æµéå²å»ã\n\næ­¤å¤ï¼é²æ­¢éªå´©ãç©¿éãå»ç©¿é®é¢çå¸¸è§å¤çè¦åå¥½ã\n\nç¼å­ä¹è¦ä¿è¯é«å¯ç¨ã\n\n\n# æµéåå³°\n\nåå³°çæè·¯ï¼æéãç­é¢ãåå±è¿æ»¤ã\n\n * æéï¼ç¨æ¶æ¯éåæ¥ç¼å²ç¬æ¶æµéçæ¹æ¡ãä½æ¯ï¼æ¶æ¯éåèªèº«ä¹æä¸éï¼å¦æç§¯åè¿å¤ï¼ä¹ä¼å¤çä¸äºã\n * ç­é¢ï¼æä¸æï¼ï¼å¯ä»¥éå¶ç§æå¨å¹¶å»¶ç¼è¯·æ±ã\n * åå±è¿æ»¤ï¼éç¨æ¼æå¼çè®¾è®¡å°½å¯è½æ¦æªæ æè¯·æ±ã\n\n\n\n\n# ååºå­\n\n# æ¶æä¸å\n\næ¶æä¸åçè§£å³æ¹æ¡è¿æ¯è¦ç»åå®å¨ååä½å¼æªæ½æ¥å¶æ­¢ï¼\n\n * è¯å«é¢ç¹ä¸åä¸ä»æ¬¾æéå¤ä¸åä¸ä»æ¬¾çåå®¶ï¼é»æ­å¶ä¸åã\n * éå¶ä¸ªäººè´­ä¹°æ°\n\n# é¿åè¶å\n\nååºå­å¨æ°æ®ä¸è´æ§ä¸ï¼ä¸»è¦å°±æ¯ä¿è¯å¤§å¹¶åè¯·æ±æ¶åºå­æ°æ®ä¸è½ä¸ºè´æ°ï¼ä¹å°±æ¯è¦ä¿è¯æ°æ®åºä¸­çåºå­å­æ®µå¼ä¸è½ä¸ºè´æ°ï¼ä¸è¬æä»¬æå¤ç§è§£å³æ¹æ¡ï¼ä¸ç§æ¯å¨åºç¨ç¨åºä¸­éè¿äºå¡æ¥å¤æ­ï¼å³ä¿è¯åååºå­ä¸è½ä¸ºè´æ°ï¼å¦åå°±åæ»ï¼å¦ä¸ç§åæ³æ¯ç´æ¥è®¾ç½®æ°æ®åºçå­æ®µæ°æ®ä¸ºæ ç¬¦å·æ´æ°ï¼è¿æ ·åååºå­å­æ®µå¼å°äºé¶æ¶ä¼ç´æ¥æ§è¡ sql è¯­å¥æ¥æ¥éï¼åæä¸ç§å°±æ¯ä½¿ç¨ case when å¤æ­è¯­å¥ï¼ä¾å¦è¿æ ·ç sql è¯­å¥ï¼\n\nupdate item set inventory = case when inventory >= xxx then inventory-xxx else inventory end\n\n\nå¨äº¤æç¯èä¸­ï¼âåºå­âæ¯ä¸ªå³é®æ°æ®ï¼ä¹æ¯ä¸ªç­ç¹æ°æ®ï¼å ä¸ºäº¤æçåä¸ªç¯èä¸­é½å¯è½æ¶åå¯¹åºå­çæ¥è¯¢ãä½æ¯ï¼æå¨åé¢ä»ç»åå±è¿æ»¤æ¶æå°è¿ï¼ç§æä¸­å¹¶ä¸éè¦å¯¹åºå­æç²¾ç¡®çä¸è´æ§è¯»ï¼æåºå­æ°æ®æ¾å°ç¼å­ï¼cacheï¼ä¸­ï¼å¯ä»¥å¤§å¤§æåè¯»æ§è½ã\n\n\n# url å¨æå\n\néè¿ md5 ä¹ç±»çå å¯ç®æ³å å¯éæºçå­ç¬¦ä¸²å»å urlï¼ç¶åéè¿åç«¯ä»£ç è·å url åå°æ ¡éªæè½éè¿ã\n\n\n# åèèµæ\n\n * å¦ä½è®¾è®¡ä¸ä¸ªç§æç³»ç»\n * ä¸ä¸ªç§æç³»ç»çè®¾è®¡æè",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼æ¦è¿°",frontmatter:{title:"è®¾è®¡æ¨¡å¼æ¦è¿°",date:"2015-01-27T16:50:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/9a2452/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/00.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E6%A6%82%E8%BF%B0.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/00.è®¾è®¡æ¨¡å¼æ¦è¿°.md",key:"v-33b23c84",path:"/pages/9a2452/",headers:[{level:2,title:"åå»ºåæ¨¡å¼",slug:"åå»ºåæ¨¡å¼",normalizedTitle:"åå»ºåæ¨¡å¼",charIndex:137},{level:3,title:"åå»ºåæ¨¡å¼ç®ä»",slug:"åå»ºåæ¨¡å¼ç®ä»",normalizedTitle:"åå»ºåæ¨¡å¼ç®ä»",charIndex:147},{level:3,title:"åå»ºåæ¨¡å¼åºç¨",slug:"åå»ºåæ¨¡å¼åºç¨",normalizedTitle:"åå»ºåæ¨¡å¼åºç¨",charIndex:541},{level:3,title:"åå»ºåæ¨¡å¼ä»£è¡¨",slug:"åå»ºåæ¨¡å¼ä»£è¡¨",normalizedTitle:"åå»ºåæ¨¡å¼ä»£è¡¨",charIndex:977},{level:3,title:"ç»æåæ¨¡å¼",slug:"ç»æåæ¨¡å¼",normalizedTitle:"ç»æåæ¨¡å¼",charIndex:1132},{level:3,title:"è¡ä¸ºåæ¨¡å¼",slug:"è¡ä¸ºåæ¨¡å¼",normalizedTitle:"è¡ä¸ºåæ¨¡å¼",charIndex:1272},{level:2,title:"ð èµæ",slug:"ð-èµæ",normalizedTitle:"ð èµæ",charIndex:1520},{level:2,title:"ðª ä¼ é",slug:"ðª-ä¼ é",normalizedTitle:"ðª ä¼ é",charIndex:1564}],headersStr:"åå»ºåæ¨¡å¼ åå»ºåæ¨¡å¼ç®ä» åå»ºåæ¨¡å¼åºç¨ åå»ºåæ¨¡å¼ä»£è¡¨ ç»æåæ¨¡å¼ è¡ä¸ºåæ¨¡å¼ ð èµæ ðª ä¼ é",content:"# è®¾è®¡æ¨¡å¼æ¦è¿°\n\n> è®¾è®¡æ¨¡å¼ï¼Design patternï¼ä»£è¡¨äºæä½³çå®è·µï¼éå¸¸è¢«æç»éªçé¢åå¯¹è±¡çè½¯ä»¶å¼åäººåæéç¨ãè®¾è®¡æ¨¡å¼æ¯è½¯ä»¶å¼åäººåå¨è½¯ä»¶å¼åè¿ç¨ä¸­é¢ä¸´çä¸è¬é®é¢çè§£å³æ¹æ¡ãè¿äºè§£å³æ¹æ¡æ¯ä¼å¤è½¯ä»¶å¼åäººåç»è¿ç¸å½é¿çä¸æ®µæ¶é´çè¯éªåéè¯¯æ»ç»åºæ¥çã\n\n\n# åå»ºåæ¨¡å¼\n\n\n# åå»ºåæ¨¡å¼ç®ä»\n\nåå»ºåæ¨¡å¼æ½è±¡äºå®ä¾åçè¿ç¨ãå®å°ç³»ç»ä¸å®çå¯¹è±¡åå»ºãç»åãè¡¨ç¤ºçæ¹å¼åç¦»ã\n\nåå»ºåæ¨¡å¼é½ä¼å°å³äºè¯¥ç³»ç»ä½¿ç¨åªäºå·ä½çç±»çä¿¡æ¯å°è£èµ·æ¥ã\n\nå¨è½¯ä»¶å·¥ç¨ä¸­ï¼åå»ºåæ¨¡å¼æ¯å¤çå¯¹è±¡åå»ºçè®¾è®¡æ¨¡å¼ï¼è¯å¾æ ¹æ®å®éæåµä½¿ç¨åéçæ¹å¼åå»ºå¯¹è±¡ã\n\nåºæ¬çå¯¹è±¡åå»ºæ¹å¼å¯è½ä¼å¯¼è´è®¾è®¡ä¸çé®é¢ï¼æå¢å è®¾è®¡çå¤æåº¦ãåå»ºåæ¨¡å¼éè¿ä»¥æç§æ¹å¼æ§å¶å¯¹è±¡çåå»ºæ¥è§£å³é®é¢ã\n\nåå»ºåæ¨¡å¼çæå¯¼ææ³æ¯ï¼\n\n * å°ç³»ç»ä½¿ç¨çå·ä½ç±»å°è£èµ·æ¥ã\n * éèè¿äºå·ä½ç±»çå®ä¾åå»ºåç»åçæ¹å¼ã\n\nåå»ºåæ¨¡å¼ååä¸ºå¯¹è±¡åå»ºåæ¨¡å¼åç±»åå»ºåæ¨¡å¼ãå¯¹è±¡åå»ºåæ¨¡å¼å¤çå¯¹è±¡çåå»ºï¼ç±»åå»ºåæ¨¡å¼å¤çç±»çåå»ºã\n\n * å¯¹è±¡åå»ºåæ¨¡å¼æå¯¹è±¡åå»ºçä¸é¨åæ¨è¿å°å¦ä¸ä¸ªå¯¹è±¡ä¸­ãï¼ä»£è¡¨æ¨¡å¼ï¼åä¾æ¨¡å¼ãå»ºé èæ¨¡å¼ãååæ¨¡å¼ãæ½è±¡å·¥åæ¨¡å¼ï¼\n * ç±»åå»ºåæ¨¡å¼å°å®å¯¹è±¡çåå»ºæ¨è¿å°å­ç±»ä¸­ãï¼ä»£è¡¨æ¨¡å¼ï¼å·¥åæ¹æ³æ¨¡å¼ï¼\n\n\n# åå»ºåæ¨¡å¼åºç¨\n\nç°ä»£è½¯ä»¶å·¥ç¨æ´å ä¾èµå¯¹è±¡çç»åï¼èä¸æ¯ç±»çç»§æ¿ï¼å¼ºè°ä»ç¡¬ç¼ç çè¡ä¸ºè½¬åå°å®ä¹ä¸ç»åºæ¬è¡ä¸ºæ¥ç»åæå¤æçè¡ä¸ºã\n\nç¡¬ç¼ç çè¡ä¸ºä¸å¤çµæ´»ï¼å ä¸ºå¦ææ³è¦æ¹åè®¾è®¡çä¸é¨åï¼éè¦éè¿éåæèéæ°å®ç°æè½å®æã\n\nå¦å¤ï¼ç¡¬ç¼ç æ²¡ææé«éç¨æ§ï¼èä¸é¾ä»¥è·è¸ªéè¯¯ãç±äºè¿äºåå ï¼åå»ºåæ¨¡å¼æ¯ç¡¬ç¼ç çè¡ä¸ºæ´æç¨ã\n\nåå»ºåæ¨¡å¼ä½¿è®¾è®¡åå¾æ´çµæ´»ï¼æä¾äºä¸åçæ¹å¼ï¼ä»ä»£ç ä¸­ç§»é¤äºå¯¹éè¦å®ä¾åçå·ä½ç±»çå¼ç¨ãæ¢å¥è¯è¯´ï¼è¿äºæ¨¡å¼å¢å¼ºäºå¯¹è±¡åç±»ä¹é´çç¬ç«æ§ã\n\nå¨ä»¥ä¸æåµä¸­ï¼å¯ä»¥èèåºç¨åå»ºåæ¨¡å¼ï¼\n\n * ä¸ä¸ªç³»ç»éè¦åå®çå¯¹è±¡åäº§åçåå»ºç¸äºç¬ç«ã\n * ä¸ç»ç¸å³çå¯¹è±¡è¢«è®¾è®¡ä¸ºä¸èµ·ä½¿ç¨ã\n * éèä¸ä¸ªç±»åºçå·ä½å®ç°ï¼ä»æ´é²å®ä»¬çæ¥å£ã\n * åå»ºç¬ç«å¤æå¯¹è±¡çä¸åè¡¨ç¤ºã\n * ä¸ä¸ªç±»å¸æå®çå­ç±»å®ç°å®æåå»ºçå¯¹è±¡ã\n * ç±»çå®ä¾åå¨è¿è¡æ¶ææå®ã\n * ä¸ä¸ªç±»åªè½æä¸ä¸ªå®ä¾ï¼èä¸è¿ä¸ªå®ä¾è½å¨ä»»ä½æ¶åè®¿é®å°ã\n * å®ä¾åºè¯¥è½å¨ä¸ä¿®æ¹çæåµä¸å·æå¯æ©å±æ§ã\n\n\n# åå»ºåæ¨¡å¼ä»£è¡¨\n\n * åä¾æ¨¡å¼ (Singleton)\n * ç®åå·¥åæ¨¡å¼ (Simple Factory)\n * å·¥åæ¹æ³æ¨¡å¼ (Factory Method)\n * æ½è±¡å·¥åæ¨¡å¼ (Abstract Factory)\n * å»ºé èæ¨¡å¼ (Builder)\n * ååæ¨¡å¼ (Prototype)\n\n\n# ç»æåæ¨¡å¼\n\n * ééå¨æ¨¡å¼ (Adapter)\n * æ¡¥æ¥æ¨¡å¼ (Bridge)\n * è£é¥°æ¨¡å¼ (Decorator)\n * ç»åæ¨¡å¼ (Composite)\n * å¤è§æ¨¡å¼ (Facade)\n * äº«åæ¨¡å¼ (Flyweight)\n * ä»£çæ¨¡å¼ (Proxy)\n\n\n# è¡ä¸ºåæ¨¡å¼\n\n * æ¨¡æ¿æ¹æ³æ¨¡å¼ (Template Method)\n * å½ä»¤æ¨¡å¼ (Command)\n * è¿­ä»£å¨æ¨¡å¼ (Iterator)\n * è§å¯èæ¨¡å¼ (Observer)\n * è§£éå¨æ¨¡å¼ (Interpreter)\n * ä¸­ä»èæ¨¡å¼ (Mediator)\n * èè´£é¾æ¨¡å¼ (Chain of Responsibility)\n * å¤å¿å½æ¨¡å¼ (Memento)\n * ç­ç¥æ¨¡å¼ (Strategy)\n * è®¿é®èæ¨¡å¼ (Visitor)\n * ç¶ææ¨¡å¼ (State)\n\n\n# ð èµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n\n\n# ðª ä¼ é\n\nâ¾ ð§ éæç IT ç¥è¯å¾è°± â¾ ð¯ éæçåå®¢ â¾",normalizedContent:"# è®¾è®¡æ¨¡å¼æ¦è¿°\n\n> è®¾è®¡æ¨¡å¼ï¼design patternï¼ä»£è¡¨äºæä½³çå®è·µï¼éå¸¸è¢«æç»éªçé¢åå¯¹è±¡çè½¯ä»¶å¼åäººåæéç¨ãè®¾è®¡æ¨¡å¼æ¯è½¯ä»¶å¼åäººåå¨è½¯ä»¶å¼åè¿ç¨ä¸­é¢ä¸´çä¸è¬é®é¢çè§£å³æ¹æ¡ãè¿äºè§£å³æ¹æ¡æ¯ä¼å¤è½¯ä»¶å¼åäººåç»è¿ç¸å½é¿çä¸æ®µæ¶é´çè¯éªåéè¯¯æ»ç»åºæ¥çã\n\n\n# åå»ºåæ¨¡å¼\n\n\n# åå»ºåæ¨¡å¼ç®ä»\n\nåå»ºåæ¨¡å¼æ½è±¡äºå®ä¾åçè¿ç¨ãå®å°ç³»ç»ä¸å®çå¯¹è±¡åå»ºãç»åãè¡¨ç¤ºçæ¹å¼åç¦»ã\n\nåå»ºåæ¨¡å¼é½ä¼å°å³äºè¯¥ç³»ç»ä½¿ç¨åªäºå·ä½çç±»çä¿¡æ¯å°è£èµ·æ¥ã\n\nå¨è½¯ä»¶å·¥ç¨ä¸­ï¼åå»ºåæ¨¡å¼æ¯å¤çå¯¹è±¡åå»ºçè®¾è®¡æ¨¡å¼ï¼è¯å¾æ ¹æ®å®éæåµä½¿ç¨åéçæ¹å¼åå»ºå¯¹è±¡ã\n\nåºæ¬çå¯¹è±¡åå»ºæ¹å¼å¯è½ä¼å¯¼è´è®¾è®¡ä¸çé®é¢ï¼æå¢å è®¾è®¡çå¤æåº¦ãåå»ºåæ¨¡å¼éè¿ä»¥æç§æ¹å¼æ§å¶å¯¹è±¡çåå»ºæ¥è§£å³é®é¢ã\n\nåå»ºåæ¨¡å¼çæå¯¼ææ³æ¯ï¼\n\n * å°ç³»ç»ä½¿ç¨çå·ä½ç±»å°è£èµ·æ¥ã\n * éèè¿äºå·ä½ç±»çå®ä¾åå»ºåç»åçæ¹å¼ã\n\nåå»ºåæ¨¡å¼ååä¸ºå¯¹è±¡åå»ºåæ¨¡å¼åç±»åå»ºåæ¨¡å¼ãå¯¹è±¡åå»ºåæ¨¡å¼å¤çå¯¹è±¡çåå»ºï¼ç±»åå»ºåæ¨¡å¼å¤çç±»çåå»ºã\n\n * å¯¹è±¡åå»ºåæ¨¡å¼æå¯¹è±¡åå»ºçä¸é¨åæ¨è¿å°å¦ä¸ä¸ªå¯¹è±¡ä¸­ãï¼ä»£è¡¨æ¨¡å¼ï¼åä¾æ¨¡å¼ãå»ºé èæ¨¡å¼ãååæ¨¡å¼ãæ½è±¡å·¥åæ¨¡å¼ï¼\n * ç±»åå»ºåæ¨¡å¼å°å®å¯¹è±¡çåå»ºæ¨è¿å°å­ç±»ä¸­ãï¼ä»£è¡¨æ¨¡å¼ï¼å·¥åæ¹æ³æ¨¡å¼ï¼\n\n\n# åå»ºåæ¨¡å¼åºç¨\n\nç°ä»£è½¯ä»¶å·¥ç¨æ´å ä¾èµå¯¹è±¡çç»åï¼èä¸æ¯ç±»çç»§æ¿ï¼å¼ºè°ä»ç¡¬ç¼ç çè¡ä¸ºè½¬åå°å®ä¹ä¸ç»åºæ¬è¡ä¸ºæ¥ç»åæå¤æçè¡ä¸ºã\n\nç¡¬ç¼ç çè¡ä¸ºä¸å¤çµæ´»ï¼å ä¸ºå¦ææ³è¦æ¹åè®¾è®¡çä¸é¨åï¼éè¦éè¿éåæèéæ°å®ç°æè½å®æã\n\nå¦å¤ï¼ç¡¬ç¼ç æ²¡ææé«éç¨æ§ï¼èä¸é¾ä»¥è·è¸ªéè¯¯ãç±äºè¿äºåå ï¼åå»ºåæ¨¡å¼æ¯ç¡¬ç¼ç çè¡ä¸ºæ´æç¨ã\n\nåå»ºåæ¨¡å¼ä½¿è®¾è®¡åå¾æ´çµæ´»ï¼æä¾äºä¸åçæ¹å¼ï¼ä»ä»£ç ä¸­ç§»é¤äºå¯¹éè¦å®ä¾åçå·ä½ç±»çå¼ç¨ãæ¢å¥è¯è¯´ï¼è¿äºæ¨¡å¼å¢å¼ºäºå¯¹è±¡åç±»ä¹é´çç¬ç«æ§ã\n\nå¨ä»¥ä¸æåµä¸­ï¼å¯ä»¥èèåºç¨åå»ºåæ¨¡å¼ï¼\n\n * ä¸ä¸ªç³»ç»éè¦åå®çå¯¹è±¡åäº§åçåå»ºç¸äºç¬ç«ã\n * ä¸ç»ç¸å³çå¯¹è±¡è¢«è®¾è®¡ä¸ºä¸èµ·ä½¿ç¨ã\n * éèä¸ä¸ªç±»åºçå·ä½å®ç°ï¼ä»æ´é²å®ä»¬çæ¥å£ã\n * åå»ºç¬ç«å¤æå¯¹è±¡çä¸åè¡¨ç¤ºã\n * ä¸ä¸ªç±»å¸æå®çå­ç±»å®ç°å®æåå»ºçå¯¹è±¡ã\n * ç±»çå®ä¾åå¨è¿è¡æ¶ææå®ã\n * ä¸ä¸ªç±»åªè½æä¸ä¸ªå®ä¾ï¼èä¸è¿ä¸ªå®ä¾è½å¨ä»»ä½æ¶åè®¿é®å°ã\n * å®ä¾åºè¯¥è½å¨ä¸ä¿®æ¹çæåµä¸å·æå¯æ©å±æ§ã\n\n\n# åå»ºåæ¨¡å¼ä»£è¡¨\n\n * åä¾æ¨¡å¼ (singleton)\n * ç®åå·¥åæ¨¡å¼ (simple factory)\n * å·¥åæ¹æ³æ¨¡å¼ (factory method)\n * æ½è±¡å·¥åæ¨¡å¼ (abstract factory)\n * å»ºé èæ¨¡å¼ (builder)\n * ååæ¨¡å¼ (prototype)\n\n\n# ç»æåæ¨¡å¼\n\n * ééå¨æ¨¡å¼ (adapter)\n * æ¡¥æ¥æ¨¡å¼ (bridge)\n * è£é¥°æ¨¡å¼ (decorator)\n * ç»åæ¨¡å¼ (composite)\n * å¤è§æ¨¡å¼ (facade)\n * äº«åæ¨¡å¼ (flyweight)\n * ä»£çæ¨¡å¼ (proxy)\n\n\n# è¡ä¸ºåæ¨¡å¼\n\n * æ¨¡æ¿æ¹æ³æ¨¡å¼ (template method)\n * å½ä»¤æ¨¡å¼ (command)\n * è¿­ä»£å¨æ¨¡å¼ (iterator)\n * è§å¯èæ¨¡å¼ (observer)\n * è§£éå¨æ¨¡å¼ (interpreter)\n * ä¸­ä»èæ¨¡å¼ (mediator)\n * èè´£é¾æ¨¡å¼ (chain of responsibility)\n * å¤å¿å½æ¨¡å¼ (memento)\n * ç­ç¥æ¨¡å¼ (strategy)\n * è®¿é®èæ¨¡å¼ (visitor)\n * ç¶ææ¨¡å¼ (state)\n\n\n# ð èµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n\n\n# ðª ä¼ é\n\nâ¾ ð§ éæç it ç¥è¯å¾è°± â¾ ð¯ éæçåå®¢ â¾",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"æ¶æ",frontmatter:{title:"æ¶æ",date:"2019-03-08T13:16:53.000Z",categories:["è®¾è®¡","æ¶æ"],tags:["æ¶æ"],permalink:"/pages/d9e5d2/",hidden:!0},regularPath:"/03.%E8%AE%BE%E8%AE%A1/01.%E6%9E%B6%E6%9E%84/",relativePath:"03.è®¾è®¡/01.æ¶æ/README.md",key:"v-4bd3e31c",path:"/pages/d9e5d2/",headers:[{level:2,title:"ð åå®¹",slug:"ð-åå®¹",normalizedTitle:"ð åå®¹",charIndex:470},{level:3,title:"ç»¼å",slug:"ç»¼å",normalizedTitle:"ç»¼å",charIndex:103},{level:3,title:"å¾®æå¡",slug:"å¾®æå¡",normalizedTitle:"å¾®æå¡",charIndex:597},{level:3,title:"å®å¨",slug:"å®å¨",normalizedTitle:"å®å¨",charIndex:565},{level:2,title:"ð èµæ",slug:"ð-èµæ",normalizedTitle:"ð èµæ",charIndex:655},{level:2,title:"ðª ä¼ é",slug:"ðª-ä¼ é",normalizedTitle:"ðª ä¼ é",charIndex:1045}],headersStr:"ð åå®¹ ç»¼å å¾®æå¡ å®å¨ ð èµæ ðª ä¼ é",content:"# æ¶æ\n\næ¶æè®¾è®¡çç®çæ¯è§£å³è½¯ä»¶ç³»ç»çå¤æåº¦å¸¦æ¥çé®é¢ãæ¶æå³(éè¦)å³ç­ï¼æ¯å¨ä¸ä¸ªæçº¦æççå­éå»æ±è§£ææ¥è¿æåéçè§£ãè¿ä¸ªæçº¦æççå­æ¯å¢éç»éªãææ¬ãèµæºãè¿åº¦ãä¸å¡æå¤é¶æ®µç­æç¼ç»ãæºæå¨ä¸èµ·çç»¼åä½(äººï¼è´¢ï¼ç©ï¼æ¶é´ï¼äºæç­)ãæ¶ææ ä¼å£ï¼ä½æ¯å­å¨æ°å½çæ¶æç¨å¨åéçè½¯ä»¶ç³»ç»ä¸­ï¼èè¿äºå°±æ¯å³ç­çç»æã\n\næ¶æè®¾è®¡ååï¼åéååãç®åååãæ¼åååãåéä¼äºåè¿ => æ¼åä¼äºä¸æ­¥å°ä½ => ç®åä¼äºå¤æ\n\næ¶æè®¾è®¡æä¸å¡éæ±é©±å¨ï¼éè¦è¯å«åºä¸»è¦é®é¢ï¼ç¶åæ ¹æ®ä¸å¡ãææ¯ãå¢éãææ¬ç­ç»¼åè¯ä¼°æåºï¼ä¼åè§£å³å½åé¢ä¸´çæä¸»è¦çå¤æåº¦é®é¢ã\n\næ¶æè®¾è®¡ä¸è¬è¦ç»åºå¤å¥å¤éæ¹æ¡ï¼3 ~ 5 ä¸ªæä½³ï¼ï¼å¹¶è¯ä¼°åæ¹æ¡å©å¼ã\n\nè¯ä¼°æ¹æ¡æ¶ï¼åºè¯¥åååºå³æ³¨çç»´åº¦ï¼å¦ï¼åè½æ§ãæ§è½ãå¯ç¨æ§ãå¤æåº¦ãç¡¬ä»¶ææ¬ãè¿ç»´ææ¬ç­ï¼ï¼ç¶åæ ¹æ®è¿äºç»´åº¦å»è¯ä¼°æåï¼åç»¼åæéæåéå½æ¶æåµçæ¹æ¡ã\n\næ¶æå¤±è´¥çä¸»å ï¼\n\n * æ²¡é£ä¹å¤äººï¼å´æ³å¹²é£ä¹å¤æ´»\n * æ²¡æé£ä¹å¤ç§¯ç´¯ï¼å´æ³ä¸æ­¥ç»å¤©\n * æ²¡æé£ä¹åè¶çä¸å¡åºæ¯ï¼å´å¹»æ³çµåä¸éªæä¸ºå¤©æ\n\n\n# ð åå®¹\n\n\n# ç»¼å\n\n * å¦ä½è®¾è®¡ç³»ç»\n * ç³»ç»æ¶æé¢è¯æ»ç»\n * ç³»ç»æ¶ææ¦è¿°\n * ç³»ç»é«æ§è½æ¶æ\n * ç³»ç»é«å¯ç¨æ¶æ\n * ç³»ç»ä¼¸ç¼©æ§æ¶æ\n * ç³»ç»æ©å±æ§æ¶æ\n * ç³»ç»å®å¨æ§æ¶æ\n * å¤§åç³»ç»æ ¸å¿ææ¯\n * ç³»ç»æµè¯æ¶æ\n\n\n# å¾®æå¡\n\n * å¾®æå¡ç®ä»\n * å¾®æå¡åºæ¬åç\n\n\n# å®å¨\n\n * è®¤è¯åææ\n * OAuth2.0\n\n\n# ð èµæ\n\n * ä¹¦ç±\n   * ãå¤§åç½ç«ææ¯æ¶æï¼æ ¸å¿åçä¸æ¡ä¾åæã - æµæ¾ææçå°è§£å¤§åç½ç«æ¶ææ¼è¿ä¹è·¯ï¼ç®ä»äºå¤§åç³»ç»æé¢ä¸´çææä»¥åæ ¸å¿ææ¯ç¹ã\n   * ãå¤§åç½ç«ç³»ç»ä¸ Java ä¸­é´ä»¶å®è·µã\n   * ãäº¿çº§æµéç½ç«æ¶ææ ¸å¿ææ¯ï¼è·å¼æ¶å­¦æ­å»ºé«å¯ç¨é«å¹¶åç³»ç»ã\n   * ãä¼ä¸ IT æ¶æè½¬åä¹éï¼é¿éå·´å·´ä¸­å°æç¥ææ³ä¸æ¶æå®æã - éè¿°é¿éå·´å·´ä¸­å°ç³»ç»åå±ï¼æ´å¤çæ¯è®²è§£åºç¨åºæ¯åè½åï¼æ²¡æè®²è§£ææ¯ç»èã\n   * ãéæµèä¸ï¼é¿éå·´å·´ææ¯æé¿ä¹è·¯ã - ä¸»è¦ä»¥è¿ç»´çè§è§éè¿°ç³»ç»è¿ç»´ä¸­éå°çå°é¾ï¼å®ä½æè·¯ä»¥åè§£å³æ¹æ³ã\n * æç¨\n   * system-design-primer\n   * ä» 0 å¼å§å­¦æ¶æ\n   * ä» 0 å¼å§å­¦å¾®æå¡\n   * RPC å®æä¸æ ¸å¿åç\n   * å¾®æå¡æ¶ææ ¸å¿ 20 è®²\n   * DDD å®æè¯¾\n\n\n# ðª ä¼ é\n\nâ¾ ð§ éæç IT ç¥è¯å¾è°± â¾ ð¯ éæçåå®¢ â¾",normalizedContent:"# æ¶æ\n\næ¶æè®¾è®¡çç®çæ¯è§£å³è½¯ä»¶ç³»ç»çå¤æåº¦å¸¦æ¥çé®é¢ãæ¶æå³(éè¦)å³ç­ï¼æ¯å¨ä¸ä¸ªæçº¦æççå­éå»æ±è§£ææ¥è¿æåéçè§£ãè¿ä¸ªæçº¦æççå­æ¯å¢éç»éªãææ¬ãèµæºãè¿åº¦ãä¸å¡æå¤é¶æ®µç­æç¼ç»ãæºæå¨ä¸èµ·çç»¼åä½(äººï¼è´¢ï¼ç©ï¼æ¶é´ï¼äºæç­)ãæ¶ææ ä¼å£ï¼ä½æ¯å­å¨æ°å½çæ¶æç¨å¨åéçè½¯ä»¶ç³»ç»ä¸­ï¼èè¿äºå°±æ¯å³ç­çç»æã\n\næ¶æè®¾è®¡ååï¼åéååãç®åååãæ¼åååãåéä¼äºåè¿ => æ¼åä¼äºä¸æ­¥å°ä½ => ç®åä¼äºå¤æ\n\næ¶æè®¾è®¡æä¸å¡éæ±é©±å¨ï¼éè¦è¯å«åºä¸»è¦é®é¢ï¼ç¶åæ ¹æ®ä¸å¡ãææ¯ãå¢éãææ¬ç­ç»¼åè¯ä¼°æåºï¼ä¼åè§£å³å½åé¢ä¸´çæä¸»è¦çå¤æåº¦é®é¢ã\n\næ¶æè®¾è®¡ä¸è¬è¦ç»åºå¤å¥å¤éæ¹æ¡ï¼3 ~ 5 ä¸ªæä½³ï¼ï¼å¹¶è¯ä¼°åæ¹æ¡å©å¼ã\n\nè¯ä¼°æ¹æ¡æ¶ï¼åºè¯¥åååºå³æ³¨çç»´åº¦ï¼å¦ï¼åè½æ§ãæ§è½ãå¯ç¨æ§ãå¤æåº¦ãç¡¬ä»¶ææ¬ãè¿ç»´ææ¬ç­ï¼ï¼ç¶åæ ¹æ®è¿äºç»´åº¦å»è¯ä¼°æåï¼åç»¼åæéæåéå½æ¶æåµçæ¹æ¡ã\n\næ¶æå¤±è´¥çä¸»å ï¼\n\n * æ²¡é£ä¹å¤äººï¼å´æ³å¹²é£ä¹å¤æ´»\n * æ²¡æé£ä¹å¤ç§¯ç´¯ï¼å´æ³ä¸æ­¥ç»å¤©\n * æ²¡æé£ä¹åè¶çä¸å¡åºæ¯ï¼å´å¹»æ³çµåä¸éªæä¸ºå¤©æ\n\n\n# ð åå®¹\n\n\n# ç»¼å\n\n * å¦ä½è®¾è®¡ç³»ç»\n * ç³»ç»æ¶æé¢è¯æ»ç»\n * ç³»ç»æ¶ææ¦è¿°\n * ç³»ç»é«æ§è½æ¶æ\n * ç³»ç»é«å¯ç¨æ¶æ\n * ç³»ç»ä¼¸ç¼©æ§æ¶æ\n * ç³»ç»æ©å±æ§æ¶æ\n * ç³»ç»å®å¨æ§æ¶æ\n * å¤§åç³»ç»æ ¸å¿ææ¯\n * ç³»ç»æµè¯æ¶æ\n\n\n# å¾®æå¡\n\n * å¾®æå¡ç®ä»\n * å¾®æå¡åºæ¬åç\n\n\n# å®å¨\n\n * è®¤è¯åææ\n * oauth2.0\n\n\n# ð èµæ\n\n * ä¹¦ç±\n   * ãå¤§åç½ç«ææ¯æ¶æï¼æ ¸å¿åçä¸æ¡ä¾åæã - æµæ¾ææçå°è§£å¤§åç½ç«æ¶ææ¼è¿ä¹è·¯ï¼ç®ä»äºå¤§åç³»ç»æé¢ä¸´çææä»¥åæ ¸å¿ææ¯ç¹ã\n   * ãå¤§åç½ç«ç³»ç»ä¸ java ä¸­é´ä»¶å®è·µã\n   * ãäº¿çº§æµéç½ç«æ¶ææ ¸å¿ææ¯ï¼è·å¼æ¶å­¦æ­å»ºé«å¯ç¨é«å¹¶åç³»ç»ã\n   * ãä¼ä¸ it æ¶æè½¬åä¹éï¼é¿éå·´å·´ä¸­å°æç¥ææ³ä¸æ¶æå®æã - éè¿°é¿éå·´å·´ä¸­å°ç³»ç»åå±ï¼æ´å¤çæ¯è®²è§£åºç¨åºæ¯åè½åï¼æ²¡æè®²è§£ææ¯ç»èã\n   * ãéæµèä¸ï¼é¿éå·´å·´ææ¯æé¿ä¹è·¯ã - ä¸»è¦ä»¥è¿ç»´çè§è§éè¿°ç³»ç»è¿ç»´ä¸­éå°çå°é¾ï¼å®ä½æè·¯ä»¥åè§£å³æ¹æ³ã\n * æç¨\n   * system-design-primer\n   * ä» 0 å¼å§å­¦æ¶æ\n   * ä» 0 å¼å§å­¦å¾®æå¡\n   * rpc å®æä¸æ ¸å¿åç\n   * å¾®æå¡æ¶ææ ¸å¿ 20 è®²\n   * ddd å®æè¯¾\n\n\n# ðª ä¼ é\n\nâ¾ ð§ éæç it ç¥è¯å¾è°± â¾ ð¯ éæçåå®¢ â¾",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼ä¹ç®åå·¥åæ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼ä¹ç®åå·¥åæ¨¡å¼",date:"2015-06-03T09:41:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/ff930b/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/01.%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/01.ç®åå·¥åæ¨¡å¼.md",key:"v-13d9f031",path:"/pages/ff930b/",headers:[{level:2,title:"ç®ä»",slug:"ç®ä»",normalizedTitle:"ç®ä»",charIndex:18},{level:3,title:"ç®åå·¥åæ¨¡å¼ææ³",slug:"ç®åå·¥åæ¨¡å¼ææ³",normalizedTitle:"ç®åå·¥åæ¨¡å¼ææ³",charIndex:25},{level:3,title:"ç®åå·¥åæ¨¡å¼è¦ç¹",slug:"ç®åå·¥åæ¨¡å¼è¦ç¹",normalizedTitle:"ç®åå·¥åæ¨¡å¼è¦ç¹",charIndex:185},{level:2,title:"å®ä¾",slug:"å®ä¾",normalizedTitle:"å®ä¾",charIndex:131},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:2524}],headersStr:"ç®ä» ç®åå·¥åæ¨¡å¼ææ³ ç®åå·¥åæ¨¡å¼è¦ç¹ å®ä¾ åèèµæ",content:"# è®¾è®¡æ¨¡å¼ä¹ç®åå·¥åæ¨¡å¼\n\n\n# ç®ä»\n\n\n# ç®åå·¥åæ¨¡å¼ææ³\n\nç®åå·¥åæ¨¡å¼ (Simple Factory) åå«éæå·¥åæ¹æ³ï¼Static Factory Methodï¼æ¨¡å¼ã\n\nç®åå·¥åæ¨¡å¼éå¸¸æ¯å®ä¹ä¸ä¸ªå·¥åç±»ï¼è¿ä¸ªç±»å¯ä»¥æ ¹æ®ä¸ååéè¿åä¸åç±»çäº§åå®ä¾ã\n\nç®åå·¥åæ¨¡å¼æ¯ä¸ç§å¯¹è±¡åå»ºåæ¨¡å¼ãä½æ¯ç®åå·¥åæ¨¡å¼ä¸å±äº23 ç§ Gof è®¾è®¡æ¨¡å¼ä¹ä¸ã\n\n\n# ç®åå·¥åæ¨¡å¼è¦ç¹\n\nä¼ç¹ï¼ç®åå·¥åæ¨¡å¼çå·¥åç±»æ¯æ´ä¸ªæ¨¡å¼çå³é®ãå¶ä¸­åå«äºå¿è¦çé»è¾å¤æ­ï¼æ ¹æ®å¤é¨ä¿¡æ¯ï¼å³å®ç©¶ç«åºè¯¥åå»ºåªä¸ªå·ä½ç±»çå¯¹è±¡ãéè¿ä½¿ç¨ç®åå·¥åæ¨¡å¼ï¼ç¨æ·æ éäºè§£å¯¹è±¡å¦ä½åå»ºçï¼åªè¦ä¼ å¥å¿è¦ä¿¡æ¯å°±å¯ä»¥äºã\n\nç¼ºç¹ï¼å·¥åç±»éä¸­äºææå®ä¾çåå»ºé»è¾ï¼è¿èäºé«åèè´£ä»»åéååãéçç³»ç»ä¸­å·ä½äº§åç±»ä¸æ­å¢å¤ï¼å¿å¿è¦ä¸æ­ä¿®æ¹å·¥åç±»ï¼ä¸æç»´æ¤åæ©å±ãåæ¶ï¼è¿ä¹è¿èäºå¼æ¾å°é­ååã\n\n> å¼æ¾å°é­ååï¼ä¸ä¸ªè½¯ä»¶å®ä½å¦ç±»ãæ¨¡ååå½æ°åºè¯¥å¯¹æ©å±å¼æ¾ï¼å¯¹ä¿®æ¹å³é­ã\n\n\n# å®ä¾\n\nå¦ä½å®ç°ä¸ä¸ªå·æå åä¹é¤åºæ¬åè½çè®¡ç®å¨ï¼\n\nå¯¹äºè¿åç§è¿ç®æ¥è¯´ï¼é½éè¦ä¸¤ä¸ªæä½æ°ï¼å·®å«ä»å¨äºè¿åçç»æä¸åã\n\nç±æ­¤ï¼æä»¬å¯ä»¥æ½è±¡åå®ä»¬çå±æ§ï¼æç¼åºä¸ä¸ªç¶ç±»ãè¿ä¸ªç±»ä¸­åå«ä¸¤ä¸ªæä½æ°ï¼ä¸ä¸ªè¿åç»ææ¹æ³ï¼è¿ä¸ªæ¹æ³ææå¨å­ç±»ä¸­å¾ä»¥å®ç°ã\n\nä»¥ä¸éè¿å·ä½ä»£ç æ¥è¯´æã\n\n\n\nãProduct (Operation) ã\n\näº§åè§è²ï¼ç®åå·¥åæ¨¡å¼æåå»ºçææå¯¹è±¡çç¶ç±»ï¼å®è´è´£æè¿°ææå®ä¾æå±æçå¬å±æ¥å£ã\n\n// Productè§è²ï¼ææå®ä¾æå±æçå¬å±æ¥å£\nabstract class Operation {\n    public int numA;\n    public int numB;\n    public abstract int GetResult();\n}\n\n\nãConcreteProduct ç»ã\n\nå·ä½äº§åè§è²ï¼å®ç° Product ä¸­çæ¥å£ã\n\n// ConcreteProduct è§è²ï¼å®ç° Product ä¸­çæ¥å£\nclass Add extends Operation {\n    @Override\n    public int GetResult() {\n        return numA + numB;\n    }\n}\n\n//ConcreteProduct è§è²ï¼å®ç° Product ä¸­çæ¥å£\nclass Sub extends Operation {\n    @Override\n    public int GetResult() {\n        return numA - numB;\n    }\n}\n\n//ConcreteProduct è§è²ï¼å®ç° Product ä¸­çæ¥å£\nclass Mul extends Operation {\n    @Override\n    public int GetResult() {\n        return numA * numB;\n    }\n}\n\n//ConcreteProduct è§è²ï¼å®ç° Product ä¸­çæ¥å£\nclass Div extends Operation {\n    @Override\n    public int GetResult() {\n        if (numB == 0) {\n            System.out.println(\"ERROR!\");\n            return -1;\n        }\n        return numA / numB;\n    }\n}\n\n\nãFactory (OperationFactory) ã\n\nå·¥åè§è²ï¼ç®åå·¥åæ¨¡å¼çæ ¸å¿ï¼å®è´è´£å®ç°åå»ºææå®ä¾çåé¨é»è¾ãå·¥åç±»çåå»ºäº§åç±»çæ¹æ³å¯ä»¥è¢«å¤çç´æ¥è°ç¨ï¼åå»ºæéçäº§åå¯¹è±¡ã\n\n// å·¥åè§è²ï¼ç®åå·¥åæ¨¡å¼çæ ¸å¿ï¼å®è´è´£å®ç°åå»ºææå®ä¾çåé¨é»è¾\nclass OperationFactory {\n    public static Operation CreateOperation (char operate) {\n        Operation oper = null;\n        switch(operate) {\n        case '+':\n            oper = new Add();\n            break;\n        case '-':\n            oper = new Sub();\n            break;\n        case '*':\n            oper = new Mul();\n            break;\n        case '/':\n            oper = new Div();\n            break;\n        default:\n            break;\n        }\n        return oper;\n    }\n}\n\n\nãå®¢æ·ç«¯ã\n\npublic class SimpleFactoryPattern {\n    public static void main(String[] args) {\n        int numA = 10;\n        int numB = 3;\n        int result = 0;\n        Operation oper = OperationFactory.CreateOperation('+');\n        oper.numA = numA;\n        oper.numB = numB;\n        result = oper.GetResult();\n        System.out.println(numA + \" + \" + numB + \" = \" + result);\n    }\n}\n\n\nãè¾åºã\n\n10 + 3 = 13\n\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã",normalizedContent:"# è®¾è®¡æ¨¡å¼ä¹ç®åå·¥åæ¨¡å¼\n\n\n# ç®ä»\n\n\n# ç®åå·¥åæ¨¡å¼ææ³\n\nç®åå·¥åæ¨¡å¼ (simple factory) åå«éæå·¥åæ¹æ³ï¼static factory methodï¼æ¨¡å¼ã\n\nç®åå·¥åæ¨¡å¼éå¸¸æ¯å®ä¹ä¸ä¸ªå·¥åç±»ï¼è¿ä¸ªç±»å¯ä»¥æ ¹æ®ä¸ååéè¿åä¸åç±»çäº§åå®ä¾ã\n\nç®åå·¥åæ¨¡å¼æ¯ä¸ç§å¯¹è±¡åå»ºåæ¨¡å¼ãä½æ¯ç®åå·¥åæ¨¡å¼ä¸å±äº23 ç§ gof è®¾è®¡æ¨¡å¼ä¹ä¸ã\n\n\n# ç®åå·¥åæ¨¡å¼è¦ç¹\n\nä¼ç¹ï¼ç®åå·¥åæ¨¡å¼çå·¥åç±»æ¯æ´ä¸ªæ¨¡å¼çå³é®ãå¶ä¸­åå«äºå¿è¦çé»è¾å¤æ­ï¼æ ¹æ®å¤é¨ä¿¡æ¯ï¼å³å®ç©¶ç«åºè¯¥åå»ºåªä¸ªå·ä½ç±»çå¯¹è±¡ãéè¿ä½¿ç¨ç®åå·¥åæ¨¡å¼ï¼ç¨æ·æ éäºè§£å¯¹è±¡å¦ä½åå»ºçï¼åªè¦ä¼ å¥å¿è¦ä¿¡æ¯å°±å¯ä»¥äºã\n\nç¼ºç¹ï¼å·¥åç±»éä¸­äºææå®ä¾çåå»ºé»è¾ï¼è¿èäºé«åèè´£ä»»åéååãéçç³»ç»ä¸­å·ä½äº§åç±»ä¸æ­å¢å¤ï¼å¿å¿è¦ä¸æ­ä¿®æ¹å·¥åç±»ï¼ä¸æç»´æ¤åæ©å±ãåæ¶ï¼è¿ä¹è¿èäºå¼æ¾å°é­ååã\n\n> å¼æ¾å°é­ååï¼ä¸ä¸ªè½¯ä»¶å®ä½å¦ç±»ãæ¨¡ååå½æ°åºè¯¥å¯¹æ©å±å¼æ¾ï¼å¯¹ä¿®æ¹å³é­ã\n\n\n# å®ä¾\n\nå¦ä½å®ç°ä¸ä¸ªå·æå åä¹é¤åºæ¬åè½çè®¡ç®å¨ï¼\n\nå¯¹äºè¿åç§è¿ç®æ¥è¯´ï¼é½éè¦ä¸¤ä¸ªæä½æ°ï¼å·®å«ä»å¨äºè¿åçç»æä¸åã\n\nç±æ­¤ï¼æä»¬å¯ä»¥æ½è±¡åå®ä»¬çå±æ§ï¼æç¼åºä¸ä¸ªç¶ç±»ãè¿ä¸ªç±»ä¸­åå«ä¸¤ä¸ªæä½æ°ï¼ä¸ä¸ªè¿åç»ææ¹æ³ï¼è¿ä¸ªæ¹æ³ææå¨å­ç±»ä¸­å¾ä»¥å®ç°ã\n\nä»¥ä¸éè¿å·ä½ä»£ç æ¥è¯´æã\n\n\n\nãproduct (operation) ã\n\näº§åè§è²ï¼ç®åå·¥åæ¨¡å¼æåå»ºçææå¯¹è±¡çç¶ç±»ï¼å®è´è´£æè¿°ææå®ä¾æå±æçå¬å±æ¥å£ã\n\n// productè§è²ï¼ææå®ä¾æå±æçå¬å±æ¥å£\nabstract class operation {\n    public int numa;\n    public int numb;\n    public abstract int getresult();\n}\n\n\nãconcreteproduct ç»ã\n\nå·ä½äº§åè§è²ï¼å®ç° product ä¸­çæ¥å£ã\n\n// concreteproduct è§è²ï¼å®ç° product ä¸­çæ¥å£\nclass add extends operation {\n    @override\n    public int getresult() {\n        return numa + numb;\n    }\n}\n\n//concreteproduct è§è²ï¼å®ç° product ä¸­çæ¥å£\nclass sub extends operation {\n    @override\n    public int getresult() {\n        return numa - numb;\n    }\n}\n\n//concreteproduct è§è²ï¼å®ç° product ä¸­çæ¥å£\nclass mul extends operation {\n    @override\n    public int getresult() {\n        return numa * numb;\n    }\n}\n\n//concreteproduct è§è²ï¼å®ç° product ä¸­çæ¥å£\nclass div extends operation {\n    @override\n    public int getresult() {\n        if (numb == 0) {\n            system.out.println(\"error!\");\n            return -1;\n        }\n        return numa / numb;\n    }\n}\n\n\nãfactory (operationfactory) ã\n\nå·¥åè§è²ï¼ç®åå·¥åæ¨¡å¼çæ ¸å¿ï¼å®è´è´£å®ç°åå»ºææå®ä¾çåé¨é»è¾ãå·¥åç±»çåå»ºäº§åç±»çæ¹æ³å¯ä»¥è¢«å¤çç´æ¥è°ç¨ï¼åå»ºæéçäº§åå¯¹è±¡ã\n\n// å·¥åè§è²ï¼ç®åå·¥åæ¨¡å¼çæ ¸å¿ï¼å®è´è´£å®ç°åå»ºææå®ä¾çåé¨é»è¾\nclass operationfactory {\n    public static operation createoperation (char operate) {\n        operation oper = null;\n        switch(operate) {\n        case '+':\n            oper = new add();\n            break;\n        case '-':\n            oper = new sub();\n            break;\n        case '*':\n            oper = new mul();\n            break;\n        case '/':\n            oper = new div();\n            break;\n        default:\n            break;\n        }\n        return oper;\n    }\n}\n\n\nãå®¢æ·ç«¯ã\n\npublic class simplefactorypattern {\n    public static void main(string[] args) {\n        int numa = 10;\n        int numb = 3;\n        int result = 0;\n        operation oper = operationfactory.createoperation('+');\n        oper.numa = numa;\n        oper.numb = numb;\n        result = oper.getresult();\n        system.out.println(numa + \" + \" + numb + \" = \" + result);\n    }\n}\n\n\nãè¾åºã\n\n10 + 3 = 13\n\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼ä¹å·¥åæ¹æ³æ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼ä¹å·¥åæ¹æ³æ¨¡å¼",date:"2015-06-03T10:03:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/65724c/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/02.%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/02.å·¥åæ¹æ³æ¨¡å¼.md",key:"v-a097a3be",path:"/pages/65724c/",headers:[{level:2,title:"æå¾",slug:"æå¾",normalizedTitle:"æå¾",charIndex:18},{level:2,title:"éç¨åºæ¯",slug:"éç¨åºæ¯",normalizedTitle:"éç¨åºæ¯",charIndex:358},{level:2,title:"ç»æ",slug:"ç»æ",normalizedTitle:"ç»æ",charIndex:496},{level:3,title:"ç»æè¯´æ",slug:"ç»æè¯´æ",normalizedTitle:"ç»æè¯´æ",charIndex:505},{level:3,title:"ç»æä»£ç èå¼",slug:"ç»æä»£ç èå¼",normalizedTitle:"ç»æä»£ç èå¼",charIndex:990},{level:2,title:"ä¼ªä»£ç ",slug:"ä¼ªä»£ç ",normalizedTitle:"ä¼ªä»£ç ",charIndex:1973},{level:2,title:"æ¡ä¾",slug:"æ¡ä¾",normalizedTitle:"æ¡ä¾",charIndex:4055},{level:2,title:"ä¸å¶ä»æ¨¡å¼çå³ç³»",slug:"ä¸å¶ä»æ¨¡å¼çå³ç³»",normalizedTitle:"ä¸å¶ä»æ¨¡å¼çå³ç³»",charIndex:5952},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:6273}],headersStr:"æå¾ éç¨åºæ¯ ç»æ ç»æè¯´æ ç»æä»£ç èå¼ ä¼ªä»£ç  æ¡ä¾ ä¸å¶ä»æ¨¡å¼çå³ç³» åèèµæ",content:'# è®¾è®¡æ¨¡å¼ä¹å·¥åæ¹æ³æ¨¡å¼\n\n\n# æå¾\n\nå·¥åæ¹æ³æ¨¡å¼ (Factory Method)æ¯ä¸ç§åå»ºåè®¾è®¡æ¨¡å¼ï¼ å¶å¨ç¶ç±»ä¸­æä¾ä¸ä¸ªåå»ºå¯¹è±¡çæ¹æ³ï¼ è®©å­ç±»å³å®å®ä¾åå¯¹è±¡çç±»åã\n\n * å·¥åæ¨¡å¼ä¸­ï¼å¢å ä¸ç§äº§åç±»ï¼å°±è¦å¢å ä¸ä¸ªå·¥åç±»ï¼å ä¸ºæ¯ä¸ªå·¥åç±»åªè½åå»ºä¸ç§äº§åçå®ä¾ã\n * å·¥åæ¨¡å¼éµå¾ªâå¼æ¾-å°é­ååâï¼å·¥åæ¨¡å¼ä¸­ï¼æ°å¢ä¸ç§äº§åå¹¶ä¸éè¦ä¿®æ¹åæç±»ï¼ä»ä»æ¯æ©å±ã\n\nç®åå·¥åæ¨¡å¼ç¸æ¯äºå·¥åæ¹æ³æ¨¡å¼\n\nä¼ç¹ï¼å·¥åç±»ä¸­åå«å¿è¦çé»è¾å¤æ­ï¼å¯æ ¹æ®å®¢æ·ç«¯çéæ©æ¡ä»¶å¨æå®ä¾åéè¦çç±»ãå¯¹äºå®¢æ·ç«¯æ¥è¯´ï¼å»é¤äºå¯¹å·ä½äº§åçä¾èµã\n\nç¼ºç¹ï¼è¿èäºå¼æ¾å°é­ååã æ¯æ·»å ä¸ä¸ªæ°çäº§åï¼é½éè¦å¯¹åæç±»è¿è¡ä¿®æ¹ãå¢å ç»´æ¤ææ¬ï¼ä¸ä¸æäºç»´æ¤ã\n\n> å¼æ¾å°é­ååï¼ä¸ä¸ªè½¯ä»¶å®ä½å¦ç±»ãæ¨¡ååå½æ°åºè¯¥å¯¹æ©å±å¼æ¾ï¼å¯¹ä¿®æ¹å³é­ã\n\n\n# éç¨åºæ¯\n\n * å½ä½ å¨ç¼åä»£ç çè¿ç¨ä¸­ï¼ å¦ææ æ³é¢ç¥å¯¹è±¡ç¡®åç±»å«åå¶ä¾èµå³ç³»æ¶ï¼ å¯ä½¿ç¨å·¥åæ¹æ³ã\n * å¦æä½ å¸æç¨æ·è½æ©å±ä½ è½¯ä»¶åºææ¡æ¶çåé¨ç»ä»¶ï¼ å¯ä½¿ç¨å·¥åæ¹æ³ã\n * å¦æä½ å¸æå¤ç¨ç°æå¯¹è±¡æ¥èçç³»ç»èµæºï¼ èä¸æ¯æ¯æ¬¡é½éæ°åå»ºå¯¹è±¡ï¼ å¯ä½¿ç¨å·¥åæ¹æ³ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. äº§å ï¼Productï¼ å°ä¼å¯¹æ¥å£è¿è¡å£°æã å¯¹äºææç±åå»ºèåå¶å­ç±»æå»ºçå¯¹è±¡ï¼ è¿äºæ¥å£é½æ¯éç¨çã\n 2. å·ä½äº§å ï¼Concrete Productsï¼ æ¯äº§åæ¥å£çä¸åå®ç°ã\n 3. åå»ºè ï¼Creatorï¼ ç±»å£°æè¿åäº§åå¯¹è±¡çå·¥åæ¹æ³ã è¯¥æ¹æ³çè¿åå¯¹è±¡ç±»åå¿é¡»ä¸äº§åæ¥å£ç¸å¹éã\n\n * ä½ å¯ä»¥å°å·¥åæ¹æ³å£°æä¸ºæ½è±¡æ¹æ³ï¼ å¼ºå¶è¦æ±æ¯ä¸ªå­ç±»ä»¥ä¸åæ¹å¼å®ç°è¯¥æ¹æ³ã æèï¼ ä½ ä¹å¯ä»¥å¨åºç¡å·¥åæ¹æ³ä¸­è¿åé»è®¤äº§åç±»åã\n * æ³¨æï¼ å°½ç®¡å®çåå­æ¯åå»ºèï¼ ä½ä»æä¸»è¦çèè´£å¹¶ä¸æ¯åå»ºäº§åã ä¸è¬æ¥è¯´ï¼ åå»ºèç±»åå«ä¸äºä¸äº§åç¸å³çæ ¸å¿ä¸å¡é»è¾ã å·¥åæ¹æ³å°è¿äºé»è¾å¤çä»å·ä½äº§åç±»ä¸­åç¦»åºæ¥ã æä¸ªæ¯æ¹ï¼ å¤§åè½¯ä»¶å¼åå¬å¸æ¥æç¨åºåå¹è®­é¨é¨ã ä½æ¯ï¼ è¿äºå¬å¸çä¸»è¦å·¥ä½è¿æ¯ç¼åä»£ç ï¼ èéçäº§ç¨åºåã\n\n 4. å·ä½åå»ºè ï¼Concrete Creatorsï¼ å°ä¼éååºç¡å·¥åæ¹æ³ï¼ ä½¿å¶è¿åä¸åç±»åçäº§åã æ³¨æï¼ å¹¶ä¸ä¸å®æ¯æ¬¡è°ç¨å·¥åæ¹æ³é½ä¼åå»ºæ°çå®ä¾ã å·¥åæ¹æ³ä¹å¯ä»¥è¿åç¼å­ã å¯¹è±¡æ± æå¶ä»æ¥æºçå·²æå¯¹è±¡ã\n\n\n# ç»æä»£ç èå¼\n\nãProductã\n\nå®ä¹äº§åå¯¹è±¡çæ¥å£ã\n\nabstract class Product {\n    public abstract void use();\n}\n\n\nãConcreteProductã\n\nå®ç° Product æ¥å£ã\n\nclass ConcreteProduct extends Product {\n    public ConcreteProduct() {\n        System.out.println("åå»º ConcreteProduct äº§å");\n    }\n\n    @Override\n    public void Use() {\n        System.out.println("ä½¿ç¨ ConcreteProduct äº§å");\n    }\n}\n\n\nãCreatorã\n\nå£°æå·¥åæ¹æ³ï¼å®ä¼è¿åä¸ä¸ªäº§åç±»åçå¯¹è±¡ã Creator ä¹å¯ä»¥å®ç°ä¸ä¸ªé»è®¤çå·¥åæ¹æ³ factoryMethod() ï¼ä»¥è¿åä¸ä¸ªé»è®¤çå·ä½äº§åç±»åã\n\ninterface Creator {\n    public Product factoryMethod();\n}\n\n\nãConcreteCreatorã\n\nè¦å Creator ä¸­çå·¥åæ¹æ³ factoryMethod() ã\n\nclass ConcreteCreator implements Creator {\n    @Override\n    public Product factoryMethod() {\n        return new ConcreteProduct();\n    }\n}\n\n\nãå®¢æ·ç«¯ã\n\npublic class factoryMethodPattern {\n    public static void main(String[] args) {\n        Creator factory = new ConcreteCreator();\n        Product product = factory.factoryMethod();\n        product.Use();\n    }\n}\n\n\nãè¾åºã\n\nåå»º ConcreteProduct äº§å\nä½¿ç¨ ConcreteProduct äº§å\n\n\n\n# ä¼ªä»£ç \n\nä»¥ä¸ç¤ºä¾æ¼ç¤ºäºå¦ä½ä½¿ç¨å·¥åæ¹æ³å¼åè·¨å¹³å° UI ï¼ç¨æ·çé¢ï¼ ç»ä»¶ï¼ å¹¶åæ¶é¿åå®¢æ·ä»£ç ä¸å·ä½ UI ç±»ä¹é´çè¦åã\n\n\n\nåºç¡å¯¹è¯æ¡ç±»ä½¿ç¨ä¸åç UI ç»ä»¶æ¸²æçªå£ã å¨ä¸åçæä½ç³»ç»ä¸ï¼ è¿äºç»ä»¶å¤è§æè®¸ç¥æä¸åï¼ ä½å¶åè½ä¿æä¸è´ã Windows ç³»ç»ä¸­çæé®å¨ Linux ç³»ç»ä¸­ä»ç¶æ¯æé®ã\n\nå¦æä½¿ç¨å·¥åæ¹æ³ï¼ å°±ä¸éè¦ä¸ºæ¯ç§æä½ç³»ç»éåå¯¹è¯æ¡é»è¾ã å¦ææä»¬å£°æäºä¸ä¸ªå¨åºæ¬å¯¹è¯æ¡ç±»ä¸­çææé®çå·¥åæ¹æ³ï¼ é£ä¹æä»¬å°±å¯ä»¥åå»ºä¸ä¸ªå¯¹è¯æ¡å­ç±»ï¼ å¹¶ä½¿å¶éè¿å·¥åæ¹æ³è¿å Windows æ ·å¼æé®ã å­ç±»å°ç»§æ¿å¯¹è¯æ¡åºç¡ç±»çå¤§é¨åä»£ç ï¼ åæ¶å¨å±å¹ä¸æ ¹æ® Windows æ ·å¼æ¸²ææé®ã\n\nå¦éè¯¥æ¨¡å¼æ­£å¸¸å·¥ä½ï¼ åºç¡å¯¹è¯æ¡ç±»å¿é¡»ä½¿ç¨æ½è±¡æé® ï¼ä¾å¦åºç±»ææ¥å£ï¼ï¼ ä»¥ä¾¿å°å¶æ©å±ä¸ºå·ä½æé®ã è¿æ ·ä¸æ¥ï¼ æ è®ºå¯¹è¯æ¡ä¸­ä½¿ç¨ä½ç§ç±»åçæé®ï¼ å¶ä»£ç é½å¯ä»¥æ­£å¸¸å·¥ä½ã\n\nä½ å¯ä»¥ä½¿ç¨æ­¤æ¹æ³å¼åå¶ä» UI ç»ä»¶ã ä¸è¿ï¼ æ¯åå¯¹è¯æ¡ä¸­æ·»å ä¸ä¸ªæ°çå·¥åæ¹æ³ï¼ ä½ å°±ç¦»æ½è±¡å·¥åæ¨¡å¼æ´è¿ä¸æ­¥ã æä»¬å°å¨ç¨åè°å°è¿ä¸ªæ¨¡å¼ã\n\n// åå»ºèç±»å£°æçå·¥åæ¹æ³å¿é¡»è¿åä¸ä¸ªäº§åç±»çå¯¹è±¡ãåå»ºèçå­ç±»éå¸¸ä¼æä¾\n// è¯¥æ¹æ³çå®ç°ã\nclass Dialog is\n    // åå»ºèè¿å¯æä¾ä¸äºå·¥åæ¹æ³çé»è®¤å®ç°ã\n    abstract method createButton():Button\n\n    // è¯·æ³¨æï¼åå»ºèçä¸»è¦èè´£å¹¶éæ¯åå»ºäº§åãå¶ä¸­éå¸¸ä¼åå«ä¸äºæ ¸å¿ä¸å¡\n    // é»è¾ï¼è¿äºé»è¾ä¾èµäºç±å·¥åæ¹æ³è¿åçäº§åå¯¹è±¡ãå­ç±»å¯éè¿éåå·¥åæ¹\n    // æ³å¹¶ä½¿å¶è¿åä¸åç±»åçäº§åæ¥é´æ¥ä¿®æ¹ä¸å¡é»è¾ã\n    method render() is\n        // è°ç¨å·¥åæ¹æ³åå»ºä¸ä¸ªäº§åå¯¹è±¡ã\n        Button okButton = createButton()\n        // ç°å¨ä½¿ç¨äº§åã\n        okButton.onClick(closeDialog)\n        okButton.render()\n\n\n// å·ä½åå»ºèå°éåå·¥åæ¹æ³ä»¥æ¹åå¶æè¿åçäº§åç±»åã\nclass WindowsDialog extends Dialog is\n    method createButton():Button is\n        return new WindowsButton()\n\nclass WebDialog extends Dialog is\n    method createButton():Button is\n        return new HTMLButton()\n\n\n// äº§åæ¥å£ä¸­å°å£°æææå·ä½äº§åé½å¿é¡»å®ç°çæä½ã\ninterface Button is\n    method render()\n    method onClick(f)\n\n// å·ä½äº§åéæä¾äº§åæ¥å£çåç§å®ç°ã\nclass WindowsButton implements Button is\n    method render(a, b) is\n        // æ ¹æ® Windows æ ·å¼æ¸²ææé®ã\n    method onClick(f) is\n        // ç»å®æ¬å°æä½ç³»ç»ç¹å»äºä»¶ã\n\nclass HTMLButton implements Button is\n    method render(a, b) is\n        // è¿åä¸ä¸ªæé®ç HTML è¡¨è¿°ã\n    method onClick(f) is\n        // ç»å®ç½ç»æµè§å¨çç¹å»äºä»¶ã\n\n\nclass Application is\n    field dialog: Dialog\n\n    // ç¨åºæ ¹æ®å½åéç½®æç¯å¢è®¾å®éæ©åå»ºèçç±»åã\n    method initialize() is\n        config = readApplicationConfigFile()\n\n        if (config.OS == "Windows") then\n            dialog = new WindowsDialog()\n        else if (config.OS == "Web") then\n            dialog = new WebDialog()\n        else\n            throw new Exception("éè¯¯ï¼æªç¥çæä½ç³»ç»ã")\n\n    // å½åå®¢æ·ç«¯ä»£ç ä¼ä¸å·ä½åå»ºèçå®ä¾è¿è¡äº¤äºï¼ä½æ¯å¿é¡»éè¿å¶åºæ¬æ¥å£\n    // è¿è¡ãåªè¦å®¢æ·ç«¯éè¿åºæ¬æ¥å£ä¸åå»ºèè¿è¡äº¤äºï¼ä½ å°±å¯å°ä»»ä½åå»ºèå­\n    // ç±»ä¼ éç»å®¢æ·ç«¯ã\n    method main() is\n        this.initialize()\n        dialog.render()\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ å·¥åæ¹æ³æ¨¡å¼å¨ Java ä»£ç ä¸­å¾å°äºå¹¿æ³ä½¿ç¨ã å½ä½ éè¦å¨ä»£ç ä¸­æä¾é«å±æ¬¡ççµæ´»æ§æ¶ï¼ è¯¥æ¨¡å¼ä¼éå¸¸å®ç¨ã\n\næ ¸å¿ Java ç¨åºåºä¸­æè¯¥æ¨¡å¼çåºç¨ï¼\n\n * java.util.Calendar#getInstance()\n * java.util.ResourceBundle#getBundle()\n * java.text.NumberFormat#getInstance()\n * java.nio.charset.Charset#forName()\n * java.net.URLStreamHandlerFactory#createURLStreamHandler(String) ï¼æ ¹æ®åè®®è¿åä¸åçåä¾å¯¹è±¡ï¼\n * java.util.EnumSet#of()\n * javax.xml.bind.JAXBContext#createMarshaller() åå¶ä»ç±»ä¼¼çæ¹æ³ã\n\nè¯å«æ¹æ³ï¼ å·¥åæ¹æ³å¯éè¿æå»ºæ¹æ³æ¥è¯å«ï¼ å®ä¼åå»ºå·ä½ç±»çå¯¹è±¡ï¼ ä½ä»¥æ½è±¡ç±»åææ¥å£çå½¢å¼è¿åè¿äºå¯¹è±¡ã\n\nè¿æ¯ä»¥ ç®åå·¥åæ¨¡å¼ éçä¾å­æ¥è¿è¡è¯´æã\n\nå¦ä½å®ç°ä¸ä¸ªå·æå åä¹é¤åºæ¬åè½çè®¡ç®å¨ï¼\n\nä¸¤ç§æ¨¡å¼ç Product å ConcreteProduct è§è²ä»£ç æ²¡æåºå«ï¼ä¸åèµè¿°ã\n\nå·®å¼å¨äº Factory è§è²é¨åï¼ä»¥åå®¢æ·ç«¯é¨åï¼è¯·å¨ä»£ç ä¸­ä½ä¼ã\n\nãCreator è§è²ã\n\n// Creator è§è²ï¼å®ä¹è¿åäº§åå®ä¾çå¬å±å·¥åæ¹æ³\ninterface OperationFactory {\n    public Operation factoryMethod();\n}\n\n\nãConcreteCreator è§è²ã\n\nåç®åå·¥åæ¨¡å¼ç¸æ¯ï¼æ¯ä¸ç§äº§åé½ä¼æä¸ä¸ªå·ä½çå·¥åç±»è´è´£çäº§å®ä¾ã\n\n// ConcreteCreator è§è²ï¼å·ä½å®ç° Creator ä¸­çæ¹æ³\nclass AddFactory implements OperationFactory {\n    @Override\n    public Operation factoryMethod() {\n        return new Add();\n    }\n}\n\n// ConcreteCreator è§è²ï¼å·ä½å®ç° Creator ä¸­çæ¹æ³\nclass SubFactory implements OperationFactory {\n    @Override\n    public Operation factoryMethod() {\n        return new Sub();\n    }\n}\n\n// ConcreteCreator è§è²ï¼å·ä½å®ç° Creator ä¸­çæ¹æ³\nclass MulFactory implements OperationFactory {\n    @Override\n    public Operation factoryMethod() {\n        return new Mul();\n    }\n}\n\n// ConcreteCreator è§è²ï¼å·ä½å®ç° Creator ä¸­çæ¹æ³\nclass DivFactory implements OperationFactory {\n    @Override\n    public Operation factoryMethod() {\n        return new Div();\n    }\n}\n\n\nãClient è§è²ã\n\nä¸ç®åå·¥åæ¨¡å¼ä¸­æ éå³æ³¨å·ä½åå»ºä¸åï¼å·¥åæ¨¡å¼ä¸­éè¦æå®å·ä½å·¥åï¼ä»¥è´è´£çäº§å·ä½å¯¹åºçäº§åã\n\n// Client è§è²ï¼éè¦æå®å·ä½å·¥åï¼ä»¥è´è´£çäº§å·ä½äº§å\npublic class factoryMethodPattern {\n    public static void main(String[] args) {\n        OperationFactory factory = new SubFactory();\n        Operation oper = factory.factoryMethod();\n        oper.numA = 3;\n        oper.numB = 2;\n        double result = oper.getResult();\n        System.out.println("result = " + result);\n    }\n}\n\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * å¨è®¸å¤è®¾è®¡å·¥ä½çåæé½ä¼ä½¿ç¨å·¥åæ¹æ³æ¨¡å¼ ï¼è¾ä¸ºç®åï¼ èä¸å¯ä»¥æ´æ¹ä¾¿å°éè¿å­ç±»è¿è¡å®å¶ï¼ï¼ éåæ¼åä¸ºä½¿ç¨æ½è±¡å·¥åæ¨¡å¼ã ååæ¨¡å¼æçæå¨æ¨¡å¼ ï¼æ´çµæ´»ä½æ´å å¤æï¼ã\n * æ½è±¡å·¥åæ¨¡å¼éå¸¸åºäºä¸ç»å·¥åæ¹æ³ï¼ ä½ä½ ä¹å¯ä»¥ä½¿ç¨ååæ¨¡å¼æ¥çæè¿äºç±»çæ¹æ³ã\n * ä½ å¯ä»¥åæ¶ä½¿ç¨å·¥åæ¹æ³åè¿­ä»£å¨æ¨¡å¼æ¥è®©å­ç±»éåè¿åä¸åç±»åçè¿­ä»£å¨ï¼ å¹¶ä½¿å¾è¿­ä»£å¨ä¸éåç¸å¹éã\n * ååå¹¶ä¸åºäºç»§æ¿ï¼ å æ­¤æ²¡æç»§æ¿çç¼ºç¹ã å¦ä¸æ¹é¢ï¼ ååéè¦å¯¹è¢«å¤å¶å¯¹è±¡è¿è¡å¤æçåå§åã å·¥åæ¹æ³åºäºç»§æ¿ï¼ ä½æ¯å®ä¸éè¦åå§åæ­¥éª¤ã\n * å·¥åæ¹æ³æ¯æ¨¡æ¿æ¹æ³æ¨¡å¼çä¸ç§ç¹æ®å½¢å¼ã åæ¶ï¼ å·¥åæ¹æ³å¯ä»¥ä½ä¸ºä¸ä¸ªå¤§åæ¨¡æ¿æ¹æ³ä¸­çä¸ä¸ªæ­¥éª¤ã\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',normalizedContent:'# è®¾è®¡æ¨¡å¼ä¹å·¥åæ¹æ³æ¨¡å¼\n\n\n# æå¾\n\nå·¥åæ¹æ³æ¨¡å¼ (factory method)æ¯ä¸ç§åå»ºåè®¾è®¡æ¨¡å¼ï¼ å¶å¨ç¶ç±»ä¸­æä¾ä¸ä¸ªåå»ºå¯¹è±¡çæ¹æ³ï¼ è®©å­ç±»å³å®å®ä¾åå¯¹è±¡çç±»åã\n\n * å·¥åæ¨¡å¼ä¸­ï¼å¢å ä¸ç§äº§åç±»ï¼å°±è¦å¢å ä¸ä¸ªå·¥åç±»ï¼å ä¸ºæ¯ä¸ªå·¥åç±»åªè½åå»ºä¸ç§äº§åçå®ä¾ã\n * å·¥åæ¨¡å¼éµå¾ªâå¼æ¾-å°é­ååâï¼å·¥åæ¨¡å¼ä¸­ï¼æ°å¢ä¸ç§äº§åå¹¶ä¸éè¦ä¿®æ¹åæç±»ï¼ä»ä»æ¯æ©å±ã\n\nç®åå·¥åæ¨¡å¼ç¸æ¯äºå·¥åæ¹æ³æ¨¡å¼\n\nä¼ç¹ï¼å·¥åç±»ä¸­åå«å¿è¦çé»è¾å¤æ­ï¼å¯æ ¹æ®å®¢æ·ç«¯çéæ©æ¡ä»¶å¨æå®ä¾åéè¦çç±»ãå¯¹äºå®¢æ·ç«¯æ¥è¯´ï¼å»é¤äºå¯¹å·ä½äº§åçä¾èµã\n\nç¼ºç¹ï¼è¿èäºå¼æ¾å°é­ååã æ¯æ·»å ä¸ä¸ªæ°çäº§åï¼é½éè¦å¯¹åæç±»è¿è¡ä¿®æ¹ãå¢å ç»´æ¤ææ¬ï¼ä¸ä¸æäºç»´æ¤ã\n\n> å¼æ¾å°é­ååï¼ä¸ä¸ªè½¯ä»¶å®ä½å¦ç±»ãæ¨¡ååå½æ°åºè¯¥å¯¹æ©å±å¼æ¾ï¼å¯¹ä¿®æ¹å³é­ã\n\n\n# éç¨åºæ¯\n\n * å½ä½ å¨ç¼åä»£ç çè¿ç¨ä¸­ï¼ å¦ææ æ³é¢ç¥å¯¹è±¡ç¡®åç±»å«åå¶ä¾èµå³ç³»æ¶ï¼ å¯ä½¿ç¨å·¥åæ¹æ³ã\n * å¦æä½ å¸æç¨æ·è½æ©å±ä½ è½¯ä»¶åºææ¡æ¶çåé¨ç»ä»¶ï¼ å¯ä½¿ç¨å·¥åæ¹æ³ã\n * å¦æä½ å¸æå¤ç¨ç°æå¯¹è±¡æ¥èçç³»ç»èµæºï¼ èä¸æ¯æ¯æ¬¡é½éæ°åå»ºå¯¹è±¡ï¼ å¯ä½¿ç¨å·¥åæ¹æ³ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. äº§å ï¼productï¼ å°ä¼å¯¹æ¥å£è¿è¡å£°æã å¯¹äºææç±åå»ºèåå¶å­ç±»æå»ºçå¯¹è±¡ï¼ è¿äºæ¥å£é½æ¯éç¨çã\n 2. å·ä½äº§å ï¼concrete productsï¼ æ¯äº§åæ¥å£çä¸åå®ç°ã\n 3. åå»ºè ï¼creatorï¼ ç±»å£°æè¿åäº§åå¯¹è±¡çå·¥åæ¹æ³ã è¯¥æ¹æ³çè¿åå¯¹è±¡ç±»åå¿é¡»ä¸äº§åæ¥å£ç¸å¹éã\n\n * ä½ å¯ä»¥å°å·¥åæ¹æ³å£°æä¸ºæ½è±¡æ¹æ³ï¼ å¼ºå¶è¦æ±æ¯ä¸ªå­ç±»ä»¥ä¸åæ¹å¼å®ç°è¯¥æ¹æ³ã æèï¼ ä½ ä¹å¯ä»¥å¨åºç¡å·¥åæ¹æ³ä¸­è¿åé»è®¤äº§åç±»åã\n * æ³¨æï¼ å°½ç®¡å®çåå­æ¯åå»ºèï¼ ä½ä»æä¸»è¦çèè´£å¹¶ä¸æ¯åå»ºäº§åã ä¸è¬æ¥è¯´ï¼ åå»ºèç±»åå«ä¸äºä¸äº§åç¸å³çæ ¸å¿ä¸å¡é»è¾ã å·¥åæ¹æ³å°è¿äºé»è¾å¤çä»å·ä½äº§åç±»ä¸­åç¦»åºæ¥ã æä¸ªæ¯æ¹ï¼ å¤§åè½¯ä»¶å¼åå¬å¸æ¥æç¨åºåå¹è®­é¨é¨ã ä½æ¯ï¼ è¿äºå¬å¸çä¸»è¦å·¥ä½è¿æ¯ç¼åä»£ç ï¼ èéçäº§ç¨åºåã\n\n 4. å·ä½åå»ºè ï¼concrete creatorsï¼ å°ä¼éååºç¡å·¥åæ¹æ³ï¼ ä½¿å¶è¿åä¸åç±»åçäº§åã æ³¨æï¼ å¹¶ä¸ä¸å®æ¯æ¬¡è°ç¨å·¥åæ¹æ³é½ä¼åå»ºæ°çå®ä¾ã å·¥åæ¹æ³ä¹å¯ä»¥è¿åç¼å­ã å¯¹è±¡æ± æå¶ä»æ¥æºçå·²æå¯¹è±¡ã\n\n\n# ç»æä»£ç èå¼\n\nãproductã\n\nå®ä¹äº§åå¯¹è±¡çæ¥å£ã\n\nabstract class product {\n    public abstract void use();\n}\n\n\nãconcreteproductã\n\nå®ç° product æ¥å£ã\n\nclass concreteproduct extends product {\n    public concreteproduct() {\n        system.out.println("åå»º concreteproduct äº§å");\n    }\n\n    @override\n    public void use() {\n        system.out.println("ä½¿ç¨ concreteproduct äº§å");\n    }\n}\n\n\nãcreatorã\n\nå£°æå·¥åæ¹æ³ï¼å®ä¼è¿åä¸ä¸ªäº§åç±»åçå¯¹è±¡ã creator ä¹å¯ä»¥å®ç°ä¸ä¸ªé»è®¤çå·¥åæ¹æ³ factorymethod() ï¼ä»¥è¿åä¸ä¸ªé»è®¤çå·ä½äº§åç±»åã\n\ninterface creator {\n    public product factorymethod();\n}\n\n\nãconcretecreatorã\n\nè¦å creator ä¸­çå·¥åæ¹æ³ factorymethod() ã\n\nclass concretecreator implements creator {\n    @override\n    public product factorymethod() {\n        return new concreteproduct();\n    }\n}\n\n\nãå®¢æ·ç«¯ã\n\npublic class factorymethodpattern {\n    public static void main(string[] args) {\n        creator factory = new concretecreator();\n        product product = factory.factorymethod();\n        product.use();\n    }\n}\n\n\nãè¾åºã\n\nåå»º concreteproduct äº§å\nä½¿ç¨ concreteproduct äº§å\n\n\n\n# ä¼ªä»£ç \n\nä»¥ä¸ç¤ºä¾æ¼ç¤ºäºå¦ä½ä½¿ç¨å·¥åæ¹æ³å¼åè·¨å¹³å° ui ï¼ç¨æ·çé¢ï¼ ç»ä»¶ï¼ å¹¶åæ¶é¿åå®¢æ·ä»£ç ä¸å·ä½ ui ç±»ä¹é´çè¦åã\n\n\n\nåºç¡å¯¹è¯æ¡ç±»ä½¿ç¨ä¸åç ui ç»ä»¶æ¸²æçªå£ã å¨ä¸åçæä½ç³»ç»ä¸ï¼ è¿äºç»ä»¶å¤è§æè®¸ç¥æä¸åï¼ ä½å¶åè½ä¿æä¸è´ã windows ç³»ç»ä¸­çæé®å¨ linux ç³»ç»ä¸­ä»ç¶æ¯æé®ã\n\nå¦æä½¿ç¨å·¥åæ¹æ³ï¼ å°±ä¸éè¦ä¸ºæ¯ç§æä½ç³»ç»éåå¯¹è¯æ¡é»è¾ã å¦ææä»¬å£°æäºä¸ä¸ªå¨åºæ¬å¯¹è¯æ¡ç±»ä¸­çææé®çå·¥åæ¹æ³ï¼ é£ä¹æä»¬å°±å¯ä»¥åå»ºä¸ä¸ªå¯¹è¯æ¡å­ç±»ï¼ å¹¶ä½¿å¶éè¿å·¥åæ¹æ³è¿å windows æ ·å¼æé®ã å­ç±»å°ç»§æ¿å¯¹è¯æ¡åºç¡ç±»çå¤§é¨åä»£ç ï¼ åæ¶å¨å±å¹ä¸æ ¹æ® windows æ ·å¼æ¸²ææé®ã\n\nå¦éè¯¥æ¨¡å¼æ­£å¸¸å·¥ä½ï¼ åºç¡å¯¹è¯æ¡ç±»å¿é¡»ä½¿ç¨æ½è±¡æé® ï¼ä¾å¦åºç±»ææ¥å£ï¼ï¼ ä»¥ä¾¿å°å¶æ©å±ä¸ºå·ä½æé®ã è¿æ ·ä¸æ¥ï¼ æ è®ºå¯¹è¯æ¡ä¸­ä½¿ç¨ä½ç§ç±»åçæé®ï¼ å¶ä»£ç é½å¯ä»¥æ­£å¸¸å·¥ä½ã\n\nä½ å¯ä»¥ä½¿ç¨æ­¤æ¹æ³å¼åå¶ä» ui ç»ä»¶ã ä¸è¿ï¼ æ¯åå¯¹è¯æ¡ä¸­æ·»å ä¸ä¸ªæ°çå·¥åæ¹æ³ï¼ ä½ å°±ç¦»æ½è±¡å·¥åæ¨¡å¼æ´è¿ä¸æ­¥ã æä»¬å°å¨ç¨åè°å°è¿ä¸ªæ¨¡å¼ã\n\n// åå»ºèç±»å£°æçå·¥åæ¹æ³å¿é¡»è¿åä¸ä¸ªäº§åç±»çå¯¹è±¡ãåå»ºèçå­ç±»éå¸¸ä¼æä¾\n// è¯¥æ¹æ³çå®ç°ã\nclass dialog is\n    // åå»ºèè¿å¯æä¾ä¸äºå·¥åæ¹æ³çé»è®¤å®ç°ã\n    abstract method createbutton():button\n\n    // è¯·æ³¨æï¼åå»ºèçä¸»è¦èè´£å¹¶éæ¯åå»ºäº§åãå¶ä¸­éå¸¸ä¼åå«ä¸äºæ ¸å¿ä¸å¡\n    // é»è¾ï¼è¿äºé»è¾ä¾èµäºç±å·¥åæ¹æ³è¿åçäº§åå¯¹è±¡ãå­ç±»å¯éè¿éåå·¥åæ¹\n    // æ³å¹¶ä½¿å¶è¿åä¸åç±»åçäº§åæ¥é´æ¥ä¿®æ¹ä¸å¡é»è¾ã\n    method render() is\n        // è°ç¨å·¥åæ¹æ³åå»ºä¸ä¸ªäº§åå¯¹è±¡ã\n        button okbutton = createbutton()\n        // ç°å¨ä½¿ç¨äº§åã\n        okbutton.onclick(closedialog)\n        okbutton.render()\n\n\n// å·ä½åå»ºèå°éåå·¥åæ¹æ³ä»¥æ¹åå¶æè¿åçäº§åç±»åã\nclass windowsdialog extends dialog is\n    method createbutton():button is\n        return new windowsbutton()\n\nclass webdialog extends dialog is\n    method createbutton():button is\n        return new htmlbutton()\n\n\n// äº§åæ¥å£ä¸­å°å£°æææå·ä½äº§åé½å¿é¡»å®ç°çæä½ã\ninterface button is\n    method render()\n    method onclick(f)\n\n// å·ä½äº§åéæä¾äº§åæ¥å£çåç§å®ç°ã\nclass windowsbutton implements button is\n    method render(a, b) is\n        // æ ¹æ® windows æ ·å¼æ¸²ææé®ã\n    method onclick(f) is\n        // ç»å®æ¬å°æä½ç³»ç»ç¹å»äºä»¶ã\n\nclass htmlbutton implements button is\n    method render(a, b) is\n        // è¿åä¸ä¸ªæé®ç html è¡¨è¿°ã\n    method onclick(f) is\n        // ç»å®ç½ç»æµè§å¨çç¹å»äºä»¶ã\n\n\nclass application is\n    field dialog: dialog\n\n    // ç¨åºæ ¹æ®å½åéç½®æç¯å¢è®¾å®éæ©åå»ºèçç±»åã\n    method initialize() is\n        config = readapplicationconfigfile()\n\n        if (config.os == "windows") then\n            dialog = new windowsdialog()\n        else if (config.os == "web") then\n            dialog = new webdialog()\n        else\n            throw new exception("éè¯¯ï¼æªç¥çæä½ç³»ç»ã")\n\n    // å½åå®¢æ·ç«¯ä»£ç ä¼ä¸å·ä½åå»ºèçå®ä¾è¿è¡äº¤äºï¼ä½æ¯å¿é¡»éè¿å¶åºæ¬æ¥å£\n    // è¿è¡ãåªè¦å®¢æ·ç«¯éè¿åºæ¬æ¥å£ä¸åå»ºèè¿è¡äº¤äºï¼ä½ å°±å¯å°ä»»ä½åå»ºèå­\n    // ç±»ä¼ éç»å®¢æ·ç«¯ã\n    method main() is\n        this.initialize()\n        dialog.render()\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ å·¥åæ¹æ³æ¨¡å¼å¨ java ä»£ç ä¸­å¾å°äºå¹¿æ³ä½¿ç¨ã å½ä½ éè¦å¨ä»£ç ä¸­æä¾é«å±æ¬¡ççµæ´»æ§æ¶ï¼ è¯¥æ¨¡å¼ä¼éå¸¸å®ç¨ã\n\næ ¸å¿ java ç¨åºåºä¸­æè¯¥æ¨¡å¼çåºç¨ï¼\n\n * java.util.calendar#getinstance()\n * java.util.resourcebundle#getbundle()\n * java.text.numberformat#getinstance()\n * java.nio.charset.charset#forname()\n * java.net.urlstreamhandlerfactory#createurlstreamhandler(string) ï¼æ ¹æ®åè®®è¿åä¸åçåä¾å¯¹è±¡ï¼\n * java.util.enumset#of()\n * javax.xml.bind.jaxbcontext#createmarshaller() åå¶ä»ç±»ä¼¼çæ¹æ³ã\n\nè¯å«æ¹æ³ï¼ å·¥åæ¹æ³å¯éè¿æå»ºæ¹æ³æ¥è¯å«ï¼ å®ä¼åå»ºå·ä½ç±»çå¯¹è±¡ï¼ ä½ä»¥æ½è±¡ç±»åææ¥å£çå½¢å¼è¿åè¿äºå¯¹è±¡ã\n\nè¿æ¯ä»¥ ç®åå·¥åæ¨¡å¼ éçä¾å­æ¥è¿è¡è¯´æã\n\nå¦ä½å®ç°ä¸ä¸ªå·æå åä¹é¤åºæ¬åè½çè®¡ç®å¨ï¼\n\nä¸¤ç§æ¨¡å¼ç product å concreteproduct è§è²ä»£ç æ²¡æåºå«ï¼ä¸åèµè¿°ã\n\nå·®å¼å¨äº factory è§è²é¨åï¼ä»¥åå®¢æ·ç«¯é¨åï¼è¯·å¨ä»£ç ä¸­ä½ä¼ã\n\nãcreator è§è²ã\n\n// creator è§è²ï¼å®ä¹è¿åäº§åå®ä¾çå¬å±å·¥åæ¹æ³\ninterface operationfactory {\n    public operation factorymethod();\n}\n\n\nãconcretecreator è§è²ã\n\nåç®åå·¥åæ¨¡å¼ç¸æ¯ï¼æ¯ä¸ç§äº§åé½ä¼æä¸ä¸ªå·ä½çå·¥åç±»è´è´£çäº§å®ä¾ã\n\n// concretecreator è§è²ï¼å·ä½å®ç° creator ä¸­çæ¹æ³\nclass addfactory implements operationfactory {\n    @override\n    public operation factorymethod() {\n        return new add();\n    }\n}\n\n// concretecreator è§è²ï¼å·ä½å®ç° creator ä¸­çæ¹æ³\nclass subfactory implements operationfactory {\n    @override\n    public operation factorymethod() {\n        return new sub();\n    }\n}\n\n// concretecreator è§è²ï¼å·ä½å®ç° creator ä¸­çæ¹æ³\nclass mulfactory implements operationfactory {\n    @override\n    public operation factorymethod() {\n        return new mul();\n    }\n}\n\n// concretecreator è§è²ï¼å·ä½å®ç° creator ä¸­çæ¹æ³\nclass divfactory implements operationfactory {\n    @override\n    public operation factorymethod() {\n        return new div();\n    }\n}\n\n\nãclient è§è²ã\n\nä¸ç®åå·¥åæ¨¡å¼ä¸­æ éå³æ³¨å·ä½åå»ºä¸åï¼å·¥åæ¨¡å¼ä¸­éè¦æå®å·ä½å·¥åï¼ä»¥è´è´£çäº§å·ä½å¯¹åºçäº§åã\n\n// client è§è²ï¼éè¦æå®å·ä½å·¥åï¼ä»¥è´è´£çäº§å·ä½äº§å\npublic class factorymethodpattern {\n    public static void main(string[] args) {\n        operationfactory factory = new subfactory();\n        operation oper = factory.factorymethod();\n        oper.numa = 3;\n        oper.numb = 2;\n        double result = oper.getresult();\n        system.out.println("result = " + result);\n    }\n}\n\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * å¨è®¸å¤è®¾è®¡å·¥ä½çåæé½ä¼ä½¿ç¨å·¥åæ¹æ³æ¨¡å¼ ï¼è¾ä¸ºç®åï¼ èä¸å¯ä»¥æ´æ¹ä¾¿å°éè¿å­ç±»è¿è¡å®å¶ï¼ï¼ éåæ¼åä¸ºä½¿ç¨æ½è±¡å·¥åæ¨¡å¼ã ååæ¨¡å¼æçæå¨æ¨¡å¼ ï¼æ´çµæ´»ä½æ´å å¤æï¼ã\n * æ½è±¡å·¥åæ¨¡å¼éå¸¸åºäºä¸ç»å·¥åæ¹æ³ï¼ ä½ä½ ä¹å¯ä»¥ä½¿ç¨ååæ¨¡å¼æ¥çæè¿äºç±»çæ¹æ³ã\n * ä½ å¯ä»¥åæ¶ä½¿ç¨å·¥åæ¹æ³åè¿­ä»£å¨æ¨¡å¼æ¥è®©å­ç±»éåè¿åä¸åç±»åçè¿­ä»£å¨ï¼ å¹¶ä½¿å¾è¿­ä»£å¨ä¸éåç¸å¹éã\n * ååå¹¶ä¸åºäºç»§æ¿ï¼ å æ­¤æ²¡æç»§æ¿çç¼ºç¹ã å¦ä¸æ¹é¢ï¼ ååéè¦å¯¹è¢«å¤å¶å¯¹è±¡è¿è¡å¤æçåå§åã å·¥åæ¹æ³åºäºç»§æ¿ï¼ ä½æ¯å®ä¸éè¦åå§åæ­¥éª¤ã\n * å·¥åæ¹æ³æ¯æ¨¡æ¿æ¹æ³æ¨¡å¼çä¸ç§ç¹æ®å½¢å¼ã åæ¶ï¼ å·¥åæ¹æ³å¯ä»¥ä½ä¸ºä¸ä¸ªå¤§åæ¨¡æ¿æ¹æ³ä¸­çä¸ä¸ªæ­¥éª¤ã\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼ä¹æ½è±¡å·¥åæ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼ä¹æ½è±¡å·¥åæ¨¡å¼",date:"2015-06-03T10:26:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/340aa0/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/03.%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/03.æ½è±¡å·¥åæ¨¡å¼.md",key:"v-3a239cb0",path:"/pages/340aa0/",headers:[{level:2,title:"æå¾",slug:"æå¾",normalizedTitle:"æå¾",charIndex:18},{level:2,title:"éç¨åºæ¯",slug:"éç¨åºæ¯",normalizedTitle:"éç¨åºæ¯",charIndex:514},{level:2,title:"ç»æ",slug:"ç»æ",normalizedTitle:"ç»æ",charIndex:644},{level:3,title:"ç»æè¯´æ",slug:"ç»æè¯´æ",normalizedTitle:"ç»æè¯´æ",charIndex:653},{level:3,title:"ç»æä»£ç èå¼",slug:"ç»æä»£ç èå¼",normalizedTitle:"ç»æä»£ç èå¼",charIndex:1041},{level:2,title:"ä¼ªä»£ç ",slug:"ä¼ªä»£ç ",normalizedTitle:"ä¼ªä»£ç ",charIndex:3350},{level:2,title:"æ¡ä¾",slug:"æ¡ä¾",normalizedTitle:"æ¡ä¾",charIndex:5944},{level:2,title:"ä¸å¶ä»æ¨¡å¼çå³ç³»",slug:"ä¸å¶ä»æ¨¡å¼çå³ç³»",normalizedTitle:"ä¸å¶ä»æ¨¡å¼çå³ç³»",charIndex:8014},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:8408}],headersStr:"æå¾ éç¨åºæ¯ ç»æ ç»æè¯´æ ç»æä»£ç èå¼ ä¼ªä»£ç  æ¡ä¾ ä¸å¶ä»æ¨¡å¼çå³ç³» åèèµæ",content:'# è®¾è®¡æ¨¡å¼ä¹æ½è±¡å·¥åæ¨¡å¼\n\n\n# æå¾\n\næ½è±¡å·¥åæ¨¡å¼ ï¼Abstract Factoryï¼æ¯ä¸ç§åå»ºåè®¾è®¡æ¨¡å¼ï¼ å®è½åå»ºä¸ç³»åç¸å³çå¯¹è±¡ï¼ èæ éæå®å¶å·ä½ç±»ã\n\n**ä¼ç¹ **\n\n * æ½è±¡å·¥åæ¨¡å¼éç¦»äºå·ä½ç±»ççæï¼ç¨æ·å¹¶ä¸éè¦ç¥éä»ä¹è¢«åå»ºãç±äºè¿ç§éç¦»ï¼æ´æ¢ä¸ä¸ªå·ä½å·¥ååå¾ç¸å¯¹å®¹æãææçå·ä½å·¥åé½å®ç°äºæ½è±¡å·¥åä¸­å®ä¹çé£äºå¬å±æ¥å£ï¼å æ­¤åªéè¦æ¹åå·ä½å·¥åçå®ä¾ï¼å°±å¯ä»¥å¨æç§ç¨åº¦ä¸æ¹åæ´ä¸ªè½¯ä»¶ç³»ç»çè¡ä¸ºãå¦å¤ï¼åºç¨æ½è±¡å·¥åæ¨¡å¼å¯ä»¥å®ç°é«åèä½è¦åçè®¾è®¡ç®çï¼å æ­¤æ½è±¡å·¥åæ¨¡å¼å¾å°äºå¹¿æ³çåºç¨ã\n\n * å½ä¸ä¸ªäº§åæä¸­çå¤ä¸ªå¯¹è±¡è¢«è®¾è®¡æä¸èµ·å·¥ä½æ¶ï¼å®è½å¤ä¿è¯å®¢æ·ç«¯å§ç»åªä½¿ç¨åä¸ä¸ªäº§åæä¸­çå¯¹è±¡ãè¿å¯¹ä¸äºéè¦æ ¹æ®å½åç¯å¢æ¥å³å®å¶è¡ä¸ºçè½¯ä»¶ç³»ç»æ¥è¯´ï¼æ¯ä¸ç§éå¸¸å®ç¨çè®¾è®¡æ¨¡å¼ã\n\n * å¢å æ°çå·ä½å·¥ååäº§åæå¾æ¹ä¾¿ï¼æ é¡»ä¿®æ¹å·²æç³»ç»ï¼ç¬¦åâå¼æ¾å°é­ååâã\n\nç¼ºç¹\n\n * å¨æ·»å æ°çäº§åå¯¹è±¡æ¶ï¼é¾ä»¥æ©å±æ½è±¡å·¥åæ¥çäº§æ°ç§ç±»çäº§åï¼è¿æ¯å ä¸ºå¨æ½è±¡å·¥åè§è²ä¸­è§å®äºææå¯è½è¢«åå»ºçäº§åéåï¼è¦æ¯ææ°ç§ç±»çäº§åå°±æå³çè¦å¯¹è¯¥æ¥å£è¿è¡æ©å±ï¼èè¿å°æ¶åå°å¯¹æ½è±¡å·¥åè§è²åå¶ææå­ç±»çä¿®æ¹ï¼æ¾ç¶ä¼å¸¦æ¥è¾å¤§çä¸ä¾¿ã\n\n\n# éç¨åºæ¯\n\næ½è±¡å·¥åæ¨¡å¼éç¨åºæ¯ï¼\n\nä¸ä¸ªç³»ç»è¦ç¬ç«äºå®çäº§åçåå»ºãç»ååè¡¨ç¤ºæ¶ã\n\nä¸ä¸ªç³»ç»è¦ç±å¤ä¸ªäº§åç³»åä¸­çä¸ä¸ªæ¥éç½®æ¶ã\n\nå½ä½ è¦å¼ºè°ä¸ç³»åç¸å³çäº§åå¯¹è±¡çè®¾è®¡ä»¥ä¾¿è¿è¡èåä½¿ç¨æ¶ã\n\nå½ä½ æä¾ä¸ä¸ªäº§åç±»åºï¼èåªæ³æ¾ç¤ºå®ä»¬çæ¥å£èä¸æ¯å®ç°æ¶ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. æ½è±¡äº§å ï¼Abstract Productï¼ ä¸ºææç³»åäº§åçä¸ç»ä¸åä½ç¸å³çäº§åå£°ææ¥å£ã\n 2. å·ä½äº§å ï¼Concrete Productï¼ æ¯æ½è±¡äº§åçå¤ç§ä¸åç±»åå®ç°ã ææåä½ ï¼ç»´å¤å©äº/ç°ä»£ï¼ é½å¿é¡»å®ç°ç¸åºçæ½è±¡äº§å ï¼æ¤å­/æ²åï¼ã\n 3. æ½è±¡å·¥å ï¼Abstract Factoryï¼ æ¥å£å£°æäºä¸ç»åå»ºåç§æ½è±¡äº§åçæ¹æ³ã\n 4. å·ä½å·¥å ï¼Concrete Factoryï¼ å®ç°æ½è±¡å·¥åçæå»ºæ¹æ³ã æ¯ä¸ªå·ä½å·¥åé½å¯¹åºç¹å®äº§ååä½ï¼ ä¸ä»åå»ºæ­¤ç§äº§ååä½ã\n 5. å°½ç®¡å·ä½å·¥åä¼å¯¹å·ä½äº§åè¿è¡åå§åï¼ å¶æå»ºæ¹æ³ç­¾åå¿é¡»è¿åç¸åºçæ½è±¡äº§åã è¿æ ·ï¼ ä½¿ç¨å·¥åç±»çå®¢æ·ç«¯ä»£ç å°±ä¸ä¼ä¸å·¥ååå»ºçç¹å®äº§ååä½è¦åã å®¢æ·ç«¯ ï¼Clientï¼ åªééè¿æ½è±¡æ¥å£è°ç¨å·¥ååäº§åå¯¹è±¡ï¼ å°±è½ä¸ä»»ä½å·ä½å·¥å/äº§ååä½äº¤äºã\n\n\n# ç»æä»£ç èå¼\n\nãAbstractProductã\n\nå£°æä¸ä¸ªæ¥å£ï¼è¿ä¸ªæ¥å£ä¸­åå«äº§åå¯¹è±¡ç±»åã\n\nabstract class AbstractProductA {\n    public abstract void show();\n}\n\nabstract class AbstractProductB {\n    public abstract void show();\n}\n\n\nãConcreteProductã\n\nå®ä¹ä¸ä¸ªäº§åå¯¹è±¡ï¼è¿ä¸ªäº§åå¯¹è±¡æ¯ç±ç¸å³çå·ä½å·¥ååå»ºçã\n\nclass ConcreteProductA1 extends AbstractProductA {\n    @Override\n    public void show() {\n        System.out.println("ConcreteProductA1");\n    }\n}\n\nclass ConcreteProductA2 extends AbstractProductA {\n    @Override\n    public void show() {\n        System.out.println("ConcreteProductA2");\n    }\n}\n\nclass ConcreteProductB1 extends AbstractProductB {\n    @Override\n    public void show() {\n        System.out.println("ConcreteProductB1");\n    }\n}\n\nclass ConcreteProductB2 extends AbstractProductB {\n    @Override\n    public void show() {\n        System.out.println("ConcreteProductB2");\n    }\n}\n\n\nãAbstractFactoryã\n\nå£°æä¸ä¸ªæ¥å£ï¼è¿ä¸ªæ¥å£ä¸­åå«åå»ºæ½è±¡äº§åå¯¹è±¡çæ¹æ³ã\n\nabstract class AbstractFactory {\n    public abstract AbstractProductA createProductA();\n    public abstract AbstractProductB createProductB();\n}\n\n\nãConcreteFactoryã\n\nå®ç°åå»ºå·ä½äº§åå¯¹è±¡çæ¹æ³ã\n\nclass ConcreteFactory1 extends AbstractFactory {\n    @Override\n    public AbstractProductA createProductA() {\n        return new ConcreteProductA1();\n    }\n\n    @Override\n    public AbstractProductB createProductB() {\n        return new ConcreteProductB1();\n    }\n}\n\nclass ConcreteFactory2 extends AbstractFactory {\n    @Override\n    public AbstractProductA createProductA() {\n        return new ConcreteProductA2();\n    }\n\n    @Override\n    public AbstractProductB createProductB() {\n        return new ConcreteProductB2();\n    }\n}\n\n\nãå®¢æ·ç«¯ã\n\nåªä½¿ç¨ AbstractFactory å AbstractProduct å£°æçæ¥å£ã\n\npublic class AbstarctFactoryPattern {\n    public static void main(String[] args) {\n        AbstractFactory  factory1  = new ConcreteFactory1();\n        AbstractProductA productA1 = factory1.createProductA();\n        AbstractProductB productB1 = factory1.createProductB();\n        productA1.show();\n        productB1.show();\n\n        AbstractFactory  factory2  = new ConcreteFactory2();\n        AbstractProductA productA2 = factory2.createProductA();\n        AbstractProductB productB2 = factory2.createProductB();\n        productA2.show();\n        productB2.show();\n    }\n}\n\n\nãè¾åºã\n\nConcreteProductA1\nConcreteProductB1\nConcreteProductA2\nConcreteProductB2\n\n\n\n# ä¼ªä»£ç \n\nä¸é¢ä¾å­éè¿åºç¨æ½è±¡å·¥åæ¨¡å¼ï¼ ä½¿å¾å®¢æ·ç«¯ä»£ç æ éä¸å·ä½ UI ç±»è¦åï¼ å°±è½åå»ºè·¨å¹³å°ç UI åç´ ï¼ åæ¶ç¡®ä¿æåå»ºçåç´ ä¸æå®çæä½ç³»ç»å¹éã\n\n\n\nè·¨å¹³å°åºç¨ä¸­çç¸å UI åç´ åè½ç±»ä¼¼ï¼ ä½æ¯å¨ä¸åæä½ç³»ç»ä¸çå¤è§æä¸å®å·®å¼ã æ­¤å¤ï¼ ä½ éè¦ç¡®ä¿ UI åç´ ä¸å½åæä½ç³»ç»é£æ ¼ä¸è´ã ä½ ä¸å®ä¸å¸æå¨ Windows ç³»ç»ä¸è¿è¡çåºç¨ç¨åºä¸­æ¾ç¤º macOS çæ§ä»¶ã\n\næ½è±¡å·¥åæ¥å£å£°æä¸ç³»åæå»ºæ¹æ³ï¼ å®¢æ·ç«¯ä»£ç å¯è°ç¨å®ä»¬çæä¸åé£æ ¼ç UI åç´ ã æ¯ä¸ªå·ä½å·¥åå¯¹åºç¹å®æä½ç³»ç»ï¼ å¹¶è´è´£çæç¬¦åè¯¥æä½ç³»ç»é£æ ¼ç UI åç´ ã\n\nå¶è¿ä½æ¹å¼å¦ä¸ï¼ åºç¨ç¨åºå¯å¨åæ£æµå½åæä½ç³»ç»ã æ ¹æ®è¯¥ä¿¡æ¯ï¼ åºç¨ç¨åºéè¿ä¸è¯¥æä½ç³»ç»å¯¹åºçç±»åå»ºå·¥åå¯¹è±¡ã å¶ä½ä»£ç ä½¿ç¨è¯¥å·¥åå¯¹è±¡åå»º UI åç´ ã è¿æ ·å¯ä»¥é¿åçæéè¯¯ç±»åçåç´ ã\n\nä½¿ç¨è¿ç§æ¹æ³ï¼ å®¢æ·ç«¯ä»£ç åªéè°ç¨æ½è±¡æ¥å£ï¼ èæ éäºè§£å·ä½å·¥åç±»å UI åç´ ã æ­¤å¤ï¼ å®¢æ·ç«¯ä»£ç è¿æ¯ææªæ¥æ·»å æ°çå·¥åæ UI åç´ ã\n\nè¿æ ·ä¸æ¥ï¼ æ¯æ¬¡å¨åºç¨ç¨åºä¸­æ·»å æ°ç UI åç´ åä½æ¶ï¼ ä½ é½æ éä¿®æ¹å®¢æ·ç«¯ä»£ç ã ä½ åªéåå»ºä¸ä¸ªè½å¤çæè¿äº UI åç´ çå·¥åç±»ï¼ ç¶åç¨å¾®ä¿®æ¹åºç¨ç¨åºçåå§ä»£ç ï¼ ä½¿å¶è½å¤éæ©åéçå·¥åç±»å³å¯ã\n\n// æ½è±¡å·¥åæ¥å£å£°æäºä¸ç»è½è¿åä¸åæ½è±¡äº§åçæ¹æ³ãè¿äºäº§åå±äºåä¸ä¸ªç³»å\n// ä¸å¨é«å±ä¸»é¢ææ¦å¿µä¸å·æç¸å³æ§ãåç³»åçäº§åéå¸¸è½ç¸äºæ­éä½¿ç¨ãç³»åäº§\n// åå¯æå¤ä¸ªåä½ï¼ä½ä¸ååä½çäº§åä¸è½æ­éä½¿ç¨ã\ninterface GUIFactory is\n    method createButton():Button\n    method createCheckbox():Checkbox\n\n\n// å·ä½å·¥åå¯çæå±äºåä¸åä½çç³»åäº§åãå·¥åä¼ç¡®ä¿å¶åå»ºçäº§åè½ç¸äºæ­é\n// ä½¿ç¨ãå·ä½å·¥åæ¹æ³ç­¾åä¼è¿åä¸ä¸ªæ½è±¡äº§åï¼ä½å¨æ¹æ³åé¨åä¼å¯¹å·ä½äº§åè¿\n// è¡å®ä¾åã\nclass WinFactory implements GUIFactory is\n    method createButton():Button is\n        return new WinButton()\n    method createCheckbox():Checkbox is\n        return new WinCheckbox()\n\n// æ¯ä¸ªå·ä½å·¥åä¸­é½ä¼åå«ä¸ä¸ªç¸åºçäº§ååä½ã\nclass MacFactory implements GUIFactory is\n    method createButton():Button is\n        return new MacButton()\n    method createCheckbox():Checkbox is\n        return new MacCheckbox()\n\n\n// ç³»åäº§åä¸­çç¹å®äº§åå¿é¡»æä¸ä¸ªåºç¡æ¥å£ãææäº§ååä½é½å¿é¡»å®ç°è¿ä¸ªæ¥å£ã\ninterface Button is\n    method paint()\n\n// å·ä½äº§åç±ç¸åºçå·ä½å·¥ååå»ºã\nclass WinButton implements Button is\n    method paint() is\n        // æ ¹æ® Windows æ ·å¼æ¸²ææé®ã\n\nclass MacButton implements Button is\n    method paint() is\n        // æ ¹æ® macOS æ ·å¼æ¸²ææé®\n\n// è¿æ¯å¦ä¸ä¸ªäº§åçåºç¡æ¥å£ãææäº§åé½å¯ä»¥äºå¨ï¼ä½æ¯åªæç¸åå·ä½åä½çäº§\n// åä¹é´æè½å¤æ­£ç¡®å°è¿è¡äº¤äºã\ninterface Checkbox is\n    method paint()\n\nclass WinCheckbox implements Checkbox is\n    method paint() is\n        // æ ¹æ® Windows æ ·å¼æ¸²æå¤éæ¡ã\n\nclass MacCheckbox implements Checkbox is\n    method paint() is\n        // æ ¹æ® macOS æ ·å¼æ¸²æå¤éæ¡ã\n\n// å®¢æ·ç«¯ä»£ç ä»éè¿æ½è±¡ç±»åï¼GUIFactoryãButton å Checkboxï¼ä½¿ç¨å·¥å\n// åäº§åãè¿è®©ä½ æ éä¿®æ¹ä»»ä½å·¥åæäº§åå­ç±»å°±è½å°å¶ä¼ éç»å®¢æ·ç«¯ä»£ç ã\nclass Application is\n    private field factory: GUIFactory\n    private field button: Button\n    constructor Application(factory: GUIFactory) is\n        this.factory = factory\n    method createUI() is\n        this.button = factory.createButton()\n    method paint() is\n        button.paint()\n\n\n// ç¨åºä¼æ ¹æ®å½åéç½®æç¯å¢è®¾å®éæ©å·¥åç±»åï¼å¹¶å¨è¿è¡æ¶åå»ºå·¥åï¼éå¸¸å¨å\n// å§åé¶æ®µï¼ã\nclass ApplicationConfigurator is\n    method main() is\n        config = readApplicationConfigFile()\n\n        if (config.OS == "Windows") then\n            factory = new WinFactory()\n        else if (config.OS == "Mac") then\n            factory = new MacFactory()\n        else\n            throw new Exception("éè¯¯ï¼æªç¥çæä½ç³»ç»ã")\n\n        Application app = new Application(factory)\n\n\n\n# æ¡ä¾\n\nä¼æå¨ç¥ï¼è¹æåä¸æè¿ä¸¤å®¶ä¸ççº§ççµå­äº§åååé½çäº§ææºåçµèã\n\næä»¬ä»¥çäº§ææºåçµèä¸ºä¾ï¼æ¼ç¤ºä¸ä¸æ½è±¡å·¥åæ¨¡å¼çåºç¨\n\nãAbstractProduct è§è²ã\n\né¦åï¼å®ä¹ææºåçµèä¸¤ä¸ªæ½è±¡æ¥å£ï¼ä»ä»¬é½æåèªçäº§åä¿¡æ¯ã\n\ninterface Telephone {\n    public String getProductInfo();\n}\n\ninterface Computer {\n    public String getProductInfo();\n}\n\n\nãConcreteProduct è§è²ã\n\nConcreteProduct æ ¹æ® AbstractProduct æ¥å®ä¹å·ä½çäº§åå±æ§ãæ¹æ³ã\n\nå¨æä»¬çä¾å­ä¸­ï¼è¹æãä¸æä¸¤å®¶å¬å¸çææºåçµèé½æåèªçå·ä½äº§åä¿¡æ¯ã\n\nclass AppleTelephone implements Telephone {\n\n    @Override\n    public String getProductInfo() {\n        return "è¹æææºï¼éç¨iosç³»ç»";\n    }\n}\n\nclass SamsungTelephone implements Telephone {\n\n    @Override\n    public String getProductInfo() {\n        return "ä¸æææºï¼éç¨androidç³»ç»";\n    }\n}\n\nclass AppleComputer implements Computer {\n\n    @Override\n    public String getProductInfo() {\n        return "è¹æçµèï¼éç¨macç³»ç»";\n    }\n}\n\nclass SamsungComputer implements Computer {\n\n    @Override\n    public String getProductInfo() {\n        return "ä¸æçµèï¼éç¨windowsç³»ç»";\n    }\n}\n\n\nãAbstractFactory è§è²ã\n\nè¹æï¼ä¸æè¿ä¸¤ä¸ªååé½çäº§ææºåçµèãæä»¥å®ä»¬å¯ä»¥æä¸ä¸ªæ½è±¡ç¶ç±»æç¶æ¥å£ï¼æä¾çäº§ææºåçäº§çµèçæ¹æ³ã\n\ninterface ElectronicFactory {\n\n    public Telephone produceTelephone();\n\n    public Computer produceComputer();\n}\n\n\nãConcreteFactory è§è²ã\n\nè¹æãä¸æå·¥ååå«å®ç°ç¶æ¥å£ï¼çäº§ä¸åç±»åçäº§åã\n\nclass AppleFactory implements ElectronicFactory {\n\n    @Override\n    public Telephone produceTelephone() {\n        return new AppleTelephone();\n    }\n\n    @Override\n    public Computer produceComputer() {\n        return new AppleComputer();\n    }\n}\n\nclass SamsungFactory implements ElectronicFactory {\n\n    @Override\n    public Telephone produceTelephone() {\n        return new SamsungTelephone();\n    }\n\n    @Override\n    public Computer produceComputer() {\n        return new SamsungComputer();\n    }\n}\n\n\nãå®¢æ·ç«¯ã\n\npublic class PhoneFactoryDemo {\n    public static void main(String[] args) {\n        ElectronicFactory appleFactory = new AppleFactory();\n        Telephone phone = appleFactory.produceTelephone();\n        System.out.println(phone.getProductInfo());\n        Computer computer = appleFactory.produceComputer();\n        System.out.println(computer.getProductInfo());\n    }\n}\n\n\nãè¾åºã\n\nè¹æææºï¼éç¨iosç³»ç»\nè¹æçµèï¼éç¨macç³»ç»\n\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * å¨è®¸å¤è®¾è®¡å·¥ä½çåæé½ä¼ä½¿ç¨å·¥åæ¹æ³æ¨¡å¼ ï¼è¾ä¸ºç®åï¼ èä¸å¯ä»¥æ´æ¹ä¾¿å°éè¿å­ç±»è¿è¡å®å¶ï¼ï¼ éåæ¼åä¸ºä½¿ç¨æ½è±¡å·¥åæ¨¡å¼ã ååæ¨¡å¼æçæå¨æ¨¡å¼ ï¼æ´çµæ´»ä½æ´å å¤æï¼ã\n * çæå¨éç¹å³æ³¨å¦ä½åæ­¥çæå¤æå¯¹è±¡ã æ½è±¡å·¥åä¸é¨ç¨äºçäº§ä¸ç³»åç¸å³å¯¹è±¡ã æ½è±¡å·¥åä¼é©¬ä¸è¿åäº§åï¼ çæå¨ååè®¸ä½ å¨è·åäº§ååæ§è¡ä¸äºé¢å¤æé æ­¥éª¤ã\n * æ½è±¡å·¥åæ¨¡å¼éå¸¸åºäºä¸ç»å·¥åæ¹æ³ï¼ ä½ä½ ä¹å¯ä»¥ä½¿ç¨ååæ¨¡å¼æ¥çæè¿äºç±»çæ¹æ³ã\n * å½åªéå¯¹å®¢æ·ç«¯ä»£ç éèå­ç³»ç»åå»ºå¯¹è±¡çæ¹å¼æ¶ï¼ ä½ å¯ä»¥ä½¿ç¨æ½è±¡å·¥åæ¥ä»£æ¿å¤è§æ¨¡å¼ã\n * ä½ å¯ä»¥å°æ½è±¡å·¥ååæ¡¥æ¥æ¨¡å¼æ­éä½¿ç¨ã å¦æç±æ¡¥æ¥å®ä¹çæ½è±¡åªè½ä¸ç¹å®å®ç°åä½ï¼ è¿ä¸æ¨¡å¼æ­éå°±éå¸¸æç¨ã å¨è¿ç§æåµä¸ï¼ æ½è±¡å·¥åå¯ä»¥å¯¹è¿äºå³ç³»è¿è¡å°è£ï¼ å¹¶ä¸å¯¹å®¢æ·ç«¯ä»£ç éèå¶å¤ææ§ã\n * æ½è±¡å·¥åã çæå¨åååé½å¯ä»¥ç¨åä¾æ¨¡å¼æ¥å®ç°ã\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',normalizedContent:'# è®¾è®¡æ¨¡å¼ä¹æ½è±¡å·¥åæ¨¡å¼\n\n\n# æå¾\n\næ½è±¡å·¥åæ¨¡å¼ ï¼abstract factoryï¼æ¯ä¸ç§åå»ºåè®¾è®¡æ¨¡å¼ï¼ å®è½åå»ºä¸ç³»åç¸å³çå¯¹è±¡ï¼ èæ éæå®å¶å·ä½ç±»ã\n\n**ä¼ç¹ **\n\n * æ½è±¡å·¥åæ¨¡å¼éç¦»äºå·ä½ç±»ççæï¼ç¨æ·å¹¶ä¸éè¦ç¥éä»ä¹è¢«åå»ºãç±äºè¿ç§éç¦»ï¼æ´æ¢ä¸ä¸ªå·ä½å·¥ååå¾ç¸å¯¹å®¹æãææçå·ä½å·¥åé½å®ç°äºæ½è±¡å·¥åä¸­å®ä¹çé£äºå¬å±æ¥å£ï¼å æ­¤åªéè¦æ¹åå·ä½å·¥åçå®ä¾ï¼å°±å¯ä»¥å¨æç§ç¨åº¦ä¸æ¹åæ´ä¸ªè½¯ä»¶ç³»ç»çè¡ä¸ºãå¦å¤ï¼åºç¨æ½è±¡å·¥åæ¨¡å¼å¯ä»¥å®ç°é«åèä½è¦åçè®¾è®¡ç®çï¼å æ­¤æ½è±¡å·¥åæ¨¡å¼å¾å°äºå¹¿æ³çåºç¨ã\n\n * å½ä¸ä¸ªäº§åæä¸­çå¤ä¸ªå¯¹è±¡è¢«è®¾è®¡æä¸èµ·å·¥ä½æ¶ï¼å®è½å¤ä¿è¯å®¢æ·ç«¯å§ç»åªä½¿ç¨åä¸ä¸ªäº§åæä¸­çå¯¹è±¡ãè¿å¯¹ä¸äºéè¦æ ¹æ®å½åç¯å¢æ¥å³å®å¶è¡ä¸ºçè½¯ä»¶ç³»ç»æ¥è¯´ï¼æ¯ä¸ç§éå¸¸å®ç¨çè®¾è®¡æ¨¡å¼ã\n\n * å¢å æ°çå·ä½å·¥ååäº§åæå¾æ¹ä¾¿ï¼æ é¡»ä¿®æ¹å·²æç³»ç»ï¼ç¬¦åâå¼æ¾å°é­ååâã\n\nç¼ºç¹\n\n * å¨æ·»å æ°çäº§åå¯¹è±¡æ¶ï¼é¾ä»¥æ©å±æ½è±¡å·¥åæ¥çäº§æ°ç§ç±»çäº§åï¼è¿æ¯å ä¸ºå¨æ½è±¡å·¥åè§è²ä¸­è§å®äºææå¯è½è¢«åå»ºçäº§åéåï¼è¦æ¯ææ°ç§ç±»çäº§åå°±æå³çè¦å¯¹è¯¥æ¥å£è¿è¡æ©å±ï¼èè¿å°æ¶åå°å¯¹æ½è±¡å·¥åè§è²åå¶ææå­ç±»çä¿®æ¹ï¼æ¾ç¶ä¼å¸¦æ¥è¾å¤§çä¸ä¾¿ã\n\n\n# éç¨åºæ¯\n\næ½è±¡å·¥åæ¨¡å¼éç¨åºæ¯ï¼\n\nä¸ä¸ªç³»ç»è¦ç¬ç«äºå®çäº§åçåå»ºãç»ååè¡¨ç¤ºæ¶ã\n\nä¸ä¸ªç³»ç»è¦ç±å¤ä¸ªäº§åç³»åä¸­çä¸ä¸ªæ¥éç½®æ¶ã\n\nå½ä½ è¦å¼ºè°ä¸ç³»åç¸å³çäº§åå¯¹è±¡çè®¾è®¡ä»¥ä¾¿è¿è¡èåä½¿ç¨æ¶ã\n\nå½ä½ æä¾ä¸ä¸ªäº§åç±»åºï¼èåªæ³æ¾ç¤ºå®ä»¬çæ¥å£èä¸æ¯å®ç°æ¶ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. æ½è±¡äº§å ï¼abstract productï¼ ä¸ºææç³»åäº§åçä¸ç»ä¸åä½ç¸å³çäº§åå£°ææ¥å£ã\n 2. å·ä½äº§å ï¼concrete productï¼ æ¯æ½è±¡äº§åçå¤ç§ä¸åç±»åå®ç°ã ææåä½ ï¼ç»´å¤å©äº/ç°ä»£ï¼ é½å¿é¡»å®ç°ç¸åºçæ½è±¡äº§å ï¼æ¤å­/æ²åï¼ã\n 3. æ½è±¡å·¥å ï¼abstract factoryï¼ æ¥å£å£°æäºä¸ç»åå»ºåç§æ½è±¡äº§åçæ¹æ³ã\n 4. å·ä½å·¥å ï¼concrete factoryï¼ å®ç°æ½è±¡å·¥åçæå»ºæ¹æ³ã æ¯ä¸ªå·ä½å·¥åé½å¯¹åºç¹å®äº§ååä½ï¼ ä¸ä»åå»ºæ­¤ç§äº§ååä½ã\n 5. å°½ç®¡å·ä½å·¥åä¼å¯¹å·ä½äº§åè¿è¡åå§åï¼ å¶æå»ºæ¹æ³ç­¾åå¿é¡»è¿åç¸åºçæ½è±¡äº§åã è¿æ ·ï¼ ä½¿ç¨å·¥åç±»çå®¢æ·ç«¯ä»£ç å°±ä¸ä¼ä¸å·¥ååå»ºçç¹å®äº§ååä½è¦åã å®¢æ·ç«¯ ï¼clientï¼ åªééè¿æ½è±¡æ¥å£è°ç¨å·¥ååäº§åå¯¹è±¡ï¼ å°±è½ä¸ä»»ä½å·ä½å·¥å/äº§ååä½äº¤äºã\n\n\n# ç»æä»£ç èå¼\n\nãabstractproductã\n\nå£°æä¸ä¸ªæ¥å£ï¼è¿ä¸ªæ¥å£ä¸­åå«äº§åå¯¹è±¡ç±»åã\n\nabstract class abstractproducta {\n    public abstract void show();\n}\n\nabstract class abstractproductb {\n    public abstract void show();\n}\n\n\nãconcreteproductã\n\nå®ä¹ä¸ä¸ªäº§åå¯¹è±¡ï¼è¿ä¸ªäº§åå¯¹è±¡æ¯ç±ç¸å³çå·ä½å·¥ååå»ºçã\n\nclass concreteproducta1 extends abstractproducta {\n    @override\n    public void show() {\n        system.out.println("concreteproducta1");\n    }\n}\n\nclass concreteproducta2 extends abstractproducta {\n    @override\n    public void show() {\n        system.out.println("concreteproducta2");\n    }\n}\n\nclass concreteproductb1 extends abstractproductb {\n    @override\n    public void show() {\n        system.out.println("concreteproductb1");\n    }\n}\n\nclass concreteproductb2 extends abstractproductb {\n    @override\n    public void show() {\n        system.out.println("concreteproductb2");\n    }\n}\n\n\nãabstractfactoryã\n\nå£°æä¸ä¸ªæ¥å£ï¼è¿ä¸ªæ¥å£ä¸­åå«åå»ºæ½è±¡äº§åå¯¹è±¡çæ¹æ³ã\n\nabstract class abstractfactory {\n    public abstract abstractproducta createproducta();\n    public abstract abstractproductb createproductb();\n}\n\n\nãconcretefactoryã\n\nå®ç°åå»ºå·ä½äº§åå¯¹è±¡çæ¹æ³ã\n\nclass concretefactory1 extends abstractfactory {\n    @override\n    public abstractproducta createproducta() {\n        return new concreteproducta1();\n    }\n\n    @override\n    public abstractproductb createproductb() {\n        return new concreteproductb1();\n    }\n}\n\nclass concretefactory2 extends abstractfactory {\n    @override\n    public abstractproducta createproducta() {\n        return new concreteproducta2();\n    }\n\n    @override\n    public abstractproductb createproductb() {\n        return new concreteproductb2();\n    }\n}\n\n\nãå®¢æ·ç«¯ã\n\nåªä½¿ç¨ abstractfactory å abstractproduct å£°æçæ¥å£ã\n\npublic class abstarctfactorypattern {\n    public static void main(string[] args) {\n        abstractfactory  factory1  = new concretefactory1();\n        abstractproducta producta1 = factory1.createproducta();\n        abstractproductb productb1 = factory1.createproductb();\n        producta1.show();\n        productb1.show();\n\n        abstractfactory  factory2  = new concretefactory2();\n        abstractproducta producta2 = factory2.createproducta();\n        abstractproductb productb2 = factory2.createproductb();\n        producta2.show();\n        productb2.show();\n    }\n}\n\n\nãè¾åºã\n\nconcreteproducta1\nconcreteproductb1\nconcreteproducta2\nconcreteproductb2\n\n\n\n# ä¼ªä»£ç \n\nä¸é¢ä¾å­éè¿åºç¨æ½è±¡å·¥åæ¨¡å¼ï¼ ä½¿å¾å®¢æ·ç«¯ä»£ç æ éä¸å·ä½ ui ç±»è¦åï¼ å°±è½åå»ºè·¨å¹³å°ç ui åç´ ï¼ åæ¶ç¡®ä¿æåå»ºçåç´ ä¸æå®çæä½ç³»ç»å¹éã\n\n\n\nè·¨å¹³å°åºç¨ä¸­çç¸å ui åç´ åè½ç±»ä¼¼ï¼ ä½æ¯å¨ä¸åæä½ç³»ç»ä¸çå¤è§æä¸å®å·®å¼ã æ­¤å¤ï¼ ä½ éè¦ç¡®ä¿ ui åç´ ä¸å½åæä½ç³»ç»é£æ ¼ä¸è´ã ä½ ä¸å®ä¸å¸æå¨ windows ç³»ç»ä¸è¿è¡çåºç¨ç¨åºä¸­æ¾ç¤º macos çæ§ä»¶ã\n\næ½è±¡å·¥åæ¥å£å£°æä¸ç³»åæå»ºæ¹æ³ï¼ å®¢æ·ç«¯ä»£ç å¯è°ç¨å®ä»¬çæä¸åé£æ ¼ç ui åç´ ã æ¯ä¸ªå·ä½å·¥åå¯¹åºç¹å®æä½ç³»ç»ï¼ å¹¶è´è´£çæç¬¦åè¯¥æä½ç³»ç»é£æ ¼ç ui åç´ ã\n\nå¶è¿ä½æ¹å¼å¦ä¸ï¼ åºç¨ç¨åºå¯å¨åæ£æµå½åæä½ç³»ç»ã æ ¹æ®è¯¥ä¿¡æ¯ï¼ åºç¨ç¨åºéè¿ä¸è¯¥æä½ç³»ç»å¯¹åºçç±»åå»ºå·¥åå¯¹è±¡ã å¶ä½ä»£ç ä½¿ç¨è¯¥å·¥åå¯¹è±¡åå»º ui åç´ ã è¿æ ·å¯ä»¥é¿åçæéè¯¯ç±»åçåç´ ã\n\nä½¿ç¨è¿ç§æ¹æ³ï¼ å®¢æ·ç«¯ä»£ç åªéè°ç¨æ½è±¡æ¥å£ï¼ èæ éäºè§£å·ä½å·¥åç±»å ui åç´ ã æ­¤å¤ï¼ å®¢æ·ç«¯ä»£ç è¿æ¯ææªæ¥æ·»å æ°çå·¥åæ ui åç´ ã\n\nè¿æ ·ä¸æ¥ï¼ æ¯æ¬¡å¨åºç¨ç¨åºä¸­æ·»å æ°ç ui åç´ åä½æ¶ï¼ ä½ é½æ éä¿®æ¹å®¢æ·ç«¯ä»£ç ã ä½ åªéåå»ºä¸ä¸ªè½å¤çæè¿äº ui åç´ çå·¥åç±»ï¼ ç¶åç¨å¾®ä¿®æ¹åºç¨ç¨åºçåå§ä»£ç ï¼ ä½¿å¶è½å¤éæ©åéçå·¥åç±»å³å¯ã\n\n// æ½è±¡å·¥åæ¥å£å£°æäºä¸ç»è½è¿åä¸åæ½è±¡äº§åçæ¹æ³ãè¿äºäº§åå±äºåä¸ä¸ªç³»å\n// ä¸å¨é«å±ä¸»é¢ææ¦å¿µä¸å·æç¸å³æ§ãåç³»åçäº§åéå¸¸è½ç¸äºæ­éä½¿ç¨ãç³»åäº§\n// åå¯æå¤ä¸ªåä½ï¼ä½ä¸ååä½çäº§åä¸è½æ­éä½¿ç¨ã\ninterface guifactory is\n    method createbutton():button\n    method createcheckbox():checkbox\n\n\n// å·ä½å·¥åå¯çæå±äºåä¸åä½çç³»åäº§åãå·¥åä¼ç¡®ä¿å¶åå»ºçäº§åè½ç¸äºæ­é\n// ä½¿ç¨ãå·ä½å·¥åæ¹æ³ç­¾åä¼è¿åä¸ä¸ªæ½è±¡äº§åï¼ä½å¨æ¹æ³åé¨åä¼å¯¹å·ä½äº§åè¿\n// è¡å®ä¾åã\nclass winfactory implements guifactory is\n    method createbutton():button is\n        return new winbutton()\n    method createcheckbox():checkbox is\n        return new wincheckbox()\n\n// æ¯ä¸ªå·ä½å·¥åä¸­é½ä¼åå«ä¸ä¸ªç¸åºçäº§ååä½ã\nclass macfactory implements guifactory is\n    method createbutton():button is\n        return new macbutton()\n    method createcheckbox():checkbox is\n        return new maccheckbox()\n\n\n// ç³»åäº§åä¸­çç¹å®äº§åå¿é¡»æä¸ä¸ªåºç¡æ¥å£ãææäº§ååä½é½å¿é¡»å®ç°è¿ä¸ªæ¥å£ã\ninterface button is\n    method paint()\n\n// å·ä½äº§åç±ç¸åºçå·ä½å·¥ååå»ºã\nclass winbutton implements button is\n    method paint() is\n        // æ ¹æ® windows æ ·å¼æ¸²ææé®ã\n\nclass macbutton implements button is\n    method paint() is\n        // æ ¹æ® macos æ ·å¼æ¸²ææé®\n\n// è¿æ¯å¦ä¸ä¸ªäº§åçåºç¡æ¥å£ãææäº§åé½å¯ä»¥äºå¨ï¼ä½æ¯åªæç¸åå·ä½åä½çäº§\n// åä¹é´æè½å¤æ­£ç¡®å°è¿è¡äº¤äºã\ninterface checkbox is\n    method paint()\n\nclass wincheckbox implements checkbox is\n    method paint() is\n        // æ ¹æ® windows æ ·å¼æ¸²æå¤éæ¡ã\n\nclass maccheckbox implements checkbox is\n    method paint() is\n        // æ ¹æ® macos æ ·å¼æ¸²æå¤éæ¡ã\n\n// å®¢æ·ç«¯ä»£ç ä»éè¿æ½è±¡ç±»åï¼guifactoryãbutton å checkboxï¼ä½¿ç¨å·¥å\n// åäº§åãè¿è®©ä½ æ éä¿®æ¹ä»»ä½å·¥åæäº§åå­ç±»å°±è½å°å¶ä¼ éç»å®¢æ·ç«¯ä»£ç ã\nclass application is\n    private field factory: guifactory\n    private field button: button\n    constructor application(factory: guifactory) is\n        this.factory = factory\n    method createui() is\n        this.button = factory.createbutton()\n    method paint() is\n        button.paint()\n\n\n// ç¨åºä¼æ ¹æ®å½åéç½®æç¯å¢è®¾å®éæ©å·¥åç±»åï¼å¹¶å¨è¿è¡æ¶åå»ºå·¥åï¼éå¸¸å¨å\n// å§åé¶æ®µï¼ã\nclass applicationconfigurator is\n    method main() is\n        config = readapplicationconfigfile()\n\n        if (config.os == "windows") then\n            factory = new winfactory()\n        else if (config.os == "mac") then\n            factory = new macfactory()\n        else\n            throw new exception("éè¯¯ï¼æªç¥çæä½ç³»ç»ã")\n\n        application app = new application(factory)\n\n\n\n# æ¡ä¾\n\nä¼æå¨ç¥ï¼è¹æåä¸æè¿ä¸¤å®¶ä¸ççº§ççµå­äº§åååé½çäº§ææºåçµèã\n\næä»¬ä»¥çäº§ææºåçµèä¸ºä¾ï¼æ¼ç¤ºä¸ä¸æ½è±¡å·¥åæ¨¡å¼çåºç¨\n\nãabstractproduct è§è²ã\n\né¦åï¼å®ä¹ææºåçµèä¸¤ä¸ªæ½è±¡æ¥å£ï¼ä»ä»¬é½æåèªçäº§åä¿¡æ¯ã\n\ninterface telephone {\n    public string getproductinfo();\n}\n\ninterface computer {\n    public string getproductinfo();\n}\n\n\nãconcreteproduct è§è²ã\n\nconcreteproduct æ ¹æ® abstractproduct æ¥å®ä¹å·ä½çäº§åå±æ§ãæ¹æ³ã\n\nå¨æä»¬çä¾å­ä¸­ï¼è¹æãä¸æä¸¤å®¶å¬å¸çææºåçµèé½æåèªçå·ä½äº§åä¿¡æ¯ã\n\nclass appletelephone implements telephone {\n\n    @override\n    public string getproductinfo() {\n        return "è¹æææºï¼éç¨iosç³»ç»";\n    }\n}\n\nclass samsungtelephone implements telephone {\n\n    @override\n    public string getproductinfo() {\n        return "ä¸æææºï¼éç¨androidç³»ç»";\n    }\n}\n\nclass applecomputer implements computer {\n\n    @override\n    public string getproductinfo() {\n        return "è¹æçµèï¼éç¨macç³»ç»";\n    }\n}\n\nclass samsungcomputer implements computer {\n\n    @override\n    public string getproductinfo() {\n        return "ä¸æçµèï¼éç¨windowsç³»ç»";\n    }\n}\n\n\nãabstractfactory è§è²ã\n\nè¹æï¼ä¸æè¿ä¸¤ä¸ªååé½çäº§ææºåçµèãæä»¥å®ä»¬å¯ä»¥æä¸ä¸ªæ½è±¡ç¶ç±»æç¶æ¥å£ï¼æä¾çäº§ææºåçäº§çµèçæ¹æ³ã\n\ninterface electronicfactory {\n\n    public telephone producetelephone();\n\n    public computer producecomputer();\n}\n\n\nãconcretefactory è§è²ã\n\nè¹æãä¸æå·¥ååå«å®ç°ç¶æ¥å£ï¼çäº§ä¸åç±»åçäº§åã\n\nclass applefactory implements electronicfactory {\n\n    @override\n    public telephone producetelephone() {\n        return new appletelephone();\n    }\n\n    @override\n    public computer producecomputer() {\n        return new applecomputer();\n    }\n}\n\nclass samsungfactory implements electronicfactory {\n\n    @override\n    public telephone producetelephone() {\n        return new samsungtelephone();\n    }\n\n    @override\n    public computer producecomputer() {\n        return new samsungcomputer();\n    }\n}\n\n\nãå®¢æ·ç«¯ã\n\npublic class phonefactorydemo {\n    public static void main(string[] args) {\n        electronicfactory applefactory = new applefactory();\n        telephone phone = applefactory.producetelephone();\n        system.out.println(phone.getproductinfo());\n        computer computer = applefactory.producecomputer();\n        system.out.println(computer.getproductinfo());\n    }\n}\n\n\nãè¾åºã\n\nè¹æææºï¼éç¨iosç³»ç»\nè¹æçµèï¼éç¨macç³»ç»\n\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * å¨è®¸å¤è®¾è®¡å·¥ä½çåæé½ä¼ä½¿ç¨å·¥åæ¹æ³æ¨¡å¼ ï¼è¾ä¸ºç®åï¼ èä¸å¯ä»¥æ´æ¹ä¾¿å°éè¿å­ç±»è¿è¡å®å¶ï¼ï¼ éåæ¼åä¸ºä½¿ç¨æ½è±¡å·¥åæ¨¡å¼ã ååæ¨¡å¼æçæå¨æ¨¡å¼ ï¼æ´çµæ´»ä½æ´å å¤æï¼ã\n * çæå¨éç¹å³æ³¨å¦ä½åæ­¥çæå¤æå¯¹è±¡ã æ½è±¡å·¥åä¸é¨ç¨äºçäº§ä¸ç³»åç¸å³å¯¹è±¡ã æ½è±¡å·¥åä¼é©¬ä¸è¿åäº§åï¼ çæå¨ååè®¸ä½ å¨è·åäº§ååæ§è¡ä¸äºé¢å¤æé æ­¥éª¤ã\n * æ½è±¡å·¥åæ¨¡å¼éå¸¸åºäºä¸ç»å·¥åæ¹æ³ï¼ ä½ä½ ä¹å¯ä»¥ä½¿ç¨ååæ¨¡å¼æ¥çæè¿äºç±»çæ¹æ³ã\n * å½åªéå¯¹å®¢æ·ç«¯ä»£ç éèå­ç³»ç»åå»ºå¯¹è±¡çæ¹å¼æ¶ï¼ ä½ å¯ä»¥ä½¿ç¨æ½è±¡å·¥åæ¥ä»£æ¿å¤è§æ¨¡å¼ã\n * ä½ å¯ä»¥å°æ½è±¡å·¥ååæ¡¥æ¥æ¨¡å¼æ­éä½¿ç¨ã å¦æç±æ¡¥æ¥å®ä¹çæ½è±¡åªè½ä¸ç¹å®å®ç°åä½ï¼ è¿ä¸æ¨¡å¼æ­éå°±éå¸¸æç¨ã å¨è¿ç§æåµä¸ï¼ æ½è±¡å·¥åå¯ä»¥å¯¹è¿äºå³ç³»è¿è¡å°è£ï¼ å¹¶ä¸å¯¹å®¢æ·ç«¯ä»£ç éèå¶å¤ææ§ã\n * æ½è±¡å·¥åã çæå¨åååé½å¯ä»¥ç¨åä¾æ¨¡å¼æ¥å®ç°ã\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼ä¹å»ºé èæ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼ä¹å»ºé èæ¨¡å¼",date:"2015-06-03T10:32:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/bf03f3/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/04.%E5%BB%BA%E9%80%A0%E8%80%85%E6%A8%A1%E5%BC%8F.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/04.å»ºé èæ¨¡å¼.md",key:"v-1bdc9712",path:"/pages/bf03f3/",headers:[{level:2,title:"æå¾",slug:"æå¾",normalizedTitle:"æå¾",charIndex:17},{level:2,title:"éç¨åºæ¯",slug:"éç¨åºæ¯",normalizedTitle:"éç¨åºæ¯",charIndex:366},{level:2,title:"ç»æ",slug:"ç»æ",normalizedTitle:"ç»æ",charIndex:484},{level:2,title:"ä¼ªä»£ç ",slug:"ä¼ªä»£ç ",normalizedTitle:"ä¼ªä»£ç ",charIndex:2487},{level:2,title:"æ¡ä¾",slug:"æ¡ä¾",normalizedTitle:"æ¡ä¾",charIndex:5469},{level:2,title:"ä¸å¶ä»æ¨¡å¼çå³ç³»",slug:"ä¸å¶ä»æ¨¡å¼çå³ç³»",normalizedTitle:"ä¸å¶ä»æ¨¡å¼çå³ç³»",charIndex:5912},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:6212}],headersStr:"æå¾ éç¨åºæ¯ ç»æ ä¼ªä»£ç  æ¡ä¾ ä¸å¶ä»æ¨¡å¼çå³ç³» åèèµæ",content:'# è®¾è®¡æ¨¡å¼ä¹å»ºé èæ¨¡å¼\n\n\n# æå¾\n\nå»ºé èæ¨¡å¼ï¼Builderï¼æ¯ä¸ç§åå»ºåè®¾è®¡æ¨¡å¼ï¼ ä½¿ä½ è½å¤åæ­¥éª¤åå»ºå¤æå¯¹è±¡ã è¯¥æ¨¡å¼åè®¸ä½ ä½¿ç¨ç¸åçåå»ºä»£ç çæä¸åç±»ååå½¢å¼çå¯¹è±¡ã\n\nä½¿ç¨å»ºé èæ¨¡å¼ï¼ç¨æ·å°±åªéè¦æå®éè¦å»ºé çç±»åï¼å·ä½çå»ºé è¿ç¨åç»èå¹¶ä¸éè¦ç¥éã\n\nå»ºé èæ¨¡å¼åè®¸ä¿®æ¹ä¸ä¸ªäº§åçåé¨è¡¨ç¤ºã\n\nå®å°æé åè¡¨ç¤ºä¸¤åä»£ç éç¦»å¼æ¥ã\n\nå®å¾å¥½çæ§å¶äºæå»ºè¿ç¨ã\n\n\n\nå»ºé èæ¨¡å¼æµç¨è¯´æï¼\n\n 1. å®¢æ·ç«¯åå»º Director å¯¹è±¡å¹¶éç½®å®æéè¦ç Builder å¯¹è±¡ã\n 2. Director è´è´£éç¥ builder ä½æ¶å»ºé  product çé¨ä»¶ã\n 3. Builder å¤ç director çè¯·æ±å¹¶æ·»å  product çé¨ä»¶ã\n 4. å®¢æ·ç«¯ä» builder å¤è·å¾ productã\n\n\n# éç¨åºæ¯\n\n * ä½¿ç¨å»ºé èæ¨¡å¼å¯é¿å âéå æé å½æ° ï¼telescopic constructorï¼â çåºç°ã\n * å½ä½ å¸æä½¿ç¨ä»£ç åå»ºä¸åå½¢å¼çäº§åæ¶ï¼ å¯ä½¿ç¨å»ºé èæ¨¡å¼ã\n * ä½¿ç¨å»ºé èæé ç»åæ æå¶ä»å¤æå¯¹è±¡ã\n\n\n# ç»æ\n\n\n\n 1. å»ºé è ï¼Builderï¼ æ¥å£å£°æå¨ææç±»åå»ºé èä¸­éç¨çäº§åæé æ­¥éª¤ã\n 2. å·ä½å»ºé è ï¼Concrete Buildersï¼ æä¾æé è¿ç¨çä¸åå®ç°ã å·ä½å»ºé èä¹å¯ä»¥æé ä¸éµå¾ªéç¨æ¥å£çäº§åã\n 3. äº§å ï¼Productsï¼ æ¯æç»çæçå¯¹è±¡ã ç±ä¸åå»ºé èæé çäº§åæ éå±äºåä¸ç±»å±æ¬¡ç»æææ¥å£ã\n 4. ä¸»ç®¡ ï¼Directorï¼ ç±»å®ä¹è°ç¨æé æ­¥éª¤çé¡ºåºï¼ è¿æ ·ä½ å°±å¯ä»¥åå»ºåå¤ç¨ç¹å®çäº§åéç½®ã\n 5. å®¢æ·ç«¯ ï¼Clientï¼ å¿é¡»å°æä¸ªå»ºé èå¯¹è±¡ä¸ä¸»ç®¡ç±»å³èã ä¸è¬æåµä¸ï¼ ä½ åªééè¿ä¸»ç®¡ç±»æé å½æ°çåæ°è¿è¡ä¸æ¬¡æ§å³èå³å¯ã æ­¤åä¸»ç®¡ç±»å°±è½ä½¿ç¨å»ºé èå¯¹è±¡å®æåç»­ææçæé ä»»å¡ã ä½å¨å®¢æ·ç«¯å°å»ºé èå¯¹è±¡ä¼ éç»ä¸»ç®¡ç±»å¶é æ¹æ³æ¶è¿æå¦ä¸ç§æ¹å¼ã å¨è¿ç§æåµä¸ï¼ ä½ å¨ä½¿ç¨ä¸»ç®¡ç±»çäº§äº§åæ¶æ¯æ¬¡é½å¯ä»¥ä½¿ç¨ä¸åçå»ºé èã\n\nãProductãäº§åç±»ï¼ç±å¤ä¸ªé¨ä»¶ææã\n\nclass Product {\n    List<String> parts = new ArrayList<String>();\n\n    public void AddPart(String part) {\n        parts.add(part);\n    }\n\n    public void show() {\n        System.out.println("============== äº§ååå»º ==============");\n        for (String part : parts) {\n            System.out.println(part);\n        }\n    }\n}\n\n\nãBuilderã\n\næ½è±¡å»ºé èï¼ç¡®å®äº§åç± ABC ä¸ä¸ªé¨ä»¶ææï¼å¹¶å£°æä¸ä¸ªå¾å°äº§åå»ºé åç»æçæ¹æ³ getResultã\n\ninterface Builder {\n    public void buildPartA();\n    public void buildPartB();\n    public void buildPartC();\n    public Product getResult();\n}\n\n\nãConcreteBuilderã\n\nå®ç° Builder æ¥å£ä¸­çå·ä½æ¹æ³ã\n\nclass ConcreteBuilder implements Builder {\n    private Product product = new Product();\n\n    @Override\n    public void buildPartA() {\n        product.AddPart("é¨ä»¶A");\n    }\n\n    @Override\n    public void buildPartB() {\n        product.AddPart("é¨ä»¶B");\n    }\n\n    @Override\n    public void buildPartC() {\n        product.AddPart("é¨ä»¶C");\n    }\n\n    @Override\n    public Product getResult() {\n        return product;\n    }\n}\n\n\nãDirectorã\n\nææ¥èç±»ï¼ææ¥å»ºé  Product çè¿ç¨ï¼æ§å¶æå»ºåé¨åç»ä»¶çé¡ºåºï¼ã\n\nclass Director {\n    public void construct(Builder builder) {\n        builder.buildPartC();\n        builder.buildPartA();\n        builder.buildPartB();\n    }\n}\n\n\nãå®¢æ·ç«¯ã\n\nç¨æ·å¹¶ä¸éè¦ç¥éå·ä½çå»ºé è¿ç¨ï¼åªéæå®å»ºé  Product å·ä½ç±»åã\n\npublic class BuilderPattern {\n    public static void main(String[] args) {\n        Director director = new Director();\n        Builder builder = new ConcreteBuilder();\n\n        director.construct(builder);\n        Product product = builder.getResult();\n        product.show();\n    }\n}\n\n\nãè¾åºã\n\n============== äº§ååå»º ==============\né¨ä»¶C\né¨ä»¶A\né¨ä»¶B\n\n\n\n# ä¼ªä»£ç \n\nä¸é¢å³äºå»ºé èæ¨¡å¼çä¾å­æ¼ç¤ºäºä½ å¯ä»¥å¦ä½å¤ç¨ç¸åçå¯¹è±¡æé ä»£ç æ¥çæä¸åç±»åçäº§åââä¾å¦æ±½è½¦ ï¼Carï¼ââåå¶ç¸åºçä½¿ç¨æå ï¼Manualï¼ã\n\n\n\n// åªæå½äº§åè¾ä¸ºå¤æä¸éè¦è¯¦ç»éç½®æ¶ï¼ä½¿ç¨å»ºé èæ¨¡å¼æææä¹ãä¸é¢çä¸¤ä¸ª\n// äº§åå°½ç®¡æ²¡æåæ ·çæ¥å£ï¼ä½å´ç¸äºå³èã\nclass Car is\n    // ä¸è¾æ±½è½¦å¯è½éå¤æ GPS è®¾å¤ãè¡è½¦çµèåå ä¸ªåº§ä½ãä¸ååå·çæ±½è½¦ï¼\n    // è¿å¨åè½¿è½¦ãSUV åæç¯·è½¦ï¼å¯è½ä¼å®è£æå¯ç¨ä¸åçåè½ã\n\nclass Manual is\n    // ç¨æ·ä½¿ç¨æååºè¯¥æ ¹æ®æ±½è½¦éç½®è¿è¡ç¼å¶ï¼å¹¶ä»ç»æ±½è½¦çææåè½ã\n\n\n// å»ºé èæ¥å£å£°æäºåå»ºäº§åå¯¹è±¡ä¸åé¨ä»¶çæ¹æ³ã\ninterface Builder is\n    method reset()\n    method setSeats(...)\n    method setEngine(...)\n    method setTripComputer(...)\n    method setGPS(...)\n\n// å·ä½å»ºé èç±»å°éµå¾ªå»ºé èæ¥å£å¹¶æä¾çææ­¥éª¤çå·ä½å®ç°ãä½ çç¨åºä¸­å¯è½ä¼\n// æå¤ä¸ªä»¥ä¸åæ¹å¼å®ç°çå»ºé èåä½ã\nclass CarBuilder implements Builder is\n    private field car:Car\n\n    // ä¸ä¸ªæ°çå»ºé èå®ä¾å¿é¡»åå«ä¸ä¸ªå¨åç»­ç»è£è¿ç¨ä¸­ä½¿ç¨çç©ºäº§åå¯¹è±¡ã\n    constructor CarBuilder() is\n        this.reset()\n\n    // resetï¼éç½®ï¼æ¹æ³å¯æ¸é¤æ­£å¨çæçå¯¹è±¡ã\n    method reset() is\n        this.car = new Car()\n\n    // ææçææ­¥éª¤é½ä¼ä¸åä¸ä¸ªäº§åå®ä¾è¿è¡äº¤äºã\n    method setSeats(...) is\n        // è®¾ç½®æ±½è½¦åº§ä½çæ°éã\n\n    method setEngine(...) is\n        // å®è£æå®çå¼æã\n\n    method setTripComputer(...) is\n        // å®è£è¡è½¦çµèã\n\n    method setGPS(...) is\n        // å®è£å¨çå®ä½ç³»ç»ã\n\n    // å·ä½å»ºé èéè¦èªè¡æä¾è·åç»æçæ¹æ³ãè¿æ¯å ä¸ºä¸åç±»åçå»ºé èå¯è½\n    // ä¼åå»ºä¸éµå¾ªç¸åæ¥å£çãå®å¨ä¸åçäº§åãæä»¥ä¹å°±æ æ³å¨å»ºé èæ¥å£ä¸­\n    // å£°æè¿äºæ¹æ³ï¼è³å°å¨éæç±»åçç¼ç¨è¯­è¨ä¸­æ¯è¿æ ·çï¼ã\n    //\n    // éå¸¸å¨å»ºé èå®ä¾å°ç»æè¿åç»å®¢æ·ç«¯åï¼å®ä»¬åºè¯¥åå¥½çæå¦ä¸ä¸ªäº§åç\n    // åå¤ãå æ­¤å»ºé èå®ä¾éå¸¸ä¼å¨ `getProductï¼è·åäº§åï¼`æ¹æ³ä¸»ä½æ«å°¾\n    // è°ç¨éç½®æ¹æ³ãä½æ¯è¯¥è¡ä¸ºå¹¶ä¸æ¯å¿éçï¼ä½ ä¹å¯è®©å»ºé èç­å¾å®¢æ·ç«¯æç¡®\n    // è°ç¨éç½®æ¹æ³ååå»å¤çä¹åçç»æã\n    method getProduct():Car is\n        product = this.car\n        this.reset()\n        return product\n\n// å»ºé èä¸å¶ä»åå»ºåæ¨¡å¼çä¸åä¹å¤å¨äºï¼å®è®©ä½ è½åå»ºä¸éµå¾ªç¸åæ¥å£çäº§åã\nclass CarManualBuilder implements Builder is\n    private field manual:Manual\n\n    constructor CarManualBuilder() is\n        this.reset()\n\n    method reset() is\n        this.manual = new Manual()\n\n    method setSeats(...) is\n        // æ·»å å³äºæ±½è½¦åº§æ¤åè½çææ¡£ã\n\n    method setEngine(...) is\n        // æ·»å å³äºå¼æçä»ç»ã\n\n    method setTripComputer(...) is\n        // æ·»å å³äºè¡è½¦çµèçä»ç»ã\n\n    method setGPS(...) is\n        // æ·»å å³äº GPS çä»ç»ã\n\n    method getProduct():Manual is\n        // è¿åä½¿ç¨æåå¹¶éç½®å»ºé èã\n\n\n// ä¸»ç®¡åªè´è´£æç§ç¹å®é¡ºåºæ§è¡çææ­¥éª¤ãå¶å¨æ ¹æ®ç¹å®æ­¥éª¤æéç½®æ¥çæäº§åæ¶\n// ä¼å¾æå¸®å©ãç±äºå®¢æ·ç«¯å¯ä»¥ç´æ¥æ§å¶å»ºé èï¼æä»¥ä¸¥æ ¼æä¹ä¸æ¥è¯´ï¼ä¸»ç®¡ç±»å¹¶\n// ä¸æ¯å¿éçã\nclass Director is\n    private field builder:Builder\n\n    // ä¸»ç®¡å¯åç±å®¢æ·ç«¯ä»£ç ä¼ éç»èªèº«çä»»ä½å»ºé èå®ä¾è¿è¡äº¤äºãå®¢æ·ç«¯å¯é\n    // è¿è¿ç§æ¹å¼æ¹åææ°ç»è£å®æ¯çäº§åçæç»ç±»åã\n    method setBuilder(builder:Builder)\n        this.builder = builder\n\n    // ä¸»ç®¡å¯ä½¿ç¨åæ ·ççææ­¥éª¤åå»ºå¤ä¸ªäº§ååä½ã\n    method constructSportsCar(builder: Builder) is\n        builder.reset()\n        builder.setSeats(2)\n        builder.setEngine(new SportEngine())\n        builder.setTripComputer(true)\n        builder.setGPS(true)\n\n    method constructSUV(builder: Builder) is\n        // ...\n\n\n// å®¢æ·ç«¯ä»£ç ä¼åå»ºå»ºé èå¯¹è±¡å¹¶å°å¶ä¼ éç»ä¸»ç®¡ï¼ç¶åæ§è¡æé è¿ç¨ãæç»ç»æ\n// å°éè¦ä»å»ºé èå¯¹è±¡ä¸­è·åã\nclass Application is\n\n    method makeCar() is\n        director = new Director()\n\n        CarBuilder builder = new CarBuilder()\n        director.constructSportsCar(builder)\n        Car car = builder.getProduct()\n\n        CarManualBuilder builder = new CarManualBuilder()\n        director.constructSportsCar(builder)\n\n        // æç»äº§åéå¸¸éè¦ä»å»ºé èå¯¹è±¡ä¸­è·åï¼å ä¸ºä¸»ç®¡ä¸ç¥æå·ä½å»ºé èå\n        // äº§åçå­å¨ï¼ä¹ä¸ä¼å¯¹å¶äº§çä¾èµã\n        Manual manual = builder.getProduct()\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ å»ºé èæ¨¡å¼æ¯ Java ä¸çä¸­çä¸ä¸ªèåæ¨¡å¼ã å½ä½ éè¦åå»ºä¸ä¸ªå¯è½æè®¸å¤éç½®éé¡¹çå¯¹è±¡æ¶ï¼ è¯¥æ¨¡å¼ä¼ç¹å«æç¨ã\n\nå»ºé èå¨ Java æ ¸å¿ç¨åºåºä¸­å¾å°äºå¹¿æ³çåºç¨ï¼\n\n * java.lang.StringBuilder#append() ï¼ éåæ­¥ ï¼\n * java.lang.StringBuffer#append() ï¼ åæ­¥ ï¼\n * java.nio.ByteBuffer#put() ï¼è¿æ CharÂ­Bufferã ShortÂ­Bufferã IntÂ­Bufferã LongÂ­Bufferã FloatÂ­Buffer å DoubleÂ­Bufferï¼\n * java.lang.Appendableçææå®ç°\n\nè¯å«æ¹æ³ï¼ å»ºé èæ¨¡å¼å¯ä»¥éè¿ç±»æ¥è¯å«ï¼ å®æ¥æä¸ä¸ªæå»ºæ¹æ³åå¤ä¸ªéç½®ç»æå¯¹è±¡çæ¹æ³ã å»ºé èæ¹æ³éå¸¸æ¯ææ¹æ³é¾ ï¼ä¾å¦ someBuilder->setValueA(1)->setValueB(2)->create() ï¼\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * å¨è®¸å¤è®¾è®¡å·¥ä½çåæé½ä¼ä½¿ç¨å·¥åæ¹æ³æ¨¡å¼ ï¼è¾ä¸ºç®åï¼ èä¸å¯ä»¥æ´æ¹ä¾¿å°éè¿å­ç±»è¿è¡å®å¶ï¼ï¼ éåæ¼åä¸ºä½¿ç¨æ½è±¡å·¥åæ¨¡å¼ã ååæ¨¡å¼æå»ºé èæ¨¡å¼ ï¼æ´çµæ´»ä½æ´å å¤æï¼ã\n * å»ºé èéç¹å³æ³¨å¦ä½åæ­¥çæå¤æå¯¹è±¡ã æ½è±¡å·¥åä¸é¨ç¨äºçäº§ä¸ç³»åç¸å³å¯¹è±¡ã æ½è±¡å·¥åä¼é©¬ä¸è¿åäº§åï¼ å»ºé èååè®¸ä½ å¨è·åäº§ååæ§è¡ä¸äºé¢å¤æé æ­¥éª¤ã\n * ä½ å¯ä»¥å¨åå»ºå¤æç»åæ¨¡å¼æ æ¶ä½¿ç¨å»ºé èï¼ å ä¸ºè¿å¯ä½¿å¶æé æ­¥éª¤ä»¥éå½çæ¹å¼è¿è¡ã\n * ä½ å¯ä»¥ç»åä½¿ç¨å»ºé èåæ¡¥æ¥æ¨¡å¼ï¼ ä¸»ç®¡ç±»è´è´£æ½è±¡å·¥ä½ï¼ åç§ä¸åçå»ºé èè´è´£å®ç°å·¥ä½ã\n * æ½è±¡å·¥åã å»ºé èåååé½å¯ä»¥ç¨åä¾æ¨¡å¼æ¥å®ç°ã\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',normalizedContent:'# è®¾è®¡æ¨¡å¼ä¹å»ºé èæ¨¡å¼\n\n\n# æå¾\n\nå»ºé èæ¨¡å¼ï¼builderï¼æ¯ä¸ç§åå»ºåè®¾è®¡æ¨¡å¼ï¼ ä½¿ä½ è½å¤åæ­¥éª¤åå»ºå¤æå¯¹è±¡ã è¯¥æ¨¡å¼åè®¸ä½ ä½¿ç¨ç¸åçåå»ºä»£ç çæä¸åç±»ååå½¢å¼çå¯¹è±¡ã\n\nä½¿ç¨å»ºé èæ¨¡å¼ï¼ç¨æ·å°±åªéè¦æå®éè¦å»ºé çç±»åï¼å·ä½çå»ºé è¿ç¨åç»èå¹¶ä¸éè¦ç¥éã\n\nå»ºé èæ¨¡å¼åè®¸ä¿®æ¹ä¸ä¸ªäº§åçåé¨è¡¨ç¤ºã\n\nå®å°æé åè¡¨ç¤ºä¸¤åä»£ç éç¦»å¼æ¥ã\n\nå®å¾å¥½çæ§å¶äºæå»ºè¿ç¨ã\n\n\n\nå»ºé èæ¨¡å¼æµç¨è¯´æï¼\n\n 1. å®¢æ·ç«¯åå»º director å¯¹è±¡å¹¶éç½®å®æéè¦ç builder å¯¹è±¡ã\n 2. director è´è´£éç¥ builder ä½æ¶å»ºé  product çé¨ä»¶ã\n 3. builder å¤ç director çè¯·æ±å¹¶æ·»å  product çé¨ä»¶ã\n 4. å®¢æ·ç«¯ä» builder å¤è·å¾ productã\n\n\n# éç¨åºæ¯\n\n * ä½¿ç¨å»ºé èæ¨¡å¼å¯é¿å âéå æé å½æ° ï¼telescopic constructorï¼â çåºç°ã\n * å½ä½ å¸æä½¿ç¨ä»£ç åå»ºä¸åå½¢å¼çäº§åæ¶ï¼ å¯ä½¿ç¨å»ºé èæ¨¡å¼ã\n * ä½¿ç¨å»ºé èæé ç»åæ æå¶ä»å¤æå¯¹è±¡ã\n\n\n# ç»æ\n\n\n\n 1. å»ºé è ï¼builderï¼ æ¥å£å£°æå¨ææç±»åå»ºé èä¸­éç¨çäº§åæé æ­¥éª¤ã\n 2. å·ä½å»ºé è ï¼concrete buildersï¼ æä¾æé è¿ç¨çä¸åå®ç°ã å·ä½å»ºé èä¹å¯ä»¥æé ä¸éµå¾ªéç¨æ¥å£çäº§åã\n 3. äº§å ï¼productsï¼ æ¯æç»çæçå¯¹è±¡ã ç±ä¸åå»ºé èæé çäº§åæ éå±äºåä¸ç±»å±æ¬¡ç»æææ¥å£ã\n 4. ä¸»ç®¡ ï¼directorï¼ ç±»å®ä¹è°ç¨æé æ­¥éª¤çé¡ºåºï¼ è¿æ ·ä½ å°±å¯ä»¥åå»ºåå¤ç¨ç¹å®çäº§åéç½®ã\n 5. å®¢æ·ç«¯ ï¼clientï¼ å¿é¡»å°æä¸ªå»ºé èå¯¹è±¡ä¸ä¸»ç®¡ç±»å³èã ä¸è¬æåµä¸ï¼ ä½ åªééè¿ä¸»ç®¡ç±»æé å½æ°çåæ°è¿è¡ä¸æ¬¡æ§å³èå³å¯ã æ­¤åä¸»ç®¡ç±»å°±è½ä½¿ç¨å»ºé èå¯¹è±¡å®æåç»­ææçæé ä»»å¡ã ä½å¨å®¢æ·ç«¯å°å»ºé èå¯¹è±¡ä¼ éç»ä¸»ç®¡ç±»å¶é æ¹æ³æ¶è¿æå¦ä¸ç§æ¹å¼ã å¨è¿ç§æåµä¸ï¼ ä½ å¨ä½¿ç¨ä¸»ç®¡ç±»çäº§äº§åæ¶æ¯æ¬¡é½å¯ä»¥ä½¿ç¨ä¸åçå»ºé èã\n\nãproductãäº§åç±»ï¼ç±å¤ä¸ªé¨ä»¶ææã\n\nclass product {\n    list<string> parts = new arraylist<string>();\n\n    public void addpart(string part) {\n        parts.add(part);\n    }\n\n    public void show() {\n        system.out.println("============== äº§ååå»º ==============");\n        for (string part : parts) {\n            system.out.println(part);\n        }\n    }\n}\n\n\nãbuilderã\n\næ½è±¡å»ºé èï¼ç¡®å®äº§åç± abc ä¸ä¸ªé¨ä»¶ææï¼å¹¶å£°æä¸ä¸ªå¾å°äº§åå»ºé åç»æçæ¹æ³ getresultã\n\ninterface builder {\n    public void buildparta();\n    public void buildpartb();\n    public void buildpartc();\n    public product getresult();\n}\n\n\nãconcretebuilderã\n\nå®ç° builder æ¥å£ä¸­çå·ä½æ¹æ³ã\n\nclass concretebuilder implements builder {\n    private product product = new product();\n\n    @override\n    public void buildparta() {\n        product.addpart("é¨ä»¶a");\n    }\n\n    @override\n    public void buildpartb() {\n        product.addpart("é¨ä»¶b");\n    }\n\n    @override\n    public void buildpartc() {\n        product.addpart("é¨ä»¶c");\n    }\n\n    @override\n    public product getresult() {\n        return product;\n    }\n}\n\n\nãdirectorã\n\nææ¥èç±»ï¼ææ¥å»ºé  product çè¿ç¨ï¼æ§å¶æå»ºåé¨åç»ä»¶çé¡ºåºï¼ã\n\nclass director {\n    public void construct(builder builder) {\n        builder.buildpartc();\n        builder.buildparta();\n        builder.buildpartb();\n    }\n}\n\n\nãå®¢æ·ç«¯ã\n\nç¨æ·å¹¶ä¸éè¦ç¥éå·ä½çå»ºé è¿ç¨ï¼åªéæå®å»ºé  product å·ä½ç±»åã\n\npublic class builderpattern {\n    public static void main(string[] args) {\n        director director = new director();\n        builder builder = new concretebuilder();\n\n        director.construct(builder);\n        product product = builder.getresult();\n        product.show();\n    }\n}\n\n\nãè¾åºã\n\n============== äº§ååå»º ==============\né¨ä»¶c\né¨ä»¶a\né¨ä»¶b\n\n\n\n# ä¼ªä»£ç \n\nä¸é¢å³äºå»ºé èæ¨¡å¼çä¾å­æ¼ç¤ºäºä½ å¯ä»¥å¦ä½å¤ç¨ç¸åçå¯¹è±¡æé ä»£ç æ¥çæä¸åç±»åçäº§åââä¾å¦æ±½è½¦ ï¼carï¼ââåå¶ç¸åºçä½¿ç¨æå ï¼manualï¼ã\n\n\n\n// åªæå½äº§åè¾ä¸ºå¤æä¸éè¦è¯¦ç»éç½®æ¶ï¼ä½¿ç¨å»ºé èæ¨¡å¼æææä¹ãä¸é¢çä¸¤ä¸ª\n// äº§åå°½ç®¡æ²¡æåæ ·çæ¥å£ï¼ä½å´ç¸äºå³èã\nclass car is\n    // ä¸è¾æ±½è½¦å¯è½éå¤æ gps è®¾å¤ãè¡è½¦çµèåå ä¸ªåº§ä½ãä¸ååå·çæ±½è½¦ï¼\n    // è¿å¨åè½¿è½¦ãsuv åæç¯·è½¦ï¼å¯è½ä¼å®è£æå¯ç¨ä¸åçåè½ã\n\nclass manual is\n    // ç¨æ·ä½¿ç¨æååºè¯¥æ ¹æ®æ±½è½¦éç½®è¿è¡ç¼å¶ï¼å¹¶ä»ç»æ±½è½¦çææåè½ã\n\n\n// å»ºé èæ¥å£å£°æäºåå»ºäº§åå¯¹è±¡ä¸åé¨ä»¶çæ¹æ³ã\ninterface builder is\n    method reset()\n    method setseats(...)\n    method setengine(...)\n    method settripcomputer(...)\n    method setgps(...)\n\n// å·ä½å»ºé èç±»å°éµå¾ªå»ºé èæ¥å£å¹¶æä¾çææ­¥éª¤çå·ä½å®ç°ãä½ çç¨åºä¸­å¯è½ä¼\n// æå¤ä¸ªä»¥ä¸åæ¹å¼å®ç°çå»ºé èåä½ã\nclass carbuilder implements builder is\n    private field car:car\n\n    // ä¸ä¸ªæ°çå»ºé èå®ä¾å¿é¡»åå«ä¸ä¸ªå¨åç»­ç»è£è¿ç¨ä¸­ä½¿ç¨çç©ºäº§åå¯¹è±¡ã\n    constructor carbuilder() is\n        this.reset()\n\n    // resetï¼éç½®ï¼æ¹æ³å¯æ¸é¤æ­£å¨çæçå¯¹è±¡ã\n    method reset() is\n        this.car = new car()\n\n    // ææçææ­¥éª¤é½ä¼ä¸åä¸ä¸ªäº§åå®ä¾è¿è¡äº¤äºã\n    method setseats(...) is\n        // è®¾ç½®æ±½è½¦åº§ä½çæ°éã\n\n    method setengine(...) is\n        // å®è£æå®çå¼æã\n\n    method settripcomputer(...) is\n        // å®è£è¡è½¦çµèã\n\n    method setgps(...) is\n        // å®è£å¨çå®ä½ç³»ç»ã\n\n    // å·ä½å»ºé èéè¦èªè¡æä¾è·åç»æçæ¹æ³ãè¿æ¯å ä¸ºä¸åç±»åçå»ºé èå¯è½\n    // ä¼åå»ºä¸éµå¾ªç¸åæ¥å£çãå®å¨ä¸åçäº§åãæä»¥ä¹å°±æ æ³å¨å»ºé èæ¥å£ä¸­\n    // å£°æè¿äºæ¹æ³ï¼è³å°å¨éæç±»åçç¼ç¨è¯­è¨ä¸­æ¯è¿æ ·çï¼ã\n    //\n    // éå¸¸å¨å»ºé èå®ä¾å°ç»æè¿åç»å®¢æ·ç«¯åï¼å®ä»¬åºè¯¥åå¥½çæå¦ä¸ä¸ªäº§åç\n    // åå¤ãå æ­¤å»ºé èå®ä¾éå¸¸ä¼å¨ `getproductï¼è·åäº§åï¼`æ¹æ³ä¸»ä½æ«å°¾\n    // è°ç¨éç½®æ¹æ³ãä½æ¯è¯¥è¡ä¸ºå¹¶ä¸æ¯å¿éçï¼ä½ ä¹å¯è®©å»ºé èç­å¾å®¢æ·ç«¯æç¡®\n    // è°ç¨éç½®æ¹æ³ååå»å¤çä¹åçç»æã\n    method getproduct():car is\n        product = this.car\n        this.reset()\n        return product\n\n// å»ºé èä¸å¶ä»åå»ºåæ¨¡å¼çä¸åä¹å¤å¨äºï¼å®è®©ä½ è½åå»ºä¸éµå¾ªç¸åæ¥å£çäº§åã\nclass carmanualbuilder implements builder is\n    private field manual:manual\n\n    constructor carmanualbuilder() is\n        this.reset()\n\n    method reset() is\n        this.manual = new manual()\n\n    method setseats(...) is\n        // æ·»å å³äºæ±½è½¦åº§æ¤åè½çææ¡£ã\n\n    method setengine(...) is\n        // æ·»å å³äºå¼æçä»ç»ã\n\n    method settripcomputer(...) is\n        // æ·»å å³äºè¡è½¦çµèçä»ç»ã\n\n    method setgps(...) is\n        // æ·»å å³äº gps çä»ç»ã\n\n    method getproduct():manual is\n        // è¿åä½¿ç¨æåå¹¶éç½®å»ºé èã\n\n\n// ä¸»ç®¡åªè´è´£æç§ç¹å®é¡ºåºæ§è¡çææ­¥éª¤ãå¶å¨æ ¹æ®ç¹å®æ­¥éª¤æéç½®æ¥çæäº§åæ¶\n// ä¼å¾æå¸®å©ãç±äºå®¢æ·ç«¯å¯ä»¥ç´æ¥æ§å¶å»ºé èï¼æä»¥ä¸¥æ ¼æä¹ä¸æ¥è¯´ï¼ä¸»ç®¡ç±»å¹¶\n// ä¸æ¯å¿éçã\nclass director is\n    private field builder:builder\n\n    // ä¸»ç®¡å¯åç±å®¢æ·ç«¯ä»£ç ä¼ éç»èªèº«çä»»ä½å»ºé èå®ä¾è¿è¡äº¤äºãå®¢æ·ç«¯å¯é\n    // è¿è¿ç§æ¹å¼æ¹åææ°ç»è£å®æ¯çäº§åçæç»ç±»åã\n    method setbuilder(builder:builder)\n        this.builder = builder\n\n    // ä¸»ç®¡å¯ä½¿ç¨åæ ·ççææ­¥éª¤åå»ºå¤ä¸ªäº§ååä½ã\n    method constructsportscar(builder: builder) is\n        builder.reset()\n        builder.setseats(2)\n        builder.setengine(new sportengine())\n        builder.settripcomputer(true)\n        builder.setgps(true)\n\n    method constructsuv(builder: builder) is\n        // ...\n\n\n// å®¢æ·ç«¯ä»£ç ä¼åå»ºå»ºé èå¯¹è±¡å¹¶å°å¶ä¼ éç»ä¸»ç®¡ï¼ç¶åæ§è¡æé è¿ç¨ãæç»ç»æ\n// å°éè¦ä»å»ºé èå¯¹è±¡ä¸­è·åã\nclass application is\n\n    method makecar() is\n        director = new director()\n\n        carbuilder builder = new carbuilder()\n        director.constructsportscar(builder)\n        car car = builder.getproduct()\n\n        carmanualbuilder builder = new carmanualbuilder()\n        director.constructsportscar(builder)\n\n        // æç»äº§åéå¸¸éè¦ä»å»ºé èå¯¹è±¡ä¸­è·åï¼å ä¸ºä¸»ç®¡ä¸ç¥æå·ä½å»ºé èå\n        // äº§åçå­å¨ï¼ä¹ä¸ä¼å¯¹å¶äº§çä¾èµã\n        manual manual = builder.getproduct()\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ å»ºé èæ¨¡å¼æ¯ java ä¸çä¸­çä¸ä¸ªèåæ¨¡å¼ã å½ä½ éè¦åå»ºä¸ä¸ªå¯è½æè®¸å¤éç½®éé¡¹çå¯¹è±¡æ¶ï¼ è¯¥æ¨¡å¼ä¼ç¹å«æç¨ã\n\nå»ºé èå¨ java æ ¸å¿ç¨åºåºä¸­å¾å°äºå¹¿æ³çåºç¨ï¼\n\n * java.lang.stringbuilder#append() ï¼ éåæ­¥ ï¼\n * java.lang.stringbuffer#append() ï¼ åæ­¥ ï¼\n * java.nio.bytebuffer#put() ï¼è¿æ charÂ­bufferã shortÂ­bufferã intÂ­bufferã longÂ­bufferã floatÂ­buffer å doubleÂ­bufferï¼\n * java.lang.appendableçææå®ç°\n\nè¯å«æ¹æ³ï¼ å»ºé èæ¨¡å¼å¯ä»¥éè¿ç±»æ¥è¯å«ï¼ å®æ¥æä¸ä¸ªæå»ºæ¹æ³åå¤ä¸ªéç½®ç»æå¯¹è±¡çæ¹æ³ã å»ºé èæ¹æ³éå¸¸æ¯ææ¹æ³é¾ ï¼ä¾å¦ somebuilder->setvaluea(1)->setvalueb(2)->create() ï¼\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * å¨è®¸å¤è®¾è®¡å·¥ä½çåæé½ä¼ä½¿ç¨å·¥åæ¹æ³æ¨¡å¼ ï¼è¾ä¸ºç®åï¼ èä¸å¯ä»¥æ´æ¹ä¾¿å°éè¿å­ç±»è¿è¡å®å¶ï¼ï¼ éåæ¼åä¸ºä½¿ç¨æ½è±¡å·¥åæ¨¡å¼ã ååæ¨¡å¼æå»ºé èæ¨¡å¼ ï¼æ´çµæ´»ä½æ´å å¤æï¼ã\n * å»ºé èéç¹å³æ³¨å¦ä½åæ­¥çæå¤æå¯¹è±¡ã æ½è±¡å·¥åä¸é¨ç¨äºçäº§ä¸ç³»åç¸å³å¯¹è±¡ã æ½è±¡å·¥åä¼é©¬ä¸è¿åäº§åï¼ å»ºé èååè®¸ä½ å¨è·åäº§ååæ§è¡ä¸äºé¢å¤æé æ­¥éª¤ã\n * ä½ å¯ä»¥å¨åå»ºå¤æç»åæ¨¡å¼æ æ¶ä½¿ç¨å»ºé èï¼ å ä¸ºè¿å¯ä½¿å¶æé æ­¥éª¤ä»¥éå½çæ¹å¼è¿è¡ã\n * ä½ å¯ä»¥ç»åä½¿ç¨å»ºé èåæ¡¥æ¥æ¨¡å¼ï¼ ä¸»ç®¡ç±»è´è´£æ½è±¡å·¥ä½ï¼ åç§ä¸åçå»ºé èè´è´£å®ç°å·¥ä½ã\n * æ½è±¡å·¥åã å»ºé èåååé½å¯ä»¥ç¨åä¾æ¨¡å¼æ¥å®ç°ã\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼ä¹ååæ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼ä¹ååæ¨¡å¼",date:"2015-06-03T15:00:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/1af8ee/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/05.%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/05.ååæ¨¡å¼.md",key:"v-68de8656",path:"/pages/1af8ee/",headers:[{level:2,title:"æå¾",slug:"æå¾",normalizedTitle:"æå¾",charIndex:16},{level:3,title:"æµæ·è´ä¸æ·±æ·è´",slug:"æµæ·è´ä¸æ·±æ·è´",normalizedTitle:"æµæ·è´ä¸æ·±æ·è´",charIndex:468},{level:2,title:"éç¨åºæ¯",slug:"éç¨åºæ¯",normalizedTitle:"éç¨åºæ¯",charIndex:617},{level:2,title:"ç»æ",slug:"ç»æ",normalizedTitle:"ç»æ",charIndex:746},{level:2,title:"ä¼ªä»£ç ",slug:"ä¼ªä»£ç ",normalizedTitle:"ä¼ªä»£ç ",charIndex:957},{level:2,title:"æ¡ä¾",slug:"æ¡ä¾",normalizedTitle:"æ¡ä¾",charIndex:3085},{level:2,title:"ä¸å¶ä»æ¨¡å¼çå³ç³»",slug:"ä¸å¶ä»æ¨¡å¼çå³ç³»",normalizedTitle:"ä¸å¶ä»æ¨¡å¼çå³ç³»",charIndex:3258},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:3668}],headersStr:"æå¾ æµæ·è´ä¸æ·±æ·è´ éç¨åºæ¯ ç»æ ä¼ªä»£ç  æ¡ä¾ ä¸å¶ä»æ¨¡å¼çå³ç³» åèèµæ",content:"# è®¾è®¡æ¨¡å¼ä¹ååæ¨¡å¼\n\n\n# æå¾\n\nååæ¨¡å¼ï¼Prototypeï¼æ¯ä¸ç§åå»ºåè®¾è®¡æ¨¡å¼ï¼ ä½¿ä½ è½å¤å¤å¶å·²æå¯¹è±¡ï¼ èåæ éä½¿ä»£ç ä¾èµå®ä»¬æå±çç±»ã\n\nååæ¨¡å¼ä¸»è¦ç¨äºå¯¹è±¡çå¤å¶ï¼å®çæ ¸å¿æ¯å°±æ¯ç±»å¾ä¸­çååç±» PrototypeãPrototype ç±»éè¦å·å¤ä»¥ä¸ä¸¤ä¸ªæ¡ä»¶ï¼\n\n * å®ç° Cloneable æ¥å£ãå¨ java è¯­è¨æä¸ä¸ª Cloneable æ¥å£ï¼å®çä½ç¨åªæä¸ä¸ªï¼å°±æ¯å¨è¿è¡æ¶éç¥èææºå¯ä»¥å®å¨å°å¨å®ç°äºæ­¤æ¥å£çç±»ä¸ä½¿ç¨ clone æ¹æ³ãå¨ java èææºä¸­ï¼åªæå®ç°äºè¿ä¸ªæ¥å£çç±»æå¯ä»¥è¢«æ·è´ï¼å¦åå¨è¿è¡æ¶ä¼æåº CloneNotSupportedException å¼å¸¸ã\n * éå Object ç±»ä¸­ç clone æ¹æ³ãJava ä¸­ï¼ææç±»çç¶ç±»é½æ¯ Object ç±»ï¼Object ç±»ä¸­æä¸ä¸ª clone æ¹æ³ï¼ä½ç¨æ¯è¿åå¯¹è±¡çä¸ä¸ªæ·è´ï¼ä½æ¯å¶ä½ç¨å protected ç±»åçï¼ä¸è¬çç±»æ æ³è°ç¨ï¼å æ­¤ï¼Prototype ç±»éè¦å° clone æ¹æ³çä½ç¨åä¿®æ¹ä¸º public ç±»åã\n\n\n# æµæ·è´ä¸æ·±æ·è´\n\næµæ·è´æ¯æå½å¯¹è±¡çå­æ®µå¼è¢«å¤å¶æ¶ï¼å­æ®µå¼ç¨çå¯¹è±¡ä¸ä¼è¢«å¤å¶ã\n\nä¾å¦ï¼å¦æä¸ä¸ªå¯¹è±¡æä¸ä¸ªæåå­ç¬¦ä¸²çå­æ®µï¼å¹¶ä¸æä»¬å¯¹è¯¥å¯¹è±¡åäºä¸ä¸ªæµæ·è´ï¼é£éº½ä¸¤ä¸ªå¯¹è±¡å°å¼ç¨åä¸ä¸ªå­ç¬¦ä¸²ã\n\næ·±æ·è´æ¯æå½ä¸ä¸ªç±»æ¥æèµæºï¼å½è¿ä¸ªç±»çå¯¹è±¡åçå¤å¶è¿ç¨çæ¶åï¼èµæºéæ°åéï¼è¿ä¸ªè¿ç¨å°±æ¯æ·±æ·è´ã\n\n\n# éç¨åºæ¯\n\n * å¦æä½ éè¦å¤å¶ä¸äºå¯¹è±¡ï¼ åæ¶åå¸æä»£ç ç¬ç«äºè¿äºå¯¹è±¡æå±çå·ä½ç±»ï¼ å¯ä»¥ä½¿ç¨ååæ¨¡å¼ã\n * å¦æå­ç±»çåºå«ä»å¨äºå¶å¯¹è±¡çåå§åæ¹å¼ï¼ é£ä¹ä½ å¯ä»¥ä½¿ç¨è¯¥æ¨¡å¼æ¥åå°å­ç±»çæ°éã å«äººåå»ºè¿äºå­ç±»çç®çå¯è½æ¯ä¸ºäºåå»ºç¹å®ç±»åçå¯¹è±¡ã\n\n\n# ç»æ\n\n\n\n 1. åå ï¼Prototypeï¼ æ¥å£å°å¯¹åéæ¹æ³è¿è¡å£°æã å¨ç»å¤§å¤æ°æåµä¸ï¼ å¶ä¸­åªä¼æä¸ä¸ªåä¸º cloneåéçæ¹æ³ã\n 2. å·ä½åå ï¼Concrete Prototypeï¼ ç±»å°å®ç°åéæ¹æ³ã é¤äºå°åå§å¯¹è±¡çæ°æ®å¤å¶å°åéä½ä¸­ä¹å¤ï¼ è¯¥æ¹æ³ææ¶è¿éå¤çåéè¿ç¨ä¸­çæç«¯æåµï¼ ä¾å¦åéå³èå¯¹è±¡åæ¢³çéå½ä¾èµç­ç­ã\n 3. å®¢æ·ç«¯ ï¼Clientï¼ å¯ä»¥å¤å¶å®ç°äºååæ¥å£çä»»ä½å¯¹è±¡ã\n\n\n# ä¼ªä»£ç \n\nå¨æ¬ä¾ä¸­ï¼ ååæ¨¡å¼è½è®©ä½ çæå®å¨ç¸åçå ä½å¯¹è±¡å¯æ¬ï¼ åæ¶æ éä»£ç ä¸å¯¹è±¡æå±ç±»è¦åã\n\n\n\nææå½¢ç¶ç±»é½éµå¾ªåä¸ä¸ªæä¾åéæ¹æ³çæ¥å£ã å¨å¤å¶èªèº«æååéå¼å°ç»æå¯¹è±¡åï¼ å­ç±»å¯è°ç¨å¶ç¶ç±»çåéæ¹æ³ã\n\n// åºç¡ååã\nabstract class Shape is\n    field X: int\n    field Y: int\n    field color: string\n\n    // å¸¸è§æé å½æ°ã\n    constructor Shape() is\n        // ...\n\n    // ååæé å½æ°ãä½¿ç¨å·²æå¯¹è±¡çæ°å¼æ¥åå§åä¸ä¸ªæ°å¯¹è±¡ã\n    constructor Shape(source: Shape) is\n        this()\n        this.X = source.X\n        this.Y = source.Y\n        this.color = source.color\n\n    // cloneï¼åéï¼æä½ä¼è¿åä¸ä¸ªå½¢ç¶å­ç±»ã\n    abstract method clone():Shape\n\n\n// å·ä½ååãåéæ¹æ³ä¼åå»ºä¸ä¸ªæ°å¯¹è±¡å¹¶å°å¶ä¼ éç»æé å½æ°ãç´å°æé å½æ°è¿\n// è¡å®æåï¼å®é½æ¥ææåæ°åéå¯¹è±¡çå¼ç¨ãå æ­¤ï¼ä»»ä½äººé½æ æ³è®¿é®æªå®å¨ç\n// æçåéå¯¹è±¡ãè¿å¯ä»¥ä¿æåéç»æçä¸è´ã\nclass Rectangle extends Shape is\n    field width: int\n    field height: int\n\n    constructor Rectangle(source: Rectangle) is\n        // éè¦è°ç¨ç¶æé å½æ°æ¥å¤å¶ç¶ç±»ä¸­å®ä¹çç§ææååéã\n        super(source)\n        this.width = source.width\n        this.height = source.height\n\n    method clone():Shape is\n        return new Rectangle(this)\n\n\nclass Circle extends Shape is\n    field radius: int\n\n    constructor Circle(source: Circle) is\n        super(source)\n        this.radius = source.radius\n\n    method clone():Shape is\n        return new Circle(this)\n\n\n// å®¢æ·ç«¯ä»£ç ä¸­çæä¸ªä½ç½®ã\nclass Application is\n    field shapes: array of Shape\n\n    constructor Application() is\n        Circle circle = new Circle()\n        circle.X = 10\n        circle.Y = 10\n        circle.radius = 20\n        shapes.add(circle)\n\n        Circle anotherCircle = circle.clone()\n        shapes.add(anotherCircle)\n        // åé `anotherCircleï¼å¦ä¸ä¸ªåï¼`ä¸ `circleï¼åï¼`å¯¹è±¡çå\n        // å®¹å®å¨ä¸æ ·ã\n\n        Rectangle rectangle = new Rectangle()\n        rectangle.width = 10\n        rectangle.height = 20\n        shapes.add(rectangle)\n\n    method businessLogic() is\n        // ååæ¯å¾å¼ºå¤§çä¸è¥¿ï¼å ä¸ºå®è½å¨ä¸ç¥æå¯¹è±¡ç±»åçæåµä¸çæä¸ä¸ªä¸\n        // å¶å®å¨ç¸åçå¤å¶åã\n        Array shapesCopy = new Array of Shapes.\n\n        // ä¾å¦ï¼æä»¬ä¸ç¥æå½¢ç¶æ°ç»ä¸­åç´ çå·ä½ç±»åï¼åªç¥éå®ä»¬é½æ¯å½¢ç¶ã\n        // ä½å¨å¤ææºå¶çå¸®å©ä¸ï¼å½æä»¬å¨æä¸ªå½¢ç¶ä¸è°ç¨ `cloneï¼åéï¼`\n        // æ¹æ³æ¶ï¼ç¨åºä¼æ£æ¥å¶æå±çç±»å¹¶è°ç¨å¶ä¸­æå®ä¹çåéæ¹æ³ãè¿æ ·ï¼\n        // æä»¬å°è·å¾ä¸ä¸ªæ­£ç¡®çå¤å¶åï¼èä¸æ¯ä¸ç»ç®åçå½¢ç¶å¯¹è±¡ã\n        foreach (s in shapes) do\n            shapesCopy.add(s.clone())\n\n        // `shapesCopyï¼å½¢ç¶å¯æ¬ï¼`æ°ç»ä¸­åå« `shapeï¼å½¢ç¶ï¼`æ°ç»ææ\n        // å­åç´ çå¤å¶åã\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ Java ç Cloneable ï¼å¯åéï¼ æ¥å£å°±æ¯ç«å³å¯ç¨çååæ¨¡å¼ã\n\nä»»ä½ç±»é½å¯éè¿å®ç°è¯¥æ¥å£æ¥å®ç°å¯è¢«åéçæ§è´¨ã\n\n * java.lang.Object#clone() ï¼ç±»å¿é¡»å®ç° java.lang.Cloneable æ¥å£ï¼\n\nè¯å«æ¹æ³ï¼ ååå¯ä»¥ç®åå°éè¿ cloneæ copyç­æ¹æ³æ¥è¯å«ã\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * å¨è®¸å¤è®¾è®¡å·¥ä½çåæé½ä¼ä½¿ç¨å·¥åæ¹æ³æ¨¡å¼ ï¼è¾ä¸ºç®åï¼ èä¸å¯ä»¥æ´æ¹ä¾¿å°éè¿å­ç±»è¿è¡å®å¶ï¼ï¼ éåæ¼åä¸ºä½¿ç¨æ½è±¡å·¥åæ¨¡å¼ã ååæ¨¡å¼æçæå¨æ¨¡å¼ ï¼æ´çµæ´»ä½æ´å å¤æï¼ã\n * æ½è±¡å·¥åæ¨¡å¼éå¸¸åºäºä¸ç»å·¥åæ¹æ³ï¼ ä½ä½ ä¹å¯ä»¥ä½¿ç¨ååæ¨¡å¼æ¥çæè¿äºç±»çæ¹æ³ã\n * ååå¯ç¨äºä¿å­å½ä»¤æ¨¡å¼çåå²è®°å½ã\n * å¤§éä½¿ç¨ç»åæ¨¡å¼åè£é¥°æ¨¡å¼çè®¾è®¡éå¸¸å¯ä»å¯¹äºååçä½¿ç¨ä¸­è·çã ä½ å¯ä»¥éè¿è¯¥æ¨¡å¼æ¥å¤å¶å¤æç»æï¼ èéä»é¶å¼å§éæ°æé ã\n * ååå¹¶ä¸åºäºç»§æ¿ï¼ å æ­¤æ²¡æç»§æ¿çç¼ºç¹ã å¦ä¸æ¹é¢ï¼ ååéè¦å¯¹è¢«å¤å¶å¯¹è±¡è¿è¡å¤æçåå§åã å·¥åæ¹æ³åºäºç»§æ¿ï¼ ä½æ¯å®ä¸éè¦åå§åæ­¥éª¤ã\n * ææ¶åååå¯ä»¥ä½ä¸ºå¤å¿å½æ¨¡å¼çä¸ä¸ªç®åçæ¬ï¼ å¶æ¡ä»¶æ¯ä½ éè¦å¨åå²è®°å½ä¸­å­å¨çå¯¹è±¡çç¶ææ¯è¾ç®åï¼ ä¸éè¦é¾æ¥å¶ä»å¤é¨èµæºï¼ æèé¾æ¥å¯ä»¥æ¹ä¾¿å°éå»ºã\n * æ½è±¡å·¥åã çæå¨åååé½å¯ä»¥ç¨åä¾æ¨¡å¼æ¥å®ç°ã\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨",normalizedContent:"# è®¾è®¡æ¨¡å¼ä¹ååæ¨¡å¼\n\n\n# æå¾\n\nååæ¨¡å¼ï¼prototypeï¼æ¯ä¸ç§åå»ºåè®¾è®¡æ¨¡å¼ï¼ ä½¿ä½ è½å¤å¤å¶å·²æå¯¹è±¡ï¼ èåæ éä½¿ä»£ç ä¾èµå®ä»¬æå±çç±»ã\n\nååæ¨¡å¼ä¸»è¦ç¨äºå¯¹è±¡çå¤å¶ï¼å®çæ ¸å¿æ¯å°±æ¯ç±»å¾ä¸­çååç±» prototypeãprototype ç±»éè¦å·å¤ä»¥ä¸ä¸¤ä¸ªæ¡ä»¶ï¼\n\n * å®ç° cloneable æ¥å£ãå¨ java è¯­è¨æä¸ä¸ª cloneable æ¥å£ï¼å®çä½ç¨åªæä¸ä¸ªï¼å°±æ¯å¨è¿è¡æ¶éç¥èææºå¯ä»¥å®å¨å°å¨å®ç°äºæ­¤æ¥å£çç±»ä¸ä½¿ç¨ clone æ¹æ³ãå¨ java èææºä¸­ï¼åªæå®ç°äºè¿ä¸ªæ¥å£çç±»æå¯ä»¥è¢«æ·è´ï¼å¦åå¨è¿è¡æ¶ä¼æåº clonenotsupportedexception å¼å¸¸ã\n * éå object ç±»ä¸­ç clone æ¹æ³ãjava ä¸­ï¼ææç±»çç¶ç±»é½æ¯ object ç±»ï¼object ç±»ä¸­æä¸ä¸ª clone æ¹æ³ï¼ä½ç¨æ¯è¿åå¯¹è±¡çä¸ä¸ªæ·è´ï¼ä½æ¯å¶ä½ç¨å protected ç±»åçï¼ä¸è¬çç±»æ æ³è°ç¨ï¼å æ­¤ï¼prototype ç±»éè¦å° clone æ¹æ³çä½ç¨åä¿®æ¹ä¸º public ç±»åã\n\n\n# æµæ·è´ä¸æ·±æ·è´\n\næµæ·è´æ¯æå½å¯¹è±¡çå­æ®µå¼è¢«å¤å¶æ¶ï¼å­æ®µå¼ç¨çå¯¹è±¡ä¸ä¼è¢«å¤å¶ã\n\nä¾å¦ï¼å¦æä¸ä¸ªå¯¹è±¡æä¸ä¸ªæåå­ç¬¦ä¸²çå­æ®µï¼å¹¶ä¸æä»¬å¯¹è¯¥å¯¹è±¡åäºä¸ä¸ªæµæ·è´ï¼é£éº½ä¸¤ä¸ªå¯¹è±¡å°å¼ç¨åä¸ä¸ªå­ç¬¦ä¸²ã\n\næ·±æ·è´æ¯æå½ä¸ä¸ªç±»æ¥æèµæºï¼å½è¿ä¸ªç±»çå¯¹è±¡åçå¤å¶è¿ç¨çæ¶åï¼èµæºéæ°åéï¼è¿ä¸ªè¿ç¨å°±æ¯æ·±æ·è´ã\n\n\n# éç¨åºæ¯\n\n * å¦æä½ éè¦å¤å¶ä¸äºå¯¹è±¡ï¼ åæ¶åå¸æä»£ç ç¬ç«äºè¿äºå¯¹è±¡æå±çå·ä½ç±»ï¼ å¯ä»¥ä½¿ç¨ååæ¨¡å¼ã\n * å¦æå­ç±»çåºå«ä»å¨äºå¶å¯¹è±¡çåå§åæ¹å¼ï¼ é£ä¹ä½ å¯ä»¥ä½¿ç¨è¯¥æ¨¡å¼æ¥åå°å­ç±»çæ°éã å«äººåå»ºè¿äºå­ç±»çç®çå¯è½æ¯ä¸ºäºåå»ºç¹å®ç±»åçå¯¹è±¡ã\n\n\n# ç»æ\n\n\n\n 1. åå ï¼prototypeï¼ æ¥å£å°å¯¹åéæ¹æ³è¿è¡å£°æã å¨ç»å¤§å¤æ°æåµä¸ï¼ å¶ä¸­åªä¼æä¸ä¸ªåä¸º cloneåéçæ¹æ³ã\n 2. å·ä½åå ï¼concrete prototypeï¼ ç±»å°å®ç°åéæ¹æ³ã é¤äºå°åå§å¯¹è±¡çæ°æ®å¤å¶å°åéä½ä¸­ä¹å¤ï¼ è¯¥æ¹æ³ææ¶è¿éå¤çåéè¿ç¨ä¸­çæç«¯æåµï¼ ä¾å¦åéå³èå¯¹è±¡åæ¢³çéå½ä¾èµç­ç­ã\n 3. å®¢æ·ç«¯ ï¼clientï¼ å¯ä»¥å¤å¶å®ç°äºååæ¥å£çä»»ä½å¯¹è±¡ã\n\n\n# ä¼ªä»£ç \n\nå¨æ¬ä¾ä¸­ï¼ ååæ¨¡å¼è½è®©ä½ çæå®å¨ç¸åçå ä½å¯¹è±¡å¯æ¬ï¼ åæ¶æ éä»£ç ä¸å¯¹è±¡æå±ç±»è¦åã\n\n\n\nææå½¢ç¶ç±»é½éµå¾ªåä¸ä¸ªæä¾åéæ¹æ³çæ¥å£ã å¨å¤å¶èªèº«æååéå¼å°ç»æå¯¹è±¡åï¼ å­ç±»å¯è°ç¨å¶ç¶ç±»çåéæ¹æ³ã\n\n// åºç¡ååã\nabstract class shape is\n    field x: int\n    field y: int\n    field color: string\n\n    // å¸¸è§æé å½æ°ã\n    constructor shape() is\n        // ...\n\n    // ååæé å½æ°ãä½¿ç¨å·²æå¯¹è±¡çæ°å¼æ¥åå§åä¸ä¸ªæ°å¯¹è±¡ã\n    constructor shape(source: shape) is\n        this()\n        this.x = source.x\n        this.y = source.y\n        this.color = source.color\n\n    // cloneï¼åéï¼æä½ä¼è¿åä¸ä¸ªå½¢ç¶å­ç±»ã\n    abstract method clone():shape\n\n\n// å·ä½ååãåéæ¹æ³ä¼åå»ºä¸ä¸ªæ°å¯¹è±¡å¹¶å°å¶ä¼ éç»æé å½æ°ãç´å°æé å½æ°è¿\n// è¡å®æåï¼å®é½æ¥ææåæ°åéå¯¹è±¡çå¼ç¨ãå æ­¤ï¼ä»»ä½äººé½æ æ³è®¿é®æªå®å¨ç\n// æçåéå¯¹è±¡ãè¿å¯ä»¥ä¿æåéç»æçä¸è´ã\nclass rectangle extends shape is\n    field width: int\n    field height: int\n\n    constructor rectangle(source: rectangle) is\n        // éè¦è°ç¨ç¶æé å½æ°æ¥å¤å¶ç¶ç±»ä¸­å®ä¹çç§ææååéã\n        super(source)\n        this.width = source.width\n        this.height = source.height\n\n    method clone():shape is\n        return new rectangle(this)\n\n\nclass circle extends shape is\n    field radius: int\n\n    constructor circle(source: circle) is\n        super(source)\n        this.radius = source.radius\n\n    method clone():shape is\n        return new circle(this)\n\n\n// å®¢æ·ç«¯ä»£ç ä¸­çæä¸ªä½ç½®ã\nclass application is\n    field shapes: array of shape\n\n    constructor application() is\n        circle circle = new circle()\n        circle.x = 10\n        circle.y = 10\n        circle.radius = 20\n        shapes.add(circle)\n\n        circle anothercircle = circle.clone()\n        shapes.add(anothercircle)\n        // åé `anothercircleï¼å¦ä¸ä¸ªåï¼`ä¸ `circleï¼åï¼`å¯¹è±¡çå\n        // å®¹å®å¨ä¸æ ·ã\n\n        rectangle rectangle = new rectangle()\n        rectangle.width = 10\n        rectangle.height = 20\n        shapes.add(rectangle)\n\n    method businesslogic() is\n        // ååæ¯å¾å¼ºå¤§çä¸è¥¿ï¼å ä¸ºå®è½å¨ä¸ç¥æå¯¹è±¡ç±»åçæåµä¸çæä¸ä¸ªä¸\n        // å¶å®å¨ç¸åçå¤å¶åã\n        array shapescopy = new array of shapes.\n\n        // ä¾å¦ï¼æä»¬ä¸ç¥æå½¢ç¶æ°ç»ä¸­åç´ çå·ä½ç±»åï¼åªç¥éå®ä»¬é½æ¯å½¢ç¶ã\n        // ä½å¨å¤ææºå¶çå¸®å©ä¸ï¼å½æä»¬å¨æä¸ªå½¢ç¶ä¸è°ç¨ `cloneï¼åéï¼`\n        // æ¹æ³æ¶ï¼ç¨åºä¼æ£æ¥å¶æå±çç±»å¹¶è°ç¨å¶ä¸­æå®ä¹çåéæ¹æ³ãè¿æ ·ï¼\n        // æä»¬å°è·å¾ä¸ä¸ªæ­£ç¡®çå¤å¶åï¼èä¸æ¯ä¸ç»ç®åçå½¢ç¶å¯¹è±¡ã\n        foreach (s in shapes) do\n            shapescopy.add(s.clone())\n\n        // `shapescopyï¼å½¢ç¶å¯æ¬ï¼`æ°ç»ä¸­åå« `shapeï¼å½¢ç¶ï¼`æ°ç»ææ\n        // å­åç´ çå¤å¶åã\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ java ç cloneable ï¼å¯åéï¼ æ¥å£å°±æ¯ç«å³å¯ç¨çååæ¨¡å¼ã\n\nä»»ä½ç±»é½å¯éè¿å®ç°è¯¥æ¥å£æ¥å®ç°å¯è¢«åéçæ§è´¨ã\n\n * java.lang.object#clone() ï¼ç±»å¿é¡»å®ç° java.lang.cloneable æ¥å£ï¼\n\nè¯å«æ¹æ³ï¼ ååå¯ä»¥ç®åå°éè¿ cloneæ copyç­æ¹æ³æ¥è¯å«ã\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * å¨è®¸å¤è®¾è®¡å·¥ä½çåæé½ä¼ä½¿ç¨å·¥åæ¹æ³æ¨¡å¼ ï¼è¾ä¸ºç®åï¼ èä¸å¯ä»¥æ´æ¹ä¾¿å°éè¿å­ç±»è¿è¡å®å¶ï¼ï¼ éåæ¼åä¸ºä½¿ç¨æ½è±¡å·¥åæ¨¡å¼ã ååæ¨¡å¼æçæå¨æ¨¡å¼ ï¼æ´çµæ´»ä½æ´å å¤æï¼ã\n * æ½è±¡å·¥åæ¨¡å¼éå¸¸åºäºä¸ç»å·¥åæ¹æ³ï¼ ä½ä½ ä¹å¯ä»¥ä½¿ç¨ååæ¨¡å¼æ¥çæè¿äºç±»çæ¹æ³ã\n * ååå¯ç¨äºä¿å­å½ä»¤æ¨¡å¼çåå²è®°å½ã\n * å¤§éä½¿ç¨ç»åæ¨¡å¼åè£é¥°æ¨¡å¼çè®¾è®¡éå¸¸å¯ä»å¯¹äºååçä½¿ç¨ä¸­è·çã ä½ å¯ä»¥éè¿è¯¥æ¨¡å¼æ¥å¤å¶å¤æç»æï¼ èéä»é¶å¼å§éæ°æé ã\n * ååå¹¶ä¸åºäºç»§æ¿ï¼ å æ­¤æ²¡æç»§æ¿çç¼ºç¹ã å¦ä¸æ¹é¢ï¼ ååéè¦å¯¹è¢«å¤å¶å¯¹è±¡è¿è¡å¤æçåå§åã å·¥åæ¹æ³åºäºç»§æ¿ï¼ ä½æ¯å®ä¸éè¦åå§åæ­¥éª¤ã\n * ææ¶åååå¯ä»¥ä½ä¸ºå¤å¿å½æ¨¡å¼çä¸ä¸ªç®åçæ¬ï¼ å¶æ¡ä»¶æ¯ä½ éè¦å¨åå²è®°å½ä¸­å­å¨çå¯¹è±¡çç¶ææ¯è¾ç®åï¼ ä¸éè¦é¾æ¥å¶ä»å¤é¨èµæºï¼ æèé¾æ¥å¯ä»¥æ¹ä¾¿å°éå»ºã\n * æ½è±¡å·¥åã çæå¨åååé½å¯ä»¥ç¨åä¾æ¨¡å¼æ¥å®ç°ã\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼ä¹åä¾æ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼ä¹åä¾æ¨¡å¼",date:"2015-06-03T09:24:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/cf046f/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/06.%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/06.åä¾æ¨¡å¼.md",key:"v-72ea5972",path:"/pages/cf046f/",headers:[{level:2,title:"æå¾",slug:"æå¾",normalizedTitle:"æå¾",charIndex:16},{level:2,title:"éç¨åºæ¯",slug:"éç¨åºæ¯",normalizedTitle:"éç¨åºæ¯",charIndex:744},{level:2,title:"ç»æ",slug:"ç»æ",normalizedTitle:"ç»æ",charIndex:1204},{level:2,title:"ä¼ªä»£ç ",slug:"ä¼ªä»£ç ",normalizedTitle:"ä¼ªä»£ç ",charIndex:1339},{level:2,title:"æ¡ä¾",slug:"æ¡ä¾",normalizedTitle:"æ¡ä¾",charIndex:2485},{level:3,title:"æ°æ®åºè¿æ¥ç±»",slug:"æ°æ®åºè¿æ¥ç±»",normalizedTitle:"æ°æ®åºè¿æ¥ç±»",charIndex:1350},{level:3,title:"ææ±å¼",slug:"ææ±å¼",normalizedTitle:"ææ±å¼",charIndex:3859},{level:3,title:"é¥¿æ±å¼",slug:"é¥¿æ±å¼",normalizedTitle:"é¥¿æ±å¼",charIndex:4387},{level:3,title:"åééçå½¢å¼",slug:"åééçå½¢å¼",normalizedTitle:"åééçå½¢å¼",charIndex:4816},{level:2,title:"ä¸å¶ä»æ¨¡å¼çå³ç³»",slug:"ä¸å¶ä»æ¨¡å¼çå³ç³»",normalizedTitle:"ä¸å¶ä»æ¨¡å¼çå³ç³»",charIndex:5554},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:5778}],headersStr:"æå¾ éç¨åºæ¯ ç»æ ä¼ªä»£ç  æ¡ä¾ æ°æ®åºè¿æ¥ç±» ææ±å¼ é¥¿æ±å¼ åééçå½¢å¼ ä¸å¶ä»æ¨¡å¼çå³ç³» åèèµæ",content:'# è®¾è®¡æ¨¡å¼ä¹åä¾æ¨¡å¼\n\n\n# æå¾\n\nåä¾æ¨¡å¼ï¼Singletonï¼æ¯ä¸ç§åå»ºåè®¾è®¡æ¨¡å¼ï¼ è®©ä½ è½å¤ä¿è¯ä¸ä¸ªç±»åªæä¸ä¸ªå®ä¾ï¼ å¹¶æä¾ä¸ä¸ªè®¿é®è¯¥å®ä¾çå¨å±èç¹ã\n\nåä¾ ï¼Singletonï¼ ç±»å£°æäºä¸ä¸ªåä¸º getÂ­Instance è·åå®ä¾çéææ¹æ³æ¥è¿åå¶æå±ç±»çä¸ä¸ªç¸åå®ä¾ã\n\nåä¾çæé å½æ°å¿é¡»å¯¹å®¢æ·ç«¯ ï¼Clientï¼ ä»£ç éèã è°ç¨ getÂ­Instance æ¹æ³å¿é¡»æ¯è·ååä¾å¯¹è±¡çå¯ä¸æ¹å¼ã\n\nææåä¾çå®ç°é½åå«ä»¥ä¸ä¸¤ä¸ªç¸åçæ­¥éª¤ï¼\n\n * å°é»è®¤æé å½æ°è®¾ä¸ºç§æï¼ é²æ­¢å¶ä»å¯¹è±¡ä½¿ç¨åä¾ç±»ç newè¿ç®ç¬¦ã\n * æ°å»ºä¸ä¸ªéææå»ºæ¹æ³ä½ä¸ºæé å½æ°ã è¯¥å½æ°ä¼ âå·å·â è°ç¨ç§ææé å½æ°æ¥åå»ºå¯¹è±¡ï¼ å¹¶å°å¶ä¿å­å¨ä¸ä¸ªéææååéä¸­ã æ­¤åææå¯¹äºè¯¥å½æ°çè°ç¨é½å°è¿åè¿ä¸ç¼å­å¯¹è±¡ã\n\nå¦æä½ çä»£ç è½å¤è®¿é®åä¾ç±»ï¼ é£å®å°±è½è°ç¨åä¾ç±»çéææ¹æ³ã æ è®ºä½æ¶è°ç¨è¯¥æ¹æ³ï¼ å®æ»æ¯ä¼è¿åç¸åçå¯¹è±¡ã\n\nåä¾æ¨¡å¼çä¼ç¹ï¼\n\n * â ä½ å¯ä»¥ä¿è¯ä¸ä¸ªç±»åªæä¸ä¸ªå®ä¾ã\n * â ä½ è·å¾äºä¸ä¸ªæåè¯¥å®ä¾çå¨å±è®¿é®èç¹ã\n * â ä»å¨é¦æ¬¡è¯·æ±åä¾å¯¹è±¡æ¶å¯¹å¶è¿è¡åå§åã\n\nåä¾æ¨¡å¼çç¼ºç¹ï¼\n\n * â è¿åäºåä¸èè´£ååã è¯¥æ¨¡å¼åæ¶è§£å³äºä¸¤ä¸ªé®é¢ã\n * â åä¾æ¨¡å¼å¯è½æ©çä¸è¯è®¾è®¡ï¼ æ¯å¦ç¨åºåç»ä»¶ä¹é´ç¸äºäºè§£è¿å¤ç­ã\n * â è¯¥æ¨¡å¼å¨å¤çº¿ç¨ç¯å¢ä¸éè¦è¿è¡ç¹æ®å¤çï¼ é¿åå¤ä¸ªçº¿ç¨å¤æ¬¡åå»ºåä¾å¯¹è±¡ã\n * â åä¾çå®¢æ·ç«¯ä»£ç ååæµè¯å¯è½ä¼æ¯è¾å°é¾ï¼ å ä¸ºè®¸å¤æµè¯æ¡æ¶ä»¥åºäºç»§æ¿çæ¹å¼åå»ºæ¨¡æå¯¹è±¡ã ç±äºåä¾ç±»çæé å½æ°æ¯ç§æçï¼ èä¸ç»å¤§é¨åè¯­è¨æ æ³éåéææ¹æ³ï¼ æä»¥ä½ éè¦æ³åºä»ç»èèæ¨¡æåä¾çæ¹æ³ã è¦ä¹å¹²èä¸ç¼åæµè¯ä»£ç ï¼ æèä¸ä½¿ç¨åä¾æ¨¡å¼ã\n\n\n# éç¨åºæ¯\n\n * å¦æç¨åºä¸­çæä¸ªç±»å¯¹äºææå®¢æ·ç«¯åªæä¸ä¸ªå¯ç¨çå®ä¾ï¼ å¯ä»¥ä½¿ç¨åä¾æ¨¡å¼ã â¡ åä¾æ¨¡å¼ç¦æ­¢éè¿é¤ç¹æ®æå»ºæ¹æ³ä»¥å¤çä»»ä½æ¹å¼æ¥åå»ºèªèº«ç±»çå¯¹è±¡ã è¯¥æ¹æ³å¯ä»¥åå»ºä¸ä¸ªæ°å¯¹è±¡ï¼ ä½å¦æè¯¥å¯¹è±¡å·²ç»è¢«åå»ºï¼ åè¿åå·²æçå¯¹è±¡ã\n * å¦æä½ éè¦æ´å ä¸¥æ ¼å°æ§å¶å¨å±åéï¼ å¯ä»¥ä½¿ç¨åä¾æ¨¡å¼ã â¡ åä¾æ¨¡å¼ä¸å¨å±åéä¸åï¼ å®ä¿è¯ç±»åªå­å¨ä¸ä¸ªå®ä¾ã é¤äºåä¾ç±»èªå·±ä»¥å¤ï¼ æ æ³éè¿ä»»ä½æ¹å¼æ¿æ¢ç¼å­çå®ä¾ã\n\nè¯·æ³¨æï¼ ä½ å¯ä»¥éæ¶è°æ´éå¶å¹¶è®¾å®çæåä¾å®ä¾çæ°éï¼ åªéä¿®æ¹ è·åå®ä¾ æ¹æ³ï¼ å³ getInstance ä¸­çä»£ç å³å¯å®ç°ã\n\nä¸¾ä¾æ¥è¯´ï¼ä¸äºèµæºç®¡çå¨å¸¸å¸¸è®¾è®¡æåä¾æ¨¡å¼ã\n\nå¨è®¡ç®æºç³»ç»ä¸­ï¼éè¦ç®¡ççèµæºåæ¬è½¯ä»¶å¤é¨èµæºï¼è­¬å¦æ¯å°è®¡ç®æºå¯ä»¥æè¥å¹²ä¸ªæå°æºï¼ä½åªè½æä¸ä¸ª Printer Spoolerï¼ ä»¥é¿åä¸¤ä¸ªæå°ä½ä¸åæ¶è¾åºå°æå°æºä¸­ã\n\næ¯å°è®¡ç®æºå¯ä»¥æè¥å¹²éä¿¡ç«¯å£ï¼ç³»ç»åºå½éä¸­ç®¡çè¿äºéä¿¡ç«¯å£ï¼ä»¥é¿åä¸ä¸ªéä¿¡ç«¯å£åæ¶è¢«ä¸¤ä¸ªè¯·æ±åæ¶è°ç¨ãä»»å¡ç®¡çå¨ä¸­é¾ä»¥å¯å¨ä¸¤ä¸ªç¸åç taskã\n\n\n# ç»æ\n\n\n\n 1. åä¾ ï¼Singletonï¼ ç±»å£°æäºä¸ä¸ªåä¸º getÂ­Instanceè·åå®ä¾çéææ¹æ³æ¥è¿åå¶æå±ç±»çä¸ä¸ªç¸åå®ä¾ã\n    * åä¾çæé å½æ°å¿é¡»å¯¹å®¢æ·ç«¯ ï¼Clientï¼ ä»£ç éèã è°ç¨ è·åå®ä¾æ¹æ³å¿é¡»æ¯è·ååä¾å¯¹è±¡çå¯ä¸æ¹å¼ã\n\n\n# ä¼ªä»£ç \n\nå¨æ¬ä¾ä¸­ï¼ æ°æ®åºè¿æ¥ç±»å³æ¯ä¸ä¸ªåä¾ã\n\nè¯¥ç±»ä¸æä¾å¬ææé å½æ°ï¼ å æ­¤è·åè¯¥å¯¹è±¡çå¯ä¸æ¹å¼æ¯è°ç¨ è·åå®ä¾æ¹æ³ã è¯¥æ¹æ³å°ç¼å­é¦æ¬¡çæçå¯¹è±¡ï¼ å¹¶ä¸ºææåç»­è°ç¨è¿åè¯¥å¯¹è±¡ã\n\n// æ°æ®åºç±»ä¼å¯¹`getInstanceï¼è·åå®ä¾ï¼`æ¹æ³è¿è¡å®ä¹ä»¥è®©å®¢æ·ç«¯å¨ç¨åºåå¤\n// é½è½è®¿é®ç¸åçæ°æ®åºè¿æ¥å®ä¾ã\nclass Database is\n    // ä¿å­åä¾å®ä¾çæååéå¿é¡»è¢«å£°æä¸ºéæç±»åã\n    private static field instance: Database\n\n    // åä¾çæé å½æ°å¿é¡»æ°¸è¿æ¯ç§æç±»åï¼ä»¥é²æ­¢ä½¿ç¨`new`è¿ç®ç¬¦ç´æ¥è°ç¨æ\n    // é æ¹æ³ã\n    private constructor Database() is\n        // é¨ååå§åä»£ç ï¼ä¾å¦å°æ°æ®åºæå¡å¨çå®éè¿æ¥ï¼ã\n        // ...\n\n    // ç¨äºæ§å¶å¯¹åä¾å®ä¾çè®¿é®æéçéææ¹æ³ã\n    public static method getInstance() is\n        if (Database.instance == null) then\n            acquireThreadLock() and then\n                // ç¡®ä¿å¨è¯¥çº¿ç¨ç­å¾è§£éæ¶ï¼å¶ä»çº¿ç¨æ²¡æåå§åè¯¥å®ä¾ã\n                if (Database.instance == null) then\n                    Database.instance = new Database()\n        return Database.instance\n\n    // æåï¼ä»»ä½åä¾é½å¿é¡»å®ä¹ä¸äºå¯å¨å¶å®ä¾ä¸æ§è¡çä¸å¡é»è¾ã\n    public method query(sql) is\n        // æ¯å¦åºç¨çæææ°æ®åºæ¥è¯¢è¯·æ±é½éè¦éè¿è¯¥æ¹æ³è¿è¡ãå æ­¤ï¼ä½ å¯ä»¥\n        // å¨è¿éæ·»å éæµæç¼å²é»è¾ã\n        // ...\n\nclass Application is\n    method main() is\n        Database foo = Database.getInstance()\n        foo.query("SELECT ...")\n        // ...\n        Database bar = Database.getInstance()\n        bar.query("SELECT ...")\n        // åé `bar` å `foo` ä¸­å°åå«åä¸ä¸ªå¯¹è±¡ã\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ è®¸å¤å¼åèå°åä¾æ¨¡å¼è§ä¸ºä¸ç§åæ¨¡å¼ã å æ­¤å®å¨ Java ä»£ç ä¸­çä½¿ç¨é¢çæ­£å¨éæ­¥åå°ã\n\nå°½ç®¡å¦æ­¤ï¼ Java æ ¸å¿ç¨åºåºä¸­ä»æç¸å½å¤çåä¾ç¤ºä¾ï¼\n\n * java.lang.Runtime#getRuntime()\n * java.awt.Desktop#getDesktop()\n * java.lang.System#getSecurityManager()\n\nè¯å«æ¹æ³ï¼ åä¾å¯ä»¥éè¿è¿åç¸åç¼å­å¯¹è±¡çéææå»ºæ¹æ³æ¥è¯å«ã\n\n\n# æ°æ®åºè¿æ¥ç±»\n\næ°æ®åºè¿æ¥ç±»å³æ¯ä¸ä¸ªåä¾ã\n\nè¯¥ç±»ä¸æä¾å¬ææé å½æ°ï¼ å æ­¤è·åè¯¥å¯¹è±¡çå¯ä¸æ¹å¼æ¯è°ç¨ è·åå®ä¾æ¹æ³ã è¯¥æ¹æ³å°ç¼å­é¦æ¬¡çæçå¯¹è±¡ï¼ å¹¶ä¸ºææåç»­è°ç¨è¿åè¯¥å¯¹è±¡ã\n\n// æ°æ®åºç±»ä¼å¯¹`getInstanceï¼è·åå®ä¾ï¼`æ¹æ³è¿è¡å®ä¹ä»¥è®©å®¢æ·ç«¯å¨ç¨åºåå¤\n// é½è½è®¿é®ç¸åçæ°æ®åºè¿æ¥å®ä¾ã\nclass Database is\n    // ä¿å­åä¾å®ä¾çæååéå¿é¡»è¢«å£°æä¸ºéæç±»åã\n    private static field instance: Database\n\n    // åä¾çæé å½æ°å¿é¡»æ°¸è¿æ¯ç§æç±»åï¼ä»¥é²æ­¢ä½¿ç¨`new`è¿ç®ç¬¦ç´æ¥è°ç¨æ\n    // é æ¹æ³ã\n    private constructor Database() is\n        // é¨ååå§åä»£ç ï¼ä¾å¦å°æ°æ®åºæå¡å¨çå®éè¿æ¥ï¼ã\n        // ...\n\n    // ç¨äºæ§å¶å¯¹åä¾å®ä¾çè®¿é®æéçéææ¹æ³ã\n    public static method getInstance() is\n        if (Database.instance == null) then\n            acquireThreadLock() and then\n                // ç¡®ä¿å¨è¯¥çº¿ç¨ç­å¾è§£éæ¶ï¼å¶ä»çº¿ç¨æ²¡æåå§åè¯¥å®ä¾ã\n                if (Database.instance == null) then\n                    Database.instance = new Database()\n        return Database.instance\n\n    // æåï¼ä»»ä½åä¾é½å¿é¡»å®ä¹ä¸äºå¯å¨å¶å®ä¾ä¸æ§è¡çä¸å¡é»è¾ã\n    public method query(sql) is\n        // æ¯å¦åºç¨çæææ°æ®åºæ¥è¯¢è¯·æ±é½éè¦éè¿è¯¥æ¹æ³è¿è¡ãå æ­¤ï¼ä½ å¯ä»¥\n        // å¨è¿éæ·»å éæµæç¼å²é»è¾ã\n        // ...\n\nclass Application is\n    method main() is\n        Database foo = Database.getInstance()\n        foo.query("SELECT ...")\n        // ...\n        Database bar = Database.getInstance()\n        bar.query("SELECT ...")\n        // åé `bar` å `foo` ä¸­å°åå«åä¸ä¸ªå¯¹è±¡ã\n\n\n\n# ææ±å¼\n\nææ±å¼çå®ç°æè·¯æ¯ï¼ä½ ä¸æ¾ææ±ï¼ææ±æ ¹æ¬å°±æå¾å»åå§åèªå·±ã\n\ninstance åå§æ¶æ²¡æåå§åï¼åªæå½ç¬¬ä¸æ¬¡è° getInstance() æ¶æåå»ºå®ä¾ã\n\nç¼ºç¹ï¼å½æä¸¤ä¸ªçº¿ç¨è° getInstance() æ¹æ³ï¼å½å®ä»¬åæ¶æ§è¡å° if (null == instance) è¿è¡ä»£ç ï¼instance ä¸º nullã\n\nç»§ç»­åä¸æ§è¡ï¼ä¼çæä¸¤ä¸ªå®ä¾ï¼è¿èäºåä¾æ¨¡å¼çåè¡·ã\n\npublic class LazySingleton {\n    private LazySingleton() {\n        System.out.println("Singleton()");\n    }\n\n    private static LazySingleton instance = null;\n\n    public static LazySingleton getInstance() {\n        if (null == instance) {\n            instance = new LazySingleton();\n        }\n        return instance;\n    }\n}\n\n\n\n# é¥¿æ±å¼\n\nææ±å¼çå®ç°æè·¯æ¯ï¼é¥¿æ±æ ¹æ¬ç­ä¸åå«äººæ¥æ¾ä»ï¼ä¸ç®¡ä¸ä¸äºåä¸ååå§åäºèªèº«çå®ä¾ï¼çæèªå·±é¥¿çäºã\n\nç±»é»è®¤åç´æ¥åå§åä¸ä¸ªå®ä¾ï¼ä»¥åè°ç¨ getInstance() æ»æ¯è¿åè¿ä¸ªå·²åå»ºå¥½çå®ä¾ã\n\nç¼ºç¹ï¼å¨æ²¡æå¿è¦è·åå®ä¾æ¶ï¼å·²ç»é¢åäº§çäºå¼éã\n\nä¼ç¹ï¼è§é¿äºææ±å¼æ¹æ³ççº¿ç¨é®é¢ï¼ä¸ç¨æ¾ç¤ºç¼åçº¿ç¨å®å¨ä»£ç ã\n\npublic class HungerSinleton {\n    private HungerSinleton() {\n        System.out.println("Singleton()");\n    }\n\n    private static HungerSinleton instance = new HungerSinleton();\n\n    public static HungerSinleton getInstance() {\n        return instance;\n    }\n}\n\n\n\n# åééçå½¢å¼\n\nå¦ææ¢ä¸æ³å¨æ²¡æè°ç¨ getInstance() æ¹æ³æ¶äº§çå¼éï¼åä¸æ³åççº¿ç¨å®å¨é®é¢ï¼å°±å¯ä»¥éç¨åééçå½¢å¼ã\n\npublic class SyncSingleton {\n    private SyncSingleton() {\n        System.out.println("Singleton()");\n    }\n\n    private static SyncSingleton instance = null;\n\n    public static SyncSingleton getInstance() {\n        if (null == instance) {\n            synchronized(SyncSingleton.class) {\n                if (null == instance) {\n                    instance = new SyncSingleton();\n                }\n            }\n        }\n        return instance;\n    }\n}\n\n\n> æ³¨ï¼å¨å¤é¢å¤æ­äº instance å®ä¾æ¯å¦å­å¨ï¼ä¸ºä»ä¹å¨éå®ååè¦å¨åé¨åå¤æ­ä¸æ¬¡ï¼\n> \n> è¿æ¯å ä¸ºï¼å¦æ instance ä¸º null æ¶æä¸¤ä¸ªçº¿ç¨åæ¶è°ç¨ getInstance()ï¼ç±äº synchronized æºå¶ï¼åªåè®¸ä¸ä¸ªçº¿ç¨è¿å¥ï¼å¦ä¸ä¸ªéè¦ç­å¾ã\n> \n> è¿æ¶å¦ææ²¡æç¬¬äºé instance æ¯å¦ä¸º null çå¤æ­ï¼å°±å¯è½åçç¬¬ä¸ä¸ªçº¿ç¨åå»ºä¸ä¸ªå®ä¾ï¼èç¬¬äºä¸ªçº¿ç¨ååå»ºä¸ä¸ªå®ä¾çæåµã\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * å¤è§æ¨¡å¼ç±»éå¸¸å¯ä»¥è½¬æ¢ä¸ºåä¾æ¨¡å¼ç±»ï¼ å ä¸ºå¨å¤§é¨åæåµä¸ä¸ä¸ªå¤è§å¯¹è±¡å°±è¶³å¤äºã\n * å¦æä½ è½å°å¯¹è±¡çææå±äº«ç¶æç®åä¸ºä¸ä¸ªäº«åå¯¹è±¡ï¼ é£ä¹äº«åæ¨¡å¼å°±ååä¾ç±»ä¼¼äºã ä½è¿ä¸¤ä¸ªæ¨¡å¼æä¸¤ä¸ªæ ¹æ¬æ§çä¸åã\n   1. åªä¼æä¸ä¸ªåä¾å®ä½ï¼ ä½æ¯äº«åç±»å¯ä»¥æå¤ä¸ªå®ä½ï¼ åå®ä½çåå¨ç¶æä¹å¯ä»¥ä¸åã\n   2. åä¾å¯¹è±¡å¯ä»¥æ¯å¯åçã äº«åå¯¹è±¡æ¯ä¸å¯åçã\n * æ½è±¡å·¥åæ¨¡å¼ã çæå¨æ¨¡å¼åååæ¨¡å¼é½å¯ä»¥ç¨åä¾æ¥å®ç°ã\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',normalizedContent:'# è®¾è®¡æ¨¡å¼ä¹åä¾æ¨¡å¼\n\n\n# æå¾\n\nåä¾æ¨¡å¼ï¼singletonï¼æ¯ä¸ç§åå»ºåè®¾è®¡æ¨¡å¼ï¼ è®©ä½ è½å¤ä¿è¯ä¸ä¸ªç±»åªæä¸ä¸ªå®ä¾ï¼ å¹¶æä¾ä¸ä¸ªè®¿é®è¯¥å®ä¾çå¨å±èç¹ã\n\nåä¾ ï¼singletonï¼ ç±»å£°æäºä¸ä¸ªåä¸º getÂ­instance è·åå®ä¾çéææ¹æ³æ¥è¿åå¶æå±ç±»çä¸ä¸ªç¸åå®ä¾ã\n\nåä¾çæé å½æ°å¿é¡»å¯¹å®¢æ·ç«¯ ï¼clientï¼ ä»£ç éèã è°ç¨ getÂ­instance æ¹æ³å¿é¡»æ¯è·ååä¾å¯¹è±¡çå¯ä¸æ¹å¼ã\n\nææåä¾çå®ç°é½åå«ä»¥ä¸ä¸¤ä¸ªç¸åçæ­¥éª¤ï¼\n\n * å°é»è®¤æé å½æ°è®¾ä¸ºç§æï¼ é²æ­¢å¶ä»å¯¹è±¡ä½¿ç¨åä¾ç±»ç newè¿ç®ç¬¦ã\n * æ°å»ºä¸ä¸ªéææå»ºæ¹æ³ä½ä¸ºæé å½æ°ã è¯¥å½æ°ä¼ âå·å·â è°ç¨ç§ææé å½æ°æ¥åå»ºå¯¹è±¡ï¼ å¹¶å°å¶ä¿å­å¨ä¸ä¸ªéææååéä¸­ã æ­¤åææå¯¹äºè¯¥å½æ°çè°ç¨é½å°è¿åè¿ä¸ç¼å­å¯¹è±¡ã\n\nå¦æä½ çä»£ç è½å¤è®¿é®åä¾ç±»ï¼ é£å®å°±è½è°ç¨åä¾ç±»çéææ¹æ³ã æ è®ºä½æ¶è°ç¨è¯¥æ¹æ³ï¼ å®æ»æ¯ä¼è¿åç¸åçå¯¹è±¡ã\n\nåä¾æ¨¡å¼çä¼ç¹ï¼\n\n * â ä½ å¯ä»¥ä¿è¯ä¸ä¸ªç±»åªæä¸ä¸ªå®ä¾ã\n * â ä½ è·å¾äºä¸ä¸ªæåè¯¥å®ä¾çå¨å±è®¿é®èç¹ã\n * â ä»å¨é¦æ¬¡è¯·æ±åä¾å¯¹è±¡æ¶å¯¹å¶è¿è¡åå§åã\n\nåä¾æ¨¡å¼çç¼ºç¹ï¼\n\n * â è¿åäºåä¸èè´£ååã è¯¥æ¨¡å¼åæ¶è§£å³äºä¸¤ä¸ªé®é¢ã\n * â åä¾æ¨¡å¼å¯è½æ©çä¸è¯è®¾è®¡ï¼ æ¯å¦ç¨åºåç»ä»¶ä¹é´ç¸äºäºè§£è¿å¤ç­ã\n * â è¯¥æ¨¡å¼å¨å¤çº¿ç¨ç¯å¢ä¸éè¦è¿è¡ç¹æ®å¤çï¼ é¿åå¤ä¸ªçº¿ç¨å¤æ¬¡åå»ºåä¾å¯¹è±¡ã\n * â åä¾çå®¢æ·ç«¯ä»£ç ååæµè¯å¯è½ä¼æ¯è¾å°é¾ï¼ å ä¸ºè®¸å¤æµè¯æ¡æ¶ä»¥åºäºç»§æ¿çæ¹å¼åå»ºæ¨¡æå¯¹è±¡ã ç±äºåä¾ç±»çæé å½æ°æ¯ç§æçï¼ èä¸ç»å¤§é¨åè¯­è¨æ æ³éåéææ¹æ³ï¼ æä»¥ä½ éè¦æ³åºä»ç»èèæ¨¡æåä¾çæ¹æ³ã è¦ä¹å¹²èä¸ç¼åæµè¯ä»£ç ï¼ æèä¸ä½¿ç¨åä¾æ¨¡å¼ã\n\n\n# éç¨åºæ¯\n\n * å¦æç¨åºä¸­çæä¸ªç±»å¯¹äºææå®¢æ·ç«¯åªæä¸ä¸ªå¯ç¨çå®ä¾ï¼ å¯ä»¥ä½¿ç¨åä¾æ¨¡å¼ã â¡ åä¾æ¨¡å¼ç¦æ­¢éè¿é¤ç¹æ®æå»ºæ¹æ³ä»¥å¤çä»»ä½æ¹å¼æ¥åå»ºèªèº«ç±»çå¯¹è±¡ã è¯¥æ¹æ³å¯ä»¥åå»ºä¸ä¸ªæ°å¯¹è±¡ï¼ ä½å¦æè¯¥å¯¹è±¡å·²ç»è¢«åå»ºï¼ åè¿åå·²æçå¯¹è±¡ã\n * å¦æä½ éè¦æ´å ä¸¥æ ¼å°æ§å¶å¨å±åéï¼ å¯ä»¥ä½¿ç¨åä¾æ¨¡å¼ã â¡ åä¾æ¨¡å¼ä¸å¨å±åéä¸åï¼ å®ä¿è¯ç±»åªå­å¨ä¸ä¸ªå®ä¾ã é¤äºåä¾ç±»èªå·±ä»¥å¤ï¼ æ æ³éè¿ä»»ä½æ¹å¼æ¿æ¢ç¼å­çå®ä¾ã\n\nè¯·æ³¨æï¼ ä½ å¯ä»¥éæ¶è°æ´éå¶å¹¶è®¾å®çæåä¾å®ä¾çæ°éï¼ åªéä¿®æ¹ è·åå®ä¾ æ¹æ³ï¼ å³ getinstance ä¸­çä»£ç å³å¯å®ç°ã\n\nä¸¾ä¾æ¥è¯´ï¼ä¸äºèµæºç®¡çå¨å¸¸å¸¸è®¾è®¡æåä¾æ¨¡å¼ã\n\nå¨è®¡ç®æºç³»ç»ä¸­ï¼éè¦ç®¡ççèµæºåæ¬è½¯ä»¶å¤é¨èµæºï¼è­¬å¦æ¯å°è®¡ç®æºå¯ä»¥æè¥å¹²ä¸ªæå°æºï¼ä½åªè½æä¸ä¸ª printer spoolerï¼ ä»¥é¿åä¸¤ä¸ªæå°ä½ä¸åæ¶è¾åºå°æå°æºä¸­ã\n\næ¯å°è®¡ç®æºå¯ä»¥æè¥å¹²éä¿¡ç«¯å£ï¼ç³»ç»åºå½éä¸­ç®¡çè¿äºéä¿¡ç«¯å£ï¼ä»¥é¿åä¸ä¸ªéä¿¡ç«¯å£åæ¶è¢«ä¸¤ä¸ªè¯·æ±åæ¶è°ç¨ãä»»å¡ç®¡çå¨ä¸­é¾ä»¥å¯å¨ä¸¤ä¸ªç¸åç taskã\n\n\n# ç»æ\n\n\n\n 1. åä¾ ï¼singletonï¼ ç±»å£°æäºä¸ä¸ªåä¸º getÂ­instanceè·åå®ä¾çéææ¹æ³æ¥è¿åå¶æå±ç±»çä¸ä¸ªç¸åå®ä¾ã\n    * åä¾çæé å½æ°å¿é¡»å¯¹å®¢æ·ç«¯ ï¼clientï¼ ä»£ç éèã è°ç¨ è·åå®ä¾æ¹æ³å¿é¡»æ¯è·ååä¾å¯¹è±¡çå¯ä¸æ¹å¼ã\n\n\n# ä¼ªä»£ç \n\nå¨æ¬ä¾ä¸­ï¼ æ°æ®åºè¿æ¥ç±»å³æ¯ä¸ä¸ªåä¾ã\n\nè¯¥ç±»ä¸æä¾å¬ææé å½æ°ï¼ å æ­¤è·åè¯¥å¯¹è±¡çå¯ä¸æ¹å¼æ¯è°ç¨ è·åå®ä¾æ¹æ³ã è¯¥æ¹æ³å°ç¼å­é¦æ¬¡çæçå¯¹è±¡ï¼ å¹¶ä¸ºææåç»­è°ç¨è¿åè¯¥å¯¹è±¡ã\n\n// æ°æ®åºç±»ä¼å¯¹`getinstanceï¼è·åå®ä¾ï¼`æ¹æ³è¿è¡å®ä¹ä»¥è®©å®¢æ·ç«¯å¨ç¨åºåå¤\n// é½è½è®¿é®ç¸åçæ°æ®åºè¿æ¥å®ä¾ã\nclass database is\n    // ä¿å­åä¾å®ä¾çæååéå¿é¡»è¢«å£°æä¸ºéæç±»åã\n    private static field instance: database\n\n    // åä¾çæé å½æ°å¿é¡»æ°¸è¿æ¯ç§æç±»åï¼ä»¥é²æ­¢ä½¿ç¨`new`è¿ç®ç¬¦ç´æ¥è°ç¨æ\n    // é æ¹æ³ã\n    private constructor database() is\n        // é¨ååå§åä»£ç ï¼ä¾å¦å°æ°æ®åºæå¡å¨çå®éè¿æ¥ï¼ã\n        // ...\n\n    // ç¨äºæ§å¶å¯¹åä¾å®ä¾çè®¿é®æéçéææ¹æ³ã\n    public static method getinstance() is\n        if (database.instance == null) then\n            acquirethreadlock() and then\n                // ç¡®ä¿å¨è¯¥çº¿ç¨ç­å¾è§£éæ¶ï¼å¶ä»çº¿ç¨æ²¡æåå§åè¯¥å®ä¾ã\n                if (database.instance == null) then\n                    database.instance = new database()\n        return database.instance\n\n    // æåï¼ä»»ä½åä¾é½å¿é¡»å®ä¹ä¸äºå¯å¨å¶å®ä¾ä¸æ§è¡çä¸å¡é»è¾ã\n    public method query(sql) is\n        // æ¯å¦åºç¨çæææ°æ®åºæ¥è¯¢è¯·æ±é½éè¦éè¿è¯¥æ¹æ³è¿è¡ãå æ­¤ï¼ä½ å¯ä»¥\n        // å¨è¿éæ·»å éæµæç¼å²é»è¾ã\n        // ...\n\nclass application is\n    method main() is\n        database foo = database.getinstance()\n        foo.query("select ...")\n        // ...\n        database bar = database.getinstance()\n        bar.query("select ...")\n        // åé `bar` å `foo` ä¸­å°åå«åä¸ä¸ªå¯¹è±¡ã\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ è®¸å¤å¼åèå°åä¾æ¨¡å¼è§ä¸ºä¸ç§åæ¨¡å¼ã å æ­¤å®å¨ java ä»£ç ä¸­çä½¿ç¨é¢çæ­£å¨éæ­¥åå°ã\n\nå°½ç®¡å¦æ­¤ï¼ java æ ¸å¿ç¨åºåºä¸­ä»æç¸å½å¤çåä¾ç¤ºä¾ï¼\n\n * java.lang.runtime#getruntime()\n * java.awt.desktop#getdesktop()\n * java.lang.system#getsecuritymanager()\n\nè¯å«æ¹æ³ï¼ åä¾å¯ä»¥éè¿è¿åç¸åç¼å­å¯¹è±¡çéææå»ºæ¹æ³æ¥è¯å«ã\n\n\n# æ°æ®åºè¿æ¥ç±»\n\næ°æ®åºè¿æ¥ç±»å³æ¯ä¸ä¸ªåä¾ã\n\nè¯¥ç±»ä¸æä¾å¬ææé å½æ°ï¼ å æ­¤è·åè¯¥å¯¹è±¡çå¯ä¸æ¹å¼æ¯è°ç¨ è·åå®ä¾æ¹æ³ã è¯¥æ¹æ³å°ç¼å­é¦æ¬¡çæçå¯¹è±¡ï¼ å¹¶ä¸ºææåç»­è°ç¨è¿åè¯¥å¯¹è±¡ã\n\n// æ°æ®åºç±»ä¼å¯¹`getinstanceï¼è·åå®ä¾ï¼`æ¹æ³è¿è¡å®ä¹ä»¥è®©å®¢æ·ç«¯å¨ç¨åºåå¤\n// é½è½è®¿é®ç¸åçæ°æ®åºè¿æ¥å®ä¾ã\nclass database is\n    // ä¿å­åä¾å®ä¾çæååéå¿é¡»è¢«å£°æä¸ºéæç±»åã\n    private static field instance: database\n\n    // åä¾çæé å½æ°å¿é¡»æ°¸è¿æ¯ç§æç±»åï¼ä»¥é²æ­¢ä½¿ç¨`new`è¿ç®ç¬¦ç´æ¥è°ç¨æ\n    // é æ¹æ³ã\n    private constructor database() is\n        // é¨ååå§åä»£ç ï¼ä¾å¦å°æ°æ®åºæå¡å¨çå®éè¿æ¥ï¼ã\n        // ...\n\n    // ç¨äºæ§å¶å¯¹åä¾å®ä¾çè®¿é®æéçéææ¹æ³ã\n    public static method getinstance() is\n        if (database.instance == null) then\n            acquirethreadlock() and then\n                // ç¡®ä¿å¨è¯¥çº¿ç¨ç­å¾è§£éæ¶ï¼å¶ä»çº¿ç¨æ²¡æåå§åè¯¥å®ä¾ã\n                if (database.instance == null) then\n                    database.instance = new database()\n        return database.instance\n\n    // æåï¼ä»»ä½åä¾é½å¿é¡»å®ä¹ä¸äºå¯å¨å¶å®ä¾ä¸æ§è¡çä¸å¡é»è¾ã\n    public method query(sql) is\n        // æ¯å¦åºç¨çæææ°æ®åºæ¥è¯¢è¯·æ±é½éè¦éè¿è¯¥æ¹æ³è¿è¡ãå æ­¤ï¼ä½ å¯ä»¥\n        // å¨è¿éæ·»å éæµæç¼å²é»è¾ã\n        // ...\n\nclass application is\n    method main() is\n        database foo = database.getinstance()\n        foo.query("select ...")\n        // ...\n        database bar = database.getinstance()\n        bar.query("select ...")\n        // åé `bar` å `foo` ä¸­å°åå«åä¸ä¸ªå¯¹è±¡ã\n\n\n\n# ææ±å¼\n\nææ±å¼çå®ç°æè·¯æ¯ï¼ä½ ä¸æ¾ææ±ï¼ææ±æ ¹æ¬å°±æå¾å»åå§åèªå·±ã\n\ninstance åå§æ¶æ²¡æåå§åï¼åªæå½ç¬¬ä¸æ¬¡è° getinstance() æ¶æåå»ºå®ä¾ã\n\nç¼ºç¹ï¼å½æä¸¤ä¸ªçº¿ç¨è° getinstance() æ¹æ³ï¼å½å®ä»¬åæ¶æ§è¡å° if (null == instance) è¿è¡ä»£ç ï¼instance ä¸º nullã\n\nç»§ç»­åä¸æ§è¡ï¼ä¼çæä¸¤ä¸ªå®ä¾ï¼è¿èäºåä¾æ¨¡å¼çåè¡·ã\n\npublic class lazysingleton {\n    private lazysingleton() {\n        system.out.println("singleton()");\n    }\n\n    private static lazysingleton instance = null;\n\n    public static lazysingleton getinstance() {\n        if (null == instance) {\n            instance = new lazysingleton();\n        }\n        return instance;\n    }\n}\n\n\n\n# é¥¿æ±å¼\n\nææ±å¼çå®ç°æè·¯æ¯ï¼é¥¿æ±æ ¹æ¬ç­ä¸åå«äººæ¥æ¾ä»ï¼ä¸ç®¡ä¸ä¸äºåä¸ååå§åäºèªèº«çå®ä¾ï¼çæèªå·±é¥¿çäºã\n\nç±»é»è®¤åç´æ¥åå§åä¸ä¸ªå®ä¾ï¼ä»¥åè°ç¨ getinstance() æ»æ¯è¿åè¿ä¸ªå·²åå»ºå¥½çå®ä¾ã\n\nç¼ºç¹ï¼å¨æ²¡æå¿è¦è·åå®ä¾æ¶ï¼å·²ç»é¢åäº§çäºå¼éã\n\nä¼ç¹ï¼è§é¿äºææ±å¼æ¹æ³ççº¿ç¨é®é¢ï¼ä¸ç¨æ¾ç¤ºç¼åçº¿ç¨å®å¨ä»£ç ã\n\npublic class hungersinleton {\n    private hungersinleton() {\n        system.out.println("singleton()");\n    }\n\n    private static hungersinleton instance = new hungersinleton();\n\n    public static hungersinleton getinstance() {\n        return instance;\n    }\n}\n\n\n\n# åééçå½¢å¼\n\nå¦ææ¢ä¸æ³å¨æ²¡æè°ç¨ getinstance() æ¹æ³æ¶äº§çå¼éï¼åä¸æ³åççº¿ç¨å®å¨é®é¢ï¼å°±å¯ä»¥éç¨åééçå½¢å¼ã\n\npublic class syncsingleton {\n    private syncsingleton() {\n        system.out.println("singleton()");\n    }\n\n    private static syncsingleton instance = null;\n\n    public static syncsingleton getinstance() {\n        if (null == instance) {\n            synchronized(syncsingleton.class) {\n                if (null == instance) {\n                    instance = new syncsingleton();\n                }\n            }\n        }\n        return instance;\n    }\n}\n\n\n> æ³¨ï¼å¨å¤é¢å¤æ­äº instance å®ä¾æ¯å¦å­å¨ï¼ä¸ºä»ä¹å¨éå®ååè¦å¨åé¨åå¤æ­ä¸æ¬¡ï¼\n> \n> è¿æ¯å ä¸ºï¼å¦æ instance ä¸º null æ¶æä¸¤ä¸ªçº¿ç¨åæ¶è°ç¨ getinstance()ï¼ç±äº synchronized æºå¶ï¼åªåè®¸ä¸ä¸ªçº¿ç¨è¿å¥ï¼å¦ä¸ä¸ªéè¦ç­å¾ã\n> \n> è¿æ¶å¦ææ²¡æç¬¬äºé instance æ¯å¦ä¸º null çå¤æ­ï¼å°±å¯è½åçç¬¬ä¸ä¸ªçº¿ç¨åå»ºä¸ä¸ªå®ä¾ï¼èç¬¬äºä¸ªçº¿ç¨ååå»ºä¸ä¸ªå®ä¾çæåµã\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * å¤è§æ¨¡å¼ç±»éå¸¸å¯ä»¥è½¬æ¢ä¸ºåä¾æ¨¡å¼ç±»ï¼ å ä¸ºå¨å¤§é¨åæåµä¸ä¸ä¸ªå¤è§å¯¹è±¡å°±è¶³å¤äºã\n * å¦æä½ è½å°å¯¹è±¡çææå±äº«ç¶æç®åä¸ºä¸ä¸ªäº«åå¯¹è±¡ï¼ é£ä¹äº«åæ¨¡å¼å°±ååä¾ç±»ä¼¼äºã ä½è¿ä¸¤ä¸ªæ¨¡å¼æä¸¤ä¸ªæ ¹æ¬æ§çä¸åã\n   1. åªä¼æä¸ä¸ªåä¾å®ä½ï¼ ä½æ¯äº«åç±»å¯ä»¥æå¤ä¸ªå®ä½ï¼ åå®ä½çåå¨ç¶æä¹å¯ä»¥ä¸åã\n   2. åä¾å¯¹è±¡å¯ä»¥æ¯å¯åçã äº«åå¯¹è±¡æ¯ä¸å¯åçã\n * æ½è±¡å·¥åæ¨¡å¼ã çæå¨æ¨¡å¼åååæ¨¡å¼é½å¯ä»¥ç¨åä¾æ¥å®ç°ã\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼ä¹ééå¨æ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼ä¹ééå¨æ¨¡å¼",date:"2015-01-14T18:31:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/2115cf/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/07.%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/07.ééå¨æ¨¡å¼.md",key:"v-b5457c16",path:"/pages/2115cf/",headers:[{level:2,title:"æå¾",slug:"æå¾",normalizedTitle:"æå¾",charIndex:17},{level:2,title:"éç¨åºæ¯",slug:"éç¨åºæ¯",normalizedTitle:"éç¨åºæ¯",charIndex:255},{level:2,title:"ç»æ",slug:"ç»æ",normalizedTitle:"ç»æ",charIndex:39},{level:3,title:"ç»æè¯´æ",slug:"ç»æè¯´æ",normalizedTitle:"ç»æè¯´æ",charIndex:426},{level:3,title:"ç»æä»£ç èå¼",slug:"ç»æä»£ç èå¼",normalizedTitle:"ç»æä»£ç èå¼",charIndex:802},{level:2,title:"ä¼ªä»£ç ",slug:"ä¼ªä»£ç ",normalizedTitle:"ä¼ªä»£ç ",charIndex:1404},{level:2,title:"æ¡ä¾",slug:"æ¡ä¾",normalizedTitle:"æ¡ä¾",charIndex:2749},{level:2,title:"ä¸å¶ä»æ¨¡å¼çå³ç³»",slug:"ä¸å¶ä»æ¨¡å¼çå³ç³»",normalizedTitle:"ä¸å¶ä»æ¨¡å¼çå³ç³»",charIndex:3182},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:3609}],headersStr:"æå¾ éç¨åºæ¯ ç»æ ç»æè¯´æ ç»æä»£ç èå¼ ä¼ªä»£ç  æ¡ä¾ ä¸å¶ä»æ¨¡å¼çå³ç³» åèèµæ",content:'# è®¾è®¡æ¨¡å¼ä¹ééå¨æ¨¡å¼\n\n\n# æå¾\n\nééå¨æ¨¡å¼ (Adapter)æ¯ä¸ç§ç»æåè®¾è®¡æ¨¡å¼ï¼ å®è½ä½¿ä¸å¼å®¹çå¯¹è±¡è½å¤ç¸äºåä½ã\n\nééå¨æ¨¡å¼éè¿å°è£å¯¹è±¡å°å¤æçè½¬æ¢è¿ç¨éèäºå¹åã è¢«å°è£çå¯¹è±¡çè³å¯è§ä¸å°ééå¨çå­å¨ã\n\nééå¨ä¸ä»å¯ä»¥è½¬æ¢ä¸åæ ¼å¼çæ°æ®ï¼ å¶è¿æå©äºéç¨ä¸åæ¥å£çå¯¹è±¡ä¹é´çåä½ã å®çè¿ä½æ¹å¼å¦ä¸ï¼\n\n * ééå¨å®ç°ä¸å¶ä¸­ä¸ä¸ªç°æå¯¹è±¡å¼å®¹çæ¥å£ã\n * ç°æå¯¹è±¡å¯ä»¥ä½¿ç¨è¯¥æ¥å£å®å¨å°è°ç¨ééå¨æ¹æ³ã\n * ééå¨æ¹æ³è¢«è°ç¨åå°ä»¥å¦ä¸ä¸ªå¯¹è±¡å¼å®¹çæ ¼å¼åé¡ºåºå°è¯·æ±ä¼ éç»è¯¥å¯¹è±¡ã\n\n\n# éç¨åºæ¯\n\n * å½ä½ å¸æä½¿ç¨æä¸ªç±»ï¼ ä½æ¯å¶æ¥å£ä¸å¶ä»ä»£ç ä¸å¼å®¹æ¶ï¼ å¯ä»¥ä½¿ç¨ééå¨ç±»ã\n * å¦ææ¨éè¦å¤ç¨è¿æ ·ä¸äºç±»ï¼ ä»ä»¬å¤äºåä¸ä¸ªç»§æ¿ä½ç³»ï¼ å¹¶ä¸ä»ä»¬åæäºé¢å¤çä¸äºå±åçæ¹æ³ï¼ ä½æ¯è¿äºå±åçæ¹æ³ä¸æ¯ææå¨è¿ä¸ç»§æ¿ä½ç³»ä¸­çå­ç±»æå·æçå±æ§ã\n\n\n# ç»æ\n\nééå¨å®ç°äºå¶ä¸­ä¸ä¸ªå¯¹è±¡çæ¥å£ï¼ å¹¶å¯¹å¦ä¸ä¸ªå¯¹è±¡è¿è¡å°è£ã\n\n\n\n\n# ç»æè¯´æ\n\n 1. å®¢æ·ç«¯ ï¼Clientï¼ æ¯åå«å½åç¨åºä¸å¡é»è¾çç±»ã\n 2. å®¢æ·ç«¯æ¥å£ ï¼Client Interfaceï¼ æè¿°äºå¶ä»ç±»ä¸å®¢æ·ç«¯ä»£ç åä½æ¶å¿é¡»éµå¾ªçåè®®ã\n 3. æå¡ ï¼Serviceï¼ ä¸­æä¸äºåè½ç±» ï¼éå¸¸æ¥èªç¬¬ä¸æ¹æéçç³»ç»ï¼ã å®¢æ·ç«¯ä¸å¶æ¥å£ä¸å¼å®¹ï¼ å æ­¤æ æ³ç´æ¥è°ç¨å¶åè½ã\n 4. ééå¨ ï¼Adapterï¼ æ¯ä¸ä¸ªå¯ä»¥åæ¶ä¸å®¢æ·ç«¯åæå¡äº¤äºçç±»ï¼ å®å¨å®ç°å®¢æ·ç«¯æ¥å£çåæ¶å°è£äºæå¡å¯¹è±¡ã ééå¨æ¥åå®¢æ·ç«¯éè¿ééå¨æ¥å£åèµ·çè°ç¨ï¼ å¹¶å°å¶è½¬æ¢ä¸ºéç¨äºè¢«å°è£æå¡å¯¹è±¡çè°ç¨ã\n 5. å®¢æ·ç«¯ä»£ç åªééè¿æ¥å£ä¸ééå¨äº¤äºå³å¯ï¼ æ éä¸å·ä½çééå¨ç±»è¦åã å æ­¤ï¼ ä½ å¯ä»¥åç¨åºä¸­æ·»å æ°ç±»åçééå¨èæ éä¿®æ¹å·²æä»£ç ã è¿å¨æå¡ç±»çæ¥å£è¢«æ´æ¹ææ¿æ¢æ¶å¾æç¨ï¼ ä½ æ éä¿®æ¹å®¢æ·ç«¯ä»£ç å°±å¯ä»¥åå»ºæ°çééå¨ç±»ã\n\n\n# ç»æä»£ç èå¼\n\nãTargetã\n\nå®ä¹ç¨æ·å®ééè¦çæ¥å£ã\n\nabstract class Target {\n    public abstract void Request();\n}\n\n\nãAdapteeã\n\nå®ä¹ä¸ä¸ªéè¦ééçæ¥å£ã\n\nclass Adaptee {\n    public void SpecificRequest() {\n        System.out.println("ç¹æ®è¯·æ±");\n    }\n}\n\n\nãAdapterã\n\néè¿å¨åé¨åè£ä¸ä¸ª Adaptee å¯¹è±¡ï¼ææºæ¥å£è½¬æ¢æç®æ æ¥å£ã\n\nclass Adapter extends Target {\n    private Adaptee adaptee = new Adaptee();\n\n    @Override\n    public void Request() {\n        adaptee.SpecificRequest();\n    }\n}\n\n\nãå®¢æ·ç«¯ã\n\npublic class AdapterPattern {\n    public static void main(String[] args) {\n        Target target = new Adapter();\n        target.Request();\n    }\n}\n\n\nãè¾åºã\n\nç¹æ®è¯·æ±\n\n\n\n# ä¼ªä»£ç \n\n\n\nééå¨åæ®æä¸ä¸ªåé ï¼RoundÂ­Pegï¼ï¼ å¶åå¾ç­äºæ¹é ï¼SquareÂ­Pegï¼ æ¨ªæªé¢å¯¹è§çº¿çä¸å ï¼å³è½å¤å®¹çº³æ¹éçæå°å¤æ¥åçåå¾ï¼ã\n\n// åè®¾ä½ æä¸¤ä¸ªæ¥å£ç¸äºå¼å®¹çç±»ï¼åå­ï¼RoundÂ­Holeï¼ååéï¼RoundÂ­Pegï¼ã\nclass RoundHole is\n    constructor RoundHole(radius) { ... }\n\n    method getRadius() is\n        // è¿åå­çåå¾ã\n\n    method fits(peg: RoundPeg) is\n        return this.getRadius() >= peg.getRadius()\n\nclass RoundPeg is\n    constructor RoundPeg(radius) { ... }\n\n    method getRadius() is\n        // è¿åéå­çåå¾ã\n\n\n// ä½è¿æä¸ä¸ªä¸å¼å®¹çç±»ï¼æ¹éï¼SquareÂ­Pegï¼ã\nclass SquarePeg is\n    constructor SquarePeg(width) { ... }\n\n    method getWidth() is\n        // è¿åæ¹éçå®½åº¦ã\n\n\n// ééå¨ç±»è®©ä½ è½å¤å°æ¹éæ¾å¥åå­ä¸­ãå®ä¼å¯¹ RoundPeg ç±»è¿è¡æ©å±ï¼ä»¥æ¥æ¶é\n// éå¨å¯¹è±¡ä½ä¸ºåéã\nclass SquarePegAdapter extends RoundPeg is\n    // å¨å®éæåµä¸­ï¼ééå¨ä¸­ä¼åå«ä¸ä¸ª SquarePeg ç±»çå®ä¾ã\n    private field peg: SquarePeg\n\n    constructor SquarePegAdapter(peg: SquarePeg) is\n        this.peg = peg\n\n    method getRadius() is\n        // ééå¨ä¼åæ®ä¸ºä¸ä¸ªåéï¼\n        // å¶åå¾åå¥½è½ä¸ééå¨å®éå°è£çæ¹éæ­éèµ·æ¥ã\n        return peg.getWidth() * Math.sqrt(2) / 2\n\n\n// å®¢æ·ç«¯ä»£ç ä¸­çæä¸ªä½ç½®ã\nhole = new RoundHole(5)\nrpeg = new RoundPeg(5)\nhole.fits(rpeg) // true\n\nsmall_sqpeg = new SquarePeg(5)\nlarge_sqpeg = new SquarePeg(10)\nhole.fits(small_sqpeg) // æ­¤å¤æ æ³ç¼è¯ï¼ç±»åä¸ä¸è´ï¼ã\n\nsmall_sqpeg_adapter = new SquarePegAdapter(small_sqpeg)\nlarge_sqpeg_adapter = new SquarePegAdapter(large_sqpeg)\nhole.fits(small_sqpeg_adapter) // true\nhole.fits(large_sqpeg_adapter) // false\n\n\n\n# æ¡ä¾\n\nééå¨æ¨¡å¼å¨ Java ä»£ç ä¸­å¾å¸¸è§ã\n\nJava æ ¸å¿ç¨åºåºä¸­æä¸äºæ åçééå¨ï¼\n\n * java.util.Arrays#asList()\n * java.util.Collections#list()\n * java.util.Collections#enumeration()\n * java.io.InputStreamReader(InputStream) ï¼è¿å Readerå¯¹è±¡ï¼\n * java.io.OutputStreamWriter(OutputStream) ï¼è¿å Writerå¯¹è±¡ï¼\n * javax.xml.bind.annotation.adapters.XmlAdapter#marshal() å #unmarshal()\n\nè¯å«æ¹æ³ï¼ ééå¨å¯ä»¥éè¿ä»¥ä¸åæ½è±¡ææ¥å£ç±»åå®ä¾ä¸ºåæ°çæé å½æ°æ¥è¯å«ã å½ééå¨çä»»ä½æ¹æ³è¢«è°ç¨æ¶ï¼ å®ä¼å°åæ°è½¬æ¢ä¸ºåéçæ ¼å¼ï¼ ç¶åå°è°ç¨å®åå°å¶å°è£å¯¹è±¡ä¸­çä¸ä¸ªæå¤ä¸ªæ¹æ³ã\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * æ¡¥æ¥æ¨¡å¼éå¸¸ä¼äºå¼ååæè¿è¡è®¾è®¡ï¼ ä½¿ä½ è½å¤å°ç¨åºçåä¸ªé¨åç¬ç«å¼æ¥ä»¥ä¾¿å¼åã å¦ä¸æ¹é¢ï¼ ééå¨æ¨¡å¼éå¸¸å¨å·²æç¨åºä¸­ä½¿ç¨ï¼ è®©ç¸äºä¸å¼å®¹çç±»è½å¾å¥½å°åä½ã\n * ééå¨å¯ä»¥å¯¹å·²æå¯¹è±¡çæ¥å£è¿è¡ä¿®æ¹ï¼ è£é¥°æ¨¡å¼åè½å¨ä¸æ¹åå¯¹è±¡æ¥å£çåæä¸å¼ºåå¯¹è±¡åè½ã æ­¤å¤ï¼ è£é¥°è¿æ¯æéå½ç»åï¼ ééå¨åæ æ³å®ç°ã\n * ééå¨è½ä¸ºè¢«å°è£å¯¹è±¡æä¾ä¸åçæ¥å£ï¼ ä»£çæ¨¡å¼è½ä¸ºå¯¹è±¡æä¾ç¸åçæ¥å£ï¼ è£é¥°åè½ä¸ºå¯¹è±¡æä¾å å¼ºçæ¥å£ã\n * å¤è§æ¨¡å¼ä¸ºç°æå¯¹è±¡å®ä¹äºä¸ä¸ªæ°æ¥å£ï¼ ééå¨åä¼è¯å¾è¿ç¨å·²æçæ¥å£ã ééå¨éå¸¸åªå°è£ä¸ä¸ªå¯¹è±¡ï¼ å¤è§éå¸¸ä¼ä½ç¨äºæ´ä¸ªå¯¹è±¡å­ç³»ç»ä¸ã\n * æ¡¥æ¥ã ç¶ææ¨¡å¼åç­ç¥æ¨¡å¼ ï¼å¨æç§ç¨åº¦ä¸åæ¬ééå¨ï¼ æ¨¡å¼çæ¥å£éå¸¸ç¸ä¼¼ã å®éä¸ï¼ å®ä»¬é½åºäºç»åæ¨¡å¼ââå³å°å·¥ä½å§æ´¾ç»å¶ä»å¯¹è±¡ï¼ ä¸è¿ä¹åèªè§£å³äºä¸åçé®é¢ã æ¨¡å¼å¹¶ä¸åªæ¯ä»¥ç¹å®æ¹å¼ç»ç»ä»£ç çéæ¹ï¼ ä½ è¿å¯ä»¥ä½¿ç¨å®ä»¬æ¥åå¶ä»å¼åèè®¨è®ºæ¨¡å¼æè§£å³çé®é¢ã\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',normalizedContent:'# è®¾è®¡æ¨¡å¼ä¹ééå¨æ¨¡å¼\n\n\n# æå¾\n\nééå¨æ¨¡å¼ (adapter)æ¯ä¸ç§ç»æåè®¾è®¡æ¨¡å¼ï¼ å®è½ä½¿ä¸å¼å®¹çå¯¹è±¡è½å¤ç¸äºåä½ã\n\nééå¨æ¨¡å¼éè¿å°è£å¯¹è±¡å°å¤æçè½¬æ¢è¿ç¨éèäºå¹åã è¢«å°è£çå¯¹è±¡çè³å¯è§ä¸å°ééå¨çå­å¨ã\n\nééå¨ä¸ä»å¯ä»¥è½¬æ¢ä¸åæ ¼å¼çæ°æ®ï¼ å¶è¿æå©äºéç¨ä¸åæ¥å£çå¯¹è±¡ä¹é´çåä½ã å®çè¿ä½æ¹å¼å¦ä¸ï¼\n\n * ééå¨å®ç°ä¸å¶ä¸­ä¸ä¸ªç°æå¯¹è±¡å¼å®¹çæ¥å£ã\n * ç°æå¯¹è±¡å¯ä»¥ä½¿ç¨è¯¥æ¥å£å®å¨å°è°ç¨ééå¨æ¹æ³ã\n * ééå¨æ¹æ³è¢«è°ç¨åå°ä»¥å¦ä¸ä¸ªå¯¹è±¡å¼å®¹çæ ¼å¼åé¡ºåºå°è¯·æ±ä¼ éç»è¯¥å¯¹è±¡ã\n\n\n# éç¨åºæ¯\n\n * å½ä½ å¸æä½¿ç¨æä¸ªç±»ï¼ ä½æ¯å¶æ¥å£ä¸å¶ä»ä»£ç ä¸å¼å®¹æ¶ï¼ å¯ä»¥ä½¿ç¨ééå¨ç±»ã\n * å¦ææ¨éè¦å¤ç¨è¿æ ·ä¸äºç±»ï¼ ä»ä»¬å¤äºåä¸ä¸ªç»§æ¿ä½ç³»ï¼ å¹¶ä¸ä»ä»¬åæäºé¢å¤çä¸äºå±åçæ¹æ³ï¼ ä½æ¯è¿äºå±åçæ¹æ³ä¸æ¯ææå¨è¿ä¸ç»§æ¿ä½ç³»ä¸­çå­ç±»æå·æçå±æ§ã\n\n\n# ç»æ\n\nééå¨å®ç°äºå¶ä¸­ä¸ä¸ªå¯¹è±¡çæ¥å£ï¼ å¹¶å¯¹å¦ä¸ä¸ªå¯¹è±¡è¿è¡å°è£ã\n\n\n\n\n# ç»æè¯´æ\n\n 1. å®¢æ·ç«¯ ï¼clientï¼ æ¯åå«å½åç¨åºä¸å¡é»è¾çç±»ã\n 2. å®¢æ·ç«¯æ¥å£ ï¼client interfaceï¼ æè¿°äºå¶ä»ç±»ä¸å®¢æ·ç«¯ä»£ç åä½æ¶å¿é¡»éµå¾ªçåè®®ã\n 3. æå¡ ï¼serviceï¼ ä¸­æä¸äºåè½ç±» ï¼éå¸¸æ¥èªç¬¬ä¸æ¹æéçç³»ç»ï¼ã å®¢æ·ç«¯ä¸å¶æ¥å£ä¸å¼å®¹ï¼ å æ­¤æ æ³ç´æ¥è°ç¨å¶åè½ã\n 4. ééå¨ ï¼adapterï¼ æ¯ä¸ä¸ªå¯ä»¥åæ¶ä¸å®¢æ·ç«¯åæå¡äº¤äºçç±»ï¼ å®å¨å®ç°å®¢æ·ç«¯æ¥å£çåæ¶å°è£äºæå¡å¯¹è±¡ã ééå¨æ¥åå®¢æ·ç«¯éè¿ééå¨æ¥å£åèµ·çè°ç¨ï¼ å¹¶å°å¶è½¬æ¢ä¸ºéç¨äºè¢«å°è£æå¡å¯¹è±¡çè°ç¨ã\n 5. å®¢æ·ç«¯ä»£ç åªééè¿æ¥å£ä¸ééå¨äº¤äºå³å¯ï¼ æ éä¸å·ä½çééå¨ç±»è¦åã å æ­¤ï¼ ä½ å¯ä»¥åç¨åºä¸­æ·»å æ°ç±»åçééå¨èæ éä¿®æ¹å·²æä»£ç ã è¿å¨æå¡ç±»çæ¥å£è¢«æ´æ¹ææ¿æ¢æ¶å¾æç¨ï¼ ä½ æ éä¿®æ¹å®¢æ·ç«¯ä»£ç å°±å¯ä»¥åå»ºæ°çééå¨ç±»ã\n\n\n# ç»æä»£ç èå¼\n\nãtargetã\n\nå®ä¹ç¨æ·å®ééè¦çæ¥å£ã\n\nabstract class target {\n    public abstract void request();\n}\n\n\nãadapteeã\n\nå®ä¹ä¸ä¸ªéè¦ééçæ¥å£ã\n\nclass adaptee {\n    public void specificrequest() {\n        system.out.println("ç¹æ®è¯·æ±");\n    }\n}\n\n\nãadapterã\n\néè¿å¨åé¨åè£ä¸ä¸ª adaptee å¯¹è±¡ï¼ææºæ¥å£è½¬æ¢æç®æ æ¥å£ã\n\nclass adapter extends target {\n    private adaptee adaptee = new adaptee();\n\n    @override\n    public void request() {\n        adaptee.specificrequest();\n    }\n}\n\n\nãå®¢æ·ç«¯ã\n\npublic class adapterpattern {\n    public static void main(string[] args) {\n        target target = new adapter();\n        target.request();\n    }\n}\n\n\nãè¾åºã\n\nç¹æ®è¯·æ±\n\n\n\n# ä¼ªä»£ç \n\n\n\nééå¨åæ®æä¸ä¸ªåé ï¼roundÂ­pegï¼ï¼ å¶åå¾ç­äºæ¹é ï¼squareÂ­pegï¼ æ¨ªæªé¢å¯¹è§çº¿çä¸å ï¼å³è½å¤å®¹çº³æ¹éçæå°å¤æ¥åçåå¾ï¼ã\n\n// åè®¾ä½ æä¸¤ä¸ªæ¥å£ç¸äºå¼å®¹çç±»ï¼åå­ï¼roundÂ­holeï¼ååéï¼roundÂ­pegï¼ã\nclass roundhole is\n    constructor roundhole(radius) { ... }\n\n    method getradius() is\n        // è¿åå­çåå¾ã\n\n    method fits(peg: roundpeg) is\n        return this.getradius() >= peg.getradius()\n\nclass roundpeg is\n    constructor roundpeg(radius) { ... }\n\n    method getradius() is\n        // è¿åéå­çåå¾ã\n\n\n// ä½è¿æä¸ä¸ªä¸å¼å®¹çç±»ï¼æ¹éï¼squareÂ­pegï¼ã\nclass squarepeg is\n    constructor squarepeg(width) { ... }\n\n    method getwidth() is\n        // è¿åæ¹éçå®½åº¦ã\n\n\n// ééå¨ç±»è®©ä½ è½å¤å°æ¹éæ¾å¥åå­ä¸­ãå®ä¼å¯¹ roundpeg ç±»è¿è¡æ©å±ï¼ä»¥æ¥æ¶é\n// éå¨å¯¹è±¡ä½ä¸ºåéã\nclass squarepegadapter extends roundpeg is\n    // å¨å®éæåµä¸­ï¼ééå¨ä¸­ä¼åå«ä¸ä¸ª squarepeg ç±»çå®ä¾ã\n    private field peg: squarepeg\n\n    constructor squarepegadapter(peg: squarepeg) is\n        this.peg = peg\n\n    method getradius() is\n        // ééå¨ä¼åæ®ä¸ºä¸ä¸ªåéï¼\n        // å¶åå¾åå¥½è½ä¸ééå¨å®éå°è£çæ¹éæ­éèµ·æ¥ã\n        return peg.getwidth() * math.sqrt(2) / 2\n\n\n// å®¢æ·ç«¯ä»£ç ä¸­çæä¸ªä½ç½®ã\nhole = new roundhole(5)\nrpeg = new roundpeg(5)\nhole.fits(rpeg) // true\n\nsmall_sqpeg = new squarepeg(5)\nlarge_sqpeg = new squarepeg(10)\nhole.fits(small_sqpeg) // æ­¤å¤æ æ³ç¼è¯ï¼ç±»åä¸ä¸è´ï¼ã\n\nsmall_sqpeg_adapter = new squarepegadapter(small_sqpeg)\nlarge_sqpeg_adapter = new squarepegadapter(large_sqpeg)\nhole.fits(small_sqpeg_adapter) // true\nhole.fits(large_sqpeg_adapter) // false\n\n\n\n# æ¡ä¾\n\nééå¨æ¨¡å¼å¨ java ä»£ç ä¸­å¾å¸¸è§ã\n\njava æ ¸å¿ç¨åºåºä¸­æä¸äºæ åçééå¨ï¼\n\n * java.util.arrays#aslist()\n * java.util.collections#list()\n * java.util.collections#enumeration()\n * java.io.inputstreamreader(inputstream) ï¼è¿å readerå¯¹è±¡ï¼\n * java.io.outputstreamwriter(outputstream) ï¼è¿å writerå¯¹è±¡ï¼\n * javax.xml.bind.annotation.adapters.xmladapter#marshal() å #unmarshal()\n\nè¯å«æ¹æ³ï¼ ééå¨å¯ä»¥éè¿ä»¥ä¸åæ½è±¡ææ¥å£ç±»åå®ä¾ä¸ºåæ°çæé å½æ°æ¥è¯å«ã å½ééå¨çä»»ä½æ¹æ³è¢«è°ç¨æ¶ï¼ å®ä¼å°åæ°è½¬æ¢ä¸ºåéçæ ¼å¼ï¼ ç¶åå°è°ç¨å®åå°å¶å°è£å¯¹è±¡ä¸­çä¸ä¸ªæå¤ä¸ªæ¹æ³ã\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * æ¡¥æ¥æ¨¡å¼éå¸¸ä¼äºå¼ååæè¿è¡è®¾è®¡ï¼ ä½¿ä½ è½å¤å°ç¨åºçåä¸ªé¨åç¬ç«å¼æ¥ä»¥ä¾¿å¼åã å¦ä¸æ¹é¢ï¼ ééå¨æ¨¡å¼éå¸¸å¨å·²æç¨åºä¸­ä½¿ç¨ï¼ è®©ç¸äºä¸å¼å®¹çç±»è½å¾å¥½å°åä½ã\n * ééå¨å¯ä»¥å¯¹å·²æå¯¹è±¡çæ¥å£è¿è¡ä¿®æ¹ï¼ è£é¥°æ¨¡å¼åè½å¨ä¸æ¹åå¯¹è±¡æ¥å£çåæä¸å¼ºåå¯¹è±¡åè½ã æ­¤å¤ï¼ è£é¥°è¿æ¯æéå½ç»åï¼ ééå¨åæ æ³å®ç°ã\n * ééå¨è½ä¸ºè¢«å°è£å¯¹è±¡æä¾ä¸åçæ¥å£ï¼ ä»£çæ¨¡å¼è½ä¸ºå¯¹è±¡æä¾ç¸åçæ¥å£ï¼ è£é¥°åè½ä¸ºå¯¹è±¡æä¾å å¼ºçæ¥å£ã\n * å¤è§æ¨¡å¼ä¸ºç°æå¯¹è±¡å®ä¹äºä¸ä¸ªæ°æ¥å£ï¼ ééå¨åä¼è¯å¾è¿ç¨å·²æçæ¥å£ã ééå¨éå¸¸åªå°è£ä¸ä¸ªå¯¹è±¡ï¼ å¤è§éå¸¸ä¼ä½ç¨äºæ´ä¸ªå¯¹è±¡å­ç³»ç»ä¸ã\n * æ¡¥æ¥ã ç¶ææ¨¡å¼åç­ç¥æ¨¡å¼ ï¼å¨æç§ç¨åº¦ä¸åæ¬ééå¨ï¼ æ¨¡å¼çæ¥å£éå¸¸ç¸ä¼¼ã å®éä¸ï¼ å®ä»¬é½åºäºç»åæ¨¡å¼ââå³å°å·¥ä½å§æ´¾ç»å¶ä»å¯¹è±¡ï¼ ä¸è¿ä¹åèªè§£å³äºä¸åçé®é¢ã æ¨¡å¼å¹¶ä¸åªæ¯ä»¥ç¹å®æ¹å¼ç»ç»ä»£ç çéæ¹ï¼ ä½ è¿å¯ä»¥ä½¿ç¨å®ä»¬æ¥åå¶ä»å¼åèè®¨è®ºæ¨¡å¼æè§£å³çé®é¢ã\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼ä¹æ¡¥æ¥æ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼ä¹æ¡¥æ¥æ¨¡å¼",date:"2015-01-16T10:32:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/b05f5f/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/08.%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/08.æ¡¥æ¥æ¨¡å¼.md",key:"v-0569b6f8",path:"/pages/b05f5f/",headers:[{level:2,title:"æå¾",slug:"æå¾",normalizedTitle:"æå¾",charIndex:16},{level:2,title:"éç¨åºæ¯",slug:"éç¨åºæ¯",normalizedTitle:"éç¨åºæ¯",charIndex:240},{level:2,title:"ç»æ",slug:"ç»æ",normalizedTitle:"ç»æ",charIndex:37},{level:3,title:"ç»æè¯´æ",slug:"ç»æè¯´æ",normalizedTitle:"ç»æè¯´æ",charIndex:377},{level:3,title:"ç»æä»£ç èå¼",slug:"ç»æä»£ç èå¼",normalizedTitle:"ç»æä»£ç èå¼",charIndex:757},{level:2,title:"ä¼ªä»£ç ",slug:"ä¼ªä»£ç ",normalizedTitle:"ä¼ªä»£ç ",charIndex:2241},{level:2,title:"æ¡ä¾",slug:"æ¡ä¾",normalizedTitle:"æ¡ä¾",charIndex:3777},{level:2,title:"ä¸å¶ä»æ¨¡å¼çå³ç³»",slug:"ä¸å¶ä»æ¨¡å¼çå³ç³»",normalizedTitle:"ä¸å¶ä»æ¨¡å¼çå³ç³»",charIndex:4100},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:4475}],headersStr:"æå¾ éç¨åºæ¯ ç»æ ç»æè¯´æ ç»æä»£ç èå¼ ä¼ªä»£ç  æ¡ä¾ ä¸å¶ä»æ¨¡å¼çå³ç³» åèèµæ",content:'# è®¾è®¡æ¨¡å¼ä¹æ¡¥æ¥æ¨¡å¼\n\n\n# æå¾\n\næ¡¥æ¥æ¨¡å¼ (Bridge) æ¯ä¸ç§ç»æåè®¾è®¡æ¨¡å¼ï¼ å¯å°æ½è±¡é¨åä¸å®ç°é¨ååç¦»ï¼ä½¿å®ä»¬é½å¯ä»¥ç¬ç«çååã\n\nå¦æä¸ä¸ªç³»ç»éè¦å¨æä»¶çæ½è±¡åè§è²åå·ä½åè§è²ä¹é´å¢å æ´å¤ççµæ´»æ§ï¼é¿åå¨ä¸¤ä¸ªå±æ¬¡ä¹é´å»ºç«éæçèç³»ãæ½è±¡åè§è²åå·ä½åè§è²é½åºè¯¥å¯ä»¥è¢«å­ç±»æ©å±ãå¨è¿ç§æåµä¸ï¼æ¡¥æ¥æ¨¡å¼å¯ä»¥çµæ´»å°ç»åä¸åçæ½è±¡åè§è²åå·ä½åè§è²ï¼å¹¶ç¬ç«åå°æ©å±ã\n\nè®¾è®¡è¦æ±å®ç°åè§è²çä»»ä½æ¹åä¸åºå½å½±åå®¢æ·ç«¯ï¼æèè¯´å®ç°åè§è²çæ¹åå¯¹å®¢æ·ç«¯æ¯å®å¨éæçã\n\n\n# éç¨åºæ¯\n\n * å¦æä½ æ³è¦æåæéç»ä¸ä¸ªå·æå¤éåè½çåºæç±»ï¼ä¾å¦è½ä¸å¤ä¸ªæ°æ®åºæå¡å¨è¿è¡äº¤äºçç±»ï¼ï¼å¯ä»¥ä½¿ç¨æ¡¥æ¥æ¨¡å¼ã\n * å¦æä½ å¸æå¨å ä¸ªç¬ç«ç»´åº¦ä¸æ©å±ä¸ä¸ªç±»ï¼ å¯ä½¿ç¨è¯¥æ¨¡å¼ã\n * å¦æä½ éè¦å¨è¿è¡æ¶åæ¢ä¸åå®ç°æ¹æ³ï¼ å¯ä½¿ç¨æ¡¥æ¥æ¨¡å¼ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. æ½è±¡é¨å ï¼Abstractionï¼ æä¾é«å±æ§å¶é»è¾ï¼ ä¾èµäºå®æåºå±å®éå·¥ä½çå®ç°å¯¹è±¡ã\n 2. å®ç°é¨å ï¼Implementationï¼ ä¸ºææå·ä½å®ç°å£°æéç¨æ¥å£ã æ½è±¡é¨åä»è½éè¿å¨è¿éå£°æçæ¹æ³ä¸å®ç°å¯¹è±¡äº¤äºã\n    * æ½è±¡é¨åå¯ä»¥ååºåå®ç°é¨åä¸æ ·çæ¹æ³ï¼ ä½æ¯æ½è±¡é¨åéå¸¸å£°æä¸äºå¤æè¡ä¸ºï¼ è¿äºè¡ä¸ºä¾èµäºå¤ç§ç±å®ç°é¨åå£°æçåè¯­æä½ã\n 3. å·ä½å®ç° ï¼Concrete Implementationsï¼ ä¸­åæ¬ç¹å®äºå¹³å°çä»£ç ã\n 4. ç²¾ç¡®æ½è±¡ ï¼Refined Abstractionï¼ æä¾æ§å¶é»è¾çåä½ã ä¸å¶ç¶ç±»ä¸æ ·ï¼ å®ä»¬éè¿éç¨å®ç°æ¥å£ä¸ä¸åçå®ç°è¿è¡äº¤äºã\n 5. éå¸¸æåµä¸ï¼ å®¢æ·ç«¯ ï¼Clientï¼ ä»å³å¿å¦ä½ä¸æ½è±¡é¨ååä½ã ä½æ¯ï¼ å®¢æ·ç«¯éè¦å°æ½è±¡å¯¹è±¡ä¸ä¸ä¸ªå®ç°å¯¹è±¡è¿æ¥èµ·æ¥ã\n\n\n# ç»æä»£ç èå¼\n\nãImplementorãå®ä¹å®ç°æ¥å£ã\n\ninterface Implementor {\n    // å®ç°æ½è±¡é¨åéè¦çæäºå·ä½åè½\n    public void operationImpl();\n}\n\n\nãAbstractionãå®ä¹æ½è±¡æ¥å£ã\n\nabstract class Abstraction {\n    // ææä¸ä¸ª Implementor å¯¹è±¡ï¼å½¢æèåå³ç³»\n    protected Implementor implementor;\n\n    public Abstraction(Implementor implementor) {\n        this.implementor = implementor;\n    }\n\n    // å¯è½éè¦è½¬è°å®ç°é¨åçå·ä½å®ç°\n    public void operation() {\n        implementor.operationImpl();\n    }\n}\n\n\nãConcreteImplementorãå®ç° Implementor ä¸­å®ä¹çæ¥å£ã\n\nclass ConcreteImplementorA implements Implementor {\n    @Override\n    public void operationImpl() {\n        // çæ­£çå®ç°\n        System.out.println("å·ä½å®ç°A");\n    }\n}\n\nclass ConcreteImplementorB implements Implementor {\n    @Override\n    public void operationImpl() {\n        // çæ­£çå®ç°\n        System.out.println("å·ä½å®ç°B");\n    }\n}\n\n\nãRefinedAbstractionãæ©å± Abstraction ç±»ã\n\nclass RefinedAbstraction extends Abstraction {\n\n    public RefinedAbstraction(Implementor implementor) {\n        super(implementor);\n    }\n\n    public void otherOperation() {\n        // å®ç°ä¸å®çåè½ï¼å¯è½ä¼ä½¿ç¨å·ä½å®ç°é¨åçå®ç°æ¹æ³,\n        // ä½æ¯æ¬æ¹æ³æ´å¤§çå¯è½æ¯ä½¿ç¨ Abstraction ä¸­å®ä¹çæ¹æ³ï¼\n        // éè¿ç»åä½¿ç¨ Abstraction ä¸­å®ä¹çæ¹æ³æ¥å®ææ´å¤çåè½ã\n    }\n}\n\n\nãå®¢æ·ç«¯ã\n\npublic class BridgePattern {\n    public static void main(String[] args) {\n        Implementor implementor = new ConcreteImplementorA();\n        RefinedAbstraction abstraction = new RefinedAbstraction(implementor);\n        abstraction.operation();\n        abstraction.otherOperation();\n    }\n}\n\n\nãè¾åºã\n\nå·ä½å®ç°A\nå¶ä»æä½\n\n\n\n# ä¼ªä»£ç \n\n\n\né¥æ§å¨åºç±»å£°æäºä¸ä¸ªæåè®¾å¤å¯¹è±¡çå¼ç¨æååéã ææé¥æ§å¨éè¿éç¨è®¾å¤æ¥å£ä¸è®¾å¤è¿è¡äº¤äºï¼ ä½¿å¾åä¸ä¸ªé¥æ§å¨å¯ä»¥æ¯æä¸åç±»åçè®¾å¤ã\n\nä½ å¯ä»¥å¼åç¬ç«äºè®¾å¤ç±»çé¥æ§å¨ç±»ï¼ åªéæ°å»ºä¸ä¸ªé¥æ§å¨å­ç±»å³å¯ã ä¾å¦ï¼ åºç¡é¥æ§å¨å¯è½åªæä¸¤ä¸ªæé®ï¼ ä½ä½ å¯å¨å¶åºç¡ä¸æ©å±æ°åè½ï¼ æ¯å¦é¢å¤çä¸èçµæ± æä¸åè§¦æ¸å±ã\n\nå®¢æ·ç«¯ä»£ç éè¿é¥æ§å¨æé å½æ°å°ç¹å®ç§ç±»çé¥æ§å¨ä¸è®¾å¤å¯¹è±¡è¿æ¥èµ·æ¥ã\n\n// âæ½è±¡é¨åâå®ä¹äºä¸¤ä¸ªç±»å±æ¬¡ç»æä¸­âæ§å¶âé¨åçæ¥å£ãå®ç®¡ççä¸ä¸ªæåâå®\n// ç°é¨åâå±æ¬¡ç»æä¸­å¯¹è±¡çå¼ç¨ï¼å¹¶ä¼å°ææçå®å·¥ä½å§æ´¾ç»è¯¥å¯¹è±¡ã\nclass RemoteControl is\n    protected field device: Device\n    constructor RemoteControl(device: Device) is\n        this.device = device\n    method togglePower() is\n        if (device.isEnabled()) then\n            device.disable()\n        else\n            device.enable()\n    method volumeDown() is\n        device.setVolume(device.getVolume() - 10)\n    method volumeUp() is\n        device.setVolume(device.getVolume() + 10)\n    method channelDown() is\n        device.setChannel(device.getChannel() - 1)\n    method channelUp() is\n        device.setChannel(device.getChannel() + 1)\n\n\n// ä½ å¯ä»¥ç¬ç«äºè®¾å¤ç±»çæ¹å¼ä»æ½è±¡å±ä¸­æ©å±ç±»ã\nclass AdvancedRemoteControl extends RemoteControl is\n    method mute() is\n        device.setVolume(0)\n\n\n// âå®ç°é¨åâæ¥å£å£°æäºå¨ææå·ä½å®ç°ç±»ä¸­éç¨çæ¹æ³ãå®ä¸éè¦ä¸æ½è±¡æ¥å£ç¸\n// å¹éãå®éä¸ï¼è¿ä¸¤ä¸ªæ¥å£å¯ä»¥å®å¨ä¸ä¸æ ·ãéå¸¸å®ç°æ¥å£åªæä¾åè¯­æä½ï¼è\n// æ½è±¡æ¥å£åä¼åºäºè¿äºæä½å®ä¹è¾é«å±æ¬¡çæä½ã\ninterface Device is\n    method isEnabled()\n    method enable()\n    method disable()\n    method getVolume()\n    method setVolume(percent)\n    method getChannel()\n    method setChannel(channel)\n\n\n// ææè®¾å¤é½éµå¾ªç¸åçæ¥å£ã\nclass Tv implements Device is\n    // ...\n\nclass Radio implements Device is\n    // ...\n\n\n// å®¢æ·ç«¯ä»£ç ä¸­çæä¸ªä½ç½®ã\ntv = new Tv()\nremote = new RemoteControl(tv)\nremote.togglePower()\n\nradio = new Radio()\nremote = new AdvancedRemoteControl(radio)\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ æ¡¥æ¥æ¨¡å¼å¨å¤çè·¨å¹³å°åºç¨ã æ¯æå¤ç§ç±»åçæ°æ®åºæå¡å¨æä¸å¤ä¸ªç¹å®ç§ç±» ï¼ä¾å¦äºå¹³å°åç¤¾äº¤ç½ç»ç­ï¼ ç API ä¾åºååä½æ¶ä¼ç¹å«æç¨ã\n\nè¯å«æ¹æ³ï¼ æ¡¥æ¥å¯ä»¥éè¿ä¸äºæ§å¶å®ä½åå¶æä¾èµçå¤ä¸ªä¸åå¹³å°ä¹é´çæç¡®åºå«æ¥è¿è¡è¯å«ã\n\nJava ä¸­æ¡¥æ¥æ¨¡å¼åºç¨æç»å¸çä»£è¡¨æ çæ¯æ¥å¿ç»ä»¶ slf4j çæ¡¥æ¥ jar åã\n\nåå¦ï¼ä½ æ­£å¨å¼ååºç¨ç¨åºæè°ç¨çç»ä»¶å½ä¸­å·²ç»ä½¿ç¨äº common-loggingï¼è¿æ¶ä½ éè¦ jcl-over-slf4j.jar ææ¥å¿ä¿¡æ¯è¾åºéå®åå° slf4j-apiï¼slf4j-api åå»è°ç¨ slf4j å®éä¾èµçæ¥å¿ç»ä»¶ãè¿ä¸ªè¿ç¨ç§°ä¸ºæ¡¥æ¥ãä¸å¾æ¯å®æ¹ç slf4j æ¡¥æ¥ç­ç¥å¾ï¼\n\n\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * æ¡¥æ¥æ¨¡å¼éå¸¸ä¼äºå¼ååæè¿è¡è®¾è®¡ï¼ ä½¿ä½ è½å¤å°ç¨åºçåä¸ªé¨åç¬ç«å¼æ¥ä»¥ä¾¿å¼åã å¦ä¸æ¹é¢ï¼ ééå¨æ¨¡å¼éå¸¸å¨å·²æç¨åºä¸­ä½¿ç¨ï¼ è®©ç¸äºä¸å¼å®¹çç±»è½å¾å¥½å°åä½ã\n * æ¡¥æ¥ã ç¶ææ¨¡å¼åç­ç¥æ¨¡å¼ ï¼å¨æç§ç¨åº¦ä¸åæ¬ééå¨ï¼ æ¨¡å¼çæ¥å£éå¸¸ç¸ä¼¼ã å®éä¸ï¼ å®ä»¬é½åºäºç»åæ¨¡å¼ââå³å°å·¥ä½å§æ´¾ç»å¶ä»å¯¹è±¡ï¼ ä¸è¿ä¹åèªè§£å³äºä¸åçé®é¢ã æ¨¡å¼å¹¶ä¸åªæ¯ä»¥ç¹å®æ¹å¼ç»ç»ä»£ç çéæ¹ï¼ ä½ è¿å¯ä»¥ä½¿ç¨å®ä»¬æ¥åå¶ä»å¼åèè®¨è®ºæ¨¡å¼æè§£å³çé®é¢ã\n * ä½ å¯ä»¥å°æ½è±¡å·¥åæ¨¡å¼åæ¡¥æ¥æ­éä½¿ç¨ã å¦æç±æ¡¥æ¥å®ä¹çæ½è±¡åªè½ä¸ç¹å®å®ç°åä½ï¼ è¿ä¸æ¨¡å¼æ­éå°±éå¸¸æç¨ã å¨è¿ç§æåµä¸ï¼ æ½è±¡å·¥åå¯ä»¥å¯¹è¿äºå³ç³»è¿è¡å°è£ï¼ å¹¶ä¸å¯¹å®¢æ·ç«¯ä»£ç éèå¶å¤ææ§ã\n * ä½ å¯ä»¥ç»åä½¿ç¨çæå¨æ¨¡å¼åæ¡¥æ¥æ¨¡å¼ï¼ ä¸»ç®¡ç±»è´è´£æ½è±¡å·¥ä½ï¼ åç§ä¸åççæå¨è´è´£å®ç°å·¥ä½ã\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',normalizedContent:'# è®¾è®¡æ¨¡å¼ä¹æ¡¥æ¥æ¨¡å¼\n\n\n# æå¾\n\næ¡¥æ¥æ¨¡å¼ (bridge) æ¯ä¸ç§ç»æåè®¾è®¡æ¨¡å¼ï¼ å¯å°æ½è±¡é¨åä¸å®ç°é¨ååç¦»ï¼ä½¿å®ä»¬é½å¯ä»¥ç¬ç«çååã\n\nå¦æä¸ä¸ªç³»ç»éè¦å¨æä»¶çæ½è±¡åè§è²åå·ä½åè§è²ä¹é´å¢å æ´å¤ççµæ´»æ§ï¼é¿åå¨ä¸¤ä¸ªå±æ¬¡ä¹é´å»ºç«éæçèç³»ãæ½è±¡åè§è²åå·ä½åè§è²é½åºè¯¥å¯ä»¥è¢«å­ç±»æ©å±ãå¨è¿ç§æåµä¸ï¼æ¡¥æ¥æ¨¡å¼å¯ä»¥çµæ´»å°ç»åä¸åçæ½è±¡åè§è²åå·ä½åè§è²ï¼å¹¶ç¬ç«åå°æ©å±ã\n\nè®¾è®¡è¦æ±å®ç°åè§è²çä»»ä½æ¹åä¸åºå½å½±åå®¢æ·ç«¯ï¼æèè¯´å®ç°åè§è²çæ¹åå¯¹å®¢æ·ç«¯æ¯å®å¨éæçã\n\n\n# éç¨åºæ¯\n\n * å¦æä½ æ³è¦æåæéç»ä¸ä¸ªå·æå¤éåè½çåºæç±»ï¼ä¾å¦è½ä¸å¤ä¸ªæ°æ®åºæå¡å¨è¿è¡äº¤äºçç±»ï¼ï¼å¯ä»¥ä½¿ç¨æ¡¥æ¥æ¨¡å¼ã\n * å¦æä½ å¸æå¨å ä¸ªç¬ç«ç»´åº¦ä¸æ©å±ä¸ä¸ªç±»ï¼ å¯ä½¿ç¨è¯¥æ¨¡å¼ã\n * å¦æä½ éè¦å¨è¿è¡æ¶åæ¢ä¸åå®ç°æ¹æ³ï¼ å¯ä½¿ç¨æ¡¥æ¥æ¨¡å¼ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. æ½è±¡é¨å ï¼abstractionï¼ æä¾é«å±æ§å¶é»è¾ï¼ ä¾èµäºå®æåºå±å®éå·¥ä½çå®ç°å¯¹è±¡ã\n 2. å®ç°é¨å ï¼implementationï¼ ä¸ºææå·ä½å®ç°å£°æéç¨æ¥å£ã æ½è±¡é¨åä»è½éè¿å¨è¿éå£°æçæ¹æ³ä¸å®ç°å¯¹è±¡äº¤äºã\n    * æ½è±¡é¨åå¯ä»¥ååºåå®ç°é¨åä¸æ ·çæ¹æ³ï¼ ä½æ¯æ½è±¡é¨åéå¸¸å£°æä¸äºå¤æè¡ä¸ºï¼ è¿äºè¡ä¸ºä¾èµäºå¤ç§ç±å®ç°é¨åå£°æçåè¯­æä½ã\n 3. å·ä½å®ç° ï¼concrete implementationsï¼ ä¸­åæ¬ç¹å®äºå¹³å°çä»£ç ã\n 4. ç²¾ç¡®æ½è±¡ ï¼refined abstractionï¼ æä¾æ§å¶é»è¾çåä½ã ä¸å¶ç¶ç±»ä¸æ ·ï¼ å®ä»¬éè¿éç¨å®ç°æ¥å£ä¸ä¸åçå®ç°è¿è¡äº¤äºã\n 5. éå¸¸æåµä¸ï¼ å®¢æ·ç«¯ ï¼clientï¼ ä»å³å¿å¦ä½ä¸æ½è±¡é¨ååä½ã ä½æ¯ï¼ å®¢æ·ç«¯éè¦å°æ½è±¡å¯¹è±¡ä¸ä¸ä¸ªå®ç°å¯¹è±¡è¿æ¥èµ·æ¥ã\n\n\n# ç»æä»£ç èå¼\n\nãimplementorãå®ä¹å®ç°æ¥å£ã\n\ninterface implementor {\n    // å®ç°æ½è±¡é¨åéè¦çæäºå·ä½åè½\n    public void operationimpl();\n}\n\n\nãabstractionãå®ä¹æ½è±¡æ¥å£ã\n\nabstract class abstraction {\n    // ææä¸ä¸ª implementor å¯¹è±¡ï¼å½¢æèåå³ç³»\n    protected implementor implementor;\n\n    public abstraction(implementor implementor) {\n        this.implementor = implementor;\n    }\n\n    // å¯è½éè¦è½¬è°å®ç°é¨åçå·ä½å®ç°\n    public void operation() {\n        implementor.operationimpl();\n    }\n}\n\n\nãconcreteimplementorãå®ç° implementor ä¸­å®ä¹çæ¥å£ã\n\nclass concreteimplementora implements implementor {\n    @override\n    public void operationimpl() {\n        // çæ­£çå®ç°\n        system.out.println("å·ä½å®ç°a");\n    }\n}\n\nclass concreteimplementorb implements implementor {\n    @override\n    public void operationimpl() {\n        // çæ­£çå®ç°\n        system.out.println("å·ä½å®ç°b");\n    }\n}\n\n\nãrefinedabstractionãæ©å± abstraction ç±»ã\n\nclass refinedabstraction extends abstraction {\n\n    public refinedabstraction(implementor implementor) {\n        super(implementor);\n    }\n\n    public void otheroperation() {\n        // å®ç°ä¸å®çåè½ï¼å¯è½ä¼ä½¿ç¨å·ä½å®ç°é¨åçå®ç°æ¹æ³,\n        // ä½æ¯æ¬æ¹æ³æ´å¤§çå¯è½æ¯ä½¿ç¨ abstraction ä¸­å®ä¹çæ¹æ³ï¼\n        // éè¿ç»åä½¿ç¨ abstraction ä¸­å®ä¹çæ¹æ³æ¥å®ææ´å¤çåè½ã\n    }\n}\n\n\nãå®¢æ·ç«¯ã\n\npublic class bridgepattern {\n    public static void main(string[] args) {\n        implementor implementor = new concreteimplementora();\n        refinedabstraction abstraction = new refinedabstraction(implementor);\n        abstraction.operation();\n        abstraction.otheroperation();\n    }\n}\n\n\nãè¾åºã\n\nå·ä½å®ç°a\nå¶ä»æä½\n\n\n\n# ä¼ªä»£ç \n\n\n\né¥æ§å¨åºç±»å£°æäºä¸ä¸ªæåè®¾å¤å¯¹è±¡çå¼ç¨æååéã ææé¥æ§å¨éè¿éç¨è®¾å¤æ¥å£ä¸è®¾å¤è¿è¡äº¤äºï¼ ä½¿å¾åä¸ä¸ªé¥æ§å¨å¯ä»¥æ¯æä¸åç±»åçè®¾å¤ã\n\nä½ å¯ä»¥å¼åç¬ç«äºè®¾å¤ç±»çé¥æ§å¨ç±»ï¼ åªéæ°å»ºä¸ä¸ªé¥æ§å¨å­ç±»å³å¯ã ä¾å¦ï¼ åºç¡é¥æ§å¨å¯è½åªæä¸¤ä¸ªæé®ï¼ ä½ä½ å¯å¨å¶åºç¡ä¸æ©å±æ°åè½ï¼ æ¯å¦é¢å¤çä¸èçµæ± æä¸åè§¦æ¸å±ã\n\nå®¢æ·ç«¯ä»£ç éè¿é¥æ§å¨æé å½æ°å°ç¹å®ç§ç±»çé¥æ§å¨ä¸è®¾å¤å¯¹è±¡è¿æ¥èµ·æ¥ã\n\n// âæ½è±¡é¨åâå®ä¹äºä¸¤ä¸ªç±»å±æ¬¡ç»æä¸­âæ§å¶âé¨åçæ¥å£ãå®ç®¡ççä¸ä¸ªæåâå®\n// ç°é¨åâå±æ¬¡ç»æä¸­å¯¹è±¡çå¼ç¨ï¼å¹¶ä¼å°ææçå®å·¥ä½å§æ´¾ç»è¯¥å¯¹è±¡ã\nclass remotecontrol is\n    protected field device: device\n    constructor remotecontrol(device: device) is\n        this.device = device\n    method togglepower() is\n        if (device.isenabled()) then\n            device.disable()\n        else\n            device.enable()\n    method volumedown() is\n        device.setvolume(device.getvolume() - 10)\n    method volumeup() is\n        device.setvolume(device.getvolume() + 10)\n    method channeldown() is\n        device.setchannel(device.getchannel() - 1)\n    method channelup() is\n        device.setchannel(device.getchannel() + 1)\n\n\n// ä½ å¯ä»¥ç¬ç«äºè®¾å¤ç±»çæ¹å¼ä»æ½è±¡å±ä¸­æ©å±ç±»ã\nclass advancedremotecontrol extends remotecontrol is\n    method mute() is\n        device.setvolume(0)\n\n\n// âå®ç°é¨åâæ¥å£å£°æäºå¨ææå·ä½å®ç°ç±»ä¸­éç¨çæ¹æ³ãå®ä¸éè¦ä¸æ½è±¡æ¥å£ç¸\n// å¹éãå®éä¸ï¼è¿ä¸¤ä¸ªæ¥å£å¯ä»¥å®å¨ä¸ä¸æ ·ãéå¸¸å®ç°æ¥å£åªæä¾åè¯­æä½ï¼è\n// æ½è±¡æ¥å£åä¼åºäºè¿äºæä½å®ä¹è¾é«å±æ¬¡çæä½ã\ninterface device is\n    method isenabled()\n    method enable()\n    method disable()\n    method getvolume()\n    method setvolume(percent)\n    method getchannel()\n    method setchannel(channel)\n\n\n// ææè®¾å¤é½éµå¾ªç¸åçæ¥å£ã\nclass tv implements device is\n    // ...\n\nclass radio implements device is\n    // ...\n\n\n// å®¢æ·ç«¯ä»£ç ä¸­çæä¸ªä½ç½®ã\ntv = new tv()\nremote = new remotecontrol(tv)\nremote.togglepower()\n\nradio = new radio()\nremote = new advancedremotecontrol(radio)\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ æ¡¥æ¥æ¨¡å¼å¨å¤çè·¨å¹³å°åºç¨ã æ¯æå¤ç§ç±»åçæ°æ®åºæå¡å¨æä¸å¤ä¸ªç¹å®ç§ç±» ï¼ä¾å¦äºå¹³å°åç¤¾äº¤ç½ç»ç­ï¼ ç api ä¾åºååä½æ¶ä¼ç¹å«æç¨ã\n\nè¯å«æ¹æ³ï¼ æ¡¥æ¥å¯ä»¥éè¿ä¸äºæ§å¶å®ä½åå¶æä¾èµçå¤ä¸ªä¸åå¹³å°ä¹é´çæç¡®åºå«æ¥è¿è¡è¯å«ã\n\njava ä¸­æ¡¥æ¥æ¨¡å¼åºç¨æç»å¸çä»£è¡¨æ çæ¯æ¥å¿ç»ä»¶ slf4j çæ¡¥æ¥ jar åã\n\nåå¦ï¼ä½ æ­£å¨å¼ååºç¨ç¨åºæè°ç¨çç»ä»¶å½ä¸­å·²ç»ä½¿ç¨äº common-loggingï¼è¿æ¶ä½ éè¦ jcl-over-slf4j.jar ææ¥å¿ä¿¡æ¯è¾åºéå®åå° slf4j-apiï¼slf4j-api åå»è°ç¨ slf4j å®éä¾èµçæ¥å¿ç»ä»¶ãè¿ä¸ªè¿ç¨ç§°ä¸ºæ¡¥æ¥ãä¸å¾æ¯å®æ¹ç slf4j æ¡¥æ¥ç­ç¥å¾ï¼\n\n\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * æ¡¥æ¥æ¨¡å¼éå¸¸ä¼äºå¼ååæè¿è¡è®¾è®¡ï¼ ä½¿ä½ è½å¤å°ç¨åºçåä¸ªé¨åç¬ç«å¼æ¥ä»¥ä¾¿å¼åã å¦ä¸æ¹é¢ï¼ ééå¨æ¨¡å¼éå¸¸å¨å·²æç¨åºä¸­ä½¿ç¨ï¼ è®©ç¸äºä¸å¼å®¹çç±»è½å¾å¥½å°åä½ã\n * æ¡¥æ¥ã ç¶ææ¨¡å¼åç­ç¥æ¨¡å¼ ï¼å¨æç§ç¨åº¦ä¸åæ¬ééå¨ï¼ æ¨¡å¼çæ¥å£éå¸¸ç¸ä¼¼ã å®éä¸ï¼ å®ä»¬é½åºäºç»åæ¨¡å¼ââå³å°å·¥ä½å§æ´¾ç»å¶ä»å¯¹è±¡ï¼ ä¸è¿ä¹åèªè§£å³äºä¸åçé®é¢ã æ¨¡å¼å¹¶ä¸åªæ¯ä»¥ç¹å®æ¹å¼ç»ç»ä»£ç çéæ¹ï¼ ä½ è¿å¯ä»¥ä½¿ç¨å®ä»¬æ¥åå¶ä»å¼åèè®¨è®ºæ¨¡å¼æè§£å³çé®é¢ã\n * ä½ å¯ä»¥å°æ½è±¡å·¥åæ¨¡å¼åæ¡¥æ¥æ­éä½¿ç¨ã å¦æç±æ¡¥æ¥å®ä¹çæ½è±¡åªè½ä¸ç¹å®å®ç°åä½ï¼ è¿ä¸æ¨¡å¼æ­éå°±éå¸¸æç¨ã å¨è¿ç§æåµä¸ï¼ æ½è±¡å·¥åå¯ä»¥å¯¹è¿äºå³ç³»è¿è¡å°è£ï¼ å¹¶ä¸å¯¹å®¢æ·ç«¯ä»£ç éèå¶å¤ææ§ã\n * ä½ å¯ä»¥ç»åä½¿ç¨çæå¨æ¨¡å¼åæ¡¥æ¥æ¨¡å¼ï¼ ä¸»ç®¡ç±»è´è´£æ½è±¡å·¥ä½ï¼ åç§ä¸åççæå¨è´è´£å®ç°å·¥ä½ã\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼ä¹ç»åæ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼ä¹ç»åæ¨¡å¼",date:"2015-01-14T15:33:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/85c0a3/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/09.%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/09.ç»åæ¨¡å¼.md",key:"v-4e6d8200",path:"/pages/85c0a3/",headers:[{level:2,title:"æå¾",slug:"æå¾",normalizedTitle:"æå¾",charIndex:16},{level:2,title:"éç¨åºæ¯",slug:"éç¨åºæ¯",normalizedTitle:"éç¨åºæ¯",charIndex:108},{level:2,title:"ç»æ",slug:"ç»æ",normalizedTitle:"ç»æ",charIndex:40},{level:3,title:"ç»æè¯´æ",slug:"ç»æè¯´æ",normalizedTitle:"ç»æè¯´æ",charIndex:343},{level:3,title:"ç»æä»£ç èå¼",slug:"ç»æä»£ç èå¼",normalizedTitle:"ç»æä»£ç èå¼",charIndex:677},{level:2,title:"ä¼ªä»£ç ",slug:"ä¼ªä»£ç ",normalizedTitle:"ä¼ªä»£ç ",charIndex:2859},{level:2,title:"æ¡ä¾",slug:"æ¡ä¾",normalizedTitle:"æ¡ä¾",charIndex:4836},{level:2,title:"ä¸å¶ä»æ¨¡å¼çå³ç³»",slug:"ä¸å¶ä»æ¨¡å¼çå³ç³»",normalizedTitle:"ä¸å¶ä»æ¨¡å¼çå³ç³»",charIndex:5097},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:5659}],headersStr:"æå¾ éç¨åºæ¯ ç»æ ç»æè¯´æ ç»æä»£ç èå¼ ä¼ªä»£ç  æ¡ä¾ ä¸å¶ä»æ¨¡å¼çå³ç³» åèèµæ",content:'# è®¾è®¡æ¨¡å¼ä¹ç»åæ¨¡å¼\n\n\n# æå¾\n\nç»åæ¨¡å¼ (Component) æ¯ä¸ç§ç»æåè®¾è®¡æ¨¡å¼ï¼å°å¯¹è±¡ç»åææ å½¢ç»æä»¥è¡¨ç¤ºâé¨å-æ´ä½âçå±æ¬¡ç»æã\n\nç»åæ¨¡å¼ä½¿å¾ç¨æ·å¯¹åä¸ªå¯¹è±¡åç»åå¯¹è±¡çä½¿ç¨å·æå¯ä¸æ§ã\n\n\n# éç¨åºæ¯\n\nç»åæ¨¡å¼çéç¨åºæ¯ï¼\n\n * æ³è¦è¡¨ç¤ºå¯¹è±¡çé¨å-æ´ä½å±æ¬¡ç»æã\n * æ³è¦å®¢æ·ç«¯å¿½ç¥ç»åå¯¹è±¡ä¸åä¸ªå¯¹è±¡çå·®å¼ï¼å®¢æ·ç«¯å°ç»ä¸å°ä½¿ç¨ç»åç»æä¸­çææå¯¹è±¡ã\n\nå³äºåçº§æ°æ®ç»æçä¸ä¸ªæ®éæ§çä¾å­æ¯ä½ æ¯æ¬¡ä½¿ç¨çµèæ¶æéå°ç æä»¶ç³»ç»ã\n\næä»¶ç³»ç»ç±ç®å½åæä»¶ç»æãæ¯ä¸ªç®å½é½å¯ä»¥è£åå®¹ãç®å½çåå®¹å¯ä»¥æ¯æä»¶ï¼ä¹ å¯ä»¥æ¯ç®å½ã\n\næç§è¿ç§æ¹å¼ï¼è®¡ç®æºçæä»¶ç³»ç»å°±æ¯ä»¥éå½ç»ææ¥ç»ç»çãå¦æä½ æ³è¦æè¿°è¿æ ·çæ°æ®ç»æï¼é£ä¹ä½ å¯ä»¥ä½¿ç¨ç»åæ¨¡å¼ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. ç»ä»¶ ï¼Componentï¼ æ¥å£æè¿°äºæ ä¸­ç®åé¡¹ç®åå¤æé¡¹ç®æå±æçæä½ã\n 2. å¶èç¹ ï¼Leafï¼ æ¯æ çåºæ¬ç»æï¼ å®ä¸åå«å­é¡¹ç®ãä¸è¬æåµä¸ï¼ å¶èç¹æç»ä¼å®æå¤§é¨åçå®éå·¥ä½ï¼ å ä¸ºå®ä»¬æ æ³å°å·¥ä½ææ´¾ç»å¶ä»é¨åã\n 3. å®¹å¨ ï¼Containerï¼ââåå âç»å ï¼Compositeï¼âââæ¯åå«å¶èç¹æå¶ä»å®¹å¨ç­å­é¡¹ç®çåä½ã å®¹å¨ä¸ç¥éå¶å­é¡¹ç®æå±çå·ä½ç±»ï¼ å®åªéè¿éç¨çç»ä»¶æ¥å£ä¸å¶å­é¡¹ç®äº¤äºãå®¹å¨æ¥æ¶å°è¯·æ±åä¼å°å·¥ä½åéç»èªå·±çå­é¡¹ç®ï¼ å¤çä¸­é´ç»æï¼ ç¶åå°æç»ç»æè¿åç»å®¢æ·ç«¯ã\n 4. å®¢æ·ç«¯ ï¼Clientï¼ éè¿ç»ä»¶æ¥å£ä¸ææé¡¹ç®äº¤äºã å æ­¤ï¼ å®¢æ·ç«¯è½ä»¥ç¸åæ¹å¼ä¸æ ç¶ç»æä¸­çç®åæå¤æé¡¹ç®äº¤äºã\n\n\n# ç»æä»£ç èå¼\n\nComponent : ç»åä¸­çå¯¹è±¡å£°ææ¥å£ï¼å¨éå½çæåµä¸ï¼å®ç°ææç±»å±ææ¥å£çé»è®¤è¡ä¸ºãå£°æä¸ä¸ªæ¥å£ç¨äºè®¿é®åç®¡ç Component çå­é¨ä»¶ã\n\nabstract class Component {\n    protected String name;\n\n    public Component(String name) {\n        this.name = name;\n    }\n\n    public abstract void Add(Component c);\n    public abstract void Remove(Component c);\n    public abstract void Display(int depth);\n}\n\n\nLeaf : è¡¨ç¤ºå¶èç¹å¯¹è±¡ãå¶å­èç¹æ²¡æå­èç¹ã\n\nclass Leaf extends Component {\n\n    public Leaf(String name) {\n        super(name);\n    }\n\n    @Override\n    public void Add(Component c) {\n        System.out.println("Can not add to a leaf");\n    }\n\n    @Override\n    public void Remove(Component c) {\n        System.out.println("Can not remove from a leaf");\n    }\n\n    @Override\n    public void Display(int depth) {\n        String temp = "";\n        for (int i = 0; i < depth; i++)\n            temp += \'-\';\n        System.out.println(temp + name);\n    }\n\n}\n\n\nComposite : å®ä¹æèç¹è¡ä¸ºï¼ç¨æ¥å­å¨å­é¨ä»¶ï¼å¨ Component æ¥å£ä¸­å®ç°ä¸å­é¨ä»¶ç¸å³çæä½ãä¾å¦ Add å Removeã\n\nclass Composite extends Component {\n\n    private List<Component> children = new ArrayList<Component>();\n\n    public Composite(String name) {\n        super(name);\n    }\n\n    @Override\n    public void Add(Component c) {\n        children.add(c);\n    }\n\n    @Override\n    public void Remove(Component c) {\n        children.remove(c);\n    }\n\n    @Override\n    public void Display(int depth) {\n        String temp = "";\n        for (int i = 0; i < depth; i++)\n            temp += \'-\';\n        System.out.println(temp + name);\n\n        for (Component c : children) {\n            c.Display(depth + 2);\n        }\n    }\n\n}\n\n\nClient : éè¿ Component æ¥å£æä½ç»æä¸­çå¯¹è±¡ã\n\npublic class CompositePattern {\n\n    public static void main(String[] args) {\n        Composite root = new Composite("root");\n        root.Add(new Leaf("Leaf A"));\n        root.Add(new Leaf("Leaf B"));\n\n        Composite compX = new Composite("Composite X");\n        compX.Add(new Leaf("Leaf XA"));\n        compX.Add(new Leaf("Leaf XB"));\n        root.Add(compX);\n\n        Composite compXY = new Composite("Composite XY");\n        compXY.Add(new Leaf("Leaf XYA"));\n        compXY.Add(new Leaf("Leaf XYB"));\n        compX.Add(compXY);\n\n        root.Display(1);\n    }\n\n}\n\n\n\n# ä¼ªä»£ç \n\nå¨æ¬ä¾ä¸­ï¼ æä»¬å°åå©ç»åæ¨¡å¼å¸®å©ä½ å¨å¾å½¢ç¼è¾å¨ä¸­å®ç°ä¸ç³»åçå ä½å¾å½¢ã\n\n\n\nç»åå¾å½¢CompoundÂ­Graphic æ¯ä¸ä¸ªå®¹å¨ï¼ å®å¯ä»¥ç±å¤ä¸ªåæ¬å®¹å¨å¨åçå­å¾å½¢ææã ç»åå¾å½¢ä¸ç®åå¾å½¢æ¥æç¸åçæ¹æ³ã ä½æ¯ï¼ ç»åå¾å½¢èªèº«å¹¶ä¸å®æå·ä½å·¥ä½ï¼ èæ¯å°è¯·æ±éå½å°ä¼ éç»èªå·±çå­é¡¹ç®ï¼ ç¶å âæ±æ»â ç»æã\n\néè¿ææå¾å½¢ç±»æå±æçæ¥å£ï¼ å®¢æ·ç«¯ä»£ç å¯ä»¥ä¸ææå¾å½¢äºå¨ã å æ­¤ï¼ å®¢æ·ç«¯ä¸ç¥éä¸å¶äº¤äºçæ¯ç®åå¾å½¢è¿æ¯ç»åå¾å½¢ã å®¢æ·ç«¯å¯ä»¥ä¸éå¸¸å¤æçå¯¹è±¡ç»æè¿è¡äº¤äºï¼ èæ éä¸ç»æè¯¥ç»æçå®ä½ç±»ç´§å¯è¦åã\n\n// ç»ä»¶æ¥å£ä¼å£°æç»åä¸­ç®ååå¤æå¯¹è±¡çéç¨æä½ã\ninterface Graphic is\n    method move(x, y)\n    method draw()\n\n// å¶èç¹ç±»ä»£è¡¨ç»åçç»ç«¯å¯¹è±¡ãå¶èç¹å¯¹è±¡ä¸­ä¸è½åå«ä»»ä½å­å¯¹è±¡ãå¶èç¹å¯¹è±¡\n// éå¸¸ä¼å®æå®éçå·¥ä½ï¼ç»åå¯¹è±¡åä»ä¼å°å·¥ä½å§æ´¾ç»èªå·±çå­é¨ä»¶ã\nclass Dot implements Graphic is\n    field x, y\n\n    constructor Dot(x, y) { ... }\n\n    method move(x, y) is\n        this.x += x, this.y += y\n\n    method draw() is\n        // å¨åæ ä½ç½®(X,Y)å¤ç»å¶ä¸ä¸ªç¹ã\n\n// ææç»ä»¶ç±»é½å¯ä»¥æ©å±å¶ä»ç»ä»¶ã\nclass Circle extends Dot is\n    field radius\n\n    constructor Circle(x, y, radius) { ... }\n\n    method draw() is\n        // å¨åæ ä½ç½®(X,Y)å¤ç»å¶ä¸ä¸ªåå¾ä¸º R çåã\n\n// ç»åç±»è¡¨ç¤ºå¯è½åå«å­é¡¹ç®çå¤æç»ä»¶ãç»åå¯¹è±¡éå¸¸ä¼å°å®éå·¥ä½å§æ´¾ç»å­é¡¹\n// ç®ï¼ç¶åâæ±æ»âç»æã\nclass CompoundGraphic implements Graphic is\n    field children: array of Graphic\n\n    // ç»åå¯¹è±¡å¯å¨å¶é¡¹ç®åè¡¨ä¸­æ·»å æç§»é¤å¶ä»ç»ä»¶ï¼ç®åçæå¤æççå¯ï¼ã\n    method add(child: Graphic) is\n        // å¨å­é¡¹ç®æ°ç»ä¸­æ·»å ä¸ä¸ªå­é¡¹ç®ã\n\n    method remove(child: Graphic) is\n        // ä»å­é¡¹ç®æ°ç»ä¸­ç§»é¤ä¸ä¸ªå­é¡¹ç®ã\n\n    method move(x, y) is\n        foreach (child in children) do\n            child.move(x, y)\n\n    // ç»åä¼ä»¥ç¹å®çæ¹å¼æ§è¡å¶ä¸»è¦é»è¾ãå®ä¼éå½éåææå­é¡¹ç®ï¼å¹¶æ¶éå\n    // æ±æ»å¶ç»æãç±äºç»åçå­é¡¹ç®ä¹ä¼å°è°ç¨ä¼ éç»èªå·±çå­é¡¹ç®ï¼ä»¥æ­¤ç±»æ¨ï¼\n    // æåç»åå°ä¼å®ææ´ä¸ªå¯¹è±¡æ çéåå·¥ä½ã\n    method draw() is\n        // 1. å¯¹äºæ¯ä¸ªå­é¨ä»¶ï¼\n        //     - ç»å¶è¯¥é¨ä»¶ã\n        //     - æ´æ°è¾¹æ¡åæ ã\n        // 2. æ ¹æ®è¾¹æ¡åæ ç»å¶ä¸ä¸ªèçº¿é¿æ¹å½¢ã\n\n\n// å®¢æ·ç«¯ä»£ç ä¼éè¿åºç¡æ¥å£ä¸ææç»ä»¶è¿è¡äº¤äºãè¿æ ·ä¸æ¥ï¼å®¢æ·ç«¯ä»£ç ä¾¿å¯å\n// æ¶æ¯æç®åå¶èç¹ç»ä»¶åå¤æç»ä»¶ã\nclass ImageEditor is\n    field all: CompoundGraphic\n\n    method load() is\n        all = new CompoundGraphic()\n        all.add(new Dot(1, 2))\n        all.add(new Circle(5, 3, 10))\n        // ...\n\n    // å°æéç»ä»¶ç»åä¸ºå¤æçç»åç»ä»¶ã\n    method groupSelected(components: array of Graphic) is\n        group = new CompoundGraphic()\n        foreach (component in components) do\n            group.add(component)\n            all.remove(component)\n        all.add(group)\n        // ææç»ä»¶é½å°è¢«ç»å¶ã\n        all.draw()\n\n\n\n# æ¡ä¾\n\nä½¿ç¨å®ä¾ï¼ ç»åæ¨¡å¼å¨ Java ä»£ç ä¸­å¾å¸¸è§,å¸¸ç¨äºè¡¨ç¤ºä¸å¾å½¢æäº¤éçç¨æ·çé¢ç»ä»¶æä»£ç çå±æ¬¡ç»æã\n\nä¸é¢æ¯ä¸äºæ¥èª Java æ åç¨åºåºä¸­çç»åç¤ºä¾ï¼\n\n * java.awt.Container#add(Component) ï¼å ä¹å¹¿æ³å­å¨äº Swing ç»ä»¶ä¸­ï¼\n * javax.faces.component.UIComponent#getChildren() ï¼å ä¹å¹¿æ³å­å¨äº JSF UI ç»ä»¶ä¸­ï¼\n\nè¯å«æ¹æ³ï¼ ç»åå¯ä»¥éè¿å°åä¸æ½è±¡ææ¥å£ç±»åçå®ä¾æ¾å¥æ ç¶ç»æçè¡ä¸ºæ¹æ³æ¥è½»æ¾è¯å«ã\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * æ¡¥æ¥æ¨¡å¼ã ç¶ææ¨¡å¼åç­ç¥æ¨¡å¼ ï¼å¨æç§ç¨åº¦ä¸åæ¬ééå¨æ¨¡å¼ï¼ æ¨¡å¼çæ¥å£éå¸¸ç¸ä¼¼ã å®éä¸ï¼ å®ä»¬é½åºäºç»åæ¨¡å¼ââå³å°å·¥ä½å§æ´¾ç»å¶ä»å¯¹è±¡ï¼ ä¸è¿ä¹åèªè§£å³äºä¸åçé®é¢ã æ¨¡å¼å¹¶ä¸åªæ¯ä»¥ç¹å®æ¹å¼ç»ç»ä»£ç çéæ¹ï¼ ä½ è¿å¯ä»¥ä½¿ç¨å®ä»¬æ¥åå¶ä»å¼åèè®¨è®ºæ¨¡å¼æè§£å³çé®é¢ã\n * ä½ å¯ä»¥å¨åå»ºå¤æç»åæ æ¶ä½¿ç¨çæå¨æ¨¡å¼ï¼ å ä¸ºè¿å¯ä½¿å¶æé æ­¥éª¤ä»¥éå½çæ¹å¼è¿è¡ã\n * è´£ä»»é¾æ¨¡å¼éå¸¸åç»åæ¨¡å¼ç»åä½¿ç¨ã å¨è¿ç§æåµä¸ï¼ å¶ç»ä»¶æ¥æ¶å°è¯·æ±åï¼ å¯ä»¥å°è¯·æ±æ²¿åå«å¨ä½ç¶ç»ä»¶çé¾ä¸ç´ä¼ éè³å¯¹è±¡æ çåºé¨ã\n * ä½ å¯ä»¥ä½¿ç¨è¿­ä»£å¨æ¨¡å¼æ¥éåç»åæ ã\n * ä½ å¯ä»¥ä½¿ç¨è®¿é®èæ¨¡å¼å¯¹æ´ä¸ªç»åæ æ§è¡æä½ã\n * ä½ å¯ä»¥ä½¿ç¨äº«åæ¨¡å¼å®ç°ç»åæ çå±äº«å¶èç¹ä»¥èçåå­ã\n * ç»ååè£é¥°æ¨¡å¼çç»æå¾å¾ç¸ä¼¼ï¼ å ä¸ºä¸¤èé½ä¾èµéå½ç»åæ¥ç»ç»æ éæ°éçå¯¹è±¡ã\n   * è£é¥°ç±»ä¼¼äºç»åï¼ ä½å¶åªæä¸ä¸ªå­ç»ä»¶ã æ­¤å¤è¿æä¸ä¸ªææ¾ä¸åï¼ è£é¥°ä¸ºè¢«å°è£å¯¹è±¡æ·»å äºé¢å¤çèè´£ï¼ ç»åä»å¯¹å¶å­èç¹çç»æè¿è¡äº âæ±åâã\n   * ä½æ¯ï¼ æ¨¡å¼ä¹å¯ä»¥ç¸äºåä½ï¼ ä½ å¯ä»¥ä½¿ç¨è£é¥°æ¥æ©å±ç»åæ ä¸­ç¹å®å¯¹è±¡çè¡ä¸ºã\n * å¤§éä½¿ç¨ç»ååè£é¥°çè®¾è®¡éå¸¸å¯ä»å¯¹äºååæ¨¡å¼çä½¿ç¨ä¸­è·çã ä½ å¯ä»¥éè¿è¯¥æ¨¡å¼æ¥å¤å¶å¤æç»æï¼ èéä»é¶å¼å§éæ°æé ã\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',normalizedContent:'# è®¾è®¡æ¨¡å¼ä¹ç»åæ¨¡å¼\n\n\n# æå¾\n\nç»åæ¨¡å¼ (component) æ¯ä¸ç§ç»æåè®¾è®¡æ¨¡å¼ï¼å°å¯¹è±¡ç»åææ å½¢ç»æä»¥è¡¨ç¤ºâé¨å-æ´ä½âçå±æ¬¡ç»æã\n\nç»åæ¨¡å¼ä½¿å¾ç¨æ·å¯¹åä¸ªå¯¹è±¡åç»åå¯¹è±¡çä½¿ç¨å·æå¯ä¸æ§ã\n\n\n# éç¨åºæ¯\n\nç»åæ¨¡å¼çéç¨åºæ¯ï¼\n\n * æ³è¦è¡¨ç¤ºå¯¹è±¡çé¨å-æ´ä½å±æ¬¡ç»æã\n * æ³è¦å®¢æ·ç«¯å¿½ç¥ç»åå¯¹è±¡ä¸åä¸ªå¯¹è±¡çå·®å¼ï¼å®¢æ·ç«¯å°ç»ä¸å°ä½¿ç¨ç»åç»æä¸­çææå¯¹è±¡ã\n\nå³äºåçº§æ°æ®ç»æçä¸ä¸ªæ®éæ§çä¾å­æ¯ä½ æ¯æ¬¡ä½¿ç¨çµèæ¶æéå°ç æä»¶ç³»ç»ã\n\næä»¶ç³»ç»ç±ç®å½åæä»¶ç»æãæ¯ä¸ªç®å½é½å¯ä»¥è£åå®¹ãç®å½çåå®¹å¯ä»¥æ¯æä»¶ï¼ä¹ å¯ä»¥æ¯ç®å½ã\n\næç§è¿ç§æ¹å¼ï¼è®¡ç®æºçæä»¶ç³»ç»å°±æ¯ä»¥éå½ç»ææ¥ç»ç»çãå¦æä½ æ³è¦æè¿°è¿æ ·çæ°æ®ç»æï¼é£ä¹ä½ å¯ä»¥ä½¿ç¨ç»åæ¨¡å¼ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. ç»ä»¶ ï¼componentï¼ æ¥å£æè¿°äºæ ä¸­ç®åé¡¹ç®åå¤æé¡¹ç®æå±æçæä½ã\n 2. å¶èç¹ ï¼leafï¼ æ¯æ çåºæ¬ç»æï¼ å®ä¸åå«å­é¡¹ç®ãä¸è¬æåµä¸ï¼ å¶èç¹æç»ä¼å®æå¤§é¨åçå®éå·¥ä½ï¼ å ä¸ºå®ä»¬æ æ³å°å·¥ä½ææ´¾ç»å¶ä»é¨åã\n 3. å®¹å¨ ï¼containerï¼ââåå âç»å ï¼compositeï¼âââæ¯åå«å¶èç¹æå¶ä»å®¹å¨ç­å­é¡¹ç®çåä½ã å®¹å¨ä¸ç¥éå¶å­é¡¹ç®æå±çå·ä½ç±»ï¼ å®åªéè¿éç¨çç»ä»¶æ¥å£ä¸å¶å­é¡¹ç®äº¤äºãå®¹å¨æ¥æ¶å°è¯·æ±åä¼å°å·¥ä½åéç»èªå·±çå­é¡¹ç®ï¼ å¤çä¸­é´ç»æï¼ ç¶åå°æç»ç»æè¿åç»å®¢æ·ç«¯ã\n 4. å®¢æ·ç«¯ ï¼clientï¼ éè¿ç»ä»¶æ¥å£ä¸ææé¡¹ç®äº¤äºã å æ­¤ï¼ å®¢æ·ç«¯è½ä»¥ç¸åæ¹å¼ä¸æ ç¶ç»æä¸­çç®åæå¤æé¡¹ç®äº¤äºã\n\n\n# ç»æä»£ç èå¼\n\ncomponent : ç»åä¸­çå¯¹è±¡å£°ææ¥å£ï¼å¨éå½çæåµä¸ï¼å®ç°ææç±»å±ææ¥å£çé»è®¤è¡ä¸ºãå£°æä¸ä¸ªæ¥å£ç¨äºè®¿é®åç®¡ç component çå­é¨ä»¶ã\n\nabstract class component {\n    protected string name;\n\n    public component(string name) {\n        this.name = name;\n    }\n\n    public abstract void add(component c);\n    public abstract void remove(component c);\n    public abstract void display(int depth);\n}\n\n\nleaf : è¡¨ç¤ºå¶èç¹å¯¹è±¡ãå¶å­èç¹æ²¡æå­èç¹ã\n\nclass leaf extends component {\n\n    public leaf(string name) {\n        super(name);\n    }\n\n    @override\n    public void add(component c) {\n        system.out.println("can not add to a leaf");\n    }\n\n    @override\n    public void remove(component c) {\n        system.out.println("can not remove from a leaf");\n    }\n\n    @override\n    public void display(int depth) {\n        string temp = "";\n        for (int i = 0; i < depth; i++)\n            temp += \'-\';\n        system.out.println(temp + name);\n    }\n\n}\n\n\ncomposite : å®ä¹æèç¹è¡ä¸ºï¼ç¨æ¥å­å¨å­é¨ä»¶ï¼å¨ component æ¥å£ä¸­å®ç°ä¸å­é¨ä»¶ç¸å³çæä½ãä¾å¦ add å removeã\n\nclass composite extends component {\n\n    private list<component> children = new arraylist<component>();\n\n    public composite(string name) {\n        super(name);\n    }\n\n    @override\n    public void add(component c) {\n        children.add(c);\n    }\n\n    @override\n    public void remove(component c) {\n        children.remove(c);\n    }\n\n    @override\n    public void display(int depth) {\n        string temp = "";\n        for (int i = 0; i < depth; i++)\n            temp += \'-\';\n        system.out.println(temp + name);\n\n        for (component c : children) {\n            c.display(depth + 2);\n        }\n    }\n\n}\n\n\nclient : éè¿ component æ¥å£æä½ç»æä¸­çå¯¹è±¡ã\n\npublic class compositepattern {\n\n    public static void main(string[] args) {\n        composite root = new composite("root");\n        root.add(new leaf("leaf a"));\n        root.add(new leaf("leaf b"));\n\n        composite compx = new composite("composite x");\n        compx.add(new leaf("leaf xa"));\n        compx.add(new leaf("leaf xb"));\n        root.add(compx);\n\n        composite compxy = new composite("composite xy");\n        compxy.add(new leaf("leaf xya"));\n        compxy.add(new leaf("leaf xyb"));\n        compx.add(compxy);\n\n        root.display(1);\n    }\n\n}\n\n\n\n# ä¼ªä»£ç \n\nå¨æ¬ä¾ä¸­ï¼ æä»¬å°åå©ç»åæ¨¡å¼å¸®å©ä½ å¨å¾å½¢ç¼è¾å¨ä¸­å®ç°ä¸ç³»åçå ä½å¾å½¢ã\n\n\n\nç»åå¾å½¢compoundÂ­graphic æ¯ä¸ä¸ªå®¹å¨ï¼ å®å¯ä»¥ç±å¤ä¸ªåæ¬å®¹å¨å¨åçå­å¾å½¢ææã ç»åå¾å½¢ä¸ç®åå¾å½¢æ¥æç¸åçæ¹æ³ã ä½æ¯ï¼ ç»åå¾å½¢èªèº«å¹¶ä¸å®æå·ä½å·¥ä½ï¼ èæ¯å°è¯·æ±éå½å°ä¼ éç»èªå·±çå­é¡¹ç®ï¼ ç¶å âæ±æ»â ç»æã\n\néè¿ææå¾å½¢ç±»æå±æçæ¥å£ï¼ å®¢æ·ç«¯ä»£ç å¯ä»¥ä¸ææå¾å½¢äºå¨ã å æ­¤ï¼ å®¢æ·ç«¯ä¸ç¥éä¸å¶äº¤äºçæ¯ç®åå¾å½¢è¿æ¯ç»åå¾å½¢ã å®¢æ·ç«¯å¯ä»¥ä¸éå¸¸å¤æçå¯¹è±¡ç»æè¿è¡äº¤äºï¼ èæ éä¸ç»æè¯¥ç»æçå®ä½ç±»ç´§å¯è¦åã\n\n// ç»ä»¶æ¥å£ä¼å£°æç»åä¸­ç®ååå¤æå¯¹è±¡çéç¨æä½ã\ninterface graphic is\n    method move(x, y)\n    method draw()\n\n// å¶èç¹ç±»ä»£è¡¨ç»åçç»ç«¯å¯¹è±¡ãå¶èç¹å¯¹è±¡ä¸­ä¸è½åå«ä»»ä½å­å¯¹è±¡ãå¶èç¹å¯¹è±¡\n// éå¸¸ä¼å®æå®éçå·¥ä½ï¼ç»åå¯¹è±¡åä»ä¼å°å·¥ä½å§æ´¾ç»èªå·±çå­é¨ä»¶ã\nclass dot implements graphic is\n    field x, y\n\n    constructor dot(x, y) { ... }\n\n    method move(x, y) is\n        this.x += x, this.y += y\n\n    method draw() is\n        // å¨åæ ä½ç½®(x,y)å¤ç»å¶ä¸ä¸ªç¹ã\n\n// ææç»ä»¶ç±»é½å¯ä»¥æ©å±å¶ä»ç»ä»¶ã\nclass circle extends dot is\n    field radius\n\n    constructor circle(x, y, radius) { ... }\n\n    method draw() is\n        // å¨åæ ä½ç½®(x,y)å¤ç»å¶ä¸ä¸ªåå¾ä¸º r çåã\n\n// ç»åç±»è¡¨ç¤ºå¯è½åå«å­é¡¹ç®çå¤æç»ä»¶ãç»åå¯¹è±¡éå¸¸ä¼å°å®éå·¥ä½å§æ´¾ç»å­é¡¹\n// ç®ï¼ç¶åâæ±æ»âç»æã\nclass compoundgraphic implements graphic is\n    field children: array of graphic\n\n    // ç»åå¯¹è±¡å¯å¨å¶é¡¹ç®åè¡¨ä¸­æ·»å æç§»é¤å¶ä»ç»ä»¶ï¼ç®åçæå¤æççå¯ï¼ã\n    method add(child: graphic) is\n        // å¨å­é¡¹ç®æ°ç»ä¸­æ·»å ä¸ä¸ªå­é¡¹ç®ã\n\n    method remove(child: graphic) is\n        // ä»å­é¡¹ç®æ°ç»ä¸­ç§»é¤ä¸ä¸ªå­é¡¹ç®ã\n\n    method move(x, y) is\n        foreach (child in children) do\n            child.move(x, y)\n\n    // ç»åä¼ä»¥ç¹å®çæ¹å¼æ§è¡å¶ä¸»è¦é»è¾ãå®ä¼éå½éåææå­é¡¹ç®ï¼å¹¶æ¶éå\n    // æ±æ»å¶ç»æãç±äºç»åçå­é¡¹ç®ä¹ä¼å°è°ç¨ä¼ éç»èªå·±çå­é¡¹ç®ï¼ä»¥æ­¤ç±»æ¨ï¼\n    // æåç»åå°ä¼å®ææ´ä¸ªå¯¹è±¡æ çéåå·¥ä½ã\n    method draw() is\n        // 1. å¯¹äºæ¯ä¸ªå­é¨ä»¶ï¼\n        //     - ç»å¶è¯¥é¨ä»¶ã\n        //     - æ´æ°è¾¹æ¡åæ ã\n        // 2. æ ¹æ®è¾¹æ¡åæ ç»å¶ä¸ä¸ªèçº¿é¿æ¹å½¢ã\n\n\n// å®¢æ·ç«¯ä»£ç ä¼éè¿åºç¡æ¥å£ä¸ææç»ä»¶è¿è¡äº¤äºãè¿æ ·ä¸æ¥ï¼å®¢æ·ç«¯ä»£ç ä¾¿å¯å\n// æ¶æ¯æç®åå¶èç¹ç»ä»¶åå¤æç»ä»¶ã\nclass imageeditor is\n    field all: compoundgraphic\n\n    method load() is\n        all = new compoundgraphic()\n        all.add(new dot(1, 2))\n        all.add(new circle(5, 3, 10))\n        // ...\n\n    // å°æéç»ä»¶ç»åä¸ºå¤æçç»åç»ä»¶ã\n    method groupselected(components: array of graphic) is\n        group = new compoundgraphic()\n        foreach (component in components) do\n            group.add(component)\n            all.remove(component)\n        all.add(group)\n        // ææç»ä»¶é½å°è¢«ç»å¶ã\n        all.draw()\n\n\n\n# æ¡ä¾\n\nä½¿ç¨å®ä¾ï¼ ç»åæ¨¡å¼å¨ java ä»£ç ä¸­å¾å¸¸è§,å¸¸ç¨äºè¡¨ç¤ºä¸å¾å½¢æäº¤éçç¨æ·çé¢ç»ä»¶æä»£ç çå±æ¬¡ç»æã\n\nä¸é¢æ¯ä¸äºæ¥èª java æ åç¨åºåºä¸­çç»åç¤ºä¾ï¼\n\n * java.awt.container#add(component) ï¼å ä¹å¹¿æ³å­å¨äº swing ç»ä»¶ä¸­ï¼\n * javax.faces.component.uicomponent#getchildren() ï¼å ä¹å¹¿æ³å­å¨äº jsf ui ç»ä»¶ä¸­ï¼\n\nè¯å«æ¹æ³ï¼ ç»åå¯ä»¥éè¿å°åä¸æ½è±¡ææ¥å£ç±»åçå®ä¾æ¾å¥æ ç¶ç»æçè¡ä¸ºæ¹æ³æ¥è½»æ¾è¯å«ã\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * æ¡¥æ¥æ¨¡å¼ã ç¶ææ¨¡å¼åç­ç¥æ¨¡å¼ ï¼å¨æç§ç¨åº¦ä¸åæ¬ééå¨æ¨¡å¼ï¼ æ¨¡å¼çæ¥å£éå¸¸ç¸ä¼¼ã å®éä¸ï¼ å®ä»¬é½åºäºç»åæ¨¡å¼ââå³å°å·¥ä½å§æ´¾ç»å¶ä»å¯¹è±¡ï¼ ä¸è¿ä¹åèªè§£å³äºä¸åçé®é¢ã æ¨¡å¼å¹¶ä¸åªæ¯ä»¥ç¹å®æ¹å¼ç»ç»ä»£ç çéæ¹ï¼ ä½ è¿å¯ä»¥ä½¿ç¨å®ä»¬æ¥åå¶ä»å¼åèè®¨è®ºæ¨¡å¼æè§£å³çé®é¢ã\n * ä½ å¯ä»¥å¨åå»ºå¤æç»åæ æ¶ä½¿ç¨çæå¨æ¨¡å¼ï¼ å ä¸ºè¿å¯ä½¿å¶æé æ­¥éª¤ä»¥éå½çæ¹å¼è¿è¡ã\n * è´£ä»»é¾æ¨¡å¼éå¸¸åç»åæ¨¡å¼ç»åä½¿ç¨ã å¨è¿ç§æåµä¸ï¼ å¶ç»ä»¶æ¥æ¶å°è¯·æ±åï¼ å¯ä»¥å°è¯·æ±æ²¿åå«å¨ä½ç¶ç»ä»¶çé¾ä¸ç´ä¼ éè³å¯¹è±¡æ çåºé¨ã\n * ä½ å¯ä»¥ä½¿ç¨è¿­ä»£å¨æ¨¡å¼æ¥éåç»åæ ã\n * ä½ å¯ä»¥ä½¿ç¨è®¿é®èæ¨¡å¼å¯¹æ´ä¸ªç»åæ æ§è¡æä½ã\n * ä½ å¯ä»¥ä½¿ç¨äº«åæ¨¡å¼å®ç°ç»åæ çå±äº«å¶èç¹ä»¥èçåå­ã\n * ç»ååè£é¥°æ¨¡å¼çç»æå¾å¾ç¸ä¼¼ï¼ å ä¸ºä¸¤èé½ä¾èµéå½ç»åæ¥ç»ç»æ éæ°éçå¯¹è±¡ã\n   * è£é¥°ç±»ä¼¼äºç»åï¼ ä½å¶åªæä¸ä¸ªå­ç»ä»¶ã æ­¤å¤è¿æä¸ä¸ªææ¾ä¸åï¼ è£é¥°ä¸ºè¢«å°è£å¯¹è±¡æ·»å äºé¢å¤çèè´£ï¼ ç»åä»å¯¹å¶å­èç¹çç»æè¿è¡äº âæ±åâã\n   * ä½æ¯ï¼ æ¨¡å¼ä¹å¯ä»¥ç¸äºåä½ï¼ ä½ å¯ä»¥ä½¿ç¨è£é¥°æ¥æ©å±ç»åæ ä¸­ç¹å®å¯¹è±¡çè¡ä¸ºã\n * å¤§éä½¿ç¨ç»ååè£é¥°çè®¾è®¡éå¸¸å¯ä»å¯¹äºååæ¨¡å¼çä½¿ç¨ä¸­è·çã ä½ å¯ä»¥éè¿è¯¥æ¨¡å¼æ¥å¤å¶å¤æç»æï¼ èéä»é¶å¼å§éæ°æé ã\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼ä¹è£é¥°æ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼ä¹è£é¥°æ¨¡å¼",date:"2015-01-15T15:41:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/2e24a8/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/10.%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/10.è£é¥°æ¨¡å¼.md",key:"v-2c19e87c",path:"/pages/2e24a8/",headers:[{level:2,title:"æå¾",slug:"æå¾",normalizedTitle:"æå¾",charIndex:16},{level:2,title:"éååºæ¯",slug:"éååºæ¯",normalizedTitle:"éååºæ¯",charIndex:315},{level:2,title:"ç»æ",slug:"ç»æ",normalizedTitle:"ç»æ",charIndex:40},{level:3,title:"ç»æè¯´æ",slug:"ç»æè¯´æ",normalizedTitle:"ç»æè¯´æ",charIndex:431},{level:3,title:"ç»æä»£ç èå¼",slug:"ç»æä»£ç èå¼",normalizedTitle:"ç»æä»£ç èå¼",charIndex:793},{level:2,title:"ä¼ªä»£ç ",slug:"ä¼ªä»£ç ",normalizedTitle:"ä¼ªä»£ç ",charIndex:2787},{level:2,title:"æ¡ä¾",slug:"æ¡ä¾",normalizedTitle:"æ¡ä¾",charIndex:5767},{level:2,title:"ä¸å¶ä»æ¨¡å¼çå³ç³»",slug:"ä¸å¶ä»æ¨¡å¼çå³ç³»",normalizedTitle:"ä¸å¶ä»æ¨¡å¼çå³ç³»",charIndex:6129},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:6807}],headersStr:"æå¾ éååºæ¯ ç»æ ç»æè¯´æ ç»æä»£ç èå¼ ä¼ªä»£ç  æ¡ä¾ ä¸å¶ä»æ¨¡å¼çå³ç³» åèèµæ",content:'# è®¾è®¡æ¨¡å¼ä¹è£é¥°æ¨¡å¼\n\n\n# æå¾\n\nè£é¥°æ¨¡å¼ (Decorator) æ¯ä¸ç§ç»æåè®¾è®¡æ¨¡å¼ï¼å¨æå°ç»ä¸ä¸ªå¯¹è±¡æ·»å ä¸äºé¢å¤çèè´£ãå°±å¢å åè½æ¥è¯´ï¼Decorator æ¨¡å¼ç¸æ¯çæå­ç±»æ´ä¸ºçµæ´»ã\n\n * è£é¥°å¯¹è±¡åçå®å¯¹è±¡æç¸åçæ¥å£ãè¿æ ·å®¢æ·ç«¯å¯¹è±¡å°±è½ä»¥åçå®å¯¹è±¡ç¸åçæ¹å¼åè£é¥°å¯¹è±¡äº¤äºã\n * è£é¥°å¯¹è±¡åå«ä¸ä¸ªçå®å¯¹è±¡çå¼ç¨ï¼referenceï¼ã\n * è£é¥°å¯¹è±¡æ¥åæææ¥èªå®¢æ·ç«¯çè¯·æ±ãå®æè¿äºè¯·æ±è½¬åç»çå®çå¯¹è±¡ã\n * è£é¥°å¯¹è±¡å¯ä»¥å¨è½¬åè¿äºè¯·æ±ä»¥åæä»¥åå¢å ä¸äºéå åè½ãè¿æ ·å°±ç¡®ä¿äºå¨è¿è¡æ¶ï¼ä¸ç¨ä¿®æ¹ç»å®å¯¹è±¡çç»æå°±å¯ä»¥å¨å¤é¨å¢å éå çåè½ãå¨é¢åå¯¹è±¡çè®¾è®¡ä¸­ï¼éå¸¸æ¯éè¿ç»§æ¿æ¥å®ç°å¯¹ç»å®ç±»çåè½æ©å±ã\n\n\n# éååºæ¯\n\n * å¦æä½ å¸æå¨æ éä¿®æ¹ä»£ç çæåµä¸å³å¯ä½¿ç¨å¯¹è±¡ï¼ ä¸å¸æå¨è¿è¡æ¶ä¸ºå¯¹è±¡æ°å¢é¢å¤çè¡ä¸ºï¼ å¯ä»¥ä½¿ç¨è£é¥°æ¨¡å¼ã\n * å¦æç¨ç»§æ¿æ¥æ©å±å¯¹è±¡è¡ä¸ºçæ¹æ¡é¾ä»¥å®ç°æèæ ¹æ¬ä¸å¯è¡ï¼ ä½ å¯ä»¥ä½¿ç¨è¯¥æ¨¡å¼ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. é¨ä»¶ ï¼Componentï¼ å£°æå°è£å¨åè¢«å°è£å¯¹è±¡çå¬ç¨æ¥å£ã\n 2. å·ä½é¨ä»¶ ï¼Concrete Componentï¼ ç±»æ¯è¢«å°è£å¯¹è±¡æå±çç±»ã å®å®ä¹äºåºç¡è¡ä¸ºï¼ ä½è£é¥°ç±»å¯ä»¥æ¹åè¿äºè¡ä¸ºã\n 3. åºç¡è£é¥° ï¼Base Decoratorï¼ ç±»æ¥æä¸ä¸ªæåè¢«å°è£å¯¹è±¡çå¼ç¨æååéã è¯¥åéçç±»ååºå½è¢«å£°æä¸ºéç¨é¨ä»¶æ¥å£ï¼ è¿æ ·å®å°±å¯ä»¥å¼ç¨å·ä½çé¨ä»¶åè£é¥°ã è£é¥°åºç±»ä¼å°æææä½å§æ´¾ç»è¢«å°è£çå¯¹è±¡ã\n 4. å·ä½è£é¥°ç±» ï¼Concrete Decoratorsï¼ å®ä¹äºå¯å¨ææ·»å å°é¨ä»¶çé¢å¤è¡ä¸ºã å·ä½è£é¥°ç±»ä¼éåè£é¥°åºç±»çæ¹æ³ï¼ å¹¶å¨è°ç¨ç¶ç±»æ¹æ³ä¹åæä¹åè¿è¡é¢å¤çè¡ä¸ºã\n 5. å®¢æ·ç«¯ ï¼Clientï¼ å¯ä»¥ä½¿ç¨å¤å±è£é¥°æ¥å°è£é¨ä»¶ï¼ åªè¦å®è½ä½¿ç¨éç¨æ¥å£ä¸ææå¯¹è±¡äºå¨å³å¯ã\n\n\n# ç»æä»£ç èå¼\n\nComponent : å®ä¹ä¸ä¸ªå¯¹è±¡æ¥å£ï¼å¯ä»¥ç»è¿äºå¯¹è±¡å¨æå°æ·»å èè´£ã\n\ninterface Component {\n    public void operation();\n}\n\n\nConcreteComponent : å®ç° Component å®ä¹çæ¥å£ã\n\nclass ConcreteComponent implements Component {\n    @Override\n    public void operation() {\n        System.out.println("åå§è¡ä¸º");\n    }\n}\n\n\nDecorator : è£é¥°æ½è±¡ç±»ï¼ç»§æ¿äº Componentï¼ ä»å¤ç±»æ¥æ©å± Component ç±»çåè½ï¼ä½å¯¹äº Component æ¥è¯´ï¼æ¯æ éç¥é Decorator çå­å¨çã\n\nclass Decorator implements Component {\n    // ææä¸ä¸ª Component å¯¹è±¡ï¼å Component å½¢æèåå³ç³»\n    protected Component component;\n\n    // ä¼ å¥è¦è¿ä¸æ­¥ä¿®é¥°çå¯¹è±¡\n    public Decorator(Component component) {\n        this.component = component;\n    }\n\n    @Override\n    // è°ç¨è¦ä¿®é¥°å¯¹è±¡çåæ¹æ³\n    public void operation() {\n        component.operation();\n    }\n}\n\n\nConcreteDecorator : å·ä½çè£é¥°å¯¹è±¡ï¼èµ·å°ç» Component æ·»å èè´£çåè½ã\n\nclass ConcreteDecoratorA extends Decorator {\n    private String addedState = "æ°å±æ§1";\n\n    public ConcreteDecoratorA(Component component) {\n        super(component);\n    }\n\n    public void operation() {\n        super.operation();\n        System.out.println("æ·»å å±æ§: " + addedState);\n    }\n}\n\nclass ConcreteDecoratorB extends Decorator {\n    public ConcreteDecoratorB(Component component) {\n        super(component);\n    }\n\n    public void operation() {\n        super.operation();\n        AddedBehavior();\n    }\n\n    public void AddedBehavior() {\n        System.out.println("æ·»å è¡ä¸º");\n    }\n}\n\n\nãå®¢æ·ç«¯ã\n\npublic class DecoratorPattern {\n    public static void main(String[] args) {\n        Component component = new ConcreteComponent();\n        component.operation();\n\n        System.out.println("======================================");\n        Decorator decoratorA = new ConcreteDecoratorA(component);\n        decoratorA.operation();\n\n        System.out.println("======================================");\n        Decorator decoratorB = new ConcreteDecoratorB(decoratorA);\n        decoratorB.operation();\n    }\n}\n\n\nãè¾åºã\n\nåå§è¡ä¸º\n======================================\nåå§è¡ä¸º\næ·»å å±æ§: æ°å±æ§1\n======================================\nåå§è¡ä¸º\næ·»å å±æ§: æ°å±æ§1\næ·»å è¡ä¸º\n\n\n\n# ä¼ªä»£ç \n\n\n\nå¨æ¬ä¾ä¸­ï¼ è£é¥°æ¨¡å¼è½å¤å¯¹æææ°æ®è¿è¡åç¼©åå å¯ï¼ ä»èå°æ°æ®ä»ä½¿ç¨æ°æ®çä»£ç ä¸­ç¬ç«åºæ¥ã\n\nç¨åºä½¿ç¨ä¸å¯¹è£é¥°æ¥å°è£æ°æ®æºå¯¹è±¡ã è¿ä¸¤ä¸ªå°è£å¨é½æ¹åäºä»ç£çè¯»åæ°æ®çæ¹å¼ï¼\n\n * å½æ°æ®å³å°è¢«åå¥ç£çåï¼ è£é¥°å¯¹æ°æ®è¿è¡å å¯ååç¼©ã å¨åå§ç±»å¯¹æ¹åæ¯«æ å¯è§çæåµä¸ï¼ å°å å¯åçåä¿æ¤æ°æ®åå¥æä»¶ã\n * å½æ°æ®åä»ç£çè¯»åºåï¼ åæ ·éè¿è£é¥°å¯¹æ°æ®è¿è¡è§£ååè§£å¯ã è£é¥°åæ°æ®æºç±»å®ç°åä¸æ¥å£ï¼ ä»èè½å¨å®¢æ·ç«¯ä»£ç ä¸­ç¸äºæ¿æ¢ã\n\n// è£é¥°å¯ä»¥æ¹åç»ä»¶æ¥å£æå®ä¹çæä½ã\ninterface DataSource is\n    method writeData(data)\n    method readData():data\n\n// å·ä½ç»ä»¶æä¾æä½çé»è®¤å®ç°ãè¿äºç±»å¨ç¨åºä¸­å¯è½ä¼æå ä¸ªåä½ã\nclass FileDataSource implements DataSource is\n    constructor FileDataSource(filename) { ... }\n\n    method writeData(data) is\n        // å°æ°æ®åå¥æä»¶ã\n\n    method readData():data is\n        // ä»æä»¶è¯»åæ°æ®ã\n\n// è£é¥°åºç±»åå¶ä»ç»ä»¶éµå¾ªç¸åçæ¥å£ãè¯¥ç±»çä¸»è¦ä»»å¡æ¯å®ä¹ææå·ä½è£é¥°çå°\n// è£æ¥å£ãå°è£çé»è®¤å®ç°ä»£ç ä¸­å¯è½ä¼åå«ä¸ä¸ªä¿å­è¢«å°è£ç»ä»¶çæååéï¼å¹¶\n// ä¸è´è´£å¯¹å¶è¿è¡åå§åã\nclass DataSourceDecorator implements DataSource is\n    protected field wrappee: DataSource\n\n    constructor DataSourceDecorator(source: DataSource) is\n        wrappee = source\n\n    // è£é¥°åºç±»ä¼ç´æ¥å°ææå·¥ä½åæ´¾ç»è¢«å°è£ç»ä»¶ãå·ä½è£é¥°ä¸­åå¯ä»¥æ°å¢ä¸äº\n    // é¢å¤çè¡ä¸ºã\n    method writeData(data) is\n        wrappee.writeData(data)\n\n    // å·ä½è£é¥°å¯è°ç¨å¶ç¶ç±»çæä½å®ç°ï¼èä¸æ¯ç´æ¥è°ç¨è¢«å°è£å¯¹è±¡ãè¿ç§æ¹å¼\n    // å¯ç®åè£é¥°ç±»çæ©å±å·¥ä½ã\n    method readData():data is\n        return wrappee.readData()\n\n// å·ä½è£é¥°å¿é¡»å¨è¢«å°è£å¯¹è±¡ä¸è°ç¨æ¹æ³ï¼ä¸è¿ä¹å¯ä»¥èªè¡å¨ç»æä¸­æ·»å ä¸äºåå®¹ã\n// è£é¥°å¿é¡»å¨è°ç¨å°è£å¯¹è±¡ä¹åæä¹åæ§è¡é¢å¤çè¡ä¸ºã\nclass EncryptionDecorator extends DataSourceDecorator is\n    method writeData(data) is\n        // 1. å¯¹ä¼ éæ°æ®è¿è¡å å¯ã\n        // 2. å°å å¯åæ°æ®ä¼ éç»è¢«å°è£å¯¹è±¡ writeDataï¼åå¥æ°æ®ï¼æ¹æ³ã\n\n    method readData():data is\n        // 1. éè¿è¢«å°è£å¯¹è±¡ç readDataï¼è¯»åæ°æ®ï¼æ¹æ³è·åæ°æ®ã\n        // 2. å¦ææ°æ®è¢«å å¯å°±å°è¯è§£å¯ã\n        // 3. è¿åç»æã\n\n// ä½ å¯ä»¥å°å¯¹è±¡å°è£å¨å¤å±è£é¥°ä¸­ã\nclass CompressionDecorator extends DataSourceDecorator is\n    method writeData(data) is\n        // 1. åç¼©ä¼ éæ°æ®ã\n        // 2. å°åç¼©åæ°æ®ä¼ éç»è¢«å°è£å¯¹è±¡ writeDataï¼åå¥æ°æ®ï¼æ¹æ³ã\n\n    method readData():data is\n        // 1. éè¿è¢«å°è£å¯¹è±¡ç readDataï¼è¯»åæ°æ®ï¼æ¹æ³è·åæ°æ®ã\n        // 2. å¦ææ°æ®è¢«åç¼©å°±å°è¯è§£åã\n        // 3. è¿åç»æã\n\n\n// éé¡¹ 1ï¼è£é¥°ç»ä»¶çç®åç¤ºä¾\nclass Application is\n    method dumbUsageExample() is\n        source = new FileDataSource("somefile.dat")\n        source.writeData(salaryRecords)\n        // å·²å°æç æ°æ®åå¥ç®æ æä»¶ã\n\n        source = new CompressionDecorator(source)\n        source.writeData(salaryRecords)\n        // å·²å°åç¼©æ°æ®åå¥ç®æ æä»¶ã\n\n        source = new EncryptionDecorator(source)\n        // æºåéä¸­ç°å¨åå«ï¼\n        // Encryption > Compression > FileDataSource\n        source.writeData(salaryRecords)\n        // å·²å°åç¼©ä¸å å¯çæ°æ®åå¥ç®æ æä»¶ã\n\n\n// éé¡¹ 2ï¼å®¢æ·ç«¯ä½¿ç¨å¤é¨æ°æ®æºãSalaryManagerï¼å·¥èµç®¡çå¨ï¼å¯¹è±¡å¹¶ä¸å³å¿\n// æ°æ®å¦ä½å­å¨ãå®ä»¬ä¼ä¸æåéç½®å¥½çæ°æ®æºè¿è¡äº¤äºï¼æ°æ®æºåæ¯éè¿ç¨åºé\n// ç½®å¨è·åçã\nclass SalaryManager is\n    field source: DataSource\n\n    constructor SalaryManager(source: DataSource) { ... }\n\n    method load() is\n        return source.readData()\n\n    method save() is\n        source.writeData(salaryRecords)\n    // ...å¶ä»æç¨çæ¹æ³...\n\n\n// ç¨åºå¯å¨è¿è¡æ¶æ ¹æ®éç½®æç¯å¢ç»è£ä¸åçè£é¥°å æ¡ã\nclass ApplicationConfigurator is\n    method configurationExample() is\n        source = new FileDataSource("salary.dat")\n        if (enabledEncryption)\n            source = new EncryptionDecorator(source)\n        if (enabledCompression)\n            source = new CompressionDecorator(source)\n\n        logger = new SalaryManager(source)\n        salary = logger.load()\n    // ...\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ è£é¥°æ¨¡å¼å¨ Java ä»£ç ä¸­å¯è°æ¯æ åéç½®ï¼ å°¤å¶æ¯å¨ä¸æµå¼å è½½ç¸å³çä»£ç ä¸­ã\n\nJava æ ¸å¿ç¨åºåºä¸­æä¸äºå³äºè£é¥°çç¤ºä¾ï¼\n\n * java.io.InputStreamã OutputÂ­Streamã Reader å Writer çææä»£ç é½æä»¥èªèº«ç±»åçå¯¹è±¡ä½ä¸ºåæ°çæé å½æ°ã\n * java.util.Collectionsï¼ checkedÂ­XXX()ã synchronizedÂ­XXX() å unmodifiableÂ­XXX() æ¹æ³ã\n * javax.servlet.http.HttpServletRequestWrapper å HttpÂ­ServletÂ­ResponseÂ­Wrapper\n\nè¯å«æ¹æ³ï¼ è£é¥°å¯éè¿ä»¥å½åç±»æå¯¹è±¡ä¸ºåæ°çåå»ºæ¹æ³ææé å½æ°æ¥è¯å«ã\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * ééå¨æ¨¡å¼å¯ä»¥å¯¹å·²æå¯¹è±¡çæ¥å£è¿è¡ä¿®æ¹ï¼ è£é¥°æ¨¡å¼åè½å¨ä¸æ¹åå¯¹è±¡æ¥å£çåæä¸å¼ºåå¯¹è±¡åè½ã æ­¤å¤ï¼ è£é¥°è¿æ¯æéå½ç»åï¼ ééå¨åæ æ³å®ç°ã\n * ééå¨è½ä¸ºè¢«å°è£å¯¹è±¡æä¾ä¸åçæ¥å£ï¼ ä»£çæ¨¡å¼è½ä¸ºå¯¹è±¡æä¾ç¸åçæ¥å£ï¼ è£é¥°åè½ä¸ºå¯¹è±¡æä¾å å¼ºçæ¥å£ã\n * è´£ä»»é¾æ¨¡å¼åè£é¥°æ¨¡å¼çç±»ç»æéå¸¸ç¸ä¼¼ã ä¸¤èé½ä¾èµéå½ç»åå°éè¦æ§è¡çæä½ä¼ éç»ä¸ç³»åå¯¹è±¡ã ä½æ¯ï¼ ä¸¤èæå ç¹éè¦çä¸åä¹å¤ã\n   * è´£ä»»é¾çç®¡çèå¯ä»¥ç¸äºç¬ç«å°æ§è¡ä¸åæä½ï¼ è¿å¯ä»¥éæ¶åæ­¢ä¼ éè¯·æ±ã å¦ä¸æ¹é¢ï¼ åç§è£é¥°å¯ä»¥å¨éµå¾ªåºæ¬æ¥å£çæåµä¸æ©å±å¯¹è±¡çè¡ä¸ºã æ­¤å¤ï¼ è£é¥°æ æ³ä¸­æ­è¯·æ±çä¼ éã\n * ç»åæ¨¡å¼åè£é¥°çç»æå¾å¾ç¸ä¼¼ï¼ å ä¸ºä¸¤èé½ä¾èµéå½ç»åæ¥ç»ç»æ éæ°éçå¯¹è±¡ã\n   * è£é¥°ç±»ä¼¼äºç»åï¼ ä½å¶åªæä¸ä¸ªå­ç»ä»¶ã æ­¤å¤è¿æä¸ä¸ªææ¾ä¸åï¼ è£é¥°ä¸ºè¢«å°è£å¯¹è±¡æ·»å äºé¢å¤çèè´£ï¼ ç»åä»å¯¹å¶å­èç¹çç»æè¿è¡äº âæ±åâã\n   * ä½æ¯ï¼ æ¨¡å¼ä¹å¯ä»¥ç¸äºåä½ï¼ ä½ å¯ä»¥ä½¿ç¨è£é¥°æ¥æ©å±ç»åæ ä¸­ç¹å®å¯¹è±¡çè¡ä¸ºã\n * å¤§éä½¿ç¨ç»ååè£é¥°çè®¾è®¡éå¸¸å¯ä»å¯¹äºååæ¨¡å¼çä½¿ç¨ä¸­è·çã ä½ å¯ä»¥éè¿è¯¥æ¨¡å¼æ¥å¤å¶å¤æç»æï¼ èéä»é¶å¼å§éæ°æé ã\n * è£é¥°å¯è®©ä½ æ´æ¹å¯¹è±¡çå¤è¡¨ï¼ ç­ç¥æ¨¡å¼åè®©ä½ è½å¤æ¹åå¶æ¬è´¨ã\n * è£é¥°åä»£çæçç¸ä¼¼çç»æï¼ ä½æ¯å¶æå¾å´éå¸¸ä¸åã è¿ä¸¤ä¸ªæ¨¡å¼çæå»ºé½åºäºç»åååï¼ ä¹å°±æ¯è¯´ä¸ä¸ªå¯¹è±¡åºè¯¥å°é¨åå·¥ä½å§æ´¾ç»å¦ä¸ä¸ªå¯¹è±¡ã ä¸¤èä¹é´çä¸åä¹å¤å¨äºä»£çéå¸¸èªè¡ç®¡çå¶æå¡å¯¹è±¡ççå½å¨æï¼ èè£é¥°ççæåæ»æ¯ç±å®¢æ·ç«¯è¿è¡æ§å¶ã\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',normalizedContent:'# è®¾è®¡æ¨¡å¼ä¹è£é¥°æ¨¡å¼\n\n\n# æå¾\n\nè£é¥°æ¨¡å¼ (decorator) æ¯ä¸ç§ç»æåè®¾è®¡æ¨¡å¼ï¼å¨æå°ç»ä¸ä¸ªå¯¹è±¡æ·»å ä¸äºé¢å¤çèè´£ãå°±å¢å åè½æ¥è¯´ï¼decorator æ¨¡å¼ç¸æ¯çæå­ç±»æ´ä¸ºçµæ´»ã\n\n * è£é¥°å¯¹è±¡åçå®å¯¹è±¡æç¸åçæ¥å£ãè¿æ ·å®¢æ·ç«¯å¯¹è±¡å°±è½ä»¥åçå®å¯¹è±¡ç¸åçæ¹å¼åè£é¥°å¯¹è±¡äº¤äºã\n * è£é¥°å¯¹è±¡åå«ä¸ä¸ªçå®å¯¹è±¡çå¼ç¨ï¼referenceï¼ã\n * è£é¥°å¯¹è±¡æ¥åæææ¥èªå®¢æ·ç«¯çè¯·æ±ãå®æè¿äºè¯·æ±è½¬åç»çå®çå¯¹è±¡ã\n * è£é¥°å¯¹è±¡å¯ä»¥å¨è½¬åè¿äºè¯·æ±ä»¥åæä»¥åå¢å ä¸äºéå åè½ãè¿æ ·å°±ç¡®ä¿äºå¨è¿è¡æ¶ï¼ä¸ç¨ä¿®æ¹ç»å®å¯¹è±¡çç»æå°±å¯ä»¥å¨å¤é¨å¢å éå çåè½ãå¨é¢åå¯¹è±¡çè®¾è®¡ä¸­ï¼éå¸¸æ¯éè¿ç»§æ¿æ¥å®ç°å¯¹ç»å®ç±»çåè½æ©å±ã\n\n\n# éååºæ¯\n\n * å¦æä½ å¸æå¨æ éä¿®æ¹ä»£ç çæåµä¸å³å¯ä½¿ç¨å¯¹è±¡ï¼ ä¸å¸æå¨è¿è¡æ¶ä¸ºå¯¹è±¡æ°å¢é¢å¤çè¡ä¸ºï¼ å¯ä»¥ä½¿ç¨è£é¥°æ¨¡å¼ã\n * å¦æç¨ç»§æ¿æ¥æ©å±å¯¹è±¡è¡ä¸ºçæ¹æ¡é¾ä»¥å®ç°æèæ ¹æ¬ä¸å¯è¡ï¼ ä½ å¯ä»¥ä½¿ç¨è¯¥æ¨¡å¼ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. é¨ä»¶ ï¼componentï¼ å£°æå°è£å¨åè¢«å°è£å¯¹è±¡çå¬ç¨æ¥å£ã\n 2. å·ä½é¨ä»¶ ï¼concrete componentï¼ ç±»æ¯è¢«å°è£å¯¹è±¡æå±çç±»ã å®å®ä¹äºåºç¡è¡ä¸ºï¼ ä½è£é¥°ç±»å¯ä»¥æ¹åè¿äºè¡ä¸ºã\n 3. åºç¡è£é¥° ï¼base decoratorï¼ ç±»æ¥æä¸ä¸ªæåè¢«å°è£å¯¹è±¡çå¼ç¨æååéã è¯¥åéçç±»ååºå½è¢«å£°æä¸ºéç¨é¨ä»¶æ¥å£ï¼ è¿æ ·å®å°±å¯ä»¥å¼ç¨å·ä½çé¨ä»¶åè£é¥°ã è£é¥°åºç±»ä¼å°æææä½å§æ´¾ç»è¢«å°è£çå¯¹è±¡ã\n 4. å·ä½è£é¥°ç±» ï¼concrete decoratorsï¼ å®ä¹äºå¯å¨ææ·»å å°é¨ä»¶çé¢å¤è¡ä¸ºã å·ä½è£é¥°ç±»ä¼éåè£é¥°åºç±»çæ¹æ³ï¼ å¹¶å¨è°ç¨ç¶ç±»æ¹æ³ä¹åæä¹åè¿è¡é¢å¤çè¡ä¸ºã\n 5. å®¢æ·ç«¯ ï¼clientï¼ å¯ä»¥ä½¿ç¨å¤å±è£é¥°æ¥å°è£é¨ä»¶ï¼ åªè¦å®è½ä½¿ç¨éç¨æ¥å£ä¸ææå¯¹è±¡äºå¨å³å¯ã\n\n\n# ç»æä»£ç èå¼\n\ncomponent : å®ä¹ä¸ä¸ªå¯¹è±¡æ¥å£ï¼å¯ä»¥ç»è¿äºå¯¹è±¡å¨æå°æ·»å èè´£ã\n\ninterface component {\n    public void operation();\n}\n\n\nconcretecomponent : å®ç° component å®ä¹çæ¥å£ã\n\nclass concretecomponent implements component {\n    @override\n    public void operation() {\n        system.out.println("åå§è¡ä¸º");\n    }\n}\n\n\ndecorator : è£é¥°æ½è±¡ç±»ï¼ç»§æ¿äº componentï¼ ä»å¤ç±»æ¥æ©å± component ç±»çåè½ï¼ä½å¯¹äº component æ¥è¯´ï¼æ¯æ éç¥é decorator çå­å¨çã\n\nclass decorator implements component {\n    // ææä¸ä¸ª component å¯¹è±¡ï¼å component å½¢æèåå³ç³»\n    protected component component;\n\n    // ä¼ å¥è¦è¿ä¸æ­¥ä¿®é¥°çå¯¹è±¡\n    public decorator(component component) {\n        this.component = component;\n    }\n\n    @override\n    // è°ç¨è¦ä¿®é¥°å¯¹è±¡çåæ¹æ³\n    public void operation() {\n        component.operation();\n    }\n}\n\n\nconcretedecorator : å·ä½çè£é¥°å¯¹è±¡ï¼èµ·å°ç» component æ·»å èè´£çåè½ã\n\nclass concretedecoratora extends decorator {\n    private string addedstate = "æ°å±æ§1";\n\n    public concretedecoratora(component component) {\n        super(component);\n    }\n\n    public void operation() {\n        super.operation();\n        system.out.println("æ·»å å±æ§: " + addedstate);\n    }\n}\n\nclass concretedecoratorb extends decorator {\n    public concretedecoratorb(component component) {\n        super(component);\n    }\n\n    public void operation() {\n        super.operation();\n        addedbehavior();\n    }\n\n    public void addedbehavior() {\n        system.out.println("æ·»å è¡ä¸º");\n    }\n}\n\n\nãå®¢æ·ç«¯ã\n\npublic class decoratorpattern {\n    public static void main(string[] args) {\n        component component = new concretecomponent();\n        component.operation();\n\n        system.out.println("======================================");\n        decorator decoratora = new concretedecoratora(component);\n        decoratora.operation();\n\n        system.out.println("======================================");\n        decorator decoratorb = new concretedecoratorb(decoratora);\n        decoratorb.operation();\n    }\n}\n\n\nãè¾åºã\n\nåå§è¡ä¸º\n======================================\nåå§è¡ä¸º\næ·»å å±æ§: æ°å±æ§1\n======================================\nåå§è¡ä¸º\næ·»å å±æ§: æ°å±æ§1\næ·»å è¡ä¸º\n\n\n\n# ä¼ªä»£ç \n\n\n\nå¨æ¬ä¾ä¸­ï¼ è£é¥°æ¨¡å¼è½å¤å¯¹æææ°æ®è¿è¡åç¼©åå å¯ï¼ ä»èå°æ°æ®ä»ä½¿ç¨æ°æ®çä»£ç ä¸­ç¬ç«åºæ¥ã\n\nç¨åºä½¿ç¨ä¸å¯¹è£é¥°æ¥å°è£æ°æ®æºå¯¹è±¡ã è¿ä¸¤ä¸ªå°è£å¨é½æ¹åäºä»ç£çè¯»åæ°æ®çæ¹å¼ï¼\n\n * å½æ°æ®å³å°è¢«åå¥ç£çåï¼ è£é¥°å¯¹æ°æ®è¿è¡å å¯ååç¼©ã å¨åå§ç±»å¯¹æ¹åæ¯«æ å¯è§çæåµä¸ï¼ å°å å¯åçåä¿æ¤æ°æ®åå¥æä»¶ã\n * å½æ°æ®åä»ç£çè¯»åºåï¼ åæ ·éè¿è£é¥°å¯¹æ°æ®è¿è¡è§£ååè§£å¯ã è£é¥°åæ°æ®æºç±»å®ç°åä¸æ¥å£ï¼ ä»èè½å¨å®¢æ·ç«¯ä»£ç ä¸­ç¸äºæ¿æ¢ã\n\n// è£é¥°å¯ä»¥æ¹åç»ä»¶æ¥å£æå®ä¹çæä½ã\ninterface datasource is\n    method writedata(data)\n    method readdata():data\n\n// å·ä½ç»ä»¶æä¾æä½çé»è®¤å®ç°ãè¿äºç±»å¨ç¨åºä¸­å¯è½ä¼æå ä¸ªåä½ã\nclass filedatasource implements datasource is\n    constructor filedatasource(filename) { ... }\n\n    method writedata(data) is\n        // å°æ°æ®åå¥æä»¶ã\n\n    method readdata():data is\n        // ä»æä»¶è¯»åæ°æ®ã\n\n// è£é¥°åºç±»åå¶ä»ç»ä»¶éµå¾ªç¸åçæ¥å£ãè¯¥ç±»çä¸»è¦ä»»å¡æ¯å®ä¹ææå·ä½è£é¥°çå°\n// è£æ¥å£ãå°è£çé»è®¤å®ç°ä»£ç ä¸­å¯è½ä¼åå«ä¸ä¸ªä¿å­è¢«å°è£ç»ä»¶çæååéï¼å¹¶\n// ä¸è´è´£å¯¹å¶è¿è¡åå§åã\nclass datasourcedecorator implements datasource is\n    protected field wrappee: datasource\n\n    constructor datasourcedecorator(source: datasource) is\n        wrappee = source\n\n    // è£é¥°åºç±»ä¼ç´æ¥å°ææå·¥ä½åæ´¾ç»è¢«å°è£ç»ä»¶ãå·ä½è£é¥°ä¸­åå¯ä»¥æ°å¢ä¸äº\n    // é¢å¤çè¡ä¸ºã\n    method writedata(data) is\n        wrappee.writedata(data)\n\n    // å·ä½è£é¥°å¯è°ç¨å¶ç¶ç±»çæä½å®ç°ï¼èä¸æ¯ç´æ¥è°ç¨è¢«å°è£å¯¹è±¡ãè¿ç§æ¹å¼\n    // å¯ç®åè£é¥°ç±»çæ©å±å·¥ä½ã\n    method readdata():data is\n        return wrappee.readdata()\n\n// å·ä½è£é¥°å¿é¡»å¨è¢«å°è£å¯¹è±¡ä¸è°ç¨æ¹æ³ï¼ä¸è¿ä¹å¯ä»¥èªè¡å¨ç»æä¸­æ·»å ä¸äºåå®¹ã\n// è£é¥°å¿é¡»å¨è°ç¨å°è£å¯¹è±¡ä¹åæä¹åæ§è¡é¢å¤çè¡ä¸ºã\nclass encryptiondecorator extends datasourcedecorator is\n    method writedata(data) is\n        // 1. å¯¹ä¼ éæ°æ®è¿è¡å å¯ã\n        // 2. å°å å¯åæ°æ®ä¼ éç»è¢«å°è£å¯¹è±¡ writedataï¼åå¥æ°æ®ï¼æ¹æ³ã\n\n    method readdata():data is\n        // 1. éè¿è¢«å°è£å¯¹è±¡ç readdataï¼è¯»åæ°æ®ï¼æ¹æ³è·åæ°æ®ã\n        // 2. å¦ææ°æ®è¢«å å¯å°±å°è¯è§£å¯ã\n        // 3. è¿åç»æã\n\n// ä½ å¯ä»¥å°å¯¹è±¡å°è£å¨å¤å±è£é¥°ä¸­ã\nclass compressiondecorator extends datasourcedecorator is\n    method writedata(data) is\n        // 1. åç¼©ä¼ éæ°æ®ã\n        // 2. å°åç¼©åæ°æ®ä¼ éç»è¢«å°è£å¯¹è±¡ writedataï¼åå¥æ°æ®ï¼æ¹æ³ã\n\n    method readdata():data is\n        // 1. éè¿è¢«å°è£å¯¹è±¡ç readdataï¼è¯»åæ°æ®ï¼æ¹æ³è·åæ°æ®ã\n        // 2. å¦ææ°æ®è¢«åç¼©å°±å°è¯è§£åã\n        // 3. è¿åç»æã\n\n\n// éé¡¹ 1ï¼è£é¥°ç»ä»¶çç®åç¤ºä¾\nclass application is\n    method dumbusageexample() is\n        source = new filedatasource("somefile.dat")\n        source.writedata(salaryrecords)\n        // å·²å°æç æ°æ®åå¥ç®æ æä»¶ã\n\n        source = new compressiondecorator(source)\n        source.writedata(salaryrecords)\n        // å·²å°åç¼©æ°æ®åå¥ç®æ æä»¶ã\n\n        source = new encryptiondecorator(source)\n        // æºåéä¸­ç°å¨åå«ï¼\n        // encryption > compression > filedatasource\n        source.writedata(salaryrecords)\n        // å·²å°åç¼©ä¸å å¯çæ°æ®åå¥ç®æ æä»¶ã\n\n\n// éé¡¹ 2ï¼å®¢æ·ç«¯ä½¿ç¨å¤é¨æ°æ®æºãsalarymanagerï¼å·¥èµç®¡çå¨ï¼å¯¹è±¡å¹¶ä¸å³å¿\n// æ°æ®å¦ä½å­å¨ãå®ä»¬ä¼ä¸æåéç½®å¥½çæ°æ®æºè¿è¡äº¤äºï¼æ°æ®æºåæ¯éè¿ç¨åºé\n// ç½®å¨è·åçã\nclass salarymanager is\n    field source: datasource\n\n    constructor salarymanager(source: datasource) { ... }\n\n    method load() is\n        return source.readdata()\n\n    method save() is\n        source.writedata(salaryrecords)\n    // ...å¶ä»æç¨çæ¹æ³...\n\n\n// ç¨åºå¯å¨è¿è¡æ¶æ ¹æ®éç½®æç¯å¢ç»è£ä¸åçè£é¥°å æ¡ã\nclass applicationconfigurator is\n    method configurationexample() is\n        source = new filedatasource("salary.dat")\n        if (enabledencryption)\n            source = new encryptiondecorator(source)\n        if (enabledcompression)\n            source = new compressiondecorator(source)\n\n        logger = new salarymanager(source)\n        salary = logger.load()\n    // ...\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ è£é¥°æ¨¡å¼å¨ java ä»£ç ä¸­å¯è°æ¯æ åéç½®ï¼ å°¤å¶æ¯å¨ä¸æµå¼å è½½ç¸å³çä»£ç ä¸­ã\n\njava æ ¸å¿ç¨åºåºä¸­æä¸äºå³äºè£é¥°çç¤ºä¾ï¼\n\n * java.io.inputstreamã outputÂ­streamã reader å writer çææä»£ç é½æä»¥èªèº«ç±»åçå¯¹è±¡ä½ä¸ºåæ°çæé å½æ°ã\n * java.util.collectionsï¼ checkedÂ­xxx()ã synchronizedÂ­xxx() å unmodifiableÂ­xxx() æ¹æ³ã\n * javax.servlet.http.httpservletrequestwrapper å httpÂ­servletÂ­responseÂ­wrapper\n\nè¯å«æ¹æ³ï¼ è£é¥°å¯éè¿ä»¥å½åç±»æå¯¹è±¡ä¸ºåæ°çåå»ºæ¹æ³ææé å½æ°æ¥è¯å«ã\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * ééå¨æ¨¡å¼å¯ä»¥å¯¹å·²æå¯¹è±¡çæ¥å£è¿è¡ä¿®æ¹ï¼ è£é¥°æ¨¡å¼åè½å¨ä¸æ¹åå¯¹è±¡æ¥å£çåæä¸å¼ºåå¯¹è±¡åè½ã æ­¤å¤ï¼ è£é¥°è¿æ¯æéå½ç»åï¼ ééå¨åæ æ³å®ç°ã\n * ééå¨è½ä¸ºè¢«å°è£å¯¹è±¡æä¾ä¸åçæ¥å£ï¼ ä»£çæ¨¡å¼è½ä¸ºå¯¹è±¡æä¾ç¸åçæ¥å£ï¼ è£é¥°åè½ä¸ºå¯¹è±¡æä¾å å¼ºçæ¥å£ã\n * è´£ä»»é¾æ¨¡å¼åè£é¥°æ¨¡å¼çç±»ç»æéå¸¸ç¸ä¼¼ã ä¸¤èé½ä¾èµéå½ç»åå°éè¦æ§è¡çæä½ä¼ éç»ä¸ç³»åå¯¹è±¡ã ä½æ¯ï¼ ä¸¤èæå ç¹éè¦çä¸åä¹å¤ã\n   * è´£ä»»é¾çç®¡çèå¯ä»¥ç¸äºç¬ç«å°æ§è¡ä¸åæä½ï¼ è¿å¯ä»¥éæ¶åæ­¢ä¼ éè¯·æ±ã å¦ä¸æ¹é¢ï¼ åç§è£é¥°å¯ä»¥å¨éµå¾ªåºæ¬æ¥å£çæåµä¸æ©å±å¯¹è±¡çè¡ä¸ºã æ­¤å¤ï¼ è£é¥°æ æ³ä¸­æ­è¯·æ±çä¼ éã\n * ç»åæ¨¡å¼åè£é¥°çç»æå¾å¾ç¸ä¼¼ï¼ å ä¸ºä¸¤èé½ä¾èµéå½ç»åæ¥ç»ç»æ éæ°éçå¯¹è±¡ã\n   * è£é¥°ç±»ä¼¼äºç»åï¼ ä½å¶åªæä¸ä¸ªå­ç»ä»¶ã æ­¤å¤è¿æä¸ä¸ªææ¾ä¸åï¼ è£é¥°ä¸ºè¢«å°è£å¯¹è±¡æ·»å äºé¢å¤çèè´£ï¼ ç»åä»å¯¹å¶å­èç¹çç»æè¿è¡äº âæ±åâã\n   * ä½æ¯ï¼ æ¨¡å¼ä¹å¯ä»¥ç¸äºåä½ï¼ ä½ å¯ä»¥ä½¿ç¨è£é¥°æ¥æ©å±ç»åæ ä¸­ç¹å®å¯¹è±¡çè¡ä¸ºã\n * å¤§éä½¿ç¨ç»ååè£é¥°çè®¾è®¡éå¸¸å¯ä»å¯¹äºååæ¨¡å¼çä½¿ç¨ä¸­è·çã ä½ å¯ä»¥éè¿è¯¥æ¨¡å¼æ¥å¤å¶å¤æç»æï¼ èéä»é¶å¼å§éæ°æé ã\n * è£é¥°å¯è®©ä½ æ´æ¹å¯¹è±¡çå¤è¡¨ï¼ ç­ç¥æ¨¡å¼åè®©ä½ è½å¤æ¹åå¶æ¬è´¨ã\n * è£é¥°åä»£çæçç¸ä¼¼çç»æï¼ ä½æ¯å¶æå¾å´éå¸¸ä¸åã è¿ä¸¤ä¸ªæ¨¡å¼çæå»ºé½åºäºç»åååï¼ ä¹å°±æ¯è¯´ä¸ä¸ªå¯¹è±¡åºè¯¥å°é¨åå·¥ä½å§æ´¾ç»å¦ä¸ä¸ªå¯¹è±¡ã ä¸¤èä¹é´çä¸åä¹å¤å¨äºä»£çéå¸¸èªè¡ç®¡çå¶æå¡å¯¹è±¡ççå½å¨æï¼ èè£é¥°ççæåæ»æ¯ç±å®¢æ·ç«¯è¿è¡æ§å¶ã\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼ä¹äº«åæ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼ä¹äº«åæ¨¡å¼",date:"2015-01-19T09:48:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/9147e7/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/12.%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/12.äº«åæ¨¡å¼.md",key:"v-6e2d857c",path:"/pages/9147e7/",headers:[{level:2,title:"æå¾",slug:"æå¾",normalizedTitle:"æå¾",charIndex:16},{level:2,title:"éç¨åºæ¯",slug:"éç¨åºæ¯",normalizedTitle:"éç¨åºæ¯",charIndex:111},{level:2,title:"ç»æ",slug:"ç»æ",normalizedTitle:"ç»æ",charIndex:40},{level:3,title:"ç»æè¯´æ",slug:"ç»æè¯´æ",normalizedTitle:"ç»æè¯´æ",charIndex:164},{level:3,title:"ç»æä»£ç èå¼",slug:"ç»æä»£ç èå¼",normalizedTitle:"ç»æä»£ç èå¼",charIndex:749},{level:2,title:"ä¼ªä»£ç ",slug:"ä¼ªä»£ç ",normalizedTitle:"ä¼ªä»£ç ",charIndex:2624},{level:2,title:"æ¡ä¾",slug:"æ¡ä¾",normalizedTitle:"æ¡ä¾",charIndex:4181},{level:2,title:"ä¸å¶ä»æ¨¡å¼çå³ç³»",slug:"ä¸å¶ä»æ¨¡å¼çå³ç³»",normalizedTitle:"ä¸å¶ä»æ¨¡å¼çå³ç³»",charIndex:4406},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:4633}],headersStr:"æå¾ éç¨åºæ¯ ç»æ ç»æè¯´æ ç»æä»£ç èå¼ ä¼ªä»£ç  æ¡ä¾ ä¸å¶ä»æ¨¡å¼çå³ç³» åèèµæ",content:'# è®¾è®¡æ¨¡å¼ä¹äº«åæ¨¡å¼\n\n\n# æå¾\n\näº«åæ¨¡å¼ (Flyweight) æ¯ä¸ç§ç»æåè®¾è®¡æ¨¡å¼ï¼å®æå¼äºå¨æ¯ä¸ªå¯¹è±¡ä¸­ä¿å­æææ°æ®çæ¹å¼ï¼ éè¿å±äº«å¤ä¸ªå¯¹è±¡æå±æçç¸åç¶æï¼ è®©ä½ è½å¨æéçåå­å®¹éä¸­è½½å¥æ´å¤å¯¹è±¡ã\n\n\n# éç¨åºæ¯\n\n * ä»å¨ç¨åºå¿é¡»æ¯æå¤§éå¯¹è±¡ä¸æ²¡æè¶³å¤çåå­å®¹éæ¶ä½¿ç¨äº«åæ¨¡å¼ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. äº«åæ¨¡å¼åªæ¯ä¸ç§ä¼åã å¨åºç¨è¯¥æ¨¡å¼ä¹åï¼ ä½ è¦ç¡®å®ç¨åºä¸­å­å¨ä¸å¤§éç±»ä¼¼å¯¹è±¡åæ¶å ç¨åå­ç¸å³çåå­æ¶èé®é¢ï¼ å¹¶ä¸ç¡®ä¿è¯¥é®é¢æ æ³ä½¿ç¨å¶ä»æ´å¥½çæ¹å¼æ¥è§£å³ã\n 2. äº«å ï¼Flyweightï¼ ç±»åå«åå§å¯¹è±¡ä¸­é¨åè½å¨å¤ä¸ªå¯¹è±¡ä¸­å±äº«çç¶æã åä¸äº«åå¯¹è±¡å¯å¨è®¸å¤ä¸åææ¯ä¸­ä½¿ç¨ã äº«åä¸­å­å¨çç¶æè¢«ç§°ä¸º âåå¨ç¶æâã ä¼ éç»äº«åæ¹æ³çç¶æè¢«ç§°ä¸º âå¤å¨ç¶æâã\n 3. ææ¯ ï¼Contextï¼ ç±»åå«åå§å¯¹è±¡ä¸­åä¸ç¸åçå¤å¨ç¶æã ææ¯ä¸äº«åå¯¹è±¡ç»åå¨ä¸èµ·å°±è½è¡¨ç¤ºåå§å¯¹è±¡çå¨é¨ç¶æã\n 4. éå¸¸æåµä¸ï¼ åå§å¯¹è±¡çè¡ä¸ºä¼ä¿çå¨äº«åç±»ä¸­ã å æ­¤è°ç¨äº«åæ¹æ³å¿é¡»æä¾é¨åå¤å¨ç¶æä½ä¸ºåæ°ã ä½ä½ ä¹å¯å°è¡ä¸ºç§»å¨å°ææ¯ç±»ä¸­ï¼ ç¶åå°è¿å¥çäº«åä½ä¸ºåçº¯çæ°æ®å¯¹è±¡ã\n 5. å®¢æ·ç«¯ ï¼Clientï¼ è´è´£è®¡ç®æå­å¨äº«åçå¤å¨ç¶æã å¨å®¢æ·ç«¯çæ¥ï¼ äº«åæ¯ä¸ç§å¯å¨è¿è¡æ¶è¿è¡éç½®çæ¨¡æ¿å¯¹è±¡ï¼ å·ä½çéç½®æ¹å¼ä¸ºåå¶æ¹æ³ä¸­ä¼ å¥ä¸äºææ¯æ°æ®åæ°ã\n 6. äº«åå·¥å ï¼Flyweight Factoryï¼ ä¼å¯¹å·²æäº«åçç¼å­æ± è¿è¡ç®¡çã æäºå·¥ååï¼ å®¢æ·ç«¯å°±æ éç´æ¥åå»ºäº«åï¼ å®ä»¬åªéè°ç¨å·¥åå¹¶åå¶ä¼ éç®æ äº«åçä¸äºåå¨ç¶æå³å¯ã å·¥åä¼æ ¹æ®åæ°å¨ä¹åå·²åå»ºçäº«åä¸­è¿è¡æ¥æ¾ï¼ å¦ææ¾å°æ»¡è¶³æ¡ä»¶çäº«åå°±å°å¶è¿åï¼ å¦ææ²¡ææ¾å°å°±æ ¹æ®åæ°æ°å»ºäº«åã\n\n\n# ç»æä»£ç èå¼\n\nFlyweight : å®æ¯ææå·ä½äº«åç±»çè¶ç±»ææ¥å£ï¼éè¿è¿ä¸ªæ¥å£ï¼Flyweight å¯ä»¥æ¥åå¹¶ä½ç¨äºå¤é¨ç¶æã\n\nabstract class Flyweight {\n    public abstract void operation(int extrinsicstates);\n}\n\n\nConcreteFlyweight : æ¯ç»§æ¿ Flyweight è¶ç±»æå®ç° Flyweight æ¥å£ï¼å¹¶ä¸ºåé¨ç¶æå¢å å­å¨ç©ºé´ã\n\nclass ConcreteFlyweight extends Flyweight {\n    @Override\n    public void operation(int extrinsicstates) {\n        System.out.println("å±äº«çFlyweight : " + extrinsicstates);\n    }\n}\n\n\nUnsharedConcreteFlyweight : æé£äºä¸éè¦å±äº«ç Flyweight å­ç±»ï¼å ä¸º Flyweight æ¥å£å±äº«æä¸ºå¯è½ï¼ä½å®å¹¶ä¸å¼ºå¶å±äº«ã\n\nclass UnsharedConcreteFlyweight extends Flyweight {\n    @Override\n    public void operation(int extrinsicstates) {\n        System.out.println("ä¸å±äº«çFlyweight : " + extrinsicstates);\n    }\n}\n\n\nFlywightFactory :æ¯ä¸ä¸ªäº«åå·¥åï¼ç¨æ¥åå»ºå¹¶ç®¡ç Flyweight å¯¹è±¡ãå®ä¸»è¦æ¯ç¨æ¥ç¡®ä¿åçå°å±äº« Flyweight ï¼å½ç¨æ·è¯·æ±ä¸ä¸ª Flyweight æ¶ï¼ FlyweightFactory å¯¹è±¡æä¾ä¸ä¸ªå·²åå»ºçå®ä¾æåå»ºä¸ä¸ªï¼å¦æå¯¹è±¡ä¸å­å¨çè¯ï¼ã\n\nclass FlywightFactory {\n    private Hashtable<String, Flyweight> flyweights = new Hashtable<String, Flyweight>();\n\n    public FlywightFactory() {\n        flyweights.put("X", new ConcreteFlyweight());\n        flyweights.put("Y", new ConcreteFlyweight());\n        flyweights.put("Z", new ConcreteFlyweight());\n    }\n\n    public Flyweight getFlyweight(String key) {\n        return ((Flyweight)flyweights.get(key));\n    }\n}\n\n\nå®¢æ·ç«¯\n\npublic class FlyweightPattern {\n    public static void main(String[] args) {\n        int extrinsicstates = 1;\n        FlywightFactory factory = new FlywightFactory();\n\n        Flyweight fx = factory.getFlyweight("X");\n        fx.operation(extrinsicstates);\n\n        Flyweight fy = factory.getFlyweight("Y");\n        fy.operation(++extrinsicstates);\n\n        Flyweight fz = factory.getFlyweight("Z");\n        fz.operation(++extrinsicstates);\n\n        Flyweight uf = new UnsharedConcreteFlyweight();\n        uf.operation(++extrinsicstates);\n    }\n}\n\n\nè¾åº\n\nå±äº«çFlyweight : 1\nå±äº«çFlyweight : 2\nå±äº«çFlyweight : 3\nä¸å±äº«çFlyweight : 4\n\n\n\n# ä¼ªä»£ç \n\n\n\nå¨æ¬ä¾ä¸­ï¼ äº«åæ¨¡å¼è½ææåå°å¨ç»å¸ä¸æ¸²ææ°ç¾ä¸ä¸ªæ ç¶å¯¹è±¡æ¶æéçåå­ã\n\nè¯¥æ¨¡å¼ä»ä¸»è¦ç æ Tree ç±»ä¸­æ½ååå¨ç¶æï¼ å¹¶å°å¶ç§»å¨å°äº«åç±» æ ç§ç±»TreeÂ­Type ä¹ä¸­ã\n\næåç¨åºéè¦å¨å¤ä¸ªå¯¹è±¡ä¸­å­å¨ç¸åæ°æ®ï¼ èç°å¨ä»éå¨å ä¸ªäº«åå¯¹è±¡ä¸­ä¿å­æ°æ®ï¼ ç¶åå¨ä½ä¸ºææ¯ç æ å¯¹è±¡ä¸­è¿å¥äº«åå³å¯ã å®¢æ·ç«¯ä»£ç ä½¿ç¨äº«åå·¥ååå»ºæ å¯¹è±¡å¹¶å°è£æç´¢æå®å¯¹è±¡çå¤æè¡ä¸ºï¼ å¹¶è½å¨éè¦æ¶å¤ç¨å¯¹è±¡ã\n\n// äº«åç±»åå«ä¸ä¸ªæ çé¨åç¶æãè¿äºæååéä¿å­çæ°å¼å¯¹äºç¹å®æ èè¨æ¯å¯ä¸\n// çãä¾å¦ï¼ä½ å¨è¿éæ¾ä¸å°æ çåæ ãä½è¿éæå¾å¤æ æ¨ä¹é´æå±æççº¹çåé¢\n// è²ãç±äºè¿äºæ°æ®çä½ç§¯éå¸¸éå¸¸å¤§ï¼æä»¥å¦æè®©æ¯æ£µæ é½å¶è¿è¡ä¿å­çè¯å°è\n// è´¹å¤§éåå­ãå æ­¤ï¼æä»¬å¯å°çº¹çãé¢è²åå¶ä»éå¤æ°æ®å¯¼åºå°ä¸ä¸ªåç¬çå¯¹è±¡\n// ä¸­ï¼ç¶åè®©ä¼å¤çåä¸ªæ å¯¹è±¡å»å¼ç¨å®ã\nclass TreeType is\n    field name\n    field color\n    field texture\n    constructor TreeType(name, color, texture) { ... }\n    method draw(canvas, x, y) is\n        // 1. åå»ºç¹å®ç±»åãé¢è²åçº¹ççä½å¾ã\n        // 2. å¨ç»å¸åæ  (X,Y) å¤ç»å¶ä½å¾ã\n\n// äº«åå·¥åå³å®æ¯å¦å¤ç¨å·²æäº«åæèåå»ºä¸ä¸ªæ°çå¯¹è±¡ã\nclass TreeFactory is\n    static field treeTypes: collection of tree types\n    static method getTreeType(name, color, texture) is\n        type = treeTypes.find(name, color, texture)\n        if (type == null)\n            type = new TreeType(name, color, texture)\n            treeTypes.add(type)\n        return type\n\n// ææ¯å¯¹è±¡åå«æ ç¶æçå¤å¨é¨åãç¨åºä¸­å¯ä»¥åå»ºæ°åäº¿ä¸ªæ­¤ç±»å¯¹è±¡ï¼å ä¸ºå®ä»¬\n// ä½ç§¯å¾å°ï¼ä»æä¸¤ä¸ªæ´ååæ åä¸ä¸ªå¼ç¨æååéã\nclass Tree is\n    field x,y\n    field type: TreeType\n    constructor Tree(x, y, type) { ... }\n    method draw(canvas) is\n        type.draw(canvas, this.x, this.y)\n\n// æ ï¼Treeï¼åæ£®æï¼Forestï¼ç±»æ¯äº«åçå®¢æ·ç«¯ãå¦æä¸æç®ç»§ç»­å¯¹æ ç±»è¿è¡å¼\n// åï¼ä½ å¯ä»¥å°å®ä»¬åå¹¶ã\nclass Forest is\n    field trees: collection of Trees\n\n    method plantTree(x, y, name, color, texture) is\n        type = TreeFactory.getTreeType(name, color, texture)\n        tree = new Tree(x, y, type)\n        trees.add(tree)\n\n    method draw(canvas) is\n        foreach (tree in trees) do\n            tree.draw(canvas)\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ äº«åæ¨¡å¼åªæä¸ä¸ªç®çï¼ å°åå­æ¶èæå°åã å¦æä½ çç¨åºæ²¡æéå°åå­å®¹éä¸è¶³çé®é¢ï¼ åå¯ä»¥ææ¶å¿½ç¥è¯¥æ¨¡å¼ã\n\näº«åæ¨¡å¼å¨æ ¸å¿ Java ç¨åºåºä¸­çç¤ºä¾ï¼\n\n * java.lang.Integer#valueOf(int) ï¼ä»¥å Booleanã Byteã Characterã Shortã Long å BigÂ­Decimalï¼\n\nè¯å«æ¹æ³ï¼ äº«åå¯ä»¥éè¿æå»ºæ¹æ³æ¥è¯å«ï¼ å®ä¼è¿åç¼å­å¯¹è±¡èä¸æ¯åå»ºæ°çå¯¹è±¡ã\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * ä½ å¯ä»¥ä½¿ç¨äº«åæ¨¡å¼å®ç°ç»åæ¨¡å¼æ çå±äº«å¶èç¹ä»¥èçåå­ã\n * äº«åå±ç¤ºäºå¦ä½çæå¤§éçå°åå¯¹è±¡ï¼ å¤è§æ¨¡å¼åå±ç¤ºäºå¦ä½ç¨ä¸ä¸ªå¯¹è±¡æ¥ä»£è¡¨æ´ä¸ªå­ç³»ç»ã\n * å¦æä½ è½å°å¯¹è±¡çææå±äº«ç¶æç®åä¸ºä¸ä¸ªäº«åå¯¹è±¡ï¼ é£ä¹äº«åå°±ååä¾æ¨¡å¼ç±»ä¼¼äºã ä½è¿ä¸¤ä¸ªæ¨¡å¼æä¸¤ä¸ªæ ¹æ¬æ§çä¸åã\n   1. åªä¼æä¸ä¸ªåä¾å®ä½ï¼ ä½æ¯äº«åç±»å¯ä»¥æå¤ä¸ªå®ä½ï¼ åå®ä½çåå¨ç¶æä¹å¯ä»¥ä¸åã\n   2. åä¾å¯¹è±¡å¯ä»¥æ¯å¯åçã äº«åå¯¹è±¡æ¯ä¸å¯åçã\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',normalizedContent:'# è®¾è®¡æ¨¡å¼ä¹äº«åæ¨¡å¼\n\n\n# æå¾\n\näº«åæ¨¡å¼ (flyweight) æ¯ä¸ç§ç»æåè®¾è®¡æ¨¡å¼ï¼å®æå¼äºå¨æ¯ä¸ªå¯¹è±¡ä¸­ä¿å­æææ°æ®çæ¹å¼ï¼ éè¿å±äº«å¤ä¸ªå¯¹è±¡æå±æçç¸åç¶æï¼ è®©ä½ è½å¨æéçåå­å®¹éä¸­è½½å¥æ´å¤å¯¹è±¡ã\n\n\n# éç¨åºæ¯\n\n * ä»å¨ç¨åºå¿é¡»æ¯æå¤§éå¯¹è±¡ä¸æ²¡æè¶³å¤çåå­å®¹éæ¶ä½¿ç¨äº«åæ¨¡å¼ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. äº«åæ¨¡å¼åªæ¯ä¸ç§ä¼åã å¨åºç¨è¯¥æ¨¡å¼ä¹åï¼ ä½ è¦ç¡®å®ç¨åºä¸­å­å¨ä¸å¤§éç±»ä¼¼å¯¹è±¡åæ¶å ç¨åå­ç¸å³çåå­æ¶èé®é¢ï¼ å¹¶ä¸ç¡®ä¿è¯¥é®é¢æ æ³ä½¿ç¨å¶ä»æ´å¥½çæ¹å¼æ¥è§£å³ã\n 2. äº«å ï¼flyweightï¼ ç±»åå«åå§å¯¹è±¡ä¸­é¨åè½å¨å¤ä¸ªå¯¹è±¡ä¸­å±äº«çç¶æã åä¸äº«åå¯¹è±¡å¯å¨è®¸å¤ä¸åææ¯ä¸­ä½¿ç¨ã äº«åä¸­å­å¨çç¶æè¢«ç§°ä¸º âåå¨ç¶æâã ä¼ éç»äº«åæ¹æ³çç¶æè¢«ç§°ä¸º âå¤å¨ç¶æâã\n 3. ææ¯ ï¼contextï¼ ç±»åå«åå§å¯¹è±¡ä¸­åä¸ç¸åçå¤å¨ç¶æã ææ¯ä¸äº«åå¯¹è±¡ç»åå¨ä¸èµ·å°±è½è¡¨ç¤ºåå§å¯¹è±¡çå¨é¨ç¶æã\n 4. éå¸¸æåµä¸ï¼ åå§å¯¹è±¡çè¡ä¸ºä¼ä¿çå¨äº«åç±»ä¸­ã å æ­¤è°ç¨äº«åæ¹æ³å¿é¡»æä¾é¨åå¤å¨ç¶æä½ä¸ºåæ°ã ä½ä½ ä¹å¯å°è¡ä¸ºç§»å¨å°ææ¯ç±»ä¸­ï¼ ç¶åå°è¿å¥çäº«åä½ä¸ºåçº¯çæ°æ®å¯¹è±¡ã\n 5. å®¢æ·ç«¯ ï¼clientï¼ è´è´£è®¡ç®æå­å¨äº«åçå¤å¨ç¶æã å¨å®¢æ·ç«¯çæ¥ï¼ äº«åæ¯ä¸ç§å¯å¨è¿è¡æ¶è¿è¡éç½®çæ¨¡æ¿å¯¹è±¡ï¼ å·ä½çéç½®æ¹å¼ä¸ºåå¶æ¹æ³ä¸­ä¼ å¥ä¸äºææ¯æ°æ®åæ°ã\n 6. äº«åå·¥å ï¼flyweight factoryï¼ ä¼å¯¹å·²æäº«åçç¼å­æ± è¿è¡ç®¡çã æäºå·¥ååï¼ å®¢æ·ç«¯å°±æ éç´æ¥åå»ºäº«åï¼ å®ä»¬åªéè°ç¨å·¥åå¹¶åå¶ä¼ éç®æ äº«åçä¸äºåå¨ç¶æå³å¯ã å·¥åä¼æ ¹æ®åæ°å¨ä¹åå·²åå»ºçäº«åä¸­è¿è¡æ¥æ¾ï¼ å¦ææ¾å°æ»¡è¶³æ¡ä»¶çäº«åå°±å°å¶è¿åï¼ å¦ææ²¡ææ¾å°å°±æ ¹æ®åæ°æ°å»ºäº«åã\n\n\n# ç»æä»£ç èå¼\n\nflyweight : å®æ¯ææå·ä½äº«åç±»çè¶ç±»ææ¥å£ï¼éè¿è¿ä¸ªæ¥å£ï¼flyweight å¯ä»¥æ¥åå¹¶ä½ç¨äºå¤é¨ç¶æã\n\nabstract class flyweight {\n    public abstract void operation(int extrinsicstates);\n}\n\n\nconcreteflyweight : æ¯ç»§æ¿ flyweight è¶ç±»æå®ç° flyweight æ¥å£ï¼å¹¶ä¸ºåé¨ç¶æå¢å å­å¨ç©ºé´ã\n\nclass concreteflyweight extends flyweight {\n    @override\n    public void operation(int extrinsicstates) {\n        system.out.println("å±äº«çflyweight : " + extrinsicstates);\n    }\n}\n\n\nunsharedconcreteflyweight : æé£äºä¸éè¦å±äº«ç flyweight å­ç±»ï¼å ä¸º flyweight æ¥å£å±äº«æä¸ºå¯è½ï¼ä½å®å¹¶ä¸å¼ºå¶å±äº«ã\n\nclass unsharedconcreteflyweight extends flyweight {\n    @override\n    public void operation(int extrinsicstates) {\n        system.out.println("ä¸å±äº«çflyweight : " + extrinsicstates);\n    }\n}\n\n\nflywightfactory :æ¯ä¸ä¸ªäº«åå·¥åï¼ç¨æ¥åå»ºå¹¶ç®¡ç flyweight å¯¹è±¡ãå®ä¸»è¦æ¯ç¨æ¥ç¡®ä¿åçå°å±äº« flyweight ï¼å½ç¨æ·è¯·æ±ä¸ä¸ª flyweight æ¶ï¼ flyweightfactory å¯¹è±¡æä¾ä¸ä¸ªå·²åå»ºçå®ä¾æåå»ºä¸ä¸ªï¼å¦æå¯¹è±¡ä¸å­å¨çè¯ï¼ã\n\nclass flywightfactory {\n    private hashtable<string, flyweight> flyweights = new hashtable<string, flyweight>();\n\n    public flywightfactory() {\n        flyweights.put("x", new concreteflyweight());\n        flyweights.put("y", new concreteflyweight());\n        flyweights.put("z", new concreteflyweight());\n    }\n\n    public flyweight getflyweight(string key) {\n        return ((flyweight)flyweights.get(key));\n    }\n}\n\n\nå®¢æ·ç«¯\n\npublic class flyweightpattern {\n    public static void main(string[] args) {\n        int extrinsicstates = 1;\n        flywightfactory factory = new flywightfactory();\n\n        flyweight fx = factory.getflyweight("x");\n        fx.operation(extrinsicstates);\n\n        flyweight fy = factory.getflyweight("y");\n        fy.operation(++extrinsicstates);\n\n        flyweight fz = factory.getflyweight("z");\n        fz.operation(++extrinsicstates);\n\n        flyweight uf = new unsharedconcreteflyweight();\n        uf.operation(++extrinsicstates);\n    }\n}\n\n\nè¾åº\n\nå±äº«çflyweight : 1\nå±äº«çflyweight : 2\nå±äº«çflyweight : 3\nä¸å±äº«çflyweight : 4\n\n\n\n# ä¼ªä»£ç \n\n\n\nå¨æ¬ä¾ä¸­ï¼ äº«åæ¨¡å¼è½ææåå°å¨ç»å¸ä¸æ¸²ææ°ç¾ä¸ä¸ªæ ç¶å¯¹è±¡æ¶æéçåå­ã\n\nè¯¥æ¨¡å¼ä»ä¸»è¦ç æ tree ç±»ä¸­æ½ååå¨ç¶æï¼ å¹¶å°å¶ç§»å¨å°äº«åç±» æ ç§ç±»treeÂ­type ä¹ä¸­ã\n\næåç¨åºéè¦å¨å¤ä¸ªå¯¹è±¡ä¸­å­å¨ç¸åæ°æ®ï¼ èç°å¨ä»éå¨å ä¸ªäº«åå¯¹è±¡ä¸­ä¿å­æ°æ®ï¼ ç¶åå¨ä½ä¸ºææ¯ç æ å¯¹è±¡ä¸­è¿å¥äº«åå³å¯ã å®¢æ·ç«¯ä»£ç ä½¿ç¨äº«åå·¥ååå»ºæ å¯¹è±¡å¹¶å°è£æç´¢æå®å¯¹è±¡çå¤æè¡ä¸ºï¼ å¹¶è½å¨éè¦æ¶å¤ç¨å¯¹è±¡ã\n\n// äº«åç±»åå«ä¸ä¸ªæ çé¨åç¶æãè¿äºæååéä¿å­çæ°å¼å¯¹äºç¹å®æ èè¨æ¯å¯ä¸\n// çãä¾å¦ï¼ä½ å¨è¿éæ¾ä¸å°æ çåæ ãä½è¿éæå¾å¤æ æ¨ä¹é´æå±æççº¹çåé¢\n// è²ãç±äºè¿äºæ°æ®çä½ç§¯éå¸¸éå¸¸å¤§ï¼æä»¥å¦æè®©æ¯æ£µæ é½å¶è¿è¡ä¿å­çè¯å°è\n// è´¹å¤§éåå­ãå æ­¤ï¼æä»¬å¯å°çº¹çãé¢è²åå¶ä»éå¤æ°æ®å¯¼åºå°ä¸ä¸ªåç¬çå¯¹è±¡\n// ä¸­ï¼ç¶åè®©ä¼å¤çåä¸ªæ å¯¹è±¡å»å¼ç¨å®ã\nclass treetype is\n    field name\n    field color\n    field texture\n    constructor treetype(name, color, texture) { ... }\n    method draw(canvas, x, y) is\n        // 1. åå»ºç¹å®ç±»åãé¢è²åçº¹ççä½å¾ã\n        // 2. å¨ç»å¸åæ  (x,y) å¤ç»å¶ä½å¾ã\n\n// äº«åå·¥åå³å®æ¯å¦å¤ç¨å·²æäº«åæèåå»ºä¸ä¸ªæ°çå¯¹è±¡ã\nclass treefactory is\n    static field treetypes: collection of tree types\n    static method gettreetype(name, color, texture) is\n        type = treetypes.find(name, color, texture)\n        if (type == null)\n            type = new treetype(name, color, texture)\n            treetypes.add(type)\n        return type\n\n// ææ¯å¯¹è±¡åå«æ ç¶æçå¤å¨é¨åãç¨åºä¸­å¯ä»¥åå»ºæ°åäº¿ä¸ªæ­¤ç±»å¯¹è±¡ï¼å ä¸ºå®ä»¬\n// ä½ç§¯å¾å°ï¼ä»æä¸¤ä¸ªæ´ååæ åä¸ä¸ªå¼ç¨æååéã\nclass tree is\n    field x,y\n    field type: treetype\n    constructor tree(x, y, type) { ... }\n    method draw(canvas) is\n        type.draw(canvas, this.x, this.y)\n\n// æ ï¼treeï¼åæ£®æï¼forestï¼ç±»æ¯äº«åçå®¢æ·ç«¯ãå¦æä¸æç®ç»§ç»­å¯¹æ ç±»è¿è¡å¼\n// åï¼ä½ å¯ä»¥å°å®ä»¬åå¹¶ã\nclass forest is\n    field trees: collection of trees\n\n    method planttree(x, y, name, color, texture) is\n        type = treefactory.gettreetype(name, color, texture)\n        tree = new tree(x, y, type)\n        trees.add(tree)\n\n    method draw(canvas) is\n        foreach (tree in trees) do\n            tree.draw(canvas)\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ äº«åæ¨¡å¼åªæä¸ä¸ªç®çï¼ å°åå­æ¶èæå°åã å¦æä½ çç¨åºæ²¡æéå°åå­å®¹éä¸è¶³çé®é¢ï¼ åå¯ä»¥ææ¶å¿½ç¥è¯¥æ¨¡å¼ã\n\näº«åæ¨¡å¼å¨æ ¸å¿ java ç¨åºåºä¸­çç¤ºä¾ï¼\n\n * java.lang.integer#valueof(int) ï¼ä»¥å booleanã byteã characterã shortã long å bigÂ­decimalï¼\n\nè¯å«æ¹æ³ï¼ äº«åå¯ä»¥éè¿æå»ºæ¹æ³æ¥è¯å«ï¼ å®ä¼è¿åç¼å­å¯¹è±¡èä¸æ¯åå»ºæ°çå¯¹è±¡ã\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * ä½ å¯ä»¥ä½¿ç¨äº«åæ¨¡å¼å®ç°ç»åæ¨¡å¼æ çå±äº«å¶èç¹ä»¥èçåå­ã\n * äº«åå±ç¤ºäºå¦ä½çæå¤§éçå°åå¯¹è±¡ï¼ å¤è§æ¨¡å¼åå±ç¤ºäºå¦ä½ç¨ä¸ä¸ªå¯¹è±¡æ¥ä»£è¡¨æ´ä¸ªå­ç³»ç»ã\n * å¦æä½ è½å°å¯¹è±¡çææå±äº«ç¶æç®åä¸ºä¸ä¸ªäº«åå¯¹è±¡ï¼ é£ä¹äº«åå°±ååä¾æ¨¡å¼ç±»ä¼¼äºã ä½è¿ä¸¤ä¸ªæ¨¡å¼æä¸¤ä¸ªæ ¹æ¬æ§çä¸åã\n   1. åªä¼æä¸ä¸ªåä¾å®ä½ï¼ ä½æ¯äº«åç±»å¯ä»¥æå¤ä¸ªå®ä½ï¼ åå®ä½çåå¨ç¶æä¹å¯ä»¥ä¸åã\n   2. åä¾å¯¹è±¡å¯ä»¥æ¯å¯åçã äº«åå¯¹è±¡æ¯ä¸å¯åçã\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼ä¹å¤è§æ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼ä¹å¤è§æ¨¡å¼",date:"2015-01-19T15:15:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/ea331b/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/11.%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/11.å¤è§æ¨¡å¼.md",key:"v-25c50554",path:"/pages/ea331b/",headers:[{level:2,title:"æå¾",slug:"æå¾",normalizedTitle:"æå¾",charIndex:16},{level:2,title:"éç¨åºæ¯",slug:"éç¨åºæ¯",normalizedTitle:"éç¨åºæ¯",charIndex:286},{level:2,title:"ç»æ",slug:"ç»æ",normalizedTitle:"ç»æ",charIndex:37},{level:3,title:"ç»æè¯´æ",slug:"ç»æè¯´æ",normalizedTitle:"ç»æè¯´æ",charIndex:379},{level:3,title:"ç»æä»£ç èå¼",slug:"ç»æä»£ç èå¼",normalizedTitle:"ç»æä»£ç èå¼",charIndex:729},{level:2,title:"ä¼ªä»£ç ",slug:"ä¼ªä»£ç ",normalizedTitle:"ä¼ªä»£ç ",charIndex:1890},{level:2,title:"æ¡ä¾",slug:"æ¡ä¾",normalizedTitle:"æ¡ä¾",charIndex:3061},{level:2,title:"ä¸å¶ä»æ¨¡å¼çå³ç³»",slug:"ä¸å¶ä»æ¨¡å¼çå³ç³»",normalizedTitle:"ä¸å¶ä»æ¨¡å¼çå³ç³»",charIndex:3456},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:3921}],headersStr:"æå¾ éç¨åºæ¯ ç»æ ç»æè¯´æ ç»æä»£ç èå¼ ä¼ªä»£ç  æ¡ä¾ ä¸å¶ä»æ¨¡å¼çå³ç³» åèèµæ",content:'# è®¾è®¡æ¨¡å¼ä¹å¤è§æ¨¡å¼\n\n\n# æå¾\n\nå¤è§æ¨¡å¼ (Facade) æ¯ä¸ç§ç»æåè®¾è®¡æ¨¡å¼ï¼ ä¸ºå­ç³»ç»ä¸­çä¸ç»æ¥å£æä¾ä¸ä¸ªä¸è´ççé¢ï¼æ­¤æ¨¡å¼å®ä¹äºä¸ä¸ªé«å±æ¥å£ï¼è¿ä¸ªæ¥å£ä½¿å¾è¿ä¸å­ç³»ç»æ´å å®¹æä½¿ç¨ã\n\n * å¤è§æ¨¡å¼ä¸ºå¤æå­ç³»ç»æä¾äºä¸ä¸ªç®åæ¥å£ï¼å¹¶ä¸ä¸ºå­ç³»ç»æ·»å æ°çåè½åè¡ä¸ºã\n * å¤è§æ¨¡å¼å®ç°äºå­ç³»ç»ä¸å®¢æ·ä¹é´çæ¾è¦åå³ç³»ã\n * å¤è§æ¨¡å¼æ²¡æå°è£å­ç³»ç»çç±»ï¼åªæ¯æä¾äºç®åçæ¥å£ã å¦æåºç¨éè¦ï¼å®å¹¶ä¸éå¶å®¢æ·ä½¿ç¨å­ç³»ç»ç±»ãå æ­¤å¯ä»¥åç³»ç»æç¨æ§ä¸éç¨æ§ä¹é´éæ©ã\n * å¤è§æ¨¡å¼æ³¨éçæ¯ç®åæ¥å£ï¼å®æ´å¤çæ¶åæ¯ä»æ¶æçå±æ¬¡å»çæ´ä¸ªç³»ç»ï¼èå¹¶éåä¸ªç±»çå±æ¬¡ã\n\n\n# éç¨åºæ¯\n\n * å¦æä½ éè¦ä¸ä¸ªæåå¤æå­ç³»ç»çç´æ¥æ¥å£ï¼ ä¸è¯¥æ¥å£çåè½æéï¼ åå¯ä»¥ä½¿ç¨å¤è§æ¨¡å¼ã\n * å¦æéè¦å°å­ç³»ç»ç»ç»ä¸ºå¤å±ç»æï¼ å¯ä»¥ä½¿ç¨å¤è§ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. å¤è§ ï¼Facadeï¼ æä¾äºä¸ç§è®¿é®ç¹å®å­ç³»ç»åè½çä¾¿æ·æ¹å¼ï¼ å¶äºè§£å¦ä½éå®åå®¢æ·ç«¯è¯·æ±ï¼ ç¥æå¦ä½æä½ä¸åæ´»å¨é¨ä»¶ã\n\n 2. åå»ºéå å¤è§ ï¼Additional Facadeï¼ ç±»å¯ä»¥é¿åå¤ç§ä¸ç¸å³çåè½æ±¡æåä¸å¤è§ï¼ ä½¿å¶åæåä¸ä¸ªå¤æç»æã å®¢æ·ç«¯åå¶ä»å¤è§é½å¯ä½¿ç¨éå å¤è§ã\n\n 3. å¤æå­ç³»ç» ï¼Complex Subsystemï¼ ç±æ°åä¸ªä¸åå¯¹è±¡ææã å¦æè¦ç¨è¿äºå¯¹è±¡å®æææä¹çå·¥ä½ï¼ ä½ å¿é¡»æ·±å¥äºè§£å­ç³»ç»çå®ç°ç»èï¼ æ¯å¦æç§æ­£ç¡®é¡ºåºåå§åå¯¹è±¡åä¸ºå¶æä¾æ­£ç¡®æ ¼å¼çæ°æ®ã\n    \n    å­ç³»ç»ç±»ä¸ä¼æè¯å°å¤è§çå­å¨ï¼ å®ä»¬å¨ç³»ç»åè¿ä½å¹¶ä¸ç¸äºä¹é´å¯ç´æ¥è¿è¡äº¤äºã\n\n 4. å®¢æ·ç«¯ ï¼Clientï¼ ä½¿ç¨å¤è§ä»£æ¿å¯¹å­ç³»ç»å¯¹è±¡çç´æ¥è°ç¨ã\n\n\n# ç»æä»£ç èå¼\n\nFacade : äºè§£æ¯ä¸ªå­ç³»ç»ç±»çåè½ï¼è´è´£ååå®¢æ·ç«¯çè¯·æ±ç»åä¸ªå­ç³»ç»å»å¤çã\n\nclass Class1 {\n    public void op1() {\n        System.out.println("æ¹æ³1");\n    }\n}\n\nclass Class2 {\n    public void op2() {\n        System.out.println("æ¹æ³2");\n    }\n}\n\nclass Class3 {\n    public void op3() {\n        System.out.println("æ¹æ³3");\n    }\n}\n\n\nSubsystem Classes : å®ç°å­ç³»ç»åè½ãå¨ä¸æç¥ Facade çæåµä¸ï¼å¤ç Facade å¯¹è±¡åéçå·¥ä½ï¼\n\nclass Facade {\n    private Class1 one = new Class1();\n    private Class2 two = new Class2();\n    private Class3 three = new Class3();\n\n    public void op1() {\n        System.out.println("Facade op1()");\n        one.op1();\n    }\n\n    public void op2() {\n        System.out.println("Facade op2()");\n        two.op2();\n    }\n\n    public void op3() {\n        System.out.println("Facade op3()");\n        three.op3();\n    }\n\n    public void Method() {\n        System.out.println("Facade Method()");\n        three.op3();\n        two.op2();\n        one.op1();\n    }\n}\n\n\nãå®¢æ·ç«¯ã\n\npublic class FacadePattern {\n    public static void main(String[] args) {\n        Facade facade = new Facade();\n        facade.Method();\n\n        facade.op1();\n    }\n}\n\n\nãè¾åºã\n\nFacade Method()\næ¹æ³3\næ¹æ³2\næ¹æ³1\nFacade op1()\næ¹æ³1\n\n\n\n# ä¼ªä»£ç \n\nå¨æ¬ä¾ä¸­ï¼ å¤è§æ¨¡å¼ç®åäºå®¢æ·ç«¯ä¸å¤æè§é¢è½¬æ¢æ¡æ¶ä¹é´çäº¤äºã\n\n\n\nä½ å¯ä»¥åå»ºä¸ä¸ªå°è£æéåè½å¹¶éèå¶ä»ä»£ç çå¤è§ç±»ï¼ ä»èæ éä½¿å¨é¨ä»£ç ç´æ¥ä¸æ°åä¸ªæ¡æ¶ç±»è¿è¡äº¤äºã è¯¥ç»æè¿è½å°æªæ¥æ¡æ¶åçº§ææ´æ¢æé æçå½±åæå°åï¼ å ä¸ºä½ åªéä¿®æ¹ç¨åºä¸­å¤è§æ¹æ³çå®ç°å³å¯ã\n\n// è¿éæå¤æç¬¬ä¸æ¹è§é¢è½¬æ¢æ¡æ¶ä¸­çä¸äºç±»ãæä»¬ä¸ç¥æå¶ä¸­çä»£ç ï¼å æ­¤æ æ³\n// å¯¹å¶è¿è¡ç®åã\n\nclass VideoFile\n// ...\n\nclass OggCompressionCodec\n// ...\n\nclass MPEG4CompressionCodec\n// ...\n\nclass CodecFactory\n// ...\n\nclass BitrateReader\n// ...\n\nclass AudioMixer\n// ...\n\n\n// ä¸ºäºå°æ¡æ¶çå¤ææ§éèå¨ä¸ä¸ªç®åæ¥å£èåï¼æä»¬åå»ºäºä¸ä¸ªå¤è§ç±»ãå®æ¯å¨\n// åè½æ§åç®æ´æ§ä¹é´ååºçæè¡¡ã\nclass VideoConverter is\n    method convert(filename, format):File is\n        file = new VideoFile(filename)\n        sourceCodec = new CodecFactory.extract(file)\n        if (format == "mp4")\n            destinationCodec = new MPEG4CompressionCodec()\n        else\n            destinationCodec = new OggCompressionCodec()\n        buffer = BitrateReader.read(filename, sourceCodec)\n        result = BitrateReader.convert(buffer, destinationCodec)\n        result = (new AudioMixer()).fix(result)\n        return new File(result)\n\n// åºç¨ç¨åºçç±»å¹¶ä¸ä¾èµäºå¤ææ¡æ¶ä¸­æåä¸ä¸çç±»ãåæ ·ï¼å¦æä½ å³å®æ´æ¢æ¡æ¶ï¼\n// é£åªééåå¤è§ç±»å³å¯ã\nclass Application is\n    method main() is\n        convertor = new VideoConverter()\n        mp4 = convertor.convert("funny-cats-video.ogg", "mp4")\n        mp4.save()\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ ä½¿ç¨ Java å¼åçç¨åºä¸­ç»å¸¸ä¼ä½¿ç¨å¤è§æ¨¡å¼ã å®å¨ä¸å¤æç¨åºåºå API åä½æ¶ç¹å«æç¨ã\n\nä¸é¢æ¯ä¸äºæ ¸å¿ Java ç¨åºåºä¸­çå¤è§ç¤ºä¾ï¼\n\n * javax.faces.context.FacesContext å¨åºå±ä½¿ç¨äº LifeÂ­Cycleã ViewÂ­Handler å NavigationÂ­Handler è¿å ä¸ªç±»ï¼ ä½ç»å¤§å¤æ°å®¢æ·ç«¯ä¸ç¥éã\n * javax.faces.context.ExternalContext å¨åé¨ä½¿ç¨äº ServletÂ­Contextã HttpÂ­Sessionã HttpÂ­ServletÂ­Requestã HttpÂ­ServletÂ­Response åå¶ä»ä¸äºç±»ã\n\nè¯å«æ¹æ³ï¼ å¤è§å¯ä»¥éè¿ä½¿ç¨ç®åæ¥å£ï¼ ä½å°ç»å¤§é¨åå·¥ä½å§æ´¾ç»å¶ä»ç±»çç±»æ¥è¯å«ã éå¸¸æåµä¸ï¼ å¤è§ç®¡ççå¶æä½¿ç¨çå¯¹è±¡çå®æ´çå½å¨æã\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * å¤è§æ¨¡å¼ä¸ºç°æå¯¹è±¡å®ä¹äºä¸ä¸ªæ°æ¥å£ï¼ ééå¨æ¨¡å¼åä¼è¯å¾è¿ç¨å·²æçæ¥å£ã ééå¨éå¸¸åªå°è£ä¸ä¸ªå¯¹è±¡ï¼ å¤è§éå¸¸ä¼ä½ç¨äºæ´ä¸ªå¯¹è±¡å­ç³»ç»ä¸ã\n * å½åªéå¯¹å®¢æ·ç«¯ä»£ç éèå­ç³»ç»åå»ºå¯¹è±¡çæ¹å¼æ¶ï¼ ä½ å¯ä»¥ä½¿ç¨æ½è±¡å·¥åæ¨¡å¼æ¥ä»£æ¿å¤è§ã\n * äº«åæ¨¡å¼å±ç¤ºäºå¦ä½çæå¤§éçå°åå¯¹è±¡ï¼ å¤è§åå±ç¤ºäºå¦ä½ç¨ä¸ä¸ªå¯¹è±¡æ¥ä»£è¡¨æ´ä¸ªå­ç³»ç»ã\n * å¤è§åä¸­ä»èæ¨¡å¼çèè´£ç±»ä¼¼ï¼ å®ä»¬é½å°è¯å¨å¤§éç´§å¯è¦åçç±»ä¸­ç»ç»èµ·åä½ã\n   * å¤è§ä¸ºå­ç³»ç»ä¸­çææå¯¹è±¡å®ä¹äºä¸ä¸ªç®åæ¥å£ï¼ ä½æ¯å®ä¸æä¾ä»»ä½æ°åè½ã å­ç³»ç»æ¬èº«ä¸ä¼æè¯å°å¤è§çå­å¨ã å­ç³»ç»ä¸­çå¯¹è±¡å¯ä»¥ç´æ¥è¿è¡äº¤æµã\n   * ä¸­ä»èå°ç³»ç»ä¸­ç»ä»¶çæ²éè¡ä¸ºä¸­å¿åã åç»ä»¶åªç¥éä¸­ä»èå¯¹è±¡ï¼ æ æ³ç´æ¥ç¸äºäº¤æµã\n * å¤è§ç±»éå¸¸å¯ä»¥è½¬æ¢ä¸ºåä¾æ¨¡å¼ç±»ï¼ å ä¸ºå¨å¤§é¨åæåµä¸ä¸ä¸ªå¤è§å¯¹è±¡å°±è¶³å¤äºã\n * å¤è§ä¸ä»£çæ¨¡å¼çç¸ä¼¼ä¹å¤å¨äºå®ä»¬é½ç¼å­äºä¸ä¸ªå¤æå®ä½å¹¶èªè¡å¯¹å¶è¿è¡åå§åã ä»£çä¸å¶æå¡å¯¹è±¡éµå¾ªåä¸æ¥å£ï¼ ä½¿å¾èªå·±åæå¡å¯¹è±¡å¯ä»¥äºæ¢ï¼ å¨è¿ä¸ç¹ä¸å®ä¸å¤è§ä¸åã\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',normalizedContent:'# è®¾è®¡æ¨¡å¼ä¹å¤è§æ¨¡å¼\n\n\n# æå¾\n\nå¤è§æ¨¡å¼ (facade) æ¯ä¸ç§ç»æåè®¾è®¡æ¨¡å¼ï¼ ä¸ºå­ç³»ç»ä¸­çä¸ç»æ¥å£æä¾ä¸ä¸ªä¸è´ççé¢ï¼æ­¤æ¨¡å¼å®ä¹äºä¸ä¸ªé«å±æ¥å£ï¼è¿ä¸ªæ¥å£ä½¿å¾è¿ä¸å­ç³»ç»æ´å å®¹æä½¿ç¨ã\n\n * å¤è§æ¨¡å¼ä¸ºå¤æå­ç³»ç»æä¾äºä¸ä¸ªç®åæ¥å£ï¼å¹¶ä¸ä¸ºå­ç³»ç»æ·»å æ°çåè½åè¡ä¸ºã\n * å¤è§æ¨¡å¼å®ç°äºå­ç³»ç»ä¸å®¢æ·ä¹é´çæ¾è¦åå³ç³»ã\n * å¤è§æ¨¡å¼æ²¡æå°è£å­ç³»ç»çç±»ï¼åªæ¯æä¾äºç®åçæ¥å£ã å¦æåºç¨éè¦ï¼å®å¹¶ä¸éå¶å®¢æ·ä½¿ç¨å­ç³»ç»ç±»ãå æ­¤å¯ä»¥åç³»ç»æç¨æ§ä¸éç¨æ§ä¹é´éæ©ã\n * å¤è§æ¨¡å¼æ³¨éçæ¯ç®åæ¥å£ï¼å®æ´å¤çæ¶åæ¯ä»æ¶æçå±æ¬¡å»çæ´ä¸ªç³»ç»ï¼èå¹¶éåä¸ªç±»çå±æ¬¡ã\n\n\n# éç¨åºæ¯\n\n * å¦æä½ éè¦ä¸ä¸ªæåå¤æå­ç³»ç»çç´æ¥æ¥å£ï¼ ä¸è¯¥æ¥å£çåè½æéï¼ åå¯ä»¥ä½¿ç¨å¤è§æ¨¡å¼ã\n * å¦æéè¦å°å­ç³»ç»ç»ç»ä¸ºå¤å±ç»æï¼ å¯ä»¥ä½¿ç¨å¤è§ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. å¤è§ ï¼facadeï¼ æä¾äºä¸ç§è®¿é®ç¹å®å­ç³»ç»åè½çä¾¿æ·æ¹å¼ï¼ å¶äºè§£å¦ä½éå®åå®¢æ·ç«¯è¯·æ±ï¼ ç¥æå¦ä½æä½ä¸åæ´»å¨é¨ä»¶ã\n\n 2. åå»ºéå å¤è§ ï¼additional facadeï¼ ç±»å¯ä»¥é¿åå¤ç§ä¸ç¸å³çåè½æ±¡æåä¸å¤è§ï¼ ä½¿å¶åæåä¸ä¸ªå¤æç»æã å®¢æ·ç«¯åå¶ä»å¤è§é½å¯ä½¿ç¨éå å¤è§ã\n\n 3. å¤æå­ç³»ç» ï¼complex subsystemï¼ ç±æ°åä¸ªä¸åå¯¹è±¡ææã å¦æè¦ç¨è¿äºå¯¹è±¡å®æææä¹çå·¥ä½ï¼ ä½ å¿é¡»æ·±å¥äºè§£å­ç³»ç»çå®ç°ç»èï¼ æ¯å¦æç§æ­£ç¡®é¡ºåºåå§åå¯¹è±¡åä¸ºå¶æä¾æ­£ç¡®æ ¼å¼çæ°æ®ã\n    \n    å­ç³»ç»ç±»ä¸ä¼æè¯å°å¤è§çå­å¨ï¼ å®ä»¬å¨ç³»ç»åè¿ä½å¹¶ä¸ç¸äºä¹é´å¯ç´æ¥è¿è¡äº¤äºã\n\n 4. å®¢æ·ç«¯ ï¼clientï¼ ä½¿ç¨å¤è§ä»£æ¿å¯¹å­ç³»ç»å¯¹è±¡çç´æ¥è°ç¨ã\n\n\n# ç»æä»£ç èå¼\n\nfacade : äºè§£æ¯ä¸ªå­ç³»ç»ç±»çåè½ï¼è´è´£ååå®¢æ·ç«¯çè¯·æ±ç»åä¸ªå­ç³»ç»å»å¤çã\n\nclass class1 {\n    public void op1() {\n        system.out.println("æ¹æ³1");\n    }\n}\n\nclass class2 {\n    public void op2() {\n        system.out.println("æ¹æ³2");\n    }\n}\n\nclass class3 {\n    public void op3() {\n        system.out.println("æ¹æ³3");\n    }\n}\n\n\nsubsystem classes : å®ç°å­ç³»ç»åè½ãå¨ä¸æç¥ facade çæåµä¸ï¼å¤ç facade å¯¹è±¡åéçå·¥ä½ï¼\n\nclass facade {\n    private class1 one = new class1();\n    private class2 two = new class2();\n    private class3 three = new class3();\n\n    public void op1() {\n        system.out.println("facade op1()");\n        one.op1();\n    }\n\n    public void op2() {\n        system.out.println("facade op2()");\n        two.op2();\n    }\n\n    public void op3() {\n        system.out.println("facade op3()");\n        three.op3();\n    }\n\n    public void method() {\n        system.out.println("facade method()");\n        three.op3();\n        two.op2();\n        one.op1();\n    }\n}\n\n\nãå®¢æ·ç«¯ã\n\npublic class facadepattern {\n    public static void main(string[] args) {\n        facade facade = new facade();\n        facade.method();\n\n        facade.op1();\n    }\n}\n\n\nãè¾åºã\n\nfacade method()\næ¹æ³3\næ¹æ³2\næ¹æ³1\nfacade op1()\næ¹æ³1\n\n\n\n# ä¼ªä»£ç \n\nå¨æ¬ä¾ä¸­ï¼ å¤è§æ¨¡å¼ç®åäºå®¢æ·ç«¯ä¸å¤æè§é¢è½¬æ¢æ¡æ¶ä¹é´çäº¤äºã\n\n\n\nä½ å¯ä»¥åå»ºä¸ä¸ªå°è£æéåè½å¹¶éèå¶ä»ä»£ç çå¤è§ç±»ï¼ ä»èæ éä½¿å¨é¨ä»£ç ç´æ¥ä¸æ°åä¸ªæ¡æ¶ç±»è¿è¡äº¤äºã è¯¥ç»æè¿è½å°æªæ¥æ¡æ¶åçº§ææ´æ¢æé æçå½±åæå°åï¼ å ä¸ºä½ åªéä¿®æ¹ç¨åºä¸­å¤è§æ¹æ³çå®ç°å³å¯ã\n\n// è¿éæå¤æç¬¬ä¸æ¹è§é¢è½¬æ¢æ¡æ¶ä¸­çä¸äºç±»ãæä»¬ä¸ç¥æå¶ä¸­çä»£ç ï¼å æ­¤æ æ³\n// å¯¹å¶è¿è¡ç®åã\n\nclass videofile\n// ...\n\nclass oggcompressioncodec\n// ...\n\nclass mpeg4compressioncodec\n// ...\n\nclass codecfactory\n// ...\n\nclass bitratereader\n// ...\n\nclass audiomixer\n// ...\n\n\n// ä¸ºäºå°æ¡æ¶çå¤ææ§éèå¨ä¸ä¸ªç®åæ¥å£èåï¼æä»¬åå»ºäºä¸ä¸ªå¤è§ç±»ãå®æ¯å¨\n// åè½æ§åç®æ´æ§ä¹é´ååºçæè¡¡ã\nclass videoconverter is\n    method convert(filename, format):file is\n        file = new videofile(filename)\n        sourcecodec = new codecfactory.extract(file)\n        if (format == "mp4")\n            destinationcodec = new mpeg4compressioncodec()\n        else\n            destinationcodec = new oggcompressioncodec()\n        buffer = bitratereader.read(filename, sourcecodec)\n        result = bitratereader.convert(buffer, destinationcodec)\n        result = (new audiomixer()).fix(result)\n        return new file(result)\n\n// åºç¨ç¨åºçç±»å¹¶ä¸ä¾èµäºå¤ææ¡æ¶ä¸­æåä¸ä¸çç±»ãåæ ·ï¼å¦æä½ å³å®æ´æ¢æ¡æ¶ï¼\n// é£åªééåå¤è§ç±»å³å¯ã\nclass application is\n    method main() is\n        convertor = new videoconverter()\n        mp4 = convertor.convert("funny-cats-video.ogg", "mp4")\n        mp4.save()\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ ä½¿ç¨ java å¼åçç¨åºä¸­ç»å¸¸ä¼ä½¿ç¨å¤è§æ¨¡å¼ã å®å¨ä¸å¤æç¨åºåºå api åä½æ¶ç¹å«æç¨ã\n\nä¸é¢æ¯ä¸äºæ ¸å¿ java ç¨åºåºä¸­çå¤è§ç¤ºä¾ï¼\n\n * javax.faces.context.facescontext å¨åºå±ä½¿ç¨äº lifeÂ­cycleã viewÂ­handler å navigationÂ­handler è¿å ä¸ªç±»ï¼ ä½ç»å¤§å¤æ°å®¢æ·ç«¯ä¸ç¥éã\n * javax.faces.context.externalcontext å¨åé¨ä½¿ç¨äº servletÂ­contextã httpÂ­sessionã httpÂ­servletÂ­requestã httpÂ­servletÂ­response åå¶ä»ä¸äºç±»ã\n\nè¯å«æ¹æ³ï¼ å¤è§å¯ä»¥éè¿ä½¿ç¨ç®åæ¥å£ï¼ ä½å°ç»å¤§é¨åå·¥ä½å§æ´¾ç»å¶ä»ç±»çç±»æ¥è¯å«ã éå¸¸æåµä¸ï¼ å¤è§ç®¡ççå¶æä½¿ç¨çå¯¹è±¡çå®æ´çå½å¨æã\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * å¤è§æ¨¡å¼ä¸ºç°æå¯¹è±¡å®ä¹äºä¸ä¸ªæ°æ¥å£ï¼ ééå¨æ¨¡å¼åä¼è¯å¾è¿ç¨å·²æçæ¥å£ã ééå¨éå¸¸åªå°è£ä¸ä¸ªå¯¹è±¡ï¼ å¤è§éå¸¸ä¼ä½ç¨äºæ´ä¸ªå¯¹è±¡å­ç³»ç»ä¸ã\n * å½åªéå¯¹å®¢æ·ç«¯ä»£ç éèå­ç³»ç»åå»ºå¯¹è±¡çæ¹å¼æ¶ï¼ ä½ å¯ä»¥ä½¿ç¨æ½è±¡å·¥åæ¨¡å¼æ¥ä»£æ¿å¤è§ã\n * äº«åæ¨¡å¼å±ç¤ºäºå¦ä½çæå¤§éçå°åå¯¹è±¡ï¼ å¤è§åå±ç¤ºäºå¦ä½ç¨ä¸ä¸ªå¯¹è±¡æ¥ä»£è¡¨æ´ä¸ªå­ç³»ç»ã\n * å¤è§åä¸­ä»èæ¨¡å¼çèè´£ç±»ä¼¼ï¼ å®ä»¬é½å°è¯å¨å¤§éç´§å¯è¦åçç±»ä¸­ç»ç»èµ·åä½ã\n   * å¤è§ä¸ºå­ç³»ç»ä¸­çææå¯¹è±¡å®ä¹äºä¸ä¸ªç®åæ¥å£ï¼ ä½æ¯å®ä¸æä¾ä»»ä½æ°åè½ã å­ç³»ç»æ¬èº«ä¸ä¼æè¯å°å¤è§çå­å¨ã å­ç³»ç»ä¸­çå¯¹è±¡å¯ä»¥ç´æ¥è¿è¡äº¤æµã\n   * ä¸­ä»èå°ç³»ç»ä¸­ç»ä»¶çæ²éè¡ä¸ºä¸­å¿åã åç»ä»¶åªç¥éä¸­ä»èå¯¹è±¡ï¼ æ æ³ç´æ¥ç¸äºäº¤æµã\n * å¤è§ç±»éå¸¸å¯ä»¥è½¬æ¢ä¸ºåä¾æ¨¡å¼ç±»ï¼ å ä¸ºå¨å¤§é¨åæåµä¸ä¸ä¸ªå¤è§å¯¹è±¡å°±è¶³å¤äºã\n * å¤è§ä¸ä»£çæ¨¡å¼çç¸ä¼¼ä¹å¤å¨äºå®ä»¬é½ç¼å­äºä¸ä¸ªå¤æå®ä½å¹¶èªè¡å¯¹å¶è¿è¡åå§åã ä»£çä¸å¶æå¡å¯¹è±¡éµå¾ªåä¸æ¥å£ï¼ ä½¿å¾èªå·±åæå¡å¯¹è±¡å¯ä»¥äºæ¢ï¼ å¨è¿ä¸ç¹ä¸å®ä¸å¤è§ä¸åã\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼ä¹ä»£çæ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼ä¹ä»£çæ¨¡å¼",date:"2015-01-19T11:38:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/5a865c/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/13.%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/13.ä»£çæ¨¡å¼.md",key:"v-51d6ac9c",path:"/pages/5a865c/",headers:[{level:2,title:"æå¾",slug:"æå¾",normalizedTitle:"æå¾",charIndex:16},{level:2,title:"éç¨åºæ¯",slug:"éç¨åºæ¯",normalizedTitle:"éç¨åºæ¯",charIndex:184},{level:2,title:"ç»æ",slug:"ç»æ",normalizedTitle:"ç»æ",charIndex:36},{level:3,title:"ç»æè¯´æ",slug:"ç»æè¯´æ",normalizedTitle:"ç»æè¯´æ",charIndex:500},{level:3,title:"ç»æä»£ç èå¼",slug:"ç»æä»£ç èå¼",normalizedTitle:"ç»æä»£ç èå¼",charIndex:771},{level:2,title:"ä¼ªä»£ç ",slug:"ä¼ªä»£ç ",normalizedTitle:"ä¼ªä»£ç ",charIndex:1363},{level:2,title:"æ¡ä¾",slug:"æ¡ä¾",normalizedTitle:"æ¡ä¾",charIndex:3597},{level:3,title:"æ³¨è§£+åå°+ä»£çæ¶é¤éå¤ä»£ç ",slug:"æ³¨è§£-åå°-ä»£çæ¶é¤éå¤ä»£ç ",normalizedTitle:"æ³¨è§£+åå°+ä»£çæ¶é¤éå¤ä»£ç ",charIndex:3927},{level:4,title:"é®é¢çæ¬",slug:"é®é¢çæ¬",normalizedTitle:"é®é¢çæ¬",charIndex:4250},{level:4,title:"ä¼åçæ¬",slug:"ä¼åçæ¬",normalizedTitle:"ä¼åçæ¬",charIndex:6314},{level:2,title:"ä¸å¶ä»æ¨¡å¼çå³ç³»",slug:"ä¸å¶ä»æ¨¡å¼çå³ç³»",normalizedTitle:"ä¸å¶ä»æ¨¡å¼çå³ç³»",charIndex:11151},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:11430}],headersStr:"æå¾ éç¨åºæ¯ ç»æ ç»æè¯´æ ç»æä»£ç èå¼ ä¼ªä»£ç  æ¡ä¾ æ³¨è§£+åå°+ä»£çæ¶é¤éå¤ä»£ç  é®é¢çæ¬ ä¼åçæ¬ ä¸å¶ä»æ¨¡å¼çå³ç³» åèèµæ",content:'# è®¾è®¡æ¨¡å¼ä¹ä»£çæ¨¡å¼\n\n\n# æå¾\n\nä»£çæ¨¡å¼ (Proxy) æ¯ä¸ç§ç»æåè®¾è®¡æ¨¡å¼ï¼ ä¸ºå¶ä»å¯¹è±¡æä¾ä¸ç§ä»£çä»¥æ§å¶å¯¹è¿ä¸ªå¯¹è±¡çè®¿é®ã\n\n * ä»£çæ¨¡å¼ä»ç»äºä¸ç§è®¿é®å¯¹è±¡çé´æ¥ç­çº§ã\n * ä¸ä¸ªè¿ç¨ä»£çå¯ä»¥éèä¸ä¸ªå¯¹è±¡å¨ä¸åå°åç©ºé´çç»èã\n * ä¸ä¸ªèæä»£çå¯ä»¥æ ¹æ®éè¦æä¼ååå»ºå¯¹è±¡çå¼éã\n * èå®å¨ä»£çåæºè½æå¼é½åè®¸è®¿é®å¯¹è±¡çåæ¶å¤çå¶ä»äºå¡ã\n\n\n# éç¨åºæ¯\n\n * å»¶è¿åå§å ï¼èæä»£çï¼ã å¦æä½ æä¸ä¸ªå¶å°ä½¿ç¨çééçº§æå¡å¯¹è±¡ï¼ ä¸ç´ä¿æè¯¥å¯¹è±¡è¿è¡ä¼æ¶èç³»ç»èµæºæ¶ï¼ å¯ä½¿ç¨ä»£çæ¨¡å¼ã\n * è®¿é®æ§å¶ ï¼ä¿æ¤ä»£çï¼ã å¦æä½ åªå¸æç¹å®å®¢æ·ç«¯ä½¿ç¨æå¡å¯¹è±¡ï¼ è¿éçå¯¹è±¡å¯ä»¥æ¯æä½ç³»ç»ä¸­éå¸¸éè¦çé¨åï¼ èå®¢æ·ç«¯åæ¯åç§å·²å¯å¨çç¨åº ï¼åæ¬æ¶æç¨åºï¼ï¼ æ­¤æ¶å¯ä½¿ç¨ä»£çæ¨¡å¼ã\n * æ¬å°æ§è¡è¿ç¨æå¡ ï¼è¿ç¨ä»£çï¼ã éç¨äºæå¡å¯¹è±¡ä½äºè¿ç¨æå¡å¨ä¸çæå½¢ã\n * è®°å½æ¥å¿è¯·æ± ï¼æ¥å¿è®°å½ä»£çï¼ã éç¨äºå½ä½ éè¦ä¿å­å¯¹äºæå¡å¯¹è±¡çè¯·æ±åå²è®°å½æ¶ã ä»£çå¯ä»¥å¨åæå¡ä¼ éè¯·æ±åè¿è¡è®°å½ã\n * æºè½å¼ç¨ã å¯å¨æ²¡æå®¢æ·ç«¯ä½¿ç¨æä¸ªééçº§å¯¹è±¡æ¶ç«å³éæ¯è¯¥å¯¹è±¡ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. æå¡æ¥å£ ï¼Service Interfaceï¼ å£°æäºæå¡æ¥å£ã ä»£çå¿é¡»éµå¾ªè¯¥æ¥å£æè½ä¼ªè£ææå¡å¯¹è±¡ã\n 2. æå¡ ï¼Serviceï¼ ç±»æä¾äºä¸äºå®ç¨çä¸å¡é»è¾ã\n 3. ä»£ç ï¼Proxyï¼ ç±»åå«ä¸ä¸ªæåæå¡å¯¹è±¡çå¼ç¨æååéã ä»£çå®æå¶ä»»å¡ ï¼ä¾å¦å»¶è¿åå§åã è®°å½æ¥å¿ã è®¿é®æ§å¶åç¼å­ç­ï¼ åä¼å°è¯·æ±ä¼ éç»æå¡å¯¹è±¡ã éå¸¸æåµä¸ï¼ ä»£çä¼å¯¹å¶æå¡å¯¹è±¡çæ´ä¸ªçå½å¨æè¿è¡ç®¡çã\n 4. å®¢æ·ç«¯ ï¼Clientï¼ è½éè¿åä¸æ¥å£ä¸æå¡æä»£çè¿è¡äº¤äºï¼ æä»¥ä½ å¯å¨ä¸åéè¦æå¡å¯¹è±¡çä»£ç ä¸­ä½¿ç¨ä»£çã\n\n\n# ç»æä»£ç èå¼\n\nSubject : å®ä¹äº RealSubject å Proxy çå¬å±æ¥å£ï¼è¿æ ·å°±å¨ä»»ä½ä½¿ç¨ RealSubject çå°æ¹é½å¯ä»¥ä½¿ç¨ Proxy ã\n\nabstract class Subject {\n    public abstract void Request();\n}\n\n\nRealSubject : å®ä¹ Proxy æä»£è¡¨ççå®å®ä½ã\n\nclass RealSubject extends Subject {\n    @Override\n    public void Request() {\n        System.out.println("çå®çè¯·æ±");\n    }\n}\n\n\nProxy : ä¿å­ä¸ä¸ªå¼ç¨ä½¿å¾ä»£çå¯ä»¥è®¿é®å®ä½ï¼å¹¶æä¾ä¸ä¸ªä¸ Subject çæ¥å£ç¸åçæ¥å£ï¼è¿æ ·ä»£çå°±å¯ä»¥ç¨æ¥æ¿ä»£å®ä½ã\n\nclass Proxy extends Subject {\n    private RealSubject real;\n\n    @Override\n    public void Request() {\n        if (null == real) {\n            real = new RealSubject();\n        }\n        real.Request();\n    }\n}\n\n\n\n# ä¼ªä»£ç \n\næ¬ä¾æ¼ç¤ºå¦ä½ä½¿ç¨ä»£çæ¨¡å¼å¨ç¬¬ä¸æ¹è¾è®¯è§é¢ ï¼TencentVideoï¼ ä»£ç ç¤ºä¾ä¸­è®°ä¸º TVï¼ ç¨åºåºä¸­æ·»å å»¶è¿åå§ååç¼å­ã\n\n\n\nç¨åºåºæä¾äºè§é¢ä¸è½½ç±»ã ä½æ¯è¯¥ç±»çæçéå¸¸ä½ã å¦æå®¢æ·ç«¯ç¨åºå¤æ¬¡è¯·æ±åä¸è§é¢ï¼ ç¨åºåºä¼åå¤ä¸è½½è¯¥è§é¢ï¼ èä¸ä¼å°é¦æ¬¡ä¸è½½çæä»¶ç¼å­ä¸æ¥å¤ç¨ã\n\nä»£çç±»å®ç°ååä¸è½½å¨ç¸åçæ¥å£ï¼ å¹¶å°ææå·¥ä½å§æ´¾ç»åä¸è½½å¨ã ä¸è¿ï¼ ä»£çç±»ä¼ä¿å­ææçæä»¶ä¸è½½è®°å½ï¼ å¦æç¨åºå¤æ¬¡è¯·æ±åä¸æä»¶ï¼ å®ä¼è¿åç¼å­çæä»¶ã\n\n// è¿ç¨æå¡æ¥å£ã\ninterface ThirdPartyTVLib is\n    method listVideos()\n    method getVideoInfo(id)\n    method downloadVideo(id)\n\n// æå¡è¿æ¥å¨çå·ä½å®ç°ãè¯¥ç±»çæ¹æ³å¯ä»¥åè¾è®¯è§é¢è¯·æ±ä¿¡æ¯ãè¯·æ±éåº¦åå³äº\n// ç¨æ·åè¾è®¯è§é¢çäºèç½è¿æ¥æåµãå¦æåæ¶åéå¤§éè¯·æ±ï¼å³ä½¿æè¯·æ±çä¿¡æ¯\n// ä¸æ¨¡ä¸æ ·ï¼ç¨åºçéåº¦ä¾ç¶ä¼åæ¢ã\nclass ThirdPartyTVClass implements ThirdPartyTVLib is\n    method listVideos() is\n        // åè¾è®¯è§é¢åéä¸ä¸ª API è¯·æ±ã\n\n    method getVideoInfo(id) is\n        // è·åæä¸ªè§é¢çåæ°æ®ã\n\n    method downloadVideo(id) is\n        // ä»è¾è®¯è§é¢ä¸è½½ä¸ä¸ªè§é¢æä»¶ã\n\n// ä¸ºäºèçç½ç»å¸¦å®½ï¼æä»¬å¯ä»¥å°è¯·æ±ç»æç¼å­ä¸æ¥å¹¶ä¿å­ä¸æ®µæ¶é´ãä½ä½ å¯è½æ \n// æ³ç´æ¥å°è¿äºä»£ç æ¾å¥æå¡ç±»ä¸­ãæ¯å¦è¯¥ç±»å¯è½æ¯ç¬¬ä¸æ¹ç¨åºåºçä¸é¨åæå¶ç­¾\n// åæ¯`finalï¼æç»ï¼`ãå æ­¤æä»¬ä¼å¨ä¸ä¸ªå®ç°äºæå¡ç±»æ¥å£çæ°ä»£çç±»ä¸­æ¾å¥\n// ç¼å­ä»£ç ãå½ä»£çç±»æ¥æ¶å°çå®è¯·æ±åï¼æä¼å°å¶å§æ´¾ç»æå¡å¯¹è±¡ã\nclass CachedTVClass implements ThirdPartyTVLib is\n    private field service: ThirdPartyTVLib\n    private field listCache, videoCache\n    field needReset\n\n    constructor CachedTVClass(service: ThirdPartyTVLib) is\n        this.service = service\n\n    method listVideos() is\n        if (listCache == null || needReset)\n            listCache = service.listVideos()\n        return listCache\n\n    method getVideoInfo(id) is\n        if (videoCache == null || needReset)\n            videoCache = service.getVideoInfo(id)\n        return videoCache\n\n    method downloadVideo(id) is\n        if (!downloadExists(id) || needReset)\n            service.downloadVideo(id)\n\n// ä¹åç´æ¥ä¸æå¡å¯¹è±¡äº¤äºç GUI ç±»ä¸éè¦æ¹åï¼åææ¯å®ä»éè¿æ¥å£ä¸æå¡å¯¹\n// è±¡äº¤äºãæä»¬å¯ä»¥å®å¨å°ä¼ éä¸ä¸ªä»£çå¯¹è±¡æ¥ä»£æ¿çå®æå¡å¯¹è±¡ï¼å ä¸ºå®ä»¬é½å®\n// ç°äºç¸åçæ¥å£ã\nclass TVManager is\n    protected field service: ThirdPartyTVLib\n\n    constructor TVManager(service: ThirdPartyTVLib) is\n        this.service = service\n\n    method renderVideoPage(id) is\n        info = service.getVideoInfo(id)\n        // æ¸²æè§é¢é¡µé¢ã\n\n    method renderListPanel() is\n        list = service.listVideos()\n        // æ¸²æè§é¢ç¼©ç¥å¾åè¡¨ã\n\n    method reactOnUserInput() is\n        renderVideoPage()\n        renderListPanel()\n\n// ç¨åºå¯å¨è¿è¡æ¶å¯¹ä»£çè¿è¡éç½®ã\nclass Application is\n    method init() is\n        aTVService = new ThirdPartyTVClass()\n        aTVProxy = new CachedTVClass(aTVService)\n        manager = new TVManager(aTVProxy)\n        manager.reactOnUserInput()\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ å°½ç®¡ä»£çæ¨¡å¼å¨ç»å¤§å¤æ° Java ç¨åºä¸­å¹¶ä¸å¸¸è§ï¼ ä½å®å¨ä¸äºç¹æ®æåµä¸ä»ç¶éå¸¸æ¹ä¾¿ã å½ä½ å¸æå¨æ éä¿®æ¹å®¢æ·ä»£ç çåæä¸äºå·²æç±»çå¯¹è±¡ä¸å¢å é¢å¤è¡ä¸ºæ¶ï¼ è¯¥æ¨¡å¼æ¯æ å¯æ¿ä»£çã\n\nJava æ åç¨åºåºä¸­çä¸äºä»£çæ¨¡å¼çç¤ºä¾ï¼\n\n * java.lang.reflect.Proxy\n * java.rmi.*\n * javax.ejb.EJB ï¼æ¥çè¯è®ºï¼\n * javax.inject.Inject ï¼æ¥çè¯è®ºï¼\n * javax.persistence.PersistenceContext\n\nè¯å«æ¹æ³ï¼ ä»£çæ¨¡å¼ä¼å°ææå®éå·¥ä½å§æ´¾ç»ä¸äºå¶ä»å¯¹è±¡ã é¤éä»£çæ¯æä¸ªæå¡çå­ç±»ï¼ å¦åæ¯ä¸ªä»£çæ¹æ³æåé½åºè¯¥å¼ç¨ä¸ä¸ªæå¡å¯¹è±¡ã\n\n\n# æ³¨è§£+åå°+ä»£çæ¶é¤éå¤ä»£ç \n\nåè®¾é¶è¡æä¾äºä¸äº API æ¥å£ï¼å¯¹åæ°çåºååæç¹ç¹æ®ï¼ä¸ä½¿ç¨ JSONï¼èæ¯éè¦æä»¬æåæ°ä¾æ¬¡æ¼å¨ä¸èµ·ææä¸ä¸ªå¤§å­ç¬¦ä¸²ã\n\næç§é¶è¡æä¾ç API ææ¡£çé¡ºåºï¼æææåæ°ææå®é¿çæ°æ®ï¼ç¶åæ¼æ¥å¨ä¸èµ·ä½ä¸ºæ´ä¸ªå­ç¬¦ä¸²ãå ä¸ºæ¯ä¸ç§åæ°é½æåºå®é¿åº¦ï¼æªè¾¾å°é¿åº¦æ¶éè¦åå¡«åå¤çï¼\n\n * å­ç¬¦ä¸²ç±»åçåæ°ä¸æ»¡é¿åº¦é¨åéè¦ä»¥ä¸åçº¿å³å¡«åï¼ä¹å°±æ¯å­ç¬¦ä¸²åå®¹é å·¦ï¼\n * æ°å­ç±»åçåæ°ä¸æ»¡é¿åº¦é¨åä»¥ 0 å·¦å¡«åï¼ä¹å°±æ¯å®éæ°å­é å³ï¼\n * è´§å¸ç±»åçè¡¨ç¤ºéè¦æéé¢åä¸èå¥ 2 ä½å°åï¼ä»¥åä¸ºåä½ï¼ä½ä¸ºæ°å­ç±»ååæ ·è¿è¡ å·¦å¡«åã\n\nå¯¹ææåæ°å MD5 æä½ä½ä¸ºç­¾åï¼ä¸ºäºæ¹ä¾¿çè§£ï¼Demo ä¸­ä¸æ¶åå çå¤çï¼ã\n\n# é®é¢çæ¬\n\nimport org.apache.commons.codec.digest.DigestUtils;\nimport org.apache.http.client.fluent.Request;\nimport org.apache.http.entity.ContentType;\n\nimport java.io.IOException;\nimport java.math.BigDecimal;\nimport java.math.RoundingMode;\n\npublic class BankService {\n\n    public static String createUser(String name, String identity, String mobile, int age) throws IOException {\n        StringBuilder stringBuilder = new StringBuilder();\n        //å­ç¬¦ä¸²é å·¦ï¼å¤ä½çå°æ¹_å¡«å\n        stringBuilder.append(String.format("%-10s", name).replace(\' \', \'_\'));\n        //å­ç¬¦ä¸²é å·¦ï¼å¤ä½çå°æ¹_å¡«å\n        stringBuilder.append(String.format("%-18s", identity).replace(\' \', \'_\'));\n        //æ°å­é å³ï¼å¤ä½çå°æ¹ç¨0å¡«å\n        stringBuilder.append(String.format("%05d", age));\n        //å­ç¬¦ä¸²é å·¦ï¼å¤ä½çå°æ¹_å¡«å\n        stringBuilder.append(String.format("%-11s", mobile).replace(\' \', \'_\'));\n        //æåå ä¸MD5ä½ä¸ºç­¾å\n        stringBuilder.append(DigestUtils.md2Hex(stringBuilder.toString()));\n        return Request.Post("http://localhost:45678/reflection/bank/createUser")\n                .bodyString(stringBuilder.toString(), ContentType.APPLICATION_JSON)\n                .execute().returnContent().asString();\n    }\n\n    public static String pay(long userId, BigDecimal amount) throws IOException {\n        StringBuilder stringBuilder = new StringBuilder();\n        //æ°å­é å³ï¼å¤ä½çå°æ¹ç¨0å¡«å\n        stringBuilder.append(String.format("%020d", userId));\n        //éé¢åä¸èå¥2ä½å°åï¼ä»¥åä¸ºåä½ï¼ä½ä¸ºæ°å­é å³ï¼å¤ä½çå°æ¹ç¨0å¡«å\n        stringBuilder.append(String.format("%010d", amount.setScale(2, RoundingMode.DOWN).multiply(new BigDecimal("100")).longValue()));\n        //æåå ä¸MD5ä½ä¸ºç­¾å\n        stringBuilder.append(DigestUtils.md2Hex(stringBuilder.toString()));\n        return Request.Post("http://localhost:45678/reflection/bank/pay")\n                .bodyString(stringBuilder.toString(), ContentType.APPLICATION_JSON)\n                .execute().returnContent().asString();\n    }\n}\n\n\nå¨ä»¥ä¸çä»£ç çæ¬ä¸­ï¼å­å¨ä»¥ä¸é®é¢ï¼\n\n * ä¸ç§æ åæ°æ®ç±»åçå¤çé»è¾æéå¤ï¼ç¨æä¸æå°±ä¼åºç° Bugï¼\n * å¤çæµç¨ä¸­å­ç¬¦ä¸²æ¼æ¥ãå ç­¾ååè¯·æ±çé»è¾ï¼å¨æææ¹æ³éå¤ï¼\n * å®éæ¹æ³çå¥åçåæ°ç±»ååé¡ºåºï¼ä¸ä¸å®åæ¥å£è¦æ±ä¸è´ï¼å®¹æåºéï¼\n * ä»£ç å±é¢éå¯¹æ¯ä¸ä¸ªåæ°ç¡¬ç¼ç ï¼æ æ³æ¸æ°å°è¿è¡æ ¸å¯¹ï¼å¦æåæ°è¾¾å°å åä¸ªãä¸ç¾ä¸ªï¼åºéçæ¦çæå¤§ã\n\n# ä¼åçæ¬\n\néå¯¹ä¸é¢ä»£ç çæ¬ä¸­çé®é¢ï¼å¯ä»¥ä½¿ç¨ æ³¨è§£+åå°+ä»£çæ¨¡å¼ è§£å³éå¤ä»£ç ã\n\nãæ³¨è§£ä¸ã\n\nimport java.lang.annotation.*;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\n@Documented\n@Inherited\npublic @interface BankAPI {\n\n    String desc() default "";\n\n    String url() default "";\n\n}\n\n\nãæ³¨è§£äºã\n\nimport java.lang.annotation.*;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\n@Documented\n@Inherited\npublic @interface BankAPIField {\n\n    int order() default -1;\n\n    int length() default -1;\n\n    String type() default "";\n\n}\n\n\nãæ½è±¡ç±»ã\n\nabstract class AbstractAPI {}\n\n\nãä»£çç±»ã\n\n@Slf4j\npublic class BetterBankService {\n\n    public static String createUser(String name, String identity, String mobile, int age) throws IOException {\n        CreateUserAPI createUserAPI = new CreateUserAPI();\n        createUserAPI.setName(name);\n        createUserAPI.setIdentity(identity);\n        createUserAPI.setAge(age);\n        createUserAPI.setMobile(mobile);\n        return remoteCall(createUserAPI);\n    }\n\n    public static String pay(long userId, BigDecimal amount) throws IOException {\n        PayAPI payAPI = new PayAPI();\n        payAPI.setUserId(userId);\n        payAPI.setAmount(amount);\n        return remoteCall(payAPI);\n    }\n\n    private static String remoteCall(AbstractAPI api) throws IOException {\n        //ä»BankAPIæ³¨è§£è·åè¯·æ±å°å\n        BankAPI bankAPI = api.getClass().getAnnotation(BankAPI.class);\n        bankAPI.url();\n        StringBuilder stringBuilder = new StringBuilder();\n        Arrays.stream(api.getClass().getDeclaredFields()) //è·å¾ææå­æ®µ\n            .filter(field -> field.isAnnotationPresent(BankAPIField.class)) //æ¥æ¾æ è®°äºæ³¨è§£çå­æ®µ\n            .sorted(Comparator.comparingInt(a -> a.getAnnotation(BankAPIField.class).order())) //æ ¹æ®æ³¨è§£ä¸­çorderå¯¹å­æ®µæåº\n            .peek(field -> field.setAccessible(true)) //è®¾ç½®å¯ä»¥è®¿é®ç§æå­æ®µ\n            .forEach(field -> {\n                //è·å¾æ³¨è§£\n                BankAPIField bankAPIField = field.getAnnotation(BankAPIField.class);\n                Object value = "";\n                try {\n                    //åå°è·åå­æ®µå¼\n                    value = field.get(api);\n                } catch (IllegalAccessException e) {\n                    e.printStackTrace();\n                }\n                //æ ¹æ®å­æ®µç±»åä»¥æ­£ç¡®çå¡«åæ¹å¼æ ¼å¼åå­ç¬¦ä¸²\n                switch (bankAPIField.type()) {\n                    case "S": {\n                        stringBuilder.append(\n                            String.format("%-" + bankAPIField.length() + "s", value.toString()).replace(\' \', \'_\'));\n                        break;\n                    }\n                    case "N": {\n                        stringBuilder.append(\n                            String.format("%" + bankAPIField.length() + "s", value.toString()).replace(\' \', \'0\'));\n                        break;\n                    }\n                    case "M": {\n                        if (!(value instanceof BigDecimal)) {\n                            throw new RuntimeException(\n                                String.format("{} ç {} å¿é¡»æ¯BigDecimal", api, field));\n                        }\n                        stringBuilder.append(String.format("%0" + bankAPIField.length() + "d",\n                            ((BigDecimal) value).setScale(2, RoundingMode.DOWN)\n                                .multiply(new BigDecimal("100"))\n                                .longValue()));\n                        break;\n                    }\n                    default:\n                        break;\n                }\n            });\n        //ç­¾åé»è¾\n        stringBuilder.append(DigestUtils.md2Hex(stringBuilder.toString()));\n        String param = stringBuilder.toString();\n        long begin = System.currentTimeMillis();\n        //åè¯·æ±\n        String result = Request.Post("http://localhost:45678/reflection" + bankAPI.url())\n            .bodyString(param, ContentType.APPLICATION_JSON)\n            .execute().returnContent().asString();\n        log.info("è°ç¨é¶è¡API {} url:{} åæ°:{} èæ¶:{}ms", bankAPI.desc(), bankAPI.url(), param,\n            System.currentTimeMillis() - begin);\n        return result;\n    }\n\n}\n\n\nãæ³¨è§£ä¿®é¥°ç API æ¥å£ä¸ã\n\nimport lombok.Data;\n\n@BankAPI(url = "/bank/createUser", desc = "åå»ºç¨æ·æ¥å£")\n@Data\npublic class CreateUserAPI extends AbstractAPI {\n\n    @BankAPIField(order = 1, type = "S", length = 10)\n    private String name;\n    @BankAPIField(order = 2, type = "S", length = 18)\n    private String identity;\n    @BankAPIField(order = 4, type = "S", length = 11)\n    private String mobile;\n    @BankAPIField(order = 3, type = "N", length = 5)\n    private int age;\n\n}\n\n\nãæ³¨è§£ä¿®é¥°ç API æ¥å£äºã\n\nimport lombok.Data;\n\nimport java.math.BigDecimal;\n\n@BankAPI(url = "/bank/pay", desc = "æ¯ä»æ¥å£")\n@Data\npublic class PayAPI extends AbstractAPI {\n\n    @BankAPIField(order = 1, type = "N", length = 20)\n    private long userId;\n    @BankAPIField(order = 2, type = "M", length = 10)\n    private BigDecimal amount;\n\n}\n\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * ééå¨æ¨¡å¼è½ä¸ºè¢«å°è£å¯¹è±¡æä¾ä¸åçæ¥å£ï¼ ä»£çæ¨¡å¼è½ä¸ºå¯¹è±¡æä¾ç¸åçæ¥å£ï¼ è£é¥°æ¨¡å¼åè½ä¸ºå¯¹è±¡æä¾å å¼ºçæ¥å£ã\n * å¤è§æ¨¡å¼ä¸ä»£ççç¸ä¼¼ä¹å¤å¨äºå®ä»¬é½ç¼å­äºä¸ä¸ªå¤æå®ä½å¹¶èªè¡å¯¹å¶è¿è¡åå§åã ä»£çä¸å¶æå¡å¯¹è±¡éµå¾ªåä¸æ¥å£ï¼ ä½¿å¾èªå·±åæå¡å¯¹è±¡å¯ä»¥äºæ¢ï¼ å¨è¿ä¸ç¹ä¸å®ä¸å¤è§ä¸åã\n * è£é¥°åä»£çæçç¸ä¼¼çç»æï¼ ä½æ¯å¶æå¾å´éå¸¸ä¸åã è¿ä¸¤ä¸ªæ¨¡å¼çæå»ºé½åºäºç»åååï¼ ä¹å°±æ¯è¯´ä¸ä¸ªå¯¹è±¡åºè¯¥å°é¨åå·¥ä½å§æ´¾ç»å¦ä¸ä¸ªå¯¹è±¡ã ä¸¤èä¹é´çä¸åä¹å¤å¨äºä»£çéå¸¸èªè¡ç®¡çå¶æå¡å¯¹è±¡ççå½å¨æï¼ èè£é¥°ççæåæ»æ¯ç±å®¢æ·ç«¯è¿è¡æ§å¶ã\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',normalizedContent:'# è®¾è®¡æ¨¡å¼ä¹ä»£çæ¨¡å¼\n\n\n# æå¾\n\nä»£çæ¨¡å¼ (proxy) æ¯ä¸ç§ç»æåè®¾è®¡æ¨¡å¼ï¼ ä¸ºå¶ä»å¯¹è±¡æä¾ä¸ç§ä»£çä»¥æ§å¶å¯¹è¿ä¸ªå¯¹è±¡çè®¿é®ã\n\n * ä»£çæ¨¡å¼ä»ç»äºä¸ç§è®¿é®å¯¹è±¡çé´æ¥ç­çº§ã\n * ä¸ä¸ªè¿ç¨ä»£çå¯ä»¥éèä¸ä¸ªå¯¹è±¡å¨ä¸åå°åç©ºé´çç»èã\n * ä¸ä¸ªèæä»£çå¯ä»¥æ ¹æ®éè¦æä¼ååå»ºå¯¹è±¡çå¼éã\n * èå®å¨ä»£çåæºè½æå¼é½åè®¸è®¿é®å¯¹è±¡çåæ¶å¤çå¶ä»äºå¡ã\n\n\n# éç¨åºæ¯\n\n * å»¶è¿åå§å ï¼èæä»£çï¼ã å¦æä½ æä¸ä¸ªå¶å°ä½¿ç¨çééçº§æå¡å¯¹è±¡ï¼ ä¸ç´ä¿æè¯¥å¯¹è±¡è¿è¡ä¼æ¶èç³»ç»èµæºæ¶ï¼ å¯ä½¿ç¨ä»£çæ¨¡å¼ã\n * è®¿é®æ§å¶ ï¼ä¿æ¤ä»£çï¼ã å¦æä½ åªå¸æç¹å®å®¢æ·ç«¯ä½¿ç¨æå¡å¯¹è±¡ï¼ è¿éçå¯¹è±¡å¯ä»¥æ¯æä½ç³»ç»ä¸­éå¸¸éè¦çé¨åï¼ èå®¢æ·ç«¯åæ¯åç§å·²å¯å¨çç¨åº ï¼åæ¬æ¶æç¨åºï¼ï¼ æ­¤æ¶å¯ä½¿ç¨ä»£çæ¨¡å¼ã\n * æ¬å°æ§è¡è¿ç¨æå¡ ï¼è¿ç¨ä»£çï¼ã éç¨äºæå¡å¯¹è±¡ä½äºè¿ç¨æå¡å¨ä¸çæå½¢ã\n * è®°å½æ¥å¿è¯·æ± ï¼æ¥å¿è®°å½ä»£çï¼ã éç¨äºå½ä½ éè¦ä¿å­å¯¹äºæå¡å¯¹è±¡çè¯·æ±åå²è®°å½æ¶ã ä»£çå¯ä»¥å¨åæå¡ä¼ éè¯·æ±åè¿è¡è®°å½ã\n * æºè½å¼ç¨ã å¯å¨æ²¡æå®¢æ·ç«¯ä½¿ç¨æä¸ªééçº§å¯¹è±¡æ¶ç«å³éæ¯è¯¥å¯¹è±¡ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. æå¡æ¥å£ ï¼service interfaceï¼ å£°æäºæå¡æ¥å£ã ä»£çå¿é¡»éµå¾ªè¯¥æ¥å£æè½ä¼ªè£ææå¡å¯¹è±¡ã\n 2. æå¡ ï¼serviceï¼ ç±»æä¾äºä¸äºå®ç¨çä¸å¡é»è¾ã\n 3. ä»£ç ï¼proxyï¼ ç±»åå«ä¸ä¸ªæåæå¡å¯¹è±¡çå¼ç¨æååéã ä»£çå®æå¶ä»»å¡ ï¼ä¾å¦å»¶è¿åå§åã è®°å½æ¥å¿ã è®¿é®æ§å¶åç¼å­ç­ï¼ åä¼å°è¯·æ±ä¼ éç»æå¡å¯¹è±¡ã éå¸¸æåµä¸ï¼ ä»£çä¼å¯¹å¶æå¡å¯¹è±¡çæ´ä¸ªçå½å¨æè¿è¡ç®¡çã\n 4. å®¢æ·ç«¯ ï¼clientï¼ è½éè¿åä¸æ¥å£ä¸æå¡æä»£çè¿è¡äº¤äºï¼ æä»¥ä½ å¯å¨ä¸åéè¦æå¡å¯¹è±¡çä»£ç ä¸­ä½¿ç¨ä»£çã\n\n\n# ç»æä»£ç èå¼\n\nsubject : å®ä¹äº realsubject å proxy çå¬å±æ¥å£ï¼è¿æ ·å°±å¨ä»»ä½ä½¿ç¨ realsubject çå°æ¹é½å¯ä»¥ä½¿ç¨ proxy ã\n\nabstract class subject {\n    public abstract void request();\n}\n\n\nrealsubject : å®ä¹ proxy æä»£è¡¨ççå®å®ä½ã\n\nclass realsubject extends subject {\n    @override\n    public void request() {\n        system.out.println("çå®çè¯·æ±");\n    }\n}\n\n\nproxy : ä¿å­ä¸ä¸ªå¼ç¨ä½¿å¾ä»£çå¯ä»¥è®¿é®å®ä½ï¼å¹¶æä¾ä¸ä¸ªä¸ subject çæ¥å£ç¸åçæ¥å£ï¼è¿æ ·ä»£çå°±å¯ä»¥ç¨æ¥æ¿ä»£å®ä½ã\n\nclass proxy extends subject {\n    private realsubject real;\n\n    @override\n    public void request() {\n        if (null == real) {\n            real = new realsubject();\n        }\n        real.request();\n    }\n}\n\n\n\n# ä¼ªä»£ç \n\næ¬ä¾æ¼ç¤ºå¦ä½ä½¿ç¨ä»£çæ¨¡å¼å¨ç¬¬ä¸æ¹è¾è®¯è§é¢ ï¼tencentvideoï¼ ä»£ç ç¤ºä¾ä¸­è®°ä¸º tvï¼ ç¨åºåºä¸­æ·»å å»¶è¿åå§ååç¼å­ã\n\n\n\nç¨åºåºæä¾äºè§é¢ä¸è½½ç±»ã ä½æ¯è¯¥ç±»çæçéå¸¸ä½ã å¦æå®¢æ·ç«¯ç¨åºå¤æ¬¡è¯·æ±åä¸è§é¢ï¼ ç¨åºåºä¼åå¤ä¸è½½è¯¥è§é¢ï¼ èä¸ä¼å°é¦æ¬¡ä¸è½½çæä»¶ç¼å­ä¸æ¥å¤ç¨ã\n\nä»£çç±»å®ç°ååä¸è½½å¨ç¸åçæ¥å£ï¼ å¹¶å°ææå·¥ä½å§æ´¾ç»åä¸è½½å¨ã ä¸è¿ï¼ ä»£çç±»ä¼ä¿å­ææçæä»¶ä¸è½½è®°å½ï¼ å¦æç¨åºå¤æ¬¡è¯·æ±åä¸æä»¶ï¼ å®ä¼è¿åç¼å­çæä»¶ã\n\n// è¿ç¨æå¡æ¥å£ã\ninterface thirdpartytvlib is\n    method listvideos()\n    method getvideoinfo(id)\n    method downloadvideo(id)\n\n// æå¡è¿æ¥å¨çå·ä½å®ç°ãè¯¥ç±»çæ¹æ³å¯ä»¥åè¾è®¯è§é¢è¯·æ±ä¿¡æ¯ãè¯·æ±éåº¦åå³äº\n// ç¨æ·åè¾è®¯è§é¢çäºèç½è¿æ¥æåµãå¦æåæ¶åéå¤§éè¯·æ±ï¼å³ä½¿æè¯·æ±çä¿¡æ¯\n// ä¸æ¨¡ä¸æ ·ï¼ç¨åºçéåº¦ä¾ç¶ä¼åæ¢ã\nclass thirdpartytvclass implements thirdpartytvlib is\n    method listvideos() is\n        // åè¾è®¯è§é¢åéä¸ä¸ª api è¯·æ±ã\n\n    method getvideoinfo(id) is\n        // è·åæä¸ªè§é¢çåæ°æ®ã\n\n    method downloadvideo(id) is\n        // ä»è¾è®¯è§é¢ä¸è½½ä¸ä¸ªè§é¢æä»¶ã\n\n// ä¸ºäºèçç½ç»å¸¦å®½ï¼æä»¬å¯ä»¥å°è¯·æ±ç»æç¼å­ä¸æ¥å¹¶ä¿å­ä¸æ®µæ¶é´ãä½ä½ å¯è½æ \n// æ³ç´æ¥å°è¿äºä»£ç æ¾å¥æå¡ç±»ä¸­ãæ¯å¦è¯¥ç±»å¯è½æ¯ç¬¬ä¸æ¹ç¨åºåºçä¸é¨åæå¶ç­¾\n// åæ¯`finalï¼æç»ï¼`ãå æ­¤æä»¬ä¼å¨ä¸ä¸ªå®ç°äºæå¡ç±»æ¥å£çæ°ä»£çç±»ä¸­æ¾å¥\n// ç¼å­ä»£ç ãå½ä»£çç±»æ¥æ¶å°çå®è¯·æ±åï¼æä¼å°å¶å§æ´¾ç»æå¡å¯¹è±¡ã\nclass cachedtvclass implements thirdpartytvlib is\n    private field service: thirdpartytvlib\n    private field listcache, videocache\n    field needreset\n\n    constructor cachedtvclass(service: thirdpartytvlib) is\n        this.service = service\n\n    method listvideos() is\n        if (listcache == null || needreset)\n            listcache = service.listvideos()\n        return listcache\n\n    method getvideoinfo(id) is\n        if (videocache == null || needreset)\n            videocache = service.getvideoinfo(id)\n        return videocache\n\n    method downloadvideo(id) is\n        if (!downloadexists(id) || needreset)\n            service.downloadvideo(id)\n\n// ä¹åç´æ¥ä¸æå¡å¯¹è±¡äº¤äºç gui ç±»ä¸éè¦æ¹åï¼åææ¯å®ä»éè¿æ¥å£ä¸æå¡å¯¹\n// è±¡äº¤äºãæä»¬å¯ä»¥å®å¨å°ä¼ éä¸ä¸ªä»£çå¯¹è±¡æ¥ä»£æ¿çå®æå¡å¯¹è±¡ï¼å ä¸ºå®ä»¬é½å®\n// ç°äºç¸åçæ¥å£ã\nclass tvmanager is\n    protected field service: thirdpartytvlib\n\n    constructor tvmanager(service: thirdpartytvlib) is\n        this.service = service\n\n    method rendervideopage(id) is\n        info = service.getvideoinfo(id)\n        // æ¸²æè§é¢é¡µé¢ã\n\n    method renderlistpanel() is\n        list = service.listvideos()\n        // æ¸²æè§é¢ç¼©ç¥å¾åè¡¨ã\n\n    method reactonuserinput() is\n        rendervideopage()\n        renderlistpanel()\n\n// ç¨åºå¯å¨è¿è¡æ¶å¯¹ä»£çè¿è¡éç½®ã\nclass application is\n    method init() is\n        atvservice = new thirdpartytvclass()\n        atvproxy = new cachedtvclass(atvservice)\n        manager = new tvmanager(atvproxy)\n        manager.reactonuserinput()\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ å°½ç®¡ä»£çæ¨¡å¼å¨ç»å¤§å¤æ° java ç¨åºä¸­å¹¶ä¸å¸¸è§ï¼ ä½å®å¨ä¸äºç¹æ®æåµä¸ä»ç¶éå¸¸æ¹ä¾¿ã å½ä½ å¸æå¨æ éä¿®æ¹å®¢æ·ä»£ç çåæä¸äºå·²æç±»çå¯¹è±¡ä¸å¢å é¢å¤è¡ä¸ºæ¶ï¼ è¯¥æ¨¡å¼æ¯æ å¯æ¿ä»£çã\n\njava æ åç¨åºåºä¸­çä¸äºä»£çæ¨¡å¼çç¤ºä¾ï¼\n\n * java.lang.reflect.proxy\n * java.rmi.*\n * javax.ejb.ejb ï¼æ¥çè¯è®ºï¼\n * javax.inject.inject ï¼æ¥çè¯è®ºï¼\n * javax.persistence.persistencecontext\n\nè¯å«æ¹æ³ï¼ ä»£çæ¨¡å¼ä¼å°ææå®éå·¥ä½å§æ´¾ç»ä¸äºå¶ä»å¯¹è±¡ã é¤éä»£çæ¯æä¸ªæå¡çå­ç±»ï¼ å¦åæ¯ä¸ªä»£çæ¹æ³æåé½åºè¯¥å¼ç¨ä¸ä¸ªæå¡å¯¹è±¡ã\n\n\n# æ³¨è§£+åå°+ä»£çæ¶é¤éå¤ä»£ç \n\nåè®¾é¶è¡æä¾äºä¸äº api æ¥å£ï¼å¯¹åæ°çåºååæç¹ç¹æ®ï¼ä¸ä½¿ç¨ jsonï¼èæ¯éè¦æä»¬æåæ°ä¾æ¬¡æ¼å¨ä¸èµ·ææä¸ä¸ªå¤§å­ç¬¦ä¸²ã\n\næç§é¶è¡æä¾ç api ææ¡£çé¡ºåºï¼æææåæ°ææå®é¿çæ°æ®ï¼ç¶åæ¼æ¥å¨ä¸èµ·ä½ä¸ºæ´ä¸ªå­ç¬¦ä¸²ãå ä¸ºæ¯ä¸ç§åæ°é½æåºå®é¿åº¦ï¼æªè¾¾å°é¿åº¦æ¶éè¦åå¡«åå¤çï¼\n\n * å­ç¬¦ä¸²ç±»åçåæ°ä¸æ»¡é¿åº¦é¨åéè¦ä»¥ä¸åçº¿å³å¡«åï¼ä¹å°±æ¯å­ç¬¦ä¸²åå®¹é å·¦ï¼\n * æ°å­ç±»åçåæ°ä¸æ»¡é¿åº¦é¨åä»¥ 0 å·¦å¡«åï¼ä¹å°±æ¯å®éæ°å­é å³ï¼\n * è´§å¸ç±»åçè¡¨ç¤ºéè¦æéé¢åä¸èå¥ 2 ä½å°åï¼ä»¥åä¸ºåä½ï¼ä½ä¸ºæ°å­ç±»ååæ ·è¿è¡ å·¦å¡«åã\n\nå¯¹ææåæ°å md5 æä½ä½ä¸ºç­¾åï¼ä¸ºäºæ¹ä¾¿çè§£ï¼demo ä¸­ä¸æ¶åå çå¤çï¼ã\n\n# é®é¢çæ¬\n\nimport org.apache.commons.codec.digest.digestutils;\nimport org.apache.http.client.fluent.request;\nimport org.apache.http.entity.contenttype;\n\nimport java.io.ioexception;\nimport java.math.bigdecimal;\nimport java.math.roundingmode;\n\npublic class bankservice {\n\n    public static string createuser(string name, string identity, string mobile, int age) throws ioexception {\n        stringbuilder stringbuilder = new stringbuilder();\n        //å­ç¬¦ä¸²é å·¦ï¼å¤ä½çå°æ¹_å¡«å\n        stringbuilder.append(string.format("%-10s", name).replace(\' \', \'_\'));\n        //å­ç¬¦ä¸²é å·¦ï¼å¤ä½çå°æ¹_å¡«å\n        stringbuilder.append(string.format("%-18s", identity).replace(\' \', \'_\'));\n        //æ°å­é å³ï¼å¤ä½çå°æ¹ç¨0å¡«å\n        stringbuilder.append(string.format("%05d", age));\n        //å­ç¬¦ä¸²é å·¦ï¼å¤ä½çå°æ¹_å¡«å\n        stringbuilder.append(string.format("%-11s", mobile).replace(\' \', \'_\'));\n        //æåå ä¸md5ä½ä¸ºç­¾å\n        stringbuilder.append(digestutils.md2hex(stringbuilder.tostring()));\n        return request.post("http://localhost:45678/reflection/bank/createuser")\n                .bodystring(stringbuilder.tostring(), contenttype.application_json)\n                .execute().returncontent().asstring();\n    }\n\n    public static string pay(long userid, bigdecimal amount) throws ioexception {\n        stringbuilder stringbuilder = new stringbuilder();\n        //æ°å­é å³ï¼å¤ä½çå°æ¹ç¨0å¡«å\n        stringbuilder.append(string.format("%020d", userid));\n        //éé¢åä¸èå¥2ä½å°åï¼ä»¥åä¸ºåä½ï¼ä½ä¸ºæ°å­é å³ï¼å¤ä½çå°æ¹ç¨0å¡«å\n        stringbuilder.append(string.format("%010d", amount.setscale(2, roundingmode.down).multiply(new bigdecimal("100")).longvalue()));\n        //æåå ä¸md5ä½ä¸ºç­¾å\n        stringbuilder.append(digestutils.md2hex(stringbuilder.tostring()));\n        return request.post("http://localhost:45678/reflection/bank/pay")\n                .bodystring(stringbuilder.tostring(), contenttype.application_json)\n                .execute().returncontent().asstring();\n    }\n}\n\n\nå¨ä»¥ä¸çä»£ç çæ¬ä¸­ï¼å­å¨ä»¥ä¸é®é¢ï¼\n\n * ä¸ç§æ åæ°æ®ç±»åçå¤çé»è¾æéå¤ï¼ç¨æä¸æå°±ä¼åºç° bugï¼\n * å¤çæµç¨ä¸­å­ç¬¦ä¸²æ¼æ¥ãå ç­¾ååè¯·æ±çé»è¾ï¼å¨æææ¹æ³éå¤ï¼\n * å®éæ¹æ³çå¥åçåæ°ç±»ååé¡ºåºï¼ä¸ä¸å®åæ¥å£è¦æ±ä¸è´ï¼å®¹æåºéï¼\n * ä»£ç å±é¢éå¯¹æ¯ä¸ä¸ªåæ°ç¡¬ç¼ç ï¼æ æ³æ¸æ°å°è¿è¡æ ¸å¯¹ï¼å¦æåæ°è¾¾å°å åä¸ªãä¸ç¾ä¸ªï¼åºéçæ¦çæå¤§ã\n\n# ä¼åçæ¬\n\néå¯¹ä¸é¢ä»£ç çæ¬ä¸­çé®é¢ï¼å¯ä»¥ä½¿ç¨ æ³¨è§£+åå°+ä»£çæ¨¡å¼ è§£å³éå¤ä»£ç ã\n\nãæ³¨è§£ä¸ã\n\nimport java.lang.annotation.*;\n\n@retention(retentionpolicy.runtime)\n@target(elementtype.type)\n@documented\n@inherited\npublic @interface bankapi {\n\n    string desc() default "";\n\n    string url() default "";\n\n}\n\n\nãæ³¨è§£äºã\n\nimport java.lang.annotation.*;\n\n@retention(retentionpolicy.runtime)\n@target(elementtype.field)\n@documented\n@inherited\npublic @interface bankapifield {\n\n    int order() default -1;\n\n    int length() default -1;\n\n    string type() default "";\n\n}\n\n\nãæ½è±¡ç±»ã\n\nabstract class abstractapi {}\n\n\nãä»£çç±»ã\n\n@slf4j\npublic class betterbankservice {\n\n    public static string createuser(string name, string identity, string mobile, int age) throws ioexception {\n        createuserapi createuserapi = new createuserapi();\n        createuserapi.setname(name);\n        createuserapi.setidentity(identity);\n        createuserapi.setage(age);\n        createuserapi.setmobile(mobile);\n        return remotecall(createuserapi);\n    }\n\n    public static string pay(long userid, bigdecimal amount) throws ioexception {\n        payapi payapi = new payapi();\n        payapi.setuserid(userid);\n        payapi.setamount(amount);\n        return remotecall(payapi);\n    }\n\n    private static string remotecall(abstractapi api) throws ioexception {\n        //ä»bankapiæ³¨è§£è·åè¯·æ±å°å\n        bankapi bankapi = api.getclass().getannotation(bankapi.class);\n        bankapi.url();\n        stringbuilder stringbuilder = new stringbuilder();\n        arrays.stream(api.getclass().getdeclaredfields()) //è·å¾ææå­æ®µ\n            .filter(field -> field.isannotationpresent(bankapifield.class)) //æ¥æ¾æ è®°äºæ³¨è§£çå­æ®µ\n            .sorted(comparator.comparingint(a -> a.getannotation(bankapifield.class).order())) //æ ¹æ®æ³¨è§£ä¸­çorderå¯¹å­æ®µæåº\n            .peek(field -> field.setaccessible(true)) //è®¾ç½®å¯ä»¥è®¿é®ç§æå­æ®µ\n            .foreach(field -> {\n                //è·å¾æ³¨è§£\n                bankapifield bankapifield = field.getannotation(bankapifield.class);\n                object value = "";\n                try {\n                    //åå°è·åå­æ®µå¼\n                    value = field.get(api);\n                } catch (illegalaccessexception e) {\n                    e.printstacktrace();\n                }\n                //æ ¹æ®å­æ®µç±»åä»¥æ­£ç¡®çå¡«åæ¹å¼æ ¼å¼åå­ç¬¦ä¸²\n                switch (bankapifield.type()) {\n                    case "s": {\n                        stringbuilder.append(\n                            string.format("%-" + bankapifield.length() + "s", value.tostring()).replace(\' \', \'_\'));\n                        break;\n                    }\n                    case "n": {\n                        stringbuilder.append(\n                            string.format("%" + bankapifield.length() + "s", value.tostring()).replace(\' \', \'0\'));\n                        break;\n                    }\n                    case "m": {\n                        if (!(value instanceof bigdecimal)) {\n                            throw new runtimeexception(\n                                string.format("{} ç {} å¿é¡»æ¯bigdecimal", api, field));\n                        }\n                        stringbuilder.append(string.format("%0" + bankapifield.length() + "d",\n                            ((bigdecimal) value).setscale(2, roundingmode.down)\n                                .multiply(new bigdecimal("100"))\n                                .longvalue()));\n                        break;\n                    }\n                    default:\n                        break;\n                }\n            });\n        //ç­¾åé»è¾\n        stringbuilder.append(digestutils.md2hex(stringbuilder.tostring()));\n        string param = stringbuilder.tostring();\n        long begin = system.currenttimemillis();\n        //åè¯·æ±\n        string result = request.post("http://localhost:45678/reflection" + bankapi.url())\n            .bodystring(param, contenttype.application_json)\n            .execute().returncontent().asstring();\n        log.info("è°ç¨é¶è¡api {} url:{} åæ°:{} èæ¶:{}ms", bankapi.desc(), bankapi.url(), param,\n            system.currenttimemillis() - begin);\n        return result;\n    }\n\n}\n\n\nãæ³¨è§£ä¿®é¥°ç api æ¥å£ä¸ã\n\nimport lombok.data;\n\n@bankapi(url = "/bank/createuser", desc = "åå»ºç¨æ·æ¥å£")\n@data\npublic class createuserapi extends abstractapi {\n\n    @bankapifield(order = 1, type = "s", length = 10)\n    private string name;\n    @bankapifield(order = 2, type = "s", length = 18)\n    private string identity;\n    @bankapifield(order = 4, type = "s", length = 11)\n    private string mobile;\n    @bankapifield(order = 3, type = "n", length = 5)\n    private int age;\n\n}\n\n\nãæ³¨è§£ä¿®é¥°ç api æ¥å£äºã\n\nimport lombok.data;\n\nimport java.math.bigdecimal;\n\n@bankapi(url = "/bank/pay", desc = "æ¯ä»æ¥å£")\n@data\npublic class payapi extends abstractapi {\n\n    @bankapifield(order = 1, type = "n", length = 20)\n    private long userid;\n    @bankapifield(order = 2, type = "m", length = 10)\n    private bigdecimal amount;\n\n}\n\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * ééå¨æ¨¡å¼è½ä¸ºè¢«å°è£å¯¹è±¡æä¾ä¸åçæ¥å£ï¼ ä»£çæ¨¡å¼è½ä¸ºå¯¹è±¡æä¾ç¸åçæ¥å£ï¼ è£é¥°æ¨¡å¼åè½ä¸ºå¯¹è±¡æä¾å å¼ºçæ¥å£ã\n * å¤è§æ¨¡å¼ä¸ä»£ççç¸ä¼¼ä¹å¤å¨äºå®ä»¬é½ç¼å­äºä¸ä¸ªå¤æå®ä½å¹¶èªè¡å¯¹å¶è¿è¡åå§åã ä»£çä¸å¶æå¡å¯¹è±¡éµå¾ªåä¸æ¥å£ï¼ ä½¿å¾èªå·±åæå¡å¯¹è±¡å¯ä»¥äºæ¢ï¼ å¨è¿ä¸ç¹ä¸å®ä¸å¤è§ä¸åã\n * è£é¥°åä»£çæçç¸ä¼¼çç»æï¼ ä½æ¯å¶æå¾å´éå¸¸ä¸åã è¿ä¸¤ä¸ªæ¨¡å¼çæå»ºé½åºäºç»åååï¼ ä¹å°±æ¯è¯´ä¸ä¸ªå¯¹è±¡åºè¯¥å°é¨åå·¥ä½å§æ´¾ç»å¦ä¸ä¸ªå¯¹è±¡ã ä¸¤èä¹é´çä¸åä¹å¤å¨äºä»£çéå¸¸èªè¡ç®¡çå¶æå¡å¯¹è±¡ççå½å¨æï¼ èè£é¥°ççæåæ»æ¯ç±å®¢æ·ç«¯è¿è¡æ§å¶ã\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼ä¹æ¨¡æ¿æ¹æ³æ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼ä¹æ¨¡æ¿æ¹æ³æ¨¡å¼",date:"2015-01-06T09:43:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/6eaeb4/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/14.%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/14.æ¨¡æ¿æ¹æ³æ¨¡å¼.md",key:"v-f82d5ee0",path:"/pages/6eaeb4/",headers:[{level:2,title:"æå¾",slug:"æå¾",normalizedTitle:"æå¾",charIndex:18},{level:2,title:"éç¨åºæ¯",slug:"éç¨åºæ¯",normalizedTitle:"éç¨åºæ¯",charIndex:486},{level:2,title:"ç»æ",slug:"ç»æ",normalizedTitle:"ç»æ",charIndex:83},{level:3,title:"ç»æè¯´æ",slug:"ç»æè¯´æ",normalizedTitle:"ç»æè¯´æ",charIndex:622},{level:3,title:"ç»æä»£ç èå¼",slug:"ç»æä»£ç èå¼",normalizedTitle:"ç»æä»£ç èå¼",charIndex:766},{level:2,title:"ä¼ªä»£ç ",slug:"ä¼ªä»£ç ",normalizedTitle:"ä¼ªä»£ç ",charIndex:1899},{level:2,title:"æ¡ä¾",slug:"æ¡ä¾",normalizedTitle:"æ¡ä¾",charIndex:3653},{level:2,title:"æ¡ä¾",slug:"æ¡ä¾-2",normalizedTitle:"æ¡ä¾",charIndex:3653},{level:3,title:"æ¶é¤ if ... else åéå¤ä»£ç ",slug:"æ¶é¤-if-else-åéå¤ä»£ç ",normalizedTitle:"æ¶é¤ if ... else åéå¤ä»£ç ",charIndex:5897},{level:4,title:"é®é¢ 1.0 çæ¬",slug:"é®é¢-1-0-çæ¬",normalizedTitle:"é®é¢ 1.0 çæ¬",charIndex:6060},{level:4,title:"ä¿®æ­£çæ¬",slug:"ä¿®æ­£çæ¬",normalizedTitle:"ä¿®æ­£çæ¬",charIndex:11542},{level:2,title:"ä¸å¶ä»æ¨¡å¼çå³ç³»",slug:"ä¸å¶ä»æ¨¡å¼çå³ç³»",normalizedTitle:"ä¸å¶ä»æ¨¡å¼çå³ç³»",charIndex:14810},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:15006}],headersStr:"æå¾ éç¨åºæ¯ ç»æ ç»æè¯´æ ç»æä»£ç èå¼ ä¼ªä»£ç  æ¡ä¾ æ¡ä¾ æ¶é¤ if ... else åéå¤ä»£ç  é®é¢ 1.0 çæ¬ ä¿®æ­£çæ¬ ä¸å¶ä»æ¨¡å¼çå³ç³» åèèµæ",content:'# è®¾è®¡æ¨¡å¼ä¹æ¨¡æ¿æ¹æ³æ¨¡å¼\n\n\n# æå¾\n\næ¨¡æ¿æ¹æ³æ¨¡å¼ (Template Method) æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼ å®å¨è¶ç±»ä¸­å®ä¹äºä¸ä¸ªç®æ³çæ¡æ¶ï¼ åè®¸å­ç±»å¨ä¸ä¿®æ¹ç»æçæåµä¸éåç®æ³çç¹å®æ­¥éª¤ã\n\næ¨¡æ¿æ¹æ³æ¨¡å¼æ¯æææ¨¡å¼ä¸­æä¸ºå¸¸è§çå ä¸ªæ¨¡å¼ä¹ä¸ï¼æ¯åºäºç»§æ¿çä»£ç å¤ç¨çåºæ¬ææ¯ãï¼æ²¡æå³èå³ç³»ã å æ­¤ï¼å¨æ¨¡æ¿æ¹æ³æ¨¡å¼çç±»ç»æå¾ä¸­ï¼åªæç»§æ¿å³ç³»ã\n\næ¨¡æ¿æ¹æ³æ¨¡å¼éè¦å¼åæ½è±¡ç±»åå·ä½å­ç±»çè®¾è®¡å¸ä¹é´çåä½ãä¸ä¸ªè®¾è®¡å¸è´è´£ç»åºä¸ä¸ªç®æ³çè½®å»åéª¨æ¶ï¼å¦ä¸äºè®¾è®¡å¸åè´è´£ç»åºè¿ä¸ªç®æ³çåä¸ªé»è¾æ­¥éª¤ã\n\nä»£è¡¨è¿äºå·ä½é»è¾æ­¥éª¤çæ¹æ³ç§°ååºæ¬æ¹æ³(primitive method)ï¼èå°è¿äºåºæ¬æ¹æ³æ±æ»èµ·æ¥çæ¹æ³å«åæ¨¡æ¿æ¹æ³(template method)ï¼è¿ä¸ªè®¾è®¡æ¨¡å¼çåå­å°±æ¯ä»æ­¤èæ¥ã\n\nå¨æ¨¡æ¿æ¹æ³æ¨¡å¼ä¸­ï¼é¦åç¶ç±»ä¼å®ä¹ä¸ä¸ªç®æ³çæ¡æ¶ï¼å³å®ç°ç®æ³æå¿é¡»çæææ¹æ³ã\n\n * å¶ä¸­ï¼å·æå±æ§çä»£ç æ¾å¨ç¶ç±»çå·ä½æ¹æ³ä¸­ã\n\n * åä¸ªå­ç±»ç¹æ®æ§çä»£ç æ¾å¨å­ç±»çå·ä½æ¹æ³ä¸­ãä½æ¯ç¶ç±»ä¸­éè¦æå¯¹åºæ½è±¡æ¹æ³å£°æã\n\n * é©å­æ¹æ³å¯ä»¥è®©å­ç±»å³å®æ¯å¦å¯¹ç®æ³çä¸åç¹è¿è¡æé©ã\n\n\n# éç¨åºæ¯\n\n * å½ä½ åªå¸æå®¢æ·ç«¯æ©å±æä¸ªç¹å®ç®æ³æ­¥éª¤ï¼ èä¸æ¯æ´ä¸ªç®æ³æå¶ç»ææ¶ï¼ å¯ä½¿ç¨æ¨¡æ¿æ¹æ³æ¨¡å¼ã\n * å½å¤ä¸ªç±»çç®æ³é¤ä¸äºç»å¾®ä¸åä¹å¤å ä¹å®å¨ä¸æ ·æ¶ï¼ ä½ å¯ä½¿ç¨è¯¥æ¨¡å¼ã ä½å¶åæå°±æ¯ï¼ åªè¦ç®æ³åçååï¼ ä½ å°±å¯è½éè¦ä¿®æ¹ææçç±»ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. æ½è±¡ç±» ï¼AbstractÂ­Classï¼ ä¼å£°æä½ä¸ºç®æ³æ­¥éª¤çæ¹æ³ï¼ ä»¥åä¾æ¬¡è°ç¨å®ä»¬çå®éæ¨¡æ¿æ¹æ³ã ç®æ³æ­¥éª¤å¯ä»¥è¢«å£°æä¸º æ½è±¡ç±»åï¼ ä¹å¯ä»¥æä¾ä¸äºé»è®¤å®ç°ã\n 2. å·ä½ç±» ï¼ConcreteÂ­Classï¼ å¯ä»¥éåæææ­¥éª¤ï¼ ä½ä¸è½éåæ¨¡æ¿æ¹æ³èªèº«ã\n\n\n# ç»æä»£ç èå¼\n\nAbstractClass : æ½è±¡ç±»ï¼å®ä¹å¹¶å®ç°ä¸ä¸ªæ¨¡æ¿æ¹æ³ãè¿ä¸ªæ¨¡æ¿æ¹æ³å®ä¹äºç®æ³çéª¨æ¶ï¼èé»è¾çç»ææ­¥éª¤å¨ç¸åºçæ½è±¡æä½ä¸­ï¼æ¨è¿å°å­ç±»å»å®ç°ãé¡¶çº§é»è¾ä¹æå¯è½è°ç¨ä¸äºå·ä½æ¹æ³ã\n\nabstract class AbstractClass {\n    public abstract void PrimitiveOperation1();\n    public abstract void PrimitiveOperation2();\n\n    public void TemplateMethod() {\n        PrimitiveOperation1();\n        PrimitiveOperation2();\n    }\n}\n\n\nConcreteClass : å®ç°å®ç°ç¶ç±»æå®ä¹çä¸ä¸ªæå¤ä¸ªæ½è±¡æ¹æ³ã\n\nclass ConcreteClassA extends AbstractClass {\n    @Override\n    public void PrimitiveOperation1() {\n        System.out.println("å·ä½Aç±»æ¹æ³1");\n    }\n\n    @Override\n    public void PrimitiveOperation2() {\n        System.out.println("å·ä½Aç±»æ¹æ³2");\n    }\n}\n\nclass ConcreteClassB extends AbstractClass {\n    @Override\n    public void PrimitiveOperation1() {\n        System.out.println("å·ä½Bç±»æ¹æ³1");\n    }\n\n    @Override\n    public void PrimitiveOperation2() {\n        System.out.println("å·ä½Bç±»æ¹æ³2");\n    }\n}\n\n\nå®¢æ·ç«¯\n\npublic class TemplateMethodPattern {\n    public static void main(String[] args) {\n        AbstractClass objA = new ConcreteClassA();\n        AbstractClass objB = new ConcreteClassB();\n        objA.TemplateMethod();\n        objB.TemplateMethod();\n    }\n}\n\n\n\n# ä¼ªä»£ç \n\næ¬ä¾ä¸­çæ¨¡æ¿æ¹æ³æ¨¡å¼ä¸ºä¸æ¬¾ç®åç­ç¥æ¸¸æä¸­äººå·¥æºè½çä¸ååæ¯æä¾ âæ¡æ¶âã\n\n\n\nä¸æ¬¾ç®åæ¸¸æç AI ç±»ã\n\næ¸¸æä¸­ææçç§æé½æå ä¹åç±»çåä½åå»ºç­ã å æ­¤ä½ å¯ä»¥å¨ä¸åçç§æä¸å¤ç¨ç¸åç AI ç»æï¼ åæ¶è¿éè¦å·å¤éåä¸äºç»èçè½åã éè¿è¿ç§æ¹å¼ï¼ ä½ å¯ä»¥éååå½äººç AI ä½¿å¶æ´å¯æ»å»æ§ï¼ ä¹å¯ä»¥è®©äººç±»ä¾§éé²å®ï¼ è¿å¯ä»¥ç¦æ­¢æªç©å»ºé å»ºç­ã å¨æ¸¸æä¸­æ°å¢ç§æéè¦åå»ºæ°ç AI å­ç±»ï¼ è¿éè¦éå AI åºç±»ä¸­æå£°æçé»è®¤æ¹æ³ã\n\n// æ½è±¡ç±»å®ä¹äºä¸ä¸ªæ¨¡æ¿æ¹æ³ï¼å¶ä¸­éå¸¸ä¼åå«æä¸ªç±æ½è±¡åè¯­æä½è°ç¨ç»æçç®\n// æ³æ¡æ¶ãå·ä½å­ç±»ä¼å®ç°è¿äºæä½ï¼ä½æ¯ä¸ä¼å¯¹æ¨¡æ¿æ¹æ³ååºä¿®æ¹ã\nclass GameAI is\n    // æ¨¡æ¿æ¹æ³å®ä¹äºæä¸ªç®æ³çæ¡æ¶ã\n    method turn() is\n        collectResources()\n        buildStructures()\n        buildUnits()\n        attack()\n\n    // æäºæ­¥éª¤å¯å¨åºç±»ä¸­ç´æ¥å®ç°ã\n    method collectResources() is\n        foreach (s in this.builtStructures) do\n            s.collect()\n\n    // æäºå¯å®ä¹ä¸ºæ½è±¡ç±»åã\n    abstract method buildStructures()\n    abstract method buildUnits()\n\n    // ä¸ä¸ªç±»å¯åå«å¤ä¸ªæ¨¡æ¿æ¹æ³ã\n    method attack() is\n        enemy = closestEnemy()\n        if (enemy == null)\n            sendScouts(map.center)\n        else\n            sendWarriors(enemy.position)\n\n    abstract method sendScouts(position)\n    abstract method sendWarriors(position)\n\n// å·ä½ç±»å¿é¡»å®ç°åºç±»ä¸­çæææ½è±¡æä½ï¼ä½æ¯å®ä»¬ä¸è½éåæ¨¡æ¿æ¹æ³èªèº«ã\nclass OrcsAI extends GameAI is\n    method buildStructures() is\n        if (there are some resources) then\n            // å»ºé ååºï¼æ¥çæ¯è°·ä»ï¼ç¶åæ¯è¦å¡ã\n\n    method buildUnits() is\n        if (there are plenty of resources) then\n            if (there are no scouts)\n                // å»ºé è¦å·¥ï¼å°å¶å å¥ä¾¦æ¥ç¼ç»ã\n            else\n                // å»ºé å½ææ­¥åµï¼å°å¶å å¥æå£«ç¼ç»ã\n\n    // ...\n\n    method sendScouts(position) is\n        if (scouts.length > 0) then\n            // å°ä¾¦æ¥ç¼ç»éå°æå®ä½ç½®ã\n\n    method sendWarriors(position) is\n        if (warriors.length > 5) then\n            // å°ææç¼ç»éå°æå®ä½ç½®ã\n\n// å­ç±»å¯ä»¥éåé¨åé»è®¤çæä½ã\nclass MonstersAI extends GameAI is\n    method collectResources() is\n        // æªç©ä¸ä¼ééèµæºã\n\n    method buildStructures() is\n        // æªç©ä¸ä¼å»ºé å»ºç­ã\n\n    method buildUnits() is\n        // æªç©ä¸ä¼å»ºé åä½ã\n\n\n\n# æ¡ä¾\n\næ¨¡æ¿æ¹æ³æ¨¡å¼åºç¨åºæ¯ååå¹¿æ³ã\n\nå¨ãHead Firstãçæ¨¡æ¿æ¹æ³æ¨¡å¼ç« èéåä¸¾äºä¸ä¸ªååå·æä»£è¡¨æ§çä¾å­ã\n\nç°å®çæ´»ä¸­ï¼è¶ååå¡æ¯éå¤å¯è§çé¥®æãå²æ³¡ä¸æ¯è¶æå²æ³¡ä¸æ¯åå¡çè¿ç¨æ¯ææ ·çï¼\n\næä»¬æ¥æ´çä¸ä¸æµç¨ã\n\n * æ³¡è¶ï¼ ç§å¼æ°´ ==> å²æ³¡è¶å¶ ==> åå¥æ¯ä¸­ ==> æ·»å æ æª¬\n * æ³¡åå¡ï¼ ç§å¼æ°´ ==> å²æ³¡åå¡ ==> åå¥æ¯ä¸­ ==> æ·»å ç³åçå¥¶\n\nç±ä»¥ä¸å¤çæ­¥éª¤ä¸é¾åç°ï¼åå¤è¿ä¸¤ç§é¥®æçå¤çè¿ç¨éå¸¸ç¸ä¼¼ãæä»¬å¯ä»¥ä½¿ç¨æ¨¡æ¿ç±»æ¹æ³å»éå®å¶ä½é¥®æçç®æ³æ¡æ¶ã\n\nå¶ä¸­ç¸åçå·æå±æ§çæ­¥éª¤ï¼å¦ç§å¼æ°´ãåå¥æ¯ä¸­ï¼ï¼ç´æ¥å¨æ½è±¡ç±»ä¸­ç»åºå·ä½å®ç°ã\n\nèå¯¹äºæå·®å¼æ§çæ­¥éª¤ï¼åå¨åèªçå·ä½ç±»ä¸­ç»åºå®ç°ã\n\nãæ½è±¡ç±»ã\n\nabstract class Beverage {\n\n    // æ¨¡æ¿æ¹æ³ï¼å³å®äºç®æ³éª¨æ¶ãç¸å½äºTemplateMethod()æ¹æ³\n    public void prepareBeverage() {\n        boilWater();\n        brew();\n        pourInCup();\n        if (customWantsCondiments())\n        {\n            addCondiments();\n        }\n    }\n\n    // å±æ§æä½ï¼ç´æ¥å¨æ½è±¡ç±»ä¸­å®ä¹\n    public void boilWater() {\n        System.out.println("ç§å¼æ°´");\n    }\n\n    // å±æ§æä½ï¼ç´æ¥å¨æ½è±¡ç±»ä¸­å®ä¹\n    public void pourInCup() {\n        System.out.println("åå¥æ¯ä¸­");\n    }\n\n    // é©å­æ¹æ³ï¼å³å®æäºç®æ³æ­¥éª¤æ¯å¦æé©å¨ç®æ³ä¸­\n    public boolean customWantsCondiments() {\n        return true;\n    }\n\n    // ç¹æ®æä½ï¼å¨å­ç±»ä¸­å·ä½å®ç°\n    public abstract void brew();\n\n    // ç¹æ®æä½ï¼å¨å­ç±»ä¸­å·ä½å®ç°\n    public abstract void addCondiments();\n\n}\n\n\nãå·ä½ç±»ã\n\nclass Tea extends Beverage {\n\n    @Override\n    public void brew() {\n        System.out.println("å²æ³¡è¶å¶");\n    }\n\n    @Override\n    public void addCondiments() {\n        System.out.println("æ·»å æ æª¬");\n    }\n\n}\n\nclass Coffee extends Beverage {\n\n    @Override\n    public void brew() {\n        System.out.println("å²æ³¡åå¡è±");\n    }\n\n    @Override\n    public void addCondiments() {\n        System.out.println("æ·»å ç³åçå¥¶");\n    }\n\n}\n\n\nãå®¢æ·ç«¯ã\n\npublic static void main(String[] args) {\n\n    System.out.println("============= åå¤è¶ =============");\n    Beverage tea = new Tea();\n    tea.prepareBeverage();\n\n    System.out.println("============= åå¤åå¡ =============");\n    Beverage coffee = new Coffee();\n    coffee.prepareBeverage();\n\n}\n\n\nè¾åº\n\n============= åå¤è¶ =============\nç§å¼æ°´\nå²æ³¡è¶å¶\nåå¥æ¯ä¸­\næ·»å æ æª¬\n============= åå¤åå¡ =============\nç§å¼æ°´\nå²æ³¡åå¡è±\nåå¥æ¯ä¸­\næ·»å ç³åçå¥¶\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ æ¨¡çæ¹æ³æ¨¡å¼å¨ Java æ¡æ¶ä¸­å¾å¸¸è§ã å¼åèéå¸¸ä½¿ç¨å®æ¥åæ¡æ¶ç¨æ·æä¾éè¿ç»§æ¿å®ç°çã å¯¹æ ååè½è¿è¡æ©å±çç®åæ¹å¼ã\n\nè¿éæ¯ä¸äºæ ¸å¿ Java ç¨åºåºä¸­æ¨¡çæ¹æ³çç¤ºä¾ï¼\n\n * java.io.InputStreamã java.io.OutputStreamã java.io.Reader å java.io.Writer çææéæ½è±¡æ¹æ³ã\n * java.util.AbstractListã java.util.AbstractSet å java.util.AbstractMap çææéæ½è±¡æ¹æ³ã\n * javax.servlet.http.HttpServletï¼ ææé»è®¤åé HTTP 405 âæ¹æ³ä¸åè®¸â éè¯¯ååºç doÂ­XXX()æ¹æ³ã ä½ å¯éæ¶å¯¹å¶è¿è¡éåã\n\nè¯å«æ¹æ³ï¼ æ¨¡çæ¹æ³å¯ä»¥éè¿è¡ä¸ºæ¹æ³æ¥è¯å«ï¼ è¯¥æ¹æ³å·²æä¸ä¸ªå¨åºç±»ä¸­å®ä¹ç âé»è®¤â è¡ä¸ºã\n\n\n# æ¶é¤ if ... else åéå¤ä»£ç \n\nåè®¾è¦å¼åä¸ä¸ªè´­ç©è½¦åè½ï¼éå¯¹ä¸åç¨æ·è¿è¡ä¸åçå¤çï¼\n\n * æ®éç¨æ·éè¦æ¶åè¿è´¹ï¼è¿è´¹æ¯ååä»·æ ¼ç 10%ï¼æ ååææ£ï¼\n * VIP ç¨æ·åæ ·éè¦æ¶åååä»·æ ¼ 10% çå¿«éè´¹ï¼ä½è´­ä¹°ä¸¤ä»¶ä»¥ä¸ç¸åååæ¶ï¼ç¬¬ä¸ä»¶å¼å§äº«åä¸å®ææ£ï¼\n * åé¨ç¨æ·å¯ä»¥åè¿è´¹ï¼æ ååææ£ã\n\n# é®é¢ 1.0 çæ¬\n\næ®éç¨æ·è´­ç©è½¦\n\npublic class NormalUserCart {\n\n    public Cart process(long userId, Map<Long, Integer> items) {\n        Cart cart = new Cart();\n\n        //æMapçè´­ç©è½¦è½¬æ¢ä¸ºItemåè¡¨\n        List<Item> itemList = new ArrayList<>();\n        items.entrySet().stream().forEach(entry -> {\n            Item item = new Item();\n            item.setId(entry.getKey());\n            item.setPrice(Db.getItemPrice(entry.getKey()));\n            item.setQuantity(entry.getValue());\n            itemList.add(item);\n        });\n        cart.setItems(itemList);\n\n        //å¤çè¿è´¹åååä¼æ \n        itemList.stream().forEach(item -> {\n            //è¿è´¹ä¸ºååæ»ä»·ç10%\n            item.setDeliveryPrice(\n                item.getPrice().multiply(BigDecimal.valueOf(item.getQuantity())).multiply(new BigDecimal("0.1")));\n            //æ ä¼æ \n            item.setCouponPrice(BigDecimal.ZERO);\n        });\n\n        //è®¡ç®çº¯ååæ»ä»·\n        cart.setTotalItemPrice(cart.getItems()\n            .stream()\n            .map(item -> item.getPrice().multiply(BigDecimal.valueOf(item.getQuantity())))\n            .reduce(BigDecimal.ZERO, BigDecimal::add));\n        //è®¡ç®è¿è´¹æ»ä»·\n        cart.setTotalDeliveryPrice(\n            cart.getItems().stream().map(Item::getDeliveryPrice).reduce(BigDecimal.ZERO, BigDecimal::add));\n        //è®¡ç®æ»ä¼æ \n        cart.setTotalDiscount(\n            cart.getItems().stream().map(Item::getCouponPrice).reduce(BigDecimal.ZERO, BigDecimal::add));\n        //åºä»æ»ä»·=ååæ»ä»·+è¿è´¹æ»ä»·-æ»ä¼æ \n        cart.setPayPrice(cart.getTotalItemPrice().add(cart.getTotalDeliveryPrice()).subtract(cart.getTotalDiscount()));\n        return cart;\n    }\n\n}\n\n\nVIP ç¨æ·è´­ç©è½¦\n\npublic class VipUserCart {\n\n    public Cart process(long userId, Map<Long, Integer> items) {\n        Cart cart = new Cart();\n\n        List<Item> itemList = new ArrayList<>();\n        items.entrySet().stream().forEach(entry -> {\n            Item item = new Item();\n            item.setId(entry.getKey());\n            item.setPrice(Db.getItemPrice(entry.getKey()));\n            item.setQuantity(entry.getValue());\n            itemList.add(item);\n        });\n        cart.setItems(itemList);\n\n        itemList.stream().forEach(item -> {\n            //è¿è´¹ä¸ºååæ»ä»·ç10%\n            item.setDeliveryPrice(\n                item.getPrice().multiply(BigDecimal.valueOf(item.getQuantity())).multiply(new BigDecimal("0.1")));\n            //è´­ä¹°ä¸¤ä»¶ä»¥ä¸ç¸åååï¼ç¬¬ä¸ä»¶å¼å§äº«åä¸å®ææ£\n            if (item.getQuantity() > 2) {\n                item.setCouponPrice(item.getPrice()\n                    .multiply(BigDecimal.valueOf(100 - Db.getUserCouponPercent(userId)).divide(new BigDecimal("100")))\n                    .multiply(BigDecimal.valueOf(item.getQuantity() - 2)));\n            } else {\n                item.setCouponPrice(BigDecimal.ZERO);\n            }\n        });\n\n        cart.setTotalItemPrice(cart.getItems()\n            .stream()\n            .map(item -> item.getPrice().multiply(BigDecimal.valueOf(item.getQuantity())))\n            .reduce(BigDecimal.ZERO, BigDecimal::add));\n        cart.setTotalDeliveryPrice(\n            cart.getItems().stream().map(Item::getDeliveryPrice).reduce(BigDecimal.ZERO, BigDecimal::add));\n        cart.setTotalDiscount(\n            cart.getItems().stream().map(Item::getCouponPrice).reduce(BigDecimal.ZERO, BigDecimal::add));\n        cart.setPayPrice(cart.getTotalItemPrice().add(cart.getTotalDeliveryPrice()).subtract(cart.getTotalDiscount()));\n        return cart;\n    }\n\n}\n\n\nåé¨ç¨æ·è´­ç©è½¦\n\npublic class InternalUserCart {\n\n    public Cart process(long userId, Map<Long, Integer> items) {\n        Cart cart = new Cart();\n\n        List<Item> itemList = new ArrayList<>();\n        items.entrySet().stream().forEach(entry -> {\n            Item item = new Item();\n            item.setId(entry.getKey());\n            item.setPrice(Db.getItemPrice(entry.getKey()));\n            item.setQuantity(entry.getValue());\n            itemList.add(item);\n        });\n        cart.setItems(itemList);\n\n        itemList.stream().forEach(item -> {\n            //åè¿è´¹\n            item.setDeliveryPrice(BigDecimal.ZERO);\n            //æ ä¼æ \n            item.setCouponPrice(BigDecimal.ZERO);\n        });\n\n        cart.setTotalItemPrice(cart.getItems()\n            .stream()\n            .map(item -> item.getPrice().multiply(BigDecimal.valueOf(item.getQuantity())))\n            .reduce(BigDecimal.ZERO, BigDecimal::add));\n        cart.setTotalDeliveryPrice(\n            cart.getItems().stream().map(Item::getDeliveryPrice).reduce(BigDecimal.ZERO, BigDecimal::add));\n        cart.setTotalDiscount(\n            cart.getItems().stream().map(Item::getCouponPrice).reduce(BigDecimal.ZERO, BigDecimal::add));\n        cart.setPayPrice(cart.getTotalItemPrice().add(cart.getTotalDeliveryPrice()).subtract(cart.getTotalDiscount()));\n        return cart;\n    }\n\n}\n\n\nå®¢æ·ç«¯\n\n@GetMapping("wrong")\npublic Cart wrong(@RequestParam("userId") int userId) {\n    String userCategory = Db.getUserCategory(userId);\n\n    if (userCategory.equals("Normal")) {\n        NormalUserCart normalUserCart = new NormalUserCart();\n        return normalUserCart.process(userId, items);\n    }\n\n    if (userCategory.equals("Vip")) {\n        VipUserCart vipUserCart = new VipUserCart();\n        return vipUserCart.process(userId, items);\n    }\n\n    if (userCategory.equals("Internal")) {\n        InternalUserCart internalUserCart = new InternalUserCart();\n        return internalUserCart.process(userId, items);\n    }\n\n    return null;\n}\n\n\n> å¯¹æ¯ä¸ä¸ä»£ç éå¯ä»¥åç°ï¼ä¸ç§è´­ç©è½¦ 70% çä»£ç æ¯éå¤çãåå å¾ç®åï¼è½ç¶ä¸åç±»åç¨æ·è®¡ç®è¿è´¹åä¼æ çæ¹å¼ä¸åï¼ä½æ´ä¸ªè´­ç©è½¦çåå§åãç»è®¡æ»ä»·ãæ»è¿è´¹ãæ»ä¼æ åæ¯ä»ä»·æ ¼çé»è¾é½æ¯ä¸æ ·çã\n\n# ä¿®æ­£çæ¬\n\n1.0 çæ¬çé®é¢å¨äºï¼ç¸åçä»£ç åºè¯¥åªå¨ä¸å¤åºç°ã\n\nå¦ææä»¬çè®°æ½è±¡ç±»åæ½è±¡æ¹æ³çå®ä¹çè¯ï¼è¿æ¶æè®¸å°±ä¼æ³å°ï¼æ¯å¦å¯ä»¥æéå¤çé»è¾å®ä¹å¨æ½è±¡ç±»ä¸­ï¼ä¸ä¸ªè´­ç©è½¦åªè¦åå«å®ç°ä¸åçé£ä»½é»è¾å¢ï¼\n\nå¶å®ï¼è¿ä¸ªæ¨¡å¼å°±æ¯æ¨¡æ¿æ¹æ³æ¨¡å¼ã\n\n> ä¸é¢å±ç¤ºåºäº å·¥åæ¨¡å¼+æ¨¡æ¿æ¹æ³æ¨¡å¼ ä¼åéå¤ä»£ç ã\n\nãæ½è±¡ç±»ã\n\npublic abstract class AbstractCart {\n\n    public Cart process(long userId, Map<Long, Integer> items) {\n\n        Cart cart = new Cart();\n\n        List<Item> itemList = new ArrayList<>();\n        items.entrySet().stream().forEach(entry -> {\n            Item item = new Item();\n            item.setId(entry.getKey());\n            item.setPrice(Db.getItemPrice(entry.getKey()));\n            item.setQuantity(entry.getValue());\n            itemList.add(item);\n        });\n        cart.setItems(itemList);\n\n        itemList.stream().forEach(item -> {\n            processCouponPrice(userId, item);\n            processDeliveryPrice(userId, item);\n        });\n\n        cart.setTotalItemPrice(cart.getItems()\n            .stream()\n            .map(item -> item.getPrice().multiply(BigDecimal.valueOf(item.getQuantity())))\n            .reduce(BigDecimal.ZERO, BigDecimal::add));\n        cart.setTotalDeliveryPrice(\n            cart.getItems().stream().map(Item::getDeliveryPrice).reduce(BigDecimal.ZERO, BigDecimal::add));\n        cart.setTotalDiscount(\n            cart.getItems().stream().map(Item::getCouponPrice).reduce(BigDecimal.ZERO, BigDecimal::add));\n        cart.setPayPrice(cart.getTotalItemPrice().add(cart.getTotalDeliveryPrice()).subtract(cart.getTotalDiscount()));\n        return cart;\n    }\n\n    protected abstract void processCouponPrice(long userId, Item item);\n\n    protected abstract void processDeliveryPrice(long userId, Item item);\n\n}\n\n\nãæ®éç¨æ·è´­ç©è½¦ã\n\n@Service(value = "NormalUserCart")\npublic class NormalUserCart extends AbstractCart {\n\n    @Override\n    protected void processCouponPrice(long userId, Item item) {\n        item.setCouponPrice(BigDecimal.ZERO);\n    }\n\n    @Override\n    protected void processDeliveryPrice(long userId, Item item) {\n        item.setDeliveryPrice(item.getPrice()\n            .multiply(BigDecimal.valueOf(item.getQuantity()))\n            .multiply(new BigDecimal("0.1")));\n    }\n\n}\n\n\nãVIP ç¨æ·è´­ç©è½¦ã\n\n@Service(value = "VipUserCart")\npublic class VipUserCart extends NormalUserCart {\n\n    @Override\n    protected void processCouponPrice(long userId, Item item) {\n        if (item.getQuantity() > 2) {\n            item.setCouponPrice(item.getPrice()\n                .multiply(BigDecimal.valueOf(100 - Db.getUserCouponPercent(userId)).divide(new BigDecimal("100")))\n                .multiply(BigDecimal.valueOf(item.getQuantity() - 2)));\n        } else {\n            item.setCouponPrice(BigDecimal.ZERO);\n        }\n    }\n\n}\n\n\nãåé¨ç¨æ·è´­ç©è½¦ã\n\n@Service(value = "InternalUserCart")\npublic class InternalUserCart extends AbstractCart {\n\n    @Override\n    protected void processCouponPrice(long userId, Item item) {\n        item.setCouponPrice(BigDecimal.ZERO);\n    }\n\n    @Override\n    protected void processDeliveryPrice(long userId, Item item) {\n        item.setDeliveryPrice(BigDecimal.ZERO);\n    }\n\n}\n\n\nãå®¢æ·ç«¯ã\n\n@GetMapping("right")\npublic Cart right(@RequestParam("userId") int userId) {\n    String userCategory = Db.getUserCategory(userId);\n    AbstractCart cart = (AbstractCart) applicationContext.getBean(userCategory + "UserCart");\n    return cart.process(userId, items);\n}\n\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * å·¥åæ¹æ³æ¨¡å¼æ¯æ¨¡æ¿æ¹æ³æ¨¡å¼çä¸ç§ç¹æ®å½¢å¼ã åæ¶ï¼ å·¥åæ¹æ³å¯ä»¥ä½ä¸ºä¸ä¸ªå¤§åæ¨¡æ¿æ¹æ³ä¸­çä¸ä¸ªæ­¥éª¤ã\n * æ¨¡æ¿æ¹æ³åºäºç»§æ¿æºå¶ï¼ å®åè®¸ä½ éè¿æ©å±å­ç±»ä¸­çé¨ååå®¹æ¥æ¹åé¨åç®æ³ã ç­ç¥æ¨¡å¼åºäºç»åæºå¶ï¼ ä½ å¯ä»¥éè¿å¯¹ç¸åºè¡ä¸ºæä¾ä¸åçç­ç¥æ¥æ¹åå¯¹è±¡çé¨åè¡ä¸ºã æ¨¡æ¿æ¹æ³å¨ç±»å±æ¬¡ä¸è¿ä½ï¼ å æ­¤å®æ¯éæçã ç­ç¥å¨å¯¹è±¡å±æ¬¡ä¸è¿ä½ï¼ å æ­¤åè®¸å¨è¿è¡æ¶åæ¢è¡ä¸ºã\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',normalizedContent:'# è®¾è®¡æ¨¡å¼ä¹æ¨¡æ¿æ¹æ³æ¨¡å¼\n\n\n# æå¾\n\næ¨¡æ¿æ¹æ³æ¨¡å¼ (template method) æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼ å®å¨è¶ç±»ä¸­å®ä¹äºä¸ä¸ªç®æ³çæ¡æ¶ï¼ åè®¸å­ç±»å¨ä¸ä¿®æ¹ç»æçæåµä¸éåç®æ³çç¹å®æ­¥éª¤ã\n\næ¨¡æ¿æ¹æ³æ¨¡å¼æ¯æææ¨¡å¼ä¸­æä¸ºå¸¸è§çå ä¸ªæ¨¡å¼ä¹ä¸ï¼æ¯åºäºç»§æ¿çä»£ç å¤ç¨çåºæ¬ææ¯ãï¼æ²¡æå³èå³ç³»ã å æ­¤ï¼å¨æ¨¡æ¿æ¹æ³æ¨¡å¼çç±»ç»æå¾ä¸­ï¼åªæç»§æ¿å³ç³»ã\n\næ¨¡æ¿æ¹æ³æ¨¡å¼éè¦å¼åæ½è±¡ç±»åå·ä½å­ç±»çè®¾è®¡å¸ä¹é´çåä½ãä¸ä¸ªè®¾è®¡å¸è´è´£ç»åºä¸ä¸ªç®æ³çè½®å»åéª¨æ¶ï¼å¦ä¸äºè®¾è®¡å¸åè´è´£ç»åºè¿ä¸ªç®æ³çåä¸ªé»è¾æ­¥éª¤ã\n\nä»£è¡¨è¿äºå·ä½é»è¾æ­¥éª¤çæ¹æ³ç§°ååºæ¬æ¹æ³(primitive method)ï¼èå°è¿äºåºæ¬æ¹æ³æ±æ»èµ·æ¥çæ¹æ³å«åæ¨¡æ¿æ¹æ³(template method)ï¼è¿ä¸ªè®¾è®¡æ¨¡å¼çåå­å°±æ¯ä»æ­¤èæ¥ã\n\nå¨æ¨¡æ¿æ¹æ³æ¨¡å¼ä¸­ï¼é¦åç¶ç±»ä¼å®ä¹ä¸ä¸ªç®æ³çæ¡æ¶ï¼å³å®ç°ç®æ³æå¿é¡»çæææ¹æ³ã\n\n * å¶ä¸­ï¼å·æå±æ§çä»£ç æ¾å¨ç¶ç±»çå·ä½æ¹æ³ä¸­ã\n\n * åä¸ªå­ç±»ç¹æ®æ§çä»£ç æ¾å¨å­ç±»çå·ä½æ¹æ³ä¸­ãä½æ¯ç¶ç±»ä¸­éè¦æå¯¹åºæ½è±¡æ¹æ³å£°æã\n\n * é©å­æ¹æ³å¯ä»¥è®©å­ç±»å³å®æ¯å¦å¯¹ç®æ³çä¸åç¹è¿è¡æé©ã\n\n\n# éç¨åºæ¯\n\n * å½ä½ åªå¸æå®¢æ·ç«¯æ©å±æä¸ªç¹å®ç®æ³æ­¥éª¤ï¼ èä¸æ¯æ´ä¸ªç®æ³æå¶ç»ææ¶ï¼ å¯ä½¿ç¨æ¨¡æ¿æ¹æ³æ¨¡å¼ã\n * å½å¤ä¸ªç±»çç®æ³é¤ä¸äºç»å¾®ä¸åä¹å¤å ä¹å®å¨ä¸æ ·æ¶ï¼ ä½ å¯ä½¿ç¨è¯¥æ¨¡å¼ã ä½å¶åæå°±æ¯ï¼ åªè¦ç®æ³åçååï¼ ä½ å°±å¯è½éè¦ä¿®æ¹ææçç±»ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. æ½è±¡ç±» ï¼abstractÂ­classï¼ ä¼å£°æä½ä¸ºç®æ³æ­¥éª¤çæ¹æ³ï¼ ä»¥åä¾æ¬¡è°ç¨å®ä»¬çå®éæ¨¡æ¿æ¹æ³ã ç®æ³æ­¥éª¤å¯ä»¥è¢«å£°æä¸º æ½è±¡ç±»åï¼ ä¹å¯ä»¥æä¾ä¸äºé»è®¤å®ç°ã\n 2. å·ä½ç±» ï¼concreteÂ­classï¼ å¯ä»¥éåæææ­¥éª¤ï¼ ä½ä¸è½éåæ¨¡æ¿æ¹æ³èªèº«ã\n\n\n# ç»æä»£ç èå¼\n\nabstractclass : æ½è±¡ç±»ï¼å®ä¹å¹¶å®ç°ä¸ä¸ªæ¨¡æ¿æ¹æ³ãè¿ä¸ªæ¨¡æ¿æ¹æ³å®ä¹äºç®æ³çéª¨æ¶ï¼èé»è¾çç»ææ­¥éª¤å¨ç¸åºçæ½è±¡æä½ä¸­ï¼æ¨è¿å°å­ç±»å»å®ç°ãé¡¶çº§é»è¾ä¹æå¯è½è°ç¨ä¸äºå·ä½æ¹æ³ã\n\nabstract class abstractclass {\n    public abstract void primitiveoperation1();\n    public abstract void primitiveoperation2();\n\n    public void templatemethod() {\n        primitiveoperation1();\n        primitiveoperation2();\n    }\n}\n\n\nconcreteclass : å®ç°å®ç°ç¶ç±»æå®ä¹çä¸ä¸ªæå¤ä¸ªæ½è±¡æ¹æ³ã\n\nclass concreteclassa extends abstractclass {\n    @override\n    public void primitiveoperation1() {\n        system.out.println("å·ä½aç±»æ¹æ³1");\n    }\n\n    @override\n    public void primitiveoperation2() {\n        system.out.println("å·ä½aç±»æ¹æ³2");\n    }\n}\n\nclass concreteclassb extends abstractclass {\n    @override\n    public void primitiveoperation1() {\n        system.out.println("å·ä½bç±»æ¹æ³1");\n    }\n\n    @override\n    public void primitiveoperation2() {\n        system.out.println("å·ä½bç±»æ¹æ³2");\n    }\n}\n\n\nå®¢æ·ç«¯\n\npublic class templatemethodpattern {\n    public static void main(string[] args) {\n        abstractclass obja = new concreteclassa();\n        abstractclass objb = new concreteclassb();\n        obja.templatemethod();\n        objb.templatemethod();\n    }\n}\n\n\n\n# ä¼ªä»£ç \n\næ¬ä¾ä¸­çæ¨¡æ¿æ¹æ³æ¨¡å¼ä¸ºä¸æ¬¾ç®åç­ç¥æ¸¸æä¸­äººå·¥æºè½çä¸ååæ¯æä¾ âæ¡æ¶âã\n\n\n\nä¸æ¬¾ç®åæ¸¸æç ai ç±»ã\n\næ¸¸æä¸­ææçç§æé½æå ä¹åç±»çåä½åå»ºç­ã å æ­¤ä½ å¯ä»¥å¨ä¸åçç§æä¸å¤ç¨ç¸åç ai ç»æï¼ åæ¶è¿éè¦å·å¤éåä¸äºç»èçè½åã éè¿è¿ç§æ¹å¼ï¼ ä½ å¯ä»¥éååå½äººç ai ä½¿å¶æ´å¯æ»å»æ§ï¼ ä¹å¯ä»¥è®©äººç±»ä¾§éé²å®ï¼ è¿å¯ä»¥ç¦æ­¢æªç©å»ºé å»ºç­ã å¨æ¸¸æä¸­æ°å¢ç§æéè¦åå»ºæ°ç ai å­ç±»ï¼ è¿éè¦éå ai åºç±»ä¸­æå£°æçé»è®¤æ¹æ³ã\n\n// æ½è±¡ç±»å®ä¹äºä¸ä¸ªæ¨¡æ¿æ¹æ³ï¼å¶ä¸­éå¸¸ä¼åå«æä¸ªç±æ½è±¡åè¯­æä½è°ç¨ç»æçç®\n// æ³æ¡æ¶ãå·ä½å­ç±»ä¼å®ç°è¿äºæä½ï¼ä½æ¯ä¸ä¼å¯¹æ¨¡æ¿æ¹æ³ååºä¿®æ¹ã\nclass gameai is\n    // æ¨¡æ¿æ¹æ³å®ä¹äºæä¸ªç®æ³çæ¡æ¶ã\n    method turn() is\n        collectresources()\n        buildstructures()\n        buildunits()\n        attack()\n\n    // æäºæ­¥éª¤å¯å¨åºç±»ä¸­ç´æ¥å®ç°ã\n    method collectresources() is\n        foreach (s in this.builtstructures) do\n            s.collect()\n\n    // æäºå¯å®ä¹ä¸ºæ½è±¡ç±»åã\n    abstract method buildstructures()\n    abstract method buildunits()\n\n    // ä¸ä¸ªç±»å¯åå«å¤ä¸ªæ¨¡æ¿æ¹æ³ã\n    method attack() is\n        enemy = closestenemy()\n        if (enemy == null)\n            sendscouts(map.center)\n        else\n            sendwarriors(enemy.position)\n\n    abstract method sendscouts(position)\n    abstract method sendwarriors(position)\n\n// å·ä½ç±»å¿é¡»å®ç°åºç±»ä¸­çæææ½è±¡æä½ï¼ä½æ¯å®ä»¬ä¸è½éåæ¨¡æ¿æ¹æ³èªèº«ã\nclass orcsai extends gameai is\n    method buildstructures() is\n        if (there are some resources) then\n            // å»ºé ååºï¼æ¥çæ¯è°·ä»ï¼ç¶åæ¯è¦å¡ã\n\n    method buildunits() is\n        if (there are plenty of resources) then\n            if (there are no scouts)\n                // å»ºé è¦å·¥ï¼å°å¶å å¥ä¾¦æ¥ç¼ç»ã\n            else\n                // å»ºé å½ææ­¥åµï¼å°å¶å å¥æå£«ç¼ç»ã\n\n    // ...\n\n    method sendscouts(position) is\n        if (scouts.length > 0) then\n            // å°ä¾¦æ¥ç¼ç»éå°æå®ä½ç½®ã\n\n    method sendwarriors(position) is\n        if (warriors.length > 5) then\n            // å°ææç¼ç»éå°æå®ä½ç½®ã\n\n// å­ç±»å¯ä»¥éåé¨åé»è®¤çæä½ã\nclass monstersai extends gameai is\n    method collectresources() is\n        // æªç©ä¸ä¼ééèµæºã\n\n    method buildstructures() is\n        // æªç©ä¸ä¼å»ºé å»ºç­ã\n\n    method buildunits() is\n        // æªç©ä¸ä¼å»ºé åä½ã\n\n\n\n# æ¡ä¾\n\næ¨¡æ¿æ¹æ³æ¨¡å¼åºç¨åºæ¯ååå¹¿æ³ã\n\nå¨ãhead firstãçæ¨¡æ¿æ¹æ³æ¨¡å¼ç« èéåä¸¾äºä¸ä¸ªååå·æä»£è¡¨æ§çä¾å­ã\n\nç°å®çæ´»ä¸­ï¼è¶ååå¡æ¯éå¤å¯è§çé¥®æãå²æ³¡ä¸æ¯è¶æå²æ³¡ä¸æ¯åå¡çè¿ç¨æ¯ææ ·çï¼\n\næä»¬æ¥æ´çä¸ä¸æµç¨ã\n\n * æ³¡è¶ï¼ ç§å¼æ°´ ==> å²æ³¡è¶å¶ ==> åå¥æ¯ä¸­ ==> æ·»å æ æª¬\n * æ³¡åå¡ï¼ ç§å¼æ°´ ==> å²æ³¡åå¡ ==> åå¥æ¯ä¸­ ==> æ·»å ç³åçå¥¶\n\nç±ä»¥ä¸å¤çæ­¥éª¤ä¸é¾åç°ï¼åå¤è¿ä¸¤ç§é¥®æçå¤çè¿ç¨éå¸¸ç¸ä¼¼ãæä»¬å¯ä»¥ä½¿ç¨æ¨¡æ¿ç±»æ¹æ³å»éå®å¶ä½é¥®æçç®æ³æ¡æ¶ã\n\nå¶ä¸­ç¸åçå·æå±æ§çæ­¥éª¤ï¼å¦ç§å¼æ°´ãåå¥æ¯ä¸­ï¼ï¼ç´æ¥å¨æ½è±¡ç±»ä¸­ç»åºå·ä½å®ç°ã\n\nèå¯¹äºæå·®å¼æ§çæ­¥éª¤ï¼åå¨åèªçå·ä½ç±»ä¸­ç»åºå®ç°ã\n\nãæ½è±¡ç±»ã\n\nabstract class beverage {\n\n    // æ¨¡æ¿æ¹æ³ï¼å³å®äºç®æ³éª¨æ¶ãç¸å½äºtemplatemethod()æ¹æ³\n    public void preparebeverage() {\n        boilwater();\n        brew();\n        pourincup();\n        if (customwantscondiments())\n        {\n            addcondiments();\n        }\n    }\n\n    // å±æ§æä½ï¼ç´æ¥å¨æ½è±¡ç±»ä¸­å®ä¹\n    public void boilwater() {\n        system.out.println("ç§å¼æ°´");\n    }\n\n    // å±æ§æä½ï¼ç´æ¥å¨æ½è±¡ç±»ä¸­å®ä¹\n    public void pourincup() {\n        system.out.println("åå¥æ¯ä¸­");\n    }\n\n    // é©å­æ¹æ³ï¼å³å®æäºç®æ³æ­¥éª¤æ¯å¦æé©å¨ç®æ³ä¸­\n    public boolean customwantscondiments() {\n        return true;\n    }\n\n    // ç¹æ®æä½ï¼å¨å­ç±»ä¸­å·ä½å®ç°\n    public abstract void brew();\n\n    // ç¹æ®æä½ï¼å¨å­ç±»ä¸­å·ä½å®ç°\n    public abstract void addcondiments();\n\n}\n\n\nãå·ä½ç±»ã\n\nclass tea extends beverage {\n\n    @override\n    public void brew() {\n        system.out.println("å²æ³¡è¶å¶");\n    }\n\n    @override\n    public void addcondiments() {\n        system.out.println("æ·»å æ æª¬");\n    }\n\n}\n\nclass coffee extends beverage {\n\n    @override\n    public void brew() {\n        system.out.println("å²æ³¡åå¡è±");\n    }\n\n    @override\n    public void addcondiments() {\n        system.out.println("æ·»å ç³åçå¥¶");\n    }\n\n}\n\n\nãå®¢æ·ç«¯ã\n\npublic static void main(string[] args) {\n\n    system.out.println("============= åå¤è¶ =============");\n    beverage tea = new tea();\n    tea.preparebeverage();\n\n    system.out.println("============= åå¤åå¡ =============");\n    beverage coffee = new coffee();\n    coffee.preparebeverage();\n\n}\n\n\nè¾åº\n\n============= åå¤è¶ =============\nç§å¼æ°´\nå²æ³¡è¶å¶\nåå¥æ¯ä¸­\næ·»å æ æª¬\n============= åå¤åå¡ =============\nç§å¼æ°´\nå²æ³¡åå¡è±\nåå¥æ¯ä¸­\næ·»å ç³åçå¥¶\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ æ¨¡çæ¹æ³æ¨¡å¼å¨ java æ¡æ¶ä¸­å¾å¸¸è§ã å¼åèéå¸¸ä½¿ç¨å®æ¥åæ¡æ¶ç¨æ·æä¾éè¿ç»§æ¿å®ç°çã å¯¹æ ååè½è¿è¡æ©å±çç®åæ¹å¼ã\n\nè¿éæ¯ä¸äºæ ¸å¿ java ç¨åºåºä¸­æ¨¡çæ¹æ³çç¤ºä¾ï¼\n\n * java.io.inputstreamã java.io.outputstreamã java.io.reader å java.io.writer çææéæ½è±¡æ¹æ³ã\n * java.util.abstractlistã java.util.abstractset å java.util.abstractmap çææéæ½è±¡æ¹æ³ã\n * javax.servlet.http.httpservletï¼ ææé»è®¤åé http 405 âæ¹æ³ä¸åè®¸â éè¯¯ååºç doÂ­xxx()æ¹æ³ã ä½ å¯éæ¶å¯¹å¶è¿è¡éåã\n\nè¯å«æ¹æ³ï¼ æ¨¡çæ¹æ³å¯ä»¥éè¿è¡ä¸ºæ¹æ³æ¥è¯å«ï¼ è¯¥æ¹æ³å·²æä¸ä¸ªå¨åºç±»ä¸­å®ä¹ç âé»è®¤â è¡ä¸ºã\n\n\n# æ¶é¤ if ... else åéå¤ä»£ç \n\nåè®¾è¦å¼åä¸ä¸ªè´­ç©è½¦åè½ï¼éå¯¹ä¸åç¨æ·è¿è¡ä¸åçå¤çï¼\n\n * æ®éç¨æ·éè¦æ¶åè¿è´¹ï¼è¿è´¹æ¯ååä»·æ ¼ç 10%ï¼æ ååææ£ï¼\n * vip ç¨æ·åæ ·éè¦æ¶åååä»·æ ¼ 10% çå¿«éè´¹ï¼ä½è´­ä¹°ä¸¤ä»¶ä»¥ä¸ç¸åååæ¶ï¼ç¬¬ä¸ä»¶å¼å§äº«åä¸å®ææ£ï¼\n * åé¨ç¨æ·å¯ä»¥åè¿è´¹ï¼æ ååææ£ã\n\n# é®é¢ 1.0 çæ¬\n\næ®éç¨æ·è´­ç©è½¦\n\npublic class normalusercart {\n\n    public cart process(long userid, map<long, integer> items) {\n        cart cart = new cart();\n\n        //æmapçè´­ç©è½¦è½¬æ¢ä¸ºitemåè¡¨\n        list<item> itemlist = new arraylist<>();\n        items.entryset().stream().foreach(entry -> {\n            item item = new item();\n            item.setid(entry.getkey());\n            item.setprice(db.getitemprice(entry.getkey()));\n            item.setquantity(entry.getvalue());\n            itemlist.add(item);\n        });\n        cart.setitems(itemlist);\n\n        //å¤çè¿è´¹åååä¼æ \n        itemlist.stream().foreach(item -> {\n            //è¿è´¹ä¸ºååæ»ä»·ç10%\n            item.setdeliveryprice(\n                item.getprice().multiply(bigdecimal.valueof(item.getquantity())).multiply(new bigdecimal("0.1")));\n            //æ ä¼æ \n            item.setcouponprice(bigdecimal.zero);\n        });\n\n        //è®¡ç®çº¯ååæ»ä»·\n        cart.settotalitemprice(cart.getitems()\n            .stream()\n            .map(item -> item.getprice().multiply(bigdecimal.valueof(item.getquantity())))\n            .reduce(bigdecimal.zero, bigdecimal::add));\n        //è®¡ç®è¿è´¹æ»ä»·\n        cart.settotaldeliveryprice(\n            cart.getitems().stream().map(item::getdeliveryprice).reduce(bigdecimal.zero, bigdecimal::add));\n        //è®¡ç®æ»ä¼æ \n        cart.settotaldiscount(\n            cart.getitems().stream().map(item::getcouponprice).reduce(bigdecimal.zero, bigdecimal::add));\n        //åºä»æ»ä»·=ååæ»ä»·+è¿è´¹æ»ä»·-æ»ä¼æ \n        cart.setpayprice(cart.gettotalitemprice().add(cart.gettotaldeliveryprice()).subtract(cart.gettotaldiscount()));\n        return cart;\n    }\n\n}\n\n\nvip ç¨æ·è´­ç©è½¦\n\npublic class vipusercart {\n\n    public cart process(long userid, map<long, integer> items) {\n        cart cart = new cart();\n\n        list<item> itemlist = new arraylist<>();\n        items.entryset().stream().foreach(entry -> {\n            item item = new item();\n            item.setid(entry.getkey());\n            item.setprice(db.getitemprice(entry.getkey()));\n            item.setquantity(entry.getvalue());\n            itemlist.add(item);\n        });\n        cart.setitems(itemlist);\n\n        itemlist.stream().foreach(item -> {\n            //è¿è´¹ä¸ºååæ»ä»·ç10%\n            item.setdeliveryprice(\n                item.getprice().multiply(bigdecimal.valueof(item.getquantity())).multiply(new bigdecimal("0.1")));\n            //è´­ä¹°ä¸¤ä»¶ä»¥ä¸ç¸åååï¼ç¬¬ä¸ä»¶å¼å§äº«åä¸å®ææ£\n            if (item.getquantity() > 2) {\n                item.setcouponprice(item.getprice()\n                    .multiply(bigdecimal.valueof(100 - db.getusercouponpercent(userid)).divide(new bigdecimal("100")))\n                    .multiply(bigdecimal.valueof(item.getquantity() - 2)));\n            } else {\n                item.setcouponprice(bigdecimal.zero);\n            }\n        });\n\n        cart.settotalitemprice(cart.getitems()\n            .stream()\n            .map(item -> item.getprice().multiply(bigdecimal.valueof(item.getquantity())))\n            .reduce(bigdecimal.zero, bigdecimal::add));\n        cart.settotaldeliveryprice(\n            cart.getitems().stream().map(item::getdeliveryprice).reduce(bigdecimal.zero, bigdecimal::add));\n        cart.settotaldiscount(\n            cart.getitems().stream().map(item::getcouponprice).reduce(bigdecimal.zero, bigdecimal::add));\n        cart.setpayprice(cart.gettotalitemprice().add(cart.gettotaldeliveryprice()).subtract(cart.gettotaldiscount()));\n        return cart;\n    }\n\n}\n\n\nåé¨ç¨æ·è´­ç©è½¦\n\npublic class internalusercart {\n\n    public cart process(long userid, map<long, integer> items) {\n        cart cart = new cart();\n\n        list<item> itemlist = new arraylist<>();\n        items.entryset().stream().foreach(entry -> {\n            item item = new item();\n            item.setid(entry.getkey());\n            item.setprice(db.getitemprice(entry.getkey()));\n            item.setquantity(entry.getvalue());\n            itemlist.add(item);\n        });\n        cart.setitems(itemlist);\n\n        itemlist.stream().foreach(item -> {\n            //åè¿è´¹\n            item.setdeliveryprice(bigdecimal.zero);\n            //æ ä¼æ \n            item.setcouponprice(bigdecimal.zero);\n        });\n\n        cart.settotalitemprice(cart.getitems()\n            .stream()\n            .map(item -> item.getprice().multiply(bigdecimal.valueof(item.getquantity())))\n            .reduce(bigdecimal.zero, bigdecimal::add));\n        cart.settotaldeliveryprice(\n            cart.getitems().stream().map(item::getdeliveryprice).reduce(bigdecimal.zero, bigdecimal::add));\n        cart.settotaldiscount(\n            cart.getitems().stream().map(item::getcouponprice).reduce(bigdecimal.zero, bigdecimal::add));\n        cart.setpayprice(cart.gettotalitemprice().add(cart.gettotaldeliveryprice()).subtract(cart.gettotaldiscount()));\n        return cart;\n    }\n\n}\n\n\nå®¢æ·ç«¯\n\n@getmapping("wrong")\npublic cart wrong(@requestparam("userid") int userid) {\n    string usercategory = db.getusercategory(userid);\n\n    if (usercategory.equals("normal")) {\n        normalusercart normalusercart = new normalusercart();\n        return normalusercart.process(userid, items);\n    }\n\n    if (usercategory.equals("vip")) {\n        vipusercart vipusercart = new vipusercart();\n        return vipusercart.process(userid, items);\n    }\n\n    if (usercategory.equals("internal")) {\n        internalusercart internalusercart = new internalusercart();\n        return internalusercart.process(userid, items);\n    }\n\n    return null;\n}\n\n\n> å¯¹æ¯ä¸ä¸ä»£ç éå¯ä»¥åç°ï¼ä¸ç§è´­ç©è½¦ 70% çä»£ç æ¯éå¤çãåå å¾ç®åï¼è½ç¶ä¸åç±»åç¨æ·è®¡ç®è¿è´¹åä¼æ çæ¹å¼ä¸åï¼ä½æ´ä¸ªè´­ç©è½¦çåå§åãç»è®¡æ»ä»·ãæ»è¿è´¹ãæ»ä¼æ åæ¯ä»ä»·æ ¼çé»è¾é½æ¯ä¸æ ·çã\n\n# ä¿®æ­£çæ¬\n\n1.0 çæ¬çé®é¢å¨äºï¼ç¸åçä»£ç åºè¯¥åªå¨ä¸å¤åºç°ã\n\nå¦ææä»¬çè®°æ½è±¡ç±»åæ½è±¡æ¹æ³çå®ä¹çè¯ï¼è¿æ¶æè®¸å°±ä¼æ³å°ï¼æ¯å¦å¯ä»¥æéå¤çé»è¾å®ä¹å¨æ½è±¡ç±»ä¸­ï¼ä¸ä¸ªè´­ç©è½¦åªè¦åå«å®ç°ä¸åçé£ä»½é»è¾å¢ï¼\n\nå¶å®ï¼è¿ä¸ªæ¨¡å¼å°±æ¯æ¨¡æ¿æ¹æ³æ¨¡å¼ã\n\n> ä¸é¢å±ç¤ºåºäº å·¥åæ¨¡å¼+æ¨¡æ¿æ¹æ³æ¨¡å¼ ä¼åéå¤ä»£ç ã\n\nãæ½è±¡ç±»ã\n\npublic abstract class abstractcart {\n\n    public cart process(long userid, map<long, integer> items) {\n\n        cart cart = new cart();\n\n        list<item> itemlist = new arraylist<>();\n        items.entryset().stream().foreach(entry -> {\n            item item = new item();\n            item.setid(entry.getkey());\n            item.setprice(db.getitemprice(entry.getkey()));\n            item.setquantity(entry.getvalue());\n            itemlist.add(item);\n        });\n        cart.setitems(itemlist);\n\n        itemlist.stream().foreach(item -> {\n            processcouponprice(userid, item);\n            processdeliveryprice(userid, item);\n        });\n\n        cart.settotalitemprice(cart.getitems()\n            .stream()\n            .map(item -> item.getprice().multiply(bigdecimal.valueof(item.getquantity())))\n            .reduce(bigdecimal.zero, bigdecimal::add));\n        cart.settotaldeliveryprice(\n            cart.getitems().stream().map(item::getdeliveryprice).reduce(bigdecimal.zero, bigdecimal::add));\n        cart.settotaldiscount(\n            cart.getitems().stream().map(item::getcouponprice).reduce(bigdecimal.zero, bigdecimal::add));\n        cart.setpayprice(cart.gettotalitemprice().add(cart.gettotaldeliveryprice()).subtract(cart.gettotaldiscount()));\n        return cart;\n    }\n\n    protected abstract void processcouponprice(long userid, item item);\n\n    protected abstract void processdeliveryprice(long userid, item item);\n\n}\n\n\nãæ®éç¨æ·è´­ç©è½¦ã\n\n@service(value = "normalusercart")\npublic class normalusercart extends abstractcart {\n\n    @override\n    protected void processcouponprice(long userid, item item) {\n        item.setcouponprice(bigdecimal.zero);\n    }\n\n    @override\n    protected void processdeliveryprice(long userid, item item) {\n        item.setdeliveryprice(item.getprice()\n            .multiply(bigdecimal.valueof(item.getquantity()))\n            .multiply(new bigdecimal("0.1")));\n    }\n\n}\n\n\nãvip ç¨æ·è´­ç©è½¦ã\n\n@service(value = "vipusercart")\npublic class vipusercart extends normalusercart {\n\n    @override\n    protected void processcouponprice(long userid, item item) {\n        if (item.getquantity() > 2) {\n            item.setcouponprice(item.getprice()\n                .multiply(bigdecimal.valueof(100 - db.getusercouponpercent(userid)).divide(new bigdecimal("100")))\n                .multiply(bigdecimal.valueof(item.getquantity() - 2)));\n        } else {\n            item.setcouponprice(bigdecimal.zero);\n        }\n    }\n\n}\n\n\nãåé¨ç¨æ·è´­ç©è½¦ã\n\n@service(value = "internalusercart")\npublic class internalusercart extends abstractcart {\n\n    @override\n    protected void processcouponprice(long userid, item item) {\n        item.setcouponprice(bigdecimal.zero);\n    }\n\n    @override\n    protected void processdeliveryprice(long userid, item item) {\n        item.setdeliveryprice(bigdecimal.zero);\n    }\n\n}\n\n\nãå®¢æ·ç«¯ã\n\n@getmapping("right")\npublic cart right(@requestparam("userid") int userid) {\n    string usercategory = db.getusercategory(userid);\n    abstractcart cart = (abstractcart) applicationcontext.getbean(usercategory + "usercart");\n    return cart.process(userid, items);\n}\n\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * å·¥åæ¹æ³æ¨¡å¼æ¯æ¨¡æ¿æ¹æ³æ¨¡å¼çä¸ç§ç¹æ®å½¢å¼ã åæ¶ï¼ å·¥åæ¹æ³å¯ä»¥ä½ä¸ºä¸ä¸ªå¤§åæ¨¡æ¿æ¹æ³ä¸­çä¸ä¸ªæ­¥éª¤ã\n * æ¨¡æ¿æ¹æ³åºäºç»§æ¿æºå¶ï¼ å®åè®¸ä½ éè¿æ©å±å­ç±»ä¸­çé¨ååå®¹æ¥æ¹åé¨åç®æ³ã ç­ç¥æ¨¡å¼åºäºç»åæºå¶ï¼ ä½ å¯ä»¥éè¿å¯¹ç¸åºè¡ä¸ºæä¾ä¸åçç­ç¥æ¥æ¹åå¯¹è±¡çé¨åè¡ä¸ºã æ¨¡æ¿æ¹æ³å¨ç±»å±æ¬¡ä¸è¿ä½ï¼ å æ­¤å®æ¯éæçã ç­ç¥å¨å¯¹è±¡å±æ¬¡ä¸è¿ä½ï¼ å æ­¤åè®¸å¨è¿è¡æ¶åæ¢è¡ä¸ºã\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼ä¹å½ä»¤æ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼ä¹å½ä»¤æ¨¡å¼",date:"2015-01-19T17:20:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/22353c/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/15.%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/15.å½ä»¤æ¨¡å¼.md",key:"v-e65aab34",path:"/pages/22353c/",headers:[{level:2,title:"æå¾",slug:"æå¾",normalizedTitle:"æå¾",charIndex:16},{level:3,title:"å½ä»¤æ¨¡å¼çäº¤äº",slug:"å½ä»¤æ¨¡å¼çäº¤äº",normalizedTitle:"å½ä»¤æ¨¡å¼çäº¤äº",charIndex:126},{level:3,title:"å½ä»¤æ¨¡å¼çè¦ç¹",slug:"å½ä»¤æ¨¡å¼çè¦ç¹",normalizedTitle:"å½ä»¤æ¨¡å¼çè¦ç¹",charIndex:389},{level:2,title:"éç¨åºæ¯",slug:"éç¨åºæ¯",normalizedTitle:"éç¨åºæ¯",charIndex:685},{level:2,title:"ç»æ",slug:"ç»æ",normalizedTitle:"ç»æ",charIndex:793},{level:3,title:"ç»æè¯´æ",slug:"ç»æè¯´æ",normalizedTitle:"ç»æè¯´æ",charIndex:802},{level:3,title:"ç»æä»£ç èå¼",slug:"ç»æä»£ç èå¼",normalizedTitle:"ç»æä»£ç èå¼",charIndex:1344},{level:2,title:"ä¼ªä»£ç ",slug:"ä¼ªä»£ç ",normalizedTitle:"ä¼ªä»£ç ",charIndex:2461},{level:2,title:"ä¸å¶ä»æ¨¡å¼çå³ç³»",slug:"ä¸å¶ä»æ¨¡å¼çå³ç³»",normalizedTitle:"ä¸å¶ä»æ¨¡å¼çå³ç³»",charIndex:5772},{level:2,title:"æ¡ä¾",slug:"æ¡ä¾",normalizedTitle:"æ¡ä¾",charIndex:6445},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:6728}],headersStr:"æå¾ å½ä»¤æ¨¡å¼çäº¤äº å½ä»¤æ¨¡å¼çè¦ç¹ éç¨åºæ¯ ç»æ ç»æè¯´æ ç»æä»£ç èå¼ ä¼ªä»£ç  ä¸å¶ä»æ¨¡å¼çå³ç³» æ¡ä¾ åèèµæ",content:'# è®¾è®¡æ¨¡å¼ä¹å½ä»¤æ¨¡å¼\n\n\n# æå¾\n\nå½ä»¤æ¨¡å¼ï¼Commandï¼ æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼ å®å¯å°è¯·æ±è½¬æ¢ä¸ºä¸ä¸ªåå«ä¸è¯·æ±ç¸å³çææä¿¡æ¯çç¬ç«å¯¹è±¡ã è¯¥è½¬æ¢è®©ä½ è½æ ¹æ®ä¸åçè¯·æ±å°æ¹æ³åæ°åã å»¶è¿è¯·æ±æ§è¡æå°å¶æ¾å¥éåä¸­ï¼ ä¸è½å®ç°å¯æ¤éæä½ã\n\n\n# å½ä»¤æ¨¡å¼çäº¤äº\n\n\n\n * Client åå»ºä¸ä¸ª ConcreteCommand å¯¹è±¡å¹¶æå®ä»ç Receiver å¯¹è±¡ã\n * æä¸ª Invoker å¯¹è±¡å­å¨è¯¥ ConcreteCommand å¯¹è±¡ã\n * è¯¥ Invoker éè¿è°ç¨ Command å¯¹è±¡ç Execute æä½æ¥æäº¤ä¸ä¸ªè¯·æ±ãè¥è¯¥å½ä»¤æ¯å¯æ¤éçï¼ConcreteCommand å°±å¨æ§è¡ Execute æä½ä¹åå­å¨å½åç¶æä»¥ç¨äºåæ¶è¯¥å½ä»¤ã\n * ConcreteCommand å¯¹è±¡å¯¹è°ç¨å®ç Receiver çä¸äºæä½ä»¥æ§è¡è¯¥è¯·æ±ã\n\n\n# å½ä»¤æ¨¡å¼çè¦ç¹\n\n * å½ä»¤æ¨¡å¼çæ¬è´¨æ¯å¯¹å½ä»¤è¿è¡å°è£ï¼å°ååºå½ä»¤çè´£ä»»åæ§è¡å½ä»¤çè´£ä»»åå²å¼ã\n * æ¯ä¸ä¸ªå½ä»¤é½æ¯ä¸ä¸ªæä½ï¼è¯·æ±çä¸æ¹ååºè¯·æ±ï¼è¦æ±æ§è¡ä¸ä¸ªæä½ï¼æ¥æ¶çä¸æ¹æ¶å°è¯·æ±ï¼å¹¶æ§è¡æä½ã\n * å½ä»¤æ¨¡å¼åè®¸è¯·æ±çä¸æ¹åæ¥æ¶çä¸æ¹ç¬ç«å¼æ¥ï¼ä½¿å¾è¯·æ±çä¸æ¹ä¸å¿ç¥éæ¥æ¶è¯·æ±çä¸æ¹çæ¥å£ï¼æ´ä¸å¿ç¥éè¯·æ±æ¯æä¹è¢«æ¥æ¶ï¼ä»¥åæä½æ¯å¦è¢«æ§è¡ãä½æ¶è¢«æ§è¡ï¼ä»¥åæ¯æä¹è¢«æ§è¡çã\n * å½ä»¤æ¨¡å¼ä½¿è¯·æ±æ¬èº«æä¸ºä¸ä¸ªå¯¹è±¡ï¼è¿ä¸ªå¯¹è±¡åå¶ä»å¯¹è±¡ä¸æ ·å¯ä»¥è¢«å­å¨åä¼ éã\n * å½ä»¤æ¨¡å¼çå³é®å¨äºå¼å¥äºæ½è±¡å½ä»¤æ¥å£ï¼ä¸åéèéå¯¹æ½è±¡å½ä»¤æ¥å£ç¼ç¨ï¼åªæå®ç°äºæ½è±¡å½ä»¤æ¥å£çå·ä½å½ä»¤æè½ä¸æ¥æ¶èç¸å³èã\n\n\n# éç¨åºæ¯\n\n * å¦æä½ éè¦éè¿æä½æ¥åæ°åå¯¹è±¡ï¼ å¯ä½¿ç¨å½ä»¤æ¨¡å¼ã\n * å¦æä½ æ³è¦å°æä½æ¾å¥éåä¸­ã æä½çæ§è¡æèè¿ç¨æ§è¡æä½ï¼ å¯ä½¿ç¨å½ä»¤æ¨¡å¼ã\n * å¦æä½ æ³è¦å®ç°æä½åæ»åè½ï¼ å¯ä½¿ç¨å½ä»¤æ¨¡å¼ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. åéè ï¼Senderï¼ââäº¦ç§° âè§¦åè ï¼Invokerï¼âââç±»è´è´£å¯¹è¯·æ±è¿è¡åå§åï¼ å¶ä¸­å¿é¡»åå«ä¸ä¸ªæååéæ¥å­å¨å¯¹äºå½ä»¤å¯¹è±¡çå¼ç¨ã åéèè§¦åå½ä»¤ï¼ èä¸åæ¥æ¶èç´æ¥åéè¯·æ±ã æ³¨æï¼ åéèå¹¶ä¸è´è´£åå»ºå½ä»¤å¯¹è±¡ï¼ å®éå¸¸ä¼éè¿æé å½æ°ä»å®¢æ·ç«¯å¤è·å¾é¢åçæçå½ä»¤ã\n\n 2. å½ä»¤ ï¼Commandï¼ æ¥å£éå¸¸ä»å£°æä¸ä¸ªæ§è¡å½ä»¤çæ¹æ³ã\n\n 3. å·ä½å½ä»¤ ï¼Concrete Commandsï¼ ä¼å®ç°åç§ç±»åçè¯·æ±ã å·ä½å½ä»¤èªèº«å¹¶ä¸å®æå·¥ä½ï¼ èæ¯ä¼å°è°ç¨å§æ´¾ç»ä¸ä¸ªä¸å¡é»è¾å¯¹è±¡ã ä½ä¸ºäºç®åä»£ç ï¼ è¿äºç±»å¯ä»¥è¿è¡åå¹¶ã\n    \n    æ¥æ¶å¯¹è±¡æ§è¡æ¹æ³æéçåæ°å¯ä»¥å£°æä¸ºå·ä½å½ä»¤çæååéã ä½ å¯ä»¥å°å½ä»¤å¯¹è±¡è®¾ä¸ºä¸å¯åï¼ ä»åè®¸éè¿æé å½æ°å¯¹è¿äºæååéè¿è¡åå§åã\n\n 4. æ¥æ¶è ï¼Receiverï¼ ç±»åå«é¨åä¸å¡é»è¾ã å ä¹ä»»ä½å¯¹è±¡é½å¯ä»¥ä½ä¸ºæ¥æ¶èã ç»å¤§é¨åå½ä»¤åªå¤çå¦ä½å°è¯·æ±ä¼ éå°æ¥æ¶èçç»èï¼ æ¥æ¶èèªå·±ä¼å®æå®éçå·¥ä½ã\n\n 5. å®¢æ·ç«¯ ï¼Clientï¼ ä¼åå»ºå¹¶éç½®å·ä½å½ä»¤å¯¹è±¡ã å®¢æ·ç«¯å¿é¡»å°åæ¬æ¥æ¶èå®ä½å¨åçææè¯·æ±åæ°ä¼ éç»å½ä»¤çæé å½æ°ã æ­¤åï¼ çæçå½ä»¤å°±å¯ä»¥ä¸ä¸ä¸ªæå¤ä¸ªåéèç¸å³èäºã\n\n\n# ç»æä»£ç èå¼\n\nCommand : ç¨æ¥å£°ææ§è¡æä½çæ¥å£ã\n\nabstract class Command {\n    protected Receiver receiver;\n    public Command(Receiver receiver) {\n        this.receiver = receiver;\n    }\n\n    public abstract void Execute();\n}\n\n\nConcreteCommand : å°ä¸ä¸ªæ¥æ¶èå¯¹è±¡ç»å®ä¸ä¸ªå¨ä½ï¼è°ç¨æ¥æ¶èç¸åºçæä½ï¼ä»¥å®ç° Executeã\n\nclass ConcreteCommand extends Command {\n    public ConcreteCommand(Receiver receiver) {\n        super(receiver);\n    }\n\n    @Override\n    public void Execute() {\n        receiver.Action();\n    }\n}\n\n\nInvoker : è¦æ±è¯¥å½ä»¤æ§è¡è¿ä¸ªè¯·æ±ã\n\nclass Invoker {\n    private Command command;\n\n    public Invoker(Command command) {\n        this.command = command;\n    }\n\n    public void ExecuteCommand() {\n        command.Execute();\n    }\n}\n\n\nReceiver : ç¥éå¦ä½å®æ½ä¸æ§è¡ä¸ä¸ªä¸è¯·æ±ç¸å³çæä½ï¼ä»»ä½ç±»é½å¯è½ä½ä¸ºä¸ä¸ªæ¥æ¶èã\n\nclass Receiver {\n    public void Action() {\n        System.out.println("æ§è¡è¯·æ±");\n    }\n}\n\n\nClient : åå»ºä¸ä¸ªå·ä½å½ä»¤å¯¹è±¡å¹¶è®¾å®å®çæ¥åèã\n\npublic class CommandPattern {\n    public static void main(String[] args) {\n        Receiver receiver = new Receiver();\n        Command cmd = new ConcreteCommand(receiver);\n        Invoker invoker = new Invoker(cmd);\n        invoker.ExecuteCommand();\n    }\n}\n\n\n\n# ä¼ªä»£ç \n\nå¨æ¬ä¾ä¸­ï¼ å½ä»¤æ¨¡å¼ä¼è®°å½å·²æ§è¡æä½çåå²è®°å½ï¼ ä»¥å¨éè¦æ¶æ¤éæä½ã\n\n\n\næäºå½ä»¤ä¼æ¹åç¼è¾å¨çç¶æ ï¼ä¾å¦åªååç²è´´ï¼ï¼ å®ä»¬å¯å¨æ§è¡ç¸å³æä½åå¯¹ç¼è¾å¨çç¶æè¿è¡å¤ä»½ã å½ä»¤æ§è¡åä¼åå½åç¹å¤ä»½çç¼è¾å¨ç¶æä¸èµ·è¢«æ¾å¥å½ä»¤åå² ï¼å½ä»¤å¯¹è±¡æ ï¼ã æ­¤åï¼ å¦æç¨æ·éè¦è¿è¡åæ»æä½ï¼ ç¨åºå¯ä»åå²è®°å½ä¸­ååºæè¿çå½ä»¤ï¼ è¯»åç¸åºçç¼è¾å¨ç¶æå¤ä»½ï¼ ç¶åè¿è¡æ¢å¤ã\n\nå®¢æ·ç«¯ä»£ç  ï¼GUI åç´ åå½ä»¤åå²ç­ï¼ æ²¡æåå·ä½å½ä»¤ç±»ç¸è¦åï¼ å ä¸ºå®éè¿å½ä»¤æ¥å£æ¥ä½¿ç¨å½ä»¤ã è¿ä½¿å¾ä½ è½å¨æ éä¿®æ¹å·²æä»£ç çæåµä¸å¨ç¨åºä¸­å¢å æ°çå½ä»¤ã\n\n// å½ä»¤åºç±»ä¼ä¸ºææå·ä½å½ä»¤å®ä¹éç¨æ¥å£ã\nabstract class Command is\n    protected field app: Application\n    protected field editor: Editor\n    protected field backup: text\n\n    constructor Command(app: Application, editor: Editor) is\n        this.app = app\n        this.editor = editor\n\n    // å¤ä»½ç¼è¾å¨ç¶æã\n    method saveBackup() is\n        backup = editor.text\n\n    // æ¢å¤ç¼è¾å¨ç¶æã\n    method undo() is\n        editor.text = backup\n\n    // æ§è¡æ¹æ³è¢«å£°æä¸ºæ½è±¡ä»¥å¼ºå¶ææå·ä½å½ä»¤æä¾èªå·±çå®ç°ãè¯¥æ¹æ³å¿é¡»æ ¹\n    // æ®å½ä»¤æ¯å¦æ´æ¹ç¼è¾å¨çç¶æè¿å true æ falseã\n    abstract method execute()\n\n\n// è¿éæ¯å·ä½å½ä»¤ã\nclass CopyCommand extends Command is\n    // å¤å¶å½ä»¤ä¸ä¼è¢«ä¿å­å°åå²è®°å½ä¸­ï¼å ä¸ºå®æ²¡ææ¹åç¼è¾å¨çç¶æã\n    method execute() is\n        app.clipboard = editor.getSelection()\n        return false\n\nclass CutCommand extends Command is\n    // åªåå½ä»¤æ¹åäºç¼è¾å¨çç¶æï¼å æ­¤å®å¿é¡»è¢«ä¿å­å°åå²è®°å½ä¸­ãåªè¦æ¹æ³\n    // è¿å trueï¼å®å°±ä¼è¢«ä¿å­ã\n    method execute() is\n        saveBackup()\n        app.clipboard = editor.getSelection()\n        editor.deleteSelection()\n        return true\n\nclass PasteCommand extends Command is\n    method execute() is\n        saveBackup()\n        editor.replaceSelection(app.clipboard)\n        return true\n\n// æ¤éæä½ä¹æ¯ä¸ä¸ªå½ä»¤ã\nclass UndoCommand extends Command is\n    method execute() is\n        app.undo()\n        return false\n\n\n// å¨å±å½ä»¤åå²è®°å½å°±æ¯ä¸ä¸ªå æ¡ã\nclass CommandHistory is\n    private field history: array of Command\n\n    // åè¿...\n    method push(c: Command) is\n        // å°å½ä»¤åå¥åå²è®°å½æ°ç»çæ«å°¾ã\n\n    // ...ååº\n    method pop():Command is\n        // ä»åå²è®°å½ä¸­ååºæè¿çå½ä»¤ã\n\n\n// ç¼è¾å¨ç±»åå«å®éçææ¬ç¼è¾æä½ãå®ä¼æä»»æ¥æ¶èçè§è²ï¼æåææå½ä»¤é½ä¼\n// å°æ§è¡å·¥ä½å§æ´¾ç»ç¼è¾å¨çæ¹æ³ã\nclass Editor is\n    field text: string\n\n    method getSelection() is\n        // è¿åéä¸­çæå­ã\n\n    method deleteSelection() is\n        // å é¤éä¸­çæå­ã\n\n    method replaceSelection(text) is\n        // å¨å½åä½ç½®æå¥åªè´´æ¿ä¸­çåå®¹ã\n\n// åºç¨ç¨åºç±»ä¼è®¾ç½®å¯¹è±¡ä¹é´çå³ç³»ãå®ä¼æä»»åéèçè§è²ï¼å½éè¦å®ææäºå·¥\n// ä½æ¶ï¼å®ä¼åå»ºå¹¶æ§è¡ä¸ä¸ªå½ä»¤å¯¹è±¡ã\nclass Application is\n    field clipboard: string\n    field editors: array of Editors\n    field activeEditor: Editor\n    field history: CommandHistory\n\n    // å°å½ä»¤åæ´¾ç» UI å¯¹è±¡çä»£ç å¯è½ä¼æ¯è¿æ ·çã\n    method createUI() is\n        // ...\n        copy = function() { executeCommand(\n            new CopyCommand(this, activeEditor)) }\n        copyButton.setCommand(copy)\n        shortcuts.onKeyPress("Ctrl+C", copy)\n\n        cut = function() { executeCommand(\n            new CutCommand(this, activeEditor)) }\n        cutButton.setCommand(cut)\n        shortcuts.onKeyPress("Ctrl+X", cut)\n\n        paste = function() { executeCommand(\n            new PasteCommand(this, activeEditor)) }\n        pasteButton.setCommand(paste)\n        shortcuts.onKeyPress("Ctrl+V", paste)\n\n        undo = function() { executeCommand(\n            new UndoCommand(this, activeEditor)) }\n        undoButton.setCommand(undo)\n        shortcuts.onKeyPress("Ctrl+Z", undo)\n\n    // æ§è¡ä¸ä¸ªå½ä»¤å¹¶æ£æ¥å®æ¯å¦éè¦è¢«æ·»å å°åå²è®°å½ä¸­ã\n    method executeCommand(command) is\n        if (command.execute)\n            history.push(command)\n\n    // ä»åå²è®°å½ä¸­ååºæè¿çå½ä»¤å¹¶è¿è¡å¶ undoï¼æ¤éï¼æ¹æ³ãè¯·æ³¨æï¼ä½ å¹¶\n    // ä¸ç¥æè¯¥å½ä»¤æå±çç±»ãä½æ¯æä»¬ä¸éè¦ç¥æï¼å ä¸ºå½ä»¤èªå·±ç¥éå¦ä½æ¤é\n    // å¶å¨ä½ã\n    method undo() is\n        command = history.pop()\n        if (command != null)\n            command.undo()\n\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * è´£ä»»é¾æ¨¡å¼ã å½ä»¤æ¨¡å¼ã ä¸­ä»èæ¨¡å¼åè§å¯èæ¨¡å¼ç¨äºå¤çè¯·æ±åéèåæ¥æ¶èä¹é´çä¸åè¿æ¥æ¹å¼ï¼\n   * è´£ä»»é¾æç§é¡ºåºå°è¯·æ±å¨æä¼ éç»ä¸ç³»åçæ½å¨æ¥æ¶èï¼ ç´è³å¶ä¸­ä¸åæ¥æ¶èå¯¹è¯·æ±è¿è¡å¤çã\n   * å½ä»¤å¨åéèåè¯·æ±èä¹é´å»ºç«ååè¿æ¥ã\n   * ä¸­ä»èæ¸é¤äºåéèåè¯·æ±èä¹é´çç´æ¥è¿æ¥ï¼ å¼ºå¶å®ä»¬éè¿ä¸ä¸ªä¸­ä»å¯¹è±¡è¿è¡é´æ¥æ²éã\n   * è§å¯èåè®¸æ¥æ¶èå¨æå°è®¢éæåæ¶æ¥æ¶è¯·æ±ã\n * è´£ä»»é¾çç®¡çèå¯ä½¿ç¨å½ä»¤æ¨¡å¼å®ç°ã å¨è¿ç§æåµä¸ï¼ ä½ å¯ä»¥å¯¹ç±è¯·æ±ä»£è¡¨çåä¸ä¸ªä¸ä¸æå¯¹è±¡æ§è¡è®¸å¤ä¸åçæä½ã è¿æå¦å¤ä¸ç§å®ç°æ¹å¼ï¼ é£å°±æ¯è¯·æ±èªèº«å°±æ¯ä¸ä¸ªå½ä»¤å¯¹è±¡ã å¨è¿ç§æåµä¸ï¼ ä½ å¯ä»¥å¯¹ç±ä¸ç³»åä¸åä¸ä¸æè¿æ¥èæçé¾æ§è¡ç¸åçæä½ã\n * ä½ å¯ä»¥åæ¶ä½¿ç¨å½ä»¤åå¤å¿å½æ¨¡å¼æ¥å®ç° âæ¤éâã å¨è¿ç§æåµä¸ï¼ å½ä»¤ç¨äºå¯¹ç®æ å¯¹è±¡æ§è¡åç§ä¸åçæä½ï¼ å¤å¿å½ç¨æ¥ä¿å­ä¸æ¡å½ä»¤æ§è¡åè¯¥å¯¹è±¡çç¶æã\n * å½ä»¤åç­ç¥æ¨¡å¼çä¸å»å¾åï¼ å ä¸ºä¸¤èé½è½éè¿æäºè¡ä¸ºæ¥åæ°åå¯¹è±¡ã ä½æ¯ï¼ å®ä»¬çæå¾æéå¸¸å¤§çä¸åã\n   * ä½ å¯ä»¥ä½¿ç¨å½ä»¤æ¥å°ä»»ä½æä½è½¬æ¢ä¸ºå¯¹è±¡ã æä½çåæ°å°æä¸ºå¯¹è±¡çæååéã ä½ å¯ä»¥éè¿è½¬æ¢æ¥å»¶è¿æä½çæ§è¡ã å°æä½æ¾å¥éåã ä¿å­åå²å½ä»¤æèåè¿ç¨æå¡åéå½ä»¤ç­ã\n   * å¦ä¸æ¹é¢ï¼ ç­ç¥éå¸¸å¯ç¨äºæè¿°å®ææä»¶äºçä¸åæ¹å¼ï¼ è®©ä½ è½å¤å¨åä¸ä¸ªä¸ä¸æç±»ä¸­åæ¢ç®æ³ã\n * ååæ¨¡å¼å¯ç¨äºä¿å­å½ä»¤çåå²è®°å½ã\n * ä½ å¯ä»¥å°è®¿é®èæ¨¡å¼è§ä¸ºå½ä»¤æ¨¡å¼çå å¼ºçæ¬ï¼ å¶å¯¹è±¡å¯å¯¹ä¸åç±»çå¤ç§å¯¹è±¡æ§è¡æä½ã\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼å½ä»¤æ¨¡å¼å¨ Java ä»£ç ä¸­å¾å¸¸è§ã å¤§é¨åæåµä¸ï¼ å®è¢«ç¨äºä»£æ¿åå«è¡ä¸ºçåæ°å UI åç´ çåè°å½æ°ï¼ æ­¤å¤è¿è¢«ç¨äºå¯¹ä»»å¡è¿è¡æåºåè®°å½æä½åå²è®°å½ç­ã\n\nä»¥ä¸æ¯å¨æ ¸å¿ Java ç¨åºåºä¸­çä¸äºç¤ºä¾ï¼\n\n * java.lang.Runnable çææå®ç°\n * javax.swing.Action çææå®ç°\n\nè¯å«æ¹æ³ï¼ å½ä»¤æ¨¡å¼å¯ä»¥éè¿æ½è±¡ææ¥å£ç±»å ï¼åéèï¼ ä¸­çè¡ä¸ºæ¹æ³æ¥è¯å«ï¼ è¯¥ç±»åè°ç¨å¦ä¸ä¸ªä¸åçæ½è±¡ææ¥å£ç±»å ï¼æ¥æ¶èï¼ å®ç°ä¸­çæ¹æ³ï¼ è¯¥å®ç°åæ¯å¨åå»ºæ¶ç±å½ä»¤æ¨¡å¼çå®ç°å°è£ã å½ä»¤ç±»éå¸¸ä»éäºä¸äºç¹æ®è¡ä¸ºã\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',normalizedContent:'# è®¾è®¡æ¨¡å¼ä¹å½ä»¤æ¨¡å¼\n\n\n# æå¾\n\nå½ä»¤æ¨¡å¼ï¼commandï¼ æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼ å®å¯å°è¯·æ±è½¬æ¢ä¸ºä¸ä¸ªåå«ä¸è¯·æ±ç¸å³çææä¿¡æ¯çç¬ç«å¯¹è±¡ã è¯¥è½¬æ¢è®©ä½ è½æ ¹æ®ä¸åçè¯·æ±å°æ¹æ³åæ°åã å»¶è¿è¯·æ±æ§è¡æå°å¶æ¾å¥éåä¸­ï¼ ä¸è½å®ç°å¯æ¤éæä½ã\n\n\n# å½ä»¤æ¨¡å¼çäº¤äº\n\n\n\n * client åå»ºä¸ä¸ª concretecommand å¯¹è±¡å¹¶æå®ä»ç receiver å¯¹è±¡ã\n * æä¸ª invoker å¯¹è±¡å­å¨è¯¥ concretecommand å¯¹è±¡ã\n * è¯¥ invoker éè¿è°ç¨ command å¯¹è±¡ç execute æä½æ¥æäº¤ä¸ä¸ªè¯·æ±ãè¥è¯¥å½ä»¤æ¯å¯æ¤éçï¼concretecommand å°±å¨æ§è¡ execute æä½ä¹åå­å¨å½åç¶æä»¥ç¨äºåæ¶è¯¥å½ä»¤ã\n * concretecommand å¯¹è±¡å¯¹è°ç¨å®ç receiver çä¸äºæä½ä»¥æ§è¡è¯¥è¯·æ±ã\n\n\n# å½ä»¤æ¨¡å¼çè¦ç¹\n\n * å½ä»¤æ¨¡å¼çæ¬è´¨æ¯å¯¹å½ä»¤è¿è¡å°è£ï¼å°ååºå½ä»¤çè´£ä»»åæ§è¡å½ä»¤çè´£ä»»åå²å¼ã\n * æ¯ä¸ä¸ªå½ä»¤é½æ¯ä¸ä¸ªæä½ï¼è¯·æ±çä¸æ¹ååºè¯·æ±ï¼è¦æ±æ§è¡ä¸ä¸ªæä½ï¼æ¥æ¶çä¸æ¹æ¶å°è¯·æ±ï¼å¹¶æ§è¡æä½ã\n * å½ä»¤æ¨¡å¼åè®¸è¯·æ±çä¸æ¹åæ¥æ¶çä¸æ¹ç¬ç«å¼æ¥ï¼ä½¿å¾è¯·æ±çä¸æ¹ä¸å¿ç¥éæ¥æ¶è¯·æ±çä¸æ¹çæ¥å£ï¼æ´ä¸å¿ç¥éè¯·æ±æ¯æä¹è¢«æ¥æ¶ï¼ä»¥åæä½æ¯å¦è¢«æ§è¡ãä½æ¶è¢«æ§è¡ï¼ä»¥åæ¯æä¹è¢«æ§è¡çã\n * å½ä»¤æ¨¡å¼ä½¿è¯·æ±æ¬èº«æä¸ºä¸ä¸ªå¯¹è±¡ï¼è¿ä¸ªå¯¹è±¡åå¶ä»å¯¹è±¡ä¸æ ·å¯ä»¥è¢«å­å¨åä¼ éã\n * å½ä»¤æ¨¡å¼çå³é®å¨äºå¼å¥äºæ½è±¡å½ä»¤æ¥å£ï¼ä¸åéèéå¯¹æ½è±¡å½ä»¤æ¥å£ç¼ç¨ï¼åªæå®ç°äºæ½è±¡å½ä»¤æ¥å£çå·ä½å½ä»¤æè½ä¸æ¥æ¶èç¸å³èã\n\n\n# éç¨åºæ¯\n\n * å¦æä½ éè¦éè¿æä½æ¥åæ°åå¯¹è±¡ï¼ å¯ä½¿ç¨å½ä»¤æ¨¡å¼ã\n * å¦æä½ æ³è¦å°æä½æ¾å¥éåä¸­ã æä½çæ§è¡æèè¿ç¨æ§è¡æä½ï¼ å¯ä½¿ç¨å½ä»¤æ¨¡å¼ã\n * å¦æä½ æ³è¦å®ç°æä½åæ»åè½ï¼ å¯ä½¿ç¨å½ä»¤æ¨¡å¼ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. åéè ï¼senderï¼ââäº¦ç§° âè§¦åè ï¼invokerï¼âââç±»è´è´£å¯¹è¯·æ±è¿è¡åå§åï¼ å¶ä¸­å¿é¡»åå«ä¸ä¸ªæååéæ¥å­å¨å¯¹äºå½ä»¤å¯¹è±¡çå¼ç¨ã åéèè§¦åå½ä»¤ï¼ èä¸åæ¥æ¶èç´æ¥åéè¯·æ±ã æ³¨æï¼ åéèå¹¶ä¸è´è´£åå»ºå½ä»¤å¯¹è±¡ï¼ å®éå¸¸ä¼éè¿æé å½æ°ä»å®¢æ·ç«¯å¤è·å¾é¢åçæçå½ä»¤ã\n\n 2. å½ä»¤ ï¼commandï¼ æ¥å£éå¸¸ä»å£°æä¸ä¸ªæ§è¡å½ä»¤çæ¹æ³ã\n\n 3. å·ä½å½ä»¤ ï¼concrete commandsï¼ ä¼å®ç°åç§ç±»åçè¯·æ±ã å·ä½å½ä»¤èªèº«å¹¶ä¸å®æå·¥ä½ï¼ èæ¯ä¼å°è°ç¨å§æ´¾ç»ä¸ä¸ªä¸å¡é»è¾å¯¹è±¡ã ä½ä¸ºäºç®åä»£ç ï¼ è¿äºç±»å¯ä»¥è¿è¡åå¹¶ã\n    \n    æ¥æ¶å¯¹è±¡æ§è¡æ¹æ³æéçåæ°å¯ä»¥å£°æä¸ºå·ä½å½ä»¤çæååéã ä½ å¯ä»¥å°å½ä»¤å¯¹è±¡è®¾ä¸ºä¸å¯åï¼ ä»åè®¸éè¿æé å½æ°å¯¹è¿äºæååéè¿è¡åå§åã\n\n 4. æ¥æ¶è ï¼receiverï¼ ç±»åå«é¨åä¸å¡é»è¾ã å ä¹ä»»ä½å¯¹è±¡é½å¯ä»¥ä½ä¸ºæ¥æ¶èã ç»å¤§é¨åå½ä»¤åªå¤çå¦ä½å°è¯·æ±ä¼ éå°æ¥æ¶èçç»èï¼ æ¥æ¶èèªå·±ä¼å®æå®éçå·¥ä½ã\n\n 5. å®¢æ·ç«¯ ï¼clientï¼ ä¼åå»ºå¹¶éç½®å·ä½å½ä»¤å¯¹è±¡ã å®¢æ·ç«¯å¿é¡»å°åæ¬æ¥æ¶èå®ä½å¨åçææè¯·æ±åæ°ä¼ éç»å½ä»¤çæé å½æ°ã æ­¤åï¼ çæçå½ä»¤å°±å¯ä»¥ä¸ä¸ä¸ªæå¤ä¸ªåéèç¸å³èäºã\n\n\n# ç»æä»£ç èå¼\n\ncommand : ç¨æ¥å£°ææ§è¡æä½çæ¥å£ã\n\nabstract class command {\n    protected receiver receiver;\n    public command(receiver receiver) {\n        this.receiver = receiver;\n    }\n\n    public abstract void execute();\n}\n\n\nconcretecommand : å°ä¸ä¸ªæ¥æ¶èå¯¹è±¡ç»å®ä¸ä¸ªå¨ä½ï¼è°ç¨æ¥æ¶èç¸åºçæä½ï¼ä»¥å®ç° executeã\n\nclass concretecommand extends command {\n    public concretecommand(receiver receiver) {\n        super(receiver);\n    }\n\n    @override\n    public void execute() {\n        receiver.action();\n    }\n}\n\n\ninvoker : è¦æ±è¯¥å½ä»¤æ§è¡è¿ä¸ªè¯·æ±ã\n\nclass invoker {\n    private command command;\n\n    public invoker(command command) {\n        this.command = command;\n    }\n\n    public void executecommand() {\n        command.execute();\n    }\n}\n\n\nreceiver : ç¥éå¦ä½å®æ½ä¸æ§è¡ä¸ä¸ªä¸è¯·æ±ç¸å³çæä½ï¼ä»»ä½ç±»é½å¯è½ä½ä¸ºä¸ä¸ªæ¥æ¶èã\n\nclass receiver {\n    public void action() {\n        system.out.println("æ§è¡è¯·æ±");\n    }\n}\n\n\nclient : åå»ºä¸ä¸ªå·ä½å½ä»¤å¯¹è±¡å¹¶è®¾å®å®çæ¥åèã\n\npublic class commandpattern {\n    public static void main(string[] args) {\n        receiver receiver = new receiver();\n        command cmd = new concretecommand(receiver);\n        invoker invoker = new invoker(cmd);\n        invoker.executecommand();\n    }\n}\n\n\n\n# ä¼ªä»£ç \n\nå¨æ¬ä¾ä¸­ï¼ å½ä»¤æ¨¡å¼ä¼è®°å½å·²æ§è¡æä½çåå²è®°å½ï¼ ä»¥å¨éè¦æ¶æ¤éæä½ã\n\n\n\næäºå½ä»¤ä¼æ¹åç¼è¾å¨çç¶æ ï¼ä¾å¦åªååç²è´´ï¼ï¼ å®ä»¬å¯å¨æ§è¡ç¸å³æä½åå¯¹ç¼è¾å¨çç¶æè¿è¡å¤ä»½ã å½ä»¤æ§è¡åä¼åå½åç¹å¤ä»½çç¼è¾å¨ç¶æä¸èµ·è¢«æ¾å¥å½ä»¤åå² ï¼å½ä»¤å¯¹è±¡æ ï¼ã æ­¤åï¼ å¦æç¨æ·éè¦è¿è¡åæ»æä½ï¼ ç¨åºå¯ä»åå²è®°å½ä¸­ååºæè¿çå½ä»¤ï¼ è¯»åç¸åºçç¼è¾å¨ç¶æå¤ä»½ï¼ ç¶åè¿è¡æ¢å¤ã\n\nå®¢æ·ç«¯ä»£ç  ï¼gui åç´ åå½ä»¤åå²ç­ï¼ æ²¡æåå·ä½å½ä»¤ç±»ç¸è¦åï¼ å ä¸ºå®éè¿å½ä»¤æ¥å£æ¥ä½¿ç¨å½ä»¤ã è¿ä½¿å¾ä½ è½å¨æ éä¿®æ¹å·²æä»£ç çæåµä¸å¨ç¨åºä¸­å¢å æ°çå½ä»¤ã\n\n// å½ä»¤åºç±»ä¼ä¸ºææå·ä½å½ä»¤å®ä¹éç¨æ¥å£ã\nabstract class command is\n    protected field app: application\n    protected field editor: editor\n    protected field backup: text\n\n    constructor command(app: application, editor: editor) is\n        this.app = app\n        this.editor = editor\n\n    // å¤ä»½ç¼è¾å¨ç¶æã\n    method savebackup() is\n        backup = editor.text\n\n    // æ¢å¤ç¼è¾å¨ç¶æã\n    method undo() is\n        editor.text = backup\n\n    // æ§è¡æ¹æ³è¢«å£°æä¸ºæ½è±¡ä»¥å¼ºå¶ææå·ä½å½ä»¤æä¾èªå·±çå®ç°ãè¯¥æ¹æ³å¿é¡»æ ¹\n    // æ®å½ä»¤æ¯å¦æ´æ¹ç¼è¾å¨çç¶æè¿å true æ falseã\n    abstract method execute()\n\n\n// è¿éæ¯å·ä½å½ä»¤ã\nclass copycommand extends command is\n    // å¤å¶å½ä»¤ä¸ä¼è¢«ä¿å­å°åå²è®°å½ä¸­ï¼å ä¸ºå®æ²¡ææ¹åç¼è¾å¨çç¶æã\n    method execute() is\n        app.clipboard = editor.getselection()\n        return false\n\nclass cutcommand extends command is\n    // åªåå½ä»¤æ¹åäºç¼è¾å¨çç¶æï¼å æ­¤å®å¿é¡»è¢«ä¿å­å°åå²è®°å½ä¸­ãåªè¦æ¹æ³\n    // è¿å trueï¼å®å°±ä¼è¢«ä¿å­ã\n    method execute() is\n        savebackup()\n        app.clipboard = editor.getselection()\n        editor.deleteselection()\n        return true\n\nclass pastecommand extends command is\n    method execute() is\n        savebackup()\n        editor.replaceselection(app.clipboard)\n        return true\n\n// æ¤éæä½ä¹æ¯ä¸ä¸ªå½ä»¤ã\nclass undocommand extends command is\n    method execute() is\n        app.undo()\n        return false\n\n\n// å¨å±å½ä»¤åå²è®°å½å°±æ¯ä¸ä¸ªå æ¡ã\nclass commandhistory is\n    private field history: array of command\n\n    // åè¿...\n    method push(c: command) is\n        // å°å½ä»¤åå¥åå²è®°å½æ°ç»çæ«å°¾ã\n\n    // ...ååº\n    method pop():command is\n        // ä»åå²è®°å½ä¸­ååºæè¿çå½ä»¤ã\n\n\n// ç¼è¾å¨ç±»åå«å®éçææ¬ç¼è¾æä½ãå®ä¼æä»»æ¥æ¶èçè§è²ï¼æåææå½ä»¤é½ä¼\n// å°æ§è¡å·¥ä½å§æ´¾ç»ç¼è¾å¨çæ¹æ³ã\nclass editor is\n    field text: string\n\n    method getselection() is\n        // è¿åéä¸­çæå­ã\n\n    method deleteselection() is\n        // å é¤éä¸­çæå­ã\n\n    method replaceselection(text) is\n        // å¨å½åä½ç½®æå¥åªè´´æ¿ä¸­çåå®¹ã\n\n// åºç¨ç¨åºç±»ä¼è®¾ç½®å¯¹è±¡ä¹é´çå³ç³»ãå®ä¼æä»»åéèçè§è²ï¼å½éè¦å®ææäºå·¥\n// ä½æ¶ï¼å®ä¼åå»ºå¹¶æ§è¡ä¸ä¸ªå½ä»¤å¯¹è±¡ã\nclass application is\n    field clipboard: string\n    field editors: array of editors\n    field activeeditor: editor\n    field history: commandhistory\n\n    // å°å½ä»¤åæ´¾ç» ui å¯¹è±¡çä»£ç å¯è½ä¼æ¯è¿æ ·çã\n    method createui() is\n        // ...\n        copy = function() { executecommand(\n            new copycommand(this, activeeditor)) }\n        copybutton.setcommand(copy)\n        shortcuts.onkeypress("ctrl+c", copy)\n\n        cut = function() { executecommand(\n            new cutcommand(this, activeeditor)) }\n        cutbutton.setcommand(cut)\n        shortcuts.onkeypress("ctrl+x", cut)\n\n        paste = function() { executecommand(\n            new pastecommand(this, activeeditor)) }\n        pastebutton.setcommand(paste)\n        shortcuts.onkeypress("ctrl+v", paste)\n\n        undo = function() { executecommand(\n            new undocommand(this, activeeditor)) }\n        undobutton.setcommand(undo)\n        shortcuts.onkeypress("ctrl+z", undo)\n\n    // æ§è¡ä¸ä¸ªå½ä»¤å¹¶æ£æ¥å®æ¯å¦éè¦è¢«æ·»å å°åå²è®°å½ä¸­ã\n    method executecommand(command) is\n        if (command.execute)\n            history.push(command)\n\n    // ä»åå²è®°å½ä¸­ååºæè¿çå½ä»¤å¹¶è¿è¡å¶ undoï¼æ¤éï¼æ¹æ³ãè¯·æ³¨æï¼ä½ å¹¶\n    // ä¸ç¥æè¯¥å½ä»¤æå±çç±»ãä½æ¯æä»¬ä¸éè¦ç¥æï¼å ä¸ºå½ä»¤èªå·±ç¥éå¦ä½æ¤é\n    // å¶å¨ä½ã\n    method undo() is\n        command = history.pop()\n        if (command != null)\n            command.undo()\n\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * è´£ä»»é¾æ¨¡å¼ã å½ä»¤æ¨¡å¼ã ä¸­ä»èæ¨¡å¼åè§å¯èæ¨¡å¼ç¨äºå¤çè¯·æ±åéèåæ¥æ¶èä¹é´çä¸åè¿æ¥æ¹å¼ï¼\n   * è´£ä»»é¾æç§é¡ºåºå°è¯·æ±å¨æä¼ éç»ä¸ç³»åçæ½å¨æ¥æ¶èï¼ ç´è³å¶ä¸­ä¸åæ¥æ¶èå¯¹è¯·æ±è¿è¡å¤çã\n   * å½ä»¤å¨åéèåè¯·æ±èä¹é´å»ºç«ååè¿æ¥ã\n   * ä¸­ä»èæ¸é¤äºåéèåè¯·æ±èä¹é´çç´æ¥è¿æ¥ï¼ å¼ºå¶å®ä»¬éè¿ä¸ä¸ªä¸­ä»å¯¹è±¡è¿è¡é´æ¥æ²éã\n   * è§å¯èåè®¸æ¥æ¶èå¨æå°è®¢éæåæ¶æ¥æ¶è¯·æ±ã\n * è´£ä»»é¾çç®¡çèå¯ä½¿ç¨å½ä»¤æ¨¡å¼å®ç°ã å¨è¿ç§æåµä¸ï¼ ä½ å¯ä»¥å¯¹ç±è¯·æ±ä»£è¡¨çåä¸ä¸ªä¸ä¸æå¯¹è±¡æ§è¡è®¸å¤ä¸åçæä½ã è¿æå¦å¤ä¸ç§å®ç°æ¹å¼ï¼ é£å°±æ¯è¯·æ±èªèº«å°±æ¯ä¸ä¸ªå½ä»¤å¯¹è±¡ã å¨è¿ç§æåµä¸ï¼ ä½ å¯ä»¥å¯¹ç±ä¸ç³»åä¸åä¸ä¸æè¿æ¥èæçé¾æ§è¡ç¸åçæä½ã\n * ä½ å¯ä»¥åæ¶ä½¿ç¨å½ä»¤åå¤å¿å½æ¨¡å¼æ¥å®ç° âæ¤éâã å¨è¿ç§æåµä¸ï¼ å½ä»¤ç¨äºå¯¹ç®æ å¯¹è±¡æ§è¡åç§ä¸åçæä½ï¼ å¤å¿å½ç¨æ¥ä¿å­ä¸æ¡å½ä»¤æ§è¡åè¯¥å¯¹è±¡çç¶æã\n * å½ä»¤åç­ç¥æ¨¡å¼çä¸å»å¾åï¼ å ä¸ºä¸¤èé½è½éè¿æäºè¡ä¸ºæ¥åæ°åå¯¹è±¡ã ä½æ¯ï¼ å®ä»¬çæå¾æéå¸¸å¤§çä¸åã\n   * ä½ å¯ä»¥ä½¿ç¨å½ä»¤æ¥å°ä»»ä½æä½è½¬æ¢ä¸ºå¯¹è±¡ã æä½çåæ°å°æä¸ºå¯¹è±¡çæååéã ä½ å¯ä»¥éè¿è½¬æ¢æ¥å»¶è¿æä½çæ§è¡ã å°æä½æ¾å¥éåã ä¿å­åå²å½ä»¤æèåè¿ç¨æå¡åéå½ä»¤ç­ã\n   * å¦ä¸æ¹é¢ï¼ ç­ç¥éå¸¸å¯ç¨äºæè¿°å®ææä»¶äºçä¸åæ¹å¼ï¼ è®©ä½ è½å¤å¨åä¸ä¸ªä¸ä¸æç±»ä¸­åæ¢ç®æ³ã\n * ååæ¨¡å¼å¯ç¨äºä¿å­å½ä»¤çåå²è®°å½ã\n * ä½ å¯ä»¥å°è®¿é®èæ¨¡å¼è§ä¸ºå½ä»¤æ¨¡å¼çå å¼ºçæ¬ï¼ å¶å¯¹è±¡å¯å¯¹ä¸åç±»çå¤ç§å¯¹è±¡æ§è¡æä½ã\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼å½ä»¤æ¨¡å¼å¨ java ä»£ç ä¸­å¾å¸¸è§ã å¤§é¨åæåµä¸ï¼ å®è¢«ç¨äºä»£æ¿åå«è¡ä¸ºçåæ°å ui åç´ çåè°å½æ°ï¼ æ­¤å¤è¿è¢«ç¨äºå¯¹ä»»å¡è¿è¡æåºåè®°å½æä½åå²è®°å½ç­ã\n\nä»¥ä¸æ¯å¨æ ¸å¿ java ç¨åºåºä¸­çä¸äºç¤ºä¾ï¼\n\n * java.lang.runnable çææå®ç°\n * javax.swing.action çææå®ç°\n\nè¯å«æ¹æ³ï¼ å½ä»¤æ¨¡å¼å¯ä»¥éè¿æ½è±¡ææ¥å£ç±»å ï¼åéèï¼ ä¸­çè¡ä¸ºæ¹æ³æ¥è¯å«ï¼ è¯¥ç±»åè°ç¨å¦ä¸ä¸ªä¸åçæ½è±¡ææ¥å£ç±»å ï¼æ¥æ¶èï¼ å®ç°ä¸­çæ¹æ³ï¼ è¯¥å®ç°åæ¯å¨åå»ºæ¶ç±å½ä»¤æ¨¡å¼çå®ç°å°è£ã å½ä»¤ç±»éå¸¸ä»éäºä¸äºç¹æ®è¡ä¸ºã\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼ä¹è¿­ä»£å¨æ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼ä¹è¿­ä»£å¨æ¨¡å¼",date:"2015-01-19T17:20:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/09d5af/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/16.%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/16.è¿­ä»£å¨æ¨¡å¼.md",key:"v-637f7ff4",path:"/pages/09d5af/",headers:[{level:2,title:"æå¾",slug:"æå¾",normalizedTitle:"æå¾",charIndex:17},{level:2,title:"éç¨åºæ¯",slug:"éç¨åºæ¯",normalizedTitle:"éç¨åºæ¯",charIndex:95},{level:2,title:"ç»æ",slug:"ç»æ",normalizedTitle:"ç»æ",charIndex:115},{level:3,title:"ç»æè¯´æ",slug:"ç»æè¯´æ",normalizedTitle:"ç»æè¯´æ",charIndex:243},{level:3,title:"ç»æä»£ç èå¼",slug:"ç»æä»£ç èå¼",normalizedTitle:"ç»æä»£ç èå¼",charIndex:783},{level:2,title:"ä¼ªä»£ç ",slug:"ä¼ªä»£ç ",normalizedTitle:"ä¼ªä»£ç ",charIndex:2983},{level:2,title:"ä¸å¶ä»æ¨¡å¼çå³ç³»",slug:"ä¸å¶ä»æ¨¡å¼çå³ç³»",normalizedTitle:"ä¸å¶ä»æ¨¡å¼çå³ç³»",charIndex:5800},{level:2,title:"æ¡ä¾",slug:"æ¡ä¾",normalizedTitle:"æ¡ä¾",charIndex:5995},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:6242}],headersStr:"æå¾ éç¨åºæ¯ ç»æ ç»æè¯´æ ç»æä»£ç èå¼ ä¼ªä»£ç  ä¸å¶ä»æ¨¡å¼çå³ç³» æ¡ä¾ åèèµæ",content:'# è®¾è®¡æ¨¡å¼ä¹è¿­ä»£å¨æ¨¡å¼\n\n\n# æå¾\n\nè¿­ä»£å¨æ¨¡å¼ï¼Iteratorï¼ æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼ è®©ä½ è½å¨ä¸æ´é²éååºå±è¡¨ç°å½¢å¼ ï¼åè¡¨ã æ åæ ç­ï¼ çæåµä¸éåéåä¸­ææçåç´ ã\n\n\n# éç¨åºæ¯\n\n * å½éåèåä¸ºå¤æçæ°æ®ç»æï¼ ä¸ä½ å¸æå¯¹å®¢æ·ç«¯éèå¶å¤ææ§æ¶ ï¼åºäºä½¿ç¨ä¾¿å©æ§æå®å¨æ§çèèï¼ï¼ å¯ä»¥ä½¿ç¨è¿­ä»£å¨æ¨¡å¼ã\n * ä½¿ç¨è¯¥æ¨¡å¼å¯ä»¥åå°ç¨åºä¸­éå¤çéåä»£ç ã\n * å¦æä½ å¸æä»£ç è½å¤éåä¸åççè³æ¯æ æ³é¢ç¥çæ°æ®ç»æï¼ å¯ä»¥ä½¿ç¨è¿­ä»£å¨æ¨¡å¼ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. è¿­ä»£å¨ ï¼Iteratorï¼ æ¥å£å£°æäºéåéåæéçæä½ï¼ è·åä¸ä¸ä¸ªåç´ ã è·åå½åä½ç½®åéæ°å¼å§è¿­ä»£ç­ã\n 2. å·ä½è¿­ä»£å¨ ï¼Concrete Iteratorsï¼ å®ç°éåéåçä¸ç§ç¹å®ç®æ³ã è¿­ä»£å¨å¯¹è±¡å¿é¡»è·è¸ªèªèº«éåçè¿åº¦ã è¿ä½¿å¾å¤ä¸ªè¿­ä»£å¨å¯ä»¥ç¸äºç¬ç«å°éååä¸éåã\n 3. éå ï¼Collectionï¼ æ¥å£å£°æä¸ä¸ªæå¤ä¸ªæ¹æ³æ¥è·åä¸éåå¼å®¹çè¿­ä»£å¨ã è¯·æ³¨æï¼ è¿åæ¹æ³çç±»åå¿é¡»è¢«å£°æä¸ºè¿­ä»£å¨æ¥å£ï¼ å æ­¤å·ä½éåå¯ä»¥è¿ååç§ä¸åç§ç±»çè¿­ä»£å¨ã\n 4. å·ä½éå ï¼Concrete Collectionsï¼ ä¼å¨å®¢æ·ç«¯è¯·æ±è¿­ä»£å¨æ¶è¿åä¸ä¸ªç¹å®çå·ä½è¿­ä»£å¨ç±»å®ä½ã ä½ å¯è½ä¼ç¢ç£¨ï¼ å©ä¸çéåä»£ç å¨ä»ä¹å°æ¹å¢ï¼ ä¸ç¨æå¿ï¼ å®ä¹ä¼å¨åä¸ä¸ªç±»ä¸­ã åªæ¯è¿äºç»èå¯¹äºå®éæ¨¡å¼æ¥è¯´å¹¶ä¸éè¦ï¼ æä»¥æä»¬å°å¶çç¥äºèå·²ã\n 5. å®¢æ·ç«¯ ï¼Clientï¼ éè¿éååè¿­ä»£å¨çæ¥å£ä¸ä¸¤èè¿è¡äº¤äºã è¿æ ·ä¸æ¥å®¢æ·ç«¯æ éä¸å·ä½ç±»è¿è¡è¦åï¼ åè®¸åä¸å®¢æ·ç«¯ä»£ç ä½¿ç¨åç§ä¸åçéååè¿­ä»£å¨ã\n    * å®¢æ·ç«¯éå¸¸ä¸ä¼èªè¡åå»ºè¿­ä»£å¨ï¼ èæ¯ä¼ä»éåä¸­è·åã ä½å¨ç¹å®æåµä¸ï¼ å®¢æ·ç«¯å¯ä»¥ç´æ¥åå»ºä¸ä¸ªè¿­ä»£å¨ ï¼ä¾å¦å½å®¢æ·ç«¯éè¦èªå®ä¹ç¹æ®è¿­ä»£å¨æ¶ï¼ã\n\n\n# ç»æä»£ç èå¼\n\nIterator : å®ä¹è®¿é®åç´ çæ¥å£ã\n\ninterface Iterator {\n    public Object first();\n    public Object next();\n    public boolean isDone();\n    public Object currentItem();\n}\n\n\nConcreteIterator : å®ç° Iterator æ¥å£ãè®°å½å½åè®¿é®çåç´ å¨éåä¸­çä½ç½®ä¿¡æ¯ã\n\nclass ConcreteIterator implements Iterator {\n    private int current = 0;\n    private ConcreteAggregate aggregate;\n\n    public ConcreteIterator(ConcreteAggregate aggregate) {\n        this.aggregate = aggregate;\n    }\n\n    @Override\n    public Object first() {\n        return aggregate.get(0);\n    }\n\n    @Override\n    public Object next() {\n        current++;\n        if (current < aggregate.size()) {\n            return aggregate.get(current);\n        }\n        return null;\n    }\n\n    @Override\n    public boolean isDone() {\n        return (current >= aggregate.size()) ? true : false;\n    }\n\n    @Override\n    public Object currentItem() {\n        return aggregate.get(current);\n    }\n}\n\n\nAggregate : å®ä¹åå»º Iterator å¯¹è±¡çæ¥å£ã\n\ninterface Aggregate {\n    public Iterator CreateIterator();\n}\n\n\nConcreteAggregate : å®ç° Iterator æ¥å£ï¼è¿åä¸ä¸ªåéç ConcreteIterator å®ä¾ã\n\nclass ConcreteAggregate implements Aggregate {\n    private List<Object> items = new ArrayList<Object>();\n\n    @Override\n    public Iterator CreateIterator() {\n        return new ConcreteIterator(this);\n    }\n\n    public int size() {\n        return items.size();\n    }\n\n    public Object get(int index) {\n        return items.get(index);\n    }\n\n    public void set(int index, Object element) {\n        items.set(index, element);\n    }\n\n    public void add(Object element) {\n        items.add(element);\n    }\n}\n\n\nå®¢æ·ç«¯\n\npublic class IteratorPattern {\n    public static void main(String[] args) {\n        ConcreteAggregate aggregate = new ConcreteAggregate();\n        aggregate.add("å¼ ä¸");\n        aggregate.add("æå");\n        aggregate.add("çäº");\n        aggregate.add("èµµå­");\n\n        Iterator iter = new ConcreteIterator(aggregate);\n        Object item = iter.first();\n        System.out.println("ç¬¬ä¸ä¸ªäººæ¯ï¼" + item);\n        System.out.println("ææäººçååæ¯ï¼");\n        while (!iter.isDone()) {\n            System.out.println(iter.currentItem());\n            iter.next();\n        }\n    }\n}\n\n\nè¾åº\n\nç¬¬ä¸ä¸ªäººæ¯ï¼å¼ ä¸\nææäººçååæ¯ï¼\nå¼ ä¸\næå\nçäº\nèµµå­\n\n\n\n# ä¼ªä»£ç \n\nå¨æ¬ä¾ä¸­ï¼ è¿­ä»£å¨æ¨¡å¼ç¨äºéåä¸ä¸ªå°è£äºè®¿é®å¾®ä¿¡å¥½åå³ç³»åè½çç¹æ®éåã è¯¥éåæä¾ä½¿ç¨ä¸åæ¹å¼éåæ¡£æ¡èµæçå¤ä¸ªè¿­ä»£å¨ã\n\n\n\nâå¥½å ï¼friendsï¼â è¿­ä»£å¨å¯ç¨äºéåæå®æ¡£æ¡çå¥½åã âåäº ï¼colleaguesï¼â è¿­ä»£å¨ä¹æä¾åæ ·çåè½ï¼ ä½ä»åæ¬ä¸ç®æ ç¨æ·å¨åä¸å®¶å¬å¸å·¥ä½çå¥½åã è¿ä¸¤ä¸ªè¿­ä»£å¨é½å®ç°äºåä¸ä¸ªéç¨æ¥å£ï¼ å®¢æ·ç«¯è½å¨ä¸äºè§£è®¤è¯ååé REST è¯·æ±ç­å®ç°ç»èçæåµä¸è·åæ¡£æ¡ã\n\nå®¢æ·ç«¯ä»éè¿æ¥å£ä¸éååè¿­ä»£å¨äº¤äºï¼ ä¹å°±ä¸ä¼åå·ä½ç±»è¦åã å¦æä½ å³å®å°åºç¨è¿æ¥å°å¨æ°çç¤¾äº¤ç½ç»ï¼ åªéæä¾æ°çéååè¿­ä»£å¨ç±»å³å¯ï¼ æ éä¿®æ¹ç°æä»£ç ã\n\n// éåæ¥å£å¿é¡»å£°æä¸ä¸ªç¨äºçæè¿­ä»£å¨çå·¥åæ¹æ³ãå¦æç¨åºä¸­æä¸åç±»åçè¿­\n// ä»£å¨ï¼ä½ ä¹å¯ä»¥å£°æå¤ä¸ªæ¹æ³ã\ninterface SocialNetwork is\n    method createFriendsIterator(profileId):ProfileIterator\n    method createCoworkersIterator(profileId):ProfileIterator\n\n\n// æ¯ä¸ªå·ä½éåé½ä¸å¶è¿åçä¸ç»å·ä½è¿­ä»£å¨ç¸è¦åãä½å®¢æ·å¹¶ä¸æ¯è¿æ ·çï¼å ä¸º\n// è¿äºæ¹æ³çç­¾åå°ä¼è¿åè¿­ä»£å¨æ¥å£ã\nclass WeChat implements SocialNetwork is\n    // ...å¤§éçéåä»£ç åºè¯¥æ¾å¨è¿é...\n\n    // è¿­ä»£å¨åå»ºä»£ç ã\n    method createFriendsIterator(profileId) is\n        return new WeChatIterator(this, profileId, "friends")\n    method createCoworkersIterator(profileId) is\n        return new WeChatIterator(this, profileId, "coworkers")\n\n\n// ææè¿­ä»£å¨çéç¨æ¥å£ã\ninterface ProfileIterator is\n    method getNext():Profile\n    method hasMore():bool\n\n\n// å·ä½è¿­ä»£å¨ç±»ã\nclass WeChatIterator implements ProfileIterator is\n    // è¿­ä»£å¨éè¦ä¸ä¸ªæåå¶éåéåçå¼ç¨ã\n    private field weChat: WeChat\n    private field profileId, type: string\n\n    // è¿­ä»£å¨å¯¹è±¡ä¼ç¬ç«äºå¶ä»è¿­ä»£å¨æ¥å¯¹éåè¿è¡éåãå æ­¤å®å¿é¡»ä¿å­è¿­ä»£å¨\n    // çç¶æã\n    private field currentPosition\n    private field cache: array of Profile\n\n    constructor WeChatIterator(weChat, profileId, type) is\n        this.weChat = weChat\n        this.profileId = profileId\n        this.type = type\n\n    private method lazyInit() is\n        if (cache == null)\n            cache = weChat.socialGraphRequest(profileId, type)\n\n    // æ¯ä¸ªå·ä½è¿­ä»£å¨ç±»é½ä¼èªè¡å®ç°éç¨è¿­ä»£å¨æ¥å£ã\n    method getNext() is\n        if (hasMore())\n            currentPosition++\n            return cache[currentPosition]\n\n    method hasMore() is\n        lazyInit()\n        return currentPosition < cache.length\n\n\n// è¿éè¿æä¸ä¸ªæç¨çç»æï¼ä½ å¯å°è¿­ä»£å¨ä¼ éç»å®¢æ·ç«¯ç±»ï¼æ éè®©å¶æ¥æè®¿é®æ´\n// ä¸ªéåçæéãè¿æ ·ä¸æ¥ï¼ä½ å°±æ éå°éåæ´é²ç»å®¢æ·ç«¯äºã\n//\n// è¿æå¦ä¸ä¸ªå¥½å¤ï¼ä½ å¯å¨è¿è¡æ¶å°ä¸åçè¿­ä»£å¨ä¼ éç»å®¢æ·ç«¯ï¼ä»èæ¹åå®¢æ·ç«¯\n// ä¸éåäºå¨çæ¹å¼ãè¿ä¸æ¹æ³å¯è¡çåå æ¯å®¢æ·ç«¯ä»£ç å¹¶æ²¡æåå·ä½è¿­ä»£å¨ç±»ç¸\n// è¦åã\nclass SocialSpammer is\n    method send(iterator: ProfileIterator, message: string) is\n        while (iterator.hasMore())\n            profile = iterator.getNext()\n            System.sendEmail(profile.getEmail(), message)\n\n\n// åºç¨ç¨åºï¼Applicationï¼ç±»å¯å¯¹éååè¿­ä»£å¨è¿è¡éç½®ï¼ç¶åå°å¶ä¼ éç»å®¢æ·\n// ç«¯ä»£ç ã\nclass Application is\n    field network: SocialNetwork\n    field spammer: SocialSpammer\n\n    method config() is\n        if working with WeChat\n            this.network = new WeChat()\n        if working with LinkedIn\n            this.network = new LinkedIn()\n        this.spammer = new SocialSpammer()\n\n    method sendSpamToFriends(profile) is\n        iterator = network.createFriendsIterator(profile.getId())\n        spammer.send(iterator, "éå¸¸éè¦çæ¶æ¯")\n\n    method sendSpamToCoworkers(profile) is\n        iterator = network.createCoworkersIterator(profile.getId())\n        spammer.send(iterator, "éå¸¸éè¦çæ¶æ¯")\n\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * ä½ å¯ä»¥ä½¿ç¨è¿­ä»£å¨æ¨¡å¼æ¥éåç»åæ¨¡å¼æ ã\n * ä½ å¯ä»¥åæ¶ä½¿ç¨å·¥åæ¹æ³æ¨¡å¼åè¿­ä»£å¨æ¥è®©å­ç±»éåè¿åä¸åç±»åçè¿­ä»£å¨ï¼ å¹¶ä½¿å¾è¿­ä»£å¨ä¸éåç¸å¹éã\n * ä½ å¯ä»¥åæ¶ä½¿ç¨å¤å¿å½æ¨¡å¼åè¿­ä»£å¨æ¥è·åå½åè¿­ä»£å¨çç¶æï¼ å¹¶ä¸å¨éè¦çæ¶åè¿è¡åæ»ã\n * å¯ä»¥åæ¶ä½¿ç¨è®¿é®èæ¨¡å¼åè¿­ä»£å¨æ¥éåå¤ææ°æ®ç»æï¼ å¹¶å¯¹å¶ä¸­çåç´ æ§è¡æéæä½ï¼ å³ä½¿è¿äºåç´ æå±çç±»å®å¨ä¸åã\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ è¯¥æ¨¡å¼å¨ Java ä»£ç ä¸­å¾å¸¸è§ã è®¸å¤æ¡æ¶åç¨åºåºé½ä¼ä½¿ç¨å®æ¥æä¾éåå¶éåçæ åæ¹å¼ã\n\nä¸é¢æ¯è¯¥æ¨¡å¼å¨æ ¸å¿ Java ç¨åºåºä¸­çä¸äºç¤ºä¾ï¼\n\n * java.util.Iteratorçææå®ç° ï¼è¿æ java.util.Scannerï¼ã\n * java.util.Enumerationçææå®ç°\n\nè¯å«æ¹æ³ï¼ è¿­ä»£å¨å¯ä»¥éè¿å¯¼èªæ¹æ³ ï¼ä¾å¦ nextå previousç­ï¼ æ¥è½»æ¾è¯å«ã ä½¿ç¨è¿­ä»£å¨çå®¢æ·ç«¯ä»£ç å¯è½æ²¡æå¶æéåçéåçç´æ¥è®¿é®æéã\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',normalizedContent:'# è®¾è®¡æ¨¡å¼ä¹è¿­ä»£å¨æ¨¡å¼\n\n\n# æå¾\n\nè¿­ä»£å¨æ¨¡å¼ï¼iteratorï¼ æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼ è®©ä½ è½å¨ä¸æ´é²éååºå±è¡¨ç°å½¢å¼ ï¼åè¡¨ã æ åæ ç­ï¼ çæåµä¸éåéåä¸­ææçåç´ ã\n\n\n# éç¨åºæ¯\n\n * å½éåèåä¸ºå¤æçæ°æ®ç»æï¼ ä¸ä½ å¸æå¯¹å®¢æ·ç«¯éèå¶å¤ææ§æ¶ ï¼åºäºä½¿ç¨ä¾¿å©æ§æå®å¨æ§çèèï¼ï¼ å¯ä»¥ä½¿ç¨è¿­ä»£å¨æ¨¡å¼ã\n * ä½¿ç¨è¯¥æ¨¡å¼å¯ä»¥åå°ç¨åºä¸­éå¤çéåä»£ç ã\n * å¦æä½ å¸æä»£ç è½å¤éåä¸åççè³æ¯æ æ³é¢ç¥çæ°æ®ç»æï¼ å¯ä»¥ä½¿ç¨è¿­ä»£å¨æ¨¡å¼ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. è¿­ä»£å¨ ï¼iteratorï¼ æ¥å£å£°æäºéåéåæéçæä½ï¼ è·åä¸ä¸ä¸ªåç´ ã è·åå½åä½ç½®åéæ°å¼å§è¿­ä»£ç­ã\n 2. å·ä½è¿­ä»£å¨ ï¼concrete iteratorsï¼ å®ç°éåéåçä¸ç§ç¹å®ç®æ³ã è¿­ä»£å¨å¯¹è±¡å¿é¡»è·è¸ªèªèº«éåçè¿åº¦ã è¿ä½¿å¾å¤ä¸ªè¿­ä»£å¨å¯ä»¥ç¸äºç¬ç«å°éååä¸éåã\n 3. éå ï¼collectionï¼ æ¥å£å£°æä¸ä¸ªæå¤ä¸ªæ¹æ³æ¥è·åä¸éåå¼å®¹çè¿­ä»£å¨ã è¯·æ³¨æï¼ è¿åæ¹æ³çç±»åå¿é¡»è¢«å£°æä¸ºè¿­ä»£å¨æ¥å£ï¼ å æ­¤å·ä½éåå¯ä»¥è¿ååç§ä¸åç§ç±»çè¿­ä»£å¨ã\n 4. å·ä½éå ï¼concrete collectionsï¼ ä¼å¨å®¢æ·ç«¯è¯·æ±è¿­ä»£å¨æ¶è¿åä¸ä¸ªç¹å®çå·ä½è¿­ä»£å¨ç±»å®ä½ã ä½ å¯è½ä¼ç¢ç£¨ï¼ å©ä¸çéåä»£ç å¨ä»ä¹å°æ¹å¢ï¼ ä¸ç¨æå¿ï¼ å®ä¹ä¼å¨åä¸ä¸ªç±»ä¸­ã åªæ¯è¿äºç»èå¯¹äºå®éæ¨¡å¼æ¥è¯´å¹¶ä¸éè¦ï¼ æä»¥æä»¬å°å¶çç¥äºèå·²ã\n 5. å®¢æ·ç«¯ ï¼clientï¼ éè¿éååè¿­ä»£å¨çæ¥å£ä¸ä¸¤èè¿è¡äº¤äºã è¿æ ·ä¸æ¥å®¢æ·ç«¯æ éä¸å·ä½ç±»è¿è¡è¦åï¼ åè®¸åä¸å®¢æ·ç«¯ä»£ç ä½¿ç¨åç§ä¸åçéååè¿­ä»£å¨ã\n    * å®¢æ·ç«¯éå¸¸ä¸ä¼èªè¡åå»ºè¿­ä»£å¨ï¼ èæ¯ä¼ä»éåä¸­è·åã ä½å¨ç¹å®æåµä¸ï¼ å®¢æ·ç«¯å¯ä»¥ç´æ¥åå»ºä¸ä¸ªè¿­ä»£å¨ ï¼ä¾å¦å½å®¢æ·ç«¯éè¦èªå®ä¹ç¹æ®è¿­ä»£å¨æ¶ï¼ã\n\n\n# ç»æä»£ç èå¼\n\niterator : å®ä¹è®¿é®åç´ çæ¥å£ã\n\ninterface iterator {\n    public object first();\n    public object next();\n    public boolean isdone();\n    public object currentitem();\n}\n\n\nconcreteiterator : å®ç° iterator æ¥å£ãè®°å½å½åè®¿é®çåç´ å¨éåä¸­çä½ç½®ä¿¡æ¯ã\n\nclass concreteiterator implements iterator {\n    private int current = 0;\n    private concreteaggregate aggregate;\n\n    public concreteiterator(concreteaggregate aggregate) {\n        this.aggregate = aggregate;\n    }\n\n    @override\n    public object first() {\n        return aggregate.get(0);\n    }\n\n    @override\n    public object next() {\n        current++;\n        if (current < aggregate.size()) {\n            return aggregate.get(current);\n        }\n        return null;\n    }\n\n    @override\n    public boolean isdone() {\n        return (current >= aggregate.size()) ? true : false;\n    }\n\n    @override\n    public object currentitem() {\n        return aggregate.get(current);\n    }\n}\n\n\naggregate : å®ä¹åå»º iterator å¯¹è±¡çæ¥å£ã\n\ninterface aggregate {\n    public iterator createiterator();\n}\n\n\nconcreteaggregate : å®ç° iterator æ¥å£ï¼è¿åä¸ä¸ªåéç concreteiterator å®ä¾ã\n\nclass concreteaggregate implements aggregate {\n    private list<object> items = new arraylist<object>();\n\n    @override\n    public iterator createiterator() {\n        return new concreteiterator(this);\n    }\n\n    public int size() {\n        return items.size();\n    }\n\n    public object get(int index) {\n        return items.get(index);\n    }\n\n    public void set(int index, object element) {\n        items.set(index, element);\n    }\n\n    public void add(object element) {\n        items.add(element);\n    }\n}\n\n\nå®¢æ·ç«¯\n\npublic class iteratorpattern {\n    public static void main(string[] args) {\n        concreteaggregate aggregate = new concreteaggregate();\n        aggregate.add("å¼ ä¸");\n        aggregate.add("æå");\n        aggregate.add("çäº");\n        aggregate.add("èµµå­");\n\n        iterator iter = new concreteiterator(aggregate);\n        object item = iter.first();\n        system.out.println("ç¬¬ä¸ä¸ªäººæ¯ï¼" + item);\n        system.out.println("ææäººçååæ¯ï¼");\n        while (!iter.isdone()) {\n            system.out.println(iter.currentitem());\n            iter.next();\n        }\n    }\n}\n\n\nè¾åº\n\nç¬¬ä¸ä¸ªäººæ¯ï¼å¼ ä¸\nææäººçååæ¯ï¼\nå¼ ä¸\næå\nçäº\nèµµå­\n\n\n\n# ä¼ªä»£ç \n\nå¨æ¬ä¾ä¸­ï¼ è¿­ä»£å¨æ¨¡å¼ç¨äºéåä¸ä¸ªå°è£äºè®¿é®å¾®ä¿¡å¥½åå³ç³»åè½çç¹æ®éåã è¯¥éåæä¾ä½¿ç¨ä¸åæ¹å¼éåæ¡£æ¡èµæçå¤ä¸ªè¿­ä»£å¨ã\n\n\n\nâå¥½å ï¼friendsï¼â è¿­ä»£å¨å¯ç¨äºéåæå®æ¡£æ¡çå¥½åã âåäº ï¼colleaguesï¼â è¿­ä»£å¨ä¹æä¾åæ ·çåè½ï¼ ä½ä»åæ¬ä¸ç®æ ç¨æ·å¨åä¸å®¶å¬å¸å·¥ä½çå¥½åã è¿ä¸¤ä¸ªè¿­ä»£å¨é½å®ç°äºåä¸ä¸ªéç¨æ¥å£ï¼ å®¢æ·ç«¯è½å¨ä¸äºè§£è®¤è¯ååé rest è¯·æ±ç­å®ç°ç»èçæåµä¸è·åæ¡£æ¡ã\n\nå®¢æ·ç«¯ä»éè¿æ¥å£ä¸éååè¿­ä»£å¨äº¤äºï¼ ä¹å°±ä¸ä¼åå·ä½ç±»è¦åã å¦æä½ å³å®å°åºç¨è¿æ¥å°å¨æ°çç¤¾äº¤ç½ç»ï¼ åªéæä¾æ°çéååè¿­ä»£å¨ç±»å³å¯ï¼ æ éä¿®æ¹ç°æä»£ç ã\n\n// éåæ¥å£å¿é¡»å£°æä¸ä¸ªç¨äºçæè¿­ä»£å¨çå·¥åæ¹æ³ãå¦æç¨åºä¸­æä¸åç±»åçè¿­\n// ä»£å¨ï¼ä½ ä¹å¯ä»¥å£°æå¤ä¸ªæ¹æ³ã\ninterface socialnetwork is\n    method createfriendsiterator(profileid):profileiterator\n    method createcoworkersiterator(profileid):profileiterator\n\n\n// æ¯ä¸ªå·ä½éåé½ä¸å¶è¿åçä¸ç»å·ä½è¿­ä»£å¨ç¸è¦åãä½å®¢æ·å¹¶ä¸æ¯è¿æ ·çï¼å ä¸º\n// è¿äºæ¹æ³çç­¾åå°ä¼è¿åè¿­ä»£å¨æ¥å£ã\nclass wechat implements socialnetwork is\n    // ...å¤§éçéåä»£ç åºè¯¥æ¾å¨è¿é...\n\n    // è¿­ä»£å¨åå»ºä»£ç ã\n    method createfriendsiterator(profileid) is\n        return new wechatiterator(this, profileid, "friends")\n    method createcoworkersiterator(profileid) is\n        return new wechatiterator(this, profileid, "coworkers")\n\n\n// ææè¿­ä»£å¨çéç¨æ¥å£ã\ninterface profileiterator is\n    method getnext():profile\n    method hasmore():bool\n\n\n// å·ä½è¿­ä»£å¨ç±»ã\nclass wechatiterator implements profileiterator is\n    // è¿­ä»£å¨éè¦ä¸ä¸ªæåå¶éåéåçå¼ç¨ã\n    private field wechat: wechat\n    private field profileid, type: string\n\n    // è¿­ä»£å¨å¯¹è±¡ä¼ç¬ç«äºå¶ä»è¿­ä»£å¨æ¥å¯¹éåè¿è¡éåãå æ­¤å®å¿é¡»ä¿å­è¿­ä»£å¨\n    // çç¶æã\n    private field currentposition\n    private field cache: array of profile\n\n    constructor wechatiterator(wechat, profileid, type) is\n        this.wechat = wechat\n        this.profileid = profileid\n        this.type = type\n\n    private method lazyinit() is\n        if (cache == null)\n            cache = wechat.socialgraphrequest(profileid, type)\n\n    // æ¯ä¸ªå·ä½è¿­ä»£å¨ç±»é½ä¼èªè¡å®ç°éç¨è¿­ä»£å¨æ¥å£ã\n    method getnext() is\n        if (hasmore())\n            currentposition++\n            return cache[currentposition]\n\n    method hasmore() is\n        lazyinit()\n        return currentposition < cache.length\n\n\n// è¿éè¿æä¸ä¸ªæç¨çç»æï¼ä½ å¯å°è¿­ä»£å¨ä¼ éç»å®¢æ·ç«¯ç±»ï¼æ éè®©å¶æ¥æè®¿é®æ´\n// ä¸ªéåçæéãè¿æ ·ä¸æ¥ï¼ä½ å°±æ éå°éåæ´é²ç»å®¢æ·ç«¯äºã\n//\n// è¿æå¦ä¸ä¸ªå¥½å¤ï¼ä½ å¯å¨è¿è¡æ¶å°ä¸åçè¿­ä»£å¨ä¼ éç»å®¢æ·ç«¯ï¼ä»èæ¹åå®¢æ·ç«¯\n// ä¸éåäºå¨çæ¹å¼ãè¿ä¸æ¹æ³å¯è¡çåå æ¯å®¢æ·ç«¯ä»£ç å¹¶æ²¡æåå·ä½è¿­ä»£å¨ç±»ç¸\n// è¦åã\nclass socialspammer is\n    method send(iterator: profileiterator, message: string) is\n        while (iterator.hasmore())\n            profile = iterator.getnext()\n            system.sendemail(profile.getemail(), message)\n\n\n// åºç¨ç¨åºï¼applicationï¼ç±»å¯å¯¹éååè¿­ä»£å¨è¿è¡éç½®ï¼ç¶åå°å¶ä¼ éç»å®¢æ·\n// ç«¯ä»£ç ã\nclass application is\n    field network: socialnetwork\n    field spammer: socialspammer\n\n    method config() is\n        if working with wechat\n            this.network = new wechat()\n        if working with linkedin\n            this.network = new linkedin()\n        this.spammer = new socialspammer()\n\n    method sendspamtofriends(profile) is\n        iterator = network.createfriendsiterator(profile.getid())\n        spammer.send(iterator, "éå¸¸éè¦çæ¶æ¯")\n\n    method sendspamtocoworkers(profile) is\n        iterator = network.createcoworkersiterator(profile.getid())\n        spammer.send(iterator, "éå¸¸éè¦çæ¶æ¯")\n\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * ä½ å¯ä»¥ä½¿ç¨è¿­ä»£å¨æ¨¡å¼æ¥éåç»åæ¨¡å¼æ ã\n * ä½ å¯ä»¥åæ¶ä½¿ç¨å·¥åæ¹æ³æ¨¡å¼åè¿­ä»£å¨æ¥è®©å­ç±»éåè¿åä¸åç±»åçè¿­ä»£å¨ï¼ å¹¶ä½¿å¾è¿­ä»£å¨ä¸éåç¸å¹éã\n * ä½ å¯ä»¥åæ¶ä½¿ç¨å¤å¿å½æ¨¡å¼åè¿­ä»£å¨æ¥è·åå½åè¿­ä»£å¨çç¶æï¼ å¹¶ä¸å¨éè¦çæ¶åè¿è¡åæ»ã\n * å¯ä»¥åæ¶ä½¿ç¨è®¿é®èæ¨¡å¼åè¿­ä»£å¨æ¥éåå¤ææ°æ®ç»æï¼ å¹¶å¯¹å¶ä¸­çåç´ æ§è¡æéæä½ï¼ å³ä½¿è¿äºåç´ æå±çç±»å®å¨ä¸åã\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ è¯¥æ¨¡å¼å¨ java ä»£ç ä¸­å¾å¸¸è§ã è®¸å¤æ¡æ¶åç¨åºåºé½ä¼ä½¿ç¨å®æ¥æä¾éåå¶éåçæ åæ¹å¼ã\n\nä¸é¢æ¯è¯¥æ¨¡å¼å¨æ ¸å¿ java ç¨åºåºä¸­çä¸äºç¤ºä¾ï¼\n\n * java.util.iteratorçææå®ç° ï¼è¿æ java.util.scannerï¼ã\n * java.util.enumerationçææå®ç°\n\nè¯å«æ¹æ³ï¼ è¿­ä»£å¨å¯ä»¥éè¿å¯¼èªæ¹æ³ ï¼ä¾å¦ nextå previousç­ï¼ æ¥è½»æ¾è¯å«ã ä½¿ç¨è¿­ä»£å¨çå®¢æ·ç«¯ä»£ç å¯è½æ²¡æå¶æéåçéåçç´æ¥è®¿é®æéã\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼ä¹è§£éå¨æ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼ä¹è§£éå¨æ¨¡å¼",date:"2015-01-20T18:44:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/48e5aa/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/18.%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/18.è§£éå¨æ¨¡å¼.md",key:"v-cc527b5a",path:"/pages/48e5aa/",headers:[{level:2,title:"ç®ä»",slug:"ç®ä»",normalizedTitle:"ç®ä»",charIndex:17},{level:2,title:"å®ä¾",slug:"å®ä¾",normalizedTitle:"å®ä¾",charIndex:1839},{level:2,title:"åºæ¯",slug:"åºæ¯",normalizedTitle:"åºæ¯",charIndex:1846},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:1853}],headersStr:"ç®ä» å®ä¾ åºæ¯ åèèµæ",content:'# è®¾è®¡æ¨¡å¼ä¹è§£éå¨æ¨¡å¼\n\n\n# ç®ä»\n\nè§£éå¨æ¨¡å¼ (Interpreter) å®ä¹ä¸ä¸ªè¯­è¨ï¼å®ä¹å®çææ³çä¸ç§è¡¨ç¤ºãå¹¶å®ä¹ä¸ä¸ªè§£éå¨ï¼è¿ä¸ªè§£éå¨ä½¿ç¨è¯¥è¡¨ç¤ºæ¥è§£éè¯­è¨ä¸­çå¥å­ã\n\nè§£éå¨æ¨¡å¼æ¯ä¸ç§è¡ä¸ºåæ¨¡å¼ã\n\n\n\nContext : åå«è§£éå¨ä¹å¤çä¸äºå¨å±ä¿¡æ¯ã\n\n\nclass Context {\n    private String input;\n    private String output;\n\n    public void setInput(String input) {\n        this.input = input;\n    }\n\n    public String getInput() {\n        return this.input;\n    }\n\n    public void setOutput(String output) {\n        this.output = output;\n    }\n\n    public String getOutput() {\n        return this.output;\n    }\n}\n\n\nAbstractExpression : å£°æä¸ä¸ªæ½è±¡çè§£éæä½ï¼è¿ä¸ªæ¥å£ä¸ºæ½è±¡è¯­æ³æ ä¸­ææçèç¹æå±äº«ã\n\nabstract class AbstractExpression {\n    public abstract void Interpret(Context context);\n}\n\n\nTerminalExpression : å®ç°ä¸ææ³ä¸­çç»ç»ç¬¦ç¸å³èçè§£éæä½ãå®ç°æ½è±¡è¡¨è¾¾å¼ä¸­æè¦æ±çæ¥å£ï¼ä¸»è¦æ¯ä¸ä¸ª Interprete()æ¹æ³ã\n\nææ³ä¸­çæ¯ä¸ä¸ªç»ç»ç¬¦é½æä¸ä¸ªå·ä½ç»ç»è¡¨è¾¾å¼ä¸ä¹å¯¹åºã\n\nclass TerminalExpression extends AbstractExpression {\n    @Override\n    public void Interpret(Context context) {\n        context.setOutput("ç»ç«¯" + context.getInput());\n        System.out.println(context.getInput() + "ç»è¿ç»ç«¯è§£éå¨è§£éä¸ºï¼" + context.getOutput());\n    }\n}\n\n\nNonterminalExpression : å®ç°ä¸ææ³ä¸­çéç»ç»ç¬¦ç¸å³èçè§£éæä½ãå¯¹ææ³ä¸­çæ¯ä¸æ¡è§å R1ï¼R2......Rn é½éè¦ä¸ä¸ªå·ä½çéç»ç»ç¬¦è¡¨è¾¾å¼ç±»ãéè¿å®ç°æ½è±¡è¡¨è¾¾å¼ç Interpret æ¹æ³å®ç°è§£éæä½ã\n\nclass NonterminalExpression extends AbstractExpression {\n    @Override\n    public void Interpret(Context context) {\n        context.setOutput("éç»ç«¯" + context.getInput());\n        System.out.println(context.getInput() + "ç»è¿éç»ç«¯è§£éå¨è§£éä¸ºï¼" + context.getOutput());\n    }\n}\n\n\nå®¢æ·ç«¯\n\npublic class InterpreterPattern {\n    public static void main(String[] args) {\n        Context context = new Context();\n        context.setInput("ABC");\n\n        AbstractExpression expression1 = new TerminalExpression();\n        expression1.Interpret(context);\n\n        AbstractExpression expression2 = new NonterminalExpression();\n        expression2.Interpret(context);\n    }\n}\n\n\nè¾åº\n\nABCç»è¿ç»ç«¯è§£éå¨è§£éä¸ºï¼ç»ç«¯ABC\nABCç»è¿éç»ç«¯è§£éå¨è§£éä¸ºï¼éç»ç«¯ABC\n\n\n\n# å®ä¾\n\n\n# åºæ¯\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã',normalizedContent:'# è®¾è®¡æ¨¡å¼ä¹è§£éå¨æ¨¡å¼\n\n\n# ç®ä»\n\nè§£éå¨æ¨¡å¼ (interpreter) å®ä¹ä¸ä¸ªè¯­è¨ï¼å®ä¹å®çææ³çä¸ç§è¡¨ç¤ºãå¹¶å®ä¹ä¸ä¸ªè§£éå¨ï¼è¿ä¸ªè§£éå¨ä½¿ç¨è¯¥è¡¨ç¤ºæ¥è§£éè¯­è¨ä¸­çå¥å­ã\n\nè§£éå¨æ¨¡å¼æ¯ä¸ç§è¡ä¸ºåæ¨¡å¼ã\n\n\n\ncontext : åå«è§£éå¨ä¹å¤çä¸äºå¨å±ä¿¡æ¯ã\n\n\nclass context {\n    private string input;\n    private string output;\n\n    public void setinput(string input) {\n        this.input = input;\n    }\n\n    public string getinput() {\n        return this.input;\n    }\n\n    public void setoutput(string output) {\n        this.output = output;\n    }\n\n    public string getoutput() {\n        return this.output;\n    }\n}\n\n\nabstractexpression : å£°æä¸ä¸ªæ½è±¡çè§£éæä½ï¼è¿ä¸ªæ¥å£ä¸ºæ½è±¡è¯­æ³æ ä¸­ææçèç¹æå±äº«ã\n\nabstract class abstractexpression {\n    public abstract void interpret(context context);\n}\n\n\nterminalexpression : å®ç°ä¸ææ³ä¸­çç»ç»ç¬¦ç¸å³èçè§£éæä½ãå®ç°æ½è±¡è¡¨è¾¾å¼ä¸­æè¦æ±çæ¥å£ï¼ä¸»è¦æ¯ä¸ä¸ª interprete()æ¹æ³ã\n\nææ³ä¸­çæ¯ä¸ä¸ªç»ç»ç¬¦é½æä¸ä¸ªå·ä½ç»ç»è¡¨è¾¾å¼ä¸ä¹å¯¹åºã\n\nclass terminalexpression extends abstractexpression {\n    @override\n    public void interpret(context context) {\n        context.setoutput("ç»ç«¯" + context.getinput());\n        system.out.println(context.getinput() + "ç»è¿ç»ç«¯è§£éå¨è§£éä¸ºï¼" + context.getoutput());\n    }\n}\n\n\nnonterminalexpression : å®ç°ä¸ææ³ä¸­çéç»ç»ç¬¦ç¸å³èçè§£éæä½ãå¯¹ææ³ä¸­çæ¯ä¸æ¡è§å r1ï¼r2......rn é½éè¦ä¸ä¸ªå·ä½çéç»ç»ç¬¦è¡¨è¾¾å¼ç±»ãéè¿å®ç°æ½è±¡è¡¨è¾¾å¼ç interpret æ¹æ³å®ç°è§£éæä½ã\n\nclass nonterminalexpression extends abstractexpression {\n    @override\n    public void interpret(context context) {\n        context.setoutput("éç»ç«¯" + context.getinput());\n        system.out.println(context.getinput() + "ç»è¿éç»ç«¯è§£éå¨è§£éä¸ºï¼" + context.getoutput());\n    }\n}\n\n\nå®¢æ·ç«¯\n\npublic class interpreterpattern {\n    public static void main(string[] args) {\n        context context = new context();\n        context.setinput("abc");\n\n        abstractexpression expression1 = new terminalexpression();\n        expression1.interpret(context);\n\n        abstractexpression expression2 = new nonterminalexpression();\n        expression2.interpret(context);\n    }\n}\n\n\nè¾åº\n\nabcç»è¿ç»ç«¯è§£éå¨è§£éä¸ºï¼ç»ç«¯abc\nabcç»è¿éç»ç«¯è§£éå¨è§£éä¸ºï¼éç»ç«¯abc\n\n\n\n# å®ä¾\n\n\n# åºæ¯\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼ä¹è§å¯èæ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼ä¹è§å¯èæ¨¡å¼",date:"2015-01-20T16:09:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/056e1d/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/17.%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/17.è§å¯èæ¨¡å¼.md",key:"v-07d9254f",path:"/pages/056e1d/",headers:[{level:2,title:"æå¾",slug:"æå¾",normalizedTitle:"æå¾",charIndex:17},{level:2,title:"éç¨åºæ¯",slug:"éç¨åºæ¯",normalizedTitle:"éç¨åºæ¯",charIndex:93},{level:2,title:"ç»æ",slug:"ç»æ",normalizedTitle:"ç»æ",charIndex:206},{level:3,title:"ç»æè¯´æ",slug:"ç»æè¯´æ",normalizedTitle:"ç»æè¯´æ",charIndex:215},{level:3,title:"ç»æä»£ç èå¼",slug:"ç»æä»£ç èå¼",normalizedTitle:"ç»æä»£ç èå¼",charIndex:702},{level:2,title:"ä¼ªä»£ç ",slug:"ä¼ªä»£ç ",normalizedTitle:"ä¼ªä»£ç ",charIndex:3324},{level:2,title:"ä¸å¶ä»æ¨¡å¼çå³ç³»",slug:"ä¸å¶ä»æ¨¡å¼çå³ç³»",normalizedTitle:"ä¸å¶ä»æ¨¡å¼çå³ç³»",charIndex:5628},{level:2,title:"æ¡ä¾",slug:"æ¡ä¾",normalizedTitle:"æ¡ä¾",charIndex:6276},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:6682}],headersStr:"æå¾ éç¨åºæ¯ ç»æ ç»æè¯´æ ç»æä»£ç èå¼ ä¼ªä»£ç  ä¸å¶ä»æ¨¡å¼çå³ç³» æ¡ä¾ åèèµæ",content:'# è®¾è®¡æ¨¡å¼ä¹è§å¯èæ¨¡å¼\n\n\n# æå¾\n\nè§å¯èæ¨¡å¼ï¼Observerï¼æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼ åè®¸ä½ å®ä¹ä¸ç§è®¢éæºå¶ï¼ å¯å¨å¯¹è±¡äºä»¶åçæ¶éç¥å¤ä¸ª âè§å¯â è¯¥å¯¹è±¡çå¶ä»å¯¹è±¡ã\n\n\n# éç¨åºæ¯\n\n * å½ä¸ä¸ªå¯¹è±¡ç¶æçæ¹åéè¦æ¹åå¶ä»å¯¹è±¡ï¼ æå®éå¯¹è±¡æ¯äºåæªç¥çæå¨æååçæ¶ï¼ å¯ä½¿ç¨è§å¯èæ¨¡å¼ã\n * å½åºç¨ä¸­çä¸äºå¯¹è±¡å¿é¡»è§å¯å¶ä»å¯¹è±¡æ¶ï¼ å¯ä½¿ç¨è¯¥æ¨¡å¼ã ä½ä»è½å¨æéæ¶é´åæç¹å®æåµä¸ä½¿ç¨ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. åå¸è ï¼Publisherï¼ ä¼åå¶ä»å¯¹è±¡åéå¼å¾å³æ³¨çäºä»¶ã äºä»¶ä¼å¨åå¸èèªèº«ç¶ææ¹åææ§è¡ç¹å®è¡ä¸ºååçã åå¸èä¸­åå«ä¸ä¸ªåè®¸æ°è®¢éèå å¥åå½åè®¢éèç¦»å¼åè¡¨çè®¢éææ¶ã\n 2. å½æ°äºä»¶åçæ¶ï¼ åéèä¼éåè®¢éåè¡¨å¹¶è°ç¨æ¯ä¸ªè®¢éèå¯¹è±¡çéç¥æ¹æ³ã è¯¥æ¹æ³æ¯å¨è®¢éèæ¥å£ä¸­å£°æçã\n 3. è®¢éè ï¼Subscriberï¼ æ¥å£å£°æäºéç¥æ¥å£ã å¨ç»å¤§å¤æ°æåµä¸ï¼ è¯¥æ¥å£ä»åå«ä¸ä¸ª updateæ´æ°æ¹æ³ã è¯¥æ¹æ³å¯ä»¥æ¥æå¤ä¸ªåæ°ï¼ ä½¿åå¸èè½å¨æ´æ°æ¶ä¼ éäºä»¶çè¯¦ç»ä¿¡æ¯ã\n 4. å·ä½è®¢éè ï¼Concrete Subscribersï¼ å¯ä»¥æ§è¡ä¸äºæä½æ¥ååºåå¸èçéç¥ã ææå·ä½è®¢éèç±»é½å®ç°äºåæ ·çæ¥å£ï¼ å æ­¤åå¸èä¸éè¦ä¸å·ä½ç±»ç¸è¦åã\n 5. è®¢éèéå¸¸éè¦ä¸äºä¸ä¸æä¿¡æ¯æ¥æ­£ç¡®å°å¤çæ´æ°ã å æ­¤ï¼ åå¸èéå¸¸ä¼å°ä¸äºä¸ä¸ææ°æ®ä½ä¸ºéç¥æ¹æ³çåæ°è¿è¡ä¼ éã åå¸èä¹å¯å°èªèº«ä½ä¸ºåæ°è¿è¡ä¼ éï¼ ä½¿è®¢éèç´æ¥è·åæéçæ°æ®ã\n 6. å®¢æ·ç«¯ ï¼Clientï¼ ä¼åå«åå»ºåå¸èåè®¢éèå¯¹è±¡ï¼ ç¶åä¸ºè®¢éèæ³¨ååå¸èæ´æ°ã\n\n\n# ç»æä»£ç èå¼\n\nSubject : ä¸»é¢ç±»ï¼ä¿å­ææè®¢éæ­¤ä¸»é¢çè§å¯èï¼è§å¯èç æ°éæ¯ä»»æçãå®ä¹ æ·»å è§å¯è (Attach) å å é¤è§å¯è (Detach) çæ¥å£ã\n\nabstract class Subject {\n    protected String name;\n    protected String state;\n    protected List<Observer> observers = new ArrayList<Observer>();\n\n    public abstract String getState();\n    public abstract void setState(String state);\n    public abstract void Notify();\n\n    public Subject(String name) {\n        this.name = name;\n    }\n\n    public void Attach(Observer observer) {\n        observers.add(observer);\n    }\n\n    public void Detach(Observer observer) {\n        observers.remove(observer);\n    }\n}\n\n\nObserver : è§å¯èç±»ï¼å®ä¹æ´æ°æ¥å£ (Update)ï¼å½æ¶å° Subject çéç¥æ¶ï¼Observer éè¦åæ­¥æ´æ°ä¿¡æ¯ã\n\nabstract class Observer {\n    protected String name;\n    protected Subject subject;\n    public Observer(String name, Subject subject) {\n        this.name = name;\n        this.subject = subject;\n    }\n    public abstract void Update();\n}\n\n\nConcreteSubject : å·ä½ä¸»é¢ç±»ï¼å­å¨å¯¹äºè¿ä¸ªä¸»é¢æå´è¶£çææè§å¯èãå½åé¨ç¶æåçååæ¶ï¼åºéç¥ææç»è®°çè§å¯è(Notify)ã\n\nclass ConcreteSubject extends Subject {\n    public ConcreteSubject(String name) {\n        super(name);\n    }\n\n    @Override\n    public String getState() {\n        return state;\n    }\n\n    @Override\n    public void setState(String state) {\n        this.state = state;\n    }\n\n    @Override\n    public void Notify() {\n        System.out.println("======= " + this.name + "ä¸»é¢åå¸æ°æ¶æ¯ =======");\n        for (Observer observer : observers) {\n            observer.Update();\n        }\n    }\n}\n\n\nConcreteObserver : å·ä½è§å¯èç±»ï¼å®ç° Observer çæ´æ°æ¥å£ (Update)ï¼ä»¥ä¾¿å Subject åæ­¥ç¶æä¿¡æ¯ã\n\nclass ConcreteObserver extends Observer {\n    private String state;\n    public ConcreteObserver(String name, Subject subject) {\n        super(name, subject);\n    }\n\n    @Override\n    public void Update() {\n        state = subject.getState();\n        System.out.println(this.name + "æ¶å°å½åç¶æï¼" + state);\n    }\n}\n\n\nå®¢æ·ç«¯\n\npublic class ObserverPattern {\n    public static void main(String[] args) {\n        ConcreteSubject subject = new ConcreteSubject("å¤©æ°");\n        ConcreteObserver observer1 = new ConcreteObserver("å¼ ä¸", subject);\n        ConcreteObserver observer2 = new ConcreteObserver("æå", subject);\n        ConcreteObserver observer3 = new ConcreteObserver("çäº", subject);\n\n        subject.Attach(observer1);\n        subject.Attach(observer2);\n        subject.Attach(observer3);\n        subject.setState("ä»å¤©ä¸é¨");\n        subject.Notify();\n\n        subject.Detach(observer2);\n        subject.setState("æå¤©å¤©æ´");\n        subject.Notify();\n    }\n}\n\n\nè¾åº\n\n======= å¤©æ°ä¸»é¢åå¸æ°æ¶æ¯ =======\nå¼ ä¸æ¶å°å½åç¶æï¼ä»å¤©ä¸é¨\næåæ¶å°å½åç¶æï¼ä»å¤©ä¸é¨\nçäºæ¶å°å½åç¶æï¼ä»å¤©ä¸é¨\n======= å¤©æ°ä¸»é¢åå¸æ°æ¶æ¯ =======\nå¼ ä¸æ¶å°å½åç¶æï¼æå¤©å¤©æ´\nçäºæ¶å°å½åç¶æï¼æå¤©å¤©æ´\n\n\n\n# ä¼ªä»£ç \n\nå¨æ¬ä¾ä¸­ï¼ è§å¯èæ¨¡å¼åè®¸ææ¬ç¼è¾å¨å¯¹è±¡å°èªèº«çç¶ææ¹åéç¥ç»å¶ä»æå¡å¯¹è±¡ã\n\n\n\nè®¢éèåè¡¨æ¯å¨æçæçï¼ å¯¹è±¡å¯å¨è¿è¡æ¶æ ¹æ®ç¨åºéè¦å¼å§æåæ­¢çå¬éç¥ã\n\nå¨æ¬å®ç°ä¸­ï¼ ç¼è¾å¨ç±»èªèº«å¹¶ä¸ç»´æ¤è®¢éåè¡¨ã å®å°å·¥ä½å§æ´¾ç»ä¸é¨ä»äºæ­¤å·¥ä½çä¸ä¸ªç¹æ®å¸®æå¯¹è±¡ã ä½ è¿å¯å°è¯¥å¯¹è±¡åçº§ä¸ºä¸­å¿åçäºä»¶ååå¨ï¼ åè®¸ä»»ä½å¯¹è±¡æä¸ºåå¸èã\n\nåªè¦åå¸èéè¿åæ ·çæ¥å£ä¸ææè®¢éèè¿è¡äº¤äºï¼ é£ä¹å¨ç¨åºä¸­æ°å¢è®¢éèæ¶å°±æ éä¿®æ¹å·²æåå¸èç±»çä»£ç ã\n\n// åå¸èåºç±»åå«è®¢éç®¡çä»£ç åéç¥æ¹æ³ã\nclass EventManager is\n    private field listeners: hash map of event types and listeners\n\n    method subscribe(eventType, listener) is\n        listeners.add(eventType, listener)\n\n    method unsubscribe(eventType, listener) is\n        listeners.remove(eventType, listener)\n\n    method notify(eventType, data) is\n        foreach (listener in listeners.of(eventType)) do\n            listener.update(data)\n\n// å·ä½åå¸èåå«ä¸äºè®¢éèæå´è¶£çå®éä¸å¡é»è¾ãæä»¬å¯ä»¥ä»åå¸èåºç±»ä¸­æ©\n// å±åºè¯¥ç±»ï¼ä½å¨å®éæåµä¸å¹¶ä¸æ»è½åå°ï¼å ä¸ºå·ä½åå¸èå¯è½å·²ç»æ¯å­ç±»äºã\n// å¨è¿ç§æåµä¸ï¼ä½ å¯ç¨ç»åæ¥ä¿®è¡¥è®¢éé»è¾ï¼å°±åæä»¬å¨è¿éåçä¸æ ·ã\nclass Editor is\n    public field events: EventManager\n    private field file: File\n\n    constructor Editor() is\n        events = new EventManager()\n\n    // ä¸å¡é»è¾çæ¹æ³å¯å°ååéç¥ç»è®¢éèã\n    method openFile(path) is\n        this.file = new File(path)\n        events.notify("open", file.name)\n\n    method saveFile() is\n        file.write()\n        events.notify("save", file.name)\n\n    // ...\n\n\n// è¿éæ¯è®¢éèæ¥å£ãå¦æä½ çç¼ç¨è¯­è¨æ¯æå½æ°ç±»åï¼åå¯ç¨ä¸ç»å½æ°æ¥ä»£æ¿æ´\n// ä¸ªè®¢éèçå±æ¬¡ç»æã\ninterface EventListener is\n    method update(filename)\n\n// å·ä½è®¢éèä¼å¯¹å¶æ³¨åçåå¸èæååºçæ´æ°æ¶æ¯ååºååºã\nclass LoggingListener implements EventListener is\n    private field log: File\n    private field message\n\n    constructor LoggingListener(log_filename, message) is\n        this.log = new File(log_filename)\n        this.message = message\n\n    method update(filename) is\n        log.write(replace(\'%s\',filename,message))\n\nclass EmailAlertsListener implements EventListener is\n    private field email: string\n\n    constructor EmailAlertsListener(email, message) is\n        this.email = email\n        this.message = message\n\n    method update(filename) is\n        system.email(email, replace(\'%s\',filename,message))\n\n\n// åºç¨ç¨åºå¯å¨è¿è¡æ¶éç½®åå¸èåè®¢éèã\nclass Application is\n    method config() is\n        editor = new Editor()\n\n        logger = new LoggingListener(\n            "/path/to/log.txt",\n            "æäººæå¼äºæä»¶ï¼%s");\n        editor.events.subscribe("open", logger)\n\n        emailAlerts = new EmailAlertsListener(\n            "admin@example.com",\n            "æäººæ´æ¹äºæä»¶ï¼%s")\n        editor.events.subscribe("save", emailAlerts)\n\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * è´£ä»»é¾æ¨¡å¼ã å½ä»¤æ¨¡å¼ã ä¸­ä»èæ¨¡å¼åè§å¯èæ¨¡å¼ç¨äºå¤çè¯·æ±åéèåæ¥æ¶èä¹é´çä¸åè¿æ¥æ¹å¼ï¼\n   * è´£ä»»é¾æç§é¡ºåºå°è¯·æ±å¨æä¼ éç»ä¸ç³»åçæ½å¨æ¥æ¶èï¼ ç´è³å¶ä¸­ä¸åæ¥æ¶èå¯¹è¯·æ±è¿è¡å¤çã\n   * å½ä»¤å¨åéèåè¯·æ±èä¹é´å»ºç«ååè¿æ¥ã\n   * ä¸­ä»èæ¸é¤äºåéèåè¯·æ±èä¹é´çç´æ¥è¿æ¥ï¼ å¼ºå¶å®ä»¬éè¿ä¸ä¸ªä¸­ä»å¯¹è±¡è¿è¡é´æ¥æ²éã\n   * è§å¯èåè®¸æ¥æ¶èå¨æå°è®¢éæåæ¶æ¥æ¶è¯·æ±ã\n * ä¸­ä»èåè§å¯èä¹é´çåºå«å¾å¾å¾é¾è®°ä½ã å¨å¤§é¨åæåµä¸ï¼ ä½ å¯ä»¥ä½¿ç¨å¶ä¸­ä¸ç§æ¨¡å¼ï¼ èææ¶å¯ä»¥åæ¶ä½¿ç¨ã è®©æä»¬æ¥ççå¦ä½åå°è¿ä¸ç¹ã\n   * ä¸­ä»èçä¸»è¦ç®æ æ¯æ¶é¤ä¸ç³»åç³»ç»ç»ä»¶ä¹é´çç¸äºä¾èµã è¿äºç»ä»¶å°ä¾èµäºåä¸ä¸ªä¸­ä»èå¯¹è±¡ã è§å¯èçç®æ æ¯å¨å¯¹è±¡ä¹é´å»ºç«å¨æçååè¿æ¥ï¼ ä½¿å¾é¨åå¯¹è±¡å¯ä½ä¸ºå¶ä»å¯¹è±¡çéå±åæ¥ä½ç¨ã\n   * æä¸ç§æµè¡çä¸­ä»èæ¨¡å¼å®ç°æ¹å¼ä¾èµäºè§å¯èã ä¸­ä»èå¯¹è±¡æå½åå¸èçè§è²ï¼ å¶ä»ç»ä»¶åä½ä¸ºè®¢éèï¼ å¯ä»¥è®¢éä¸­ä»èçäºä»¶æåæ¶è®¢éã å½ä¸­ä»èä»¥è¿ç§æ¹å¼å®ç°æ¶ï¼ å®å¯è½çä¸å»ä¸è§å¯èéå¸¸ç¸ä¼¼ã\n   * å½ä½ æå°çææ¶ï¼ è®°ä½å¯ä»¥éç¨å¶ä»æ¹å¼æ¥å®ç°ä¸­ä»èã ä¾å¦ï¼ ä½ å¯æ°¸ä¹æ§å°å°ææç»ä»¶é¾æ¥å°åä¸ä¸ªä¸­ä»èå¯¹è±¡ã è¿ç§å®ç°æ¹å¼åè§å¯èå¹¶ä¸ç¸åï¼ ä½è¿ä»æ¯ä¸ç§ä¸­ä»èæ¨¡å¼ã\n   * åè®¾æä¸ä¸ªç¨åºï¼ å¶ææçç»ä»¶é½åæäºåå¸èï¼ å®ä»¬ä¹é´å¯ä»¥ç¸äºå»ºç«å¨æè¿æ¥ã è¿æ ·ç¨åºä¸­å°±æ²¡æä¸­å¿åçä¸­ä»èå¯¹è±¡ï¼ èåªæä¸äºåå¸å¼çè§å¯èã\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ è§å¯èæ¨¡å¼å¨ Java ä»£ç ä¸­å¾å¸¸è§ï¼ ç¹å«æ¯å¨ GUI ç»ä»¶ä¸­ã å®æä¾äºå¨ä¸ä¸å¶ä»å¯¹è±¡æå±ç±»è¦åçæåµä¸å¯¹å¶äºä»¶ååºååºçæ¹å¼ã\n\nè¿éæ¯æ ¸å¿ Java ç¨åºåºä¸­è¯¥æ¨¡å¼çä¸äºç¤ºä¾ï¼\n\n * java.util.Observer/ java.util.Observable ï¼æå°å¨çå®ä¸çä¸­ä½¿ç¨ï¼\n * java.util.EventListenerçææå®ç° ï¼å ä¹å¹¿æ³å­å¨äº Swing ç»ä»¶ä¸­ï¼\n * javax.servlet.http.HttpSessionBindingListener\n * javax.servlet.http.HttpSessionAttributeListener\n * javax.faces.event.PhaseListener\n\nè¯å«æ¹æ³ï¼ è¯¥æ¨¡å¼å¯ä»¥éè¿å°å¯¹è±¡å­å¨å¨åè¡¨ä¸­çè®¢éæ¹æ³ï¼ åå¯¹äºé¢åè¯¥åè¡¨ä¸­å¯¹è±¡çæ´æ°æ¹æ³çè°ç¨æ¥è¯å«ã\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',normalizedContent:'# è®¾è®¡æ¨¡å¼ä¹è§å¯èæ¨¡å¼\n\n\n# æå¾\n\nè§å¯èæ¨¡å¼ï¼observerï¼æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼ åè®¸ä½ å®ä¹ä¸ç§è®¢éæºå¶ï¼ å¯å¨å¯¹è±¡äºä»¶åçæ¶éç¥å¤ä¸ª âè§å¯â è¯¥å¯¹è±¡çå¶ä»å¯¹è±¡ã\n\n\n# éç¨åºæ¯\n\n * å½ä¸ä¸ªå¯¹è±¡ç¶æçæ¹åéè¦æ¹åå¶ä»å¯¹è±¡ï¼ æå®éå¯¹è±¡æ¯äºåæªç¥çæå¨æååçæ¶ï¼ å¯ä½¿ç¨è§å¯èæ¨¡å¼ã\n * å½åºç¨ä¸­çä¸äºå¯¹è±¡å¿é¡»è§å¯å¶ä»å¯¹è±¡æ¶ï¼ å¯ä½¿ç¨è¯¥æ¨¡å¼ã ä½ä»è½å¨æéæ¶é´åæç¹å®æåµä¸ä½¿ç¨ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. åå¸è ï¼publisherï¼ ä¼åå¶ä»å¯¹è±¡åéå¼å¾å³æ³¨çäºä»¶ã äºä»¶ä¼å¨åå¸èèªèº«ç¶ææ¹åææ§è¡ç¹å®è¡ä¸ºååçã åå¸èä¸­åå«ä¸ä¸ªåè®¸æ°è®¢éèå å¥åå½åè®¢éèç¦»å¼åè¡¨çè®¢éææ¶ã\n 2. å½æ°äºä»¶åçæ¶ï¼ åéèä¼éåè®¢éåè¡¨å¹¶è°ç¨æ¯ä¸ªè®¢éèå¯¹è±¡çéç¥æ¹æ³ã è¯¥æ¹æ³æ¯å¨è®¢éèæ¥å£ä¸­å£°æçã\n 3. è®¢éè ï¼subscriberï¼ æ¥å£å£°æäºéç¥æ¥å£ã å¨ç»å¤§å¤æ°æåµä¸ï¼ è¯¥æ¥å£ä»åå«ä¸ä¸ª updateæ´æ°æ¹æ³ã è¯¥æ¹æ³å¯ä»¥æ¥æå¤ä¸ªåæ°ï¼ ä½¿åå¸èè½å¨æ´æ°æ¶ä¼ éäºä»¶çè¯¦ç»ä¿¡æ¯ã\n 4. å·ä½è®¢éè ï¼concrete subscribersï¼ å¯ä»¥æ§è¡ä¸äºæä½æ¥ååºåå¸èçéç¥ã ææå·ä½è®¢éèç±»é½å®ç°äºåæ ·çæ¥å£ï¼ å æ­¤åå¸èä¸éè¦ä¸å·ä½ç±»ç¸è¦åã\n 5. è®¢éèéå¸¸éè¦ä¸äºä¸ä¸æä¿¡æ¯æ¥æ­£ç¡®å°å¤çæ´æ°ã å æ­¤ï¼ åå¸èéå¸¸ä¼å°ä¸äºä¸ä¸ææ°æ®ä½ä¸ºéç¥æ¹æ³çåæ°è¿è¡ä¼ éã åå¸èä¹å¯å°èªèº«ä½ä¸ºåæ°è¿è¡ä¼ éï¼ ä½¿è®¢éèç´æ¥è·åæéçæ°æ®ã\n 6. å®¢æ·ç«¯ ï¼clientï¼ ä¼åå«åå»ºåå¸èåè®¢éèå¯¹è±¡ï¼ ç¶åä¸ºè®¢éèæ³¨ååå¸èæ´æ°ã\n\n\n# ç»æä»£ç èå¼\n\nsubject : ä¸»é¢ç±»ï¼ä¿å­ææè®¢éæ­¤ä¸»é¢çè§å¯èï¼è§å¯èç æ°éæ¯ä»»æçãå®ä¹ æ·»å è§å¯è (attach) å å é¤è§å¯è (detach) çæ¥å£ã\n\nabstract class subject {\n    protected string name;\n    protected string state;\n    protected list<observer> observers = new arraylist<observer>();\n\n    public abstract string getstate();\n    public abstract void setstate(string state);\n    public abstract void notify();\n\n    public subject(string name) {\n        this.name = name;\n    }\n\n    public void attach(observer observer) {\n        observers.add(observer);\n    }\n\n    public void detach(observer observer) {\n        observers.remove(observer);\n    }\n}\n\n\nobserver : è§å¯èç±»ï¼å®ä¹æ´æ°æ¥å£ (update)ï¼å½æ¶å° subject çéç¥æ¶ï¼observer éè¦åæ­¥æ´æ°ä¿¡æ¯ã\n\nabstract class observer {\n    protected string name;\n    protected subject subject;\n    public observer(string name, subject subject) {\n        this.name = name;\n        this.subject = subject;\n    }\n    public abstract void update();\n}\n\n\nconcretesubject : å·ä½ä¸»é¢ç±»ï¼å­å¨å¯¹äºè¿ä¸ªä¸»é¢æå´è¶£çææè§å¯èãå½åé¨ç¶æåçååæ¶ï¼åºéç¥ææç»è®°çè§å¯è(notify)ã\n\nclass concretesubject extends subject {\n    public concretesubject(string name) {\n        super(name);\n    }\n\n    @override\n    public string getstate() {\n        return state;\n    }\n\n    @override\n    public void setstate(string state) {\n        this.state = state;\n    }\n\n    @override\n    public void notify() {\n        system.out.println("======= " + this.name + "ä¸»é¢åå¸æ°æ¶æ¯ =======");\n        for (observer observer : observers) {\n            observer.update();\n        }\n    }\n}\n\n\nconcreteobserver : å·ä½è§å¯èç±»ï¼å®ç° observer çæ´æ°æ¥å£ (update)ï¼ä»¥ä¾¿å subject åæ­¥ç¶æä¿¡æ¯ã\n\nclass concreteobserver extends observer {\n    private string state;\n    public concreteobserver(string name, subject subject) {\n        super(name, subject);\n    }\n\n    @override\n    public void update() {\n        state = subject.getstate();\n        system.out.println(this.name + "æ¶å°å½åç¶æï¼" + state);\n    }\n}\n\n\nå®¢æ·ç«¯\n\npublic class observerpattern {\n    public static void main(string[] args) {\n        concretesubject subject = new concretesubject("å¤©æ°");\n        concreteobserver observer1 = new concreteobserver("å¼ ä¸", subject);\n        concreteobserver observer2 = new concreteobserver("æå", subject);\n        concreteobserver observer3 = new concreteobserver("çäº", subject);\n\n        subject.attach(observer1);\n        subject.attach(observer2);\n        subject.attach(observer3);\n        subject.setstate("ä»å¤©ä¸é¨");\n        subject.notify();\n\n        subject.detach(observer2);\n        subject.setstate("æå¤©å¤©æ´");\n        subject.notify();\n    }\n}\n\n\nè¾åº\n\n======= å¤©æ°ä¸»é¢åå¸æ°æ¶æ¯ =======\nå¼ ä¸æ¶å°å½åç¶æï¼ä»å¤©ä¸é¨\næåæ¶å°å½åç¶æï¼ä»å¤©ä¸é¨\nçäºæ¶å°å½åç¶æï¼ä»å¤©ä¸é¨\n======= å¤©æ°ä¸»é¢åå¸æ°æ¶æ¯ =======\nå¼ ä¸æ¶å°å½åç¶æï¼æå¤©å¤©æ´\nçäºæ¶å°å½åç¶æï¼æå¤©å¤©æ´\n\n\n\n# ä¼ªä»£ç \n\nå¨æ¬ä¾ä¸­ï¼ è§å¯èæ¨¡å¼åè®¸ææ¬ç¼è¾å¨å¯¹è±¡å°èªèº«çç¶ææ¹åéç¥ç»å¶ä»æå¡å¯¹è±¡ã\n\n\n\nè®¢éèåè¡¨æ¯å¨æçæçï¼ å¯¹è±¡å¯å¨è¿è¡æ¶æ ¹æ®ç¨åºéè¦å¼å§æåæ­¢çå¬éç¥ã\n\nå¨æ¬å®ç°ä¸­ï¼ ç¼è¾å¨ç±»èªèº«å¹¶ä¸ç»´æ¤è®¢éåè¡¨ã å®å°å·¥ä½å§æ´¾ç»ä¸é¨ä»äºæ­¤å·¥ä½çä¸ä¸ªç¹æ®å¸®æå¯¹è±¡ã ä½ è¿å¯å°è¯¥å¯¹è±¡åçº§ä¸ºä¸­å¿åçäºä»¶ååå¨ï¼ åè®¸ä»»ä½å¯¹è±¡æä¸ºåå¸èã\n\nåªè¦åå¸èéè¿åæ ·çæ¥å£ä¸ææè®¢éèè¿è¡äº¤äºï¼ é£ä¹å¨ç¨åºä¸­æ°å¢è®¢éèæ¶å°±æ éä¿®æ¹å·²æåå¸èç±»çä»£ç ã\n\n// åå¸èåºç±»åå«è®¢éç®¡çä»£ç åéç¥æ¹æ³ã\nclass eventmanager is\n    private field listeners: hash map of event types and listeners\n\n    method subscribe(eventtype, listener) is\n        listeners.add(eventtype, listener)\n\n    method unsubscribe(eventtype, listener) is\n        listeners.remove(eventtype, listener)\n\n    method notify(eventtype, data) is\n        foreach (listener in listeners.of(eventtype)) do\n            listener.update(data)\n\n// å·ä½åå¸èåå«ä¸äºè®¢éèæå´è¶£çå®éä¸å¡é»è¾ãæä»¬å¯ä»¥ä»åå¸èåºç±»ä¸­æ©\n// å±åºè¯¥ç±»ï¼ä½å¨å®éæåµä¸å¹¶ä¸æ»è½åå°ï¼å ä¸ºå·ä½åå¸èå¯è½å·²ç»æ¯å­ç±»äºã\n// å¨è¿ç§æåµä¸ï¼ä½ å¯ç¨ç»åæ¥ä¿®è¡¥è®¢éé»è¾ï¼å°±åæä»¬å¨è¿éåçä¸æ ·ã\nclass editor is\n    public field events: eventmanager\n    private field file: file\n\n    constructor editor() is\n        events = new eventmanager()\n\n    // ä¸å¡é»è¾çæ¹æ³å¯å°ååéç¥ç»è®¢éèã\n    method openfile(path) is\n        this.file = new file(path)\n        events.notify("open", file.name)\n\n    method savefile() is\n        file.write()\n        events.notify("save", file.name)\n\n    // ...\n\n\n// è¿éæ¯è®¢éèæ¥å£ãå¦æä½ çç¼ç¨è¯­è¨æ¯æå½æ°ç±»åï¼åå¯ç¨ä¸ç»å½æ°æ¥ä»£æ¿æ´\n// ä¸ªè®¢éèçå±æ¬¡ç»æã\ninterface eventlistener is\n    method update(filename)\n\n// å·ä½è®¢éèä¼å¯¹å¶æ³¨åçåå¸èæååºçæ´æ°æ¶æ¯ååºååºã\nclass logginglistener implements eventlistener is\n    private field log: file\n    private field message\n\n    constructor logginglistener(log_filename, message) is\n        this.log = new file(log_filename)\n        this.message = message\n\n    method update(filename) is\n        log.write(replace(\'%s\',filename,message))\n\nclass emailalertslistener implements eventlistener is\n    private field email: string\n\n    constructor emailalertslistener(email, message) is\n        this.email = email\n        this.message = message\n\n    method update(filename) is\n        system.email(email, replace(\'%s\',filename,message))\n\n\n// åºç¨ç¨åºå¯å¨è¿è¡æ¶éç½®åå¸èåè®¢éèã\nclass application is\n    method config() is\n        editor = new editor()\n\n        logger = new logginglistener(\n            "/path/to/log.txt",\n            "æäººæå¼äºæä»¶ï¼%s");\n        editor.events.subscribe("open", logger)\n\n        emailalerts = new emailalertslistener(\n            "admin@example.com",\n            "æäººæ´æ¹äºæä»¶ï¼%s")\n        editor.events.subscribe("save", emailalerts)\n\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * è´£ä»»é¾æ¨¡å¼ã å½ä»¤æ¨¡å¼ã ä¸­ä»èæ¨¡å¼åè§å¯èæ¨¡å¼ç¨äºå¤çè¯·æ±åéèåæ¥æ¶èä¹é´çä¸åè¿æ¥æ¹å¼ï¼\n   * è´£ä»»é¾æç§é¡ºåºå°è¯·æ±å¨æä¼ éç»ä¸ç³»åçæ½å¨æ¥æ¶èï¼ ç´è³å¶ä¸­ä¸åæ¥æ¶èå¯¹è¯·æ±è¿è¡å¤çã\n   * å½ä»¤å¨åéèåè¯·æ±èä¹é´å»ºç«ååè¿æ¥ã\n   * ä¸­ä»èæ¸é¤äºåéèåè¯·æ±èä¹é´çç´æ¥è¿æ¥ï¼ å¼ºå¶å®ä»¬éè¿ä¸ä¸ªä¸­ä»å¯¹è±¡è¿è¡é´æ¥æ²éã\n   * è§å¯èåè®¸æ¥æ¶èå¨æå°è®¢éæåæ¶æ¥æ¶è¯·æ±ã\n * ä¸­ä»èåè§å¯èä¹é´çåºå«å¾å¾å¾é¾è®°ä½ã å¨å¤§é¨åæåµä¸ï¼ ä½ å¯ä»¥ä½¿ç¨å¶ä¸­ä¸ç§æ¨¡å¼ï¼ èææ¶å¯ä»¥åæ¶ä½¿ç¨ã è®©æä»¬æ¥ççå¦ä½åå°è¿ä¸ç¹ã\n   * ä¸­ä»èçä¸»è¦ç®æ æ¯æ¶é¤ä¸ç³»åç³»ç»ç»ä»¶ä¹é´çç¸äºä¾èµã è¿äºç»ä»¶å°ä¾èµäºåä¸ä¸ªä¸­ä»èå¯¹è±¡ã è§å¯èçç®æ æ¯å¨å¯¹è±¡ä¹é´å»ºç«å¨æçååè¿æ¥ï¼ ä½¿å¾é¨åå¯¹è±¡å¯ä½ä¸ºå¶ä»å¯¹è±¡çéå±åæ¥ä½ç¨ã\n   * æä¸ç§æµè¡çä¸­ä»èæ¨¡å¼å®ç°æ¹å¼ä¾èµäºè§å¯èã ä¸­ä»èå¯¹è±¡æå½åå¸èçè§è²ï¼ å¶ä»ç»ä»¶åä½ä¸ºè®¢éèï¼ å¯ä»¥è®¢éä¸­ä»èçäºä»¶æåæ¶è®¢éã å½ä¸­ä»èä»¥è¿ç§æ¹å¼å®ç°æ¶ï¼ å®å¯è½çä¸å»ä¸è§å¯èéå¸¸ç¸ä¼¼ã\n   * å½ä½ æå°çææ¶ï¼ è®°ä½å¯ä»¥éç¨å¶ä»æ¹å¼æ¥å®ç°ä¸­ä»èã ä¾å¦ï¼ ä½ å¯æ°¸ä¹æ§å°å°ææç»ä»¶é¾æ¥å°åä¸ä¸ªä¸­ä»èå¯¹è±¡ã è¿ç§å®ç°æ¹å¼åè§å¯èå¹¶ä¸ç¸åï¼ ä½è¿ä»æ¯ä¸ç§ä¸­ä»èæ¨¡å¼ã\n   * åè®¾æä¸ä¸ªç¨åºï¼ å¶ææçç»ä»¶é½åæäºåå¸èï¼ å®ä»¬ä¹é´å¯ä»¥ç¸äºå»ºç«å¨æè¿æ¥ã è¿æ ·ç¨åºä¸­å°±æ²¡æä¸­å¿åçä¸­ä»èå¯¹è±¡ï¼ èåªæä¸äºåå¸å¼çè§å¯èã\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ è§å¯èæ¨¡å¼å¨ java ä»£ç ä¸­å¾å¸¸è§ï¼ ç¹å«æ¯å¨ gui ç»ä»¶ä¸­ã å®æä¾äºå¨ä¸ä¸å¶ä»å¯¹è±¡æå±ç±»è¦åçæåµä¸å¯¹å¶äºä»¶ååºååºçæ¹å¼ã\n\nè¿éæ¯æ ¸å¿ java ç¨åºåºä¸­è¯¥æ¨¡å¼çä¸äºç¤ºä¾ï¼\n\n * java.util.observer/ java.util.observable ï¼æå°å¨çå®ä¸çä¸­ä½¿ç¨ï¼\n * java.util.eventlistenerçææå®ç° ï¼å ä¹å¹¿æ³å­å¨äº swing ç»ä»¶ä¸­ï¼\n * javax.servlet.http.httpsessionbindinglistener\n * javax.servlet.http.httpsessionattributelistener\n * javax.faces.event.phaselistener\n\nè¯å«æ¹æ³ï¼ è¯¥æ¨¡å¼å¯ä»¥éè¿å°å¯¹è±¡å­å¨å¨åè¡¨ä¸­çè®¢éæ¹æ³ï¼ åå¯¹äºé¢åè¯¥åè¡¨ä¸­å¯¹è±¡çæ´æ°æ¹æ³çè°ç¨æ¥è¯å«ã\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼ä¹ä¸­ä»èæ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼ä¹ä¸­ä»èæ¨¡å¼",date:"2015-01-22T13:34:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/3b1f47/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/19.%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/19.ä¸­ä»èæ¨¡å¼.md",key:"v-04ae6228",path:"/pages/3b1f47/",headers:[{level:2,title:"æå¾",slug:"æå¾",normalizedTitle:"æå¾",charIndex:17},{level:2,title:"éç¨åºæ¯",slug:"éç¨åºæ¯",normalizedTitle:"éç¨åºæ¯",charIndex:108},{level:2,title:"ç»æ",slug:"ç»æ",normalizedTitle:"ç»æ",charIndex:249},{level:3,title:"ç»æè¯´æ",slug:"ç»æè¯´æ",normalizedTitle:"ç»æè¯´æ",charIndex:258},{level:3,title:"ç»æä»£ç èå¼",slug:"ç»æä»£ç èå¼",normalizedTitle:"ç»æä»£ç èå¼",charIndex:719},{level:2,title:"ä¼ªä»£ç ",slug:"ä¼ªä»£ç ",normalizedTitle:"ä¼ªä»£ç ",charIndex:3058},{level:2,title:"ä¸å¶ä»æ¨¡å¼çå³ç³»",slug:"ä¸å¶ä»æ¨¡å¼çå³ç³»",normalizedTitle:"ä¸å¶ä»æ¨¡å¼çå³ç³»",charIndex:5120},{level:2,title:"æ¡ä¾",slug:"æ¡ä¾",normalizedTitle:"æ¡ä¾",charIndex:5930},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:6293}],headersStr:"æå¾ éç¨åºæ¯ ç»æ ç»æè¯´æ ç»æä»£ç èå¼ ä¼ªä»£ç  ä¸å¶ä»æ¨¡å¼çå³ç³» æ¡ä¾ åèèµæ",content:'# è®¾è®¡æ¨¡å¼ä¹ä¸­ä»èæ¨¡å¼\n\n\n# æå¾\n\nä¸­ä»èæ¨¡å¼ï¼Mediatorï¼ æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼ è½è®©ä½ åå°å¯¹è±¡ä¹é´æ··ä¹±æ åºçä¾èµå³ç³»ã è¯¥æ¨¡å¼ä¼éå¶å¯¹è±¡ä¹é´çç´æ¥äº¤äºï¼ è¿«ä½¿å®ä»¬éè¿ä¸ä¸ªä¸­ä»èå¯¹è±¡è¿è¡åä½ã\n\n\n# éç¨åºæ¯\n\n * å½ä¸äºå¯¹è±¡åå¶ä»å¯¹è±¡ç´§å¯è¦åä»¥è´é¾ä»¥å¯¹å¶è¿è¡ä¿®æ¹æ¶ï¼ å¯ä½¿ç¨ä¸­ä»èæ¨¡å¼ã\n * å½ç»ä»¶å è¿äºä¾èµå¶ä»ç»ä»¶èæ æ³å¨ä¸ååºç¨ä¸­å¤ç¨æ¶ï¼ å¯ä½¿ç¨ä¸­ä»èæ¨¡å¼ã\n * å¦æä¸ºäºè½å¨ä¸åææ¯ä¸å¤ç¨ä¸äºåºæ¬è¡ä¸ºï¼ å¯¼è´ä½ éè¦è¢«è¿«åå»ºå¤§éç»ä»¶å­ç±»æ¶ï¼ å¯ä½¿ç¨ä¸­ä»èæ¨¡å¼ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. ç»ä»¶ ï¼Componentï¼ æ¯åç§åå«ä¸å¡é»è¾çç±»ã æ¯ä¸ªç»ä»¶é½æä¸ä¸ªæåä¸­ä»èçå¼ç¨ï¼ è¯¥å¼ç¨è¢«å£°æä¸ºä¸­ä»èæ¥å£ç±»åã ç»ä»¶ä¸ç¥éä¸­ä»èå®éæå±çç±»ï¼ å æ­¤ä½ å¯éè¿å°å¶è¿æ¥å°ä¸åçä¸­ä»èä»¥ä½¿å¶è½å¨å¶ä»ç¨åºä¸­å¤ç¨ã\n 2. ä¸­ä»è ï¼Mediatorï¼ æ¥å£å£°æäºä¸ç»ä»¶äº¤æµçæ¹æ³ï¼ ä½éå¸¸ä»åæ¬ä¸ä¸ªéç¥æ¹æ³ã ç»ä»¶å¯å°ä»»æä¸ä¸æ ï¼åæ¬èªå·±çå¯¹è±¡ï¼ ä½ä¸ºè¯¥æ¹æ³çåæ°ï¼ åªæè¿æ ·æ¥æ¶ç»ä»¶ååéèç±»ä¹é´æä¸ä¼è¦åã\n 3. å·ä½ä¸­ä»è ï¼Concrete Mediatorï¼ å°è£äºå¤ç§ç»ä»¶é´çå³ç³»ã å·ä½ä¸­ä»èéå¸¸ä¼ä¿å­ææç»ä»¶çå¼ç¨å¹¶å¯¹å¶è¿è¡ç®¡çï¼ çè³ææ¶ä¼å¯¹å¶çå½å¨æè¿è¡ç®¡çã\n 4. ç»ä»¶å¹¶ä¸ç¥éå¶ä»ç»ä»¶çæåµã å¦æç»ä»¶ååçäºéè¦äºä»¶ï¼ å®åªè½éç¥ä¸­ä»èã ä¸­ä»èæ¶å°éç¥åè½è½»æå°ç¡®å®åéèï¼ è¿æè®¸å·²è¶³ä»¥å¤æ­æ¥ä¸æ¥éè¦è§¦åçç»ä»¶äºã\n    * å¯¹äºç»ä»¶æ¥è¯´ï¼ ä¸­ä»èçä¸å»å®å¨å°±æ¯ä¸ä¸ªé»ç®±ã åéèä¸ç¥éæç»ä¼ç±è°æ¥å¤çèªå·±çè¯·æ±ï¼ æ¥æ¶èä¹ä¸ç¥éæåæ¯è°ååºäºè¯·æ±ã\n\n\n# ç»æä»£ç èå¼\n\nMediator : ä¸º Colleague å¯¹è±¡å®ä¹ä¸ä¸ªäº¤æµæ¥å£ã\n\nabstract class Mediator {\n    public abstract void Send(String message, Colleague colleague);\n}\n\n\nConcreteMediator : å®ç° Mediator ä¸­çäº¤æµæ¥å£ã è¿ä¸ªç±»ä¸­éè¦äºè§£å¹¶ç»´æ¤ææç colleague å¯¹è±¡ã\n\nclass ConcreteMediator extends Mediator {\n    private ConcreteColleague1 colleague1;\n    private ConcreteColleague2 colleague2;\n\n    public void setColleague1(ConcreteColleague1 colleague1) {\n        this.colleague1 = colleague1;\n    }\n\n    public void setColleague2(ConcreteColleague2 colleague2) {\n        this.colleague2 = colleague2;\n    }\n\n    @Override\n    public void Send(String message, Colleague colleague) {\n        if (colleague == colleague1) {\n            colleague2.Notify(message);\n        } else if (colleague == colleague2){\n            colleague1.Notify(message);\n        } else {\n            System.out.println("Error!");\n        }\n    }\n}\n\n\nColleague ç» : æ¯ä¸ª Colleague å¯¹è±¡åºè¯¥ç¥éå®ç Mediator å¯¹è±¡ï¼ä½ä¸ç¥éå¶ä»åäºå¯¹è±¡ãå®åªè½èç³» Mediator å¯¹è±¡ã\n\nabstract class Colleague {\n    protected Mediator mediator;\n\n    public Colleague(Mediator mediator) {\n        this.mediator = mediator;\n    }\n\n    public void Send(String message) {\n        mediator.Send(message, this);\n    }\n\n    public abstract void Notify(String message);\n}\n\nclass ConcreteColleague1 extends Colleague {\n    public ConcreteColleague1(Mediator mediator) {\n        super(mediator);\n    }\n\n    @Override\n    public void Notify(String message) {\n        System.out.println("åäº1å¾å°ä¿¡æ¯ï¼" + message);\n    }\n}\n\nclass ConcreteColleague2 extends Colleague {\n    public ConcreteColleague2(Mediator mediator) {\n        super(mediator);\n    }\n\n    @Override\n    public void Notify(String message) {\n        System.out.println("åäº2å¾å°ä¿¡æ¯ï¼" + message);\n    }\n}\n\n\nå®¢æ·ç«¯\n\npublic class MediatorPattern {\n    public static void main(String[] args) {\n        ConcreteMediator mediator = new ConcreteMediator();\n        ConcreteColleague1 colleague1 = new ConcreteColleague1(mediator);\n        ConcreteColleague2 colleague2 = new ConcreteColleague2(mediator);\n\n        mediator.setColleague1(colleague1);\n        mediator.setColleague2(colleague2);\n\n        colleague1.Send("How are you?");\n        colleague2.Send("Fine, thank you. And you?");\n        colleague1.Send("I\'m fine. Thankes.");\n    }\n}\n\n\nè¾åº\n\nåäº2å¾å°ä¿¡æ¯ï¼How are you?\nåäº1å¾å°ä¿¡æ¯ï¼Fine, thank you. And you?\nåäº2å¾å°ä¿¡æ¯ï¼I\'m fine. Thankes.\n\n\n\n# ä¼ªä»£ç \n\nå¨æ¬ä¾ä¸­ï¼ ä¸­ä»èæ¨¡å¼å¯å¸®å©ä½ åå°åç§ UI ç±» ï¼æé®ã å¤éæ¡åææ¬æ ç­¾ï¼ ä¹é´çç¸äºä¾èµå³ç³»ã\n\n\n\nç¨æ·è§¦åçåç´ ä¸ä¼ç´æ¥ä¸å¶ä»åç´ äº¤æµï¼ å³ä½¿çä¸å»å®ä»¬åºè¯¥è¿æ ·åã ç¸åï¼ åç´ åªéè®©ä¸­ä»èç¥æäºä»¶å³å¯ï¼ å¹¶è½å¨ååºéç¥æ¶åæ¶ä¼ éä»»ä½ä¸ä¸æä¿¡æ¯ã\n\næ¬ä¾ä¸­çä¸­ä»èæ¯æ´ä¸ªè®¤è¯å¯¹è¯æ¡ã å¯¹è¯æ¡ç¥éå·ä½åç´ åºå¦ä½è¿è¡åä½å¹¶ä¿è¿å®ä»¬çé´æ¥äº¤æµã å½æ¥æ¶å°äºä»¶éç¥åï¼ å¯¹è¯æ¡ä¼ç¡®å®è´è´£å¤çäºä»¶çåç´ å¹¶æ®æ­¤éå®åè¯·æ±ã\n\n// ä¸­ä»èæ¥å£å£°æäºä¸ä¸ªè½è®©ç»ä»¶å°åç§äºä»¶éç¥ç»ä¸­ä»èçæ¹æ³ãä¸­ä»èå¯å¯¹è¿\n// äºäºä»¶ååºååºå¹¶å°æ§è¡å·¥ä½ä¼ éç»å¶ä»ç»ä»¶ã\ninterface Mediator is\n    method notify(sender: Component, event: string)\n\n\n// å·ä½ä¸­ä»èç±»å¯è§£å¼åç»ä»¶ä¹é´ç¸äºäº¤åçè¿æ¥å³ç³»å¹¶å°å¶è½¬ç§»å°ä¸­ä»èä¸­ã\nclass AuthenticationDialog implements Mediator is\n    private field title: string\n    private field loginOrRegisterChkBx: Checkbox\n    private field loginUsername, loginPassword: Textbox\n    private field registrationUsername, registrationPassword,\n                  registrationEmail: Textbox\n    private field okBtn, cancelBtn: Button\n\n    constructor AuthenticationDialog() is\n        // åå»ºææç»ä»¶å¯¹è±¡å¹¶å°å½åä¸­ä»èä¼ éç»å¶æé å½æ°ä»¥å»ºç«è¿æ¥ã\n\n    // å½ç»ä»¶ä¸­æäºä»¶åçæ¶ï¼å®ä¼éç¥ä¸­ä»èãä¸­ä»èæ¥æ¶å°éç¥åå¯èªè¡å¤çï¼\n    // ä¹å¯å°è¯·æ±ä¼ éç»å¦ä¸ä¸ªç»ä»¶ã\n    method notify(sender, event) is\n        if (sender == loginOrRegisterChkBx and event == "check")\n            if (loginOrRegisterChkBx.checked)\n                title = "ç»å½"\n                // 1. æ¾ç¤ºç»å½è¡¨åç»ä»¶ã\n                // 2. éèæ³¨åè¡¨åç»ä»¶ã\n            else\n                title = "æ³¨å"\n                // 1. æ¾ç¤ºæ³¨åè¡¨åç»ä»¶ã\n                // 2. éèç»å½è¡¨åç»ä»¶ã\n\n        if (sender == okBtn && event == "click")\n            if (loginOrRegister.checked)\n                // å°è¯æ¾å°ä½¿ç¨ç»å½ä¿¡æ¯çç¨æ·ã\n                if (!found)\n                    // å¨ç»å½å­æ®µä¸æ¹æ¾ç¤ºéè¯¯ä¿¡æ¯ã\n            else\n                // 1. ä½¿ç¨æ³¨åå­æ®µä¸­çæ°æ®åå»ºç¨æ·è´¦å·ã\n                // 2. å®æç¨æ·ç»å½å·¥ä½ã â¦\n\n\n// ç»ä»¶ä¼ä½¿ç¨ä¸­ä»èæ¥å£ä¸ä¸­ä»èè¿è¡äº¤äºãå æ­¤åªéå°å®ä»¬ä¸ä¸åçä¸­ä»èè¿æ¥\n// èµ·æ¥ï¼ä½ å°±è½å¨å¶ä»æå¢ä¸­ä½¿ç¨è¿äºç»ä»¶äºã\nclass Component is\n    field dialog: Mediator\n\n    constructor Component(dialog) is\n        this.dialog = dialog\n\n    method click() is\n        dialog.notify(this, "click")\n\n    method keypress() is\n        dialog.notify(this, "keypress")\n\n// å·ä½ç»ä»¶ä¹é´æ æ³è¿è¡äº¤æµãå®ä»¬åªæä¸ä¸ªäº¤æµæ¸ éï¼é£å°±æ¯åä¸­ä»èåééç¥ã\nclass Button extends Component is\n    // ...\n\nclass Textbox extends Component is\n    // ...\n\nclass Checkbox extends Component is\n    method check() is\n        dialog.notify(this, "check")\n    // ...\n\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * è´£ä»»é¾æ¨¡å¼ã å½ä»¤æ¨¡å¼ã ä¸­ä»èæ¨¡å¼åè§å¯èæ¨¡å¼ç¨äºå¤çè¯·æ±åéèåæ¥æ¶èä¹é´çä¸åè¿æ¥æ¹å¼ï¼\n   * è´£ä»»é¾æç§é¡ºåºå°è¯·æ±å¨æä¼ éç»ä¸ç³»åçæ½å¨æ¥æ¶èï¼ ç´è³å¶ä¸­ä¸åæ¥æ¶èå¯¹è¯·æ±è¿è¡å¤çã\n   * å½ä»¤å¨åéèåè¯·æ±èä¹é´å»ºç«ååè¿æ¥ã\n   * ä¸­ä»èæ¸é¤äºåéèåè¯·æ±èä¹é´çç´æ¥è¿æ¥ï¼ å¼ºå¶å®ä»¬éè¿ä¸ä¸ªä¸­ä»å¯¹è±¡è¿è¡é´æ¥æ²éã\n   * è§å¯èåè®¸æ¥æ¶èå¨æå°è®¢éæåæ¶æ¥æ¶è¯·æ±ã\n * å¤è§æ¨¡å¼åä¸­ä»èçèè´£ç±»ä¼¼ï¼ å®ä»¬é½å°è¯å¨å¤§éç´§å¯è¦åçç±»ä¸­ç»ç»èµ·åä½ã\n   * å¤è§ä¸ºå­ç³»ç»ä¸­çææå¯¹è±¡å®ä¹äºä¸ä¸ªç®åæ¥å£ï¼ ä½æ¯å®ä¸æä¾ä»»ä½æ°åè½ã å­ç³»ç»æ¬èº«ä¸ä¼æè¯å°å¤è§çå­å¨ã å­ç³»ç»ä¸­çå¯¹è±¡å¯ä»¥ç´æ¥è¿è¡äº¤æµã\n   * ä¸­ä»èå°ç³»ç»ä¸­ç»ä»¶çæ²éè¡ä¸ºä¸­å¿åã åç»ä»¶åªç¥éä¸­ä»èå¯¹è±¡ï¼ æ æ³ç´æ¥ç¸äºäº¤æµã\n * ä¸­ä»èåè§å¯èä¹é´çåºå«å¾å¾å¾é¾è®°ä½ã å¨å¤§é¨åæåµä¸ï¼ ä½ å¯ä»¥ä½¿ç¨å¶ä¸­ä¸ç§æ¨¡å¼ï¼ èææ¶å¯ä»¥åæ¶ä½¿ç¨ã è®©æä»¬æ¥ççå¦ä½åå°è¿ä¸ç¹ã\n   * ä¸­ä»èçä¸»è¦ç®æ æ¯æ¶é¤ä¸ç³»åç³»ç»ç»ä»¶ä¹é´çç¸äºä¾èµã è¿äºç»ä»¶å°ä¾èµäºåä¸ä¸ªä¸­ä»èå¯¹è±¡ã è§å¯èçç®æ æ¯å¨å¯¹è±¡ä¹é´å»ºç«å¨æçååè¿æ¥ï¼ ä½¿å¾é¨åå¯¹è±¡å¯ä½ä¸ºå¶ä»å¯¹è±¡çéå±åæ¥ä½ç¨ã\n   * æä¸ç§æµè¡çä¸­ä»èæ¨¡å¼å®ç°æ¹å¼ä¾èµäºè§å¯èã ä¸­ä»èå¯¹è±¡æå½åå¸èçè§è²ï¼ å¶ä»ç»ä»¶åä½ä¸ºè®¢éèï¼ å¯ä»¥è®¢éä¸­ä»èçäºä»¶æåæ¶è®¢éã å½ä¸­ä»èä»¥è¿ç§æ¹å¼å®ç°æ¶ï¼ å®å¯è½çä¸å»ä¸è§å¯èéå¸¸ç¸ä¼¼ã\n   * å½ä½ æå°çææ¶ï¼ è®°ä½å¯ä»¥éç¨å¶ä»æ¹å¼æ¥å®ç°ä¸­ä»èã ä¾å¦ï¼ ä½ å¯æ°¸ä¹æ§å°å°ææç»ä»¶é¾æ¥å°åä¸ä¸ªä¸­ä»èå¯¹è±¡ã è¿ç§å®ç°æ¹å¼åè§å¯èå¹¶ä¸ç¸åï¼ ä½è¿ä»æ¯ä¸ç§ä¸­ä»èæ¨¡å¼ã\n   * åè®¾æä¸ä¸ªç¨åºï¼ å¶ææçç»ä»¶é½åæäºåå¸èï¼ å®ä»¬ä¹é´å¯ä»¥ç¸äºå»ºç«å¨æè¿æ¥ã è¿æ ·ç¨åºä¸­å°±æ²¡æä¸­å¿åçä¸­ä»èå¯¹è±¡ï¼ èåªæä¸äºåå¸å¼çè§å¯èã\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ ä¸­ä»èæ¨¡å¼å¨ Java ä»£ç ä¸­æå¸¸ç¨äºå¸®å©ç¨åº GUI ç»ä»¶ä¹é´çéä¿¡ã å¨ MVC æ¨¡å¼ä¸­ï¼ æ§å¶å¨æ¯ä¸­ä»èçåä¹è¯ã\n\nä¸é¢æ¯æ ¸å¿ Java ç¨åºåºä¸­è¯¥æ¨¡å¼çä¸äºç¤ºä¾ï¼\n\n * java.util.Timer ï¼ææ scheduleÂ­XXX()æ¹æ³ï¼\n * java.util.concurrent.Executor#execute()\n * java.util.concurrent.ExecutorService ï¼ invokeÂ­XXX()å submitÂ­()æ¹æ³ï¼\n * java.util.concurrent.ScheduledExecutorService ï¼ææ scheduleÂ­XXX()æ¹æ³ï¼\n * java.lang.reflect.Method#invoke()\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',normalizedContent:'# è®¾è®¡æ¨¡å¼ä¹ä¸­ä»èæ¨¡å¼\n\n\n# æå¾\n\nä¸­ä»èæ¨¡å¼ï¼mediatorï¼ æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼ è½è®©ä½ åå°å¯¹è±¡ä¹é´æ··ä¹±æ åºçä¾èµå³ç³»ã è¯¥æ¨¡å¼ä¼éå¶å¯¹è±¡ä¹é´çç´æ¥äº¤äºï¼ è¿«ä½¿å®ä»¬éè¿ä¸ä¸ªä¸­ä»èå¯¹è±¡è¿è¡åä½ã\n\n\n# éç¨åºæ¯\n\n * å½ä¸äºå¯¹è±¡åå¶ä»å¯¹è±¡ç´§å¯è¦åä»¥è´é¾ä»¥å¯¹å¶è¿è¡ä¿®æ¹æ¶ï¼ å¯ä½¿ç¨ä¸­ä»èæ¨¡å¼ã\n * å½ç»ä»¶å è¿äºä¾èµå¶ä»ç»ä»¶èæ æ³å¨ä¸ååºç¨ä¸­å¤ç¨æ¶ï¼ å¯ä½¿ç¨ä¸­ä»èæ¨¡å¼ã\n * å¦æä¸ºäºè½å¨ä¸åææ¯ä¸å¤ç¨ä¸äºåºæ¬è¡ä¸ºï¼ å¯¼è´ä½ éè¦è¢«è¿«åå»ºå¤§éç»ä»¶å­ç±»æ¶ï¼ å¯ä½¿ç¨ä¸­ä»èæ¨¡å¼ã\n\n\n# ç»æ\n\n\n\n\n# ç»æè¯´æ\n\n 1. ç»ä»¶ ï¼componentï¼ æ¯åç§åå«ä¸å¡é»è¾çç±»ã æ¯ä¸ªç»ä»¶é½æä¸ä¸ªæåä¸­ä»èçå¼ç¨ï¼ è¯¥å¼ç¨è¢«å£°æä¸ºä¸­ä»èæ¥å£ç±»åã ç»ä»¶ä¸ç¥éä¸­ä»èå®éæå±çç±»ï¼ å æ­¤ä½ å¯éè¿å°å¶è¿æ¥å°ä¸åçä¸­ä»èä»¥ä½¿å¶è½å¨å¶ä»ç¨åºä¸­å¤ç¨ã\n 2. ä¸­ä»è ï¼mediatorï¼ æ¥å£å£°æäºä¸ç»ä»¶äº¤æµçæ¹æ³ï¼ ä½éå¸¸ä»åæ¬ä¸ä¸ªéç¥æ¹æ³ã ç»ä»¶å¯å°ä»»æä¸ä¸æ ï¼åæ¬èªå·±çå¯¹è±¡ï¼ ä½ä¸ºè¯¥æ¹æ³çåæ°ï¼ åªæè¿æ ·æ¥æ¶ç»ä»¶ååéèç±»ä¹é´æä¸ä¼è¦åã\n 3. å·ä½ä¸­ä»è ï¼concrete mediatorï¼ å°è£äºå¤ç§ç»ä»¶é´çå³ç³»ã å·ä½ä¸­ä»èéå¸¸ä¼ä¿å­ææç»ä»¶çå¼ç¨å¹¶å¯¹å¶è¿è¡ç®¡çï¼ çè³ææ¶ä¼å¯¹å¶çå½å¨æè¿è¡ç®¡çã\n 4. ç»ä»¶å¹¶ä¸ç¥éå¶ä»ç»ä»¶çæåµã å¦æç»ä»¶ååçäºéè¦äºä»¶ï¼ å®åªè½éç¥ä¸­ä»èã ä¸­ä»èæ¶å°éç¥åè½è½»æå°ç¡®å®åéèï¼ è¿æè®¸å·²è¶³ä»¥å¤æ­æ¥ä¸æ¥éè¦è§¦åçç»ä»¶äºã\n    * å¯¹äºç»ä»¶æ¥è¯´ï¼ ä¸­ä»èçä¸å»å®å¨å°±æ¯ä¸ä¸ªé»ç®±ã åéèä¸ç¥éæç»ä¼ç±è°æ¥å¤çèªå·±çè¯·æ±ï¼ æ¥æ¶èä¹ä¸ç¥éæåæ¯è°ååºäºè¯·æ±ã\n\n\n# ç»æä»£ç èå¼\n\nmediator : ä¸º colleague å¯¹è±¡å®ä¹ä¸ä¸ªäº¤æµæ¥å£ã\n\nabstract class mediator {\n    public abstract void send(string message, colleague colleague);\n}\n\n\nconcretemediator : å®ç° mediator ä¸­çäº¤æµæ¥å£ã è¿ä¸ªç±»ä¸­éè¦äºè§£å¹¶ç»´æ¤ææç colleague å¯¹è±¡ã\n\nclass concretemediator extends mediator {\n    private concretecolleague1 colleague1;\n    private concretecolleague2 colleague2;\n\n    public void setcolleague1(concretecolleague1 colleague1) {\n        this.colleague1 = colleague1;\n    }\n\n    public void setcolleague2(concretecolleague2 colleague2) {\n        this.colleague2 = colleague2;\n    }\n\n    @override\n    public void send(string message, colleague colleague) {\n        if (colleague == colleague1) {\n            colleague2.notify(message);\n        } else if (colleague == colleague2){\n            colleague1.notify(message);\n        } else {\n            system.out.println("error!");\n        }\n    }\n}\n\n\ncolleague ç» : æ¯ä¸ª colleague å¯¹è±¡åºè¯¥ç¥éå®ç mediator å¯¹è±¡ï¼ä½ä¸ç¥éå¶ä»åäºå¯¹è±¡ãå®åªè½èç³» mediator å¯¹è±¡ã\n\nabstract class colleague {\n    protected mediator mediator;\n\n    public colleague(mediator mediator) {\n        this.mediator = mediator;\n    }\n\n    public void send(string message) {\n        mediator.send(message, this);\n    }\n\n    public abstract void notify(string message);\n}\n\nclass concretecolleague1 extends colleague {\n    public concretecolleague1(mediator mediator) {\n        super(mediator);\n    }\n\n    @override\n    public void notify(string message) {\n        system.out.println("åäº1å¾å°ä¿¡æ¯ï¼" + message);\n    }\n}\n\nclass concretecolleague2 extends colleague {\n    public concretecolleague2(mediator mediator) {\n        super(mediator);\n    }\n\n    @override\n    public void notify(string message) {\n        system.out.println("åäº2å¾å°ä¿¡æ¯ï¼" + message);\n    }\n}\n\n\nå®¢æ·ç«¯\n\npublic class mediatorpattern {\n    public static void main(string[] args) {\n        concretemediator mediator = new concretemediator();\n        concretecolleague1 colleague1 = new concretecolleague1(mediator);\n        concretecolleague2 colleague2 = new concretecolleague2(mediator);\n\n        mediator.setcolleague1(colleague1);\n        mediator.setcolleague2(colleague2);\n\n        colleague1.send("how are you?");\n        colleague2.send("fine, thank you. and you?");\n        colleague1.send("i\'m fine. thankes.");\n    }\n}\n\n\nè¾åº\n\nåäº2å¾å°ä¿¡æ¯ï¼how are you?\nåäº1å¾å°ä¿¡æ¯ï¼fine, thank you. and you?\nåäº2å¾å°ä¿¡æ¯ï¼i\'m fine. thankes.\n\n\n\n# ä¼ªä»£ç \n\nå¨æ¬ä¾ä¸­ï¼ ä¸­ä»èæ¨¡å¼å¯å¸®å©ä½ åå°åç§ ui ç±» ï¼æé®ã å¤éæ¡åææ¬æ ç­¾ï¼ ä¹é´çç¸äºä¾èµå³ç³»ã\n\n\n\nç¨æ·è§¦åçåç´ ä¸ä¼ç´æ¥ä¸å¶ä»åç´ äº¤æµï¼ å³ä½¿çä¸å»å®ä»¬åºè¯¥è¿æ ·åã ç¸åï¼ åç´ åªéè®©ä¸­ä»èç¥æäºä»¶å³å¯ï¼ å¹¶è½å¨ååºéç¥æ¶åæ¶ä¼ éä»»ä½ä¸ä¸æä¿¡æ¯ã\n\næ¬ä¾ä¸­çä¸­ä»èæ¯æ´ä¸ªè®¤è¯å¯¹è¯æ¡ã å¯¹è¯æ¡ç¥éå·ä½åç´ åºå¦ä½è¿è¡åä½å¹¶ä¿è¿å®ä»¬çé´æ¥äº¤æµã å½æ¥æ¶å°äºä»¶éç¥åï¼ å¯¹è¯æ¡ä¼ç¡®å®è´è´£å¤çäºä»¶çåç´ å¹¶æ®æ­¤éå®åè¯·æ±ã\n\n// ä¸­ä»èæ¥å£å£°æäºä¸ä¸ªè½è®©ç»ä»¶å°åç§äºä»¶éç¥ç»ä¸­ä»èçæ¹æ³ãä¸­ä»èå¯å¯¹è¿\n// äºäºä»¶ååºååºå¹¶å°æ§è¡å·¥ä½ä¼ éç»å¶ä»ç»ä»¶ã\ninterface mediator is\n    method notify(sender: component, event: string)\n\n\n// å·ä½ä¸­ä»èç±»å¯è§£å¼åç»ä»¶ä¹é´ç¸äºäº¤åçè¿æ¥å³ç³»å¹¶å°å¶è½¬ç§»å°ä¸­ä»èä¸­ã\nclass authenticationdialog implements mediator is\n    private field title: string\n    private field loginorregisterchkbx: checkbox\n    private field loginusername, loginpassword: textbox\n    private field registrationusername, registrationpassword,\n                  registrationemail: textbox\n    private field okbtn, cancelbtn: button\n\n    constructor authenticationdialog() is\n        // åå»ºææç»ä»¶å¯¹è±¡å¹¶å°å½åä¸­ä»èä¼ éç»å¶æé å½æ°ä»¥å»ºç«è¿æ¥ã\n\n    // å½ç»ä»¶ä¸­æäºä»¶åçæ¶ï¼å®ä¼éç¥ä¸­ä»èãä¸­ä»èæ¥æ¶å°éç¥åå¯èªè¡å¤çï¼\n    // ä¹å¯å°è¯·æ±ä¼ éç»å¦ä¸ä¸ªç»ä»¶ã\n    method notify(sender, event) is\n        if (sender == loginorregisterchkbx and event == "check")\n            if (loginorregisterchkbx.checked)\n                title = "ç»å½"\n                // 1. æ¾ç¤ºç»å½è¡¨åç»ä»¶ã\n                // 2. éèæ³¨åè¡¨åç»ä»¶ã\n            else\n                title = "æ³¨å"\n                // 1. æ¾ç¤ºæ³¨åè¡¨åç»ä»¶ã\n                // 2. éèç»å½è¡¨åç»ä»¶ã\n\n        if (sender == okbtn && event == "click")\n            if (loginorregister.checked)\n                // å°è¯æ¾å°ä½¿ç¨ç»å½ä¿¡æ¯çç¨æ·ã\n                if (!found)\n                    // å¨ç»å½å­æ®µä¸æ¹æ¾ç¤ºéè¯¯ä¿¡æ¯ã\n            else\n                // 1. ä½¿ç¨æ³¨åå­æ®µä¸­çæ°æ®åå»ºç¨æ·è´¦å·ã\n                // 2. å®æç¨æ·ç»å½å·¥ä½ã â¦\n\n\n// ç»ä»¶ä¼ä½¿ç¨ä¸­ä»èæ¥å£ä¸ä¸­ä»èè¿è¡äº¤äºãå æ­¤åªéå°å®ä»¬ä¸ä¸åçä¸­ä»èè¿æ¥\n// èµ·æ¥ï¼ä½ å°±è½å¨å¶ä»æå¢ä¸­ä½¿ç¨è¿äºç»ä»¶äºã\nclass component is\n    field dialog: mediator\n\n    constructor component(dialog) is\n        this.dialog = dialog\n\n    method click() is\n        dialog.notify(this, "click")\n\n    method keypress() is\n        dialog.notify(this, "keypress")\n\n// å·ä½ç»ä»¶ä¹é´æ æ³è¿è¡äº¤æµãå®ä»¬åªæä¸ä¸ªäº¤æµæ¸ éï¼é£å°±æ¯åä¸­ä»èåééç¥ã\nclass button extends component is\n    // ...\n\nclass textbox extends component is\n    // ...\n\nclass checkbox extends component is\n    method check() is\n        dialog.notify(this, "check")\n    // ...\n\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * è´£ä»»é¾æ¨¡å¼ã å½ä»¤æ¨¡å¼ã ä¸­ä»èæ¨¡å¼åè§å¯èæ¨¡å¼ç¨äºå¤çè¯·æ±åéèåæ¥æ¶èä¹é´çä¸åè¿æ¥æ¹å¼ï¼\n   * è´£ä»»é¾æç§é¡ºåºå°è¯·æ±å¨æä¼ éç»ä¸ç³»åçæ½å¨æ¥æ¶èï¼ ç´è³å¶ä¸­ä¸åæ¥æ¶èå¯¹è¯·æ±è¿è¡å¤çã\n   * å½ä»¤å¨åéèåè¯·æ±èä¹é´å»ºç«ååè¿æ¥ã\n   * ä¸­ä»èæ¸é¤äºåéèåè¯·æ±èä¹é´çç´æ¥è¿æ¥ï¼ å¼ºå¶å®ä»¬éè¿ä¸ä¸ªä¸­ä»å¯¹è±¡è¿è¡é´æ¥æ²éã\n   * è§å¯èåè®¸æ¥æ¶èå¨æå°è®¢éæåæ¶æ¥æ¶è¯·æ±ã\n * å¤è§æ¨¡å¼åä¸­ä»èçèè´£ç±»ä¼¼ï¼ å®ä»¬é½å°è¯å¨å¤§éç´§å¯è¦åçç±»ä¸­ç»ç»èµ·åä½ã\n   * å¤è§ä¸ºå­ç³»ç»ä¸­çææå¯¹è±¡å®ä¹äºä¸ä¸ªç®åæ¥å£ï¼ ä½æ¯å®ä¸æä¾ä»»ä½æ°åè½ã å­ç³»ç»æ¬èº«ä¸ä¼æè¯å°å¤è§çå­å¨ã å­ç³»ç»ä¸­çå¯¹è±¡å¯ä»¥ç´æ¥è¿è¡äº¤æµã\n   * ä¸­ä»èå°ç³»ç»ä¸­ç»ä»¶çæ²éè¡ä¸ºä¸­å¿åã åç»ä»¶åªç¥éä¸­ä»èå¯¹è±¡ï¼ æ æ³ç´æ¥ç¸äºäº¤æµã\n * ä¸­ä»èåè§å¯èä¹é´çåºå«å¾å¾å¾é¾è®°ä½ã å¨å¤§é¨åæåµä¸ï¼ ä½ å¯ä»¥ä½¿ç¨å¶ä¸­ä¸ç§æ¨¡å¼ï¼ èææ¶å¯ä»¥åæ¶ä½¿ç¨ã è®©æä»¬æ¥ççå¦ä½åå°è¿ä¸ç¹ã\n   * ä¸­ä»èçä¸»è¦ç®æ æ¯æ¶é¤ä¸ç³»åç³»ç»ç»ä»¶ä¹é´çç¸äºä¾èµã è¿äºç»ä»¶å°ä¾èµäºåä¸ä¸ªä¸­ä»èå¯¹è±¡ã è§å¯èçç®æ æ¯å¨å¯¹è±¡ä¹é´å»ºç«å¨æçååè¿æ¥ï¼ ä½¿å¾é¨åå¯¹è±¡å¯ä½ä¸ºå¶ä»å¯¹è±¡çéå±åæ¥ä½ç¨ã\n   * æä¸ç§æµè¡çä¸­ä»èæ¨¡å¼å®ç°æ¹å¼ä¾èµäºè§å¯èã ä¸­ä»èå¯¹è±¡æå½åå¸èçè§è²ï¼ å¶ä»ç»ä»¶åä½ä¸ºè®¢éèï¼ å¯ä»¥è®¢éä¸­ä»èçäºä»¶æåæ¶è®¢éã å½ä¸­ä»èä»¥è¿ç§æ¹å¼å®ç°æ¶ï¼ å®å¯è½çä¸å»ä¸è§å¯èéå¸¸ç¸ä¼¼ã\n   * å½ä½ æå°çææ¶ï¼ è®°ä½å¯ä»¥éç¨å¶ä»æ¹å¼æ¥å®ç°ä¸­ä»èã ä¾å¦ï¼ ä½ å¯æ°¸ä¹æ§å°å°ææç»ä»¶é¾æ¥å°åä¸ä¸ªä¸­ä»èå¯¹è±¡ã è¿ç§å®ç°æ¹å¼åè§å¯èå¹¶ä¸ç¸åï¼ ä½è¿ä»æ¯ä¸ç§ä¸­ä»èæ¨¡å¼ã\n   * åè®¾æä¸ä¸ªç¨åºï¼ å¶ææçç»ä»¶é½åæäºåå¸èï¼ å®ä»¬ä¹é´å¯ä»¥ç¸äºå»ºç«å¨æè¿æ¥ã è¿æ ·ç¨åºä¸­å°±æ²¡æä¸­å¿åçä¸­ä»èå¯¹è±¡ï¼ èåªæä¸äºåå¸å¼çè§å¯èã\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ ä¸­ä»èæ¨¡å¼å¨ java ä»£ç ä¸­æå¸¸ç¨äºå¸®å©ç¨åº gui ç»ä»¶ä¹é´çéä¿¡ã å¨ mvc æ¨¡å¼ä¸­ï¼ æ§å¶å¨æ¯ä¸­ä»èçåä¹è¯ã\n\nä¸é¢æ¯æ ¸å¿ java ç¨åºåºä¸­è¯¥æ¨¡å¼çä¸äºç¤ºä¾ï¼\n\n * java.util.timer ï¼ææ scheduleÂ­xxx()æ¹æ³ï¼\n * java.util.concurrent.executor#execute()\n * java.util.concurrent.executorservice ï¼ invokeÂ­xxx()å submitÂ­()æ¹æ³ï¼\n * java.util.concurrent.scheduledexecutorservice ï¼ææ scheduleÂ­xxx()æ¹æ³ï¼\n * java.lang.reflect.method#invoke()\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼ä¹èè´£é¾æ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼ä¹èè´£é¾æ¨¡å¼",date:"2015-01-22T14:34:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/b25735/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/20.%E8%81%8C%E8%B4%A3%E9%93%BE%E6%A8%A1%E5%BC%8F.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/20.èè´£é¾æ¨¡å¼.md",key:"v-1a6137e8",path:"/pages/b25735/",headers:[{level:2,title:"æå¾",slug:"æå¾",normalizedTitle:"æå¾",charIndex:17},{level:2,title:"éç¨åºæ¯",slug:"éç¨åºæ¯",normalizedTitle:"éç¨åºæ¯",charIndex:199},{level:2,title:"ç»æ",slug:"ç»æ",normalizedTitle:"ç»æ",charIndex:325},{level:3,title:"ç»æè¯´æ",slug:"ç»æè¯´æ",normalizedTitle:"ç»æè¯´æ",charIndex:332},{level:3,title:"ç»æä»£ç èå¼",slug:"ç»æä»£ç èå¼",normalizedTitle:"ç»æä»£ç èå¼",charIndex:800},{level:2,title:"ä¼ªä»£ç ",slug:"ä¼ªä»£ç ",normalizedTitle:"ä¼ªä»£ç ",charIndex:2541},{level:2,title:"ä¸å¶ä»æ¨¡å¼çå³ç³»",slug:"ä¸å¶ä»æ¨¡å¼çå³ç³»",normalizedTitle:"ä¸å¶ä»æ¨¡å¼çå³ç³»",charIndex:4732},{level:2,title:"æ¡ä¾",slug:"æ¡ä¾",normalizedTitle:"æ¡ä¾",charIndex:5305},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:5575}],headersStr:"æå¾ éç¨åºæ¯ ç»æ ç»æè¯´æ ç»æä»£ç èå¼ ä¼ªä»£ç  ä¸å¶ä»æ¨¡å¼çå³ç³» æ¡ä¾ åèèµæ",content:'# è®¾è®¡æ¨¡å¼ä¹èè´£é¾æ¨¡å¼\n\n\n# æå¾\n\nèè´£é¾æ¨¡å¼ï¼Chain Of Responsibilityï¼ æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼ åè®¸ä½ å°è¯·æ±æ²¿çå¤çèé¾è¿è¡åéã æ¶å°è¯·æ±åï¼ æ¯ä¸ªå¤çèåå¯å¯¹è¯·æ±è¿è¡å¤çï¼ æå°å¶ä¼ éç»é¾ä¸çä¸ä¸ªå¤çèã\n\nä½¿å¤ä¸ªå¯¹è±¡é½ææºä¼å¤çè¯·æ±ï¼ä»èé¿åè¯·æ±çåéèåæ¥æ¶èä¹é´çè¦åå³ç³»ã å°è¿ä¸ªå¯¹è±¡è¿æä¸æ¡é¾ï¼å¹¶æ²¿çè¿æ¡é¾ä¼ éè¯¥è¯·æ±ï¼ç´å°æä¸ä¸ªå¯¹è±¡å¤çå®ä¸ºæ­¢ã\n\n\n# éç¨åºæ¯\n\n * å½ç¨åºéè¦ä½¿ç¨ä¸åæ¹å¼å¤çä¸åç§ç±»è¯·æ±ï¼ èä¸è¯·æ±ç±»ååé¡ºåºé¢åæªç¥æ¶ï¼ å¯ä»¥ä½¿ç¨è´£ä»»é¾æ¨¡å¼ã\n * å½å¿é¡»æé¡ºåºæ§è¡å¤ä¸ªå¤çèæ¶ï¼ å¯ä»¥ä½¿ç¨è¯¥æ¨¡å¼ã\n * å¦ææéå¤çèåå¶é¡ºåºå¿é¡»å¨è¿è¡æ¶è¿è¡æ¹åï¼ å¯ä»¥ä½¿ç¨è´£ä»»é¾æ¨¡å¼ã\n\n\n# ç»æ\n\n\n# ç»æè¯´æ\n\n\n\n 1. å¤çè ï¼Handlerï¼ å£°æäºææå·ä½å¤çèçéç¨æ¥å£ã è¯¥æ¥å£éå¸¸ä»åå«åä¸ªæ¹æ³ç¨äºè¯·æ±å¤çï¼ ä½ææ¶å¶è¿ä¼åå«ä¸ä¸ªè®¾ç½®é¾ä¸ä¸ä¸ªå¤çèçæ¹æ³ã\n\n 2. åºç¡å¤çè ï¼Base Handlerï¼ æ¯ä¸ä¸ªå¯éçç±»ï¼ ä½ å¯ä»¥å°ææå¤çèå±ç¨çæ ·æ¬ä»£ç æ¾ç½®å¨å¶ä¸­ã\n    \n    éå¸¸æåµä¸ï¼ è¯¥ç±»ä¸­å®ä¹äºä¸ä¸ªä¿å­å¯¹äºä¸ä¸ªå¤çèå¼ç¨çæååéã å®¢æ·ç«¯å¯éè¿å°å¤çèä¼ éç»ä¸ä¸ªå¤çèçæé å½æ°æè®¾å®æ¹æ³æ¥åå»ºé¾ã è¯¥ç±»è¿å¯ä»¥å®ç°é»è®¤çå¤çè¡ä¸ºï¼ ç¡®å®ä¸ä¸ªå¤çèå­å¨ååå°è¯·æ±ä¼ éç»å®ã\n\n 3. å·ä½å¤çè ï¼Concrete Handlersï¼ åå«å¤çè¯·æ±çå®éä»£ç ã æ¯ä¸ªå¤çèæ¥æ¶å°è¯·æ±åï¼ é½å¿é¡»å³å®æ¯å¦è¿è¡å¤çï¼ ä»¥åæ¯å¦æ²¿çé¾ä¼ éè¯·æ±ã\n    \n    å¤çèéå¸¸æ¯ç¬ç«ä¸ä¸å¯åçï¼ éè¦éè¿æé å½æ°ä¸æ¬¡æ§å°è·å¾ææå¿è¦å°æ°æ®ã\n\n 4. å®¢æ·ç«¯ ï¼Clientï¼ å¯æ ¹æ®ç¨åºé»è¾ä¸æ¬¡æ§æèå¨æå°çæé¾ã å¼å¾æ³¨æçæ¯ï¼ è¯·æ±å¯åéç»é¾ä¸çä»»æä¸ä¸ªå¤çèï¼ èéå¿é¡»æ¯ç¬¬ä¸ä¸ªå¤çèã\n\n\n# ç»æä»£ç èå¼\n\nHandler : å®ä¹ä¸ä¸ªå¤çè¯·æ±çæ¥å£ãï¼å¯éçï¼å®ç°è®¾ç½®åç»§èçæ¹æ³ã\n\nabstract class Handler {\n    protected Handler successor;\n    public void SetSuccesssor(Handler successor) {\n        this.successor = successor;\n    }\n\n    public abstract void HandlerRequest(int request);\n}\n\n\nConcreteHandler : å¤çå®æè´è´£çè¯·æ±ï¼å¯ä»¥è®¿é®å®çåç»§èï¼å¦æå¯å¤çè¯¥è¯·æ±ï¼å°±å¤çä¹ï¼å¦åå°±å°è¯·æ±è½¬åç»å®çåç»§èã\n\nclass ConcreteHandler1 extends Handler {\n    @Override\n    public void HandlerRequest(int request) {\n        if (request >= 0 && request < 10) {\n            System.out.println("ConcreteHandler1 å¤çè¯·æ± " + request);\n        } else if (null != successor) {\n            successor.HandlerRequest(request);\n        }\n    }\n}\n\nclass ConcreteHandler2 extends Handler {\n    @Override\n    public void HandlerRequest(int request) {\n        if (request >= 10 && request < 20) {\n            System.out.println("ConcreteHandler2 å¤çè¯·æ± " + request);\n        } else if (null != successor) {\n            successor.HandlerRequest(request);\n        }\n    }\n}\n\nclass ConcreteHandler3 extends Handler {\n    @Override\n    public void HandlerRequest(int request) {\n        if (request >= 20 && request < 30) {\n            System.out.println("ConcreteHandler3 å¤çè¯·æ± " + request);\n        } else if (null != successor) {\n            successor.HandlerRequest(request);\n        }\n    }\n}\n\n\nClient : éè¦è®¾ç½®ä¸ä¸ªèè´£é¾çåç¯èå¯¹è±¡ä¸²èèµ·æ¥ã\n\npublic class ChainOfResponsibilityPattern {\n    public static void main(String[] args) {\n        Handler h1 = new ConcreteHandler1();\n        Handler h2 = new ConcreteHandler2();\n        Handler h3 = new ConcreteHandler3();\n        h1.SetSuccesssor(h2);\n        h2.SetSuccesssor(h3);\n\n        int[] requests = {2, 29, 9, 15, 4, 19};\n        for (int i : requests) {\n            h1.HandlerRequest(i);\n        }\n    }\n}\n\n\n\n# ä¼ªä»£ç \n\nå¨æ¬ä¾ä¸­ï¼ è´£ä»»é¾æ¨¡å¼è´è´£ä¸ºæ´»å¨ç GUI åç´ æ¾ç¤ºä¸ä¸æå¸®å©ä¿¡æ¯ã\n\n\n\nåºç¨ç¨åºç GUI ãéå¸¸ä¸ºå¯¹è±¡æ ç»æã ä¾å¦ï¼ è´è´£æ¸²æç¨åºä¸»çªå£ç å¯¹è¯æ¡ç±»å°±æ¯å¯¹è±¡æ çæ ¹èç¹ã å¯¹è¯æ¡åå« é¢æ¿ ï¼ èé¢æ¿å¯è½åå«å¶ä»é¢æ¿ï¼ ææ¯ æé®å ææ¬æ¡ç­ä¸å±åç´ ã\n\nåªè¦ç»ä¸ä¸ªç®åçç»ä»¶æå®å¸®å©ææ¬ï¼ å®å°±å¯æ¾ç¤ºç®ç­çä¸ä¸ææç¤ºã ä½æ´å¤æçç»ä»¶å¯èªå®ä¹ä¸ä¸æå¸®å©ææ¬çæ¾ç¤ºæ¹å¼ï¼ ä¾å¦æ¾ç¤ºæåæå½åå®¹æå¨æµè§å¨ä¸­æå¼ä¸ä¸ªç½é¡µã\n\n\n\nå½ç¨æ·å°é¼ æ æéç§»å¨å°æä¸ªåç´ å¹¶æä¸ F1é®æ¶ï¼ ç¨åºæ£æµå°æéä¸çç»ä»¶å¹¶å¯¹å¶åéå¸®å©è¯·æ±ã è¯¥è¯·æ±ä¸æ­åä¸ä¼ éå°è¯¥åç´ ææçå®¹å¨ï¼ ç´è³æä¸ªåç´ è½å¤æ¾ç¤ºå¸®å©ä¿¡æ¯ã\n\n// å¤çèæ¥å£å£°æäºä¸ä¸ªåå»ºå¤çèé¾çæ¹æ³ãè¿å£°æäºä¸ä¸ªæ§è¡è¯·æ±çæ¹æ³ã\ninterface ComponentWithContextualHelp is\n    method showHelp()\n\n\n// ç®åç»ä»¶çåºç¡ç±»ã\nabstract class Component implements ComponentWithContextualHelp is\n    field tooltipText: string\n\n    // ç»ä»¶å®¹å¨å¨å¤çèé¾ä¸­ä½ä¸ºâä¸ä¸ä¸ªâé¾æ¥ã\n    protected field container: Container\n\n    // å¦æç»ä»¶è®¾å®äºå¸®å©æå­ï¼é£å®å°ä¼æ¾ç¤ºæç¤ºä¿¡æ¯ãå¦æç»ä»¶æ²¡æå¸®å©æå­\n    // ä¸å¶å®¹å¨å­å¨ï¼é£å®ä¼å°è°ç¨ä¼ éç»å®¹å¨ã\n    method showHelp() is\n        if (tooltipText != null)\n            // æ¾ç¤ºæç¤ºä¿¡æ¯ã\n        else\n            container.showHelp()\n\n\n// å®¹å¨å¯ä»¥å°ç®åç»ä»¶åå¶ä»å®¹å¨ä½ä¸ºå¶å­é¡¹ç®ãé¾å³ç³»å°å¨è¿éå»ºç«ãè¯¥ç±»å°ä»\n// å¶ç¶ç±»å¤ç»§æ¿ showHelpï¼æ¾ç¤ºå¸®å©ï¼çè¡ä¸ºã\nabstract class Container extends Component is\n    protected field children: array of Component\n\n    method add(child) is\n        children.add(child)\n        child.container = this\n\n\n// åå§ç»ä»¶åºè¯¥è½å¤ä½¿ç¨å¸®å©æä½çé»è®¤å®ç°...\nclass Button extends Component is\n    // ...\n\n// ä½å¤æç»ä»¶å¯è½ä¼å¯¹é»è®¤å®ç°è¿è¡éåãå¦ææ æ³ä»¥æ°çæ¹å¼æ¥æä¾å¸®å©æå­ï¼\n// é£ç»ä»¶æ»æ¯è¿è½è°ç¨åºç¡å®ç°çï¼åè§ Component ç±»ï¼ã\nclass Panel extends Container is\n    field modalHelpText: string\n\n    method showHelp() is\n        if (modalHelpText != null)\n            // æ¾ç¤ºåå«å¸®å©æå­çæ¨¡æçªå£ã\n        else\n            super.showHelp()\n\n// ...åä¸...\nclass Dialog extends Container is\n    field wikiPageURL: string\n\n    method showHelp() is\n        if (wikiPageURL != null)\n            // æå¼ç¾ç§å¸®å©é¡µé¢ã\n        else\n            super.showHelp()\n\n\n// å®¢æ·ç«¯ä»£ç ã\nclass Application is\n    // æ¯ä¸ªç¨åºé½è½ä»¥ä¸åæ¹å¼å¯¹é¾è¿è¡éç½®ã\n    method createUI() is\n        dialog = new Dialog("é¢ç®æ¥å")\n        dialog.wikiPageURL = "http://..."\n        panel = new Panel(0, 0, 400, 800)\n        panel.modalHelpText = "æ¬é¢æ¿ç¨äº..."\n        ok = new Button(250, 760, 50, 20, "ç¡®è®¤")\n        ok.tooltipText = "è¿æ¯ä¸ä¸ªç¡®è®¤æé®..."\n        cancel = new Button(320, 760, 50, 20, "åæ¶")\n        // ...\n        panel.add(ok)\n        panel.add(cancel)\n        dialog.add(panel)\n\n    // æ³è±¡è¿éä¼åçä»ä¹ã\n    method onF1KeyPress() is\n        component = this.getComponentAtMouseCoords()\n        component.showHelp()\n\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * è´£ä»»é¾æ¨¡å¼ã å½ä»¤æ¨¡å¼ã ä¸­ä»èæ¨¡å¼åè§å¯èæ¨¡å¼ç¨äºå¤çè¯·æ±åéèåæ¥æ¶èä¹é´çä¸åè¿æ¥æ¹å¼ï¼\n   \n   * è´£ä»»é¾æç§é¡ºåºå°è¯·æ±å¨æä¼ éç»ä¸ç³»åçæ½å¨æ¥æ¶èï¼ ç´è³å¶ä¸­ä¸åæ¥æ¶èå¯¹è¯·æ±è¿è¡å¤çã\n   * å½ä»¤å¨åéèåè¯·æ±èä¹é´å»ºç«ååè¿æ¥ã\n   * ä¸­ä»èæ¸é¤äºåéèåè¯·æ±èä¹é´çç´æ¥è¿æ¥ï¼ å¼ºå¶å®ä»¬éè¿ä¸ä¸ªä¸­ä»å¯¹è±¡è¿è¡é´æ¥æ²éã\n   * è§å¯èåè®¸æ¥æ¶èå¨æå°è®¢éæåæ¶æ¥æ¶è¯·æ±ã\n\n * è´£ä»»é¾éå¸¸åç»åæ¨¡å¼ç»åä½¿ç¨ã å¨è¿ç§æåµä¸ï¼ å¶ç»ä»¶æ¥æ¶å°è¯·æ±åï¼ å¯ä»¥å°è¯·æ±æ²¿åå«å¨ä½ç¶ç»ä»¶çé¾ä¸ç´ä¼ éè³å¯¹è±¡æ çåºé¨ã\n\n * è´£ä»»é¾çç®¡çèå¯ä½¿ç¨å½ä»¤æ¨¡å¼å®ç°ã å¨è¿ç§æåµä¸ï¼ ä½ å¯ä»¥å¯¹ç±è¯·æ±ä»£è¡¨çåä¸ä¸ªä¸ä¸æå¯¹è±¡æ§è¡è®¸å¤ä¸åçæä½ã\n   \n   è¿æå¦å¤ä¸ç§å®ç°æ¹å¼ï¼ é£å°±æ¯è¯·æ±èªèº«å°±æ¯ä¸ä¸ªå½ä»¤å¯¹è±¡ã å¨è¿ç§æåµä¸ï¼ ä½ å¯ä»¥å¯¹ç±ä¸ç³»åä¸åä¸ä¸æè¿æ¥èæçé¾æ§è¡ç¸åçæä½ã\n\n * è´£ä»»é¾åè£é¥°æ¨¡å¼çç±»ç»æéå¸¸ç¸ä¼¼ã ä¸¤èé½ä¾èµéå½ç»åå°éè¦æ§è¡çæä½ä¼ éç»ä¸ç³»åå¯¹è±¡ã ä½æ¯ï¼ ä¸¤èæå ç¹éè¦çä¸åä¹å¤ã\n   \n   è´£ä»»é¾çç®¡çèå¯ä»¥ç¸äºç¬ç«å°æ§è¡ä¸åæä½ï¼ è¿å¯ä»¥éæ¶åæ­¢ä¼ éè¯·æ±ã å¦ä¸æ¹é¢ï¼ åç§è£é¥°å¯ä»¥å¨éµå¾ªåºæ¬æ¥å£çæåµä¸æ©å±å¯¹è±¡çè¡ä¸ºã æ­¤å¤ï¼ è£é¥°æ æ³ä¸­æ­è¯·æ±çä¼ éã\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ è´£ä»»é¾æ¨¡å¼å¨ Java ç¨åºä¸­å¹¶ä¸å¸¸è§ï¼ å ä¸ºå®ä»å¨ä»£ç ä¸å¯¹è±¡é¾æäº¤éæ¶æè½åæ¥ä½ç¨ã\n\nè¯¥æ¨¡å¼ææµè¡çä½¿ç¨æ¡ä¾ä¹ä¸æ¯å¨ GUI ç±»ä¸­å°äºä»¶åä¸ä¼ éç»ç¶ç»ä»¶ã å¦ä¸ä¸ªå¼å¾æ³¨æçä½¿ç¨æ¡ä¾æ¯ä¾æ¬¡è®¿é®è¿æ»¤å¨ã\n\nä¸é¢æ¯è¯¥æ¨¡å¼å¨æ ¸å¿ Java ç¨åºåºä¸­çä¸äºç¤ºä¾ï¼\n\n * javax.servlet.Filter#doFilter()\n * java.util.logging.Logger#log()\n\nè¯å«æ¹æ³ï¼ è¯¥æ¨¡å¼å¯éè¿ä¸ç»å¯¹è±¡çè¡ä¸ºæ¹æ³é´æ¥è°ç¨å¶ä»å¯¹è±¡çç¸åæ¹æ³æ¥è¯å«ï¼ èä¸ææå¯¹è±¡é½ä¼éµå¾ªç¸åçæ¥å£ã\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',normalizedContent:'# è®¾è®¡æ¨¡å¼ä¹èè´£é¾æ¨¡å¼\n\n\n# æå¾\n\nèè´£é¾æ¨¡å¼ï¼chain of responsibilityï¼ æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼ åè®¸ä½ å°è¯·æ±æ²¿çå¤çèé¾è¿è¡åéã æ¶å°è¯·æ±åï¼ æ¯ä¸ªå¤çèåå¯å¯¹è¯·æ±è¿è¡å¤çï¼ æå°å¶ä¼ éç»é¾ä¸çä¸ä¸ªå¤çèã\n\nä½¿å¤ä¸ªå¯¹è±¡é½ææºä¼å¤çè¯·æ±ï¼ä»èé¿åè¯·æ±çåéèåæ¥æ¶èä¹é´çè¦åå³ç³»ã å°è¿ä¸ªå¯¹è±¡è¿æä¸æ¡é¾ï¼å¹¶æ²¿çè¿æ¡é¾ä¼ éè¯¥è¯·æ±ï¼ç´å°æä¸ä¸ªå¯¹è±¡å¤çå®ä¸ºæ­¢ã\n\n\n# éç¨åºæ¯\n\n * å½ç¨åºéè¦ä½¿ç¨ä¸åæ¹å¼å¤çä¸åç§ç±»è¯·æ±ï¼ èä¸è¯·æ±ç±»ååé¡ºåºé¢åæªç¥æ¶ï¼ å¯ä»¥ä½¿ç¨è´£ä»»é¾æ¨¡å¼ã\n * å½å¿é¡»æé¡ºåºæ§è¡å¤ä¸ªå¤çèæ¶ï¼ å¯ä»¥ä½¿ç¨è¯¥æ¨¡å¼ã\n * å¦ææéå¤çèåå¶é¡ºåºå¿é¡»å¨è¿è¡æ¶è¿è¡æ¹åï¼ å¯ä»¥ä½¿ç¨è´£ä»»é¾æ¨¡å¼ã\n\n\n# ç»æ\n\n\n# ç»æè¯´æ\n\n\n\n 1. å¤çè ï¼handlerï¼ å£°æäºææå·ä½å¤çèçéç¨æ¥å£ã è¯¥æ¥å£éå¸¸ä»åå«åä¸ªæ¹æ³ç¨äºè¯·æ±å¤çï¼ ä½ææ¶å¶è¿ä¼åå«ä¸ä¸ªè®¾ç½®é¾ä¸ä¸ä¸ªå¤çèçæ¹æ³ã\n\n 2. åºç¡å¤çè ï¼base handlerï¼ æ¯ä¸ä¸ªå¯éçç±»ï¼ ä½ å¯ä»¥å°ææå¤çèå±ç¨çæ ·æ¬ä»£ç æ¾ç½®å¨å¶ä¸­ã\n    \n    éå¸¸æåµä¸ï¼ è¯¥ç±»ä¸­å®ä¹äºä¸ä¸ªä¿å­å¯¹äºä¸ä¸ªå¤çèå¼ç¨çæååéã å®¢æ·ç«¯å¯éè¿å°å¤çèä¼ éç»ä¸ä¸ªå¤çèçæé å½æ°æè®¾å®æ¹æ³æ¥åå»ºé¾ã è¯¥ç±»è¿å¯ä»¥å®ç°é»è®¤çå¤çè¡ä¸ºï¼ ç¡®å®ä¸ä¸ªå¤çèå­å¨ååå°è¯·æ±ä¼ éç»å®ã\n\n 3. å·ä½å¤çè ï¼concrete handlersï¼ åå«å¤çè¯·æ±çå®éä»£ç ã æ¯ä¸ªå¤çèæ¥æ¶å°è¯·æ±åï¼ é½å¿é¡»å³å®æ¯å¦è¿è¡å¤çï¼ ä»¥åæ¯å¦æ²¿çé¾ä¼ éè¯·æ±ã\n    \n    å¤çèéå¸¸æ¯ç¬ç«ä¸ä¸å¯åçï¼ éè¦éè¿æé å½æ°ä¸æ¬¡æ§å°è·å¾ææå¿è¦å°æ°æ®ã\n\n 4. å®¢æ·ç«¯ ï¼clientï¼ å¯æ ¹æ®ç¨åºé»è¾ä¸æ¬¡æ§æèå¨æå°çæé¾ã å¼å¾æ³¨æçæ¯ï¼ è¯·æ±å¯åéç»é¾ä¸çä»»æä¸ä¸ªå¤çèï¼ èéå¿é¡»æ¯ç¬¬ä¸ä¸ªå¤çèã\n\n\n# ç»æä»£ç èå¼\n\nhandler : å®ä¹ä¸ä¸ªå¤çè¯·æ±çæ¥å£ãï¼å¯éçï¼å®ç°è®¾ç½®åç»§èçæ¹æ³ã\n\nabstract class handler {\n    protected handler successor;\n    public void setsuccesssor(handler successor) {\n        this.successor = successor;\n    }\n\n    public abstract void handlerrequest(int request);\n}\n\n\nconcretehandler : å¤çå®æè´è´£çè¯·æ±ï¼å¯ä»¥è®¿é®å®çåç»§èï¼å¦æå¯å¤çè¯¥è¯·æ±ï¼å°±å¤çä¹ï¼å¦åå°±å°è¯·æ±è½¬åç»å®çåç»§èã\n\nclass concretehandler1 extends handler {\n    @override\n    public void handlerrequest(int request) {\n        if (request >= 0 && request < 10) {\n            system.out.println("concretehandler1 å¤çè¯·æ± " + request);\n        } else if (null != successor) {\n            successor.handlerrequest(request);\n        }\n    }\n}\n\nclass concretehandler2 extends handler {\n    @override\n    public void handlerrequest(int request) {\n        if (request >= 10 && request < 20) {\n            system.out.println("concretehandler2 å¤çè¯·æ± " + request);\n        } else if (null != successor) {\n            successor.handlerrequest(request);\n        }\n    }\n}\n\nclass concretehandler3 extends handler {\n    @override\n    public void handlerrequest(int request) {\n        if (request >= 20 && request < 30) {\n            system.out.println("concretehandler3 å¤çè¯·æ± " + request);\n        } else if (null != successor) {\n            successor.handlerrequest(request);\n        }\n    }\n}\n\n\nclient : éè¦è®¾ç½®ä¸ä¸ªèè´£é¾çåç¯èå¯¹è±¡ä¸²èèµ·æ¥ã\n\npublic class chainofresponsibilitypattern {\n    public static void main(string[] args) {\n        handler h1 = new concretehandler1();\n        handler h2 = new concretehandler2();\n        handler h3 = new concretehandler3();\n        h1.setsuccesssor(h2);\n        h2.setsuccesssor(h3);\n\n        int[] requests = {2, 29, 9, 15, 4, 19};\n        for (int i : requests) {\n            h1.handlerrequest(i);\n        }\n    }\n}\n\n\n\n# ä¼ªä»£ç \n\nå¨æ¬ä¾ä¸­ï¼ è´£ä»»é¾æ¨¡å¼è´è´£ä¸ºæ´»å¨ç gui åç´ æ¾ç¤ºä¸ä¸æå¸®å©ä¿¡æ¯ã\n\n\n\nåºç¨ç¨åºç gui ãéå¸¸ä¸ºå¯¹è±¡æ ç»æã ä¾å¦ï¼ è´è´£æ¸²æç¨åºä¸»çªå£ç å¯¹è¯æ¡ç±»å°±æ¯å¯¹è±¡æ çæ ¹èç¹ã å¯¹è¯æ¡åå« é¢æ¿ ï¼ èé¢æ¿å¯è½åå«å¶ä»é¢æ¿ï¼ ææ¯ æé®å ææ¬æ¡ç­ä¸å±åç´ ã\n\nåªè¦ç»ä¸ä¸ªç®åçç»ä»¶æå®å¸®å©ææ¬ï¼ å®å°±å¯æ¾ç¤ºç®ç­çä¸ä¸ææç¤ºã ä½æ´å¤æçç»ä»¶å¯èªå®ä¹ä¸ä¸æå¸®å©ææ¬çæ¾ç¤ºæ¹å¼ï¼ ä¾å¦æ¾ç¤ºæåæå½åå®¹æå¨æµè§å¨ä¸­æå¼ä¸ä¸ªç½é¡µã\n\n\n\nå½ç¨æ·å°é¼ æ æéç§»å¨å°æä¸ªåç´ å¹¶æä¸ f1é®æ¶ï¼ ç¨åºæ£æµå°æéä¸çç»ä»¶å¹¶å¯¹å¶åéå¸®å©è¯·æ±ã è¯¥è¯·æ±ä¸æ­åä¸ä¼ éå°è¯¥åç´ ææçå®¹å¨ï¼ ç´è³æä¸ªåç´ è½å¤æ¾ç¤ºå¸®å©ä¿¡æ¯ã\n\n// å¤çèæ¥å£å£°æäºä¸ä¸ªåå»ºå¤çèé¾çæ¹æ³ãè¿å£°æäºä¸ä¸ªæ§è¡è¯·æ±çæ¹æ³ã\ninterface componentwithcontextualhelp is\n    method showhelp()\n\n\n// ç®åç»ä»¶çåºç¡ç±»ã\nabstract class component implements componentwithcontextualhelp is\n    field tooltiptext: string\n\n    // ç»ä»¶å®¹å¨å¨å¤çèé¾ä¸­ä½ä¸ºâä¸ä¸ä¸ªâé¾æ¥ã\n    protected field container: container\n\n    // å¦æç»ä»¶è®¾å®äºå¸®å©æå­ï¼é£å®å°ä¼æ¾ç¤ºæç¤ºä¿¡æ¯ãå¦æç»ä»¶æ²¡æå¸®å©æå­\n    // ä¸å¶å®¹å¨å­å¨ï¼é£å®ä¼å°è°ç¨ä¼ éç»å®¹å¨ã\n    method showhelp() is\n        if (tooltiptext != null)\n            // æ¾ç¤ºæç¤ºä¿¡æ¯ã\n        else\n            container.showhelp()\n\n\n// å®¹å¨å¯ä»¥å°ç®åç»ä»¶åå¶ä»å®¹å¨ä½ä¸ºå¶å­é¡¹ç®ãé¾å³ç³»å°å¨è¿éå»ºç«ãè¯¥ç±»å°ä»\n// å¶ç¶ç±»å¤ç»§æ¿ showhelpï¼æ¾ç¤ºå¸®å©ï¼çè¡ä¸ºã\nabstract class container extends component is\n    protected field children: array of component\n\n    method add(child) is\n        children.add(child)\n        child.container = this\n\n\n// åå§ç»ä»¶åºè¯¥è½å¤ä½¿ç¨å¸®å©æä½çé»è®¤å®ç°...\nclass button extends component is\n    // ...\n\n// ä½å¤æç»ä»¶å¯è½ä¼å¯¹é»è®¤å®ç°è¿è¡éåãå¦ææ æ³ä»¥æ°çæ¹å¼æ¥æä¾å¸®å©æå­ï¼\n// é£ç»ä»¶æ»æ¯è¿è½è°ç¨åºç¡å®ç°çï¼åè§ component ç±»ï¼ã\nclass panel extends container is\n    field modalhelptext: string\n\n    method showhelp() is\n        if (modalhelptext != null)\n            // æ¾ç¤ºåå«å¸®å©æå­çæ¨¡æçªå£ã\n        else\n            super.showhelp()\n\n// ...åä¸...\nclass dialog extends container is\n    field wikipageurl: string\n\n    method showhelp() is\n        if (wikipageurl != null)\n            // æå¼ç¾ç§å¸®å©é¡µé¢ã\n        else\n            super.showhelp()\n\n\n// å®¢æ·ç«¯ä»£ç ã\nclass application is\n    // æ¯ä¸ªç¨åºé½è½ä»¥ä¸åæ¹å¼å¯¹é¾è¿è¡éç½®ã\n    method createui() is\n        dialog = new dialog("é¢ç®æ¥å")\n        dialog.wikipageurl = "http://..."\n        panel = new panel(0, 0, 400, 800)\n        panel.modalhelptext = "æ¬é¢æ¿ç¨äº..."\n        ok = new button(250, 760, 50, 20, "ç¡®è®¤")\n        ok.tooltiptext = "è¿æ¯ä¸ä¸ªç¡®è®¤æé®..."\n        cancel = new button(320, 760, 50, 20, "åæ¶")\n        // ...\n        panel.add(ok)\n        panel.add(cancel)\n        dialog.add(panel)\n\n    // æ³è±¡è¿éä¼åçä»ä¹ã\n    method onf1keypress() is\n        component = this.getcomponentatmousecoords()\n        component.showhelp()\n\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * è´£ä»»é¾æ¨¡å¼ã å½ä»¤æ¨¡å¼ã ä¸­ä»èæ¨¡å¼åè§å¯èæ¨¡å¼ç¨äºå¤çè¯·æ±åéèåæ¥æ¶èä¹é´çä¸åè¿æ¥æ¹å¼ï¼\n   \n   * è´£ä»»é¾æç§é¡ºåºå°è¯·æ±å¨æä¼ éç»ä¸ç³»åçæ½å¨æ¥æ¶èï¼ ç´è³å¶ä¸­ä¸åæ¥æ¶èå¯¹è¯·æ±è¿è¡å¤çã\n   * å½ä»¤å¨åéèåè¯·æ±èä¹é´å»ºç«ååè¿æ¥ã\n   * ä¸­ä»èæ¸é¤äºåéèåè¯·æ±èä¹é´çç´æ¥è¿æ¥ï¼ å¼ºå¶å®ä»¬éè¿ä¸ä¸ªä¸­ä»å¯¹è±¡è¿è¡é´æ¥æ²éã\n   * è§å¯èåè®¸æ¥æ¶èå¨æå°è®¢éæåæ¶æ¥æ¶è¯·æ±ã\n\n * è´£ä»»é¾éå¸¸åç»åæ¨¡å¼ç»åä½¿ç¨ã å¨è¿ç§æåµä¸ï¼ å¶ç»ä»¶æ¥æ¶å°è¯·æ±åï¼ å¯ä»¥å°è¯·æ±æ²¿åå«å¨ä½ç¶ç»ä»¶çé¾ä¸ç´ä¼ éè³å¯¹è±¡æ çåºé¨ã\n\n * è´£ä»»é¾çç®¡çèå¯ä½¿ç¨å½ä»¤æ¨¡å¼å®ç°ã å¨è¿ç§æåµä¸ï¼ ä½ å¯ä»¥å¯¹ç±è¯·æ±ä»£è¡¨çåä¸ä¸ªä¸ä¸æå¯¹è±¡æ§è¡è®¸å¤ä¸åçæä½ã\n   \n   è¿æå¦å¤ä¸ç§å®ç°æ¹å¼ï¼ é£å°±æ¯è¯·æ±èªèº«å°±æ¯ä¸ä¸ªå½ä»¤å¯¹è±¡ã å¨è¿ç§æåµä¸ï¼ ä½ å¯ä»¥å¯¹ç±ä¸ç³»åä¸åä¸ä¸æè¿æ¥èæçé¾æ§è¡ç¸åçæä½ã\n\n * è´£ä»»é¾åè£é¥°æ¨¡å¼çç±»ç»æéå¸¸ç¸ä¼¼ã ä¸¤èé½ä¾èµéå½ç»åå°éè¦æ§è¡çæä½ä¼ éç»ä¸ç³»åå¯¹è±¡ã ä½æ¯ï¼ ä¸¤èæå ç¹éè¦çä¸åä¹å¤ã\n   \n   è´£ä»»é¾çç®¡çèå¯ä»¥ç¸äºç¬ç«å°æ§è¡ä¸åæä½ï¼ è¿å¯ä»¥éæ¶åæ­¢ä¼ éè¯·æ±ã å¦ä¸æ¹é¢ï¼ åç§è£é¥°å¯ä»¥å¨éµå¾ªåºæ¬æ¥å£çæåµä¸æ©å±å¯¹è±¡çè¡ä¸ºã æ­¤å¤ï¼ è£é¥°æ æ³ä¸­æ­è¯·æ±çä¼ éã\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ è´£ä»»é¾æ¨¡å¼å¨ java ç¨åºä¸­å¹¶ä¸å¸¸è§ï¼ å ä¸ºå®ä»å¨ä»£ç ä¸å¯¹è±¡é¾æäº¤éæ¶æè½åæ¥ä½ç¨ã\n\nè¯¥æ¨¡å¼ææµè¡çä½¿ç¨æ¡ä¾ä¹ä¸æ¯å¨ gui ç±»ä¸­å°äºä»¶åä¸ä¼ éç»ç¶ç»ä»¶ã å¦ä¸ä¸ªå¼å¾æ³¨æçä½¿ç¨æ¡ä¾æ¯ä¾æ¬¡è®¿é®è¿æ»¤å¨ã\n\nä¸é¢æ¯è¯¥æ¨¡å¼å¨æ ¸å¿ java ç¨åºåºä¸­çä¸äºç¤ºä¾ï¼\n\n * javax.servlet.filter#dofilter()\n * java.util.logging.logger#log()\n\nè¯å«æ¹æ³ï¼ è¯¥æ¨¡å¼å¯éè¿ä¸ç»å¯¹è±¡çè¡ä¸ºæ¹æ³é´æ¥è°ç¨å¶ä»å¯¹è±¡çç¸åæ¹æ³æ¥è¯å«ï¼ èä¸ææå¯¹è±¡é½ä¼éµå¾ªç¸åçæ¥å£ã\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼ä¹å¤å¿å½æ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼ä¹å¤å¿å½æ¨¡å¼",date:"2015-01-22T15:26:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/5ae0d5/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/21.%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/21.å¤å¿å½æ¨¡å¼.md",key:"v-ca584e06",path:"/pages/5ae0d5/",headers:[{level:2,title:"æå¾",slug:"æå¾",normalizedTitle:"æå¾",charIndex:17},{level:2,title:"éç¨åºæ¯",slug:"éç¨åºæ¯",normalizedTitle:"éç¨åºæ¯",charIndex:81},{level:2,title:"ç»æ",slug:"ç»æ",normalizedTitle:"ç»æ",charIndex:173},{level:3,title:"ç»æè¯´æ",slug:"ç»æè¯´æ",normalizedTitle:"ç»æè¯´æ",charIndex:180},{level:4,title:"åºäºåµå¥ç±»çå®ç°",slug:"åºäºåµå¥ç±»çå®ç°",normalizedTitle:"åºäºåµå¥ç±»çå®ç°",charIndex:188},{level:4,title:"åºäºä¸­é´æ¥å£çå®ç°",slug:"åºäºä¸­é´æ¥å£çå®ç°",normalizedTitle:"åºäºä¸­é´æ¥å£çå®ç°",charIndex:614},{level:4,title:"å°è£æ´å ä¸¥æ ¼çå®ç°",slug:"å°è£æ´å ä¸¥æ ¼çå®ç°",normalizedTitle:"å°è£æ´å ä¸¥æ ¼çå®ç°",charIndex:834},{level:3,title:"ç»æä»£ç èå¼",slug:"ç»æä»£ç èå¼",normalizedTitle:"ç»æä»£ç èå¼",charIndex:1131},{level:2,title:"ä¼ªä»£ç ",slug:"ä¼ªä»£ç ",normalizedTitle:"ä¼ªä»£ç ",charIndex:2677},{level:2,title:"ä¸å¶ä»æ¨¡å¼çå³ç³»",slug:"ä¸å¶ä»æ¨¡å¼çå³ç³»",normalizedTitle:"ä¸å¶ä»æ¨¡å¼çå³ç³»",charIndex:4338},{level:2,title:"æ¡ä¾",slug:"æ¡ä¾",normalizedTitle:"æ¡ä¾",charIndex:4557},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:4780}],headersStr:"æå¾ éç¨åºæ¯ ç»æ ç»æè¯´æ åºäºåµå¥ç±»çå®ç° åºäºä¸­é´æ¥å£çå®ç° å°è£æ´å ä¸¥æ ¼çå®ç° ç»æä»£ç èå¼ ä¼ªä»£ç  ä¸å¶ä»æ¨¡å¼çå³ç³» æ¡ä¾ åèèµæ",content:'# è®¾è®¡æ¨¡å¼ä¹å¤å¿å½æ¨¡å¼\n\n\n# æå¾\n\nå¤å¿å½æ¨¡å¼ï¼Mementoï¼ æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼ åè®¸å¨ä¸æ´é²å¯¹è±¡å®ç°ç»èçæåµä¸ä¿å­åæ¢å¤å¯¹è±¡ä¹åçç¶æã\n\n\n# éç¨åºæ¯\n\n * å½ä½ éè¦åå»ºå¯¹è±¡ç¶æå¿«ç§æ¥æ¢å¤å¶ä¹åçç¶ææ¶ï¼ å¯ä»¥ä½¿ç¨å¤å¿å½æ¨¡å¼ã\n * å½ç´æ¥è®¿é®å¯¹è±¡çæååéã è·åå¨æè®¾ç½®å¨å°å¯¼è´å°è£è¢«çªç ´æ¶ï¼ å¯ä»¥ä½¿ç¨è¯¥æ¨¡å¼ã\n\n\n# ç»æ\n\n\n# ç»æè¯´æ\n\n# åºäºåµå¥ç±»çå®ç°\n\n\n\n 1. ååå¨ ï¼Originatorï¼ ç±»å¯ä»¥çæèªèº«ç¶æçå¿«ç§ï¼ ä¹å¯ä»¥å¨éè¦æ¶éè¿å¿«ç§æ¢å¤èªèº«ç¶æã\n\n 2. å¤å¿å½ ï¼Mementoï¼ æ¯ååå¨ç¶æå¿«ç§çå¼å¯¹è±¡ ï¼value objectï¼ã éå¸¸åæ³æ¯å°å¤å¿å½è®¾ä¸ºä¸å¯åçï¼ å¹¶éè¿æé å½æ°ä¸æ¬¡æ§ä¼ éæ°æ®ã\n\n 3. è´è´£äºº ï¼Caretakerï¼ ä»ç¥é âä½æ¶â å âä¸ºä½â ææååå¨çç¶æï¼ ä»¥åä½æ¶æ¢å¤ç¶æã\n    \n    è´è´£äººéè¿ä¿å­å¤å¿å½æ æ¥è®°å½ååå¨çåå²ç¶æã å½ååå¨éè¦åæº¯åå²ç¶ææ¶ï¼ è´è´£äººå°ä»æ ä¸­è·åæé¡¶é¨çå¤å¿å½ï¼ å¹¶å°å¶ä¼ éç»ååå¨çæ¢å¤ ï¼restorationï¼ æ¹æ³ã\n\n 4. å¨è¯¥å®ç°æ¹æ³ä¸­ï¼ å¤å¿å½ç±»å°è¢«åµå¥å¨ååå¨ä¸­ã è¿æ ·ååå¨å°±å¯è®¿é®å¤å¿å½çæååéåæ¹æ³ï¼ å³ä½¿è¿äºæ¹æ³è¢«å£°æä¸ºç§æã å¦ä¸æ¹é¢ï¼ è´è´£äººå¯¹äºå¤å¿å½çæååéåæ¹æ³çè®¿é®æééå¸¸æéï¼ å®ä»¬åªè½å¨æ ä¸­ä¿å­å¤å¿å½ï¼ èä¸è½ä¿®æ¹å¶ç¶æã\n\n# åºäºä¸­é´æ¥å£çå®ç°\n\nå¦å¤ä¸ç§å®ç°æ¹æ³éç¨äºä¸æ¯æåµå¥ç±»çç¼ç¨è¯­è¨ ï¼æ²¡éï¼ æè¯´çå°±æ¯ PHPï¼ã\n\n\n\n 1. å¨æ²¡æåµå¥ç±»çæåµä¸ï¼ ä½ å¯ä»¥è§å®è´è´£äººä»å¯éè¿æç¡®å£°æçä¸­é´æ¥å£ä¸å¤å¿å½äºå¨ï¼ è¯¥æ¥å£ä»å£°æä¸å¤å¿å½åæ°æ®ç¸å³çæ¹æ³ï¼ éå¶å¶å¯¹å¤å¿å½æååéçç´æ¥è®¿é®æéã\n 2. å¦ä¸æ¹é¢ï¼ ååå¨å¯ä»¥ç´æ¥ä¸å¤å¿å½å¯¹è±¡è¿è¡äº¤äºï¼ è®¿é®å¤å¿å½ç±»ä¸­å£°æçæååéåæ¹æ³ã è¿ç§æ¹å¼çç¼ºç¹å¨äºä½ éè¦å°å¤å¿å½çæææååéå£°æä¸ºå¬æã\n\n# å°è£æ´å ä¸¥æ ¼çå®ç°\n\nå¦æä½ ä¸æ³è®©å¶ä»ç±»æä»»ä½æºä¼éè¿å¤å¿å½æ¥è®¿é®ååå¨çç¶æï¼ é£ä¹è¿æå¦ä¸ç§å¯ç¨çå®ç°æ¹å¼ã\n\n\n\n 1. è¿ç§å®ç°æ¹å¼åè®¸å­å¨å¤ç§ä¸åç±»åçååå¨åå¤å¿å½ã æ¯ç§ååå¨é½åå¶ç¸åºçå¤å¿å½ç±»è¿è¡äº¤äºã ååå¨åå¤å¿å½é½ä¸ä¼å°å¶ç¶ææ´é²ç»å¶ä»ç±»ã\n 2. è´è´£äººæ­¤æ¶è¢«æç¡®ç¦æ­¢ä¿®æ¹å­å¨å¨å¤å¿å½ä¸­çç¶æã ä½è´è´£äººç±»å°ç¬ç«äºååå¨ï¼ å ä¸ºæ­¤æ¶æ¢å¤æ¹æ³è¢«å®ä¹å¨äºå¤å¿å½ç±»ä¸­ã\n 3. æ¯ä¸ªå¤å¿å½å°ä¸åå»ºäºèªèº«çååå¨è¿æ¥ã ååå¨ä¼å°èªå·±åç¶æä¼ éç»å¤å¿å½çæé å½æ°ã ç±äºè¿äºç±»ä¹é´çç´§å¯èç³»ï¼ åªè¦ååå¨å®ä¹äºåéçè®¾ç½®å¨ ï¼setterï¼ï¼ å¤å¿å½å°±è½æ¢å¤å¶ç¶æã\n\n\n# ç»æä»£ç èå¼\n\nMemento : è´è´£å­å¨ Originator å¯¹è±¡çåé¨ç¶æï¼å¹¶å¯ä»¥é²æ­¢ Originator ä»¥å¤çå¶ä»å¯¹è±¡è®¿é® Mementoã\n\nMemento æä¸¤ä¸ªæ¥å£ï¼Caretaker åªè½çå°å¤å¿å½ççªæ¥å£ï¼å®åªè½å°å¤å¿å½ä¼ éç»å¶ä»å¯¹è±¡ã Originator å¯ä»¥çå°ä¸ä¸ªå®½æ¥å£ï¼åè®¸å®è®¿é®è¿åå°ååç¶ææéçæææ°æ®ã\n\nclass Memento {\n    private String state;\n    public Memento(String state) {\n        this.state = state;\n    }\n\n    public String GetState() {\n        return state;\n    }\n}\n\n\nOriginator : è´è´£åå»ºä¸ä¸ªå¤å¿å½ Mementoï¼ç¨ä»¥è®°å½å½åæ¶å»å®çåé¨ç¶æï¼å¹¶å¯ä½¿ç¨å¤å¿å½æ¢å¤åé¨ç¶æã\n\nOriginator å¯æ ¹æ®éè¦å³å® Memento å­å¨ Originator çåªäºåé¨ç¶æã\n\nclass Originator {\n    private String state;\n\n    public void SetState(String state) {\n        this.state = state;\n    }\n    public String GetState() {\n        return state;\n    }\n\n    public Memento CreateMemento() {\n        return (new Memento(state));\n    }\n\n    public void SetMemento(Memento memento) {\n        state = memento.GetState();\n    }\n\n    public void Show() {\n        System.out.println("State = " + state);\n    }\n}\n\n\nCaretaker : è´è´£ä¿å­å¥½å¤å¿å½ Mementoï¼ä¸è½å¯¹å¤å¿å½çåå®¹è¿è¡æä½ææ£æ¥ã\n\nclass Caretaker {\n    private Memento memento;\n\n    public void SetMemento(Memento memento) {\n        this.memento = memento;\n    }\n    public Memento GetMemento() {\n        return memento;\n    }\n}\n\n\nå®¢æ·ç«¯\n\npublic class MementoPattern {\n    public static void main(String[] args) {\n        Originator o = new Originator();\n        o.SetState("ON");\n        o.Show();\n\n        Caretaker c = new Caretaker();\n        c.SetMemento(o.CreateMemento());\n\n        o.SetState("OFF");\n        o.Show();\n\n        o.SetMemento(c.GetMemento());\n        o.Show();\n    }\n}\n\n\nè¾åº\n\nState = ON\nState = OFF\nState = ON\n\n\n\n# ä¼ªä»£ç \n\næ¬ä¾ç»åä½¿ç¨äºå½ä»¤æ¨¡å¼ä¸å¤å¿å½æ¨¡å¼ï¼ å¯ä¿å­å¤ææå­ç¼è¾å¨çç¶æå¿«ç§ï¼ å¹¶è½å¨éè¦æ¶ä»å¿«ç§ä¸­æ¢å¤ä¹åçç¶æã\n\n\n\nå½ä»¤ ï¼commandï¼ å¯¹è±¡å°ä½ä¸ºè´è´£äººï¼ å®ä»¬ä¼å¨æ§è¡ä¸å½ä»¤ç¸å³çæä½åè·åç¼è¾å¨çå¤å¿å½ã å½ç¨æ·è¯å¾æ¤éæè¿çå½ä»¤æ¶ï¼ ç¼è¾å¨å¯ä»¥ä½¿ç¨ä¿å­å¨å½ä»¤ä¸­çå¤å¿å½æ¥å°èªèº«åæ»å°ä¹åçç¶æã\n\nå¤å¿å½ç±»æ²¡æå£°æä»»ä½å¬æçæååéã è·åå¨ ï¼getterï¼ åè®¾ç½®å¨ï¼ å æ­¤æ²¡æå¯¹è±¡å¯ä»¥ä¿®æ¹å¶åå®¹ã å¤å¿å½ä¸åå»ºèªå·±çç¼è¾å¨ç¸è¿æ¥ï¼ è¿ä½¿å¾å¤å¿å½è½å¤éè¿ç¼è¾å¨å¯¹è±¡çè®¾ç½®å¨ä¼ éæ°æ®ï¼ æ¢å¤ä¸å¶ç¸è¿æ¥çç¼è¾å¨çç¶æã ç±äºå¤å¿å½ä¸ç¹å®çç¼è¾å¨å¯¹è±¡ç¸è¿æ¥ï¼ ç¨åºå¯ä»¥ä½¿ç¨ä¸­å¿åçæ¤éæ å®ç°å¯¹å¤ä¸ªç¬ç«ç¼è¾å¨çªå£çæ¯æã\n\n// ååå¨ä¸­åå«äºä¸äºå¯è½ä¼éæ¶é´ååçéè¦æ°æ®ãå®è¿å®ä¹äºå¨å¤å¿å½ä¸­ä¿å­\n// èªèº«ç¶æçæ¹æ³ï¼ä»¥åä»å¤å¿å½ä¸­æ¢å¤ç¶æçæ¹æ³ã\nclass Editor is\n    private field text, curX, curY, selectionWidth\n\n    method setText(text) is\n        this.text = text\n\n    method setCursor(x, y) is\n        this.curX = curX\n        this.curY = curY\n\n    method setSelectionWidth(width) is\n        this.selectionWidth = width\n\n    // å¨å¤å¿å½ä¸­ä¿å­å½åçç¶æã\n    method createSnapshot():Snapshot is\n        // å¤å¿å½æ¯ä¸å¯åçå¯¹è±¡ï¼å æ­¤ååå¨ä¼å°èªèº«ç¶æä½ä¸ºåæ°ä¼ éç»å¤å¿\n        // å½çæé å½æ°ã\n        return new Snapshot(this, text, curX, curY, selectionWidth)\n\n// å¤å¿å½ç±»ä¿å­æç¼è¾å¨çè¿å¾ç¶æã\nclass Snapshot is\n    private field editor: Editor\n    private field text, curX, curY, selectionWidth\n\n    constructor Snapshot(editor, text, curX, curY, selectionWidth) is\n        this.editor = editor\n        this.text = text\n        this.curX = curX\n        this.curY = curY\n        this.selectionWidth = selectionWidth\n\n    // å¨æä¸æ¶å»ï¼ç¼è¾å¨ä¹åçç¶æå¯ä»¥ä½¿ç¨å¤å¿å½å¯¹è±¡æ¥æ¢å¤ã\n    method restore() is\n        editor.setText(text)\n        editor.setCursor(curX, curY)\n        editor.setSelectionWidth(selectionWidth)\n\n// å½ä»¤å¯¹è±¡å¯ä½ä¸ºè´è´£äººãå¨è¿ç§æåµä¸ï¼å½ä»¤ä¼å¨ä¿®æ¹ååå¨ç¶æä¹åè·åä¸ä¸ª\n// å¤å¿å½ãå½éè¦æ¤éæ¶ï¼å®ä¼ä»å¤å¿å½ä¸­æ¢å¤ååå¨çç¶æã\nclass Command is\n    private field backup: Snapshot\n\n    method makeBackup() is\n        backup = editor.createSnapshot()\n\n    method undo() is\n        if (backup != null)\n            backup.restore()\n    // ...\n\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * ä½ å¯ä»¥åæ¶ä½¿ç¨å½ä»¤æ¨¡å¼åå¤å¿å½æ¨¡å¼æ¥å®ç° âæ¤éâã å¨è¿ç§æåµä¸ï¼ å½ä»¤ç¨äºå¯¹ç®æ å¯¹è±¡æ§è¡åç§ä¸åçæä½ï¼ å¤å¿å½ç¨æ¥ä¿å­ä¸æ¡å½ä»¤æ§è¡åè¯¥å¯¹è±¡çç¶æã\n * ä½ å¯ä»¥åæ¶ä½¿ç¨å¤å¿å½åè¿­ä»£å¨æ¨¡å¼æ¥è·åå½åè¿­ä»£å¨çç¶æï¼ å¹¶ä¸å¨éè¦çæ¶åè¿è¡åæ»ã\n * ææ¶åååæ¨¡å¼å¯ä»¥ä½ä¸ºå¤å¿å½çä¸ä¸ªç®åçæ¬ï¼ å¶æ¡ä»¶æ¯ä½ éè¦å¨åå²è®°å½ä¸­å­å¨çå¯¹è±¡çç¶ææ¯è¾ç®åï¼ ä¸éè¦é¾æ¥å¶ä»å¤é¨èµæºï¼ æèé¾æ¥å¯ä»¥æ¹ä¾¿å°éå»ºã\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ å¤å¿å½çåºæ¬ååå¯éè¿åºååæ¥å®ç°ï¼ è¿å¨ Java è¯­è¨ä¸­å¾å¸¸è§ã å°½ç®¡å¤å¿å½ä¸æ¯çæå¯¹è±¡ç¶æå¿«ç§çå¯ä¸æææææ¹æ³ï¼ ä½å®è½å¨ä¿æ¤åå§å¯¹è±¡çç»æä¸æ´é²ç»å¶ä»å¯¹è±¡çæåµä¸ä¿å­å¯¹è±¡ç¶æçå¤ä»½ã\n\nä¸é¢æ¯æ ¸å¿ Java ç¨åºåºä¸­è¯¥æ¨¡å¼çä¸äºç¤ºä¾ï¼\n\n * ææ java.io.Serializable çå®ç°é½å¯ä»¥æ¨¡æå¤å¿å½ã\n * ææ javax.faces.component.StateHolder çå®ç°ã\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',normalizedContent:'# è®¾è®¡æ¨¡å¼ä¹å¤å¿å½æ¨¡å¼\n\n\n# æå¾\n\nå¤å¿å½æ¨¡å¼ï¼mementoï¼ æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼ åè®¸å¨ä¸æ´é²å¯¹è±¡å®ç°ç»èçæåµä¸ä¿å­åæ¢å¤å¯¹è±¡ä¹åçç¶æã\n\n\n# éç¨åºæ¯\n\n * å½ä½ éè¦åå»ºå¯¹è±¡ç¶æå¿«ç§æ¥æ¢å¤å¶ä¹åçç¶ææ¶ï¼ å¯ä»¥ä½¿ç¨å¤å¿å½æ¨¡å¼ã\n * å½ç´æ¥è®¿é®å¯¹è±¡çæååéã è·åå¨æè®¾ç½®å¨å°å¯¼è´å°è£è¢«çªç ´æ¶ï¼ å¯ä»¥ä½¿ç¨è¯¥æ¨¡å¼ã\n\n\n# ç»æ\n\n\n# ç»æè¯´æ\n\n# åºäºåµå¥ç±»çå®ç°\n\n\n\n 1. ååå¨ ï¼originatorï¼ ç±»å¯ä»¥çæèªèº«ç¶æçå¿«ç§ï¼ ä¹å¯ä»¥å¨éè¦æ¶éè¿å¿«ç§æ¢å¤èªèº«ç¶æã\n\n 2. å¤å¿å½ ï¼mementoï¼ æ¯ååå¨ç¶æå¿«ç§çå¼å¯¹è±¡ ï¼value objectï¼ã éå¸¸åæ³æ¯å°å¤å¿å½è®¾ä¸ºä¸å¯åçï¼ å¹¶éè¿æé å½æ°ä¸æ¬¡æ§ä¼ éæ°æ®ã\n\n 3. è´è´£äºº ï¼caretakerï¼ ä»ç¥é âä½æ¶â å âä¸ºä½â ææååå¨çç¶æï¼ ä»¥åä½æ¶æ¢å¤ç¶æã\n    \n    è´è´£äººéè¿ä¿å­å¤å¿å½æ æ¥è®°å½ååå¨çåå²ç¶æã å½ååå¨éè¦åæº¯åå²ç¶ææ¶ï¼ è´è´£äººå°ä»æ ä¸­è·åæé¡¶é¨çå¤å¿å½ï¼ å¹¶å°å¶ä¼ éç»ååå¨çæ¢å¤ ï¼restorationï¼ æ¹æ³ã\n\n 4. å¨è¯¥å®ç°æ¹æ³ä¸­ï¼ å¤å¿å½ç±»å°è¢«åµå¥å¨ååå¨ä¸­ã è¿æ ·ååå¨å°±å¯è®¿é®å¤å¿å½çæååéåæ¹æ³ï¼ å³ä½¿è¿äºæ¹æ³è¢«å£°æä¸ºç§æã å¦ä¸æ¹é¢ï¼ è´è´£äººå¯¹äºå¤å¿å½çæååéåæ¹æ³çè®¿é®æééå¸¸æéï¼ å®ä»¬åªè½å¨æ ä¸­ä¿å­å¤å¿å½ï¼ èä¸è½ä¿®æ¹å¶ç¶æã\n\n# åºäºä¸­é´æ¥å£çå®ç°\n\nå¦å¤ä¸ç§å®ç°æ¹æ³éç¨äºä¸æ¯æåµå¥ç±»çç¼ç¨è¯­è¨ ï¼æ²¡éï¼ æè¯´çå°±æ¯ phpï¼ã\n\n\n\n 1. å¨æ²¡æåµå¥ç±»çæåµä¸ï¼ ä½ å¯ä»¥è§å®è´è´£äººä»å¯éè¿æç¡®å£°æçä¸­é´æ¥å£ä¸å¤å¿å½äºå¨ï¼ è¯¥æ¥å£ä»å£°æä¸å¤å¿å½åæ°æ®ç¸å³çæ¹æ³ï¼ éå¶å¶å¯¹å¤å¿å½æååéçç´æ¥è®¿é®æéã\n 2. å¦ä¸æ¹é¢ï¼ ååå¨å¯ä»¥ç´æ¥ä¸å¤å¿å½å¯¹è±¡è¿è¡äº¤äºï¼ è®¿é®å¤å¿å½ç±»ä¸­å£°æçæååéåæ¹æ³ã è¿ç§æ¹å¼çç¼ºç¹å¨äºä½ éè¦å°å¤å¿å½çæææååéå£°æä¸ºå¬æã\n\n# å°è£æ´å ä¸¥æ ¼çå®ç°\n\nå¦æä½ ä¸æ³è®©å¶ä»ç±»æä»»ä½æºä¼éè¿å¤å¿å½æ¥è®¿é®ååå¨çç¶æï¼ é£ä¹è¿æå¦ä¸ç§å¯ç¨çå®ç°æ¹å¼ã\n\n\n\n 1. è¿ç§å®ç°æ¹å¼åè®¸å­å¨å¤ç§ä¸åç±»åçååå¨åå¤å¿å½ã æ¯ç§ååå¨é½åå¶ç¸åºçå¤å¿å½ç±»è¿è¡äº¤äºã ååå¨åå¤å¿å½é½ä¸ä¼å°å¶ç¶ææ´é²ç»å¶ä»ç±»ã\n 2. è´è´£äººæ­¤æ¶è¢«æç¡®ç¦æ­¢ä¿®æ¹å­å¨å¨å¤å¿å½ä¸­çç¶æã ä½è´è´£äººç±»å°ç¬ç«äºååå¨ï¼ å ä¸ºæ­¤æ¶æ¢å¤æ¹æ³è¢«å®ä¹å¨äºå¤å¿å½ç±»ä¸­ã\n 3. æ¯ä¸ªå¤å¿å½å°ä¸åå»ºäºèªèº«çååå¨è¿æ¥ã ååå¨ä¼å°èªå·±åç¶æä¼ éç»å¤å¿å½çæé å½æ°ã ç±äºè¿äºç±»ä¹é´çç´§å¯èç³»ï¼ åªè¦ååå¨å®ä¹äºåéçè®¾ç½®å¨ ï¼setterï¼ï¼ å¤å¿å½å°±è½æ¢å¤å¶ç¶æã\n\n\n# ç»æä»£ç èå¼\n\nmemento : è´è´£å­å¨ originator å¯¹è±¡çåé¨ç¶æï¼å¹¶å¯ä»¥é²æ­¢ originator ä»¥å¤çå¶ä»å¯¹è±¡è®¿é® mementoã\n\nmemento æä¸¤ä¸ªæ¥å£ï¼caretaker åªè½çå°å¤å¿å½ççªæ¥å£ï¼å®åªè½å°å¤å¿å½ä¼ éç»å¶ä»å¯¹è±¡ã originator å¯ä»¥çå°ä¸ä¸ªå®½æ¥å£ï¼åè®¸å®è®¿é®è¿åå°ååç¶ææéçæææ°æ®ã\n\nclass memento {\n    private string state;\n    public memento(string state) {\n        this.state = state;\n    }\n\n    public string getstate() {\n        return state;\n    }\n}\n\n\noriginator : è´è´£åå»ºä¸ä¸ªå¤å¿å½ mementoï¼ç¨ä»¥è®°å½å½åæ¶å»å®çåé¨ç¶æï¼å¹¶å¯ä½¿ç¨å¤å¿å½æ¢å¤åé¨ç¶æã\n\noriginator å¯æ ¹æ®éè¦å³å® memento å­å¨ originator çåªäºåé¨ç¶æã\n\nclass originator {\n    private string state;\n\n    public void setstate(string state) {\n        this.state = state;\n    }\n    public string getstate() {\n        return state;\n    }\n\n    public memento creatememento() {\n        return (new memento(state));\n    }\n\n    public void setmemento(memento memento) {\n        state = memento.getstate();\n    }\n\n    public void show() {\n        system.out.println("state = " + state);\n    }\n}\n\n\ncaretaker : è´è´£ä¿å­å¥½å¤å¿å½ mementoï¼ä¸è½å¯¹å¤å¿å½çåå®¹è¿è¡æä½ææ£æ¥ã\n\nclass caretaker {\n    private memento memento;\n\n    public void setmemento(memento memento) {\n        this.memento = memento;\n    }\n    public memento getmemento() {\n        return memento;\n    }\n}\n\n\nå®¢æ·ç«¯\n\npublic class mementopattern {\n    public static void main(string[] args) {\n        originator o = new originator();\n        o.setstate("on");\n        o.show();\n\n        caretaker c = new caretaker();\n        c.setmemento(o.creatememento());\n\n        o.setstate("off");\n        o.show();\n\n        o.setmemento(c.getmemento());\n        o.show();\n    }\n}\n\n\nè¾åº\n\nstate = on\nstate = off\nstate = on\n\n\n\n# ä¼ªä»£ç \n\næ¬ä¾ç»åä½¿ç¨äºå½ä»¤æ¨¡å¼ä¸å¤å¿å½æ¨¡å¼ï¼ å¯ä¿å­å¤ææå­ç¼è¾å¨çç¶æå¿«ç§ï¼ å¹¶è½å¨éè¦æ¶ä»å¿«ç§ä¸­æ¢å¤ä¹åçç¶æã\n\n\n\nå½ä»¤ ï¼commandï¼ å¯¹è±¡å°ä½ä¸ºè´è´£äººï¼ å®ä»¬ä¼å¨æ§è¡ä¸å½ä»¤ç¸å³çæä½åè·åç¼è¾å¨çå¤å¿å½ã å½ç¨æ·è¯å¾æ¤éæè¿çå½ä»¤æ¶ï¼ ç¼è¾å¨å¯ä»¥ä½¿ç¨ä¿å­å¨å½ä»¤ä¸­çå¤å¿å½æ¥å°èªèº«åæ»å°ä¹åçç¶æã\n\nå¤å¿å½ç±»æ²¡æå£°æä»»ä½å¬æçæååéã è·åå¨ ï¼getterï¼ åè®¾ç½®å¨ï¼ å æ­¤æ²¡æå¯¹è±¡å¯ä»¥ä¿®æ¹å¶åå®¹ã å¤å¿å½ä¸åå»ºèªå·±çç¼è¾å¨ç¸è¿æ¥ï¼ è¿ä½¿å¾å¤å¿å½è½å¤éè¿ç¼è¾å¨å¯¹è±¡çè®¾ç½®å¨ä¼ éæ°æ®ï¼ æ¢å¤ä¸å¶ç¸è¿æ¥çç¼è¾å¨çç¶æã ç±äºå¤å¿å½ä¸ç¹å®çç¼è¾å¨å¯¹è±¡ç¸è¿æ¥ï¼ ç¨åºå¯ä»¥ä½¿ç¨ä¸­å¿åçæ¤éæ å®ç°å¯¹å¤ä¸ªç¬ç«ç¼è¾å¨çªå£çæ¯æã\n\n// ååå¨ä¸­åå«äºä¸äºå¯è½ä¼éæ¶é´ååçéè¦æ°æ®ãå®è¿å®ä¹äºå¨å¤å¿å½ä¸­ä¿å­\n// èªèº«ç¶æçæ¹æ³ï¼ä»¥åä»å¤å¿å½ä¸­æ¢å¤ç¶æçæ¹æ³ã\nclass editor is\n    private field text, curx, cury, selectionwidth\n\n    method settext(text) is\n        this.text = text\n\n    method setcursor(x, y) is\n        this.curx = curx\n        this.cury = cury\n\n    method setselectionwidth(width) is\n        this.selectionwidth = width\n\n    // å¨å¤å¿å½ä¸­ä¿å­å½åçç¶æã\n    method createsnapshot():snapshot is\n        // å¤å¿å½æ¯ä¸å¯åçå¯¹è±¡ï¼å æ­¤ååå¨ä¼å°èªèº«ç¶æä½ä¸ºåæ°ä¼ éç»å¤å¿\n        // å½çæé å½æ°ã\n        return new snapshot(this, text, curx, cury, selectionwidth)\n\n// å¤å¿å½ç±»ä¿å­æç¼è¾å¨çè¿å¾ç¶æã\nclass snapshot is\n    private field editor: editor\n    private field text, curx, cury, selectionwidth\n\n    constructor snapshot(editor, text, curx, cury, selectionwidth) is\n        this.editor = editor\n        this.text = text\n        this.curx = curx\n        this.cury = cury\n        this.selectionwidth = selectionwidth\n\n    // å¨æä¸æ¶å»ï¼ç¼è¾å¨ä¹åçç¶æå¯ä»¥ä½¿ç¨å¤å¿å½å¯¹è±¡æ¥æ¢å¤ã\n    method restore() is\n        editor.settext(text)\n        editor.setcursor(curx, cury)\n        editor.setselectionwidth(selectionwidth)\n\n// å½ä»¤å¯¹è±¡å¯ä½ä¸ºè´è´£äººãå¨è¿ç§æåµä¸ï¼å½ä»¤ä¼å¨ä¿®æ¹ååå¨ç¶æä¹åè·åä¸ä¸ª\n// å¤å¿å½ãå½éè¦æ¤éæ¶ï¼å®ä¼ä»å¤å¿å½ä¸­æ¢å¤ååå¨çç¶æã\nclass command is\n    private field backup: snapshot\n\n    method makebackup() is\n        backup = editor.createsnapshot()\n\n    method undo() is\n        if (backup != null)\n            backup.restore()\n    // ...\n\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * ä½ å¯ä»¥åæ¶ä½¿ç¨å½ä»¤æ¨¡å¼åå¤å¿å½æ¨¡å¼æ¥å®ç° âæ¤éâã å¨è¿ç§æåµä¸ï¼ å½ä»¤ç¨äºå¯¹ç®æ å¯¹è±¡æ§è¡åç§ä¸åçæä½ï¼ å¤å¿å½ç¨æ¥ä¿å­ä¸æ¡å½ä»¤æ§è¡åè¯¥å¯¹è±¡çç¶æã\n * ä½ å¯ä»¥åæ¶ä½¿ç¨å¤å¿å½åè¿­ä»£å¨æ¨¡å¼æ¥è·åå½åè¿­ä»£å¨çç¶æï¼ å¹¶ä¸å¨éè¦çæ¶åè¿è¡åæ»ã\n * ææ¶åååæ¨¡å¼å¯ä»¥ä½ä¸ºå¤å¿å½çä¸ä¸ªç®åçæ¬ï¼ å¶æ¡ä»¶æ¯ä½ éè¦å¨åå²è®°å½ä¸­å­å¨çå¯¹è±¡çç¶ææ¯è¾ç®åï¼ ä¸éè¦é¾æ¥å¶ä»å¤é¨èµæºï¼ æèé¾æ¥å¯ä»¥æ¹ä¾¿å°éå»ºã\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ å¤å¿å½çåºæ¬ååå¯éè¿åºååæ¥å®ç°ï¼ è¿å¨ java è¯­è¨ä¸­å¾å¸¸è§ã å°½ç®¡å¤å¿å½ä¸æ¯çæå¯¹è±¡ç¶æå¿«ç§çå¯ä¸æææææ¹æ³ï¼ ä½å®è½å¨ä¿æ¤åå§å¯¹è±¡çç»æä¸æ´é²ç»å¶ä»å¯¹è±¡çæåµä¸ä¿å­å¯¹è±¡ç¶æçå¤ä»½ã\n\nä¸é¢æ¯æ ¸å¿ java ç¨åºåºä¸­è¯¥æ¨¡å¼çä¸äºç¤ºä¾ï¼\n\n * ææ java.io.serializable çå®ç°é½å¯ä»¥æ¨¡æå¤å¿å½ã\n * ææ javax.faces.component.stateholder çå®ç°ã\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼ä¹ç­ç¥æ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼ä¹ç­ç¥æ¨¡å¼",date:"2015-01-22T16:14:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/dc8ecd/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/22.%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/22.ç­ç¥æ¨¡å¼.md",key:"v-f0251290",path:"/pages/dc8ecd/",headers:[{level:2,title:"æå¾",slug:"æå¾",normalizedTitle:"æå¾",charIndex:16},{level:2,title:"éç¨åºæ¯",slug:"éç¨åºæ¯",normalizedTitle:"éç¨åºæ¯",charIndex:95},{level:2,title:"ç»æ",slug:"ç»æ",normalizedTitle:"ç»æ",charIndex:279},{level:3,title:"ç»æè¯´æ",slug:"ç»æè¯´æ",normalizedTitle:"ç»æè¯´æ",charIndex:286},{level:3,title:"ç»æä»£ç èå¼",slug:"ç»æä»£ç èå¼",normalizedTitle:"ç»æä»£ç èå¼",charIndex:584},{level:2,title:"ä¼ªä»£ç ",slug:"ä¼ªä»£ç ",normalizedTitle:"ä¼ªä»£ç ",charIndex:1922},{level:2,title:"æ¡ä¾",slug:"æ¡ä¾",normalizedTitle:"æ¡ä¾",charIndex:3393},{level:2,title:"ä¸å¶ä»æ¨¡å¼çå³ç³»",slug:"ä¸å¶ä»æ¨¡å¼çå³ç³»",normalizedTitle:"ä¸å¶ä»æ¨¡å¼çå³ç³»",charIndex:3805},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:4447}],headersStr:"æå¾ éç¨åºæ¯ ç»æ ç»æè¯´æ ç»æä»£ç èå¼ ä¼ªä»£ç  æ¡ä¾ ä¸å¶ä»æ¨¡å¼çå³ç³» åèèµæ",content:'# è®¾è®¡æ¨¡å¼ä¹ç­ç¥æ¨¡å¼\n\n\n# æå¾\n\nç­ç¥æ¨¡å¼ï¼Strategyï¼ æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼ å®è½è®©ä½ å®ä¹ä¸ç³»åç®æ³ï¼ å¹¶å°æ¯ç§ç®æ³åå«æ¾å¥ç¬ç«çç±»ä¸­ï¼ ä»¥ä½¿ç®æ³çå¯¹è±¡è½å¤ç¸äºæ¿æ¢ã\n\n\n# éç¨åºæ¯\n\n * å½ä½ æ³ä½¿ç¨å¯¹è±¡ä¸­åç§ä¸åçç®æ³åä½ï¼ å¹¶å¸æè½å¨è¿è¡æ¶åæ¢ç®æ³æ¶ï¼ å¯ä½¿ç¨ç­ç¥æ¨¡å¼ã\n * å½ä½ æè®¸å¤ä»å¨æ§è¡æäºè¡ä¸ºæ¶ç¥æä¸åçç¸ä¼¼ç±»æ¶ï¼ å¯ä½¿ç¨ç­ç¥æ¨¡å¼ã\n * å¦æç®æ³å¨ä¸ä¸æçé»è¾ä¸­ä¸æ¯ç¹å«éè¦ï¼ ä½¿ç¨è¯¥æ¨¡å¼è½å°ç±»çä¸å¡é»è¾ä¸å¶ç®æ³å®ç°ç»èéç¦»å¼æ¥ã\n * å½ç±»ä¸­ä½¿ç¨äºå¤ææ¡ä»¶è¿ç®ç¬¦ä»¥å¨åä¸ç®æ³çä¸ååä½ä¸­åæ¢æ¶ï¼ å¯ä½¿ç¨è¯¥æ¨¡å¼ã\n\n\n# ç»æ\n\n\n# ç»æè¯´æ\n\n\n\n 1. ä¸ä¸æ ï¼Contextï¼ ç»´æ¤æåå·ä½ç­ç¥çå¼ç¨ï¼ ä¸ä»éè¿ç­ç¥æ¥å£ä¸è¯¥å¯¹è±¡è¿è¡äº¤æµã\n 2. ç­ç¥ ï¼Strategyï¼ æ¥å£æ¯ææå·ä½ç­ç¥çéç¨æ¥å£ï¼ å®å£°æäºä¸ä¸ªä¸ä¸æç¨äºæ§è¡ç­ç¥çæ¹æ³ã\n 3. å·ä½ç­ç¥ ï¼Concrete Strategiesï¼ å®ç°äºä¸ä¸ææç¨ç®æ³çåç§ä¸ååä½ã\n 4. å½ä¸ä¸æéè¦è¿è¡ç®æ³æ¶ï¼ å®ä¼å¨å¶å·²è¿æ¥çç­ç¥å¯¹è±¡ä¸è°ç¨æ§è¡æ¹æ³ã ä¸ä¸æä¸æ¸æ¥å¶ææ¶åçç­ç¥ç±»åä¸ç®æ³çæ§è¡æ¹å¼ã\n 5. å®¢æ·ç«¯ ï¼Clientï¼ ä¼åå»ºä¸ä¸ªç¹å®ç­ç¥å¯¹è±¡å¹¶å°å¶ä¼ éç»ä¸ä¸æã ä¸ä¸æåä¼æä¾ä¸ä¸ªè®¾ç½®å¨ä»¥ä¾¿å®¢æ·ç«¯å¨è¿è¡æ¶æ¿æ¢ç¸å³èçç­ç¥ã\n\n\n# ç»æä»£ç èå¼\n\nStrategy : å®ä¹ææç®æ³çå¬å±æ¥å£(AlgorithmInterface)ãContext ä½¿ç¨è¿ä¸ªæ¥å£å»è°ç¨ ConcreteStrategy å®ä¹çå·ä½ç®æ³ã\n\nabstract class Strategy {\n    public abstract void AlgorithmInterface();\n}\n\n\nConcreteStrategy : å®ç° Strategy ä¸­çç®æ³æ¥å£(AlgorithmInterface)ã\n\nclass ConcreteStrategyA extends Strategy {\n    @Override\n    public void AlgorithmInterface() {\n        System.out.println("ç®æ³A");\n    }\n}\n\nclass ConcreteStrategyB extends Strategy {\n    @Override\n    public void AlgorithmInterface() {\n        System.out.println("ç®æ³B");\n    }\n}\n\nclass ConcreteStrategyC extends Strategy {\n    @Override\n    public void AlgorithmInterface() {\n        System.out.println("ç®æ³C");\n    }\n}\n\n\nContext : ç¨ä¸ä¸ª ConcreteStrategy æ¥éç½®ãç»´æ¤ä¸ä¸ªå¯¹ Strategy å¯¹è±¡çå¼ç¨ã\n\nclass Context {\n    Strategy strategy;\n    public Context(Strategy strategy) {\n        this.strategy = strategy;\n    }\n\n    public void ContextInterface() {\n        strategy.AlgorithmInterface();\n    }\n}\n\n\nå®¢æ·ç«¯\n\npublic class StrategyPattern {\n    public static void main(String[] args) {\n        Context context1 = new Context(new ConcreteStrategyA());\n        context1.ContextInterface();\n\n        Context context2 = new Context(new ConcreteStrategyB());\n        context2.ContextInterface();\n\n        Context context3 = new Context(new ConcreteStrategyC());\n        context3.ContextInterface();\n    }\n}\n\n\nè¾åº\n\nç®æ³A\nç®æ³B\nç®æ³C\n\n\n\n# ä¼ªä»£ç \n\nå¨æ¬ä¾ä¸­ï¼ ä¸ä¸æä½¿ç¨äºå¤ä¸ªç­ç¥æ¥æ§è¡ä¸åçè®¡ç®æä½ã\n\n// ç­ç¥æ¥å£å£°æäºæä¸ªç®æ³åä¸ªä¸åçæ¬é´æå±æçæä½ãä¸ä¸æä¼ä½¿ç¨è¯¥æ¥å£æ¥\n// è°ç¨æå·ä½ç­ç¥å®ä¹çç®æ³ã\ninterface Strategy is\n    method execute(a, b)\n\n// å·ä½ç­ç¥ä¼å¨éµå¾ªç­ç¥åºç¡æ¥å£çæåµä¸å®ç°ç®æ³ãè¯¥æ¥å£å®ç°äºå®ä»¬å¨ä¸ä¸æ\n// ä¸­çäºæ¢æ§ã\nclass ConcreteStrategyAdd implements Strategy is\n    method execute(a, b) is\n        return a + b\n\nclass ConcreteStrategySubtract implements Strategy is\n    method execute(a, b) is\n        return a - b\n\nclass ConcreteStrategyMultiply implements Strategy is\n    method execute(a, b) is\n        return a * b\n\n// ä¸ä¸æå®ä¹äºå®¢æ·ç«¯å³æ³¨çæ¥å£ã\nclass Context is\n    // ä¸ä¸æä¼ç»´æ¤æåæä¸ªç­ç¥å¯¹è±¡çå¼ç¨ãä¸ä¸æä¸ç¥æç­ç¥çå·ä½ç±»ãä¸ä¸\n    // æå¿é¡»éè¿ç­ç¥æ¥å£æ¥ä¸ææç­ç¥è¿è¡äº¤äºã\n    private strategy: Strategy\n\n    // ä¸ä¸æéå¸¸ä¼éè¿æé å½æ°æ¥æ¥æ¶ç­ç¥å¯¹è±¡ï¼åæ¶è¿æä¾è®¾ç½®å¨ä»¥ä¾¿å¨è¿è¡\n    // æ¶åæ¢ç­ç¥ã\n    method setStrategy(Strategy strategy) is\n        this.strategy = strategy\n\n    // ä¸ä¸æä¼å°ä¸äºå·¥ä½å§æ´¾ç»ç­ç¥å¯¹è±¡ï¼èä¸æ¯èªè¡å®ç°ä¸åçæ¬çç®æ³ã\n    method executeStrategy(int a, int b) is\n        return strategy.execute(a, b)\n\n\n// å®¢æ·ç«¯ä»£ç ä¼éæ©å·ä½ç­ç¥å¹¶å°å¶ä¼ éç»ä¸ä¸æãå®¢æ·ç«¯å¿é¡»ç¥æç­ç¥ä¹é´çå·®\n// å¼ï¼æè½ååºæ­£ç¡®çéæ©ã\nclass ExampleApplication is\n    method main() is\n\n        åå»ºä¸ä¸æå¯¹è±¡ã\n\n        è¯»åç¬¬ä¸ä¸ªæ°ã\n        è¯»åæåä¸ä¸ªæ°ã\n        ä»ç¨æ·è¾å¥ä¸­è¯»åææè¿è¡çè¡ä¸ºã\n\n        if (action == addition) then\n            context.setStrategy(new ConcreteStrategyAdd())\n\n        if (action == subtraction) then\n            context.setStrategy(new ConcreteStrategySubtract())\n\n        if (action == multiplication) then\n            context.setStrategy(new ConcreteStrategyMultiply())\n\n        result = context.executeStrategy(First number, Second number)\n\n        æå°ç»æã\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ ç­ç¥æ¨¡å¼å¨ Java ä»£ç ä¸­å¾å¸¸è§ã å®ç»å¸¸å¨åç§æ¡æ¶ä¸­ä½¿ç¨ï¼ è½å¨ä¸æ©å±ç±»çæåµä¸åç¨æ·æä¾æ¹åå¶è¡ä¸ºçæ¹å¼ã\n\nJava 8 å¼å§æ¯æ lambda æ¹æ³ï¼ å®å¯ä½ä¸ºä¸ç§æ¿ä»£ç­ç¥æ¨¡å¼çç®åæ¹å¼ã\n\nè¿éæä¸äºæ ¸å¿ Java ç¨åºåºä¸­ç­ç¥æ¨¡å¼çç¤ºä¾ï¼\n\n * å¯¹ java.util.Comparator#compare() çè°ç¨æ¥èª Collections#sort().\n * javax.servlet.http.HttpServletï¼ serviceÂ­()æ¹æ³ï¼ è¿ææææ¥å HttpÂ­ServletÂ­Requestå HttpÂ­ServletÂ­Responseå¯¹è±¡ä½ä¸ºåæ°ç doÂ­XXX()æ¹æ³ã\n * javax.servlet.Filter#doFilter()\n\nè¯å«æ¹æ³ï¼ ç­ç¥æ¨¡å¼å¯ä»¥éè¿åè®¸åµå¥å¯¹è±¡å®æå®éå·¥ä½çæ¹æ³ä»¥ååè®¸å°è¯¥å¯¹è±¡æ¿æ¢ä¸ºä¸åå¯¹è±¡çè®¾ç½®å¨æ¥è¯å«ã\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * æ¡¥æ¥æ¨¡å¼ã ç¶ææ¨¡å¼åç­ç¥æ¨¡å¼ ï¼å¨æç§ç¨åº¦ä¸åæ¬ééå¨æ¨¡å¼ï¼ æ¨¡å¼çæ¥å£éå¸¸ç¸ä¼¼ã å®éä¸ï¼ å®ä»¬é½åºäºç»åæ¨¡å¼ââå³å°å·¥ä½å§æ´¾ç»å¶ä»å¯¹è±¡ï¼ ä¸è¿ä¹åèªè§£å³äºä¸åçé®é¢ã æ¨¡å¼å¹¶ä¸åªæ¯ä»¥ç¹å®æ¹å¼ç»ç»ä»£ç çéæ¹ï¼ ä½ è¿å¯ä»¥ä½¿ç¨å®ä»¬æ¥åå¶ä»å¼åèè®¨è®ºæ¨¡å¼æè§£å³çé®é¢ã\n * å½ä»¤æ¨¡å¼åç­ç¥çä¸å»å¾åï¼ å ä¸ºä¸¤èé½è½éè¿æäºè¡ä¸ºæ¥åæ°åå¯¹è±¡ã ä½æ¯ï¼ å®ä»¬çæå¾æéå¸¸å¤§çä¸åã\n   * ä½ å¯ä»¥ä½¿ç¨å½ä»¤æ¥å°ä»»ä½æä½è½¬æ¢ä¸ºå¯¹è±¡ã æä½çåæ°å°æä¸ºå¯¹è±¡çæååéã ä½ å¯ä»¥éè¿è½¬æ¢æ¥å»¶è¿æä½çæ§è¡ã å°æä½æ¾å¥éåã ä¿å­åå²å½ä»¤æèåè¿ç¨æå¡åéå½ä»¤ç­ã\n   * å¦ä¸æ¹é¢ï¼ ç­ç¥éå¸¸å¯ç¨äºæè¿°å®ææä»¶äºçä¸åæ¹å¼ï¼ è®©ä½ è½å¤å¨åä¸ä¸ªä¸ä¸æç±»ä¸­åæ¢ç®æ³ã\n * è£é¥°æ¨¡å¼å¯è®©ä½ æ´æ¹å¯¹è±¡çå¤è¡¨ï¼ ç­ç¥åè®©ä½ è½å¤æ¹åå¶æ¬è´¨ã\n * æ¨¡æ¿æ¹æ³æ¨¡å¼åºäºç»§æ¿æºå¶ï¼ å®åè®¸ä½ éè¿æ©å±å­ç±»ä¸­çé¨ååå®¹æ¥æ¹åé¨åç®æ³ã ç­ç¥åºäºç»åæºå¶ï¼ ä½ å¯ä»¥éè¿å¯¹ç¸åºè¡ä¸ºæä¾ä¸åçç­ç¥æ¥æ¹åå¯¹è±¡çé¨åè¡ä¸ºã æ¨¡æ¿æ¹æ³å¨ç±»å±æ¬¡ä¸è¿ä½ï¼ å æ­¤å®æ¯éæçã ç­ç¥å¨å¯¹è±¡å±æ¬¡ä¸è¿ä½ï¼ å æ­¤åè®¸å¨è¿è¡æ¶åæ¢è¡ä¸ºã\n * ç¶æå¯è¢«è§ä¸ºç­ç¥çæ©å±ã ä¸¤èé½åºäºç»åæºå¶ï¼ å®ä»¬é½éè¿å°é¨åå·¥ä½å§æ´¾ç» âå¸®æâ å¯¹è±¡æ¥æ¹åå¶å¨ä¸åææ¯ä¸çè¡ä¸ºã ç­ç¥ä½¿å¾è¿äºå¯¹è±¡ç¸äºä¹é´å®å¨ç¬ç«ï¼ å®ä»¬ä¸ç¥éå¶ä»å¯¹è±¡çå­å¨ã ä½ç¶ææ¨¡å¼æ²¡æéå¶å·ä½ç¶æä¹é´çä¾èµï¼ ä¸åè®¸å®ä»¬èªè¡æ¹åå¨ä¸åææ¯ä¸çç¶æã\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',normalizedContent:'# è®¾è®¡æ¨¡å¼ä¹ç­ç¥æ¨¡å¼\n\n\n# æå¾\n\nç­ç¥æ¨¡å¼ï¼strategyï¼ æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼ å®è½è®©ä½ å®ä¹ä¸ç³»åç®æ³ï¼ å¹¶å°æ¯ç§ç®æ³åå«æ¾å¥ç¬ç«çç±»ä¸­ï¼ ä»¥ä½¿ç®æ³çå¯¹è±¡è½å¤ç¸äºæ¿æ¢ã\n\n\n# éç¨åºæ¯\n\n * å½ä½ æ³ä½¿ç¨å¯¹è±¡ä¸­åç§ä¸åçç®æ³åä½ï¼ å¹¶å¸æè½å¨è¿è¡æ¶åæ¢ç®æ³æ¶ï¼ å¯ä½¿ç¨ç­ç¥æ¨¡å¼ã\n * å½ä½ æè®¸å¤ä»å¨æ§è¡æäºè¡ä¸ºæ¶ç¥æä¸åçç¸ä¼¼ç±»æ¶ï¼ å¯ä½¿ç¨ç­ç¥æ¨¡å¼ã\n * å¦æç®æ³å¨ä¸ä¸æçé»è¾ä¸­ä¸æ¯ç¹å«éè¦ï¼ ä½¿ç¨è¯¥æ¨¡å¼è½å°ç±»çä¸å¡é»è¾ä¸å¶ç®æ³å®ç°ç»èéç¦»å¼æ¥ã\n * å½ç±»ä¸­ä½¿ç¨äºå¤ææ¡ä»¶è¿ç®ç¬¦ä»¥å¨åä¸ç®æ³çä¸ååä½ä¸­åæ¢æ¶ï¼ å¯ä½¿ç¨è¯¥æ¨¡å¼ã\n\n\n# ç»æ\n\n\n# ç»æè¯´æ\n\n\n\n 1. ä¸ä¸æ ï¼contextï¼ ç»´æ¤æåå·ä½ç­ç¥çå¼ç¨ï¼ ä¸ä»éè¿ç­ç¥æ¥å£ä¸è¯¥å¯¹è±¡è¿è¡äº¤æµã\n 2. ç­ç¥ ï¼strategyï¼ æ¥å£æ¯ææå·ä½ç­ç¥çéç¨æ¥å£ï¼ å®å£°æäºä¸ä¸ªä¸ä¸æç¨äºæ§è¡ç­ç¥çæ¹æ³ã\n 3. å·ä½ç­ç¥ ï¼concrete strategiesï¼ å®ç°äºä¸ä¸ææç¨ç®æ³çåç§ä¸ååä½ã\n 4. å½ä¸ä¸æéè¦è¿è¡ç®æ³æ¶ï¼ å®ä¼å¨å¶å·²è¿æ¥çç­ç¥å¯¹è±¡ä¸è°ç¨æ§è¡æ¹æ³ã ä¸ä¸æä¸æ¸æ¥å¶ææ¶åçç­ç¥ç±»åä¸ç®æ³çæ§è¡æ¹å¼ã\n 5. å®¢æ·ç«¯ ï¼clientï¼ ä¼åå»ºä¸ä¸ªç¹å®ç­ç¥å¯¹è±¡å¹¶å°å¶ä¼ éç»ä¸ä¸æã ä¸ä¸æåä¼æä¾ä¸ä¸ªè®¾ç½®å¨ä»¥ä¾¿å®¢æ·ç«¯å¨è¿è¡æ¶æ¿æ¢ç¸å³èçç­ç¥ã\n\n\n# ç»æä»£ç èå¼\n\nstrategy : å®ä¹ææç®æ³çå¬å±æ¥å£(algorithminterface)ãcontext ä½¿ç¨è¿ä¸ªæ¥å£å»è°ç¨ concretestrategy å®ä¹çå·ä½ç®æ³ã\n\nabstract class strategy {\n    public abstract void algorithminterface();\n}\n\n\nconcretestrategy : å®ç° strategy ä¸­çç®æ³æ¥å£(algorithminterface)ã\n\nclass concretestrategya extends strategy {\n    @override\n    public void algorithminterface() {\n        system.out.println("ç®æ³a");\n    }\n}\n\nclass concretestrategyb extends strategy {\n    @override\n    public void algorithminterface() {\n        system.out.println("ç®æ³b");\n    }\n}\n\nclass concretestrategyc extends strategy {\n    @override\n    public void algorithminterface() {\n        system.out.println("ç®æ³c");\n    }\n}\n\n\ncontext : ç¨ä¸ä¸ª concretestrategy æ¥éç½®ãç»´æ¤ä¸ä¸ªå¯¹ strategy å¯¹è±¡çå¼ç¨ã\n\nclass context {\n    strategy strategy;\n    public context(strategy strategy) {\n        this.strategy = strategy;\n    }\n\n    public void contextinterface() {\n        strategy.algorithminterface();\n    }\n}\n\n\nå®¢æ·ç«¯\n\npublic class strategypattern {\n    public static void main(string[] args) {\n        context context1 = new context(new concretestrategya());\n        context1.contextinterface();\n\n        context context2 = new context(new concretestrategyb());\n        context2.contextinterface();\n\n        context context3 = new context(new concretestrategyc());\n        context3.contextinterface();\n    }\n}\n\n\nè¾åº\n\nç®æ³a\nç®æ³b\nç®æ³c\n\n\n\n# ä¼ªä»£ç \n\nå¨æ¬ä¾ä¸­ï¼ ä¸ä¸æä½¿ç¨äºå¤ä¸ªç­ç¥æ¥æ§è¡ä¸åçè®¡ç®æä½ã\n\n// ç­ç¥æ¥å£å£°æäºæä¸ªç®æ³åä¸ªä¸åçæ¬é´æå±æçæä½ãä¸ä¸æä¼ä½¿ç¨è¯¥æ¥å£æ¥\n// è°ç¨æå·ä½ç­ç¥å®ä¹çç®æ³ã\ninterface strategy is\n    method execute(a, b)\n\n// å·ä½ç­ç¥ä¼å¨éµå¾ªç­ç¥åºç¡æ¥å£çæåµä¸å®ç°ç®æ³ãè¯¥æ¥å£å®ç°äºå®ä»¬å¨ä¸ä¸æ\n// ä¸­çäºæ¢æ§ã\nclass concretestrategyadd implements strategy is\n    method execute(a, b) is\n        return a + b\n\nclass concretestrategysubtract implements strategy is\n    method execute(a, b) is\n        return a - b\n\nclass concretestrategymultiply implements strategy is\n    method execute(a, b) is\n        return a * b\n\n// ä¸ä¸æå®ä¹äºå®¢æ·ç«¯å³æ³¨çæ¥å£ã\nclass context is\n    // ä¸ä¸æä¼ç»´æ¤æåæä¸ªç­ç¥å¯¹è±¡çå¼ç¨ãä¸ä¸æä¸ç¥æç­ç¥çå·ä½ç±»ãä¸ä¸\n    // æå¿é¡»éè¿ç­ç¥æ¥å£æ¥ä¸ææç­ç¥è¿è¡äº¤äºã\n    private strategy: strategy\n\n    // ä¸ä¸æéå¸¸ä¼éè¿æé å½æ°æ¥æ¥æ¶ç­ç¥å¯¹è±¡ï¼åæ¶è¿æä¾è®¾ç½®å¨ä»¥ä¾¿å¨è¿è¡\n    // æ¶åæ¢ç­ç¥ã\n    method setstrategy(strategy strategy) is\n        this.strategy = strategy\n\n    // ä¸ä¸æä¼å°ä¸äºå·¥ä½å§æ´¾ç»ç­ç¥å¯¹è±¡ï¼èä¸æ¯èªè¡å®ç°ä¸åçæ¬çç®æ³ã\n    method executestrategy(int a, int b) is\n        return strategy.execute(a, b)\n\n\n// å®¢æ·ç«¯ä»£ç ä¼éæ©å·ä½ç­ç¥å¹¶å°å¶ä¼ éç»ä¸ä¸æãå®¢æ·ç«¯å¿é¡»ç¥æç­ç¥ä¹é´çå·®\n// å¼ï¼æè½ååºæ­£ç¡®çéæ©ã\nclass exampleapplication is\n    method main() is\n\n        åå»ºä¸ä¸æå¯¹è±¡ã\n\n        è¯»åç¬¬ä¸ä¸ªæ°ã\n        è¯»åæåä¸ä¸ªæ°ã\n        ä»ç¨æ·è¾å¥ä¸­è¯»åææè¿è¡çè¡ä¸ºã\n\n        if (action == addition) then\n            context.setstrategy(new concretestrategyadd())\n\n        if (action == subtraction) then\n            context.setstrategy(new concretestrategysubtract())\n\n        if (action == multiplication) then\n            context.setstrategy(new concretestrategymultiply())\n\n        result = context.executestrategy(first number, second number)\n\n        æå°ç»æã\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ ç­ç¥æ¨¡å¼å¨ java ä»£ç ä¸­å¾å¸¸è§ã å®ç»å¸¸å¨åç§æ¡æ¶ä¸­ä½¿ç¨ï¼ è½å¨ä¸æ©å±ç±»çæåµä¸åç¨æ·æä¾æ¹åå¶è¡ä¸ºçæ¹å¼ã\n\njava 8 å¼å§æ¯æ lambda æ¹æ³ï¼ å®å¯ä½ä¸ºä¸ç§æ¿ä»£ç­ç¥æ¨¡å¼çç®åæ¹å¼ã\n\nè¿éæä¸äºæ ¸å¿ java ç¨åºåºä¸­ç­ç¥æ¨¡å¼çç¤ºä¾ï¼\n\n * å¯¹ java.util.comparator#compare() çè°ç¨æ¥èª collections#sort().\n * javax.servlet.http.httpservletï¼ serviceÂ­()æ¹æ³ï¼ è¿ææææ¥å httpÂ­servletÂ­requestå httpÂ­servletÂ­responseå¯¹è±¡ä½ä¸ºåæ°ç doÂ­xxx()æ¹æ³ã\n * javax.servlet.filter#dofilter()\n\nè¯å«æ¹æ³ï¼ ç­ç¥æ¨¡å¼å¯ä»¥éè¿åè®¸åµå¥å¯¹è±¡å®æå®éå·¥ä½çæ¹æ³ä»¥ååè®¸å°è¯¥å¯¹è±¡æ¿æ¢ä¸ºä¸åå¯¹è±¡çè®¾ç½®å¨æ¥è¯å«ã\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * æ¡¥æ¥æ¨¡å¼ã ç¶ææ¨¡å¼åç­ç¥æ¨¡å¼ ï¼å¨æç§ç¨åº¦ä¸åæ¬ééå¨æ¨¡å¼ï¼ æ¨¡å¼çæ¥å£éå¸¸ç¸ä¼¼ã å®éä¸ï¼ å®ä»¬é½åºäºç»åæ¨¡å¼ââå³å°å·¥ä½å§æ´¾ç»å¶ä»å¯¹è±¡ï¼ ä¸è¿ä¹åèªè§£å³äºä¸åçé®é¢ã æ¨¡å¼å¹¶ä¸åªæ¯ä»¥ç¹å®æ¹å¼ç»ç»ä»£ç çéæ¹ï¼ ä½ è¿å¯ä»¥ä½¿ç¨å®ä»¬æ¥åå¶ä»å¼åèè®¨è®ºæ¨¡å¼æè§£å³çé®é¢ã\n * å½ä»¤æ¨¡å¼åç­ç¥çä¸å»å¾åï¼ å ä¸ºä¸¤èé½è½éè¿æäºè¡ä¸ºæ¥åæ°åå¯¹è±¡ã ä½æ¯ï¼ å®ä»¬çæå¾æéå¸¸å¤§çä¸åã\n   * ä½ å¯ä»¥ä½¿ç¨å½ä»¤æ¥å°ä»»ä½æä½è½¬æ¢ä¸ºå¯¹è±¡ã æä½çåæ°å°æä¸ºå¯¹è±¡çæååéã ä½ å¯ä»¥éè¿è½¬æ¢æ¥å»¶è¿æä½çæ§è¡ã å°æä½æ¾å¥éåã ä¿å­åå²å½ä»¤æèåè¿ç¨æå¡åéå½ä»¤ç­ã\n   * å¦ä¸æ¹é¢ï¼ ç­ç¥éå¸¸å¯ç¨äºæè¿°å®ææä»¶äºçä¸åæ¹å¼ï¼ è®©ä½ è½å¤å¨åä¸ä¸ªä¸ä¸æç±»ä¸­åæ¢ç®æ³ã\n * è£é¥°æ¨¡å¼å¯è®©ä½ æ´æ¹å¯¹è±¡çå¤è¡¨ï¼ ç­ç¥åè®©ä½ è½å¤æ¹åå¶æ¬è´¨ã\n * æ¨¡æ¿æ¹æ³æ¨¡å¼åºäºç»§æ¿æºå¶ï¼ å®åè®¸ä½ éè¿æ©å±å­ç±»ä¸­çé¨ååå®¹æ¥æ¹åé¨åç®æ³ã ç­ç¥åºäºç»åæºå¶ï¼ ä½ å¯ä»¥éè¿å¯¹ç¸åºè¡ä¸ºæä¾ä¸åçç­ç¥æ¥æ¹åå¯¹è±¡çé¨åè¡ä¸ºã æ¨¡æ¿æ¹æ³å¨ç±»å±æ¬¡ä¸è¿ä½ï¼ å æ­¤å®æ¯éæçã ç­ç¥å¨å¯¹è±¡å±æ¬¡ä¸è¿ä½ï¼ å æ­¤åè®¸å¨è¿è¡æ¶åæ¢è¡ä¸ºã\n * ç¶æå¯è¢«è§ä¸ºç­ç¥çæ©å±ã ä¸¤èé½åºäºç»åæºå¶ï¼ å®ä»¬é½éè¿å°é¨åå·¥ä½å§æ´¾ç» âå¸®æâ å¯¹è±¡æ¥æ¹åå¶å¨ä¸åææ¯ä¸çè¡ä¸ºã ç­ç¥ä½¿å¾è¿äºå¯¹è±¡ç¸äºä¹é´å®å¨ç¬ç«ï¼ å®ä»¬ä¸ç¥éå¶ä»å¯¹è±¡çå­å¨ã ä½ç¶ææ¨¡å¼æ²¡æéå¶å·ä½ç¶æä¹é´çä¾èµï¼ ä¸åè®¸å®ä»¬èªè¡æ¹åå¨ä¸åææ¯ä¸çç¶æã\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼ä¹ç¶ææ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼ä¹ç¶ææ¨¡å¼",date:"2015-01-23T10:29:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/d77095/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/24.%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/24.ç¶ææ¨¡å¼.md",key:"v-1457855d",path:"/pages/d77095/",headers:[{level:2,title:"æå¾",slug:"æå¾",normalizedTitle:"æå¾",charIndex:16},{level:2,title:"éç¨åºæ¯",slug:"éç¨åºæ¯",normalizedTitle:"éç¨åºæ¯",charIndex:90},{level:2,title:"ç»æ",slug:"ç»æ",normalizedTitle:"ç»æ",charIndex:254},{level:3,title:"ç»æè¯´æ",slug:"ç»æè¯´æ",normalizedTitle:"ç»æè¯´æ",charIndex:261},{level:3,title:"ç»æä»£ç èå¼",slug:"ç»æä»£ç èå¼",normalizedTitle:"ç»æä»£ç èå¼",charIndex:642},{level:2,title:"ä¼ªä»£ç ",slug:"ä¼ªä»£ç ",normalizedTitle:"ä¼ªä»£ç ",charIndex:1777},{level:2,title:"æ¡ä¾",slug:"æ¡ä¾",normalizedTitle:"æ¡ä¾",charIndex:4743},{level:2,title:"ä¸å¶ä»æ¨¡å¼çå³ç³»",slug:"ä¸å¶ä»æ¨¡å¼çå³ç³»",normalizedTitle:"ä¸å¶ä»æ¨¡å¼çå³ç³»",charIndex:4961},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:5247}],headersStr:"æå¾ éç¨åºæ¯ ç»æ ç»æè¯´æ ç»æä»£ç èå¼ ä¼ªä»£ç  æ¡ä¾ ä¸å¶ä»æ¨¡å¼çå³ç³» åèèµæ",content:'# è®¾è®¡æ¨¡å¼ä¹ç¶ææ¨¡å¼\n\n\n# æå¾\n\nç¶ææ¨¡å¼ï¼Stateï¼ æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼ è®©ä½ è½å¨ä¸ä¸ªå¯¹è±¡çåé¨ç¶æååæ¶æ¹åå¶è¡ä¸ºï¼ ä½¿å¶çä¸å»å°±åæ¹åäºèªèº«æå±çç±»ä¸æ ·ã\n\n\n# éç¨åºæ¯\n\n * å¦æå¯¹è±¡éè¦æ ¹æ®èªèº«å½åç¶æè¿è¡ä¸åè¡ä¸ºï¼ åæ¶ç¶æçæ°ééå¸¸å¤ä¸ä¸ç¶æç¸å³çä»£ç ä¼é¢ç¹åæ´çè¯ï¼ å¯ä½¿ç¨ç¶ææ¨¡å¼ã\n * å¦ææä¸ªç±»éè¦æ ¹æ®æååéçå½åå¼æ¹åèªèº«è¡ä¸ºï¼ ä»èéè¦ä½¿ç¨å¤§éçæ¡ä»¶è¯­å¥æ¶ï¼ å¯ä½¿ç¨è¯¥æ¨¡å¼ã\n * å½ç¸ä¼¼ç¶æååºäºæ¡ä»¶çç¶ææºè½¬æ¢ä¸­å­å¨è®¸å¤éå¤ä»£ç æ¶ï¼ å¯ä½¿ç¨ç¶ææ¨¡å¼ã\n\n\n# ç»æ\n\n\n# ç»æè¯´æ\n\n\n\n 1. ä¸ä¸æ ï¼Contextï¼ ä¿å­äºå¯¹äºä¸ä¸ªå·ä½ç¶æå¯¹è±¡çå¼ç¨ï¼ å¹¶ä¼å°ææä¸è¯¥ç¶æç¸å³çå·¥ä½å§æ´¾ç»å®ã ä¸ä¸æéè¿ç¶ææ¥å£ä¸ç¶æå¯¹è±¡äº¤äºï¼ ä¸ä¼æä¾ä¸ä¸ªè®¾ç½®å¨ç¨äºä¼ éæ°çç¶æå¯¹è±¡ã\n 2. ç¶æ ï¼Stateï¼ æ¥å£ä¼å£°æç¹å®äºç¶æçæ¹æ³ã è¿äºæ¹æ³åºè½è¢«å¶ä»ææå·ä½ç¶ææçè§£ï¼ å ä¸ºä½ ä¸å¸ææäºç¶æææ¥æçæ¹æ³æ°¸è¿ä¸ä¼è¢«è°ç¨ã\n 3. å·ä½ç¶æ ï¼Concrete Statesï¼ ä¼èªè¡å®ç°ç¹å®äºç¶æçæ¹æ³ã ä¸ºäºé¿åå¤ä¸ªç¶æä¸­åå«ç¸ä¼¼ä»£ç ï¼ ä½ å¯ä»¥æä¾ä¸ä¸ªå°è£æé¨åéç¨è¡ä¸ºçä¸­é´æ½è±¡ç±»ã\n    * ç¶æå¯¹è±¡å¯å­å¨å¯¹äºä¸ä¸æå¯¹è±¡çååå¼ç¨ã ç¶æå¯ä»¥éè¿è¯¥å¼ç¨ä»ä¸ä¸æå¤è·åæéä¿¡æ¯ï¼ å¹¶ä¸è½è§¦åç¶æè½¬ç§»ã\n 4. ä¸ä¸æåå·ä½ç¶æé½å¯ä»¥è®¾ç½®ä¸ä¸æçä¸ä¸ªç¶æï¼ å¹¶å¯éè¿æ¿æ¢è¿æ¥å°ä¸ä¸æçç¶æå¯¹è±¡æ¥å®æå®éçç¶æè½¬æ¢ã\n\n\n# ç»æä»£ç èå¼\n\nState : å®ä¹ä¸ä¸ªæ¥å£ä»¥å°è£ä¸ Context çä¸ä¸ªç¹å®ç¶æç¸å³çè¡ä¸ºã\n\nabstract class State {\n    public abstract void Handle(Context context);\n}\n\n\nConcreteState : æ¯ä¸ä¸ªå­ç±»å®ç°ä¸ä¸ªä¸ Context çä¸ä¸ªç¶æç¸å³çè¡ä¸ºã\n\nclass ConcreteStateA extends State {\n    @Override\n    public void Handle(Context context) {\n        context.SetState(new ConcreteStateB());\n    }\n}\n\nclass ConcreteStateB extends State {\n    @Override\n    public void Handle(Context context) {\n        context.SetState(new ConcreteStateA());\n    }\n}\n\n\nContext : ç»´æ¤ä¸ä¸ª ConcreteState å­ç±»çå®ä¾ï¼è¿ä¸ªå®ä¾å®ä¹å½åçç¶æã\n\nclass Context {\n    private State state;\n    public Context(State state) {\n        this.state = state;\n    }\n\n    public void SetState(State state) {\n        this.state = state;\n        System.out.println("å½åç¶æï¼" + state.getClass().getName());\n    }\n    public State GetState() {\n        return state;\n    }\n\n    public void Request() {\n        state.Handle(this);\n    }\n}\n\n\n\nå®¢æ·ç«¯\n\npublic class StatePattern {\n    public static void main(String[] args) {\n        Context c = new Context(new ConcreteStateA());\n        c.Request();\n        c.Request();\n    }\n}\n\n\nè¾åº\n\nå½åç¶æï¼ConcreteStateB\nå½åç¶æï¼ConcreteStateA\n\n\n\n# ä¼ªä»£ç \n\nå¨æ¬ä¾ä¸­ï¼ ç¶ææ¨¡å¼å°æ ¹æ®å½ååæ¾ç¶æï¼ è®©åªä½æ­æ¾å¨ä¸­çç¸åæ§ä»¶å®æä¸åçè¡ä¸ºã\n\n\n\næ­æ¾å¨çä¸»è¦å¯¹è±¡æ»æ¯ä¼è¿æ¥å°ä¸ä¸ªè´è´£æ­æ¾å¨ç»å¤§é¨åå·¥ä½çç¶æå¯¹è±¡ä¸­ã é¨åæä½ä¼æ´æ¢æ­æ¾å¨å½åçç¶æå¯¹è±¡ï¼ ä»¥æ­¤æ¹åæ­æ¾å¨å¯¹äºç¨æ·äºå¨æä½åºçååºã\n\n// é³é¢æ­æ¾å¨ï¼AudioÂ­Playerï¼ç±»å³ä¸ºä¸ä¸æãå®è¿ä¼ç»´æ¤æåç¶æç±»å®ä¾çå¼ç¨ï¼\n// è¯¥ç¶æç±»åç¨äºè¡¨ç¤ºé³é¢æ­æ¾å¨å½åçç¶æã\nclass AudioPlayer is\n    field state: State\n    field UI, volume, playlist, currentSong\n\n    constructor AudioPlayer() is\n        this.state = new ReadyState(this)\n\n        // ä¸ä¸æä¼å°å¤çç¨æ·è¾å¥çå·¥ä½å§æ´¾ç»ç¶æå¯¹è±¡ãç±äºæ¯ä¸ªç¶æé½ä»¥ä¸\n        // åçæ¹å¼å¤çè¾å¥ï¼å¶ç»æèªç¶å°ä¾èµäºå½åæå¤çç¶æã\n        UI = new UserInterface()\n        UI.lockButton.onClick(this.clickLock)\n        UI.playButton.onClick(this.clickPlay)\n        UI.nextButton.onClick(this.clickNext)\n        UI.prevButton.onClick(this.clickPrevious)\n\n    // å¶ä»å¯¹è±¡å¿é¡»è½åæ¢é³é¢æ­æ¾å¨å½åæå¤çç¶æã\n    method changeState(state: State) is\n        this.state = state\n\n    // UI æ¹æ³ä¼å°æ§è¡å·¥ä½å§æ´¾ç»å½åç¶æã\n    method clickLock() is\n        state.clickLock()\n    method clickPlay() is\n        state.clickPlay()\n    method clickNext() is\n        state.clickNext()\n    method clickPrevious() is\n        state.clickPrevious()\n\n    // ç¶æå¯è°ç¨ä¸ä¸æçä¸äºæå¡æ¹æ³ã\n    method startPlayback() is\n        // ...\n    method stopPlayback() is\n        // ...\n    method nextSong() is\n        // ...\n    method previousSong() is\n        // ...\n    method fastForward(time) is\n        // ...\n    method rewind(time) is\n        // ...\n\n\n// ææå·ä½ç¶æç±»é½å¿é¡»å®ç°ç¶æåºç±»å£°æçæ¹æ³ï¼å¹¶æä¾ååå¼ç¨æåä¸ç¶æç¸\n// å³çä¸ä¸æå¯¹è±¡ãç¶æå¯ä½¿ç¨ååå¼ç¨å°ä¸ä¸æè½¬æ¢ä¸ºå¦ä¸ä¸ªç¶æã\nabstract class State is\n    protected field player: AudioPlayer\n\n    // ä¸ä¸æå°èªèº«ä¼ éç»ç¶ææé å½æ°ãè¿å¯å¸®å©ç¶æå¨éè¦æ¶è·åä¸äºæç¨ç\n    // ä¸ä¸ææ°æ®ã\n    constructor State(player) is\n        this.player = player\n\n    abstract method clickLock()\n    abstract method clickPlay()\n    abstract method clickNext()\n    abstract method clickPrevious()\n\n\n// å·ä½ç¶æä¼å®ç°ä¸ä¸ä¸æç¶æç¸å³çå¤ç§è¡ä¸ºã\nclass LockedState extends State is\n\n    // å½ä½ è§£éä¸ä¸ªéå®çæ­æ¾å¨æ¶ï¼å®å¯è½å¤äºä¸¤ç§ç¶æä¹ä¸ã\n    method clickLock() is\n        if (player.playing)\n            player.changeState(new PlayingState(player))\n        else\n            player.changeState(new ReadyState(player))\n\n    method clickPlay() is\n        // å·²éå®ï¼ä»ä¹ä¹ä¸åã\n\n    method clickNext() is\n        // å·²éå®ï¼ä»ä¹ä¹ä¸åã\n\n    method clickPrevious() is\n        // å·²éå®ï¼ä»ä¹ä¹ä¸åã\n\n\n// å®ä»¬è¿å¯å¨ä¸ä¸æä¸­è§¦åç¶æè½¬æ¢ã\nclass ReadyState extends State is\n    method clickLock() is\n        player.changeState(new LockedState(player))\n\n    method clickPlay() is\n        player.startPlayback()\n        player.changeState(new PlayingState(player))\n\n    method clickNext() is\n        player.nextSong()\n\n    method clickPrevious() is\n        player.previousSong()\n\n\nclass PlayingState extends State is\n    method clickLock() is\n        player.changeState(new LockedState(player))\n\n    method clickPlay() is\n        player.stopPlayback()\n        player.changeState(new ReadyState(player))\n\n    method clickNext() is\n        if (event.doubleclick)\n            player.nextSong()\n        else\n            player.fastForward(5)\n\n    method clickPrevious() is\n        if (event.doubleclick)\n            player.previous()\n        else\n            player.rewind(5)\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ å¨ Java è¯­è¨ä¸­ï¼ ç¶ææ¨¡å¼éå¸¸è¢«ç¨äºå°åºäº switchè¯­å¥çå¤§åç¶ææºè½¬æ¢ä¸ºå¯¹è±¡ã\n\nè¿éæ¯æ ¸å¿ Java ç¨åºåºä¸­ä¸äºç¶ææ¨¡å¼çç¤ºä¾ï¼\n\n * javax.faces.lifecycle.LifeCycle#execute() ï¼ç± FacesÂ­Servletæ§å¶ï¼ è¡ä¸ºä¾èµäºå½å JSF çå½å¨æçé¶æ®µ ï¼ç¶æï¼ï¼\n\nè¯å«æ¹æ³ï¼ ç¶ææ¨¡å¼å¯éè¿åå¤é¨æ§å¶ä¸è½æ ¹æ®å¯¹è±¡ç¶ææ¹åè¡ä¸ºçæ¹æ³æ¥è¯å«ã\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * æ¡¥æ¥æ¨¡å¼ã ç¶ææ¨¡å¼åç­ç¥æ¨¡å¼ ï¼å¨æç§ç¨åº¦ä¸åæ¬ééå¨æ¨¡å¼ï¼ æ¨¡å¼çæ¥å£éå¸¸ç¸ä¼¼ã å®éä¸ï¼ å®ä»¬é½åºäºç»åæ¨¡å¼ââå³å°å·¥ä½å§æ´¾ç»å¶ä»å¯¹è±¡ï¼ ä¸è¿ä¹åèªè§£å³äºä¸åçé®é¢ã æ¨¡å¼å¹¶ä¸åªæ¯ä»¥ç¹å®æ¹å¼ç»ç»ä»£ç çéæ¹ï¼ ä½ è¿å¯ä»¥ä½¿ç¨å®ä»¬æ¥åå¶ä»å¼åèè®¨è®ºæ¨¡å¼æè§£å³çé®é¢ã\n * ç¶æå¯è¢«è§ä¸ºç­ç¥çæ©å±ã ä¸¤èé½åºäºç»åæºå¶ï¼ å®ä»¬é½éè¿å°é¨åå·¥ä½å§æ´¾ç» âå¸®æâ å¯¹è±¡æ¥æ¹åå¶å¨ä¸åææ¯ä¸çè¡ä¸ºã ç­ç¥ä½¿å¾è¿äºå¯¹è±¡ç¸äºä¹é´å®å¨ç¬ç«ï¼ å®ä»¬ä¸ç¥éå¶ä»å¯¹è±¡çå­å¨ã ä½ç¶ææ¨¡å¼æ²¡æéå¶å·ä½ç¶æä¹é´çä¾èµï¼ ä¸åè®¸å®ä»¬èªè¡æ¹åå¨ä¸åææ¯ä¸çç¶æã\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',normalizedContent:'# è®¾è®¡æ¨¡å¼ä¹ç¶ææ¨¡å¼\n\n\n# æå¾\n\nç¶ææ¨¡å¼ï¼stateï¼ æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼ è®©ä½ è½å¨ä¸ä¸ªå¯¹è±¡çåé¨ç¶æååæ¶æ¹åå¶è¡ä¸ºï¼ ä½¿å¶çä¸å»å°±åæ¹åäºèªèº«æå±çç±»ä¸æ ·ã\n\n\n# éç¨åºæ¯\n\n * å¦æå¯¹è±¡éè¦æ ¹æ®èªèº«å½åç¶æè¿è¡ä¸åè¡ä¸ºï¼ åæ¶ç¶æçæ°ééå¸¸å¤ä¸ä¸ç¶æç¸å³çä»£ç ä¼é¢ç¹åæ´çè¯ï¼ å¯ä½¿ç¨ç¶ææ¨¡å¼ã\n * å¦ææä¸ªç±»éè¦æ ¹æ®æååéçå½åå¼æ¹åèªèº«è¡ä¸ºï¼ ä»èéè¦ä½¿ç¨å¤§éçæ¡ä»¶è¯­å¥æ¶ï¼ å¯ä½¿ç¨è¯¥æ¨¡å¼ã\n * å½ç¸ä¼¼ç¶æååºäºæ¡ä»¶çç¶ææºè½¬æ¢ä¸­å­å¨è®¸å¤éå¤ä»£ç æ¶ï¼ å¯ä½¿ç¨ç¶ææ¨¡å¼ã\n\n\n# ç»æ\n\n\n# ç»æè¯´æ\n\n\n\n 1. ä¸ä¸æ ï¼contextï¼ ä¿å­äºå¯¹äºä¸ä¸ªå·ä½ç¶æå¯¹è±¡çå¼ç¨ï¼ å¹¶ä¼å°ææä¸è¯¥ç¶æç¸å³çå·¥ä½å§æ´¾ç»å®ã ä¸ä¸æéè¿ç¶ææ¥å£ä¸ç¶æå¯¹è±¡äº¤äºï¼ ä¸ä¼æä¾ä¸ä¸ªè®¾ç½®å¨ç¨äºä¼ éæ°çç¶æå¯¹è±¡ã\n 2. ç¶æ ï¼stateï¼ æ¥å£ä¼å£°æç¹å®äºç¶æçæ¹æ³ã è¿äºæ¹æ³åºè½è¢«å¶ä»ææå·ä½ç¶ææçè§£ï¼ å ä¸ºä½ ä¸å¸ææäºç¶æææ¥æçæ¹æ³æ°¸è¿ä¸ä¼è¢«è°ç¨ã\n 3. å·ä½ç¶æ ï¼concrete statesï¼ ä¼èªè¡å®ç°ç¹å®äºç¶æçæ¹æ³ã ä¸ºäºé¿åå¤ä¸ªç¶æä¸­åå«ç¸ä¼¼ä»£ç ï¼ ä½ å¯ä»¥æä¾ä¸ä¸ªå°è£æé¨åéç¨è¡ä¸ºçä¸­é´æ½è±¡ç±»ã\n    * ç¶æå¯¹è±¡å¯å­å¨å¯¹äºä¸ä¸æå¯¹è±¡çååå¼ç¨ã ç¶æå¯ä»¥éè¿è¯¥å¼ç¨ä»ä¸ä¸æå¤è·åæéä¿¡æ¯ï¼ å¹¶ä¸è½è§¦åç¶æè½¬ç§»ã\n 4. ä¸ä¸æåå·ä½ç¶æé½å¯ä»¥è®¾ç½®ä¸ä¸æçä¸ä¸ªç¶æï¼ å¹¶å¯éè¿æ¿æ¢è¿æ¥å°ä¸ä¸æçç¶æå¯¹è±¡æ¥å®æå®éçç¶æè½¬æ¢ã\n\n\n# ç»æä»£ç èå¼\n\nstate : å®ä¹ä¸ä¸ªæ¥å£ä»¥å°è£ä¸ context çä¸ä¸ªç¹å®ç¶æç¸å³çè¡ä¸ºã\n\nabstract class state {\n    public abstract void handle(context context);\n}\n\n\nconcretestate : æ¯ä¸ä¸ªå­ç±»å®ç°ä¸ä¸ªä¸ context çä¸ä¸ªç¶æç¸å³çè¡ä¸ºã\n\nclass concretestatea extends state {\n    @override\n    public void handle(context context) {\n        context.setstate(new concretestateb());\n    }\n}\n\nclass concretestateb extends state {\n    @override\n    public void handle(context context) {\n        context.setstate(new concretestatea());\n    }\n}\n\n\ncontext : ç»´æ¤ä¸ä¸ª concretestate å­ç±»çå®ä¾ï¼è¿ä¸ªå®ä¾å®ä¹å½åçç¶æã\n\nclass context {\n    private state state;\n    public context(state state) {\n        this.state = state;\n    }\n\n    public void setstate(state state) {\n        this.state = state;\n        system.out.println("å½åç¶æï¼" + state.getclass().getname());\n    }\n    public state getstate() {\n        return state;\n    }\n\n    public void request() {\n        state.handle(this);\n    }\n}\n\n\n\nå®¢æ·ç«¯\n\npublic class statepattern {\n    public static void main(string[] args) {\n        context c = new context(new concretestatea());\n        c.request();\n        c.request();\n    }\n}\n\n\nè¾åº\n\nå½åç¶æï¼concretestateb\nå½åç¶æï¼concretestatea\n\n\n\n# ä¼ªä»£ç \n\nå¨æ¬ä¾ä¸­ï¼ ç¶ææ¨¡å¼å°æ ¹æ®å½ååæ¾ç¶æï¼ è®©åªä½æ­æ¾å¨ä¸­çç¸åæ§ä»¶å®æä¸åçè¡ä¸ºã\n\n\n\næ­æ¾å¨çä¸»è¦å¯¹è±¡æ»æ¯ä¼è¿æ¥å°ä¸ä¸ªè´è´£æ­æ¾å¨ç»å¤§é¨åå·¥ä½çç¶æå¯¹è±¡ä¸­ã é¨åæä½ä¼æ´æ¢æ­æ¾å¨å½åçç¶æå¯¹è±¡ï¼ ä»¥æ­¤æ¹åæ­æ¾å¨å¯¹äºç¨æ·äºå¨æä½åºçååºã\n\n// é³é¢æ­æ¾å¨ï¼audioÂ­playerï¼ç±»å³ä¸ºä¸ä¸æãå®è¿ä¼ç»´æ¤æåç¶æç±»å®ä¾çå¼ç¨ï¼\n// è¯¥ç¶æç±»åç¨äºè¡¨ç¤ºé³é¢æ­æ¾å¨å½åçç¶æã\nclass audioplayer is\n    field state: state\n    field ui, volume, playlist, currentsong\n\n    constructor audioplayer() is\n        this.state = new readystate(this)\n\n        // ä¸ä¸æä¼å°å¤çç¨æ·è¾å¥çå·¥ä½å§æ´¾ç»ç¶æå¯¹è±¡ãç±äºæ¯ä¸ªç¶æé½ä»¥ä¸\n        // åçæ¹å¼å¤çè¾å¥ï¼å¶ç»æèªç¶å°ä¾èµäºå½åæå¤çç¶æã\n        ui = new userinterface()\n        ui.lockbutton.onclick(this.clicklock)\n        ui.playbutton.onclick(this.clickplay)\n        ui.nextbutton.onclick(this.clicknext)\n        ui.prevbutton.onclick(this.clickprevious)\n\n    // å¶ä»å¯¹è±¡å¿é¡»è½åæ¢é³é¢æ­æ¾å¨å½åæå¤çç¶æã\n    method changestate(state: state) is\n        this.state = state\n\n    // ui æ¹æ³ä¼å°æ§è¡å·¥ä½å§æ´¾ç»å½åç¶æã\n    method clicklock() is\n        state.clicklock()\n    method clickplay() is\n        state.clickplay()\n    method clicknext() is\n        state.clicknext()\n    method clickprevious() is\n        state.clickprevious()\n\n    // ç¶æå¯è°ç¨ä¸ä¸æçä¸äºæå¡æ¹æ³ã\n    method startplayback() is\n        // ...\n    method stopplayback() is\n        // ...\n    method nextsong() is\n        // ...\n    method previoussong() is\n        // ...\n    method fastforward(time) is\n        // ...\n    method rewind(time) is\n        // ...\n\n\n// ææå·ä½ç¶æç±»é½å¿é¡»å®ç°ç¶æåºç±»å£°æçæ¹æ³ï¼å¹¶æä¾ååå¼ç¨æåä¸ç¶æç¸\n// å³çä¸ä¸æå¯¹è±¡ãç¶æå¯ä½¿ç¨ååå¼ç¨å°ä¸ä¸æè½¬æ¢ä¸ºå¦ä¸ä¸ªç¶æã\nabstract class state is\n    protected field player: audioplayer\n\n    // ä¸ä¸æå°èªèº«ä¼ éç»ç¶ææé å½æ°ãè¿å¯å¸®å©ç¶æå¨éè¦æ¶è·åä¸äºæç¨ç\n    // ä¸ä¸ææ°æ®ã\n    constructor state(player) is\n        this.player = player\n\n    abstract method clicklock()\n    abstract method clickplay()\n    abstract method clicknext()\n    abstract method clickprevious()\n\n\n// å·ä½ç¶æä¼å®ç°ä¸ä¸ä¸æç¶æç¸å³çå¤ç§è¡ä¸ºã\nclass lockedstate extends state is\n\n    // å½ä½ è§£éä¸ä¸ªéå®çæ­æ¾å¨æ¶ï¼å®å¯è½å¤äºä¸¤ç§ç¶æä¹ä¸ã\n    method clicklock() is\n        if (player.playing)\n            player.changestate(new playingstate(player))\n        else\n            player.changestate(new readystate(player))\n\n    method clickplay() is\n        // å·²éå®ï¼ä»ä¹ä¹ä¸åã\n\n    method clicknext() is\n        // å·²éå®ï¼ä»ä¹ä¹ä¸åã\n\n    method clickprevious() is\n        // å·²éå®ï¼ä»ä¹ä¹ä¸åã\n\n\n// å®ä»¬è¿å¯å¨ä¸ä¸æä¸­è§¦åç¶æè½¬æ¢ã\nclass readystate extends state is\n    method clicklock() is\n        player.changestate(new lockedstate(player))\n\n    method clickplay() is\n        player.startplayback()\n        player.changestate(new playingstate(player))\n\n    method clicknext() is\n        player.nextsong()\n\n    method clickprevious() is\n        player.previoussong()\n\n\nclass playingstate extends state is\n    method clicklock() is\n        player.changestate(new lockedstate(player))\n\n    method clickplay() is\n        player.stopplayback()\n        player.changestate(new readystate(player))\n\n    method clicknext() is\n        if (event.doubleclick)\n            player.nextsong()\n        else\n            player.fastforward(5)\n\n    method clickprevious() is\n        if (event.doubleclick)\n            player.previous()\n        else\n            player.rewind(5)\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ å¨ java è¯­è¨ä¸­ï¼ ç¶ææ¨¡å¼éå¸¸è¢«ç¨äºå°åºäº switchè¯­å¥çå¤§åç¶ææºè½¬æ¢ä¸ºå¯¹è±¡ã\n\nè¿éæ¯æ ¸å¿ java ç¨åºåºä¸­ä¸äºç¶ææ¨¡å¼çç¤ºä¾ï¼\n\n * javax.faces.lifecycle.lifecycle#execute() ï¼ç± facesÂ­servletæ§å¶ï¼ è¡ä¸ºä¾èµäºå½å jsf çå½å¨æçé¶æ®µ ï¼ç¶æï¼ï¼\n\nè¯å«æ¹æ³ï¼ ç¶ææ¨¡å¼å¯éè¿åå¤é¨æ§å¶ä¸è½æ ¹æ®å¯¹è±¡ç¶ææ¹åè¡ä¸ºçæ¹æ³æ¥è¯å«ã\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * æ¡¥æ¥æ¨¡å¼ã ç¶ææ¨¡å¼åç­ç¥æ¨¡å¼ ï¼å¨æç§ç¨åº¦ä¸åæ¬ééå¨æ¨¡å¼ï¼ æ¨¡å¼çæ¥å£éå¸¸ç¸ä¼¼ã å®éä¸ï¼ å®ä»¬é½åºäºç»åæ¨¡å¼ââå³å°å·¥ä½å§æ´¾ç»å¶ä»å¯¹è±¡ï¼ ä¸è¿ä¹åèªè§£å³äºä¸åçé®é¢ã æ¨¡å¼å¹¶ä¸åªæ¯ä»¥ç¹å®æ¹å¼ç»ç»ä»£ç çéæ¹ï¼ ä½ è¿å¯ä»¥ä½¿ç¨å®ä»¬æ¥åå¶ä»å¼åèè®¨è®ºæ¨¡å¼æè§£å³çé®é¢ã\n * ç¶æå¯è¢«è§ä¸ºç­ç¥çæ©å±ã ä¸¤èé½åºäºç»åæºå¶ï¼ å®ä»¬é½éè¿å°é¨åå·¥ä½å§æ´¾ç» âå¸®æâ å¯¹è±¡æ¥æ¹åå¶å¨ä¸åææ¯ä¸çè¡ä¸ºã ç­ç¥ä½¿å¾è¿äºå¯¹è±¡ç¸äºä¹é´å®å¨ç¬ç«ï¼ å®ä»¬ä¸ç¥éå¶ä»å¯¹è±¡çå­å¨ã ä½ç¶ææ¨¡å¼æ²¡æéå¶å·ä½ç¶æä¹é´çä¾èµï¼ ä¸åè®¸å®ä»¬èªè¡æ¹åå¨ä¸åææ¯ä¸çç¶æã\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼ä¹è®¿é®èæ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼ä¹è®¿é®èæ¨¡å¼",date:"2015-01-22T18:25:00.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/671352/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/23.%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/23.è®¿é®èæ¨¡å¼.md",key:"v-0f7af49e",path:"/pages/671352/",headers:[{level:2,title:"æå¾",slug:"æå¾",normalizedTitle:"æå¾",charIndex:17},{level:2,title:"éç¨åºæ¯",slug:"éç¨åºæ¯",normalizedTitle:"éç¨åºæ¯",charIndex:70},{level:2,title:"ç»æ",slug:"ç»æ",normalizedTitle:"ç»æ",charIndex:91},{level:3,title:"ç»æè¯´æ",slug:"ç»æè¯´æ",normalizedTitle:"ç»æè¯´æ",charIndex:209},{level:3,title:"ç»æä»£ç èå¼",slug:"ç»æä»£ç èå¼",normalizedTitle:"ç»æä»£ç èå¼",charIndex:630},{level:2,title:"ä¼ªä»£ç ",slug:"ä¼ªä»£ç ",normalizedTitle:"ä¼ªä»£ç ",charIndex:3208},{level:2,title:"æ¡ä¾",slug:"æ¡ä¾",normalizedTitle:"æ¡ä¾",charIndex:4977},{level:2,title:"ä¸å¶ä»æ¨¡å¼çå³ç³»",slug:"ä¸å¶ä»æ¨¡å¼çå³ç³»",normalizedTitle:"ä¸å¶ä»æ¨¡å¼çå³ç³»",charIndex:5340},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:5483}],headersStr:"æå¾ éç¨åºæ¯ ç»æ ç»æè¯´æ ç»æä»£ç èå¼ ä¼ªä»£ç  æ¡ä¾ ä¸å¶ä»æ¨¡å¼çå³ç³» åèèµæ",content:'# è®¾è®¡æ¨¡å¼ä¹è®¿é®èæ¨¡å¼\n\n\n# æå¾\n\nè®¿é®èæ¨¡å¼ï¼Visitorï¼ æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼ å®è½å°ç®æ³ä¸å¶æä½ç¨çå¯¹è±¡éç¦»å¼æ¥ã\n\n\n# éç¨åºæ¯\n\n * å¦æä½ éè¦å¯¹ä¸ä¸ªå¤æå¯¹è±¡ç»æ ï¼ä¾å¦å¯¹è±¡æ ï¼ ä¸­çææåç´ æ§è¡æäºæä½ï¼ å¯ä½¿ç¨è®¿é®èæ¨¡å¼ã\n * å¯ä½¿ç¨è®¿é®èæ¨¡å¼æ¥æ¸çè¾å©è¡ä¸ºçä¸å¡é»è¾ã\n * å½æä¸ªè¡ä¸ºä»å¨ç±»å±æ¬¡ç»æä¸­çä¸äºç±»ä¸­ææä¹ï¼ èå¨å¶ä»ç±»ä¸­æ²¡ææä¹æ¶ï¼ å¯ä½¿ç¨è¯¥æ¨¡å¼ã\n\n\n# ç»æ\n\n\n# ç»æè¯´æ\n\n\n\n 1. è®¿é®è ï¼Visitorï¼ æ¥å£å£°æäºä¸ç³»åä»¥å¯¹è±¡ç»æçå·ä½åç´ ä¸ºåæ°çè®¿é®èæ¹æ³ã å¦æç¼ç¨è¯­è¨æ¯æéè½½ï¼ è¿äºæ¹æ³çåç§°å¯ä»¥æ¯ç¸åçï¼ ä½æ¯å¶åæ°ä¸å®æ¯ä¸åçã\n 2. å·ä½è®¿é®è ï¼Concrete Visitorï¼ ä¼ä¸ºä¸åçå·ä½åç´ ç±»å®ç°ç¸åè¡ä¸ºçå ä¸ªä¸åçæ¬ã\n 3. åç´  ï¼Elementï¼ æ¥å£å£°æäºä¸ä¸ªæ¹æ³æ¥ âæ¥æ¶â è®¿é®èã è¯¥æ¹æ³å¿é¡»æä¸ä¸ªåæ°è¢«å£°æä¸ºè®¿é®èæ¥å£ç±»åã\n 4. å·ä½åç´  ï¼Concrete Elementï¼ å¿é¡»å®ç°æ¥æ¶æ¹æ³ã è¯¥æ¹æ³çç®çæ¯æ ¹æ®å½ååç´ ç±»å°å¶è°ç¨éå®åå°ç¸åºè®¿é®èçæ¹æ³ã è¯·æ³¨æï¼ å³ä½¿åç´ åºç±»å®ç°äºè¯¥æ¹æ³ï¼ ææå­ç±»é½å¿é¡»å¯¹å¶è¿è¡éåå¹¶è°ç¨è®¿é®èå¯¹è±¡ä¸­çåéæ¹æ³ã\n 5. å®¢æ·ç«¯ ï¼Clientï¼ éå¸¸ä¼ä½ä¸ºéåæå¶ä»å¤æå¯¹è±¡ ï¼ä¾å¦ä¸ä¸ªç»åæ ï¼ çä»£è¡¨ã å®¢æ·ç«¯éå¸¸ä¸ç¥æææçå·ä½åç´ ç±»ï¼ å ä¸ºå®ä»¬ä¼éè¿æ½è±¡æ¥å£ä¸éåä¸­çå¯¹è±¡è¿è¡äº¤äºã\n\n\n# ç»æä»£ç èå¼\n\nVisitor : ä¸ºè¯¥å¯¹è±¡ç»æä¸­ ConcreteElement çæ¯ä¸ä¸ªç±»å£°æä¸ä¸ª Visit æä½ã\n\nabstract class Visitor {\n    public abstract void VisitConcreteElementA(ConcreteElementA elementA);\n    public abstract void VisitConcreteElementB(ConcreteElementB elementB);\n}\n\n\nConcreteVisitor : å®ç°æ¯ä¸ªç± Visitor å£°æçæä½ãæ¯ä¸ªæä½å®ç°ç®æ³çä¸é¨åï¼èè¯¥ç®æ³çæ®µä¹æ¯å¯¹åºäºç»æä¸­å¯¹è±¡çç±»ã\n\nclass ConcreteVisitor1 extends Visitor {\n    @Override\n    public void VisitConcreteElementA(ConcreteElementA elementA) {\n        System.out.println(this.getClass().getName() + " è®¿é® " + elementA.getClass().getName());\n    }\n\n    @Override\n    public void VisitConcreteElementB(ConcreteElementB elementB) {\n        System.out.println(this.getClass().getName() + " è®¿é® " + elementB.getClass().getName());\n    }\n}\n\nclass ConcreteVisitor2 extends Visitor {\n    @Override\n    public void VisitConcreteElementA(ConcreteElementA elementA) {\n        System.out.println(this.getClass().getName() + " è®¿é® " + elementA.getClass().getName());\n    }\n\n    @Override\n    public void VisitConcreteElementB(ConcreteElementB elementB) {\n        System.out.println(this.getClass().getName() + " è®¿é® " + elementB.getClass().getName());\n    }\n}\n\n\nElement : å®ä¹ä¸ä¸ª Accpet æä½ï¼å®ä»¥ä¸ä¸ªè®¿é®èä¸ºåæ°ã\n\nabstract class Element {\n    public abstract void Accept(Visitor visitor);\n}\n\n\nConcreteElement : å®ç° Element å£°æç Accept æä½ã\n\nclass ConcreteElementA extends Element {\n    @Override\n    public void Accept(Visitor visitor) {\n        visitor.VisitConcreteElementA(this);\n    }\n}\n\nclass ConcreteElementB extends Element {\n    @Override\n    public void Accept(Visitor visitor) {\n        visitor.VisitConcreteElementB(this);\n    }\n}\n\n\nObjectStructure : å¯ä»¥æä¸¾å®çåç´ ï¼å¯ä»¥æä¾ä¸ä¸ªé«å±çæ¥å£ä»¥åè®¸è®¿é®èè®¿é®å®çåç´ ã\n\nclass ObjectStructure {\n    private List<Element> elements = new ArrayList<Element>();\n\n    public void Attach(Element element) {\n        elements.add(element);\n    }\n\n    public void Detach(Element element) {\n        elements.remove(element);\n    }\n\n    public void Accept(Visitor visitor) {\n        for (Element elem : elements) {\n            elem.Accept(visitor);\n        }\n    }\n}\n\n\nå®¢æ·ç«¯\n\npublic class VisitorPattern {\n    public static void main(String[] args) {\n        ObjectStructure o = new ObjectStructure();\n        o.Attach(new ConcreteElementA());\n        o.Attach(new ConcreteElementB());\n\n        ConcreteVisitor1 v1 = new ConcreteVisitor1();\n        ConcreteVisitor2 v2 = new ConcreteVisitor2();\n\n        o.Accept(v1);\n        o.Accept(v2);\n    }\n}\n\n\nè¾åº\n\nConcreteVisitor1 è®¿é® ConcreteElementA\nConcreteVisitor1 è®¿é® ConcreteElementB\nConcreteVisitor2 è®¿é® ConcreteElementA\nConcreteVisitor2 è®¿é® ConcreteElementB\n\n\n\n# ä¼ªä»£ç \n\nå¨æ¬ä¾ä¸­ï¼ è®¿é®èæ¨¡å¼ä¸ºå ä½å¾åå±æ¬¡ç»ææ·»å äºå¯¹äº XML æä»¶å¯¼åºåè½çæ¯æã\n\n\n\n// åç´ æ¥å£å£°æäºä¸ä¸ª`acceptï¼æ¥æ¶ï¼`æ¹æ³ï¼å®ä¼å°è®¿é®èåºç¡æ¥å£ä½ä¸ºä¸ä¸ªå\n// æ°ã\ninterface Shape is\n    method move(x, y)\n    method draw()\n    method accept(v: Visitor)\n\n// æ¯ä¸ªå·ä½åç´ ç±»é½å¿é¡»ä»¥ç¹å®æ¹å¼å®ç°`accept`æ¹æ³ï¼ä½¿å¶è½è°ç¨ç¸åºåç´ ç±»ç\n// è®¿é®èæ¹æ³ã\nclass Dot implements Shape is\n    // ...\n\n    // æ³¨ææä»¬æ­£å¨è°ç¨ç`visitDotï¼è®¿é®ç¹ï¼`æ¹æ³ä¸å½åç±»çåç§°ç¸å¹éã\n    // è¿æ ·æä»¬è½è®©è®¿é®èç¥æä¸å¶äº¤äºçåç´ ç±»ã\n    method accept(v: Visitor) is\n        v.visitDot(this)\n\nclass Circle implements Shape is\n    // ...\n    method accept(v: Visitor) is\n        v.visitCircle(this)\n\nclass Rectangle implements Shape is\n    // ...\n    method accept(v: Visitor) is\n        v.visitRectangle(this)\n\nclass CompoundShape implements Shape is\n    // ...\n    method accept(v: Visitor) is\n        v.visitCompoundShape(this)\n\n\n// è®¿é®èæ¥å£å£°æäºä¸ç»ä¸åç´ ç±»å¯¹åºçè®¿é®æ¹æ³ãè®¿é®æ¹æ³çç­¾åè½è®©è®¿é®èå\n// ç¡®è¾¨å«åºä¸å¶äº¤äºçåç´ æå±çç±»ã\ninterface Visitor is\n    method visitDot(d: Dot)\n    method visitCircle(c: Circle)\n    method visitRectangle(r: Rectangle)\n    method visitCompoundShape(cs: CompoundShape)\n\n// å·ä½è®¿é®èå®ç°äºåä¸ç®æ³çå¤ä¸ªçæ¬ï¼èä¸è¯¥ç®æ³è½ä¸ææå·ä½ç±»è¿è¡äº¤äºã\n//\n// è®¿é®èæ¨¡å¼å¨å¤æå¯¹è±¡ç»æï¼ä¾å¦ç»åæ ï¼ä¸ä½¿ç¨æ¶è½åæ¥æå¤§ä½ç¨ãå¨è¿ç§æ\n// åµä¸ï¼å®å¯ä»¥å­å¨ç®æ³çä¸äºä¸­é´ç¶æï¼å¹¶åæ¶å¨ç»æä¸­çä¸åå¯¹è±¡ä¸æ§è¡è®¿é®\n// èæ¹æ³ãè¿å¯è½ä¼éå¸¸æå¸®å©ã\nclass XMLExportVisitor implements Visitor is\n    method visitDot(d: Dot) is\n        // å¯¼åºç¹ï¼dotï¼ç ID åä¸­å¿åæ ã\n\n    method visitCircle(c: Circle) is\n        // å¯¼åºåï¼circleï¼ç ID ãä¸­å¿åæ ååå¾ã\n\n    method visitRectangle(r: Rectangle) is\n        // å¯¼åºé¿æ¹å½¢ï¼rectangleï¼ç ID ãå·¦ä¸è§åæ ãå®½åé¿ã\n\n    method visitCompoundShape(cs: CompoundShape) is\n        // å¯¼åºå¾å½¢ï¼shapeï¼ç ID åå¶å­é¡¹ç®ç ID åè¡¨ã\n\n\n// å®¢æ·ç«¯ä»£ç å¯å¨ä¸ç¥æå·ä½ç±»çæåµä¸å¨ä¸ç»åç´ ä¸è¿è¡è®¿é®èæä½ãâæ¥æ¶âæ\n// ä½ä¼å°è°ç¨å®ä½å°è®¿é®èå¯¹è±¡çç¸åºæä½ä¸ã\nclass Application is\n    field allShapes: array of Shapes\n\n    method export() is\n        exportVisitor = new XMLExportVisitor()\n\n        foreach (shape in allShapes) do\n            shape.accept(exportVisitor)\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ è®¿é®èä¸æ¯å¸¸ç¨çè®¾è®¡æ¨¡å¼ï¼ å ä¸ºå®ä¸ä»å¤æï¼ åºç¨èå´ä¹æ¯è¾ç­çªã\n\nè¿éæ¯ Java ç¨åºåºä»£ç ä¸­è¯¥æ¨¡å¼çä¸äºç¤ºä¾ï¼\n\n * javax.lang.model.element.AnnotationValue å AnnotationÂ­ValueÂ­Visitor\n * javax.lang.model.element.Element å ElementÂ­Visitor\n * javax.lang.model.type.TypeMirror å TypeÂ­Visitor\n * java.nio.file.FileVisitor å SimpleÂ­FileÂ­Visitor\n * javax.faces.component.visit.VisitContext å VisitÂ­Callback\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * ä½ å¯ä»¥å°è®¿é®èæ¨¡å¼è§ä¸ºå½ä»¤æ¨¡å¼çå å¼ºçæ¬ï¼ å¶å¯¹è±¡å¯å¯¹ä¸åç±»çå¤ç§å¯¹è±¡æ§è¡æä½ã\n * ä½ å¯ä»¥ä½¿ç¨è®¿é®èå¯¹æ´ä¸ªç»åæ¨¡å¼æ æ§è¡æä½ã\n * å¯ä»¥åæ¶ä½¿ç¨è®¿é®èåè¿­ä»£å¨æ¨¡å¼æ¥éåå¤ææ°æ®ç»æï¼ å¹¶å¯¹å¶ä¸­çåç´ æ§è¡æéæä½ï¼ å³ä½¿è¿äºåç´ æå±çç±»å®å¨ä¸åã\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',normalizedContent:'# è®¾è®¡æ¨¡å¼ä¹è®¿é®èæ¨¡å¼\n\n\n# æå¾\n\nè®¿é®èæ¨¡å¼ï¼visitorï¼ æ¯ä¸ç§è¡ä¸ºè®¾è®¡æ¨¡å¼ï¼ å®è½å°ç®æ³ä¸å¶æä½ç¨çå¯¹è±¡éç¦»å¼æ¥ã\n\n\n# éç¨åºæ¯\n\n * å¦æä½ éè¦å¯¹ä¸ä¸ªå¤æå¯¹è±¡ç»æ ï¼ä¾å¦å¯¹è±¡æ ï¼ ä¸­çææåç´ æ§è¡æäºæä½ï¼ å¯ä½¿ç¨è®¿é®èæ¨¡å¼ã\n * å¯ä½¿ç¨è®¿é®èæ¨¡å¼æ¥æ¸çè¾å©è¡ä¸ºçä¸å¡é»è¾ã\n * å½æä¸ªè¡ä¸ºä»å¨ç±»å±æ¬¡ç»æä¸­çä¸äºç±»ä¸­ææä¹ï¼ èå¨å¶ä»ç±»ä¸­æ²¡ææä¹æ¶ï¼ å¯ä½¿ç¨è¯¥æ¨¡å¼ã\n\n\n# ç»æ\n\n\n# ç»æè¯´æ\n\n\n\n 1. è®¿é®è ï¼visitorï¼ æ¥å£å£°æäºä¸ç³»åä»¥å¯¹è±¡ç»æçå·ä½åç´ ä¸ºåæ°çè®¿é®èæ¹æ³ã å¦æç¼ç¨è¯­è¨æ¯æéè½½ï¼ è¿äºæ¹æ³çåç§°å¯ä»¥æ¯ç¸åçï¼ ä½æ¯å¶åæ°ä¸å®æ¯ä¸åçã\n 2. å·ä½è®¿é®è ï¼concrete visitorï¼ ä¼ä¸ºä¸åçå·ä½åç´ ç±»å®ç°ç¸åè¡ä¸ºçå ä¸ªä¸åçæ¬ã\n 3. åç´  ï¼elementï¼ æ¥å£å£°æäºä¸ä¸ªæ¹æ³æ¥ âæ¥æ¶â è®¿é®èã è¯¥æ¹æ³å¿é¡»æä¸ä¸ªåæ°è¢«å£°æä¸ºè®¿é®èæ¥å£ç±»åã\n 4. å·ä½åç´  ï¼concrete elementï¼ å¿é¡»å®ç°æ¥æ¶æ¹æ³ã è¯¥æ¹æ³çç®çæ¯æ ¹æ®å½ååç´ ç±»å°å¶è°ç¨éå®åå°ç¸åºè®¿é®èçæ¹æ³ã è¯·æ³¨æï¼ å³ä½¿åç´ åºç±»å®ç°äºè¯¥æ¹æ³ï¼ ææå­ç±»é½å¿é¡»å¯¹å¶è¿è¡éåå¹¶è°ç¨è®¿é®èå¯¹è±¡ä¸­çåéæ¹æ³ã\n 5. å®¢æ·ç«¯ ï¼clientï¼ éå¸¸ä¼ä½ä¸ºéåæå¶ä»å¤æå¯¹è±¡ ï¼ä¾å¦ä¸ä¸ªç»åæ ï¼ çä»£è¡¨ã å®¢æ·ç«¯éå¸¸ä¸ç¥æææçå·ä½åç´ ç±»ï¼ å ä¸ºå®ä»¬ä¼éè¿æ½è±¡æ¥å£ä¸éåä¸­çå¯¹è±¡è¿è¡äº¤äºã\n\n\n# ç»æä»£ç èå¼\n\nvisitor : ä¸ºè¯¥å¯¹è±¡ç»æä¸­ concreteelement çæ¯ä¸ä¸ªç±»å£°æä¸ä¸ª visit æä½ã\n\nabstract class visitor {\n    public abstract void visitconcreteelementa(concreteelementa elementa);\n    public abstract void visitconcreteelementb(concreteelementb elementb);\n}\n\n\nconcretevisitor : å®ç°æ¯ä¸ªç± visitor å£°æçæä½ãæ¯ä¸ªæä½å®ç°ç®æ³çä¸é¨åï¼èè¯¥ç®æ³çæ®µä¹æ¯å¯¹åºäºç»æä¸­å¯¹è±¡çç±»ã\n\nclass concretevisitor1 extends visitor {\n    @override\n    public void visitconcreteelementa(concreteelementa elementa) {\n        system.out.println(this.getclass().getname() + " è®¿é® " + elementa.getclass().getname());\n    }\n\n    @override\n    public void visitconcreteelementb(concreteelementb elementb) {\n        system.out.println(this.getclass().getname() + " è®¿é® " + elementb.getclass().getname());\n    }\n}\n\nclass concretevisitor2 extends visitor {\n    @override\n    public void visitconcreteelementa(concreteelementa elementa) {\n        system.out.println(this.getclass().getname() + " è®¿é® " + elementa.getclass().getname());\n    }\n\n    @override\n    public void visitconcreteelementb(concreteelementb elementb) {\n        system.out.println(this.getclass().getname() + " è®¿é® " + elementb.getclass().getname());\n    }\n}\n\n\nelement : å®ä¹ä¸ä¸ª accpet æä½ï¼å®ä»¥ä¸ä¸ªè®¿é®èä¸ºåæ°ã\n\nabstract class element {\n    public abstract void accept(visitor visitor);\n}\n\n\nconcreteelement : å®ç° element å£°æç accept æä½ã\n\nclass concreteelementa extends element {\n    @override\n    public void accept(visitor visitor) {\n        visitor.visitconcreteelementa(this);\n    }\n}\n\nclass concreteelementb extends element {\n    @override\n    public void accept(visitor visitor) {\n        visitor.visitconcreteelementb(this);\n    }\n}\n\n\nobjectstructure : å¯ä»¥æä¸¾å®çåç´ ï¼å¯ä»¥æä¾ä¸ä¸ªé«å±çæ¥å£ä»¥åè®¸è®¿é®èè®¿é®å®çåç´ ã\n\nclass objectstructure {\n    private list<element> elements = new arraylist<element>();\n\n    public void attach(element element) {\n        elements.add(element);\n    }\n\n    public void detach(element element) {\n        elements.remove(element);\n    }\n\n    public void accept(visitor visitor) {\n        for (element elem : elements) {\n            elem.accept(visitor);\n        }\n    }\n}\n\n\nå®¢æ·ç«¯\n\npublic class visitorpattern {\n    public static void main(string[] args) {\n        objectstructure o = new objectstructure();\n        o.attach(new concreteelementa());\n        o.attach(new concreteelementb());\n\n        concretevisitor1 v1 = new concretevisitor1();\n        concretevisitor2 v2 = new concretevisitor2();\n\n        o.accept(v1);\n        o.accept(v2);\n    }\n}\n\n\nè¾åº\n\nconcretevisitor1 è®¿é® concreteelementa\nconcretevisitor1 è®¿é® concreteelementb\nconcretevisitor2 è®¿é® concreteelementa\nconcretevisitor2 è®¿é® concreteelementb\n\n\n\n# ä¼ªä»£ç \n\nå¨æ¬ä¾ä¸­ï¼ è®¿é®èæ¨¡å¼ä¸ºå ä½å¾åå±æ¬¡ç»ææ·»å äºå¯¹äº xml æä»¶å¯¼åºåè½çæ¯æã\n\n\n\n// åç´ æ¥å£å£°æäºä¸ä¸ª`acceptï¼æ¥æ¶ï¼`æ¹æ³ï¼å®ä¼å°è®¿é®èåºç¡æ¥å£ä½ä¸ºä¸ä¸ªå\n// æ°ã\ninterface shape is\n    method move(x, y)\n    method draw()\n    method accept(v: visitor)\n\n// æ¯ä¸ªå·ä½åç´ ç±»é½å¿é¡»ä»¥ç¹å®æ¹å¼å®ç°`accept`æ¹æ³ï¼ä½¿å¶è½è°ç¨ç¸åºåç´ ç±»ç\n// è®¿é®èæ¹æ³ã\nclass dot implements shape is\n    // ...\n\n    // æ³¨ææä»¬æ­£å¨è°ç¨ç`visitdotï¼è®¿é®ç¹ï¼`æ¹æ³ä¸å½åç±»çåç§°ç¸å¹éã\n    // è¿æ ·æä»¬è½è®©è®¿é®èç¥æä¸å¶äº¤äºçåç´ ç±»ã\n    method accept(v: visitor) is\n        v.visitdot(this)\n\nclass circle implements shape is\n    // ...\n    method accept(v: visitor) is\n        v.visitcircle(this)\n\nclass rectangle implements shape is\n    // ...\n    method accept(v: visitor) is\n        v.visitrectangle(this)\n\nclass compoundshape implements shape is\n    // ...\n    method accept(v: visitor) is\n        v.visitcompoundshape(this)\n\n\n// è®¿é®èæ¥å£å£°æäºä¸ç»ä¸åç´ ç±»å¯¹åºçè®¿é®æ¹æ³ãè®¿é®æ¹æ³çç­¾åè½è®©è®¿é®èå\n// ç¡®è¾¨å«åºä¸å¶äº¤äºçåç´ æå±çç±»ã\ninterface visitor is\n    method visitdot(d: dot)\n    method visitcircle(c: circle)\n    method visitrectangle(r: rectangle)\n    method visitcompoundshape(cs: compoundshape)\n\n// å·ä½è®¿é®èå®ç°äºåä¸ç®æ³çå¤ä¸ªçæ¬ï¼èä¸è¯¥ç®æ³è½ä¸ææå·ä½ç±»è¿è¡äº¤äºã\n//\n// è®¿é®èæ¨¡å¼å¨å¤æå¯¹è±¡ç»æï¼ä¾å¦ç»åæ ï¼ä¸ä½¿ç¨æ¶è½åæ¥æå¤§ä½ç¨ãå¨è¿ç§æ\n// åµä¸ï¼å®å¯ä»¥å­å¨ç®æ³çä¸äºä¸­é´ç¶æï¼å¹¶åæ¶å¨ç»æä¸­çä¸åå¯¹è±¡ä¸æ§è¡è®¿é®\n// èæ¹æ³ãè¿å¯è½ä¼éå¸¸æå¸®å©ã\nclass xmlexportvisitor implements visitor is\n    method visitdot(d: dot) is\n        // å¯¼åºç¹ï¼dotï¼ç id åä¸­å¿åæ ã\n\n    method visitcircle(c: circle) is\n        // å¯¼åºåï¼circleï¼ç id ãä¸­å¿åæ ååå¾ã\n\n    method visitrectangle(r: rectangle) is\n        // å¯¼åºé¿æ¹å½¢ï¼rectangleï¼ç id ãå·¦ä¸è§åæ ãå®½åé¿ã\n\n    method visitcompoundshape(cs: compoundshape) is\n        // å¯¼åºå¾å½¢ï¼shapeï¼ç id åå¶å­é¡¹ç®ç id åè¡¨ã\n\n\n// å®¢æ·ç«¯ä»£ç å¯å¨ä¸ç¥æå·ä½ç±»çæåµä¸å¨ä¸ç»åç´ ä¸è¿è¡è®¿é®èæä½ãâæ¥æ¶âæ\n// ä½ä¼å°è°ç¨å®ä½å°è®¿é®èå¯¹è±¡çç¸åºæä½ä¸ã\nclass application is\n    field allshapes: array of shapes\n\n    method export() is\n        exportvisitor = new xmlexportvisitor()\n\n        foreach (shape in allshapes) do\n            shape.accept(exportvisitor)\n\n\n\n# æ¡ä¾\n\nä½¿ç¨ç¤ºä¾ï¼ è®¿é®èä¸æ¯å¸¸ç¨çè®¾è®¡æ¨¡å¼ï¼ å ä¸ºå®ä¸ä»å¤æï¼ åºç¨èå´ä¹æ¯è¾ç­çªã\n\nè¿éæ¯ java ç¨åºåºä»£ç ä¸­è¯¥æ¨¡å¼çä¸äºç¤ºä¾ï¼\n\n * javax.lang.model.element.annotationvalue å annotationÂ­valueÂ­visitor\n * javax.lang.model.element.element å elementÂ­visitor\n * javax.lang.model.type.typemirror å typeÂ­visitor\n * java.nio.file.filevisitor å simpleÂ­fileÂ­visitor\n * javax.faces.component.visit.visitcontext å visitÂ­callback\n\n\n# ä¸å¶ä»æ¨¡å¼çå³ç³»\n\n * ä½ å¯ä»¥å°è®¿é®èæ¨¡å¼è§ä¸ºå½ä»¤æ¨¡å¼çå å¼ºçæ¬ï¼ å¶å¯¹è±¡å¯å¯¹ä¸åç±»çå¤ç§å¯¹è±¡æ§è¡æä½ã\n * ä½ å¯ä»¥ä½¿ç¨è®¿é®èå¯¹æ´ä¸ªç»åæ¨¡å¼æ æ§è¡æä½ã\n * å¯ä»¥åæ¶ä½¿ç¨è®¿é®èåè¿­ä»£å¨æ¨¡å¼æ¥éåå¤ææ°æ®ç»æï¼ å¹¶å¯¹å¶ä¸­çåç´ æ§è¡æéæä½ï¼ å³ä½¿è¿äºåç´ æå±çç±»å®å¨ä¸åã\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"é¢åå¯¹è±¡åå",frontmatter:{title:"é¢åå¯¹è±¡åå",date:"2021-05-19T09:49:05.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/9703b1/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/25.%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%8E%9F%E5%88%99.html",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/25.é¢åå¯¹è±¡åå.md",key:"v-3f96c8d8",path:"/pages/9703b1/",headers:[{level:2,title:"åä¸èè´£åå",slug:"åä¸èè´£åå",normalizedTitle:"åä¸èè´£åå",charIndex:17},{level:2,title:"å¼æ¾-å°é­åå",slug:"å¼æ¾-å°é­åå",normalizedTitle:"å¼æ¾-å°é­åå",charIndex:107},{level:2,title:"éæ°æ¿æ¢åå",slug:"éæ°æ¿æ¢åå",normalizedTitle:"éæ°æ¿æ¢åå",charIndex:199},{level:2,title:"ä¾èµåç½®åå",slug:"ä¾èµåç½®åå",normalizedTitle:"ä¾èµåç½®åå",charIndex:259},{level:2,title:"æ¥å£éç¦»åå",slug:"æ¥å£éç¦»åå",normalizedTitle:"æ¥å£éç¦»åå",charIndex:414},{level:2,title:"è¿ªç±³ç¹åå",slug:"è¿ªç±³ç¹åå",normalizedTitle:"è¿ªç±³ç¹åå",charIndex:547},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:706}],headersStr:"åä¸èè´£åå å¼æ¾-å°é­åå éæ°æ¿æ¢åå ä¾èµåç½®åå æ¥å£éç¦»åå è¿ªç±³ç¹åå åèèµæ",content:"# é¢åå¯¹è±¡è®¾è®¡å­å¤§åå\n\n\n# åä¸èè´£åå\n\nåä¸èè´£ååï¼Single Responsibility Principleï¼ï¼åºè¯¥æä¸ä»æä¸ä¸ªåå å¼èµ·ç±»çåæ´ã\n\nç®åç¹è¯´ï¼ä¸ä¸ªç±»ï¼æå¥½åªè´è´£ä¸ä»¶äºã\n\n\n# å¼æ¾-å°é­åå\n\nå¼æ¾-å°é­ååï¼Open Close Principleï¼ï¼è½¯ä»¶å®ä½ï¼ç±»ãæ¨¡åãå½æ°ï¼ç­åºè¯¥å¯ä»¥æ©å±ï¼ä½æ¯ä¸å¯ä¿®æ¹ã\n\nå¯¹äºæ©å±æ¯å¼æ¾çï¼å¯¹äºæ´æ¹æ¯å°é­çã\n\n\n# éæ°æ¿æ¢åå\n\néæ°æ¿æ¢ååï¼Liskov Substitution Principleï¼ï¼å­ç±»å¯ä»¥æ¿æ¢ç¶ç±»ã\n\n\n# ä¾èµåç½®åå\n\nä¾èµåç½®ååï¼Dependency Inversion Principleï¼ï¼æ½è±¡ä¸åºè¯¥ä¾èµäºç»èï¼ç»èåºå½ä¾èµäºæ½è±¡ãæ¢è¨ä¹ï¼è¦éå¯¹æ¥å£ç¼ç¨ï¼èä¸æ¯éå¯¹å®ç°ç¼ç¨ã\n\nå³é®ç¹ï¼\n\n * é«å±æ¨¡åä¸åºè¯¥ä¾èµä½å±æ¨¡åï¼ä¸¤èé½åºè¯¥ä¾èµå¶æ½è±¡\n * æ½è±¡ä¸åºè¯¥ä¾èµç»è\n * ç»èåºè¯¥ä¾èµæ½è±¡\n\n\n# æ¥å£éç¦»åå\n\næ¥å£éç¦»ååï¼Interface Segregation Principleï¼ä½¿ç¨å¤ä¸ªä¸é¨çæ¥å£ï¼èä¸ä½¿ç¨åä¸çæ»æ¥å£ï¼å³å®¢æ·ç«¯ä¸åºè¯¥ä¾èµé£äºå®ä¸éè¦çæ¥å£ã\n\n * å®¢æ·ç«¯ä¸åºä¾èµå®ä¸éè¦çæ¥å£\n * ç±»é´çä¾èµå³ç³»åºè¯¥å»ºç«å¨æå°çæ¥å£ä¸\n\n\n# è¿ªç±³ç¹åå\n\nè¿ªç±³ç¹ååï¼Least Knowledge Principleï¼åç§°æå°ç¥è¯ååï¼ä¸ä¸ªè½¯ä»¶å®ä½åºå½å°½å¯è½å°å°ä¸å¶ä»å®ä½åçç¸äºä½ç¨ã\n\nä¸ä¸ªç±»åºè¯¥å¯¹èªå·±éè¦è°ç¨çç±»ç¥éå¾æå°ï¼ç±»çåé¨å¦ä½å®ç°ãå¦ä½å¤æé½ä¸è°ç¨èæèä¾èµèæ²¡å³ç³»ï¼è°ç¨èæèä¾èµèåªéè¦ç¥éä»éè¦çæ¹æ³å³å¯ï¼å¶ä»çæä¸æ¦ä¸å³å¿ã\n\n\n# åèèµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã",normalizedContent:"# é¢åå¯¹è±¡è®¾è®¡å­å¤§åå\n\n\n# åä¸èè´£åå\n\nåä¸èè´£ååï¼single responsibility principleï¼ï¼åºè¯¥æä¸ä»æä¸ä¸ªåå å¼èµ·ç±»çåæ´ã\n\nç®åç¹è¯´ï¼ä¸ä¸ªç±»ï¼æå¥½åªè´è´£ä¸ä»¶äºã\n\n\n# å¼æ¾-å°é­åå\n\nå¼æ¾-å°é­ååï¼open close principleï¼ï¼è½¯ä»¶å®ä½ï¼ç±»ãæ¨¡åãå½æ°ï¼ç­åºè¯¥å¯ä»¥æ©å±ï¼ä½æ¯ä¸å¯ä¿®æ¹ã\n\nå¯¹äºæ©å±æ¯å¼æ¾çï¼å¯¹äºæ´æ¹æ¯å°é­çã\n\n\n# éæ°æ¿æ¢åå\n\néæ°æ¿æ¢ååï¼liskov substitution principleï¼ï¼å­ç±»å¯ä»¥æ¿æ¢ç¶ç±»ã\n\n\n# ä¾èµåç½®åå\n\nä¾èµåç½®ååï¼dependency inversion principleï¼ï¼æ½è±¡ä¸åºè¯¥ä¾èµäºç»èï¼ç»èåºå½ä¾èµäºæ½è±¡ãæ¢è¨ä¹ï¼è¦éå¯¹æ¥å£ç¼ç¨ï¼èä¸æ¯éå¯¹å®ç°ç¼ç¨ã\n\nå³é®ç¹ï¼\n\n * é«å±æ¨¡åä¸åºè¯¥ä¾èµä½å±æ¨¡åï¼ä¸¤èé½åºè¯¥ä¾èµå¶æ½è±¡\n * æ½è±¡ä¸åºè¯¥ä¾èµç»è\n * ç»èåºè¯¥ä¾èµæ½è±¡\n\n\n# æ¥å£éç¦»åå\n\næ¥å£éç¦»ååï¼interface segregation principleï¼ä½¿ç¨å¤ä¸ªä¸é¨çæ¥å£ï¼èä¸ä½¿ç¨åä¸çæ»æ¥å£ï¼å³å®¢æ·ç«¯ä¸åºè¯¥ä¾èµé£äºå®ä¸éè¦çæ¥å£ã\n\n * å®¢æ·ç«¯ä¸åºä¾èµå®ä¸éè¦çæ¥å£\n * ç±»é´çä¾èµå³ç³»åºè¯¥å»ºç«å¨æå°çæ¥å£ä¸\n\n\n# è¿ªç±³ç¹åå\n\nè¿ªç±³ç¹ååï¼least knowledge principleï¼åç§°æå°ç¥è¯ååï¼ä¸ä¸ªè½¯ä»¶å®ä½åºå½å°½å¯è½å°å°ä¸å¶ä»å®ä½åçç¸äºä½ç¨ã\n\nä¸ä¸ªç±»åºè¯¥å¯¹èªå·±éè¦è°ç¨çç±»ç¥éå¾æå°ï¼ç±»çåé¨å¦ä½å®ç°ãå¦ä½å¤æé½ä¸è°ç¨èæèä¾èµèæ²¡å³ç³»ï¼è°ç¨èæèä¾èµèåªéè¦ç¥éä»éè¦çæ¹æ³å³å¯ï¼å¶ä»çæä¸æ¦ä¸å³å¿ã\n\n\n# åèèµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡æ¨¡å¼",frontmatter:{title:"è®¾è®¡æ¨¡å¼",date:"2020-08-10T10:59:18.000Z",categories:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],tags:["è®¾è®¡","è®¾è®¡æ¨¡å¼"],permalink:"/pages/81b0f2/",hidden:!0},regularPath:"/03.%E8%AE%BE%E8%AE%A1/02.%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/",relativePath:"03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/README.md",key:"v-0893d5c3",path:"/pages/81b0f2/",headers:[{level:2,title:"ð åå®¹",slug:"ð-åå®¹",normalizedTitle:"ð åå®¹",charIndex:37},{level:3,title:"åå»ºåæ¨¡å¼",slug:"åå»ºåæ¨¡å¼",normalizedTitle:"åå»ºåæ¨¡å¼",charIndex:57},{level:3,title:"ç»æåæ¨¡å¼",slug:"ç»æåæ¨¡å¼",normalizedTitle:"ç»æåæ¨¡å¼",charIndex:249},{level:3,title:"è¡ä¸ºåæ¨¡å¼",slug:"è¡ä¸ºåæ¨¡å¼",normalizedTitle:"è¡ä¸ºåæ¨¡å¼",charIndex:431},{level:2,title:"ð èµæ",slug:"ð-èµæ",normalizedTitle:"ð èµæ",charIndex:705},{level:2,title:"ðª ä¼ é",slug:"ðª-ä¼ é",normalizedTitle:"ðª ä¼ é",charIndex:759}],headersStr:"ð åå®¹ åå»ºåæ¨¡å¼ ç»æåæ¨¡å¼ è¡ä¸ºåæ¨¡å¼ ð èµæ ðª ä¼ é",content:"# è®¾è®¡æ¨¡å¼\n\n> è®¾è®¡æ¨¡å¼æ¯è½¯ä»¶è®¾è®¡ä¸­å¸¸è§é®é¢çå¸åè§£å³æ¹æ¡ã\n\n\n# ð åå®¹\n\n**é¢åå¯¹è±¡åå\n\n\n# åå»ºåæ¨¡å¼\n\n> åå»ºåæ¨¡å¼æä¾äºåå»ºå¯¹è±¡çæºå¶ï¼ è½å¤æåå·²æä»£ç ççµæ´»æ§åå¯å¤ç¨æ§ã\n\n * ç®åå·¥åæ¨¡å¼ (Simple Factory)\n * å·¥åæ¹æ³æ¨¡å¼ (Factory Method)\n * æ½è±¡å·¥åæ¨¡å¼ (Abstract Factory)\n * å»ºé èæ¨¡å¼ (Builder)\n * ååæ¨¡å¼ (Prototype)\n * åä¾æ¨¡å¼ (Singleton)\n\n\n# ç»æåæ¨¡å¼\n\n> ç»æåæ¨¡å¼ä»ç»å¦ä½å°å¯¹è±¡åç±»ç»è£æè¾å¤§çç»æï¼ å¹¶åæ¶ä¿æç»æççµæ´»åé«æã\n\n * ééå¨æ¨¡å¼ (Adapter)\n * æ¡¥æ¥æ¨¡å¼ (Bridge)\n * ç»åæ¨¡å¼ (Composite)\n * è£é¥°æ¨¡å¼ (Decorator)\n * å¤è§æ¨¡å¼ (Facade)\n * äº«åæ¨¡å¼ (Flyweight)\n * ä»£çæ¨¡å¼ (Proxy)\n\n\n# è¡ä¸ºåæ¨¡å¼\n\n> è¡ä¸ºæ¨¡å¼è´è´£å¯¹è±¡é´çé«ææ²éåèè´£å§æ´¾ã\n\n * æ¨¡æ¿æ¹æ³æ¨¡å¼ (Template Method)\n * å½ä»¤æ¨¡å¼ (Command)\n * è¿­ä»£å¨æ¨¡å¼ (Iterator)\n * è§å¯èæ¨¡å¼ (Observer)\n * è§£éå¨æ¨¡å¼ (Interpreter)\n * ä¸­ä»èæ¨¡å¼ (Mediator)\n * èè´£é¾æ¨¡å¼ (Chain of Responsibility)\n * å¤å¿å½æ¨¡å¼ (Memento)\n * ç­ç¥æ¨¡å¼ (Strategy)\n * è®¿é®èæ¨¡å¼ (Visitor)\n * ç¶ææ¨¡å¼ (State)**\n\n\n# ð èµæ\n\n * ãHead First è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨\n\n\n# ðª ä¼ é\n\nâ¾ ð§ éæç IT ç¥è¯å¾è°± â¾ ð¯ éæçåå®¢ â¾",normalizedContent:"# è®¾è®¡æ¨¡å¼\n\n> è®¾è®¡æ¨¡å¼æ¯è½¯ä»¶è®¾è®¡ä¸­å¸¸è§é®é¢çå¸åè§£å³æ¹æ¡ã\n\n\n# ð åå®¹\n\n**é¢åå¯¹è±¡åå\n\n\n# åå»ºåæ¨¡å¼\n\n> åå»ºåæ¨¡å¼æä¾äºåå»ºå¯¹è±¡çæºå¶ï¼ è½å¤æåå·²æä»£ç ççµæ´»æ§åå¯å¤ç¨æ§ã\n\n * ç®åå·¥åæ¨¡å¼ (simple factory)\n * å·¥åæ¹æ³æ¨¡å¼ (factory method)\n * æ½è±¡å·¥åæ¨¡å¼ (abstract factory)\n * å»ºé èæ¨¡å¼ (builder)\n * ååæ¨¡å¼ (prototype)\n * åä¾æ¨¡å¼ (singleton)\n\n\n# ç»æåæ¨¡å¼\n\n> ç»æåæ¨¡å¼ä»ç»å¦ä½å°å¯¹è±¡åç±»ç»è£æè¾å¤§çç»æï¼ å¹¶åæ¶ä¿æç»æççµæ´»åé«æã\n\n * ééå¨æ¨¡å¼ (adapter)\n * æ¡¥æ¥æ¨¡å¼ (bridge)\n * ç»åæ¨¡å¼ (composite)\n * è£é¥°æ¨¡å¼ (decorator)\n * å¤è§æ¨¡å¼ (facade)\n * äº«åæ¨¡å¼ (flyweight)\n * ä»£çæ¨¡å¼ (proxy)\n\n\n# è¡ä¸ºåæ¨¡å¼\n\n> è¡ä¸ºæ¨¡å¼è´è´£å¯¹è±¡é´çé«ææ²éåèè´£å§æ´¾ã\n\n * æ¨¡æ¿æ¹æ³æ¨¡å¼ (template method)\n * å½ä»¤æ¨¡å¼ (command)\n * è¿­ä»£å¨æ¨¡å¼ (iterator)\n * è§å¯èæ¨¡å¼ (observer)\n * è§£éå¨æ¨¡å¼ (interpreter)\n * ä¸­ä»èæ¨¡å¼ (mediator)\n * èè´£é¾æ¨¡å¼ (chain of responsibility)\n * å¤å¿å½æ¨¡å¼ (memento)\n * ç­ç¥æ¨¡å¼ (strategy)\n * è®¿é®èæ¨¡å¼ (visitor)\n * ç¶ææ¨¡å¼ (state)**\n\n\n# ð èµæ\n\n * ãhead first è®¾è®¡æ¨¡å¼ã\n * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n * è®¾è®¡æ¨¡å¼æç¨\n\n\n# ðª ä¼ é\n\nâ¾ ð§ éæç it ç¥è¯å¾è°± â¾ ð¯ éæçåå®¢ â¾",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"ä»£ç çåå³éåéæ",frontmatter:{title:"ä»£ç çåå³éåéæ",date:"2018-10-13T22:48:00.000Z",categories:["è®¾è®¡","éæ"],tags:["è®¾è®¡","éæ","ä»£ç çåå³é"],permalink:"/pages/d86872/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/03.%E9%87%8D%E6%9E%84/01.%E4%BB%A3%E7%A0%81%E7%9A%84%E5%9D%8F%E5%91%B3%E9%81%93%E5%92%8C%E9%87%8D%E6%9E%84.html",relativePath:"03.è®¾è®¡/03.éæ/01.ä»£ç çåå³éåéæ.md",key:"v-79c78335",path:"/pages/d86872/",headers:[{level:2,title:"çä¸è¯",slug:"çä¸è¯",normalizedTitle:"çä¸è¯",charIndex:105},{level:3,title:"å¯¹ä»£ç çåå³éçæè",slug:"å¯¹ä»£ç çåå³éçæè",normalizedTitle:"å¯¹ä»£ç çåå³éçæè",charIndex:113},{level:3,title:"éæçåå",slug:"éæçåå",normalizedTitle:"éæçåå",charIndex:727},{level:4,title:"ä½è°éæ(What)",slug:"ä½è°éæ-what",normalizedTitle:"ä½è°éæ(what)",charIndex:779},{level:4,title:"ä¸ºä½éæ(Why)",slug:"ä¸ºä½éæ-why",normalizedTitle:"ä¸ºä½éæ(why)",charIndex:978},{level:4,title:"ä½æ¶éæ(When)",slug:"ä½æ¶éæ-when",normalizedTitle:"ä½æ¶éæ(when)",charIndex:1086},{level:4,title:"å¦ä½éæ(How)",slug:"å¦ä½éæ-how",normalizedTitle:"å¦ä½éæ(how)",charIndex:2217},{level:2,title:"ä»£ç çåå³é",slug:"ä»£ç çåå³é",normalizedTitle:"ä»£ç çåå³é",charIndex:114},{level:3,title:"ä»£ç åå³éä¹ä»£ç èè¿",slug:"ä»£ç åå³éä¹ä»£ç èè¿",normalizedTitle:"ä»£ç åå³éä¹ä»£ç èè¿",charIndex:2783},{level:3,title:"ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡",slug:"ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡",normalizedTitle:"ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡",charIndex:2953},{level:3,title:"ä»£ç åå³éä¹åé©çéç¢",slug:"ä»£ç åå³éä¹åé©çéç¢",normalizedTitle:"ä»£ç åå³éä¹åé©çéç¢",charIndex:3079},{level:3,title:"ä»£ç åå³éä¹éå¿è¦ç",slug:"ä»£ç åå³éä¹éå¿è¦ç",normalizedTitle:"ä»£ç åå³éä¹éå¿è¦ç",charIndex:3204},{level:3,title:"ä»£ç åå³éä¹è¦å",slug:"ä»£ç åå³éä¹è¦å",normalizedTitle:"ä»£ç åå³éä¹è¦å",charIndex:3326},{level:2,title:"æ©å±éè¯»",slug:"æ©å±éè¯»",normalizedTitle:"æ©å±éè¯»",charIndex:3420},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:3514}],headersStr:"çä¸è¯ å¯¹ä»£ç çåå³éçæè éæçåå ä½è°éæ(What) ä¸ºä½éæ(Why) ä½æ¶éæ(When) å¦ä½éæ(How) ä»£ç çåå³é ä»£ç åå³éä¹ä»£ç èè¿ ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡ ä»£ç åå³éä¹åé©çéç¢ ä»£ç åå³éä¹éå¿è¦ç ä»£ç åå³éä¹è¦å æ©å±éè¯» åèèµæ",content:"ç¬¬ä¸æ¬¡è¯»ãéæ:æ¹åæ¢æä»£ç çè®¾è®¡ãæ¶ï¼ææ¾æ´çè¿ä¸ä¸ªç®åçç¬è®°ãæè¿ï¼å ä¸ºåä¸ä¸ä¸ªéæé¡¹ç®ï¼åä¸æ¬¡æ¸©ä¹ äºãéæ:æ¹åæ¢æä»£ç çè®¾è®¡ããè¿ç¨ä¸­ï¼èåäºè®¤çæ»ç»ãæ´çéææ¹æ³çå²å¨ï¼äºæ¯æäºè¿ç³»åæå­ã\n\n\n# çä¸è¯\n\n\n# å¯¹ä»£ç çåå³éçæè\n\nâæçè¦æ©æ²»ï¼ä¸è¦æ¾å¼æ²»çâãå¤ä¹æ´ç´ çéç ï¼äººäººé½æã\n\nçï¼å°±æ¯ä¸å¥åº·ã\n\näººæçï¼å¯ä»¥éè¿æéãåè¯ãåææ¯æ¥è¿è¡æ²»çã\n\nå¦ææä»£ç çåå³éï¼ä»£ç è´¨éé®é¢ï¼æ¯ä½ççï¼é£ä¹éæå°±æ¯æ²»çä»£ç çåå³éçè¯ã\n\nä¸ªäººè®¤ä¸ºï¼å¨éæè¿ä»¶äºä¸ï¼ä¹å¯ä»¥åºç¨æ²»ççéçï¼\n\n * é²æ£äºæªç¶ã ââ æ¥ç§æå½æ¶æçä¸ä»£åå»æé¹ï¼æ¾ç»æä¸ªå¾èåçå»å­¦ä¸»å¼ ï¼é²æ£äºæªç¶ã æè§å¾è¿ä¸ªéçåºç¨äºè½¯ä»¶ä»£ç çéæäº¦ç¶ãç¼ç¨åè¦æåççè®¾è®¡ãç¼ç¨æ¶è¦æè¯å¥½çç¼ç¨é£æ ¼ï¼å°½éåå°é®é¢ãä»è¿ä¸ªå±é¢ä¸è¯´ï¼äºè§£ä»£ç çåå³éï¼ä¸ä»ä»æ¯ä¸ºäºåç°é®é¢ãè§£å³é®é¢ãæ´éè¦çä½ç¨æ¯ï¼æå¯¼æä»¬å¨ç¼ç¨è¿ç¨ä¸­ææè¯çå»è§é¿è¿äºé®é¢ã\n\n * å°çä¸å»ï¼æå¾å¤§çã ââ åå¤è¯´è¿ï¼âå¿ä»¥åå°èä¸ä¸ºï¼å¿ä»¥æ¶å°èä¸ºä¹âãåç°é®é¢å°±åæ¶ä¿®æ¹ï¼ä»£ç è´¨éèªç¶å®¹æè¿å¥è¯æ§å¾ªç¯ï¼åä¹ï¼äº¦ç¶ãè¦éè§ç§¯ç´¯çåéï¼å«æ»ä»¥ä¸ºä»£ç åºç°ç¹å°é®é¢ï¼é£é½ä¸æ¯äºå¿ã\n\n * å¯¹çä¸è¯ã ââ ç¨åºåºç°äºé®é¢ï¼è¦åæåºé®é¢çæ ¹æ¬ï¼æéå¯¹æ§çå¶å®åççéææ¹æ¡ãå¤§å®¶é½ç¥éåéè¯çåæï¼åæ ·çï¼çæ¹è¿ä¸å¦ä¸æ¹ã\n\n * å¿çè¯ ââ å»çç¨çè¯å®¹æäº§çå¯ä½ç¨ãæ¢ä¸å¥ä¿è¯­ï¼æ­¥å­å¤§äºå®¹ææ¯çèãéæå¦æå¤§åéæ§çå¹²ï¼é£ä½ å°±è¦æéæ¶å¯è½æè¡çå¿çåå¤ãæ¨åéæ¥ä¸æ¯éæï¼èæ¯éåãéæåºè¯¥æ¯å¾ªåºæ¸è¿ï¼æ­¥æ­¥ä¸ºè¥çè¿ç¨ãå½ä½ åç°éåä»£ç æ¯éæä»£ç æ´ç®åï¼å¾å¾è¯´æä½ æ©å°±è¯¥éæäºã\n\n\n# éæçåå\n\nåé¢æä»£ç è´¨éé®é¢æ¯ä½ççï¼èæéææ¯ä½è¯ãè¿éï¼æä»¬åè¿ä¸æ­¥è®¨è®ºä¸ä¸éæçååã\n\n# ä½è°éæ(What)\n\néæï¼Refactoringï¼ çå¸¸è§å®ä¹æ¯ï¼ä¸æ¹åè½¯ä»¶ç³»ç»å¤é¨è¡ä¸ºçåæä¸ï¼æ¹åå®çåé¨ç»æã\n\nä¸ªäººè§å¾è¿ä¸ªå®ä¹æç¹çæ¶©ãä¸å¦¨çè§£ä¸ºï¼éææ¯ç»ä»£ç æ²»ççè¡ä¸ºãèä»£ç æçæ¯æä»£ç çè´¨éï¼å¯é æ§ãå®å¨æ§ãå¯å¤ç¨æ§ãå¯ç»´æ¤æ§ï¼åæ§è½æé®é¢ã\n\néæçç®çæ¯ä¸ºäºæé«ä»£ç çè´¨éåæ§è½ã\n\næ³¨ï¼åè½ä¸å¨æèä¸æ­£ç¡®ï¼é£æ¯æ®ç¾ä»£ç ãå°±åæ²»çæ²»ä¸äºæ®ç¾ï¼éæä¹è§£å³ä¸äºåè½é®é¢ã\n\n# ä¸ºä½éæ(Why)\n\nç¿»ç¿»ä¹¦ï¼ä¸ç½æä¸ä¸ï¼è°å°éæççç±å¤§ä½ç¸åï¼\n\n * éææ¹è¿è½¯ä»¶è®¾è®¡\n * éæä½¿è½¯ä»¶æ´å®¹æçè§£\n * éæå¸®å©æ¾å° bug\n * éææé«ç¼ç¨éåº¦\n\næ»ä¹å°±æ¯ï¼éæå¯ä»¥æé«ä»£ç è´¨éã\n\n# ä½æ¶éæ(When)\n\nå³äºä½æ¶éæï¼æåå¼ç¨ä¸ä¸ éæå¹¶éé¾å¨å¦ä½åï¼èæ¯é¾å¨ä½æ¶å¼å§å ä¸æçè§ç¹ã\n\n> å¯¹äºä¸ä¸ªé«éåå±çå¬å¸æ¥è¯´ï¼åæ­¢ä¸å¡å¼åï¼ä¸é¨æ¥åéæé¡¹ç®ï¼ä»æ¥å°±ä¸æ¯ä¸ä¸ªå¯æ¥åçéé¡¹ï¼âè¾¹å¼é£æºè¾¹æ¢å¼æâææ¯è¿ç§å¬å¸æ³è¦çã\n\næä»¬ä¸å¦¨æ¥è¡¡éä¸ä¸éæçææ¬åæ¶çã\n\n * éæçææ¬\n   \n   éææ¯æææ¬çï¼è´¹æ¶è´¹åï¼æ¶é´ãäººåï¼ä¸è¯´ï¼è¿æå¯è½ä¼ä½¿æ¬æ¥æ­£å¸¸è¿è¡çç¨åºåºéãæä»¥ï¼å¾å¤äººé½æ±çâä¸æ±æåï¼ä½æ±æ è¿âçå¿çå¾è¿ä¸è¿ã\n   \n   è¿æä¸ç§ææ¬ï¼éæä½¿ç¨è¾æ°ä¸è¾ä¸ºå¤æçææ¯ï¼å­¦ä¹ æ²çº¿ä¸å¹³æ»ï¼å¢éæåææ¯åæ¢å°é¾ï¼ç­æåå¼åæçå¯è½ä¸ååéã\n   \n   ä½æ¯ï¼å¦æä¸ç´æ¾ä»»ä»£ç èæ½ä¸å»ï¼ææ¯åºå¡ä¼è¶æ¥è¶æ²éãå½ä»£ç æç»å¿«è¦è·ä¸å¨æ¶ï¼æ¶æå¸ä»¬å¾å¾è¿æ¯ä¸å¾ä¸ä½¿ç¨æ¿è¿çææ®µæ¥æ²»çä»£ç çé¡½ç¾ãä½æ¯ï¼è¿ä¸ªè¿ç¨éå¸¸é½æ¯éå¸¸çè¦çï¼èä¸æçå¾é«çå¤±è´¥é£é©ã\n\n * éæçæ¶ç\n   \n   éæçæ¶çæ¯æé«ä»£ç çè´¨éåæ§è½ï¼å¹¶æé«æªæ¥çå¼åæçãä½æ¯ï¼åºå½çå°ï¼éæå¾å¾å¹¶ä¸è½å¨ç­æåå¸¦æ¥å®éçæçï¼æèå¾é¾ç´è§çåºæçãèå¯¹äºä¸ä¸ªä¼ä¸æ¥è¯´ï¼æ²¡æä»ä¹æ¯æçæ´éè¦ãæ¢å¥è¯è¯´ï¼æ²¡æå®éæççäºï¼éå¸¸ä¹æ²¡æä»·å¼ãå¾å¤é¢å¯¼ï¼å°¤å¶æ¯éææ¯æ¹åçé¢å¯¼ï¼å¹¶ä¸å³å¿ä½ åºç¨äºä»ä¹æ°ææ¯ï¼è®©ä»£ç åå¾å¤ä¹ä¼éç­ç­ã\n\n * éæçåéæ¶æº\n   \n   ä»ä»¥ä¸æ¥çï¼éæå®å¨æ¯ä¸ªååä¸è®¨å¥½çäºæã\n   \n   äºæ¯ï¼å¾å¤äººå±æäºä¸æ¶ç KPI åè¦å½ç deadlineï¼ä¸è¾¹åæ§½çä»¥åçä»£ç æ¯åå¾ï¼ä¸è¾¹èªå·±ä¹å¨é åå¾ã\n   \n   ä½æ¯ï¼éææ¬åºè¯¥æ¯ä¸ªæ¸è¿å¼çè¿ç¨ï¼ä¸æ¯åªæä¼¤ç­å¨éª¨çæ¹é æå«éæãå¦æéè¦ç­å°ä»£ç å·²ç»çå°çå¥èèï¼åä½¿ç¨æ¿è¿æ¹å¼æ¥éæï¼é£å¿ç¶æ¯å°é¾ééï¼é£é©æé«ã\n   \n   ãéæãä¹¦ä¸­æå°çéææ¶æºåºè¯¥å¨æ·»å åè½ãä¿®å¤åè½ãå®¡æ¥ä»£ç æ¶ï¼ä¸å»ºè®®ä¸é¨æ½åºæ¶é´ä¸é¨åéæé¡¹ç®ã\n   \n   æè®¤ä¸ºï¼å¶ææ³å°±æ¯æï¼éæåºè¯¥æ¯å¨å¼åè¿ç¨ä¸­å®æ¶çãæ¸è¿çæ¼åè¿ç¨ã\n\n * éæçä¸æ°å½æ¶æº\n   \n   ä½æ¯ï¼è¿éæä¹è¦å¼ºè°ä¸ä¸ï¼ä¸æ¯ææè½¯ä»¶å¼åè¿ç¨é½ä¸å®è¦éæã\n   \n   è¾è½å¸æ¾éæä»·å¼çåºæ¯æ¯ï¼ä»£ç è§æ¨¡è¾å¤§ãçå½å¨æè¿è¾é¿ãæ¿æäºè¾å¤è´£ä»»ãæä¸ä¸ªè¾å¤§ï¼ä¸è¾ä¸ç¨³å®ï¼äººåæµå¨é¢ç¹ï¼å¢éå¨å¶ä¸å·¥ä½çåä¸ä»£ç åºã\n   \n   ä¸ä¹ç¸åï¼æä¸äºåºæ¯çéæä»·å¼å°±å¾å°ï¼\n   \n   * ä»£ç åºçå½å¨æå¿«è¦èµ°å°å°¾å£°ï¼å¼åéæ¸åå°ï¼ä»¥ç»´æ¤ä¸ºä¸»ã\n   * ä»£ç åºå½åçæ¬é©¬ä¸è¦åå¸äºï¼è¿æ¶éææ çæ¯ç»èªå·±æ¾éº»ç¦ã\n   * éæä»£ä»·è¿äºæ²éï¼éæååè½çæ­£ç¡®æ§ãç¨³å®æ§é¾ä»¥ä¿éï¼ææ¯è¿äºè¶åï¼å¢éæåææ¯è¿ç§»é¾åº¦å¤ªå¤§ã\n\n# å¦ä½éæ(How)\n\néæè¡ä¸ºå¨æçæ¥ï¼ä¹æ¯å¯ä»¥åå±çº§çãç±é«å°ä½ï¼è¶é«å±çº§é¾åº¦è¶å¤§ï¼\n\n * ç³»ç»æ¶æãéç¾¤æ¶æãæ¡æ¶ãæå¡ãæ°æ®åºï¼è¿ä¸ªå±é¢çéæå±äºæç¥çº§éæãç°ä»£è½¯ä»¶å¾å¾ä¸å¡å¤æãåºå¤§ãä½¿ç¨å¾®æå¡ãæ°æ®è¿ç§»æ¥æåä¸å¡ï¼éä½ä¸å¡å¤æåº¦æä¸ºäºä¸»æµãä½æ¯ï¼è¿äºææ¯çæµè¯ãé¨ç½²å¤æï¼ææ¯é¾åº¦å¾é«ã\n * ç»ä»¶ãæ¨¡åãæ¥å£ï¼è¿ä¸ªå±é¢çéæå±äºææ¯çº§éæãç»ä»¶ãæ¨¡åãæ¡æ¶çéæï¼ä¸»è¦æ¯éå¯¹ä»£ç çè®¾è®¡é®é¢ãè§£å³çæ¯ä»£ç çæ´ä½ç»æé®é¢ãéè¦å¯¹æ¡æ¶ãè®¾è®¡æ¨¡å¼ãåå¸å¼ãå¹¶åç­ç­æè¶³å¤çäºè§£ã\n * ç±»ãæ¥å£ãå½æ°ãå­æ®µç­ï¼è¿ä¸ªå±é¢çéæå±äºææ³çº§éæããéæãä¸ä¹¦æå°äº ä»£ç çåå³é ä»¥åç¸å³çéææ¹æ³ãè¿äºé½æ¯å¯¹ç±»ãæ¥å£ãå½æ°ãå­æ®µçº§å«ä»£ç çéæææ®µãç±äºè¿ä¸çº§å«çéææ¹æ³è¾ä¸ºç®åï¼æä»¥å¯æä½æ§è¾å¼ºãå·ä½ç»èå¯ä»¥éè¯»ãä»£ç çåå³éãç¯ç« ã\n\nåä¸¤ç§å±çº§çéæå·²ç»æ¶åå°æ¶æå±é¢ï¼å½±åè¾å¤§ï¼é¾åº¦è¾é«ï¼å¦æååä¸å¤ä¸è¦è½»æåå¨ãç±äºè¿ä¸¤ä¸ªå±çº§æ¶åé¢åè¾å¹¿ï¼è¿éä¸åè®ºè¿°ã\n\næ­¤å¤ä¸ºåå²çº¿ãä¸é¢æ¯ä»£ç çåå³éç³»åããã\n\n\n# ä»£ç çåå³é\n\nãéæ:æ¹åæ¢æä»£ç çè®¾è®¡ãä¸­ä»ç»äº 22 ç§ä»£ç çåå³éä»¥åéæææ³ãè¿äºåå³éå¯ä»¥è¿ä¸æ­¥å½ç±»ãææ»è§å¾å°äºç©åç±»æå©äºçè§£åè®°å¿ãæä»¥æ¬ç³»åå°åå³éæç§ç¹æ§åç±»ï¼ç¶åéä¸è®²è§£ã\n\n\n\n\n# ä»£ç åå³éä¹ä»£ç èè¿\n\n> ä»£ç èè¿(Bloated)è¿ç»åå³éæå³çï¼ä»£ç ä¸­çç±»ãå½æ°ãå­æ®µæ²¡æç»è¿åççç»ç»ï¼åªæ¯ç®åçå ç èµ·æ¥ãè¿ä¸ç±»åçé®é¢éå¸¸å¨ä»£ç çåæå¹¶ä¸ææ¾ï¼ä½æ¯éçä»£ç è§æ¨¡çå¢é¿èéæ¸ç§¯ç´¯ï¼ç¹å«æ¯å½æ²¡æäººåªåå»æ ¹é¤å®ä»¬æ¶ï¼ã\n\n * è¿é¿å½æ°\n * è¿å¤§çç±»\n * åºæ¬ç±»ååæ§\n * è¿é¿åæ°å\n * æ°æ®æ³¥å¢\n\n\n# ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡\n\n> æ»¥ç¨é¢åå¯¹è±¡(Object-Orientation Abusers)è¿ç»åå³éæå³çï¼ä»£ç é¨åæå®å¨å°è¿èäºé¢åå¯¹è±¡ç¼ç¨ååã\n\n * switch å£°æ\n * ä¸´æ¶å­æ®µ\n * è¢«æç»çé¦èµ \n * å¼æ²åå·¥çç±»\n\n\n# ä»£ç åå³éä¹åé©çéç¢\n\n> åé©çéç¢(Change Preventers)è¿ç»åå³éæå³çï¼å½ä½ éè¦æ¹åä¸å¤ä»£ç æ¶ï¼å´åç°ä¸å¾ä¸æ¹åå¶ä»çå°æ¹ãè¿ä½¿å¾ç¨åºå¼ååå¾å¤æãä»£ä»·é«æã\n\n * åæ£å¼åå\n * é°å¼¹å¼ä¿®æ¹\n * å¹³è¡ç»§æ¿ä½ç³»\n\n\n# ä»£ç åå³éä¹éå¿è¦ç\n\n> éå¿è¦ç(Dispensables)è¿ç»åå³éæå³çï¼è¿æ ·çä»£ç å¯æå¯æ ï¼å®çå­å¨åèå½±åæ´ä½ä»£ç çæ´æ´åå¯è¯»æ§ã\n\n * è¿å¤çæ³¨é\n * éå¤ä»£ç \n * åä½ç±»\n * çº¯ç¨çæ°æ®ç±»\n * å¤¸å¤¸å¶è°æªæ¥æ§\n\n\n# ä»£ç åå³éä¹è¦å\n\n> è¦å(Couplers)è¿ç»åå³éæå³çï¼ä¸åç±»ä¹é´è¿åº¦è¦åã\n\n * ä¾ææç»\n * çæµå³ç³»\n * è¿åº¦è¦åçæ¶æ¯é¾\n * ä¸­é´äºº\n * ä¸å®ç¾çåºç±»\n\n\n# æ©å±éè¯»\n\n * ä»£ç çåå³éåéæ\n * ä»£ç åå³éä¹ä»£ç èè¿\n * ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡\n * ä»£ç åå³éä¹åé©çéç¢\n * ä»£ç åå³éä¹éå¿è¦ç\n * ä»£ç åå³éä¹è¦å\n\n\n# åèèµæ\n\n * ãä»£ç æ´æ´ä¹éã\n * ãéæ - æ¹åæ¢æä»£ç çè®¾è®¡ã\n * ãä»£ç å¤§å¨ã\n * https://sourcemaking.com/refactoring",normalizedContent:"ç¬¬ä¸æ¬¡è¯»ãéæ:æ¹åæ¢æä»£ç çè®¾è®¡ãæ¶ï¼ææ¾æ´çè¿ä¸ä¸ªç®åçç¬è®°ãæè¿ï¼å ä¸ºåä¸ä¸ä¸ªéæé¡¹ç®ï¼åä¸æ¬¡æ¸©ä¹ äºãéæ:æ¹åæ¢æä»£ç çè®¾è®¡ããè¿ç¨ä¸­ï¼èåäºè®¤çæ»ç»ãæ´çéææ¹æ³çå²å¨ï¼äºæ¯æäºè¿ç³»åæå­ã\n\n\n# çä¸è¯\n\n\n# å¯¹ä»£ç çåå³éçæè\n\nâæçè¦æ©æ²»ï¼ä¸è¦æ¾å¼æ²»çâãå¤ä¹æ´ç´ çéç ï¼äººäººé½æã\n\nçï¼å°±æ¯ä¸å¥åº·ã\n\näººæçï¼å¯ä»¥éè¿æéãåè¯ãåææ¯æ¥è¿è¡æ²»çã\n\nå¦ææä»£ç çåå³éï¼ä»£ç è´¨éé®é¢ï¼æ¯ä½ççï¼é£ä¹éæå°±æ¯æ²»çä»£ç çåå³éçè¯ã\n\nä¸ªäººè®¤ä¸ºï¼å¨éæè¿ä»¶äºä¸ï¼ä¹å¯ä»¥åºç¨æ²»ççéçï¼\n\n * é²æ£äºæªç¶ã ââ æ¥ç§æå½æ¶æçä¸ä»£åå»æé¹ï¼æ¾ç»æä¸ªå¾èåçå»å­¦ä¸»å¼ ï¼é²æ£äºæªç¶ã æè§å¾è¿ä¸ªéçåºç¨äºè½¯ä»¶ä»£ç çéæäº¦ç¶ãç¼ç¨åè¦æåççè®¾è®¡ãç¼ç¨æ¶è¦æè¯å¥½çç¼ç¨é£æ ¼ï¼å°½éåå°é®é¢ãä»è¿ä¸ªå±é¢ä¸è¯´ï¼äºè§£ä»£ç çåå³éï¼ä¸ä»ä»æ¯ä¸ºäºåç°é®é¢ãè§£å³é®é¢ãæ´éè¦çä½ç¨æ¯ï¼æå¯¼æä»¬å¨ç¼ç¨è¿ç¨ä¸­ææè¯çå»è§é¿è¿äºé®é¢ã\n\n * å°çä¸å»ï¼æå¾å¤§çã ââ åå¤è¯´è¿ï¼âå¿ä»¥åå°èä¸ä¸ºï¼å¿ä»¥æ¶å°èä¸ºä¹âãåç°é®é¢å°±åæ¶ä¿®æ¹ï¼ä»£ç è´¨éèªç¶å®¹æè¿å¥è¯æ§å¾ªç¯ï¼åä¹ï¼äº¦ç¶ãè¦éè§ç§¯ç´¯çåéï¼å«æ»ä»¥ä¸ºä»£ç åºç°ç¹å°é®é¢ï¼é£é½ä¸æ¯äºå¿ã\n\n * å¯¹çä¸è¯ã ââ ç¨åºåºç°äºé®é¢ï¼è¦åæåºé®é¢çæ ¹æ¬ï¼æéå¯¹æ§çå¶å®åççéææ¹æ¡ãå¤§å®¶é½ç¥éåéè¯çåæï¼åæ ·çï¼çæ¹è¿ä¸å¦ä¸æ¹ã\n\n * å¿çè¯ ââ å»çç¨çè¯å®¹æäº§çå¯ä½ç¨ãæ¢ä¸å¥ä¿è¯­ï¼æ­¥å­å¤§äºå®¹ææ¯çèãéæå¦æå¤§åéæ§çå¹²ï¼é£ä½ å°±è¦æéæ¶å¯è½æè¡çå¿çåå¤ãæ¨åéæ¥ä¸æ¯éæï¼èæ¯éåãéæåºè¯¥æ¯å¾ªåºæ¸è¿ï¼æ­¥æ­¥ä¸ºè¥çè¿ç¨ãå½ä½ åç°éåä»£ç æ¯éæä»£ç æ´ç®åï¼å¾å¾è¯´æä½ æ©å°±è¯¥éæäºã\n\n\n# éæçåå\n\nåé¢æä»£ç è´¨éé®é¢æ¯ä½ççï¼èæéææ¯ä½è¯ãè¿éï¼æä»¬åè¿ä¸æ­¥è®¨è®ºä¸ä¸éæçååã\n\n# ä½è°éæ(what)\n\néæï¼refactoringï¼ çå¸¸è§å®ä¹æ¯ï¼ä¸æ¹åè½¯ä»¶ç³»ç»å¤é¨è¡ä¸ºçåæä¸ï¼æ¹åå®çåé¨ç»æã\n\nä¸ªäººè§å¾è¿ä¸ªå®ä¹æç¹çæ¶©ãä¸å¦¨çè§£ä¸ºï¼éææ¯ç»ä»£ç æ²»ççè¡ä¸ºãèä»£ç æçæ¯æä»£ç çè´¨éï¼å¯é æ§ãå®å¨æ§ãå¯å¤ç¨æ§ãå¯ç»´æ¤æ§ï¼åæ§è½æé®é¢ã\n\néæçç®çæ¯ä¸ºäºæé«ä»£ç çè´¨éåæ§è½ã\n\næ³¨ï¼åè½ä¸å¨æèä¸æ­£ç¡®ï¼é£æ¯æ®ç¾ä»£ç ãå°±åæ²»çæ²»ä¸äºæ®ç¾ï¼éæä¹è§£å³ä¸äºåè½é®é¢ã\n\n# ä¸ºä½éæ(why)\n\nç¿»ç¿»ä¹¦ï¼ä¸ç½æä¸ä¸ï¼è°å°éæççç±å¤§ä½ç¸åï¼\n\n * éææ¹è¿è½¯ä»¶è®¾è®¡\n * éæä½¿è½¯ä»¶æ´å®¹æçè§£\n * éæå¸®å©æ¾å° bug\n * éææé«ç¼ç¨éåº¦\n\næ»ä¹å°±æ¯ï¼éæå¯ä»¥æé«ä»£ç è´¨éã\n\n# ä½æ¶éæ(when)\n\nå³äºä½æ¶éæï¼æåå¼ç¨ä¸ä¸ éæå¹¶éé¾å¨å¦ä½åï¼èæ¯é¾å¨ä½æ¶å¼å§å ä¸æçè§ç¹ã\n\n> å¯¹äºä¸ä¸ªé«éåå±çå¬å¸æ¥è¯´ï¼åæ­¢ä¸å¡å¼åï¼ä¸é¨æ¥åéæé¡¹ç®ï¼ä»æ¥å°±ä¸æ¯ä¸ä¸ªå¯æ¥åçéé¡¹ï¼âè¾¹å¼é£æºè¾¹æ¢å¼æâææ¯è¿ç§å¬å¸æ³è¦çã\n\næä»¬ä¸å¦¨æ¥è¡¡éä¸ä¸éæçææ¬åæ¶çã\n\n * éæçææ¬\n   \n   éææ¯æææ¬çï¼è´¹æ¶è´¹åï¼æ¶é´ãäººåï¼ä¸è¯´ï¼è¿æå¯è½ä¼ä½¿æ¬æ¥æ­£å¸¸è¿è¡çç¨åºåºéãæä»¥ï¼å¾å¤äººé½æ±çâä¸æ±æåï¼ä½æ±æ è¿âçå¿çå¾è¿ä¸è¿ã\n   \n   è¿æä¸ç§ææ¬ï¼éæä½¿ç¨è¾æ°ä¸è¾ä¸ºå¤æçææ¯ï¼å­¦ä¹ æ²çº¿ä¸å¹³æ»ï¼å¢éæåææ¯åæ¢å°é¾ï¼ç­æåå¼åæçå¯è½ä¸ååéã\n   \n   ä½æ¯ï¼å¦æä¸ç´æ¾ä»»ä»£ç èæ½ä¸å»ï¼ææ¯åºå¡ä¼è¶æ¥è¶æ²éãå½ä»£ç æç»å¿«è¦è·ä¸å¨æ¶ï¼æ¶æå¸ä»¬å¾å¾è¿æ¯ä¸å¾ä¸ä½¿ç¨æ¿è¿çææ®µæ¥æ²»çä»£ç çé¡½ç¾ãä½æ¯ï¼è¿ä¸ªè¿ç¨éå¸¸é½æ¯éå¸¸çè¦çï¼èä¸æçå¾é«çå¤±è´¥é£é©ã\n\n * éæçæ¶ç\n   \n   éæçæ¶çæ¯æé«ä»£ç çè´¨éåæ§è½ï¼å¹¶æé«æªæ¥çå¼åæçãä½æ¯ï¼åºå½çå°ï¼éæå¾å¾å¹¶ä¸è½å¨ç­æåå¸¦æ¥å®éçæçï¼æèå¾é¾ç´è§çåºæçãèå¯¹äºä¸ä¸ªä¼ä¸æ¥è¯´ï¼æ²¡æä»ä¹æ¯æçæ´éè¦ãæ¢å¥è¯è¯´ï¼æ²¡æå®éæççäºï¼éå¸¸ä¹æ²¡æä»·å¼ãå¾å¤é¢å¯¼ï¼å°¤å¶æ¯éææ¯æ¹åçé¢å¯¼ï¼å¹¶ä¸å³å¿ä½ åºç¨äºä»ä¹æ°ææ¯ï¼è®©ä»£ç åå¾å¤ä¹ä¼éç­ç­ã\n\n * éæçåéæ¶æº\n   \n   ä»ä»¥ä¸æ¥çï¼éæå®å¨æ¯ä¸ªååä¸è®¨å¥½çäºæã\n   \n   äºæ¯ï¼å¾å¤äººå±æäºä¸æ¶ç kpi åè¦å½ç deadlineï¼ä¸è¾¹åæ§½çä»¥åçä»£ç æ¯åå¾ï¼ä¸è¾¹èªå·±ä¹å¨é åå¾ã\n   \n   ä½æ¯ï¼éææ¬åºè¯¥æ¯ä¸ªæ¸è¿å¼çè¿ç¨ï¼ä¸æ¯åªæä¼¤ç­å¨éª¨çæ¹é æå«éæãå¦æéè¦ç­å°ä»£ç å·²ç»çå°çå¥èèï¼åä½¿ç¨æ¿è¿æ¹å¼æ¥éæï¼é£å¿ç¶æ¯å°é¾ééï¼é£é©æé«ã\n   \n   ãéæãä¹¦ä¸­æå°çéææ¶æºåºè¯¥å¨æ·»å åè½ãä¿®å¤åè½ãå®¡æ¥ä»£ç æ¶ï¼ä¸å»ºè®®ä¸é¨æ½åºæ¶é´ä¸é¨åéæé¡¹ç®ã\n   \n   æè®¤ä¸ºï¼å¶ææ³å°±æ¯æï¼éæåºè¯¥æ¯å¨å¼åè¿ç¨ä¸­å®æ¶çãæ¸è¿çæ¼åè¿ç¨ã\n\n * éæçä¸æ°å½æ¶æº\n   \n   ä½æ¯ï¼è¿éæä¹è¦å¼ºè°ä¸ä¸ï¼ä¸æ¯ææè½¯ä»¶å¼åè¿ç¨é½ä¸å®è¦éæã\n   \n   è¾è½å¸æ¾éæä»·å¼çåºæ¯æ¯ï¼ä»£ç è§æ¨¡è¾å¤§ãçå½å¨æè¿è¾é¿ãæ¿æäºè¾å¤è´£ä»»ãæä¸ä¸ªè¾å¤§ï¼ä¸è¾ä¸ç¨³å®ï¼äººåæµå¨é¢ç¹ï¼å¢éå¨å¶ä¸å·¥ä½çåä¸ä»£ç åºã\n   \n   ä¸ä¹ç¸åï¼æä¸äºåºæ¯çéæä»·å¼å°±å¾å°ï¼\n   \n   * ä»£ç åºçå½å¨æå¿«è¦èµ°å°å°¾å£°ï¼å¼åéæ¸åå°ï¼ä»¥ç»´æ¤ä¸ºä¸»ã\n   * ä»£ç åºå½åçæ¬é©¬ä¸è¦åå¸äºï¼è¿æ¶éææ çæ¯ç»èªå·±æ¾éº»ç¦ã\n   * éæä»£ä»·è¿äºæ²éï¼éæååè½çæ­£ç¡®æ§ãç¨³å®æ§é¾ä»¥ä¿éï¼ææ¯è¿äºè¶åï¼å¢éæåææ¯è¿ç§»é¾åº¦å¤ªå¤§ã\n\n# å¦ä½éæ(how)\n\néæè¡ä¸ºå¨æçæ¥ï¼ä¹æ¯å¯ä»¥åå±çº§çãç±é«å°ä½ï¼è¶é«å±çº§é¾åº¦è¶å¤§ï¼\n\n * ç³»ç»æ¶æãéç¾¤æ¶æãæ¡æ¶ãæå¡ãæ°æ®åºï¼è¿ä¸ªå±é¢çéæå±äºæç¥çº§éæãç°ä»£è½¯ä»¶å¾å¾ä¸å¡å¤æãåºå¤§ãä½¿ç¨å¾®æå¡ãæ°æ®è¿ç§»æ¥æåä¸å¡ï¼éä½ä¸å¡å¤æåº¦æä¸ºäºä¸»æµãä½æ¯ï¼è¿äºææ¯çæµè¯ãé¨ç½²å¤æï¼ææ¯é¾åº¦å¾é«ã\n * ç»ä»¶ãæ¨¡åãæ¥å£ï¼è¿ä¸ªå±é¢çéæå±äºææ¯çº§éæãç»ä»¶ãæ¨¡åãæ¡æ¶çéæï¼ä¸»è¦æ¯éå¯¹ä»£ç çè®¾è®¡é®é¢ãè§£å³çæ¯ä»£ç çæ´ä½ç»æé®é¢ãéè¦å¯¹æ¡æ¶ãè®¾è®¡æ¨¡å¼ãåå¸å¼ãå¹¶åç­ç­æè¶³å¤çäºè§£ã\n * ç±»ãæ¥å£ãå½æ°ãå­æ®µç­ï¼è¿ä¸ªå±é¢çéæå±äºææ³çº§éæããéæãä¸ä¹¦æå°äº ä»£ç çåå³é ä»¥åç¸å³çéææ¹æ³ãè¿äºé½æ¯å¯¹ç±»ãæ¥å£ãå½æ°ãå­æ®µçº§å«ä»£ç çéæææ®µãç±äºè¿ä¸çº§å«çéææ¹æ³è¾ä¸ºç®åï¼æä»¥å¯æä½æ§è¾å¼ºãå·ä½ç»èå¯ä»¥éè¯»ãä»£ç çåå³éãç¯ç« ã\n\nåä¸¤ç§å±çº§çéæå·²ç»æ¶åå°æ¶æå±é¢ï¼å½±åè¾å¤§ï¼é¾åº¦è¾é«ï¼å¦æååä¸å¤ä¸è¦è½»æåå¨ãç±äºè¿ä¸¤ä¸ªå±çº§æ¶åé¢åè¾å¹¿ï¼è¿éä¸åè®ºè¿°ã\n\næ­¤å¤ä¸ºåå²çº¿ãä¸é¢æ¯ä»£ç çåå³éç³»åããã\n\n\n# ä»£ç çåå³é\n\nãéæ:æ¹åæ¢æä»£ç çè®¾è®¡ãä¸­ä»ç»äº 22 ç§ä»£ç çåå³éä»¥åéæææ³ãè¿äºåå³éå¯ä»¥è¿ä¸æ­¥å½ç±»ãææ»è§å¾å°äºç©åç±»æå©äºçè§£åè®°å¿ãæä»¥æ¬ç³»åå°åå³éæç§ç¹æ§åç±»ï¼ç¶åéä¸è®²è§£ã\n\n\n\n\n# ä»£ç åå³éä¹ä»£ç èè¿\n\n> ä»£ç èè¿(bloated)è¿ç»åå³éæå³çï¼ä»£ç ä¸­çç±»ãå½æ°ãå­æ®µæ²¡æç»è¿åççç»ç»ï¼åªæ¯ç®åçå ç èµ·æ¥ãè¿ä¸ç±»åçé®é¢éå¸¸å¨ä»£ç çåæå¹¶ä¸ææ¾ï¼ä½æ¯éçä»£ç è§æ¨¡çå¢é¿èéæ¸ç§¯ç´¯ï¼ç¹å«æ¯å½æ²¡æäººåªåå»æ ¹é¤å®ä»¬æ¶ï¼ã\n\n * è¿é¿å½æ°\n * è¿å¤§çç±»\n * åºæ¬ç±»ååæ§\n * è¿é¿åæ°å\n * æ°æ®æ³¥å¢\n\n\n# ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡\n\n> æ»¥ç¨é¢åå¯¹è±¡(object-orientation abusers)è¿ç»åå³éæå³çï¼ä»£ç é¨åæå®å¨å°è¿èäºé¢åå¯¹è±¡ç¼ç¨ååã\n\n * switch å£°æ\n * ä¸´æ¶å­æ®µ\n * è¢«æç»çé¦èµ \n * å¼æ²åå·¥çç±»\n\n\n# ä»£ç åå³éä¹åé©çéç¢\n\n> åé©çéç¢(change preventers)è¿ç»åå³éæå³çï¼å½ä½ éè¦æ¹åä¸å¤ä»£ç æ¶ï¼å´åç°ä¸å¾ä¸æ¹åå¶ä»çå°æ¹ãè¿ä½¿å¾ç¨åºå¼ååå¾å¤æãä»£ä»·é«æã\n\n * åæ£å¼åå\n * é°å¼¹å¼ä¿®æ¹\n * å¹³è¡ç»§æ¿ä½ç³»\n\n\n# ä»£ç åå³éä¹éå¿è¦ç\n\n> éå¿è¦ç(dispensables)è¿ç»åå³éæå³çï¼è¿æ ·çä»£ç å¯æå¯æ ï¼å®çå­å¨åèå½±åæ´ä½ä»£ç çæ´æ´åå¯è¯»æ§ã\n\n * è¿å¤çæ³¨é\n * éå¤ä»£ç \n * åä½ç±»\n * çº¯ç¨çæ°æ®ç±»\n * å¤¸å¤¸å¶è°æªæ¥æ§\n\n\n# ä»£ç åå³éä¹è¦å\n\n> è¦å(couplers)è¿ç»åå³éæå³çï¼ä¸åç±»ä¹é´è¿åº¦è¦åã\n\n * ä¾ææç»\n * çæµå³ç³»\n * è¿åº¦è¦åçæ¶æ¯é¾\n * ä¸­é´äºº\n * ä¸å®ç¾çåºç±»\n\n\n# æ©å±éè¯»\n\n * ä»£ç çåå³éåéæ\n * ä»£ç åå³éä¹ä»£ç èè¿\n * ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡\n * ä»£ç åå³éä¹åé©çéç¢\n * ä»£ç åå³éä¹éå¿è¦ç\n * ä»£ç åå³éä¹è¦å\n\n\n# åèèµæ\n\n * ãä»£ç æ´æ´ä¹éã\n * ãéæ - æ¹åæ¢æä»£ç çè®¾è®¡ã\n * ãä»£ç å¤§å¨ã\n * https://sourcemaking.com/refactoring",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"ä»£ç åå³éä¹ä»£ç èè¿",frontmatter:{title:"ä»£ç åå³éä¹ä»£ç èè¿",date:"2018-10-13T22:48:00.000Z",categories:["è®¾è®¡","éæ"],tags:["è®¾è®¡","éæ","ä»£ç çåå³é"],permalink:"/pages/49d5ae/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/03.%E9%87%8D%E6%9E%84/02.%E4%BB%A3%E7%A0%81%E5%9D%8F%E5%91%B3%E9%81%93%E4%B9%8B%E4%BB%A3%E7%A0%81%E8%87%83%E8%82%BF.html",relativePath:"03.è®¾è®¡/03.éæ/02.ä»£ç åå³éä¹ä»£ç èè¿.md",key:"v-c5ef3042",path:"/pages/49d5ae/",headers:[{level:2,title:"åºæ¬ç±»ååæ§",slug:"åºæ¬ç±»ååæ§",normalizedTitle:"åºæ¬ç±»ååæ§",charIndex:176},{level:3,title:"é®é¢åå ",slug:"é®é¢åå ",normalizedTitle:"é®é¢åå ",charIndex:345},{level:3,title:"è§£å³æ¹æ³",slug:"è§£å³æ¹æ³",normalizedTitle:"è§£å³æ¹æ³",charIndex:493},{level:3,title:"æ¶ç",slug:"æ¶ç",normalizedTitle:"æ¶ç",charIndex:1119},{level:3,title:"éææ¹æ³è¯´æ",slug:"éææ¹æ³è¯´æ",normalizedTitle:"éææ¹æ³è¯´æ",charIndex:1243},{level:4,title:"ä»¥ç±»åä»£ç±»åç (Replace Type Code with Class)",slug:"ä»¥ç±»åä»£ç±»åç -replace-type-code-with-class",normalizedTitle:"ä»¥ç±»åä»£ç±»åç (replace type code with class)",charIndex:715},{level:4,title:"å¼å¥åæ°å¯¹è±¡(Introduce Parameter Object)",slug:"å¼å¥åæ°å¯¹è±¡-introduce-parameter-object",normalizedTitle:"å¼å¥åæ°å¯¹è±¡(introduce parameter object)",charIndex:784},{level:4,title:"ä¿æå¯¹è±¡å®æ´(Preserve Whole Object)",slug:"ä¿æå¯¹è±¡å®æ´-preserve-whole-object",normalizedTitle:"ä¿æå¯¹è±¡å®æ´(preserve whole object)",charIndex:821},{level:4,title:"ä»¥å­ç±»åä»£ç±»åç (Replace Type Code with Subclass)",slug:"ä»¥å­ç±»åä»£ç±»åç -replace-type-code-with-subclass",normalizedTitle:"ä»¥å­ç±»åä»£ç±»åç (replace type code with subclass)",charIndex:951},{level:4,title:"ä»¥ç¶æ/ç­ç¥æ¨¡å¼åä»£ç±»åç (Replace Type Code with State/Strategy)",slug:"ä»¥ç¶æ-ç­ç¥æ¨¡å¼åä»£ç±»åç -replace-type-code-with-state-strategy",normalizedTitle:"ä»¥ç¶æ/ç­ç¥æ¨¡å¼åä»£ç±»åç (replace type code with state/strategy)",charIndex:995},{level:4,title:"ä»¥å¯¹è±¡åä»£æ°ç»(Replace Array with Object)",slug:"ä»¥å¯¹è±¡åä»£æ°ç»-replace-array-with-object",normalizedTitle:"ä»¥å¯¹è±¡åä»£æ°ç»(replace array with object)",charIndex:1078},{level:2,title:"æ°æ®æ³¥å¢",slug:"æ°æ®æ³¥å¢",normalizedTitle:"æ°æ®æ³¥å¢",charIndex:2151},{level:3,title:"é®é¢åå ",slug:"é®é¢åå -2",normalizedTitle:"é®é¢åå ",charIndex:345},{level:3,title:"è§£å³æ¹æ³",slug:"è§£å³æ¹æ³-2",normalizedTitle:"è§£å³æ¹æ³",charIndex:493},{level:3,title:"æ¶ç",slug:"æ¶ç-2",normalizedTitle:"æ¶ç",charIndex:1119},{level:3,title:"ä½æ¶å¿½ç¥",slug:"ä½æ¶å¿½ç¥",normalizedTitle:"ä½æ¶å¿½ç¥",charIndex:2685},{level:3,title:"éææ¹æ³è¯´æ",slug:"éææ¹æ³è¯´æ-2",normalizedTitle:"éææ¹æ³è¯´æ",charIndex:1243},{level:4,title:"æç¼ç±»(Extract Class)",slug:"æç¼ç±»-extract-class",normalizedTitle:"æç¼ç±»(extract class)",charIndex:2401},{level:4,title:"å¼å¥åæ°å¯¹è±¡(Introduce Parameter Object)",slug:"å¼å¥åæ°å¯¹è±¡-introduce-parameter-object-2",normalizedTitle:"å¼å¥åæ°å¯¹è±¡(introduce parameter object)",charIndex:784},{level:4,title:"ä¿æå¯¹è±¡å®æ´(Preserve Whole Object)",slug:"ä¿æå¯¹è±¡å®æ´-preserve-whole-object-2",normalizedTitle:"ä¿æå¯¹è±¡å®æ´(preserve whole object)",charIndex:821},{level:2,title:"è¿å¤§çç±»",slug:"è¿å¤§çç±»",normalizedTitle:"è¿å¤§çç±»",charIndex:3192},{level:3,title:"é®é¢åå ",slug:"é®é¢åå -3",normalizedTitle:"é®é¢åå ",charIndex:345},{level:3,title:"è§£å³æ¹æ³",slug:"è§£å³æ¹æ³-3",normalizedTitle:"è§£å³æ¹æ³",charIndex:493},{level:3,title:"æ¶ç",slug:"æ¶ç-3",normalizedTitle:"æ¶ç",charIndex:1119},{level:3,title:"éææ¹æ³è¯´æ",slug:"éææ¹æ³è¯´æ-3",normalizedTitle:"éææ¹æ³è¯´æ",charIndex:1243},{level:4,title:"æç¼ç±»(Extract Class)",slug:"æç¼ç±»-extract-class-2",normalizedTitle:"æç¼ç±»(extract class)",charIndex:2401},{level:4,title:"æç¼å­ç±»(Extract Subclass)",slug:"æç¼å­ç±»-extract-subclass",normalizedTitle:"æç¼å­ç±»(extract subclass)",charIndex:3479},{level:4,title:"æç¼æ¥å£(Extract Interface)",slug:"æç¼æ¥å£-extract-interface",normalizedTitle:"æç¼æ¥å£(extract interface)",charIndex:3530},{level:4,title:"å¤å¶è¢«çè§æ°æ®(Duplicate Observed Data)",slug:"å¤å¶è¢«çè§æ°æ®-duplicate-observed-data",normalizedTitle:"å¤å¶è¢«çè§æ°æ®(duplicate observed data)",charIndex:3623},{level:2,title:"è¿é¿å½æ°",slug:"è¿é¿å½æ°",normalizedTitle:"è¿é¿å½æ°",charIndex:3282},{level:3,title:"é®é¢çåå ",slug:"é®é¢çåå ",normalizedTitle:"é®é¢çåå ",charIndex:4227},{level:3,title:"è§£å³å½æ°",slug:"è§£å³å½æ°",normalizedTitle:"è§£å³å½æ°",charIndex:4432},{level:3,title:"æ¶ç",slug:"æ¶ç-4",normalizedTitle:"æ¶ç",charIndex:1119},{level:3,title:"æ§è½",slug:"æ§è½",normalizedTitle:"æ§è½",charIndex:5085},{level:3,title:"éææ¹æ³è¯´æ",slug:"éææ¹æ³è¯´æ-4",normalizedTitle:"éææ¹æ³è¯´æ",charIndex:1243},{level:4,title:"æç¼å½æ°(Extract Method)",slug:"æç¼å½æ°-extract-method",normalizedTitle:"æç¼å½æ°(extract method)",charIndex:4641},{level:4,title:"ä»¥æ¥è¯¢åä»£ä¸´æ¶åé(Replace Temp with Query)",slug:"ä»¥æ¥è¯¢åä»£ä¸´æ¶åé-replace-temp-with-query",normalizedTitle:"ä»¥æ¥è¯¢åä»£ä¸´æ¶åé(replace temp with query)",charIndex:4687},{level:4,title:"å¼å¥åæ°å¯¹è±¡(Introduce Parameter Object)",slug:"å¼å¥åæ°å¯¹è±¡-introduce-parameter-object-3",normalizedTitle:"å¼å¥åæ°å¯¹è±¡(introduce parameter object)",charIndex:784},{level:4,title:"ä¿æå¯¹è±¡å®æ´(Preserve Whole Object)",slug:"ä¿æå¯¹è±¡å®æ´-preserve-whole-object-3",normalizedTitle:"ä¿æå¯¹è±¡å®æ´(preserve whole object)",charIndex:821},{level:4,title:"ä»¥å½æ°å¯¹è±¡åä»£å½æ°(Replace Method with Method Object)",slug:"ä»¥å½æ°å¯¹è±¡åä»£å½æ°-replace-method-with-method-object",normalizedTitle:"ä»¥å½æ°å¯¹è±¡åä»£å½æ°(replace method with method object)",charIndex:4810},{level:4,title:"åè§£æ¡ä»¶è¡¨è¾¾å¼(Decompose Conditional)",slug:"åè§£æ¡ä»¶è¡¨è¾¾å¼-decompose-conditional",normalizedTitle:"åè§£æ¡ä»¶è¡¨è¾¾å¼(decompose conditional)",charIndex:4908},{level:2,title:"è¿é¿åæ°å",slug:"è¿é¿åæ°å",normalizedTitle:"è¿é¿åæ°å",charIndex:7586},{level:3,title:"é®é¢åå ",slug:"é®é¢åå -4",normalizedTitle:"é®é¢åå ",charIndex:345},{level:3,title:"è§£å³æ¹æ¡",slug:"è§£å³æ¹æ¡",normalizedTitle:"è§£å³æ¹æ¡",charIndex:7905},{level:3,title:"æ¶ç",slug:"æ¶ç-5",normalizedTitle:"æ¶ç",charIndex:1119},{level:3,title:"ä½æ¶å¿½ç¥",slug:"ä½æ¶å¿½ç¥-2",normalizedTitle:"ä½æ¶å¿½ç¥",charIndex:2685},{level:3,title:"éææ¹æ³è¯´æ",slug:"éææ¹æ³è¯´æ-5",normalizedTitle:"éææ¹æ³è¯´æ",charIndex:1243},{level:4,title:"ä»¥å½æ°åä»£åæ°(Replace Parameter with Methods)",slug:"ä»¥å½æ°åä»£åæ°-replace-parameter-with-methods",normalizedTitle:"ä»¥å½æ°åä»£åæ°(replace parameter with methods)",charIndex:7948},{level:4,title:"ä¿æå¯¹è±¡å®æ´(Preserve Whole Object)",slug:"ä¿æå¯¹è±¡å®æ´-preserve-whole-object-4",normalizedTitle:"ä¿æå¯¹è±¡å®æ´(preserve whole object)",charIndex:821},{level:4,title:"å¼å¥åæ°å¯¹è±¡(Introduce Parameter Object)",slug:"å¼å¥åæ°å¯¹è±¡-introduce-parameter-object-4",normalizedTitle:"å¼å¥åæ°å¯¹è±¡(introduce parameter object)",charIndex:784},{level:2,title:"æ©å±éè¯»",slug:"æ©å±éè¯»",normalizedTitle:"æ©å±éè¯»",charIndex:9113},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:9207}],headersStr:"åºæ¬ç±»ååæ§ é®é¢åå  è§£å³æ¹æ³ æ¶ç éææ¹æ³è¯´æ ä»¥ç±»åä»£ç±»åç (Replace Type Code with Class) å¼å¥åæ°å¯¹è±¡(Introduce Parameter Object) ä¿æå¯¹è±¡å®æ´(Preserve Whole Object) ä»¥å­ç±»åä»£ç±»åç (Replace Type Code with Subclass) ä»¥ç¶æ/ç­ç¥æ¨¡å¼åä»£ç±»åç (Replace Type Code with State/Strategy) ä»¥å¯¹è±¡åä»£æ°ç»(Replace Array with Object) æ°æ®æ³¥å¢ é®é¢åå  è§£å³æ¹æ³ æ¶ç ä½æ¶å¿½ç¥ éææ¹æ³è¯´æ æç¼ç±»(Extract Class) å¼å¥åæ°å¯¹è±¡(Introduce Parameter Object) ä¿æå¯¹è±¡å®æ´(Preserve Whole Object) è¿å¤§çç±» é®é¢åå  è§£å³æ¹æ³ æ¶ç éææ¹æ³è¯´æ æç¼ç±»(Extract Class) æç¼å­ç±»(Extract Subclass) æç¼æ¥å£(Extract Interface) å¤å¶è¢«çè§æ°æ®(Duplicate Observed Data) è¿é¿å½æ° é®é¢çåå  è§£å³å½æ° æ¶ç æ§è½ éææ¹æ³è¯´æ æç¼å½æ°(Extract Method) ä»¥æ¥è¯¢åä»£ä¸´æ¶åé(Replace Temp with Query) å¼å¥åæ°å¯¹è±¡(Introduce Parameter Object) ä¿æå¯¹è±¡å®æ´(Preserve Whole Object) ä»¥å½æ°å¯¹è±¡åä»£å½æ°(Replace Method with Method Object) åè§£æ¡ä»¶è¡¨è¾¾å¼(Decompose Conditional) è¿é¿åæ°å é®é¢åå  è§£å³æ¹æ¡ æ¶ç ä½æ¶å¿½ç¥ éææ¹æ³è¯´æ ä»¥å½æ°åä»£åæ°(Replace Parameter with Methods) ä¿æå¯¹è±¡å®æ´(Preserve Whole Object) å¼å¥åæ°å¯¹è±¡(Introduce Parameter Object) æ©å±éè¯» åèèµæ",content:'> ç¿»è¯èªï¼https://sourcemaking.com/refactoring/smells/bloaters\n> \n> ä»£ç èè¿(Bloated)è¿ç»åå³éæå³çï¼ä»£ç ä¸­çç±»ãå½æ°ãå­æ®µæ²¡æç»è¿åççç»ç»ï¼åªæ¯ç®åçå ç èµ·æ¥ãè¿ä¸ç±»åçé®é¢éå¸¸å¨ä»£ç çåæå¹¶ä¸ææ¾ï¼ä½æ¯éçä»£ç è§æ¨¡çå¢é¿èéæ¸ç§¯ç´¯ï¼ç¹å«æ¯å½æ²¡æäººåªåå»æ ¹é¤å®ä»¬æ¶ï¼ã\n\n\n# åºæ¬ç±»ååæ§\n\n> åºæ¬ç±»ååæ§(Primitive Obsession)\n> \n>  * ä½¿ç¨åºæ¬ç±»åèä¸æ¯å°å¯¹è±¡æ¥å®ç°ç®åä»»å¡ï¼ä¾å¦è´§å¸ãèå´ãçµè¯å·ç å­ç¬¦ä¸²ç­ï¼ã\n>  * ä½¿ç¨å¸¸éç¼ç ä¿¡æ¯ï¼ä¾å¦ä¸ä¸ªç¨äºå¼ç¨ç®¡çåæéçå¸¸éUSER_ADMIN_ROLE = 1 ï¼ã\n>  * ä½¿ç¨å­ç¬¦ä¸²å¸¸éä½ä¸ºå­æ®µåå¨æ°ç»ä¸­ä½¿ç¨ã\n\n\n\n\n# é®é¢åå \n\nç±»ä¼¼å¶ä»å¤§é¨ååå³éï¼åºæ¬ç±»ååæ§è¯çäºç±»åå»ºçæ¶åãä¸å¼å§ï¼å¯è½åªæ¯ä¸å¤çå­æ®µï¼éçè¡¨ç¤ºçç¹æ§è¶æ¥è¶å¤ï¼åºæ¬æ°æ®ç±»åå­æ®µä¹è¶æ¥è¶å¤ã\n\nåºæ¬ç±»åå¸¸å¸¸è¢«ç¨äºè¡¨ç¤ºæ¨¡åçç±»åãä½ æä¸ç»æ°å­æå­ç¬¦ä¸²ç¨æ¥è¡¨ç¤ºæä¸ªå®ä½ã\n\nè¿æä¸ä¸ªåºæ¯ï¼å¨æ¨¡æåºæ¯ï¼å¤§éçå­ç¬¦ä¸²å¸¸éè¢«ç¨äºæ°ç»çç´¢å¼ã\n\n\n# è§£å³æ¹æ³\n\n\n\nå¤§å¤æ°ç¼ç¨è¯­è¨é½æ¯æåºæ¬æ°æ®ç±»ååç»æç±»åï¼ç±»ãç»æä½ç­ï¼ãç»æç±»ååè®¸ç¨åºåå°åºæ¬æ°æ®ç±»åç»ç»èµ·æ¥ï¼ä»¥ä»£è¡¨æä¸äºç©çæ¨¡åã\n\nåºæ¬æ°æ®ç±»åå¯ä»¥çææ¯æºæç±»åçç§¯æ¨åãå½åºæ¬æ°æ®ç±»åæ°éæè§æ¨¡åï¼å°å®ä»¬æç»ç»å°ç»åèµ·æ¥ï¼å¯ä»¥æ´æ¹ä¾¿çç®¡çè¿äºæ°æ®ã\n\n * å¦æä½ æå¤§éçåºæ¬æ°æ®ç±»åå­æ®µï¼å°±æå¯è½å°å¶ä¸­é¨åå­å¨é»è¾èç³»çå­æ®µç»ç»èµ·æ¥ï¼å½¢æä¸ä¸ªç±»ãæ´è¿ä¸æ­¥çæ¯ï¼å°ä¸è¿äºæ°æ®æå³èçæ¹æ³ä¹ä¸å¹¶ç§»å¥ç±»ä¸­ãä¸ºäºå®ç°è¿ä¸ªç®æ ï¼å¯ä»¥å°è¯ ä»¥ç±»åä»£ç±»åç (Replace Type Code with Class) ã\n * å¦æåºæ¬æ°æ®ç±»åå­æ®µçå¼æ¯ç¨äºæ¹æ³çåæ°ï¼å¯ä»¥ä½¿ç¨ å¼å¥åæ°å¯¹è±¡(Introduce Parameter Object) æ ä¿æå¯¹è±¡å®æ´(Preserve Whole Object) ã\n * å¦ææ³è¦æ¿æ¢çæ°æ®å¼æ¯ç±»åç ï¼èå®å¹¶ä¸å½±åè¡ä¸ºï¼åå¯ä»¥è¿ç¨ ä»¥ç±»åä»£ç±»åç (Replace Type Code with Class) å°å®æ¿æ¢æãå¦æä½ æä¸ç±»åç ç¸å³çæ¡ä»¶è¡¨è¾¾å¼ï¼å¯è¿ç¨ ä»¥å­ç±»åä»£ç±»åç (Replace Type Code with Subclass) æ ä»¥ç¶æ/ç­ç¥æ¨¡å¼åä»£ç±»åç (Replace Type Code with State/Strategy) å ä»¥å¤çã\n * å¦æä½ åç°èªå·±æ­£ä»æ°ç»ä¸­æéæ°æ®ï¼å¯è¿ç¨ ä»¥å¯¹è±¡åä»£æ°ç»(Replace Array with Object) ã\n\n\n# æ¶ç\n\n * å¤äºäºä½¿ç¨å¯¹è±¡æ¿ä»£åºæ¬æ°æ®ç±»åï¼ä½¿å¾ä»£ç åå¾æ´å çµæ´»ã\n * ä»£ç åå¾æ´å æè¯»åæ´å æç»ç»ãç¹æ®æ°æ®å¯ä»¥éä¸­è¿è¡æä½ï¼èä¸åä¹åé£æ ·åæ£ãä¸ç¨åçæµè¿äºéççå¸¸éçæä¹ä»¥åå®ä»¬ä¸ºä»ä¹å¨æ°ç»ä¸­ã\n * æ´å®¹æåç°éå¤ä»£ç ã\n\n\n\n\n# éææ¹æ³è¯´æ\n\n# ä»¥ç±»åä»£ç±»åç (Replace Type Code with Class)\n\né®é¢\n\nç±»ä¹ä¸­æä¸ä¸ªæ°å¼ç±»åç ï¼ä½å®å¹¶ä¸å½±åç±»çè¡ä¸ºã\n\n\n\nè§£å³\n\nä»¥ä¸ä¸ªæ°çç±»æ¿æ¢è¯¥æ°å¼ç±»åç ã\n\n\n\n# å¼å¥åæ°å¯¹è±¡(Introduce Parameter Object)\n\né®é¢\n\næäºåæ°æ»æ¯å¾èªç¶å°åæ¶åºç°ã\n\n\n\nè§£å³\n\nä»¥ä¸ä¸ªå¯¹è±¡æ¥åä»£è¿äºåæ°ã\n\n\n\n# ä¿æå¯¹è±¡å®æ´(Preserve Whole Object)\n\né®é¢\n\nä½ ä»æä¸ªå¯¹è±¡ä¸­ååºè¥å¹²å¼ï¼å°å®ä»¬ä½ä¸ºæä¸æ¬¡å½æ°è°ç¨æ¶çåæ°ã\n\nint low = daysTempRange.getLow();\nint high = daysTempRange.getHigh();\nboolean withinPlan = plan.withinRange(low, high);\n\n\nè§£å³\n\næ¹ä¸ºä¼ éæ´ä¸ªå¯¹è±¡ã\n\nboolean withinPlan = plan.withinRange(daysTempRange);\n\n\n# ä»¥å­ç±»åä»£ç±»åç (Replace Type Code with Subclass)\n\né®é¢\n\nä½ æä¸ä¸ªä¸å¯åçç±»åç ï¼å®ä¼å½±åç±»çè¡ä¸ºã\n\n\n\nè§£å³\n\nä»¥å­ç±»åä»£è¿ä¸ªç±»åç ã\n\n\n\n# ä»¥ç¶æ/ç­ç¥æ¨¡å¼åä»£ç±»åç (Replace Type Code with State/Strategy)\n\né®é¢\n\nä½ æä¸ä¸ªç±»åç ï¼å®ä¼å½±åç±»çè¡ä¸ºï¼ä½ä½ æ æ³éè¿ç»§æ¿æ¶é¤å®ã\n\n\n\nè§£å³\n\nä»¥ç¶æå¯¹è±¡åä»£ç±»åç ã\n\n\n\n# ä»¥å¯¹è±¡åä»£æ°ç»(Replace Array with Object)\n\né®é¢\n\nä½ æä¸ä¸ªæ°ç»ï¼å¶ä¸­çåç´ åèªä»£è¡¨ä¸åçä¸è¥¿ã\n\nString[] row = new String[3];\nrow[0] = "Liverpool";\nrow[1] = "15";\n\n\nè§£å³\n\nä»¥å¯¹è±¡æ¿æ¢æ°ç»ãå¯¹äºæ°ç»ä¸­çæ¯ä¸ªåç´ ï¼ä»¥ä¸ä¸ªå­æ®µæ¥è¡¨ç¤ºã\n\nPerformance row = new Performance();\nrow.setName("Liverpool");\nrow.setWins("15");\n\n\n\n# æ°æ®æ³¥å¢\n\n> æ°æ®æ³¥å¢(Data Clumps)\n> \n> ææ¶ï¼ä»£ç çä¸åé¨ååå«ç¸åçåéç»ï¼ä¾å¦ç¨äºè¿æ¥å°æ°æ®åºçåæ°ï¼ãè¿äºç»å¨ä¸èµ·åºç°çæ°æ®åºè¯¥æ¥æèªå·±çå¯¹è±¡ã\n\n\n\n\n# é®é¢åå \n\néå¸¸ï¼æ°æ®æ³¥å¢çåºç°æ¶å ä¸ºç³ç³çç¼ç¨ç»ææâå¤å¶-ç²è´´å¼ç¼ç¨âã\n\næä¸ä¸ªå¤æ­æ¯å¦æ¯æ°æ®æ³¥å¢çå¥½åæ³ï¼å æä¼å¤æ°æ®ä¸­çä¸é¡¹ãè¿ä¹åï¼å¶ä»æ°æ®ææ²¡æå èå¤±å»æä¹ï¼å¦æå®ä»¬ä¸åææä¹ï¼è¿å°±æ¯ä¸ªæç¡®çä¿¡å·ï¼ä½ åºè¯¥ä¸ºå®ä»¬äº§çä¸ä¸ªæ°çå¯¹è±¡ã\n\n\n# è§£å³æ¹æ³\n\n * é¦åæ¾åºè¿äºæ°æ®ä»¥å­æ®µå½¢å¼åºç°çå°æ¹ï¼è¿ç¨ æç¼ç±»(Extract Class) å°å®ä»¬æç¼å°ä¸ä¸ªç¬ç«å¯¹è±¡ä¸­ã\n * å¦ææ°æ®æ³¥å¢å¨å½æ°çåæ°åä¸­åºç°ï¼è¿ç¨ å¼å¥åæ°å¯¹è±¡(Introduce Parameter Object) å°å®ä»¬ç»ç»æä¸ä¸ªç±»ã\n * å¦ææ°æ®æ³¥å¢çé¨åæ°æ®åºç°å¨å¶ä»å½æ°ä¸­ï¼èèè¿ç¨ ä¿æå¯¹è±¡å®æ´(Preserve Whole Object) å°æ´ä¸ªæ°æ®å¯¹è±¡ä¼ å¥å°å½æ°ä¸­ã\n * æ£è§ä¸ä¸ä½¿ç¨è¿äºå­æ®µçä»£ç ï¼ä¹è®¸ï¼å°å®ä»¬ç§»å¥ä¸ä¸ªæ°æ®ç±»æ¯ä¸ªä¸éçä¸»æã\n\n\n# æ¶ç\n\n * æé«ä»£ç æè¯»æ§åç»ç»æ§ãå¯¹äºç¹æ®æ°æ®çæä½ï¼å¯ä»¥éä¸­è¿è¡å¤çï¼èä¸åä»¥åé£æ ·åæ£ã\n * åå°ä»£ç éã\n\n\n\n\n# ä½æ¶å¿½ç¥\n\n * ææ¶ä¸ºäºå¯¹è±¡ä¸­çé¨åæ°æ®èå°æ´ä¸ªå¯¹è±¡ä½ä¸ºåæ°ä¼ éç»å½æ°ï¼å¯è½ä¼äº§çè®©ä¸¤ä¸ªç±»ä¹é´ä¸æ¶æ¬¢è¿çä¾èµå³ç³»ï¼è¿ä¸­æåµä¸å¯ä»¥ä¸ä¼ éæ´ä¸ªå¯¹è±¡ã\n\n\n# éææ¹æ³è¯´æ\n\n# æç¼ç±»(Extract Class)\n\né®é¢\n\næä¸ªç±»åäºä¸æ­¢ä¸ä»¶äºã\n\n\n\nè§£å³\n\nå»ºç«ä¸ä¸ªæ°ç±»ï¼å°ç¸å³çå­æ®µåå½æ°ä»æ§ç±»æ¬ç§»å°æ°ç±»ã\n\n\n\n# å¼å¥åæ°å¯¹è±¡(Introduce Parameter Object)\n\né®é¢\n\næäºåæ°æ»æ¯å¾èªç¶å°åæ¶åºç°ã\n\n\n\nè§£å³\n\nä»¥ä¸ä¸ªå¯¹è±¡æ¥åä»£è¿äºåæ°ã\n\n\n\n# ä¿æå¯¹è±¡å®æ´(Preserve Whole Object)\n\né®é¢\n\nä½ ä»æä¸ªå¯¹è±¡ä¸­ååºè¥å¹²å¼ï¼å°å®ä»¬ä½ä¸ºæä¸æ¬¡å½æ°è°ç¨æ¶çåæ°ã\n\nint low = daysTempRange.getLow();\nint high = daysTempRange.getHigh();\nboolean withinPlan = plan.withinRange(low, high);\n\n\nè§£å³\n\næ¹ä¸ºä¼ éæ´ä¸ªå¯¹è±¡ã\n\nboolean withinPlan = plan.withinRange(daysTempRange);\n\n\n\n# è¿å¤§çç±»\n\n> è¿å¤§çç±»(Large Class)\n> \n> ä¸ä¸ªç±»å«æè¿å¤å­æ®µãå½æ°ãä»£ç è¡ã\n\n\n\n\n# é®é¢åå \n\nç±»éå¸¸ä¸å¼å§å¾å°ï¼ä½æ¯éçç¨åºçå¢é¿èéæ¸è¨èã\n\nç±»ä¼¼äºè¿é¿å½æ°ï¼ç¨åºåéå¸¸è§å¾å¨ä¸ä¸ªç°å­ç±»ä¸­æ·»å æ°ç¹æ§æ¯åå»ºä¸ä¸ªæ°çç±»è¦å®¹æã\n\n\n# è§£å³æ¹æ³\n\nè®¾è®¡æ¨¡å¼ä¸­æä¸æ¡éè¦ååï¼èè´£åä¸ååãä¸ä¸ªç±»åºè¯¥åªèµäºå®ä¸ä¸ªèè´£ãå¦æå®ææ¿æçèè´£å¤ªå¤ï¼å°±è¯¥èèä¸ºå®ååè´ã\n\n\n\n * å¦æè¿å¤§ç±»ä¸­çé¨åè¡ä¸ºå¯ä»¥æç¼å°ä¸ä¸ªç¬ç«çç»ä»¶ä¸­ï¼å¯ä»¥ä½¿ç¨ æç¼ç±»(Extract Class)ã\n * å¦æè¿å¤§ç±»ä¸­çé¨åè¡ä¸ºå¯ä»¥ç¨ä¸åæ¹å¼å®ç°æä½¿ç¨äºç¹æ®åºæ¯ï¼å¯ä»¥ä½¿ç¨ æç¼å­ç±»(Extract Subclass)ã\n * å¦ææå¿è¦ä¸ºå®¢æ·ç«¯æä¾ä¸ç»æä½åè¡ä¸ºï¼å¯ä»¥ä½¿ç¨ æç¼æ¥å£(Extract Interface)ã\n * å¦æä½ çè¿å¤§ç±»æ¯ä¸ª GUI ç±»ï¼å¯è½éè¦ææ°æ®åè¡ä¸ºç§»å°ä¸ä¸ªç¬ç«çé¢åå¯¹è±¡å»ãä½ å¯è½éè¦ä¸¤è¾¹åä¿çä¸äºéå¤æ°æ®ï¼å¹¶ä¿æä¸¤è¾¹åæ­¥ã å¤å¶è¢«çè§æ°æ®(Duplicate Observed Data) å¯ä»¥åè¯ä½ æä¹åã\n\n\n# æ¶ç\n\n * éæè¿å¤§çç±»å¯ä»¥ä½¿ç¨åºåä¸å¿è®°ä½ä¸ä¸ªç±»ä¸­å¤§éçå±æ§ã\n * å¨å¤§å¤æ°æåµä¸ï¼åå²è¿å¤§çç±»å¯ä»¥é¿åä»£ç ååè½çéå¤ã\n\n\n\n\n# éææ¹æ³è¯´æ\n\n# æç¼ç±»(Extract Class)\n\né®é¢\n\næä¸ªç±»åäºä¸æ­¢ä¸ä»¶äºã\n\n\n\nè§£å³\n\nå»ºç«ä¸ä¸ªæ°ç±»ï¼å°ç¸å³çå­æ®µåå½æ°ä»æ§ç±»æ¬ç§»å°æ°ç±»ã\n\n\n\n# æç¼å­ç±»(Extract Subclass)\n\né®é¢\n\nä¸ä¸ªç±»ä¸­æäºç¹æ§ä»ç¨äºç¹å®åºæ¯ã\n\n\n\nè§£å³\n\nåå»ºä¸ä¸ªå­ç±»ï¼å¹¶å°ç¨äºç¹æ®åºæ¯çç¹æ§ç½®å¥å¶ä¸­ã\n\n\n\n# æç¼æ¥å£(Extract Interface)\n\né®é¢\n\nå¤ä¸ªå®¢æ·ç«¯ä½¿ç¨ä¸ä¸ªç±»é¨åç¸åçå½æ°ãå¦ä¸ä¸ªåºæ¯æ¯ä¸¤ä¸ªç±»ä¸­çé¨åå½æ°ç¸åã\n\n\n\nè§£å³\n\nç§»å¨ç¸åçé¨åå½æ°å°æ¥å£ä¸­ã\n\n\n\n# å¤å¶è¢«çè§æ°æ®(Duplicate Observed Data)\n\né®é¢\n\nå¦æå­å¨å¨ç±»ä¸­çæ°æ®æ¯è´è´£ GUI çã\n\n\n\nè§£å³\n\nä¸ä¸ªæ¯è¾å¥½çæ¹æ³æ¯å°è´è´£ GUI çæ°æ®æ¾å¥ä¸ä¸ªç¬ç«çç±»ï¼ä»¥ç¡®ä¿ GUI æ°æ®ä¸åç±»ä¹é´çè¿æ¥ååæ­¥ã\n\n\n\n\n# è¿é¿å½æ°\n\n> è¿é¿å½æ°(Long Method)\n> \n> ä¸ä¸ªå½æ°å«æå¤ªå¤è¡ä»£ç ãä¸è¬æ¥è¯´ï¼ä»»ä½å½æ°è¶è¿ 10 è¡æ¶ï¼ä½ å°±å¯ä»¥èèæ¯ä¸æ¯è¿é¿äºã å½æ°ä¸­çä»£ç è¡æ°ååä¸ä¸è¦è¶è¿ 100 è¡ã\n\n\n\n\n# é®é¢çåå \n\néå¸¸æåµä¸ï¼åå»ºä¸ä¸ªæ°å½æ°çé¾åº¦è¦å¤§äºæ·»å åè½å°ä¸ä¸ªå·²å­å¨çå½æ°ãå¤§é¨åäººé½è§å¾ï¼âæå°±æ·»å è¿ä¹ä¸¤è¡ä»£ç ï¼ä¸ºæ­¤æ°å»ºä¸ä¸ªå½æ°å®å¨æ¯å°é¢å¤§åäºãâäºæ¯ï¼å¼ ä¸å ä¸¤è¡ï¼æåå ä¸¤è¡ï¼çäºå ä¸¤è¡ãããå½æ°æ¥çåºå¤§ï¼æç»ççåä¸éæµç³ï¼åä¹æ²¡äººè½å®å¨çæäºãäºæ¯å¤§å®¶å°±æ´ä¸æ¢è½»æå¨è¿ä¸ªå½æ°äºï¼åªè½æ¶æ§å¾ªç¯çå¾å¶ä¸­æ·»å ä»£ç ãæä»¥ï¼å¦æä½ çå°ä¸ä¸ªè¶è¿ 200 è¡çå½æ°ï¼éå¸¸é½æ¯å¤ä¸ªç¨åºåä¸æ¼è¥¿ååºæ¥çã\n\n\n# è§£å³å½æ°\n\nä¸ä¸ªå¾å¥½çæå·§æ¯ï¼å¯»æ¾æ³¨éãæ·»å æ³¨éï¼ä¸è¬æè¿ä¹å ä¸ªåå ï¼ä»£ç é»è¾è¾ä¸ºæ¦æ¶©æå¤æï¼è¿æ®µä»£ç åè½ç¸å¯¹ç¬ç«ï¼ç¹æ®å¤çã å¦æä»£ç åæ¹æä¸è¡æ³¨éï¼å°±æ¯å¨æéä½ ï¼å¯ä»¥å°è¿æ®µä»£ç æ¿æ¢æä¸ä¸ªå½æ°ï¼èä¸å¯ä»¥å¨æ³¨éçåºç¡ä¸ç»è¿ä¸ªå½æ°å½åãå¦æå½æ°æä¸ä¸ªæè¿°æ°å½çåå­ï¼å°±ä¸éè¦å»çåé¨ä»£ç ç©¶ç«æ¯å¦ä½å®ç°çãå°±ç®åªæä¸è¡ä»£ç ï¼å¦æå®éè¦ä»¥æ³¨éæ¥è¯´æï¼é£ä¹å¼å¾å°å®æç¼å°ç¬ç«å½æ°ä¸­ã\n\n\n\n * ä¸ºäºç»ä¸ä¸ªå½æ°ç¦èº«ï¼å¯ä»¥ä½¿ç¨ æç¼å½æ°(Extract Method)ã\n * å¦æå±é¨åéååæ°å¹²æ°æç¼å½æ°ï¼å¯ä»¥ä½¿ç¨ ä»¥æ¥è¯¢åä»£ä¸´æ¶åé(Replace Temp with Query)ï¼å¼å¥åæ°å¯¹è±¡(Introduce Parameter Object) æ ä¿æå¯¹è±¡å®æ´(Preserve Whole Object) ã\n * å¦æåé¢ä¸¤æ¡æ²¡æå¸®å©ï¼å¯ä»¥éè¿ ä»¥å½æ°å¯¹è±¡åä»£å½æ°(Replace Method with Method Object) å°è¯ç§»å¨æ´ä¸ªå½æ°å°ä¸ä¸ªç¬ç«çå¯¹è±¡ä¸­ã\n * æ¡ä»¶è¡¨è¾¾å¼åå¾ªç¯å¸¸å¸¸ä¹æ¯æç¼çä¿¡å·ãå¯¹äºæ¡ä»¶è¡¨è¾¾å¼ï¼å¯ä»¥ä½¿ç¨ åè§£æ¡ä»¶è¡¨è¾¾å¼(Decompose Conditional) ãè³äºå¾ªç¯ï¼åºè¯¥ä½¿ç¨ æç¼å½æ°(Extract Method) å°å¾ªç¯åå¶åçä»£ç æç¼å°ç¬ç«å½æ°ä¸­ã\n\n\n# æ¶ç\n\n * å¨ææç±»åçé¢åå¯¹è±¡ä»£ç ä¸­ï¼å½æ°æ¯è¾ç­å°ç²¾æçç±»å¾å¾çå½å¨æè¾é¿ãä¸ä¸ªå½æ°è¶é¿ï¼å°±è¶ä¸å®¹æçè§£åç»´æ¤ã\n * æ­¤å¤ï¼è¿é¿å½æ°ä¸­å¾å¾å«æé¾ä»¥åç°çéå¤ä»£ç ã\n\n\n\n\n# æ§è½\n\næ¯å¦åè®¸å¤äººè¯´çé£æ ·ï¼å¢å å½æ°çæ°éä¼å½±åæ§è½ï¼å¨å ä¹ç»å¤§å¤æ°æåµä¸ï¼è¿ç§å½±åæ¯å¯ä»¥å¿½ç¥ä¸è®¡ï¼æä»¥ä¸ç¨æå¿ã æ­¤å¤ï¼ç°å¨æäºæ¸æ°åæè¯»çä»£ç ï¼å¨éè¦çæ¶åï¼ä½ å°æ´å®¹ææ¾å°çæ­£ææçå½æ°æ¥éç»ä»£ç åæé«æ§è½ã\n\n\n# éææ¹æ³è¯´æ\n\n# æç¼å½æ°(Extract Method)\n\né®é¢\n\nä½ æä¸æ®µä»£ç å¯ä»¥ç»ç»å¨ä¸èµ·ã\n\nvoid printOwing() {\n  printBanner();\n\n  //print details\n  System.out.println("name: " + name);\n  System.out.println("amount: " + getOutstanding());\n}\n\n\nè§£å³\n\nç§»å¨è¿æ®µä»£ç å°ä¸ä¸ªæ°çå½æ°ä¸­ï¼ä½¿ç¨å½æ°çè°ç¨æ¥æ¿ä»£èä»£ç ã\n\nvoid printOwing() {\n  printBanner();\n  printDetails(getOutstanding());\n}\n\nvoid printDetails(double outstanding) {\n  System.out.println("name: " + name);\n  System.out.println("amount: " + outstanding);\n}\n\n\n# ä»¥æ¥è¯¢åä»£ä¸´æ¶åé(Replace Temp with Query)\n\né®é¢\n\nå°è¡¨è¾¾å¼çç»ææ¾å¨å±é¨åéä¸­ï¼ç¶åå¨ä»£ç ä¸­ä½¿ç¨ã\n\ndouble calculateTotal() {\n  double basePrice = quantity * itemPrice;\n  if (basePrice > 1000) {\n    return basePrice * 0.95;\n  }\n  else {\n    return basePrice * 0.98;\n  }\n}\n\n\nè§£å³\n\nå°æ´ä¸ªè¡¨è¾¾å¼ç§»å¨å°ä¸ä¸ªç¬ç«çå½æ°ä¸­å¹¶è¿åç»æãä½¿ç¨æ¥è¯¢å½æ°æ¥æ¿ä»£ä½¿ç¨åéãå¦æéè¦ï¼å¯ä»¥å¨å¶ä»å½æ°ä¸­åå¹¶æ°å½æ°ã\n\ndouble calculateTotal() {\n  if (basePrice() > 1000) {\n    return basePrice() * 0.95;\n  }\n  else {\n    return basePrice() * 0.98;\n  }\n}\ndouble basePrice() {\n  return quantity * itemPrice;\n}\n\n\n# å¼å¥åæ°å¯¹è±¡(Introduce Parameter Object)\n\né®é¢\n\næäºåæ°æ»æ¯å¾èªç¶å°åæ¶åºç°ã\n\n\n\nè§£å³\n\nä»¥ä¸ä¸ªå¯¹è±¡æ¥åä»£è¿äºåæ°ã\n\n\n\n# ä¿æå¯¹è±¡å®æ´(Preserve Whole Object)\n\né®é¢\n\nä½ ä»æä¸ªå¯¹è±¡ä¸­ååºè¥å¹²å¼ï¼å°å®ä»¬ä½ä¸ºæä¸æ¬¡å½æ°è°ç¨æ¶çåæ°ã\n\nint low = daysTempRange.getLow();\nint high = daysTempRange.getHigh();\nboolean withinPlan = plan.withinRange(low, high);\n\n\nè§£å³\n\næ¹ä¸ºä¼ éæ´ä¸ªå¯¹è±¡ã\n\nboolean withinPlan = plan.withinRange(daysTempRange);\n\n\n# ä»¥å½æ°å¯¹è±¡åä»£å½æ°(Replace Method with Method Object)\n\né®é¢\n\nä½ æä¸ä¸ªè¿é¿å½æ°ï¼å®çå±é¨åéäº¤ç»å¨ä¸èµ·ï¼ä»¥è´äºä½ æ æ³åºç¨æç¼å½æ°(Extract Method) ã\n\nclass Order {\n  //...\n  public double price() {\n    double primaryBasePrice;\n    double secondaryBasePrice;\n    double tertiaryBasePrice;\n    // long computation.\n    //...\n  }\n}\n\n\nè§£å³\n\nå°å½æ°ç§»å°ä¸ä¸ªç¬ç«çç±»ä¸­ï¼ä½¿å¾å±é¨åéæäºè¿ä¸ªç±»çå­æ®µãç¶åï¼ä½ å¯ä»¥å°å½æ°åå²æè¿ä¸ªç±»ä¸­çå¤ä¸ªå½æ°ã\n\nclass Order {\n  //...\n  public double price() {\n    return new PriceCalculator(this).compute();\n  }\n}\n\nclass PriceCalculator {\n  private double primaryBasePrice;\n  private double secondaryBasePrice;\n  private double tertiaryBasePrice;\n\n  public PriceCalculator(Order order) {\n    // copy relevant information from order object.\n    //...\n  }\n\n  public double compute() {\n    // long computation.\n    //...\n  }\n}\n\n\n# åè§£æ¡ä»¶è¡¨è¾¾å¼(Decompose Conditional)\n\né®é¢\n\nä½ æå¤æçæ¡ä»¶è¡¨è¾¾å¼ã\n\nif (date.before(SUMMER_START) || date.after(SUMMER_END)) {\n  charge = quantity * winterRate + winterServiceCharge;\n}\nelse {\n  charge = quantity * summerRate;\n}\n\n\nè§£å³\n\næ ¹æ®æ¡ä»¶åæ¯å°æ´ä¸ªæ¡ä»¶è¡¨è¾¾å¼åè§£æå ä¸ªå½æ°ã\n\nif (notSummer(date)) {\n  charge = winterCharge(quantity);\n}\nelse {\n  charge = summerCharge(quantity);\n}\n\n\n\n# è¿é¿åæ°å\n\n> è¿é¿åæ°å(Long Parameter List)\n> \n> ä¸ä¸ªå½æ°æè¶è¿ 3ã4 ä¸ªå¥åã\n\n\n\n\n# é®é¢åå \n\nè¿é¿åæ°åå¯è½æ¯å°å¤ä¸ªç®æ³å¹¶å°ä¸ä¸ªå½æ°ä¸­æ¶åççãå½æ°ä¸­çå¥åå¯ä»¥ç¨æ¥æ§å¶æç»éç¨åªä¸ªç®æ³å»æ§è¡ã\n\nè¿é¿åæ°åä¹å¯è½æ¯è§£è¦ç±»ä¹é´ä¾èµå³ç³»æ¶çå¯äº§åãä¾å¦ï¼ç¨äºåå»ºå½æ°ä¸­æéçç¹å®å¯¹è±¡çä»£ç å·²ä»å½æ°ç§»å¨å°è°ç¨å½æ°çä»£ç å¤ï¼ä½åå»ºçå¯¹è±¡æ¯ä½ä¸ºåæ°ä¼ éå°å½æ°ä¸­ãå æ­¤ï¼åå§ç±»ä¸åç¥éå¯¹è±¡ä¹é´çå³ç³»ï¼å¹¶ä¸ä¾èµæ§ä¹å·²ç»åå°ãä½æ¯å¦æåå»ºçè¿äºå¯¹è±¡ï¼æ¯ä¸ä¸ªé½å°éè¦å®èªå·±çåæ°ï¼è¿æå³çè¿é¿åæ°åã\n\nå¤ªé¿çåæ°åé¾ä»¥çè§£ï¼å¤ªå¤åæ°ä¼é æååä¸ä¸è´ãä¸æä½¿ç¨ï¼èä¸ä¸æ¦éè¦æ´å¤æ°æ®ï¼å°±ä¸å¾ä¸ä¿®æ¹å®ã\n\n\n# è§£å³æ¹æ¡\n\n\n\n * å¦æåå·²æçå¯¹è±¡ååºä¸æ¡è¯·æ±å°±å¯ä»¥åä»£ä¸ä¸ªåæ°ï¼é£ä¹ä½ åºè¯¥ä½¿ç¨ ä»¥å½æ°åä»£åæ°(Replace Parameter with Methods) ãå¨è¿éï¼ï¼âå·²æçå¯¹è±¡âå¯è½æ¯å½æ°æå±ç±»éçä¸ä¸ªå­æ®µï¼ä¹å¯è½æ¯å¦ä¸ä¸ªåæ°ã\n * ä½ è¿å¯ä»¥è¿ç¨ ä¿æå¯¹è±¡å®æ´(Preserve Whole Object) å°æ¥èªåä¸å¯¹è±¡çä¸å æ°æ®æ¶éèµ·æ¥ï¼å¹¶ä»¥è¯¥å¯¹è±¡æ¿æ¢å®ä»¬ã\n * å¦ææäºæ°æ®ç¼ºä¹åççå¯¹è±¡å½å±ï¼å¯ä½¿ç¨ å¼å¥åæ°å¯¹è±¡(Introduce Parameter Object) ä¸ºå®ä»¬å¶é åºä¸ä¸ªâåæ°å¯¹è±¡âã\n\n\n# æ¶ç\n\n * æ´æè¯»ï¼æ´ç®ç­çä»£ç ã\n * éæå¯è½ä¼æ´é²åºä¹åæªæ³¨æå°çéå¤ä»£ç ã\n\n\n# ä½æ¶å¿½ç¥\n\n * è¿éæä¸ä¸ªéè¦çä¾å¤ï¼ææ¶åä½ ææ¾ä¸æ³é æ"è¢«è°ç¨å¯¹è±¡"ä¸"è¾å¤§å¯¹è±¡"é´çæç§ä¾èµå³ç³»ãè¿æ¶åå°æ°æ®ä»å¯¹è±¡ä¸­æè§£åºæ¥åç¬ä½ä¸ºåæ°ï¼ä¹å¾åæçãä½æ¯è¯·æ³¨æå¶æå¼åçä»£ä»·ãå¦æåæ°åå¤ªé¿æååå¤ªé¢ç¹ï¼å°±éè¦éæ°èèèªå·±çä¾èµç»æäºã\n\n\n# éææ¹æ³è¯´æ\n\n# ä»¥å½æ°åä»£åæ°(Replace Parameter with Methods)\n\né®é¢\n\nå¯¹è±¡è°ç¨æä¸ªå½æ°ï¼å¹¶å°æå¾ç»æä½ä¸ºåæ°ï¼ä¼ éç»å¦ä¸ä¸ªå½æ°ãèæ¥åè¯¥åæ°çå½æ°æ¬èº«ä¹è½å¤è°ç¨åä¸ä¸ªå½æ°ã\n\nint basePrice = quantity * itemPrice;\ndouble seasonDiscount = this.getSeasonalDiscount();\ndouble fees = this.getFees();\ndouble finalPrice = discountedPrice(basePrice, seasonDiscount, fees);\n\n\nè§£å³\n\nè®©åæ°æ¥åèå»é¤è¯¥é¡¹åæ°ï¼å¹¶ç´æ¥è°ç¨åä¸ä¸ªå½æ°ã\n\nint basePrice = quantity * itemPrice;\ndouble finalPrice = discountedPrice(basePrice);\n\n\n# ä¿æå¯¹è±¡å®æ´(Preserve Whole Object)\n\né®é¢\n\nä½ ä»æä¸ªå¯¹è±¡ä¸­ååºè¥å¹²å¼ï¼å°å®ä»¬ä½ä¸ºæä¸æ¬¡å½æ°è°ç¨æ¶çåæ°ã\n\nint low = daysTempRange.getLow();\nint high = daysTempRange.getHigh();\nboolean withinPlan = plan.withinRange(low, high);\n\n\nè§£å³\n\næ¹ä¸ºä¼ éæ´ä¸ªå¯¹è±¡ã\n\nboolean withinPlan = plan.withinRange(daysTempRange);\n\n\n# å¼å¥åæ°å¯¹è±¡(Introduce Parameter Object)\n\né®é¢\n\næäºåæ°æ»æ¯å¾èªç¶å°åæ¶åºç°ã\n\n\n\nè§£å³\n\nä»¥ä¸ä¸ªå¯¹è±¡æ¥åä»£è¿äºåæ°ã\n\n\n\n\n# æ©å±éè¯»\n\n * ä»£ç çåå³éåéæ\n * ä»£ç åå³éä¹ä»£ç èè¿\n * ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡\n * ä»£ç åå³éä¹åé©çéç¢\n * ä»£ç åå³éä¹éå¿è¦ç\n * ä»£ç åå³éä¹è¦å\n\n\n# åèèµæ\n\n * ãä»£ç æ´æ´ä¹éã\n * ãéæ - æ¹åæ¢æä»£ç çè®¾è®¡ã\n * ãä»£ç å¤§å¨ã\n * https://sourcemaking.com/refactoring',normalizedContent:'> ç¿»è¯èªï¼https://sourcemaking.com/refactoring/smells/bloaters\n> \n> ä»£ç èè¿(bloated)è¿ç»åå³éæå³çï¼ä»£ç ä¸­çç±»ãå½æ°ãå­æ®µæ²¡æç»è¿åççç»ç»ï¼åªæ¯ç®åçå ç èµ·æ¥ãè¿ä¸ç±»åçé®é¢éå¸¸å¨ä»£ç çåæå¹¶ä¸ææ¾ï¼ä½æ¯éçä»£ç è§æ¨¡çå¢é¿èéæ¸ç§¯ç´¯ï¼ç¹å«æ¯å½æ²¡æäººåªåå»æ ¹é¤å®ä»¬æ¶ï¼ã\n\n\n# åºæ¬ç±»ååæ§\n\n> åºæ¬ç±»ååæ§(primitive obsession)\n> \n>  * ä½¿ç¨åºæ¬ç±»åèä¸æ¯å°å¯¹è±¡æ¥å®ç°ç®åä»»å¡ï¼ä¾å¦è´§å¸ãèå´ãçµè¯å·ç å­ç¬¦ä¸²ç­ï¼ã\n>  * ä½¿ç¨å¸¸éç¼ç ä¿¡æ¯ï¼ä¾å¦ä¸ä¸ªç¨äºå¼ç¨ç®¡çåæéçå¸¸éuser_admin_role = 1 ï¼ã\n>  * ä½¿ç¨å­ç¬¦ä¸²å¸¸éä½ä¸ºå­æ®µåå¨æ°ç»ä¸­ä½¿ç¨ã\n\n\n\n\n# é®é¢åå \n\nç±»ä¼¼å¶ä»å¤§é¨ååå³éï¼åºæ¬ç±»ååæ§è¯çäºç±»åå»ºçæ¶åãä¸å¼å§ï¼å¯è½åªæ¯ä¸å¤çå­æ®µï¼éçè¡¨ç¤ºçç¹æ§è¶æ¥è¶å¤ï¼åºæ¬æ°æ®ç±»åå­æ®µä¹è¶æ¥è¶å¤ã\n\nåºæ¬ç±»åå¸¸å¸¸è¢«ç¨äºè¡¨ç¤ºæ¨¡åçç±»åãä½ æä¸ç»æ°å­æå­ç¬¦ä¸²ç¨æ¥è¡¨ç¤ºæä¸ªå®ä½ã\n\nè¿æä¸ä¸ªåºæ¯ï¼å¨æ¨¡æåºæ¯ï¼å¤§éçå­ç¬¦ä¸²å¸¸éè¢«ç¨äºæ°ç»çç´¢å¼ã\n\n\n# è§£å³æ¹æ³\n\n\n\nå¤§å¤æ°ç¼ç¨è¯­è¨é½æ¯æåºæ¬æ°æ®ç±»ååç»æç±»åï¼ç±»ãç»æä½ç­ï¼ãç»æç±»ååè®¸ç¨åºåå°åºæ¬æ°æ®ç±»åç»ç»èµ·æ¥ï¼ä»¥ä»£è¡¨æä¸äºç©çæ¨¡åã\n\nåºæ¬æ°æ®ç±»åå¯ä»¥çææ¯æºæç±»åçç§¯æ¨åãå½åºæ¬æ°æ®ç±»åæ°éæè§æ¨¡åï¼å°å®ä»¬æç»ç»å°ç»åèµ·æ¥ï¼å¯ä»¥æ´æ¹ä¾¿çç®¡çè¿äºæ°æ®ã\n\n * å¦æä½ æå¤§éçåºæ¬æ°æ®ç±»åå­æ®µï¼å°±æå¯è½å°å¶ä¸­é¨åå­å¨é»è¾èç³»çå­æ®µç»ç»èµ·æ¥ï¼å½¢æä¸ä¸ªç±»ãæ´è¿ä¸æ­¥çæ¯ï¼å°ä¸è¿äºæ°æ®æå³èçæ¹æ³ä¹ä¸å¹¶ç§»å¥ç±»ä¸­ãä¸ºäºå®ç°è¿ä¸ªç®æ ï¼å¯ä»¥å°è¯ ä»¥ç±»åä»£ç±»åç (replace type code with class) ã\n * å¦æåºæ¬æ°æ®ç±»åå­æ®µçå¼æ¯ç¨äºæ¹æ³çåæ°ï¼å¯ä»¥ä½¿ç¨ å¼å¥åæ°å¯¹è±¡(introduce parameter object) æ ä¿æå¯¹è±¡å®æ´(preserve whole object) ã\n * å¦ææ³è¦æ¿æ¢çæ°æ®å¼æ¯ç±»åç ï¼èå®å¹¶ä¸å½±åè¡ä¸ºï¼åå¯ä»¥è¿ç¨ ä»¥ç±»åä»£ç±»åç (replace type code with class) å°å®æ¿æ¢æãå¦æä½ æä¸ç±»åç ç¸å³çæ¡ä»¶è¡¨è¾¾å¼ï¼å¯è¿ç¨ ä»¥å­ç±»åä»£ç±»åç (replace type code with subclass) æ ä»¥ç¶æ/ç­ç¥æ¨¡å¼åä»£ç±»åç (replace type code with state/strategy) å ä»¥å¤çã\n * å¦æä½ åç°èªå·±æ­£ä»æ°ç»ä¸­æéæ°æ®ï¼å¯è¿ç¨ ä»¥å¯¹è±¡åä»£æ°ç»(replace array with object) ã\n\n\n# æ¶ç\n\n * å¤äºäºä½¿ç¨å¯¹è±¡æ¿ä»£åºæ¬æ°æ®ç±»åï¼ä½¿å¾ä»£ç åå¾æ´å çµæ´»ã\n * ä»£ç åå¾æ´å æè¯»åæ´å æç»ç»ãç¹æ®æ°æ®å¯ä»¥éä¸­è¿è¡æä½ï¼èä¸åä¹åé£æ ·åæ£ãä¸ç¨åçæµè¿äºéççå¸¸éçæä¹ä»¥åå®ä»¬ä¸ºä»ä¹å¨æ°ç»ä¸­ã\n * æ´å®¹æåç°éå¤ä»£ç ã\n\n\n\n\n# éææ¹æ³è¯´æ\n\n# ä»¥ç±»åä»£ç±»åç (replace type code with class)\n\né®é¢\n\nç±»ä¹ä¸­æä¸ä¸ªæ°å¼ç±»åç ï¼ä½å®å¹¶ä¸å½±åç±»çè¡ä¸ºã\n\n\n\nè§£å³\n\nä»¥ä¸ä¸ªæ°çç±»æ¿æ¢è¯¥æ°å¼ç±»åç ã\n\n\n\n# å¼å¥åæ°å¯¹è±¡(introduce parameter object)\n\né®é¢\n\næäºåæ°æ»æ¯å¾èªç¶å°åæ¶åºç°ã\n\n\n\nè§£å³\n\nä»¥ä¸ä¸ªå¯¹è±¡æ¥åä»£è¿äºåæ°ã\n\n\n\n# ä¿æå¯¹è±¡å®æ´(preserve whole object)\n\né®é¢\n\nä½ ä»æä¸ªå¯¹è±¡ä¸­ååºè¥å¹²å¼ï¼å°å®ä»¬ä½ä¸ºæä¸æ¬¡å½æ°è°ç¨æ¶çåæ°ã\n\nint low = daystemprange.getlow();\nint high = daystemprange.gethigh();\nboolean withinplan = plan.withinrange(low, high);\n\n\nè§£å³\n\næ¹ä¸ºä¼ éæ´ä¸ªå¯¹è±¡ã\n\nboolean withinplan = plan.withinrange(daystemprange);\n\n\n# ä»¥å­ç±»åä»£ç±»åç (replace type code with subclass)\n\né®é¢\n\nä½ æä¸ä¸ªä¸å¯åçç±»åç ï¼å®ä¼å½±åç±»çè¡ä¸ºã\n\n\n\nè§£å³\n\nä»¥å­ç±»åä»£è¿ä¸ªç±»åç ã\n\n\n\n# ä»¥ç¶æ/ç­ç¥æ¨¡å¼åä»£ç±»åç (replace type code with state/strategy)\n\né®é¢\n\nä½ æä¸ä¸ªç±»åç ï¼å®ä¼å½±åç±»çè¡ä¸ºï¼ä½ä½ æ æ³éè¿ç»§æ¿æ¶é¤å®ã\n\n\n\nè§£å³\n\nä»¥ç¶æå¯¹è±¡åä»£ç±»åç ã\n\n\n\n# ä»¥å¯¹è±¡åä»£æ°ç»(replace array with object)\n\né®é¢\n\nä½ æä¸ä¸ªæ°ç»ï¼å¶ä¸­çåç´ åèªä»£è¡¨ä¸åçä¸è¥¿ã\n\nstring[] row = new string[3];\nrow[0] = "liverpool";\nrow[1] = "15";\n\n\nè§£å³\n\nä»¥å¯¹è±¡æ¿æ¢æ°ç»ãå¯¹äºæ°ç»ä¸­çæ¯ä¸ªåç´ ï¼ä»¥ä¸ä¸ªå­æ®µæ¥è¡¨ç¤ºã\n\nperformance row = new performance();\nrow.setname("liverpool");\nrow.setwins("15");\n\n\n\n# æ°æ®æ³¥å¢\n\n> æ°æ®æ³¥å¢(data clumps)\n> \n> ææ¶ï¼ä»£ç çä¸åé¨ååå«ç¸åçåéç»ï¼ä¾å¦ç¨äºè¿æ¥å°æ°æ®åºçåæ°ï¼ãè¿äºç»å¨ä¸èµ·åºç°çæ°æ®åºè¯¥æ¥æèªå·±çå¯¹è±¡ã\n\n\n\n\n# é®é¢åå \n\néå¸¸ï¼æ°æ®æ³¥å¢çåºç°æ¶å ä¸ºç³ç³çç¼ç¨ç»ææâå¤å¶-ç²è´´å¼ç¼ç¨âã\n\næä¸ä¸ªå¤æ­æ¯å¦æ¯æ°æ®æ³¥å¢çå¥½åæ³ï¼å æä¼å¤æ°æ®ä¸­çä¸é¡¹ãè¿ä¹åï¼å¶ä»æ°æ®ææ²¡æå èå¤±å»æä¹ï¼å¦æå®ä»¬ä¸åææä¹ï¼è¿å°±æ¯ä¸ªæç¡®çä¿¡å·ï¼ä½ åºè¯¥ä¸ºå®ä»¬äº§çä¸ä¸ªæ°çå¯¹è±¡ã\n\n\n# è§£å³æ¹æ³\n\n * é¦åæ¾åºè¿äºæ°æ®ä»¥å­æ®µå½¢å¼åºç°çå°æ¹ï¼è¿ç¨ æç¼ç±»(extract class) å°å®ä»¬æç¼å°ä¸ä¸ªç¬ç«å¯¹è±¡ä¸­ã\n * å¦ææ°æ®æ³¥å¢å¨å½æ°çåæ°åä¸­åºç°ï¼è¿ç¨ å¼å¥åæ°å¯¹è±¡(introduce parameter object) å°å®ä»¬ç»ç»æä¸ä¸ªç±»ã\n * å¦ææ°æ®æ³¥å¢çé¨åæ°æ®åºç°å¨å¶ä»å½æ°ä¸­ï¼èèè¿ç¨ ä¿æå¯¹è±¡å®æ´(preserve whole object) å°æ´ä¸ªæ°æ®å¯¹è±¡ä¼ å¥å°å½æ°ä¸­ã\n * æ£è§ä¸ä¸ä½¿ç¨è¿äºå­æ®µçä»£ç ï¼ä¹è®¸ï¼å°å®ä»¬ç§»å¥ä¸ä¸ªæ°æ®ç±»æ¯ä¸ªä¸éçä¸»æã\n\n\n# æ¶ç\n\n * æé«ä»£ç æè¯»æ§åç»ç»æ§ãå¯¹äºç¹æ®æ°æ®çæä½ï¼å¯ä»¥éä¸­è¿è¡å¤çï¼èä¸åä»¥åé£æ ·åæ£ã\n * åå°ä»£ç éã\n\n\n\n\n# ä½æ¶å¿½ç¥\n\n * ææ¶ä¸ºäºå¯¹è±¡ä¸­çé¨åæ°æ®èå°æ´ä¸ªå¯¹è±¡ä½ä¸ºåæ°ä¼ éç»å½æ°ï¼å¯è½ä¼äº§çè®©ä¸¤ä¸ªç±»ä¹é´ä¸æ¶æ¬¢è¿çä¾èµå³ç³»ï¼è¿ä¸­æåµä¸å¯ä»¥ä¸ä¼ éæ´ä¸ªå¯¹è±¡ã\n\n\n# éææ¹æ³è¯´æ\n\n# æç¼ç±»(extract class)\n\né®é¢\n\næä¸ªç±»åäºä¸æ­¢ä¸ä»¶äºã\n\n\n\nè§£å³\n\nå»ºç«ä¸ä¸ªæ°ç±»ï¼å°ç¸å³çå­æ®µåå½æ°ä»æ§ç±»æ¬ç§»å°æ°ç±»ã\n\n\n\n# å¼å¥åæ°å¯¹è±¡(introduce parameter object)\n\né®é¢\n\næäºåæ°æ»æ¯å¾èªç¶å°åæ¶åºç°ã\n\n\n\nè§£å³\n\nä»¥ä¸ä¸ªå¯¹è±¡æ¥åä»£è¿äºåæ°ã\n\n\n\n# ä¿æå¯¹è±¡å®æ´(preserve whole object)\n\né®é¢\n\nä½ ä»æä¸ªå¯¹è±¡ä¸­ååºè¥å¹²å¼ï¼å°å®ä»¬ä½ä¸ºæä¸æ¬¡å½æ°è°ç¨æ¶çåæ°ã\n\nint low = daystemprange.getlow();\nint high = daystemprange.gethigh();\nboolean withinplan = plan.withinrange(low, high);\n\n\nè§£å³\n\næ¹ä¸ºä¼ éæ´ä¸ªå¯¹è±¡ã\n\nboolean withinplan = plan.withinrange(daystemprange);\n\n\n\n# è¿å¤§çç±»\n\n> è¿å¤§çç±»(large class)\n> \n> ä¸ä¸ªç±»å«æè¿å¤å­æ®µãå½æ°ãä»£ç è¡ã\n\n\n\n\n# é®é¢åå \n\nç±»éå¸¸ä¸å¼å§å¾å°ï¼ä½æ¯éçç¨åºçå¢é¿èéæ¸è¨èã\n\nç±»ä¼¼äºè¿é¿å½æ°ï¼ç¨åºåéå¸¸è§å¾å¨ä¸ä¸ªç°å­ç±»ä¸­æ·»å æ°ç¹æ§æ¯åå»ºä¸ä¸ªæ°çç±»è¦å®¹æã\n\n\n# è§£å³æ¹æ³\n\nè®¾è®¡æ¨¡å¼ä¸­æä¸æ¡éè¦ååï¼èè´£åä¸ååãä¸ä¸ªç±»åºè¯¥åªèµäºå®ä¸ä¸ªèè´£ãå¦æå®ææ¿æçèè´£å¤ªå¤ï¼å°±è¯¥èèä¸ºå®ååè´ã\n\n\n\n * å¦æè¿å¤§ç±»ä¸­çé¨åè¡ä¸ºå¯ä»¥æç¼å°ä¸ä¸ªç¬ç«çç»ä»¶ä¸­ï¼å¯ä»¥ä½¿ç¨ æç¼ç±»(extract class)ã\n * å¦æè¿å¤§ç±»ä¸­çé¨åè¡ä¸ºå¯ä»¥ç¨ä¸åæ¹å¼å®ç°æä½¿ç¨äºç¹æ®åºæ¯ï¼å¯ä»¥ä½¿ç¨ æç¼å­ç±»(extract subclass)ã\n * å¦ææå¿è¦ä¸ºå®¢æ·ç«¯æä¾ä¸ç»æä½åè¡ä¸ºï¼å¯ä»¥ä½¿ç¨ æç¼æ¥å£(extract interface)ã\n * å¦æä½ çè¿å¤§ç±»æ¯ä¸ª gui ç±»ï¼å¯è½éè¦ææ°æ®åè¡ä¸ºç§»å°ä¸ä¸ªç¬ç«çé¢åå¯¹è±¡å»ãä½ å¯è½éè¦ä¸¤è¾¹åä¿çä¸äºéå¤æ°æ®ï¼å¹¶ä¿æä¸¤è¾¹åæ­¥ã å¤å¶è¢«çè§æ°æ®(duplicate observed data) å¯ä»¥åè¯ä½ æä¹åã\n\n\n# æ¶ç\n\n * éæè¿å¤§çç±»å¯ä»¥ä½¿ç¨åºåä¸å¿è®°ä½ä¸ä¸ªç±»ä¸­å¤§éçå±æ§ã\n * å¨å¤§å¤æ°æåµä¸ï¼åå²è¿å¤§çç±»å¯ä»¥é¿åä»£ç ååè½çéå¤ã\n\n\n\n\n# éææ¹æ³è¯´æ\n\n# æç¼ç±»(extract class)\n\né®é¢\n\næä¸ªç±»åäºä¸æ­¢ä¸ä»¶äºã\n\n\n\nè§£å³\n\nå»ºç«ä¸ä¸ªæ°ç±»ï¼å°ç¸å³çå­æ®µåå½æ°ä»æ§ç±»æ¬ç§»å°æ°ç±»ã\n\n\n\n# æç¼å­ç±»(extract subclass)\n\né®é¢\n\nä¸ä¸ªç±»ä¸­æäºç¹æ§ä»ç¨äºç¹å®åºæ¯ã\n\n\n\nè§£å³\n\nåå»ºä¸ä¸ªå­ç±»ï¼å¹¶å°ç¨äºç¹æ®åºæ¯çç¹æ§ç½®å¥å¶ä¸­ã\n\n\n\n# æç¼æ¥å£(extract interface)\n\né®é¢\n\nå¤ä¸ªå®¢æ·ç«¯ä½¿ç¨ä¸ä¸ªç±»é¨åç¸åçå½æ°ãå¦ä¸ä¸ªåºæ¯æ¯ä¸¤ä¸ªç±»ä¸­çé¨åå½æ°ç¸åã\n\n\n\nè§£å³\n\nç§»å¨ç¸åçé¨åå½æ°å°æ¥å£ä¸­ã\n\n\n\n# å¤å¶è¢«çè§æ°æ®(duplicate observed data)\n\né®é¢\n\nå¦æå­å¨å¨ç±»ä¸­çæ°æ®æ¯è´è´£ gui çã\n\n\n\nè§£å³\n\nä¸ä¸ªæ¯è¾å¥½çæ¹æ³æ¯å°è´è´£ gui çæ°æ®æ¾å¥ä¸ä¸ªç¬ç«çç±»ï¼ä»¥ç¡®ä¿ gui æ°æ®ä¸åç±»ä¹é´çè¿æ¥ååæ­¥ã\n\n\n\n\n# è¿é¿å½æ°\n\n> è¿é¿å½æ°(long method)\n> \n> ä¸ä¸ªå½æ°å«æå¤ªå¤è¡ä»£ç ãä¸è¬æ¥è¯´ï¼ä»»ä½å½æ°è¶è¿ 10 è¡æ¶ï¼ä½ å°±å¯ä»¥èèæ¯ä¸æ¯è¿é¿äºã å½æ°ä¸­çä»£ç è¡æ°ååä¸ä¸è¦è¶è¿ 100 è¡ã\n\n\n\n\n# é®é¢çåå \n\néå¸¸æåµä¸ï¼åå»ºä¸ä¸ªæ°å½æ°çé¾åº¦è¦å¤§äºæ·»å åè½å°ä¸ä¸ªå·²å­å¨çå½æ°ãå¤§é¨åäººé½è§å¾ï¼âæå°±æ·»å è¿ä¹ä¸¤è¡ä»£ç ï¼ä¸ºæ­¤æ°å»ºä¸ä¸ªå½æ°å®å¨æ¯å°é¢å¤§åäºãâäºæ¯ï¼å¼ ä¸å ä¸¤è¡ï¼æåå ä¸¤è¡ï¼çäºå ä¸¤è¡ãããå½æ°æ¥çåºå¤§ï¼æç»ççåä¸éæµç³ï¼åä¹æ²¡äººè½å®å¨çæäºãäºæ¯å¤§å®¶å°±æ´ä¸æ¢è½»æå¨è¿ä¸ªå½æ°äºï¼åªè½æ¶æ§å¾ªç¯çå¾å¶ä¸­æ·»å ä»£ç ãæä»¥ï¼å¦æä½ çå°ä¸ä¸ªè¶è¿ 200 è¡çå½æ°ï¼éå¸¸é½æ¯å¤ä¸ªç¨åºåä¸æ¼è¥¿ååºæ¥çã\n\n\n# è§£å³å½æ°\n\nä¸ä¸ªå¾å¥½çæå·§æ¯ï¼å¯»æ¾æ³¨éãæ·»å æ³¨éï¼ä¸è¬æè¿ä¹å ä¸ªåå ï¼ä»£ç é»è¾è¾ä¸ºæ¦æ¶©æå¤æï¼è¿æ®µä»£ç åè½ç¸å¯¹ç¬ç«ï¼ç¹æ®å¤çã å¦æä»£ç åæ¹æä¸è¡æ³¨éï¼å°±æ¯å¨æéä½ ï¼å¯ä»¥å°è¿æ®µä»£ç æ¿æ¢æä¸ä¸ªå½æ°ï¼èä¸å¯ä»¥å¨æ³¨éçåºç¡ä¸ç»è¿ä¸ªå½æ°å½åãå¦æå½æ°æä¸ä¸ªæè¿°æ°å½çåå­ï¼å°±ä¸éè¦å»çåé¨ä»£ç ç©¶ç«æ¯å¦ä½å®ç°çãå°±ç®åªæä¸è¡ä»£ç ï¼å¦æå®éè¦ä»¥æ³¨éæ¥è¯´æï¼é£ä¹å¼å¾å°å®æç¼å°ç¬ç«å½æ°ä¸­ã\n\n\n\n * ä¸ºäºç»ä¸ä¸ªå½æ°ç¦èº«ï¼å¯ä»¥ä½¿ç¨ æç¼å½æ°(extract method)ã\n * å¦æå±é¨åéååæ°å¹²æ°æç¼å½æ°ï¼å¯ä»¥ä½¿ç¨ ä»¥æ¥è¯¢åä»£ä¸´æ¶åé(replace temp with query)ï¼å¼å¥åæ°å¯¹è±¡(introduce parameter object) æ ä¿æå¯¹è±¡å®æ´(preserve whole object) ã\n * å¦æåé¢ä¸¤æ¡æ²¡æå¸®å©ï¼å¯ä»¥éè¿ ä»¥å½æ°å¯¹è±¡åä»£å½æ°(replace method with method object) å°è¯ç§»å¨æ´ä¸ªå½æ°å°ä¸ä¸ªç¬ç«çå¯¹è±¡ä¸­ã\n * æ¡ä»¶è¡¨è¾¾å¼åå¾ªç¯å¸¸å¸¸ä¹æ¯æç¼çä¿¡å·ãå¯¹äºæ¡ä»¶è¡¨è¾¾å¼ï¼å¯ä»¥ä½¿ç¨ åè§£æ¡ä»¶è¡¨è¾¾å¼(decompose conditional) ãè³äºå¾ªç¯ï¼åºè¯¥ä½¿ç¨ æç¼å½æ°(extract method) å°å¾ªç¯åå¶åçä»£ç æç¼å°ç¬ç«å½æ°ä¸­ã\n\n\n# æ¶ç\n\n * å¨ææç±»åçé¢åå¯¹è±¡ä»£ç ä¸­ï¼å½æ°æ¯è¾ç­å°ç²¾æçç±»å¾å¾çå½å¨æè¾é¿ãä¸ä¸ªå½æ°è¶é¿ï¼å°±è¶ä¸å®¹æçè§£åç»´æ¤ã\n * æ­¤å¤ï¼è¿é¿å½æ°ä¸­å¾å¾å«æé¾ä»¥åç°çéå¤ä»£ç ã\n\n\n\n\n# æ§è½\n\næ¯å¦åè®¸å¤äººè¯´çé£æ ·ï¼å¢å å½æ°çæ°éä¼å½±åæ§è½ï¼å¨å ä¹ç»å¤§å¤æ°æåµä¸ï¼è¿ç§å½±åæ¯å¯ä»¥å¿½ç¥ä¸è®¡ï¼æä»¥ä¸ç¨æå¿ã æ­¤å¤ï¼ç°å¨æäºæ¸æ°åæè¯»çä»£ç ï¼å¨éè¦çæ¶åï¼ä½ å°æ´å®¹ææ¾å°çæ­£ææçå½æ°æ¥éç»ä»£ç åæé«æ§è½ã\n\n\n# éææ¹æ³è¯´æ\n\n# æç¼å½æ°(extract method)\n\né®é¢\n\nä½ æä¸æ®µä»£ç å¯ä»¥ç»ç»å¨ä¸èµ·ã\n\nvoid printowing() {\n  printbanner();\n\n  //print details\n  system.out.println("name: " + name);\n  system.out.println("amount: " + getoutstanding());\n}\n\n\nè§£å³\n\nç§»å¨è¿æ®µä»£ç å°ä¸ä¸ªæ°çå½æ°ä¸­ï¼ä½¿ç¨å½æ°çè°ç¨æ¥æ¿ä»£èä»£ç ã\n\nvoid printowing() {\n  printbanner();\n  printdetails(getoutstanding());\n}\n\nvoid printdetails(double outstanding) {\n  system.out.println("name: " + name);\n  system.out.println("amount: " + outstanding);\n}\n\n\n# ä»¥æ¥è¯¢åä»£ä¸´æ¶åé(replace temp with query)\n\né®é¢\n\nå°è¡¨è¾¾å¼çç»ææ¾å¨å±é¨åéä¸­ï¼ç¶åå¨ä»£ç ä¸­ä½¿ç¨ã\n\ndouble calculatetotal() {\n  double baseprice = quantity * itemprice;\n  if (baseprice > 1000) {\n    return baseprice * 0.95;\n  }\n  else {\n    return baseprice * 0.98;\n  }\n}\n\n\nè§£å³\n\nå°æ´ä¸ªè¡¨è¾¾å¼ç§»å¨å°ä¸ä¸ªç¬ç«çå½æ°ä¸­å¹¶è¿åç»æãä½¿ç¨æ¥è¯¢å½æ°æ¥æ¿ä»£ä½¿ç¨åéãå¦æéè¦ï¼å¯ä»¥å¨å¶ä»å½æ°ä¸­åå¹¶æ°å½æ°ã\n\ndouble calculatetotal() {\n  if (baseprice() > 1000) {\n    return baseprice() * 0.95;\n  }\n  else {\n    return baseprice() * 0.98;\n  }\n}\ndouble baseprice() {\n  return quantity * itemprice;\n}\n\n\n# å¼å¥åæ°å¯¹è±¡(introduce parameter object)\n\né®é¢\n\næäºåæ°æ»æ¯å¾èªç¶å°åæ¶åºç°ã\n\n\n\nè§£å³\n\nä»¥ä¸ä¸ªå¯¹è±¡æ¥åä»£è¿äºåæ°ã\n\n\n\n# ä¿æå¯¹è±¡å®æ´(preserve whole object)\n\né®é¢\n\nä½ ä»æä¸ªå¯¹è±¡ä¸­ååºè¥å¹²å¼ï¼å°å®ä»¬ä½ä¸ºæä¸æ¬¡å½æ°è°ç¨æ¶çåæ°ã\n\nint low = daystemprange.getlow();\nint high = daystemprange.gethigh();\nboolean withinplan = plan.withinrange(low, high);\n\n\nè§£å³\n\næ¹ä¸ºä¼ éæ´ä¸ªå¯¹è±¡ã\n\nboolean withinplan = plan.withinrange(daystemprange);\n\n\n# ä»¥å½æ°å¯¹è±¡åä»£å½æ°(replace method with method object)\n\né®é¢\n\nä½ æä¸ä¸ªè¿é¿å½æ°ï¼å®çå±é¨åéäº¤ç»å¨ä¸èµ·ï¼ä»¥è´äºä½ æ æ³åºç¨æç¼å½æ°(extract method) ã\n\nclass order {\n  //...\n  public double price() {\n    double primarybaseprice;\n    double secondarybaseprice;\n    double tertiarybaseprice;\n    // long computation.\n    //...\n  }\n}\n\n\nè§£å³\n\nå°å½æ°ç§»å°ä¸ä¸ªç¬ç«çç±»ä¸­ï¼ä½¿å¾å±é¨åéæäºè¿ä¸ªç±»çå­æ®µãç¶åï¼ä½ å¯ä»¥å°å½æ°åå²æè¿ä¸ªç±»ä¸­çå¤ä¸ªå½æ°ã\n\nclass order {\n  //...\n  public double price() {\n    return new pricecalculator(this).compute();\n  }\n}\n\nclass pricecalculator {\n  private double primarybaseprice;\n  private double secondarybaseprice;\n  private double tertiarybaseprice;\n\n  public pricecalculator(order order) {\n    // copy relevant information from order object.\n    //...\n  }\n\n  public double compute() {\n    // long computation.\n    //...\n  }\n}\n\n\n# åè§£æ¡ä»¶è¡¨è¾¾å¼(decompose conditional)\n\né®é¢\n\nä½ æå¤æçæ¡ä»¶è¡¨è¾¾å¼ã\n\nif (date.before(summer_start) || date.after(summer_end)) {\n  charge = quantity * winterrate + winterservicecharge;\n}\nelse {\n  charge = quantity * summerrate;\n}\n\n\nè§£å³\n\næ ¹æ®æ¡ä»¶åæ¯å°æ´ä¸ªæ¡ä»¶è¡¨è¾¾å¼åè§£æå ä¸ªå½æ°ã\n\nif (notsummer(date)) {\n  charge = wintercharge(quantity);\n}\nelse {\n  charge = summercharge(quantity);\n}\n\n\n\n# è¿é¿åæ°å\n\n> è¿é¿åæ°å(long parameter list)\n> \n> ä¸ä¸ªå½æ°æè¶è¿ 3ã4 ä¸ªå¥åã\n\n\n\n\n# é®é¢åå \n\nè¿é¿åæ°åå¯è½æ¯å°å¤ä¸ªç®æ³å¹¶å°ä¸ä¸ªå½æ°ä¸­æ¶åççãå½æ°ä¸­çå¥åå¯ä»¥ç¨æ¥æ§å¶æç»éç¨åªä¸ªç®æ³å»æ§è¡ã\n\nè¿é¿åæ°åä¹å¯è½æ¯è§£è¦ç±»ä¹é´ä¾èµå³ç³»æ¶çå¯äº§åãä¾å¦ï¼ç¨äºåå»ºå½æ°ä¸­æéçç¹å®å¯¹è±¡çä»£ç å·²ä»å½æ°ç§»å¨å°è°ç¨å½æ°çä»£ç å¤ï¼ä½åå»ºçå¯¹è±¡æ¯ä½ä¸ºåæ°ä¼ éå°å½æ°ä¸­ãå æ­¤ï¼åå§ç±»ä¸åç¥éå¯¹è±¡ä¹é´çå³ç³»ï¼å¹¶ä¸ä¾èµæ§ä¹å·²ç»åå°ãä½æ¯å¦æåå»ºçè¿äºå¯¹è±¡ï¼æ¯ä¸ä¸ªé½å°éè¦å®èªå·±çåæ°ï¼è¿æå³çè¿é¿åæ°åã\n\nå¤ªé¿çåæ°åé¾ä»¥çè§£ï¼å¤ªå¤åæ°ä¼é æååä¸ä¸è´ãä¸æä½¿ç¨ï¼èä¸ä¸æ¦éè¦æ´å¤æ°æ®ï¼å°±ä¸å¾ä¸ä¿®æ¹å®ã\n\n\n# è§£å³æ¹æ¡\n\n\n\n * å¦æåå·²æçå¯¹è±¡ååºä¸æ¡è¯·æ±å°±å¯ä»¥åä»£ä¸ä¸ªåæ°ï¼é£ä¹ä½ åºè¯¥ä½¿ç¨ ä»¥å½æ°åä»£åæ°(replace parameter with methods) ãå¨è¿éï¼ï¼âå·²æçå¯¹è±¡âå¯è½æ¯å½æ°æå±ç±»éçä¸ä¸ªå­æ®µï¼ä¹å¯è½æ¯å¦ä¸ä¸ªåæ°ã\n * ä½ è¿å¯ä»¥è¿ç¨ ä¿æå¯¹è±¡å®æ´(preserve whole object) å°æ¥èªåä¸å¯¹è±¡çä¸å æ°æ®æ¶éèµ·æ¥ï¼å¹¶ä»¥è¯¥å¯¹è±¡æ¿æ¢å®ä»¬ã\n * å¦ææäºæ°æ®ç¼ºä¹åççå¯¹è±¡å½å±ï¼å¯ä½¿ç¨ å¼å¥åæ°å¯¹è±¡(introduce parameter object) ä¸ºå®ä»¬å¶é åºä¸ä¸ªâåæ°å¯¹è±¡âã\n\n\n# æ¶ç\n\n * æ´æè¯»ï¼æ´ç®ç­çä»£ç ã\n * éæå¯è½ä¼æ´é²åºä¹åæªæ³¨æå°çéå¤ä»£ç ã\n\n\n# ä½æ¶å¿½ç¥\n\n * è¿éæä¸ä¸ªéè¦çä¾å¤ï¼ææ¶åä½ ææ¾ä¸æ³é æ"è¢«è°ç¨å¯¹è±¡"ä¸"è¾å¤§å¯¹è±¡"é´çæç§ä¾èµå³ç³»ãè¿æ¶åå°æ°æ®ä»å¯¹è±¡ä¸­æè§£åºæ¥åç¬ä½ä¸ºåæ°ï¼ä¹å¾åæçãä½æ¯è¯·æ³¨æå¶æå¼åçä»£ä»·ãå¦æåæ°åå¤ªé¿æååå¤ªé¢ç¹ï¼å°±éè¦éæ°èèèªå·±çä¾èµç»æäºã\n\n\n# éææ¹æ³è¯´æ\n\n# ä»¥å½æ°åä»£åæ°(replace parameter with methods)\n\né®é¢\n\nå¯¹è±¡è°ç¨æä¸ªå½æ°ï¼å¹¶å°æå¾ç»æä½ä¸ºåæ°ï¼ä¼ éç»å¦ä¸ä¸ªå½æ°ãèæ¥åè¯¥åæ°çå½æ°æ¬èº«ä¹è½å¤è°ç¨åä¸ä¸ªå½æ°ã\n\nint baseprice = quantity * itemprice;\ndouble seasondiscount = this.getseasonaldiscount();\ndouble fees = this.getfees();\ndouble finalprice = discountedprice(baseprice, seasondiscount, fees);\n\n\nè§£å³\n\nè®©åæ°æ¥åèå»é¤è¯¥é¡¹åæ°ï¼å¹¶ç´æ¥è°ç¨åä¸ä¸ªå½æ°ã\n\nint baseprice = quantity * itemprice;\ndouble finalprice = discountedprice(baseprice);\n\n\n# ä¿æå¯¹è±¡å®æ´(preserve whole object)\n\né®é¢\n\nä½ ä»æä¸ªå¯¹è±¡ä¸­ååºè¥å¹²å¼ï¼å°å®ä»¬ä½ä¸ºæä¸æ¬¡å½æ°è°ç¨æ¶çåæ°ã\n\nint low = daystemprange.getlow();\nint high = daystemprange.gethigh();\nboolean withinplan = plan.withinrange(low, high);\n\n\nè§£å³\n\næ¹ä¸ºä¼ éæ´ä¸ªå¯¹è±¡ã\n\nboolean withinplan = plan.withinrange(daystemprange);\n\n\n# å¼å¥åæ°å¯¹è±¡(introduce parameter object)\n\né®é¢\n\næäºåæ°æ»æ¯å¾èªç¶å°åæ¶åºç°ã\n\n\n\nè§£å³\n\nä»¥ä¸ä¸ªå¯¹è±¡æ¥åä»£è¿äºåæ°ã\n\n\n\n\n# æ©å±éè¯»\n\n * ä»£ç çåå³éåéæ\n * ä»£ç åå³éä¹ä»£ç èè¿\n * ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡\n * ä»£ç åå³éä¹åé©çéç¢\n * ä»£ç åå³éä¹éå¿è¦ç\n * ä»£ç åå³éä¹è¦å\n\n\n# åèèµæ\n\n * ãä»£ç æ´æ´ä¹éã\n * ãéæ - æ¹åæ¢æä»£ç çè®¾è®¡ã\n * ãä»£ç å¤§å¨ã\n * https://sourcemaking.com/refactoring',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡",frontmatter:{title:"ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡",date:"2018-10-13T22:48:00.000Z",categories:["è®¾è®¡","éæ"],tags:["è®¾è®¡","éæ"],permalink:"/pages/65ee05/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/03.%E9%87%8D%E6%9E%84/03.%E4%BB%A3%E7%A0%81%E5%9D%8F%E5%91%B3%E9%81%93%E4%B9%8B%E6%BB%A5%E7%94%A8%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html",relativePath:"03.è®¾è®¡/03.éæ/03.ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡.md",key:"v-ce0e8fd4",path:"/pages/65ee05/",headers:[{level:2,title:"Switch å£°æ",slug:"switch-å£°æ",normalizedTitle:"switch å£°æ",charIndex:134},{level:3,title:"é®é¢åå ",slug:"é®é¢åå ",normalizedTitle:"é®é¢åå ",charIndex:215},{level:3,title:"è§£å³æ¹æ³",slug:"è§£å³æ¹æ³",normalizedTitle:"è§£å³æ¹æ³",charIndex:422},{level:3,title:"æ¶ç",slug:"æ¶ç",normalizedTitle:"æ¶ç",charIndex:947},{level:3,title:"ä½æ¶å¿½ç¥",slug:"ä½æ¶å¿½ç¥",normalizedTitle:"ä½æ¶å¿½ç¥",charIndex:969},{level:3,title:"éææ¹æ³è¯´æ",slug:"éææ¹æ³è¯´æ",normalizedTitle:"éææ¹æ³è¯´æ",charIndex:1102},{level:4,title:"æç¼å½æ°(Extract Method)",slug:"æç¼å½æ°-extract-method",normalizedTitle:"æç¼å½æ°(extract method)",charIndex:489},{level:4,title:"æ¬ç§»å½æ°(Move Method)",slug:"æ¬ç§»å½æ°-move-method",normalizedTitle:"æ¬ç§»å½æ°(move method)",charIndex:535},{level:4,title:"ä»¥å­ç±»åä»£ç±»åç (Replace Type Code with Subclass)",slug:"ä»¥å­ç±»åä»£ç±»åç -replace-type-code-with-subclass",normalizedTitle:"ä»¥å­ç±»åä»£ç±»åç (replace type code with subclass)",charIndex:604},{level:4,title:"ä»¥ç¶æ/ç­ç¥æ¨¡å¼åä»£ç±»åç (Replace Type Code with State/Strategy)",slug:"ä»¥ç¶æ-ç­ç¥æ¨¡å¼åä»£ç±»åç -replace-type-code-with-state-strategy",normalizedTitle:"ä»¥ç¶æ/ç­ç¥æ¨¡å¼åä»£ç±»åç (replace type code with state/strategy)",charIndex:648},{level:4,title:"ä»¥å¤æåä»£æ¡ä»¶è¡¨è¾¾å¼(Replace Conditional with Polymorphism)",slug:"ä»¥å¤æåä»£æ¡ä»¶è¡¨è¾¾å¼-replace-conditional-with-polymorphism",normalizedTitle:"ä»¥å¤æåä»£æ¡ä»¶è¡¨è¾¾å¼(replace conditional with polymorphism)",charIndex:725},{level:4,title:"ä»¥æç¡®å½æ°åä»£åæ°(Replace Parameter with Explicit Methods)",slug:"ä»¥æç¡®å½æ°åä»£åæ°-replace-parameter-with-explicit-methods",normalizedTitle:"ä»¥æç¡®å½æ°åä»£åæ°(replace parameter with explicit methods)",charIndex:829},{level:4,title:"å¼å¥ Null å¯¹è±¡(Introduce Null Object)",slug:"å¼å¥-null-å¯¹è±¡-introduce-null-object",normalizedTitle:"å¼å¥ null å¯¹è±¡(introduce null object)",charIndex:907},{level:2,title:"ä¸´æ¶å­æ®µ",slug:"ä¸´æ¶å­æ®µ",normalizedTitle:"ä¸´æ¶å­æ®µ",charIndex:3731},{level:3,title:"é®é¢åå ",slug:"é®é¢åå -2",normalizedTitle:"é®é¢åå ",charIndex:215},{level:3,title:"è§£å³æ¹æ³",slug:"è§£å³æ¹æ³-2",normalizedTitle:"è§£å³æ¹æ³",charIndex:422},{level:3,title:"æ¶ç",slug:"æ¶ç-2",normalizedTitle:"æ¶ç",charIndex:947},{level:3,title:"éææ¹æ³è¯´æ",slug:"éææ¹æ³è¯´æ-2",normalizedTitle:"éææ¹æ³è¯´æ",charIndex:1102},{level:4,title:"æç¼ç±»(Extract Class)",slug:"æç¼ç±»-extract-class",normalizedTitle:"æç¼ç±»(extract class)",charIndex:4039},{level:4,title:"ä»¥å½æ°å¯¹è±¡åä»£å½æ°(Replace Method with Method Object)",slug:"ä»¥å½æ°å¯¹è±¡åä»£å½æ°-replace-method-with-method-object",normalizedTitle:"ä»¥å½æ°å¯¹è±¡åä»£å½æ°(replace method with method object)",charIndex:4093},{level:4,title:"å¼å¥ Null å¯¹è±¡(Introduce Null Object)",slug:"å¼å¥-null-å¯¹è±¡-introduce-null-object-2",normalizedTitle:"å¼å¥ null å¯¹è±¡(introduce null object)",charIndex:907},{level:2,title:"å¼æ²åå·¥çç±»",slug:"å¼æ²åå·¥çç±»",normalizedTitle:"å¼æ²åå·¥çç±»",charIndex:5601},{level:3,title:"é®é¢åå ",slug:"é®é¢åå -3",normalizedTitle:"é®é¢åå ",charIndex:215},{level:3,title:"è§£å³æ¹æ³",slug:"è§£å³æ¹æ³-3",normalizedTitle:"è§£å³æ¹æ³",charIndex:422},{level:3,title:"æ¶ç",slug:"æ¶ç-3",normalizedTitle:"æ¶ç",charIndex:947},{level:3,title:"ä½æ¶å¿½ç¥",slug:"ä½æ¶å¿½ç¥-2",normalizedTitle:"ä½æ¶å¿½ç¥",charIndex:969},{level:3,title:"éææ¹æ³è¯´æ",slug:"éææ¹æ³è¯´æ-3",normalizedTitle:"éææ¹æ³è¯´æ",charIndex:1102},{level:4,title:"å½æ°æ¹å(Rename Method)",slug:"å½æ°æ¹å-rename-method",normalizedTitle:"å½æ°æ¹å(rename method)",charIndex:5781},{level:4,title:"æ¬ç§»å½æ°(Move Method)",slug:"æ¬ç§»å½æ°-move-method-2",normalizedTitle:"æ¬ç§»å½æ°(move method)",charIndex:535},{level:4,title:"æ·»å åæ°(Add Parameter)",slug:"æ·»å åæ°-add-parameter",normalizedTitle:"æ·»å åæ°(add parameter)",charIndex:5840},{level:4,title:"ä»¤å½æ°æºå¸¦åæ°(Parameterize Method)",slug:"ä»¤å½æ°æºå¸¦åæ°-parameterize-method",normalizedTitle:"ä»¤å½æ°æºå¸¦åæ°(parameterize method)",charIndex:5862},{level:4,title:"æç¼è¶ç±»(Extract Superclass)",slug:"æç¼è¶ç±»-extract-superclass",normalizedTitle:"æç¼è¶ç±»(extract superclass)",charIndex:5930},{level:2,title:"è¢«æç»çé¦èµ ",slug:"è¢«æç»çé¦èµ ",normalizedTitle:"è¢«æç»çé¦èµ ",charIndex:6796},{level:3,title:"é®é¢åå ",slug:"é®é¢åå -4",normalizedTitle:"é®é¢åå ",charIndex:215},{level:3,title:"è§£å³æ¹æ³",slug:"è§£å³æ¹æ³-4",normalizedTitle:"è§£å³æ¹æ³",charIndex:422},{level:3,title:"æ¶ç",slug:"æ¶ç-4",normalizedTitle:"æ¶ç",charIndex:947},{level:3,title:"éææ¹æ³è¯´æ",slug:"éææ¹æ³è¯´æ-4",normalizedTitle:"éææ¹æ³è¯´æ",charIndex:1102},{level:4,title:"ä»¥å§æåä»£ç»§æ¿(Replace Inheritance with Delegation)",slug:"ä»¥å§æåä»£ç»§æ¿-replace-inheritance-with-delegation",normalizedTitle:"ä»¥å§æåä»£ç»§æ¿(replace inheritance with delegation)",charIndex:6963},{level:4,title:"æç¼è¶ç±»(Extract Superclass)",slug:"æç¼è¶ç±»-extract-superclass-2",normalizedTitle:"æç¼è¶ç±»(extract superclass)",charIndex:5930},{level:2,title:"æ©å±éè¯»",slug:"æ©å±éè¯»",normalizedTitle:"æ©å±éè¯»",charIndex:7392},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:7486}],headersStr:"Switch å£°æ é®é¢åå  è§£å³æ¹æ³ æ¶ç ä½æ¶å¿½ç¥ éææ¹æ³è¯´æ æç¼å½æ°(Extract Method) æ¬ç§»å½æ°(Move Method) ä»¥å­ç±»åä»£ç±»åç (Replace Type Code with Subclass) ä»¥ç¶æ/ç­ç¥æ¨¡å¼åä»£ç±»åç (Replace Type Code with State/Strategy) ä»¥å¤æåä»£æ¡ä»¶è¡¨è¾¾å¼(Replace Conditional with Polymorphism) ä»¥æç¡®å½æ°åä»£åæ°(Replace Parameter with Explicit Methods) å¼å¥ Null å¯¹è±¡(Introduce Null Object) ä¸´æ¶å­æ®µ é®é¢åå  è§£å³æ¹æ³ æ¶ç éææ¹æ³è¯´æ æç¼ç±»(Extract Class) ä»¥å½æ°å¯¹è±¡åä»£å½æ°(Replace Method with Method Object) å¼å¥ Null å¯¹è±¡(Introduce Null Object) å¼æ²åå·¥çç±» é®é¢åå  è§£å³æ¹æ³ æ¶ç ä½æ¶å¿½ç¥ éææ¹æ³è¯´æ å½æ°æ¹å(Rename Method) æ¬ç§»å½æ°(Move Method) æ·»å åæ°(Add Parameter) ä»¤å½æ°æºå¸¦åæ°(Parameterize Method) æç¼è¶ç±»(Extract Superclass) è¢«æç»çé¦èµ  é®é¢åå  è§£å³æ¹æ³ æ¶ç éææ¹æ³è¯´æ ä»¥å§æåä»£ç»§æ¿(Replace Inheritance with Delegation) æç¼è¶ç±»(Extract Superclass) æ©å±éè¯» åèèµæ",content:'> ç¿»è¯èªï¼https://sourcemaking.com/refactoring/smells/oo-abusers\n> \n> æ»¥ç¨é¢åå¯¹è±¡(Object-Orientation Abusers)è¿ç»åå³éæå³çï¼ä»£ç é¨åæå®å¨å°è¿èäºé¢åå¯¹è±¡ç¼ç¨ååã\n\n\n# Switch å£°æ\n\n> Switch å£°æ(Switch Statements)\n> \n> ä½ æä¸ä¸ªå¤æç switch è¯­å¥æ if åºåè¯­å¥ã\n\n\n\n\n# é®é¢åå \n\né¢åå¯¹è±¡ç¨åºçä¸ä¸ªæææ¾ç¹å¾å°±æ¯ï¼å°ç¨ switch å case è¯­å¥ãä»æ¬è´¨ä¸è¯´ï¼switch è¯­å¥çé®é¢å¨äºéå¤ï¼if åºåä¹åæ ·å¦æ­¤ï¼ãä½ å¸¸ä¼åç° switch è¯­å¥æ£å¸äºä¸åå°ç¹ãå¦æè¦ä¸ºå®æ·»å ä¸ä¸ªæ°ç case å­å¥ï¼å°±å¿é¡»æ¾å°ææ switch è¯­å¥å¹¶ä¿®æ¹å®ä»¬ãé¢åå¯¹è±¡ä¸­çå¤ææ¦å¿µå¯ä¸ºæ­¤å¸¦æ¥ä¼éçè§£å³åæ³ã\n\nå¤§å¤æ°æ¶åï¼ä¸çå° switch è¯­å¥ï¼å°±åºè¯¥èèä»¥å¤ææ¥æ¿æ¢å®ã\n\n\n# è§£å³æ¹æ³\n\n * é®é¢æ¯å¤æè¯¥åºç°å¨åªï¼switch è¯­å¥å¸¸å¸¸æ ¹æ®ç±»åç è¿è¡éæ©ï¼ä½ è¦çæ¯âä¸è¯¥ç±»åç ç¸å³çå½æ°æç±»âï¼æä»¥åºè¯¥è¿ç¨ æç¼å½æ°(Extract Method) å° switch è¯­å¥æç¼å°ä¸ä¸ªç¬ç«å½æ°ä¸­ï¼åä»¥ æ¬ç§»å½æ°(Move Method) å°å®æ¬ç§»å°éè¦å¤ææ§çé£ä¸ªç±»éã\n * å¦æä½ ç switch æ¯åºäºç±»åç æ¥è¯å«åæ¯ï¼è¿æ¶å¯ä»¥è¿ç¨ ä»¥å­ç±»åä»£ç±»åç (Replace Type Code with Subclass) æ ä»¥ç¶æ/ç­ç¥æ¨¡å¼åä»£ç±»åç (Replace Type Code with State/Strategy) ã\n * ä¸æ¦å®æè¿æ ·çç»§æ¿ç»æåï¼å°±å¯ä»¥è¿ç¨ ä»¥å¤æåä»£æ¡ä»¶è¡¨è¾¾å¼(Replace Conditional with Polymorphism) äºã\n * å¦ææ¡ä»¶åæ¯å¹¶ä¸å¤å¹¶ä¸å®ä»¬ä½¿ç¨ä¸ååæ°è°ç¨ç¸åçå½æ°ï¼å¤æå°±æ²¡å¿è¦äºãå¨è¿ç§æåµä¸ï¼ä½ å¯ä»¥è¿ç¨ ä»¥æç¡®å½æ°åä»£åæ°(Replace Parameter with Explicit Methods) ã\n * å¦æä½ çéæ©æ¡ä»¶ä¹ä¸æ¯ nullï¼å¯ä»¥è¿ç¨ å¼å¥ Null å¯¹è±¡(Introduce Null Object) ã\n\n\n# æ¶ç\n\n * æåä»£ç ç»ç»æ§ã\n\n\n\n\n# ä½æ¶å¿½ç¥\n\n * å¦æä¸ä¸ª switch æä½åªæ¯æ§è¡ç®åçè¡ä¸ºï¼å°±æ²¡æéæçå¿è¦äºã\n * switch å¸¸è¢«å·¥åè®¾è®¡æ¨¡å¼æï¼å·¥åæ¹æ³æ¨¡å¼(Factory Method)åæ½è±¡å·¥åæ¨¡å¼(Abstract Factory)ï¼æä½¿ç¨ï¼è¿ç§æåµä¸ä¹æ²¡å¿è¦éæã\n\n\n# éææ¹æ³è¯´æ\n\n# æç¼å½æ°(Extract Method)\n\né®é¢\n\nä½ æä¸æ®µä»£ç å¯ä»¥ç»ç»å¨ä¸èµ·ã\n\nvoid printOwing() {\n  printBanner();\n\n  //print details\n  System.out.println("name: " + name);\n  System.out.println("amount: " + getOutstanding());\n}\n\n\nè§£å³\n\nç§»å¨è¿æ®µä»£ç å°ä¸ä¸ªæ°çå½æ°ä¸­ï¼ä½¿ç¨å½æ°çè°ç¨æ¥æ¿ä»£èä»£ç ã\n\nvoid printOwing() {\n  printBanner();\n  printDetails(getOutstanding());\n}\n\nvoid printDetails(double outstanding) {\n  System.out.println("name: " + name);\n  System.out.println("amount: " + outstanding);\n}\n\n\n# æ¬ç§»å½æ°(Move Method)\n\né®é¢\n\nä½ çç¨åºä¸­ï¼æä¸ªå½æ°ä¸å¶æé©»ç±»ä¹å¤çå¦ä¸ä¸ªç±»è¿è¡æ´å¤äº¤æµï¼è°ç¨åèï¼æè¢«åèè°ç¨ã\n\n\n\nè§£å³\n\nå¨è¯¥å½æ°æå¸¸å¼ç¨çç±»ä¸­å»ºç«ä¸ä¸ªæçç±»ä¼¼è¡ä¸ºçæ°å½æ°ãå°æ§å½æ°åæä¸ä¸ªåçº¯çå§æå½æ°ï¼ææ¯æ§å½æ°å®å¨ç§»é¤ã\n\n\n\n# ä»¥å­ç±»åä»£ç±»åç (Replace Type Code with Subclass)\n\né®é¢\n\nä½ æä¸ä¸ªä¸å¯åçç±»åç ï¼å®ä¼å½±åç±»çè¡ä¸ºã\n\n\n\nè§£å³\n\nä»¥å­ç±»åä»£è¿ä¸ªç±»åç ã\n\n\n\n# ä»¥ç¶æ/ç­ç¥æ¨¡å¼åä»£ç±»åç (Replace Type Code with State/Strategy)\n\né®é¢\n\nä½ æä¸ä¸ªç±»åç ï¼å®ä¼å½±åç±»çè¡ä¸ºï¼ä½ä½ æ æ³éè¿ç»§æ¿æ¶é¤å®ã\n\n\n\nè§£å³\n\nä»¥ç¶æå¯¹è±¡åä»£ç±»åç ã\n\n\n\n# ä»¥å¤æåä»£æ¡ä»¶è¡¨è¾¾å¼(Replace Conditional with Polymorphism)\n\né®é¢\n\nä½ æä¸æä¸ªæ¡ä»¶è¡¨è¾¾å¼ï¼å®æ ¹æ®å¯¹è±¡ç±»åçä¸åèéæ©ä¸åçè¡ä¸ºã\n\nclass Bird {\n  //...\n  double getSpeed() {\n    switch (type) {\n      case EUROPEAN:\n        return getBaseSpeed();\n      case AFRICAN:\n        return getBaseSpeed() - getLoadFactor() * numberOfCoconuts;\n      case NORWEGIAN_BLUE:\n        return (isNailed) ? 0 : getBaseSpeed(voltage);\n    }\n    throw new RuntimeException("Should be unreachable");\n  }\n}\n\n\nè§£å³\n\nå°è¿ä¸ªæ¡ä»¶è¡¨è¾¾å¼çæ¯ä¸ªåæ¯æ¾è¿ä¸ä¸ªå­ç±»åçè¦åå½æ°ä¸­ï¼ç¶åå°åå§å½æ°å£°æä¸ºæ½è±¡å½æ°ã\n\nabstract class Bird {\n  //...\n  abstract double getSpeed();\n}\n\nclass European extends Bird {\n  double getSpeed() {\n    return getBaseSpeed();\n  }\n}\nclass African extends Bird {\n  double getSpeed() {\n    return getBaseSpeed() - getLoadFactor() * numberOfCoconuts;\n  }\n}\nclass NorwegianBlue extends Bird {\n  double getSpeed() {\n    return (isNailed) ? 0 : getBaseSpeed(voltage);\n  }\n}\n\n// Somewhere in client code\nspeed = bird.getSpeed();\n\n\n# ä»¥æç¡®å½æ°åä»£åæ°(Replace Parameter with Explicit Methods)\n\né®é¢\n\nä½ æä¸ä¸ªå½æ°ï¼å¶ä¸­å®å¨åå³äºåæ°å¼èéåä¸åçè¡ä¸ºã\n\nvoid setValue(String name, int value) {\n  if (name.equals("height")) {\n    height = value;\n    return;\n  }\n  if (name.equals("width")) {\n    width = value;\n    return;\n  }\n  Assert.shouldNeverReachHere();\n}\n\n\nè§£å³\n\néå¯¹è¯¥åæ°çæ¯ä¸ä¸ªå¯è½å¼ï¼å»ºç«ä¸ä¸ªç¬ç«å½æ°ã\n\nvoid setHeight(int arg) {\n  height = arg;\n}\nvoid setWidth(int arg) {\n  width = arg;\n}\n\n\n# å¼å¥ Null å¯¹è±¡(Introduce Null Object)\n\né®é¢\n\nä½ éè¦åä¸æ£æ¥æå¯¹è±¡æ¯å¦ä¸º nullã\n\nif (customer == null) {\n  plan = BillingPlan.basic();\n}\nelse {\n  plan = customer.getPlan();\n}\n\n\nè§£å³\n\nå° null å¼æ¿æ¢ä¸º null å¯¹è±¡ã\n\nclass NullCustomer extends Customer {\n  Plan getPlan() {\n    return new NullPlan();\n  }\n  // Some other NULL functionality.\n}\n\n// Replace null values with Null-object.\ncustomer = (order.customer != null) ? order.customer : new NullCustomer();\n\n// Use Null-object as if it\'s normal subclass.\nplan = customer.getPlan();\n\n\n\n# ä¸´æ¶å­æ®µ\n\n> ä¸´æ¶å­æ®µ(Temporary Field)çå¼åªå¨ç¹å®ç¯å¢ä¸ææä¹ï¼ç¦»å¼è¿ä¸ªç¯å¢ï¼å®ä»¬å°±ä»ä¹ä¹ä¸æ¯äºã\n\n\n\n\n# é®é¢åå \n\nææ¶ä½ ä¼çå°è¿æ ·çå¯¹è±¡ï¼å¶åæä¸ªå®ä¾åéä»ä¸ºæç§ç¹å®æåµèè®¾ãè¿æ ·çä»£ç è®©äººä¸æçè§£ï¼å ä¸ºä½ éå¸¸è®¤ä¸ºå¯¹è±¡å¨æææ¶åé½éè¦å®çææåéãå¨åéæªè¢«ä½¿ç¨çæåµä¸çæµå½åè®¾ç½®ç®çï¼ä¼è®©ä½ åç¯ã éå¸¸ï¼ä¸´æ¶å­æ®µæ¯å¨æä¸ç®æ³éè¦å¤§éè¾å¥æ¶èåå»ºãå æ­¤ï¼ä¸ºäºé¿åå½æ°æè¿å¤åæ°ï¼ç¨åºåå³å®å¨ç±»ä¸­åå»ºè¿äºæ°æ®çä¸´æ¶å­æ®µãè¿äºä¸´æ¶å­æ®µä»ä»å¨ç®æ³ä¸­ä½¿ç¨ï¼å¶ä»æ¶åå´æ¯«æ ç¨å¤ã è¿ç§ä»£ç ä¸å¥½çè§£ãä½ æææ¥çå¯¹è±¡å­æ®µçæ°æ®ï¼ä½æ¯åºäºæç§åå ï¼å®ä»¬æ»æ¯ä¸ºç©ºã\n\n\n# è§£å³æ¹æ³\n\n * å¯ä»¥éè¿ æç¼ç±»(Extract Class) å°ä¸´æ¶å­æ®µåæä½å®ä»¬çææä»£ç æç¼å°ä¸ä¸ªåç¬çç±»ä¸­ãæ­¤å¤ï¼ä½ å¯ä»¥è¿ç¨ ä»¥å½æ°å¯¹è±¡åä»£å½æ°(Replace Method with Method Object) æ¥å®ç°åæ ·çç®çã\n * å¼å¥ Null å¯¹è±¡(Introduce Null Object) å¨âåéä¸åæ³âçæåµä¸åå»ºä¸ä¸ª null å¯¹è±¡ï¼ä»èé¿åååºæ¡ä»¶è¡¨è¾¾å¼ã\n\n\n\n\n# æ¶ç\n\n * æ´å¥½çä»£ç æ¸æ°åº¦åç»ç»æ§ã\n\n\n\n\n# éææ¹æ³è¯´æ\n\n# æç¼ç±»(Extract Class)\n\né®é¢\n\næä¸ªç±»åäºä¸æ­¢ä¸ä»¶äºã\n\n\n\nè§£å³\n\nå»ºç«ä¸ä¸ªæ°ç±»ï¼å°ç¸å³çå­æ®µåå½æ°ä»æ§ç±»æ¬ç§»å°æ°ç±»ã\n\n\n\n# ä»¥å½æ°å¯¹è±¡åä»£å½æ°(Replace Method with Method Object)\n\né®é¢\n\nä½ æä¸ä¸ªè¿é¿å½æ°ï¼å®çå±é¨åéäº¤ç»å¨ä¸èµ·ï¼ä»¥è´äºä½ æ æ³åºç¨æç¼å½æ°(Extract Method) ã\n\nclass Order {\n  //...\n  public double price() {\n    double primaryBasePrice;\n    double secondaryBasePrice;\n    double tertiaryBasePrice;\n    // long computation.\n    //...\n  }\n}\n\n\nè§£å³\n\nå°å½æ°ç§»å°ä¸ä¸ªç¬ç«çç±»ä¸­ï¼ä½¿å¾å±é¨åéæäºè¿ä¸ªç±»çå­æ®µãç¶åï¼ä½ å¯ä»¥å°å½æ°åå²æè¿ä¸ªç±»ä¸­çå¤ä¸ªå½æ°ã\n\nclass Order {\n  //...\n  public double price() {\n    return new PriceCalculator(this).compute();\n  }\n}\n\nclass PriceCalculator {\n  private double primaryBasePrice;\n  private double secondaryBasePrice;\n  private double tertiaryBasePrice;\n\n  public PriceCalculator(Order order) {\n    // copy relevant information from order object.\n    //...\n  }\n\n  public double compute() {\n    // long computation.\n    //...\n  }\n}\n\n\n# å¼å¥ Null å¯¹è±¡(Introduce Null Object)\n\né®é¢\n\nä½ éè¦åä¸æ£æ¥æå¯¹è±¡æ¯å¦ä¸º nullã\n\nif (customer == null) {\n  plan = BillingPlan.basic();\n}\nelse {\n  plan = customer.getPlan();\n}\n\n\nè§£å³\n\nå° null å¼æ¿æ¢ä¸º null å¯¹è±¡ã\n\nclass NullCustomer extends Customer {\n  Plan getPlan() {\n    return new NullPlan();\n  }\n  // Some other NULL functionality.\n}\n\n// Replace null values with Null-object.\ncustomer = (order.customer != null) ? order.customer : new NullCustomer();\n\n// Use Null-object as if it\'s normal subclass.\nplan = customer.getPlan();\n\n\n\n# å¼æ²åå·¥çç±»\n\n> å¼æ²åå·¥çç±»(Alternative Classes with Different Interfaces)\n> \n> ä¸¤ä¸ªç±»ä¸­æçä¸åçå½æ°ï¼å´å¨åçåä¸ä»¶äºã\n\n\n\n\n# é®é¢åå \n\nè¿ç§æåµå¾å¾æ¯å ä¸ºï¼åå»ºè¿ä¸ªç±»çç¨åºåå¹¶ä¸ç¥éå·²ç»æå®ç°è¿ä¸ªåè½çç±»å­å¨äºã\n\n\n# è§£å³æ¹æ³\n\n * å¦æä¸¤ä¸ªå½æ°ååä¸ä»¶äºï¼å´æçä¸åçç­¾åï¼è¯·è¿ç¨ å½æ°æ¹å(Rename Method) æ ¹æ®å®ä»¬çç¨ééæ°å½åã\n * è¿ç¨ æ¬ç§»å½æ°(Move Method) ã æ·»å åæ°(Add Parameter) å ä»¤å½æ°æºå¸¦åæ°(Parameterize Method) æ¥ä½¿å¾æ¹æ³çåç§°åå®ç°ä¸è´ã\n * å¦æä¸¤ä¸ªç±»ä»æé¨ååè½æ¯éå¤çï¼å°è¯è¿ç¨ æç¼è¶ç±»(Extract Superclass) ãè¿ç§æåµä¸ï¼å·²å­å¨çç±»å°±æäºè¶ç±»ã\n * å½æç»éæ©å¹¶è¿ç¨æç§æ¹æ³æ¥éæåï¼ä¹è®¸ä½ å°±è½å é¤å¶ä¸­ä¸ä¸ªç±»äºã\n\n\n# æ¶ç\n\n * æ¶é¤äºä¸å¿è¦çéå¤ä»£ç ï¼ä¸ºä»£ç ç¦èº«äºã\n * ä»£ç æ´æè¯»ï¼ä¸åéè¦çæµä¸ºä»ä¹è¦æä¸¤ä¸ªåè½ç¸åçç±»ï¼ã\n\n\n\n\n# ä½æ¶å¿½ç¥\n\n * ææ¶åå¹¶ç±»æ¯ä¸å¯è½çï¼æèæ¯å¦æ­¤å°é¾ä»¥è³äºæ²¡ææä¹ãä¾å¦ï¼ä¸¤ä¸ªåè½ç¸ä¼¼çç±»å­å¨äºä¸åç lib åºä¸­ã\n\n\n# éææ¹æ³è¯´æ\n\n# å½æ°æ¹å(Rename Method)\n\né®é¢\n\nå½æ°çåç§°æªè½æ°å½çæ­ç¤ºå½æ°çç¨éã\n\nclass Person {\n  public String getsnm();\n}\n\n\nè§£å³\n\nä¿®æ¹å½æ°åã\n\nclass Person {\n  public String getSecondName();\n}\n\n\n# æ¬ç§»å½æ°(Move Method)\n\né®é¢\n\nä½ çç¨åºä¸­ï¼æä¸ªå½æ°ä¸å¶æé©»ç±»ä¹å¤çå¦ä¸ä¸ªç±»è¿è¡æ´å¤äº¤æµï¼è°ç¨åèï¼æè¢«åèè°ç¨ã\n\n\n\nè§£å³\n\nå¨è¯¥å½æ°æå¸¸å¼ç¨çç±»ä¸­å»ºç«ä¸ä¸ªæçç±»ä¼¼è¡ä¸ºçæ°å½æ°ãå°æ§å½æ°åæä¸ä¸ªåçº¯çå§æå½æ°ï¼ææ¯æ§å½æ°å®å¨ç§»é¤ã\n\n\n\n# æ·»å åæ°(Add Parameter)\n\né®é¢ æä¸ªå½æ°éè¦ä»è°ç¨ç«¯å¾å°æ´å¤ä¿¡æ¯ã\n\nclass Customer {\n  public Contact getContact();\n}\n\n\nè§£å³ ä¸ºæ­¤å½æ°æ·»å ä¸ä¸ªå¯¹è±¡å½æ°ï¼è®©æ¹å¯¹è±¡å¸¦è¿å½æ°æéä¿¡æ¯ã\n\nclass Customer {\n  public Contact getContact(Date date);\n}\n\n\n# ä»¤å½æ°æºå¸¦åæ°(Parameterize Method)\n\né®é¢\n\nè¥å¹²å½æ°åäºç±»ä¼¼çå·¥ä½ï¼ä½å¨å½æ°æ¬ä½ä¸­å´åå«äºä¸åçå¼ã\n\nè§£å³\n\nå»ºç«åä¸å½æ°ï¼ä»¥åæ°è¡¨è¾¾åªäºä¸åçå¼ã\n\n\n\n# æç¼è¶ç±»(Extract Superclass)\n\né®é¢\n\nä¸¤ä¸ªç±»æç¸ä¼¼ç¹æ§ã\n\n\n\nè§£å³\n\nä¸ºè¿ä¸¤ä¸ªç±»å»ºç«ä¸ä¸ªè¶ç±»ï¼å°ç¸åç¹æ§ç§»è³è¶ç±»ã\n\n\n\n\n# è¢«æç»çé¦èµ \n\n> è¢«æç»çé¦èµ (Refused Bequest)\n> \n> å­ç±»ä»ä»ä½¿ç¨ç¶ç±»ä¸­çé¨åæ¹æ³åå±æ§ãå¶ä»æ¥èªç¶ç±»çé¦èµ æä¸ºäºç´¯èµã\n\n\n\n\n# é®é¢åå \n\næäºäººä»ä»æ¯æ³éç¨è¶ç±»ä¸­çé¨åä»£ç èåå»ºäºå­ç±»ãä½å®éä¸è¶ç±»åå­ç±»å®å¨ä¸åã\n\n\n# è§£å³æ¹æ³\n\n * å¦æç»§æ¿æ²¡ææä¹å¹¶ä¸å­ç±»åç¶ç±»ä¹é´ç¡®å®æ²¡æå±åç¹ï¼å¯ä»¥è¿ç¨ ä»¥å§æåä»£ç»§æ¿(Replace Inheritance with Delegation) æ¶é¤ç»§æ¿ã\n * å¦æç»§æ¿æ¯éå½çï¼åå»é¤å­ç±»ä¸­ä¸éè¦çå­æ®µåæ¹æ³ãè¿ç¨ æç¼è¶ç±»(Extract Superclass) å°ææè¶ç±»ä¸­å¯¹äºå­ç±»æç¨çå­æ®µåå½æ°æååºæ¥ï¼ç½®å¥ä¸ä¸ªæ°çè¶ç±»ä¸­ï¼ç¶åè®©ä¸¤ä¸ªç±»é½ç»§æ¿èªå®ã\n\n\n\n\n# æ¶ç\n\n * æé«ä»£ç çæ¸æ°åº¦åç»ç»æ§ã\n\n\n\n\n# éææ¹æ³è¯´æ\n\n# ä»¥å§æåä»£ç»§æ¿(Replace Inheritance with Delegation)\n\né®é¢\n\næä¸ªå­ç±»åªä½¿ç¨è¶ç±»æ¥å£ä¸­çä¸é¨åï¼ææ¯æ ¹æ¬ä¸éè¦ç»§æ¿èæ¥çæ°æ®ã\n\n\n\nè§£å³\n\n 1. å¨å­ç±»ä¸­æ°å»ºä¸ä¸ªå­æ®µç¨ä»¥ä¿å­è¶ç±»ï¼\n 2. è°æ´å­ç±»å½æ°ï¼ä»¤å®æ¹èå§æè¶ç±»ï¼\n 3. ç¶åå»æä¸¤èä¹é´çç»§æ¿å³ç³»ã\n\n\n\n# æç¼è¶ç±»(Extract Superclass)\n\né®é¢\n\nä¸¤ä¸ªç±»æç¸ä¼¼ç¹æ§ã\n\n\n\nè§£å³\n\nä¸ºè¿ä¸¤ä¸ªç±»å»ºç«ä¸ä¸ªè¶ç±»ï¼å°ç¸åç¹æ§ç§»è³è¶ç±»ã\n\n\n\n\n# æ©å±éè¯»\n\n * ä»£ç çåå³éåéæ\n * ä»£ç åå³éä¹ä»£ç èè¿\n * ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡\n * ä»£ç åå³éä¹åé©çéç¢\n * ä»£ç åå³éä¹éå¿è¦ç\n * ä»£ç åå³éä¹è¦å\n\n\n# åèèµæ\n\n * ãä»£ç æ´æ´ä¹éã\n * ãéæ - æ¹åæ¢æä»£ç çè®¾è®¡ã\n * ãä»£ç å¤§å¨ã\n * https://sourcemaking.com/refactoring',normalizedContent:'> ç¿»è¯èªï¼https://sourcemaking.com/refactoring/smells/oo-abusers\n> \n> æ»¥ç¨é¢åå¯¹è±¡(object-orientation abusers)è¿ç»åå³éæå³çï¼ä»£ç é¨åæå®å¨å°è¿èäºé¢åå¯¹è±¡ç¼ç¨ååã\n\n\n# switch å£°æ\n\n> switch å£°æ(switch statements)\n> \n> ä½ æä¸ä¸ªå¤æç switch è¯­å¥æ if åºåè¯­å¥ã\n\n\n\n\n# é®é¢åå \n\né¢åå¯¹è±¡ç¨åºçä¸ä¸ªæææ¾ç¹å¾å°±æ¯ï¼å°ç¨ switch å case è¯­å¥ãä»æ¬è´¨ä¸è¯´ï¼switch è¯­å¥çé®é¢å¨äºéå¤ï¼if åºåä¹åæ ·å¦æ­¤ï¼ãä½ å¸¸ä¼åç° switch è¯­å¥æ£å¸äºä¸åå°ç¹ãå¦æè¦ä¸ºå®æ·»å ä¸ä¸ªæ°ç case å­å¥ï¼å°±å¿é¡»æ¾å°ææ switch è¯­å¥å¹¶ä¿®æ¹å®ä»¬ãé¢åå¯¹è±¡ä¸­çå¤ææ¦å¿µå¯ä¸ºæ­¤å¸¦æ¥ä¼éçè§£å³åæ³ã\n\nå¤§å¤æ°æ¶åï¼ä¸çå° switch è¯­å¥ï¼å°±åºè¯¥èèä»¥å¤ææ¥æ¿æ¢å®ã\n\n\n# è§£å³æ¹æ³\n\n * é®é¢æ¯å¤æè¯¥åºç°å¨åªï¼switch è¯­å¥å¸¸å¸¸æ ¹æ®ç±»åç è¿è¡éæ©ï¼ä½ è¦çæ¯âä¸è¯¥ç±»åç ç¸å³çå½æ°æç±»âï¼æä»¥åºè¯¥è¿ç¨ æç¼å½æ°(extract method) å° switch è¯­å¥æç¼å°ä¸ä¸ªç¬ç«å½æ°ä¸­ï¼åä»¥ æ¬ç§»å½æ°(move method) å°å®æ¬ç§»å°éè¦å¤ææ§çé£ä¸ªç±»éã\n * å¦æä½ ç switch æ¯åºäºç±»åç æ¥è¯å«åæ¯ï¼è¿æ¶å¯ä»¥è¿ç¨ ä»¥å­ç±»åä»£ç±»åç (replace type code with subclass) æ ä»¥ç¶æ/ç­ç¥æ¨¡å¼åä»£ç±»åç (replace type code with state/strategy) ã\n * ä¸æ¦å®æè¿æ ·çç»§æ¿ç»æåï¼å°±å¯ä»¥è¿ç¨ ä»¥å¤æåä»£æ¡ä»¶è¡¨è¾¾å¼(replace conditional with polymorphism) äºã\n * å¦ææ¡ä»¶åæ¯å¹¶ä¸å¤å¹¶ä¸å®ä»¬ä½¿ç¨ä¸ååæ°è°ç¨ç¸åçå½æ°ï¼å¤æå°±æ²¡å¿è¦äºãå¨è¿ç§æåµä¸ï¼ä½ å¯ä»¥è¿ç¨ ä»¥æç¡®å½æ°åä»£åæ°(replace parameter with explicit methods) ã\n * å¦æä½ çéæ©æ¡ä»¶ä¹ä¸æ¯ nullï¼å¯ä»¥è¿ç¨ å¼å¥ null å¯¹è±¡(introduce null object) ã\n\n\n# æ¶ç\n\n * æåä»£ç ç»ç»æ§ã\n\n\n\n\n# ä½æ¶å¿½ç¥\n\n * å¦æä¸ä¸ª switch æä½åªæ¯æ§è¡ç®åçè¡ä¸ºï¼å°±æ²¡æéæçå¿è¦äºã\n * switch å¸¸è¢«å·¥åè®¾è®¡æ¨¡å¼æï¼å·¥åæ¹æ³æ¨¡å¼(factory method)åæ½è±¡å·¥åæ¨¡å¼(abstract factory)ï¼æä½¿ç¨ï¼è¿ç§æåµä¸ä¹æ²¡å¿è¦éæã\n\n\n# éææ¹æ³è¯´æ\n\n# æç¼å½æ°(extract method)\n\né®é¢\n\nä½ æä¸æ®µä»£ç å¯ä»¥ç»ç»å¨ä¸èµ·ã\n\nvoid printowing() {\n  printbanner();\n\n  //print details\n  system.out.println("name: " + name);\n  system.out.println("amount: " + getoutstanding());\n}\n\n\nè§£å³\n\nç§»å¨è¿æ®µä»£ç å°ä¸ä¸ªæ°çå½æ°ä¸­ï¼ä½¿ç¨å½æ°çè°ç¨æ¥æ¿ä»£èä»£ç ã\n\nvoid printowing() {\n  printbanner();\n  printdetails(getoutstanding());\n}\n\nvoid printdetails(double outstanding) {\n  system.out.println("name: " + name);\n  system.out.println("amount: " + outstanding);\n}\n\n\n# æ¬ç§»å½æ°(move method)\n\né®é¢\n\nä½ çç¨åºä¸­ï¼æä¸ªå½æ°ä¸å¶æé©»ç±»ä¹å¤çå¦ä¸ä¸ªç±»è¿è¡æ´å¤äº¤æµï¼è°ç¨åèï¼æè¢«åèè°ç¨ã\n\n\n\nè§£å³\n\nå¨è¯¥å½æ°æå¸¸å¼ç¨çç±»ä¸­å»ºç«ä¸ä¸ªæçç±»ä¼¼è¡ä¸ºçæ°å½æ°ãå°æ§å½æ°åæä¸ä¸ªåçº¯çå§æå½æ°ï¼ææ¯æ§å½æ°å®å¨ç§»é¤ã\n\n\n\n# ä»¥å­ç±»åä»£ç±»åç (replace type code with subclass)\n\né®é¢\n\nä½ æä¸ä¸ªä¸å¯åçç±»åç ï¼å®ä¼å½±åç±»çè¡ä¸ºã\n\n\n\nè§£å³\n\nä»¥å­ç±»åä»£è¿ä¸ªç±»åç ã\n\n\n\n# ä»¥ç¶æ/ç­ç¥æ¨¡å¼åä»£ç±»åç (replace type code with state/strategy)\n\né®é¢\n\nä½ æä¸ä¸ªç±»åç ï¼å®ä¼å½±åç±»çè¡ä¸ºï¼ä½ä½ æ æ³éè¿ç»§æ¿æ¶é¤å®ã\n\n\n\nè§£å³\n\nä»¥ç¶æå¯¹è±¡åä»£ç±»åç ã\n\n\n\n# ä»¥å¤æåä»£æ¡ä»¶è¡¨è¾¾å¼(replace conditional with polymorphism)\n\né®é¢\n\nä½ æä¸æä¸ªæ¡ä»¶è¡¨è¾¾å¼ï¼å®æ ¹æ®å¯¹è±¡ç±»åçä¸åèéæ©ä¸åçè¡ä¸ºã\n\nclass bird {\n  //...\n  double getspeed() {\n    switch (type) {\n      case european:\n        return getbasespeed();\n      case african:\n        return getbasespeed() - getloadfactor() * numberofcoconuts;\n      case norwegian_blue:\n        return (isnailed) ? 0 : getbasespeed(voltage);\n    }\n    throw new runtimeexception("should be unreachable");\n  }\n}\n\n\nè§£å³\n\nå°è¿ä¸ªæ¡ä»¶è¡¨è¾¾å¼çæ¯ä¸ªåæ¯æ¾è¿ä¸ä¸ªå­ç±»åçè¦åå½æ°ä¸­ï¼ç¶åå°åå§å½æ°å£°æä¸ºæ½è±¡å½æ°ã\n\nabstract class bird {\n  //...\n  abstract double getspeed();\n}\n\nclass european extends bird {\n  double getspeed() {\n    return getbasespeed();\n  }\n}\nclass african extends bird {\n  double getspeed() {\n    return getbasespeed() - getloadfactor() * numberofcoconuts;\n  }\n}\nclass norwegianblue extends bird {\n  double getspeed() {\n    return (isnailed) ? 0 : getbasespeed(voltage);\n  }\n}\n\n// somewhere in client code\nspeed = bird.getspeed();\n\n\n# ä»¥æç¡®å½æ°åä»£åæ°(replace parameter with explicit methods)\n\né®é¢\n\nä½ æä¸ä¸ªå½æ°ï¼å¶ä¸­å®å¨åå³äºåæ°å¼èéåä¸åçè¡ä¸ºã\n\nvoid setvalue(string name, int value) {\n  if (name.equals("height")) {\n    height = value;\n    return;\n  }\n  if (name.equals("width")) {\n    width = value;\n    return;\n  }\n  assert.shouldneverreachhere();\n}\n\n\nè§£å³\n\néå¯¹è¯¥åæ°çæ¯ä¸ä¸ªå¯è½å¼ï¼å»ºç«ä¸ä¸ªç¬ç«å½æ°ã\n\nvoid setheight(int arg) {\n  height = arg;\n}\nvoid setwidth(int arg) {\n  width = arg;\n}\n\n\n# å¼å¥ null å¯¹è±¡(introduce null object)\n\né®é¢\n\nä½ éè¦åä¸æ£æ¥æå¯¹è±¡æ¯å¦ä¸º nullã\n\nif (customer == null) {\n  plan = billingplan.basic();\n}\nelse {\n  plan = customer.getplan();\n}\n\n\nè§£å³\n\nå° null å¼æ¿æ¢ä¸º null å¯¹è±¡ã\n\nclass nullcustomer extends customer {\n  plan getplan() {\n    return new nullplan();\n  }\n  // some other null functionality.\n}\n\n// replace null values with null-object.\ncustomer = (order.customer != null) ? order.customer : new nullcustomer();\n\n// use null-object as if it\'s normal subclass.\nplan = customer.getplan();\n\n\n\n# ä¸´æ¶å­æ®µ\n\n> ä¸´æ¶å­æ®µ(temporary field)çå¼åªå¨ç¹å®ç¯å¢ä¸ææä¹ï¼ç¦»å¼è¿ä¸ªç¯å¢ï¼å®ä»¬å°±ä»ä¹ä¹ä¸æ¯äºã\n\n\n\n\n# é®é¢åå \n\nææ¶ä½ ä¼çå°è¿æ ·çå¯¹è±¡ï¼å¶åæä¸ªå®ä¾åéä»ä¸ºæç§ç¹å®æåµèè®¾ãè¿æ ·çä»£ç è®©äººä¸æçè§£ï¼å ä¸ºä½ éå¸¸è®¤ä¸ºå¯¹è±¡å¨æææ¶åé½éè¦å®çææåéãå¨åéæªè¢«ä½¿ç¨çæåµä¸çæµå½åè®¾ç½®ç®çï¼ä¼è®©ä½ åç¯ã éå¸¸ï¼ä¸´æ¶å­æ®µæ¯å¨æä¸ç®æ³éè¦å¤§éè¾å¥æ¶èåå»ºãå æ­¤ï¼ä¸ºäºé¿åå½æ°æè¿å¤åæ°ï¼ç¨åºåå³å®å¨ç±»ä¸­åå»ºè¿äºæ°æ®çä¸´æ¶å­æ®µãè¿äºä¸´æ¶å­æ®µä»ä»å¨ç®æ³ä¸­ä½¿ç¨ï¼å¶ä»æ¶åå´æ¯«æ ç¨å¤ã è¿ç§ä»£ç ä¸å¥½çè§£ãä½ æææ¥çå¯¹è±¡å­æ®µçæ°æ®ï¼ä½æ¯åºäºæç§åå ï¼å®ä»¬æ»æ¯ä¸ºç©ºã\n\n\n# è§£å³æ¹æ³\n\n * å¯ä»¥éè¿ æç¼ç±»(extract class) å°ä¸´æ¶å­æ®µåæä½å®ä»¬çææä»£ç æç¼å°ä¸ä¸ªåç¬çç±»ä¸­ãæ­¤å¤ï¼ä½ å¯ä»¥è¿ç¨ ä»¥å½æ°å¯¹è±¡åä»£å½æ°(replace method with method object) æ¥å®ç°åæ ·çç®çã\n * å¼å¥ null å¯¹è±¡(introduce null object) å¨âåéä¸åæ³âçæåµä¸åå»ºä¸ä¸ª null å¯¹è±¡ï¼ä»èé¿åååºæ¡ä»¶è¡¨è¾¾å¼ã\n\n\n\n\n# æ¶ç\n\n * æ´å¥½çä»£ç æ¸æ°åº¦åç»ç»æ§ã\n\n\n\n\n# éææ¹æ³è¯´æ\n\n# æç¼ç±»(extract class)\n\né®é¢\n\næä¸ªç±»åäºä¸æ­¢ä¸ä»¶äºã\n\n\n\nè§£å³\n\nå»ºç«ä¸ä¸ªæ°ç±»ï¼å°ç¸å³çå­æ®µåå½æ°ä»æ§ç±»æ¬ç§»å°æ°ç±»ã\n\n\n\n# ä»¥å½æ°å¯¹è±¡åä»£å½æ°(replace method with method object)\n\né®é¢\n\nä½ æä¸ä¸ªè¿é¿å½æ°ï¼å®çå±é¨åéäº¤ç»å¨ä¸èµ·ï¼ä»¥è´äºä½ æ æ³åºç¨æç¼å½æ°(extract method) ã\n\nclass order {\n  //...\n  public double price() {\n    double primarybaseprice;\n    double secondarybaseprice;\n    double tertiarybaseprice;\n    // long computation.\n    //...\n  }\n}\n\n\nè§£å³\n\nå°å½æ°ç§»å°ä¸ä¸ªç¬ç«çç±»ä¸­ï¼ä½¿å¾å±é¨åéæäºè¿ä¸ªç±»çå­æ®µãç¶åï¼ä½ å¯ä»¥å°å½æ°åå²æè¿ä¸ªç±»ä¸­çå¤ä¸ªå½æ°ã\n\nclass order {\n  //...\n  public double price() {\n    return new pricecalculator(this).compute();\n  }\n}\n\nclass pricecalculator {\n  private double primarybaseprice;\n  private double secondarybaseprice;\n  private double tertiarybaseprice;\n\n  public pricecalculator(order order) {\n    // copy relevant information from order object.\n    //...\n  }\n\n  public double compute() {\n    // long computation.\n    //...\n  }\n}\n\n\n# å¼å¥ null å¯¹è±¡(introduce null object)\n\né®é¢\n\nä½ éè¦åä¸æ£æ¥æå¯¹è±¡æ¯å¦ä¸º nullã\n\nif (customer == null) {\n  plan = billingplan.basic();\n}\nelse {\n  plan = customer.getplan();\n}\n\n\nè§£å³\n\nå° null å¼æ¿æ¢ä¸º null å¯¹è±¡ã\n\nclass nullcustomer extends customer {\n  plan getplan() {\n    return new nullplan();\n  }\n  // some other null functionality.\n}\n\n// replace null values with null-object.\ncustomer = (order.customer != null) ? order.customer : new nullcustomer();\n\n// use null-object as if it\'s normal subclass.\nplan = customer.getplan();\n\n\n\n# å¼æ²åå·¥çç±»\n\n> å¼æ²åå·¥çç±»(alternative classes with different interfaces)\n> \n> ä¸¤ä¸ªç±»ä¸­æçä¸åçå½æ°ï¼å´å¨åçåä¸ä»¶äºã\n\n\n\n\n# é®é¢åå \n\nè¿ç§æåµå¾å¾æ¯å ä¸ºï¼åå»ºè¿ä¸ªç±»çç¨åºåå¹¶ä¸ç¥éå·²ç»æå®ç°è¿ä¸ªåè½çç±»å­å¨äºã\n\n\n# è§£å³æ¹æ³\n\n * å¦æä¸¤ä¸ªå½æ°ååä¸ä»¶äºï¼å´æçä¸åçç­¾åï¼è¯·è¿ç¨ å½æ°æ¹å(rename method) æ ¹æ®å®ä»¬çç¨ééæ°å½åã\n * è¿ç¨ æ¬ç§»å½æ°(move method) ã æ·»å åæ°(add parameter) å ä»¤å½æ°æºå¸¦åæ°(parameterize method) æ¥ä½¿å¾æ¹æ³çåç§°åå®ç°ä¸è´ã\n * å¦æä¸¤ä¸ªç±»ä»æé¨ååè½æ¯éå¤çï¼å°è¯è¿ç¨ æç¼è¶ç±»(extract superclass) ãè¿ç§æåµä¸ï¼å·²å­å¨çç±»å°±æäºè¶ç±»ã\n * å½æç»éæ©å¹¶è¿ç¨æç§æ¹æ³æ¥éæåï¼ä¹è®¸ä½ å°±è½å é¤å¶ä¸­ä¸ä¸ªç±»äºã\n\n\n# æ¶ç\n\n * æ¶é¤äºä¸å¿è¦çéå¤ä»£ç ï¼ä¸ºä»£ç ç¦èº«äºã\n * ä»£ç æ´æè¯»ï¼ä¸åéè¦çæµä¸ºä»ä¹è¦æä¸¤ä¸ªåè½ç¸åçç±»ï¼ã\n\n\n\n\n# ä½æ¶å¿½ç¥\n\n * ææ¶åå¹¶ç±»æ¯ä¸å¯è½çï¼æèæ¯å¦æ­¤å°é¾ä»¥è³äºæ²¡ææä¹ãä¾å¦ï¼ä¸¤ä¸ªåè½ç¸ä¼¼çç±»å­å¨äºä¸åç lib åºä¸­ã\n\n\n# éææ¹æ³è¯´æ\n\n# å½æ°æ¹å(rename method)\n\né®é¢\n\nå½æ°çåç§°æªè½æ°å½çæ­ç¤ºå½æ°çç¨éã\n\nclass person {\n  public string getsnm();\n}\n\n\nè§£å³\n\nä¿®æ¹å½æ°åã\n\nclass person {\n  public string getsecondname();\n}\n\n\n# æ¬ç§»å½æ°(move method)\n\né®é¢\n\nä½ çç¨åºä¸­ï¼æä¸ªå½æ°ä¸å¶æé©»ç±»ä¹å¤çå¦ä¸ä¸ªç±»è¿è¡æ´å¤äº¤æµï¼è°ç¨åèï¼æè¢«åèè°ç¨ã\n\n\n\nè§£å³\n\nå¨è¯¥å½æ°æå¸¸å¼ç¨çç±»ä¸­å»ºç«ä¸ä¸ªæçç±»ä¼¼è¡ä¸ºçæ°å½æ°ãå°æ§å½æ°åæä¸ä¸ªåçº¯çå§æå½æ°ï¼ææ¯æ§å½æ°å®å¨ç§»é¤ã\n\n\n\n# æ·»å åæ°(add parameter)\n\né®é¢ æä¸ªå½æ°éè¦ä»è°ç¨ç«¯å¾å°æ´å¤ä¿¡æ¯ã\n\nclass customer {\n  public contact getcontact();\n}\n\n\nè§£å³ ä¸ºæ­¤å½æ°æ·»å ä¸ä¸ªå¯¹è±¡å½æ°ï¼è®©æ¹å¯¹è±¡å¸¦è¿å½æ°æéä¿¡æ¯ã\n\nclass customer {\n  public contact getcontact(date date);\n}\n\n\n# ä»¤å½æ°æºå¸¦åæ°(parameterize method)\n\né®é¢\n\nè¥å¹²å½æ°åäºç±»ä¼¼çå·¥ä½ï¼ä½å¨å½æ°æ¬ä½ä¸­å´åå«äºä¸åçå¼ã\n\nè§£å³\n\nå»ºç«åä¸å½æ°ï¼ä»¥åæ°è¡¨è¾¾åªäºä¸åçå¼ã\n\n\n\n# æç¼è¶ç±»(extract superclass)\n\né®é¢\n\nä¸¤ä¸ªç±»æç¸ä¼¼ç¹æ§ã\n\n\n\nè§£å³\n\nä¸ºè¿ä¸¤ä¸ªç±»å»ºç«ä¸ä¸ªè¶ç±»ï¼å°ç¸åç¹æ§ç§»è³è¶ç±»ã\n\n\n\n\n# è¢«æç»çé¦èµ \n\n> è¢«æç»çé¦èµ (refused bequest)\n> \n> å­ç±»ä»ä»ä½¿ç¨ç¶ç±»ä¸­çé¨åæ¹æ³åå±æ§ãå¶ä»æ¥èªç¶ç±»çé¦èµ æä¸ºäºç´¯èµã\n\n\n\n\n# é®é¢åå \n\næäºäººä»ä»æ¯æ³éç¨è¶ç±»ä¸­çé¨åä»£ç èåå»ºäºå­ç±»ãä½å®éä¸è¶ç±»åå­ç±»å®å¨ä¸åã\n\n\n# è§£å³æ¹æ³\n\n * å¦æç»§æ¿æ²¡ææä¹å¹¶ä¸å­ç±»åç¶ç±»ä¹é´ç¡®å®æ²¡æå±åç¹ï¼å¯ä»¥è¿ç¨ ä»¥å§æåä»£ç»§æ¿(replace inheritance with delegation) æ¶é¤ç»§æ¿ã\n * å¦æç»§æ¿æ¯éå½çï¼åå»é¤å­ç±»ä¸­ä¸éè¦çå­æ®µåæ¹æ³ãè¿ç¨ æç¼è¶ç±»(extract superclass) å°ææè¶ç±»ä¸­å¯¹äºå­ç±»æç¨çå­æ®µåå½æ°æååºæ¥ï¼ç½®å¥ä¸ä¸ªæ°çè¶ç±»ä¸­ï¼ç¶åè®©ä¸¤ä¸ªç±»é½ç»§æ¿èªå®ã\n\n\n\n\n# æ¶ç\n\n * æé«ä»£ç çæ¸æ°åº¦åç»ç»æ§ã\n\n\n\n\n# éææ¹æ³è¯´æ\n\n# ä»¥å§æåä»£ç»§æ¿(replace inheritance with delegation)\n\né®é¢\n\næä¸ªå­ç±»åªä½¿ç¨è¶ç±»æ¥å£ä¸­çä¸é¨åï¼ææ¯æ ¹æ¬ä¸éè¦ç»§æ¿èæ¥çæ°æ®ã\n\n\n\nè§£å³\n\n 1. å¨å­ç±»ä¸­æ°å»ºä¸ä¸ªå­æ®µç¨ä»¥ä¿å­è¶ç±»ï¼\n 2. è°æ´å­ç±»å½æ°ï¼ä»¤å®æ¹èå§æè¶ç±»ï¼\n 3. ç¶åå»æä¸¤èä¹é´çç»§æ¿å³ç³»ã\n\n\n\n# æç¼è¶ç±»(extract superclass)\n\né®é¢\n\nä¸¤ä¸ªç±»æç¸ä¼¼ç¹æ§ã\n\n\n\nè§£å³\n\nä¸ºè¿ä¸¤ä¸ªç±»å»ºç«ä¸ä¸ªè¶ç±»ï¼å°ç¸åç¹æ§ç§»è³è¶ç±»ã\n\n\n\n\n# æ©å±éè¯»\n\n * ä»£ç çåå³éåéæ\n * ä»£ç åå³éä¹ä»£ç èè¿\n * ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡\n * ä»£ç åå³éä¹åé©çéç¢\n * ä»£ç åå³éä¹éå¿è¦ç\n * ä»£ç åå³éä¹è¦å\n\n\n# åèèµæ\n\n * ãä»£ç æ´æ´ä¹éã\n * ãéæ - æ¹åæ¢æä»£ç çè®¾è®¡ã\n * ãä»£ç å¤§å¨ã\n * https://sourcemaking.com/refactoring',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"ä»£ç åå³éä¹åé©çéç¢",frontmatter:{title:"ä»£ç åå³éä¹åé©çéç¢",date:"2018-10-13T22:48:00.000Z",categories:["è®¾è®¡","éæ"],tags:["è®¾è®¡","éæ","ä»£ç çåå³é"],permalink:"/pages/56ca63/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/03.%E9%87%8D%E6%9E%84/04.%E4%BB%A3%E7%A0%81%E5%9D%8F%E5%91%B3%E9%81%93%E4%B9%8B%E5%8F%98%E9%9D%A9%E7%9A%84%E9%9A%9C%E7%A2%8D.html",relativePath:"03.è®¾è®¡/03.éæ/04.ä»£ç åå³éä¹åé©çéç¢.md",key:"v-38d3c9ce",path:"/pages/56ca63/",headers:[{level:2,title:"åæ£å¼åå",slug:"åæ£å¼åå",normalizedTitle:"åæ£å¼åå",charIndex:154},{level:3,title:"ç¹å¾",slug:"ç¹å¾",normalizedTitle:"ç¹å¾",charIndex:307},{level:3,title:"é®é¢åå ",slug:"é®é¢åå ",normalizedTitle:"é®é¢åå ",charIndex:391},{level:3,title:"è§£å³åæ³",slug:"è§£å³åæ³",normalizedTitle:"è§£å³åæ³",charIndex:435},{level:3,title:"æ¶ç",slug:"æ¶ç",normalizedTitle:"æ¶ç",charIndex:478},{level:3,title:"éææ¹æ³è¯´æ",slug:"éææ¹æ³è¯´æ",normalizedTitle:"éææ¹æ³è¯´æ",charIndex:508},{level:4,title:"æç¼ç±»(Extract Class)",slug:"æç¼ç±»-extract-class",normalizedTitle:"æç¼ç±»(extract class)",charIndex:447},{level:2,title:"å¹³è¡ç»§æ¿ä½ç³»",slug:"å¹³è¡ç»§æ¿ä½ç³»",normalizedTitle:"å¹³è¡ç»§æ¿ä½ç³»",charIndex:593},{level:3,title:"ç¹å¾",slug:"ç¹å¾-2",normalizedTitle:"ç¹å¾",charIndex:307},{level:3,title:"é®é¢åå ",slug:"é®é¢åå -2",normalizedTitle:"é®é¢åå ",charIndex:391},{level:3,title:"è§£å³æ¹æ³",slug:"è§£å³æ¹æ³",normalizedTitle:"è§£å³æ¹æ³",charIndex:804},{level:3,title:"æ¶ç",slug:"æ¶ç-2",normalizedTitle:"æ¶ç",charIndex:478},{level:3,title:"ä½æ¶å¿½ç¥",slug:"ä½æ¶å¿½ç¥",normalizedTitle:"ä½æ¶å¿½ç¥",charIndex:936},{level:3,title:"éææ¹æ³è¯´æ",slug:"éææ¹æ³è¯´æ-2",normalizedTitle:"éææ¹æ³è¯´æ",charIndex:508},{level:4,title:"æ¬ç§»å½æ°(Move Method)",slug:"æ¬ç§»å½æ°-move-method",normalizedTitle:"æ¬ç§»å½æ°(move method)",charIndex:851},{level:4,title:"æ¬ç§»å­æ®µ(Move Field)",slug:"æ¬ç§»å­æ®µ-move-field",normalizedTitle:"æ¬ç§»å­æ®µ(move field)",charIndex:871},{level:2,title:"é°å¼¹å¼ä¿®æ¹",slug:"é°å¼¹å¼ä¿®æ¹",normalizedTitle:"é°å¼¹å¼ä¿®æ¹",charIndex:191},{level:3,title:"ç¹å¾",slug:"ç¹å¾-3",normalizedTitle:"ç¹å¾",charIndex:307},{level:3,title:"é®é¢åå ",slug:"é®é¢åå -3",normalizedTitle:"é®é¢åå ",charIndex:391},{level:3,title:"è§£å³æ¹æ³",slug:"è§£å³æ¹æ³-2",normalizedTitle:"è§£å³æ¹æ³",charIndex:804},{level:3,title:"æ¶ç",slug:"æ¶ç-3",normalizedTitle:"æ¶ç",charIndex:478},{level:3,title:"éææ¹æ³è¯´æ",slug:"éææ¹æ³è¯´æ-3",normalizedTitle:"éææ¹æ³è¯´æ",charIndex:508},{level:4,title:"æ¬ç§»å½æ°(Move Method)",slug:"æ¬ç§»å½æ°-move-method-2",normalizedTitle:"æ¬ç§»å½æ°(move method)",charIndex:851},{level:4,title:"æ¬ç§»å­æ®µ(Move Field)",slug:"æ¬ç§»å­æ®µ-move-field-2",normalizedTitle:"æ¬ç§»å­æ®µ(move field)",charIndex:871},{level:4,title:"å°ç±»åèå(Inline Class)",slug:"å°ç±»åèå-inline-class",normalizedTitle:"å°ç±»åèå(inline class)",charIndex:1573},{level:2,title:"æ©å±éè¯»",slug:"æ©å±éè¯»",normalizedTitle:"æ©å±éè¯»",charIndex:1966},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:2060}],headersStr:"åæ£å¼åå ç¹å¾ é®é¢åå  è§£å³åæ³ æ¶ç éææ¹æ³è¯´æ æç¼ç±»(Extract Class) å¹³è¡ç»§æ¿ä½ç³» ç¹å¾ é®é¢åå  è§£å³æ¹æ³ æ¶ç ä½æ¶å¿½ç¥ éææ¹æ³è¯´æ æ¬ç§»å½æ°(Move Method) æ¬ç§»å­æ®µ(Move Field) é°å¼¹å¼ä¿®æ¹ ç¹å¾ é®é¢åå  è§£å³æ¹æ³ æ¶ç éææ¹æ³è¯´æ æ¬ç§»å½æ°(Move Method) æ¬ç§»å­æ®µ(Move Field) å°ç±»åèå(Inline Class) æ©å±éè¯» åèèµæ",content:"> ç¿»è¯èªï¼https://sourcemaking.com/refactoring/smells/change-preventers\n> \n> åé©çéç¢(Change Preventers)è¿ç»åå³éæå³çï¼å½ä½ éè¦æ¹åä¸å¤ä»£ç æ¶ï¼å´åç°ä¸å¾ä¸æ¹åå¶ä»çå°æ¹ãè¿ä½¿å¾ç¨åºå¼ååå¾å¤æãä»£ä»·é«æã\n\n\n# åæ£å¼åå\n\n> åæ£å¼åå(Divergent Change) ç±»ä¼¼äº é°å¼¹å¼ä¿®æ¹(Shotgun Surgery) ï¼ä½å®éä¸å®å¨ä¸åãåæ£å¼åå(Divergent Change) æ¯æä¸ä¸ªç±»åå¤ç§ååçå½±åãé°å¼¹å¼ä¿®æ¹(Shotgun Surgery) æ¯æå¤ç§ååå¼åå¤ä¸ªç±»ç¸åºçä¿®æ¹ã\n\n\n# ç¹å¾\n\nä½ åç°ä½ æ³è¦ä¿®æ¹ä¸ä¸ªå½æ°ï¼å´å¿é¡»è¦åæ¶ä¿®æ¹è®¸å¤ä¸ç¸å³çå½æ°ãä¾å¦ï¼å½ä½ æ³è¦æ·»å ä¸ä¸ªæ°çäº§åç±»åæ¶ï¼ä½ éè¦åæ­¥ä¿®æ¹å¯¹äº§åè¿è¡æ¥æ¾ãæ¾ç¤ºãæåºçå½æ°ã\n\n\n\n\n# é®é¢åå \n\néå¸¸ï¼è¿ç§åæ£å¼ä¿®æ¹æ¯ç±äºç¼ç¨ç»æä¸åçæèâå¤å¶-ç²è´´å¼ç¼ç¨âã\n\n\n# è§£å³åæ³\n\n * è¿ç¨ æç¼ç±»(Extract Class) æåç±»çè¡ä¸ºã\n\n\n# æ¶ç\n\n * æé«ä»£ç ç»ç»ç»æ\n * åå°éå¤ä»£ç \n\n\n# éææ¹æ³è¯´æ\n\n# æç¼ç±»(Extract Class)\n\né®é¢\n\næä¸ªç±»åäºä¸æ­¢ä¸ä»¶äºã\n\n\n\nè§£å³\n\nå»ºç«ä¸ä¸ªæ°ç±»ï¼å°ç¸å³çå­æ®µåå½æ°ä»æ§ç±»æ¬ç§»å°æ°ç±»ã\n\n\n\n\n# å¹³è¡ç»§æ¿ä½ç³»\n\n> å¹³è¡ç»§æ¿ä½ç³»(Parallel Inheritance Hierarchies) å¶å®æ¯ é°å¼¹å¼ä¿®æ¹(Shotgun Surgery) çç¹æ®æåµã\n\n\n# ç¹å¾\n\næ¯å½ä½ ä¸ºæä¸ªç±»æ·»å ä¸ä¸ªå­ç±»ï¼å¿é¡»åæ¶ä¸ºå¦ä¸ä¸ªç±»ç¸åºæ·»å ä¸ä¸ªå­ç±»ãè¿ç§æåµçå¸åç¹å¾æ¯ï¼æä¸ªç»§æ¿ä½ç³»çç±»ååç¼æç±»ååç¼å®å¨ç¸åã\n\n\n\n\n# é®é¢åå \n\nèµ·åçç»§æ¿ä½ç³»å¾å°ï¼éçä¸æ­æ·»å æ°ç±»ï¼ç»§æ¿ä½ç³»è¶æ¥è¶å¤§ï¼ä¹è¶æ¥è¶é¾ä¿®æ¹ã\n\n\n# è§£å³æ¹æ³\n\n * ä¸è¬ç­ç¥æ¯ï¼è®©ä¸ä¸ªç»§æ¿ä½ç³»çå®ä¾å¼ç¨å¦ä¸ä¸ªç»§æ¿ä½ç³»çå®ä¾ãå¦æåæ¥ååè¿ç¨ æ¬ç§»å½æ°(Move Method) å æ¬ç§»å­æ®µ(Move Field)ï¼å°±å¯ä»¥æ¶é¤å¼ç¨ç«¯çç»§æ¿ä½ç³»ã\n\n\n# æ¶ç\n\n * æ´å¥½çä»£ç ç»ç»\n * åå°éå¤ä»£ç \n\n\n# ä½æ¶å¿½ç¥\n\n * ææ¶å·æå¹¶è¡ç±»å±æ¬¡ç»æåªæ¯ä¸ç§ä¸ºäºé¿åç¨åºä½ç³»ç»ææ´æ··ä¹±çæ¹æ³ãå¦æä½ åç°å°è¯æ¶é¤å¹³è¡ç»§æ¿ä½ç³»å¯¼è´ä»£ç æ´å ä¸éï¼é£ä¹ä½ åºè¯¥åæ»ä½ çä¿®æ¹ã\n\n\n# éææ¹æ³è¯´æ\n\n# æ¬ç§»å½æ°(Move Method)\n\né®é¢\n\nä½ çç¨åºä¸­ï¼æä¸ªå½æ°ä¸å¶æé©»ç±»ä¹å¤çå¦ä¸ä¸ªç±»è¿è¡æ´å¤äº¤æµï¼è°ç¨åèï¼æè¢«åèè°ç¨ã\n\n\n\nè§£å³\n\nå¨è¯¥å½æ°æå¸¸å¼ç¨çç±»ä¸­å»ºç«ä¸ä¸ªæçç±»ä¼¼è¡ä¸ºçæ°å½æ°ãå°æ§å½æ°åæä¸ä¸ªåçº¯çå§æå½æ°ï¼ææ¯æ§å½æ°å®å¨ç§»é¤ã\n\n\n\n# æ¬ç§»å­æ®µ(Move Field)\n\né®é¢\n\nå¨ä½ çç¨åºä¸­ï¼æä¸ªå­æ®µè¢«å¶æé©»ç±»ä¹å¤çå¦ä¸ä¸ªç±»æ´å¤å°ç¨å°ã\n\n\n\nè§£å³\n\nå¨ç®æ ç±»æ°å»ºä¸ä¸ªå­æ®µï¼ä¿®æ¹æºå­æ®µçææç¨æ·ï¼ä»¤ä»ä»¬æ¹ç¨æ°å­æ®µã\n\n\n\n\n# é°å¼¹å¼ä¿®æ¹\n\n> é°å¼¹å¼ä¿®æ¹(Shotgun Surgery) ç±»ä¼¼äº åæ£å¼åå(Divergent Change) ï¼ä½å®éä¸å®å¨ä¸åãåæ£å¼åå(Divergent Change) æ¯æä¸ä¸ªç±»åå¤ç§ååçå½±åãé°å¼¹å¼ä¿®æ¹(Shotgun Surgery) æ¯æå¤ç§ååå¼åå¤ä¸ªç±»ç¸åºçä¿®æ¹ã\n\n\n# ç¹å¾\n\nä»»ä½ä¿®æ¹é½éè¦å¨è®¸å¤ä¸åç±»ä¸åå°å¹åº¦ä¿®æ¹ã\n\n\n\n\n# é®é¢åå \n\nä¸ä¸ªåä¸çèè´£è¢«æåæå¤§éçç±»ã\n\n\n# è§£å³æ¹æ³\n\n * è¿ç¨æ¬ç§»å½æ°(Move Method) å æ¬ç§»å­æ®µ(Move Field) æ¥æ¬ç§»ä¸åç±»ä¸­ç¸åçè¡ä¸ºå°ä¸ä¸ªç¬ç«ç±»ä¸­ãå¦ææ²¡æéåå­æ¾æ¬ç§»å½æ°æå­æ®µçç±»ï¼å°±åå»ºä¸ä¸ªæ°ç±»ã\n * éå¸¸ï¼å¯ä»¥è¿ç¨ å°ç±»åèå(Inline Class) å°ä¸äºåç¸å³è¡ä¸ºæ¾è¿åä¸ä¸ªç±»ã\n\n\n\n\n# æ¶ç\n\n * æ´å¥½çä»£ç ç»ç»\n * åå°éå¤ä»£ç \n * æ´æç»´æ¤\n\n\n\n\n# éææ¹æ³è¯´æ\n\n# æ¬ç§»å½æ°(Move Method)\n\né®é¢\n\nä½ çç¨åºä¸­ï¼æä¸ªå½æ°ä¸å¶æé©»ç±»ä¹å¤çå¦ä¸ä¸ªç±»è¿è¡æ´å¤äº¤æµï¼è°ç¨åèï¼æè¢«åèè°ç¨ã\n\n\n\nè§£å³\n\nå¨è¯¥å½æ°æå¸¸å¼ç¨çç±»ä¸­å»ºç«ä¸ä¸ªæçç±»ä¼¼è¡ä¸ºçæ°å½æ°ãå°æ§å½æ°åæä¸ä¸ªåçº¯çå§æå½æ°ï¼ææ¯æ§å½æ°å®å¨ç§»é¤ã\n\n\n\n# æ¬ç§»å­æ®µ(Move Field)\n\né®é¢\n\nå¨ä½ çç¨åºä¸­ï¼æä¸ªå­æ®µè¢«å¶æé©»ç±»ä¹å¤çå¦ä¸ä¸ªç±»æ´å¤å°ç¨å°ã\n\n\n\nè§£å³\n\nå¨ç®æ ç±»æ°å»ºä¸ä¸ªå­æ®µï¼ä¿®æ¹æºå­æ®µçææç¨æ·ï¼ä»¤ä»ä»¬æ¹ç¨æ°å­æ®µã\n\n\n\n# å°ç±»åèå(Inline Class)\n\né®é¢\n\næä¸ªç±»æ²¡æåå¤ªå¤äºæã\n\n\n\nè§£å³\n\nå°è¿ä¸ªç±»çææç¹æ§æ¬ç§»å°å¦ä¸ä¸ªç±»ä¸­ï¼ç¶åç§»é¤åç±»ã\n\n\n\n\n# æ©å±éè¯»\n\n * ä»£ç çåå³éåéæ\n * ä»£ç åå³éä¹ä»£ç èè¿\n * ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡\n * ä»£ç åå³éä¹åé©çéç¢\n * ä»£ç åå³éä¹éå¿è¦ç\n * ä»£ç åå³éä¹è¦å\n\n\n# åèèµæ\n\n * ãä»£ç æ´æ´ä¹éã\n * ãéæ - æ¹åæ¢æä»£ç çè®¾è®¡ã\n * ãä»£ç å¤§å¨ã\n * https://sourcemaking.com/refactoring",normalizedContent:"> ç¿»è¯èªï¼https://sourcemaking.com/refactoring/smells/change-preventers\n> \n> åé©çéç¢(change preventers)è¿ç»åå³éæå³çï¼å½ä½ éè¦æ¹åä¸å¤ä»£ç æ¶ï¼å´åç°ä¸å¾ä¸æ¹åå¶ä»çå°æ¹ãè¿ä½¿å¾ç¨åºå¼ååå¾å¤æãä»£ä»·é«æã\n\n\n# åæ£å¼åå\n\n> åæ£å¼åå(divergent change) ç±»ä¼¼äº é°å¼¹å¼ä¿®æ¹(shotgun surgery) ï¼ä½å®éä¸å®å¨ä¸åãåæ£å¼åå(divergent change) æ¯æä¸ä¸ªç±»åå¤ç§ååçå½±åãé°å¼¹å¼ä¿®æ¹(shotgun surgery) æ¯æå¤ç§ååå¼åå¤ä¸ªç±»ç¸åºçä¿®æ¹ã\n\n\n# ç¹å¾\n\nä½ åç°ä½ æ³è¦ä¿®æ¹ä¸ä¸ªå½æ°ï¼å´å¿é¡»è¦åæ¶ä¿®æ¹è®¸å¤ä¸ç¸å³çå½æ°ãä¾å¦ï¼å½ä½ æ³è¦æ·»å ä¸ä¸ªæ°çäº§åç±»åæ¶ï¼ä½ éè¦åæ­¥ä¿®æ¹å¯¹äº§åè¿è¡æ¥æ¾ãæ¾ç¤ºãæåºçå½æ°ã\n\n\n\n\n# é®é¢åå \n\néå¸¸ï¼è¿ç§åæ£å¼ä¿®æ¹æ¯ç±äºç¼ç¨ç»æä¸åçæèâå¤å¶-ç²è´´å¼ç¼ç¨âã\n\n\n# è§£å³åæ³\n\n * è¿ç¨ æç¼ç±»(extract class) æåç±»çè¡ä¸ºã\n\n\n# æ¶ç\n\n * æé«ä»£ç ç»ç»ç»æ\n * åå°éå¤ä»£ç \n\n\n# éææ¹æ³è¯´æ\n\n# æç¼ç±»(extract class)\n\né®é¢\n\næä¸ªç±»åäºä¸æ­¢ä¸ä»¶äºã\n\n\n\nè§£å³\n\nå»ºç«ä¸ä¸ªæ°ç±»ï¼å°ç¸å³çå­æ®µåå½æ°ä»æ§ç±»æ¬ç§»å°æ°ç±»ã\n\n\n\n\n# å¹³è¡ç»§æ¿ä½ç³»\n\n> å¹³è¡ç»§æ¿ä½ç³»(parallel inheritance hierarchies) å¶å®æ¯ é°å¼¹å¼ä¿®æ¹(shotgun surgery) çç¹æ®æåµã\n\n\n# ç¹å¾\n\næ¯å½ä½ ä¸ºæä¸ªç±»æ·»å ä¸ä¸ªå­ç±»ï¼å¿é¡»åæ¶ä¸ºå¦ä¸ä¸ªç±»ç¸åºæ·»å ä¸ä¸ªå­ç±»ãè¿ç§æåµçå¸åç¹å¾æ¯ï¼æä¸ªç»§æ¿ä½ç³»çç±»ååç¼æç±»ååç¼å®å¨ç¸åã\n\n\n\n\n# é®é¢åå \n\nèµ·åçç»§æ¿ä½ç³»å¾å°ï¼éçä¸æ­æ·»å æ°ç±»ï¼ç»§æ¿ä½ç³»è¶æ¥è¶å¤§ï¼ä¹è¶æ¥è¶é¾ä¿®æ¹ã\n\n\n# è§£å³æ¹æ³\n\n * ä¸è¬ç­ç¥æ¯ï¼è®©ä¸ä¸ªç»§æ¿ä½ç³»çå®ä¾å¼ç¨å¦ä¸ä¸ªç»§æ¿ä½ç³»çå®ä¾ãå¦æåæ¥ååè¿ç¨ æ¬ç§»å½æ°(move method) å æ¬ç§»å­æ®µ(move field)ï¼å°±å¯ä»¥æ¶é¤å¼ç¨ç«¯çç»§æ¿ä½ç³»ã\n\n\n# æ¶ç\n\n * æ´å¥½çä»£ç ç»ç»\n * åå°éå¤ä»£ç \n\n\n# ä½æ¶å¿½ç¥\n\n * ææ¶å·æå¹¶è¡ç±»å±æ¬¡ç»æåªæ¯ä¸ç§ä¸ºäºé¿åç¨åºä½ç³»ç»ææ´æ··ä¹±çæ¹æ³ãå¦æä½ åç°å°è¯æ¶é¤å¹³è¡ç»§æ¿ä½ç³»å¯¼è´ä»£ç æ´å ä¸éï¼é£ä¹ä½ åºè¯¥åæ»ä½ çä¿®æ¹ã\n\n\n# éææ¹æ³è¯´æ\n\n# æ¬ç§»å½æ°(move method)\n\né®é¢\n\nä½ çç¨åºä¸­ï¼æä¸ªå½æ°ä¸å¶æé©»ç±»ä¹å¤çå¦ä¸ä¸ªç±»è¿è¡æ´å¤äº¤æµï¼è°ç¨åèï¼æè¢«åèè°ç¨ã\n\n\n\nè§£å³\n\nå¨è¯¥å½æ°æå¸¸å¼ç¨çç±»ä¸­å»ºç«ä¸ä¸ªæçç±»ä¼¼è¡ä¸ºçæ°å½æ°ãå°æ§å½æ°åæä¸ä¸ªåçº¯çå§æå½æ°ï¼ææ¯æ§å½æ°å®å¨ç§»é¤ã\n\n\n\n# æ¬ç§»å­æ®µ(move field)\n\né®é¢\n\nå¨ä½ çç¨åºä¸­ï¼æä¸ªå­æ®µè¢«å¶æé©»ç±»ä¹å¤çå¦ä¸ä¸ªç±»æ´å¤å°ç¨å°ã\n\n\n\nè§£å³\n\nå¨ç®æ ç±»æ°å»ºä¸ä¸ªå­æ®µï¼ä¿®æ¹æºå­æ®µçææç¨æ·ï¼ä»¤ä»ä»¬æ¹ç¨æ°å­æ®µã\n\n\n\n\n# é°å¼¹å¼ä¿®æ¹\n\n> é°å¼¹å¼ä¿®æ¹(shotgun surgery) ç±»ä¼¼äº åæ£å¼åå(divergent change) ï¼ä½å®éä¸å®å¨ä¸åãåæ£å¼åå(divergent change) æ¯æä¸ä¸ªç±»åå¤ç§ååçå½±åãé°å¼¹å¼ä¿®æ¹(shotgun surgery) æ¯æå¤ç§ååå¼åå¤ä¸ªç±»ç¸åºçä¿®æ¹ã\n\n\n# ç¹å¾\n\nä»»ä½ä¿®æ¹é½éè¦å¨è®¸å¤ä¸åç±»ä¸åå°å¹åº¦ä¿®æ¹ã\n\n\n\n\n# é®é¢åå \n\nä¸ä¸ªåä¸çèè´£è¢«æåæå¤§éçç±»ã\n\n\n# è§£å³æ¹æ³\n\n * è¿ç¨æ¬ç§»å½æ°(move method) å æ¬ç§»å­æ®µ(move field) æ¥æ¬ç§»ä¸åç±»ä¸­ç¸åçè¡ä¸ºå°ä¸ä¸ªç¬ç«ç±»ä¸­ãå¦ææ²¡æéåå­æ¾æ¬ç§»å½æ°æå­æ®µçç±»ï¼å°±åå»ºä¸ä¸ªæ°ç±»ã\n * éå¸¸ï¼å¯ä»¥è¿ç¨ å°ç±»åèå(inline class) å°ä¸äºåç¸å³è¡ä¸ºæ¾è¿åä¸ä¸ªç±»ã\n\n\n\n\n# æ¶ç\n\n * æ´å¥½çä»£ç ç»ç»\n * åå°éå¤ä»£ç \n * æ´æç»´æ¤\n\n\n\n\n# éææ¹æ³è¯´æ\n\n# æ¬ç§»å½æ°(move method)\n\né®é¢\n\nä½ çç¨åºä¸­ï¼æä¸ªå½æ°ä¸å¶æé©»ç±»ä¹å¤çå¦ä¸ä¸ªç±»è¿è¡æ´å¤äº¤æµï¼è°ç¨åèï¼æè¢«åèè°ç¨ã\n\n\n\nè§£å³\n\nå¨è¯¥å½æ°æå¸¸å¼ç¨çç±»ä¸­å»ºç«ä¸ä¸ªæçç±»ä¼¼è¡ä¸ºçæ°å½æ°ãå°æ§å½æ°åæä¸ä¸ªåçº¯çå§æå½æ°ï¼ææ¯æ§å½æ°å®å¨ç§»é¤ã\n\n\n\n# æ¬ç§»å­æ®µ(move field)\n\né®é¢\n\nå¨ä½ çç¨åºä¸­ï¼æä¸ªå­æ®µè¢«å¶æé©»ç±»ä¹å¤çå¦ä¸ä¸ªç±»æ´å¤å°ç¨å°ã\n\n\n\nè§£å³\n\nå¨ç®æ ç±»æ°å»ºä¸ä¸ªå­æ®µï¼ä¿®æ¹æºå­æ®µçææç¨æ·ï¼ä»¤ä»ä»¬æ¹ç¨æ°å­æ®µã\n\n\n\n# å°ç±»åèå(inline class)\n\né®é¢\n\næä¸ªç±»æ²¡æåå¤ªå¤äºæã\n\n\n\nè§£å³\n\nå°è¿ä¸ªç±»çææç¹æ§æ¬ç§»å°å¦ä¸ä¸ªç±»ä¸­ï¼ç¶åç§»é¤åç±»ã\n\n\n\n\n# æ©å±éè¯»\n\n * ä»£ç çåå³éåéæ\n * ä»£ç åå³éä¹ä»£ç èè¿\n * ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡\n * ä»£ç åå³éä¹åé©çéç¢\n * ä»£ç åå³éä¹éå¿è¦ç\n * ä»£ç åå³éä¹è¦å\n\n\n# åèèµæ\n\n * ãä»£ç æ´æ´ä¹éã\n * ãéæ - æ¹åæ¢æä»£ç çè®¾è®¡ã\n * ãä»£ç å¤§å¨ã\n * https://sourcemaking.com/refactoring",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"ä»£ç åå³éä¹éå¿è¦ç",frontmatter:{title:"ä»£ç åå³éä¹éå¿è¦ç",date:"2018-10-13T22:48:00.000Z",categories:["è®¾è®¡","éæ"],tags:["è®¾è®¡","éæ","ä»£ç çåå³é"],permalink:"/pages/47acb5/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/03.%E9%87%8D%E6%9E%84/05.%E4%BB%A3%E7%A0%81%E5%9D%8F%E5%91%B3%E9%81%93%E4%B9%8B%E9%9D%9E%E5%BF%85%E8%A6%81%E7%9A%84.html",relativePath:"03.è®¾è®¡/03.éæ/05.ä»£ç åå³éä¹éå¿è¦ç.md",key:"v-5d9b4816",path:"/pages/47acb5/",headers:[{level:2,title:"åä½ç±»",slug:"åä½ç±»",normalizedTitle:"åä½ç±»",charIndex:130},{level:3,title:"é®é¢åå ",slug:"é®é¢åå ",normalizedTitle:"é®é¢åå ",charIndex:200},{level:3,title:"è§£å³æ¹æ³",slug:"è§£å³æ¹æ³",normalizedTitle:"è§£å³æ¹æ³",charIndex:283},{level:3,title:"æ¶ç",slug:"æ¶ç",normalizedTitle:"æ¶ç",charIndex:379},{level:3,title:"ä½æ¶å¿½ç¥",slug:"ä½æ¶å¿½ç¥",normalizedTitle:"ä½æ¶å¿½ç¥",charIndex:404},{level:3,title:"éææ¹æ³è¯´æ",slug:"éææ¹æ³è¯´æ",normalizedTitle:"éææ¹æ³è¯´æ",charIndex:465},{level:4,title:"å°ç±»åèå(Inline Class)",slug:"å°ç±»åèå-inline-class",normalizedTitle:"å°ç±»åèå(inline class)",charIndex:303},{level:4,title:"æå ç»§æ¿ä½ç³»(Collapse Hierarchy)",slug:"æå ç»§æ¿ä½ç³»-collapse-hierarchy",normalizedTitle:"æå ç»§æ¿ä½ç³»(collapse hierarchy)",charIndex:346},{level:2,title:"å¤¸å¤¸å¶è°æªæ¥æ§",slug:"å¤¸å¤¸å¶è°æªæ¥æ§",normalizedTitle:"å¤¸å¤¸å¶è°æªæ¥æ§",charIndex:618},{level:3,title:"é®é¢åå ",slug:"é®é¢åå -2",normalizedTitle:"é®é¢åå ",charIndex:200},{level:3,title:"è§£å³æ¹æ³",slug:"è§£å³æ¹æ³-2",normalizedTitle:"è§£å³æ¹æ³",charIndex:283},{level:3,title:"æ¶ç",slug:"æ¶ç-2",normalizedTitle:"æ¶ç",charIndex:379},{level:3,title:"ä½æ¶å¿½ç¥",slug:"ä½æ¶å¿½ç¥-2",normalizedTitle:"ä½æ¶å¿½ç¥",charIndex:404},{level:3,title:"éææ¹æ³è¯´æ",slug:"éææ¹æ³è¯´æ-2",normalizedTitle:"éææ¹æ³è¯´æ",charIndex:465},{level:4,title:"æå ç»§æ¿ä½ç³»(Collapse Hierarchy)",slug:"æå ç»§æ¿ä½ç³»-collapse-hierarchy-2",normalizedTitle:"æå ç»§æ¿ä½ç³»(collapse hierarchy)",charIndex:346},{level:4,title:"å°ç±»åèå(Inline Class)",slug:"å°ç±»åèå-inline-class-2",normalizedTitle:"å°ç±»åèå(inline class)",charIndex:303},{level:4,title:"åèå½æ°(Inline Method)",slug:"åèå½æ°-inline-method",normalizedTitle:"åèå½æ°(inline method)",charIndex:857},{level:4,title:"ç§»é¤åæ°(Remove Parameter)",slug:"ç§»é¤åæ°-remove-parameter",normalizedTitle:"ç§»é¤åæ°(remove parameter)",charIndex:898},{level:2,title:"çº¯ç¨çæ°æ®ç±»",slug:"çº¯ç¨çæ°æ®ç±»",normalizedTitle:"çº¯ç¨çæ°æ®ç±»",charIndex:1680},{level:3,title:"é®é¢åå ",slug:"é®é¢åå -3",normalizedTitle:"é®é¢åå ",charIndex:200},{level:3,title:"è§£å³æ¹æ³",slug:"è§£å³æ¹æ³-3",normalizedTitle:"è§£å³æ¹æ³",charIndex:283},{level:3,title:"æ¶ç",slug:"æ¶ç-3",normalizedTitle:"æ¶ç",charIndex:379},{level:3,title:"éææ¹æ³è¯´æ",slug:"éææ¹æ³è¯´æ-3",normalizedTitle:"éææ¹æ³è¯´æ",charIndex:465},{level:4,title:"å°è£å­æ®µ(Encapsulated Field)",slug:"å°è£å­æ®µ-encapsulated-field",normalizedTitle:"å°è£å­æ®µ(encapsulated field)",charIndex:1918},{level:4,title:"å°è£éå(Encapsulated Collection)",slug:"å°è£éå-encapsulated-collection",normalizedTitle:"å°è£éå(encapsulated collection)",charIndex:2001},{level:4,title:"æ¬ç§»å½æ°(Move Method)",slug:"æ¬ç§»å½æ°-move-method",normalizedTitle:"æ¬ç§»å½æ°(move method)",charIndex:2078},{level:4,title:"æç¼å½æ°(Extract Method)",slug:"æç¼å½æ°-extract-method",normalizedTitle:"æç¼å½æ°(extract method)",charIndex:2143},{level:4,title:"ç§»é¤è®¾ç½®å½æ°(Remove Setting Method)",slug:"ç§»é¤è®¾ç½®å½æ°-remove-setting-method",normalizedTitle:"ç§»é¤è®¾ç½®å½æ°(remove setting method)",charIndex:2240},{level:4,title:"éèå½æ°(Hide Method)",slug:"éèå½æ°-hide-method",normalizedTitle:"éèå½æ°(hide method)",charIndex:2272},{level:2,title:"è¿å¤çæ³¨é",slug:"è¿å¤çæ³¨é",normalizedTitle:"è¿å¤çæ³¨é",charIndex:3478},{level:3,title:"é®é¢åå ",slug:"é®é¢åå -4",normalizedTitle:"é®é¢åå ",charIndex:200},{level:3,title:"è§£å³æ¹æ³",slug:"è§£å³æ¹æ³-4",normalizedTitle:"è§£å³æ¹æ³",charIndex:283},{level:3,title:"æ¶ç",slug:"æ¶ç-4",normalizedTitle:"æ¶ç",charIndex:379},{level:3,title:"ä½æ¶å¿½ç¥",slug:"ä½æ¶å¿½ç¥-3",normalizedTitle:"ä½æ¶å¿½ç¥",charIndex:404},{level:3,title:"éææ¹æ³è¯´æ",slug:"éææ¹æ³è¯´æ-4",normalizedTitle:"éææ¹æ³è¯´æ",charIndex:465},{level:4,title:"æç¼åé(Extract Variable)",slug:"æç¼åé-extract-variable",normalizedTitle:"æç¼åé(extract variable)",charIndex:3734},{level:4,title:"æç¼å½æ°(Extract Method)",slug:"æç¼å½æ°-extract-method-2",normalizedTitle:"æç¼å½æ°(extract method)",charIndex:2143},{level:4,title:"å½æ°æ¹å(Rename Method)",slug:"å½æ°æ¹å-rename-method",normalizedTitle:"å½æ°æ¹å(rename method)",charIndex:3856},{level:4,title:"å¼å¥æ­è¨(Introduce Assertion)",slug:"å¼å¥æ­è¨-introduce-assertion",normalizedTitle:"å¼å¥æ­è¨(introduce assertion)",charIndex:3915},{level:2,title:"éå¤ä»£ç ",slug:"éå¤ä»£ç ",normalizedTitle:"éå¤ä»£ç ",charIndex:5785},{level:3,title:"é®é¢åå ",slug:"é®é¢åå -5",normalizedTitle:"é®é¢åå ",charIndex:200},{level:3,title:"è§£å³æ¹æ³",slug:"è§£å³æ¹æ³-5",normalizedTitle:"è§£å³æ¹æ³",charIndex:283},{level:3,title:"æ¶ç",slug:"æ¶ç-5",normalizedTitle:"æ¶ç",charIndex:379},{level:3,title:"éææ¹æ³è¯´æ",slug:"éææ¹æ³è¯´æ-5",normalizedTitle:"éææ¹æ³è¯´æ",charIndex:465},{level:4,title:"æç¼å½æ°(Extract Method)",slug:"æç¼å½æ°-extract-method-3",normalizedTitle:"æç¼å½æ°(extract method)",charIndex:2143},{level:4,title:"å½æ°ä¸ç§»(Pull Up Method)",slug:"å½æ°ä¸ç§»-pull-up-method",normalizedTitle:"å½æ°ä¸ç§»(pull up method)",charIndex:6239},{level:4,title:"æé å½æ°æ¬ä½ä¸ç§»(Pull Up Constructor Body)",slug:"æé å½æ°æ¬ä½ä¸ç§»-pull-up-constructor-body",normalizedTitle:"æé å½æ°æ¬ä½ä¸ç§»(pull up constructor body)",charIndex:6290},{level:4,title:"å¡é æ¨¡æ¿å½æ°(Form Template Method)",slug:"å¡é æ¨¡æ¿å½æ°-form-template-method",normalizedTitle:"å¡é æ¨¡æ¿å½æ°(form template method)",charIndex:6353},{level:4,title:"æ¿æ¢ç®æ³(Substitute Algorithm)",slug:"æ¿æ¢ç®æ³-substitute-algorithm",normalizedTitle:"æ¿æ¢ç®æ³(substitute algorithm)",charIndex:6454},{level:4,title:"æç¼è¶ç±»(Extract Superclass)",slug:"æç¼è¶ç±»-extract-superclass",normalizedTitle:"æç¼è¶ç±»(extract superclass)",charIndex:6526},{level:4,title:"æç¼ç±»(Extract Class)",slug:"æç¼ç±»-extract-class",normalizedTitle:"æç¼ç±»(extract class)",charIndex:6601},{level:4,title:"åå¹¶æ¡ä»¶è¡¨è¾¾å¼(Consolidate Conditional Expression)",slug:"åå¹¶æ¡ä»¶è¡¨è¾¾å¼-consolidate-conditional-expression",normalizedTitle:"åå¹¶æ¡ä»¶è¡¨è¾¾å¼(consolidate conditional expression)",charIndex:6685},{level:4,title:"åå¹¶éå¤çæ¡ä»¶çæ®µ(Consolidate Duplicate Conditional Fragments)",slug:"åå¹¶éå¤çæ¡ä»¶çæ®µ-consolidate-duplicate-conditional-fragments",normalizedTitle:"åå¹¶éå¤çæ¡ä»¶çæ®µ(consolidate duplicate conditional fragments)",charIndex:6821},{level:2,title:"æ©å±éè¯»",slug:"æ©å±éè¯»",normalizedTitle:"æ©å±éè¯»",charIndex:9568},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:9662}],headersStr:"åä½ç±» é®é¢åå  è§£å³æ¹æ³ æ¶ç ä½æ¶å¿½ç¥ éææ¹æ³è¯´æ å°ç±»åèå(Inline Class) æå ç»§æ¿ä½ç³»(Collapse Hierarchy) å¤¸å¤¸å¶è°æªæ¥æ§ é®é¢åå  è§£å³æ¹æ³ æ¶ç ä½æ¶å¿½ç¥ éææ¹æ³è¯´æ æå ç»§æ¿ä½ç³»(Collapse Hierarchy) å°ç±»åèå(Inline Class) åèå½æ°(Inline Method) ç§»é¤åæ°(Remove Parameter) çº¯ç¨çæ°æ®ç±» é®é¢åå  è§£å³æ¹æ³ æ¶ç éææ¹æ³è¯´æ å°è£å­æ®µ(Encapsulated Field) å°è£éå(Encapsulated Collection) æ¬ç§»å½æ°(Move Method) æç¼å½æ°(Extract Method) ç§»é¤è®¾ç½®å½æ°(Remove Setting Method) éèå½æ°(Hide Method) è¿å¤çæ³¨é é®é¢åå  è§£å³æ¹æ³ æ¶ç ä½æ¶å¿½ç¥ éææ¹æ³è¯´æ æç¼åé(Extract Variable) æç¼å½æ°(Extract Method) å½æ°æ¹å(Rename Method) å¼å¥æ­è¨(Introduce Assertion) éå¤ä»£ç  é®é¢åå  è§£å³æ¹æ³ æ¶ç éææ¹æ³è¯´æ æç¼å½æ°(Extract Method) å½æ°ä¸ç§»(Pull Up Method) æé å½æ°æ¬ä½ä¸ç§»(Pull Up Constructor Body) å¡é æ¨¡æ¿å½æ°(Form Template Method) æ¿æ¢ç®æ³(Substitute Algorithm) æç¼è¶ç±»(Extract Superclass) æç¼ç±»(Extract Class) åå¹¶æ¡ä»¶è¡¨è¾¾å¼(Consolidate Conditional Expression) åå¹¶éå¤çæ¡ä»¶çæ®µ(Consolidate Duplicate Conditional Fragments) æ©å±éè¯» åèèµæ",content:'> ç¿»è¯èªï¼https://sourcemaking.com/refactoring/smells/dispensables\n> \n> éå¿è¦ç(Dispensables)è¿ç»åå³éæå³çï¼è¿æ ·çä»£ç å¯æå¯æ ï¼å®çå­å¨åèå½±åæ´ä½ä»£ç çæ´æ´åå¯è¯»æ§ã\n\n\n# åä½ç±»\n\n> åä½ç±»(Lazy Class)\n> \n> çè§£åç»´æ¤æ»æ¯è´¹æ¶è´¹åçãå¦æä¸ä¸ªç±»ä¸å¼å¾ä½ è±è´¹ç²¾åï¼å®å°±åºè¯¥è¢«å é¤ã\n\n\n\n\n# é®é¢åå \n\nä¹è®¸ä¸ä¸ªç±»çåå§è®¾è®¡æ¯ä¸ä¸ªåè½å®å¨çç±»ï¼ç¶èéçä»£ç çåè¿ï¼åå¾æ²¡ä»ä¹ç¨äºã åæèç±»èµ·åçè®¾è®¡æ¯ä¸ºäºæ¯ææªæ¥çåè½æ©å±ï¼ç¶èå´ä¸ç´æªæ´¾ä¸ç¨åºã\n\n\n# è§£å³æ¹æ³\n\n * æ²¡ä»ä¹ç¨çç±»å¯ä»¥è¿ç¨ å°ç±»åèå(Inline Class) æ¥å¹²æã\n\n\n\n * å¦æå­ç±»ç¨å¤ä¸å¤§ï¼è¯è¯ æå ç»§æ¿ä½ç³»(Collapse Hierarchy) ã\n\n\n# æ¶ç\n\n * åå°ä»£ç é\n * æäºç»´æ¤\n\n\n# ä½æ¶å¿½ç¥\n\n * ææ¶ï¼åå»ºåä½ç±»æ¯ä¸ºäºæè¿°æªæ¥å¼åçæå¾ãå¨è¿ç§æåµä¸ï¼å°è¯å¨ä»£ç ä¸­ä¿ææ¸æ°åç®åä¹é´çå¹³è¡¡ã\n\n\n# éææ¹æ³è¯´æ\n\n# å°ç±»åèå(Inline Class)\n\né®é¢\n\næä¸ªç±»æ²¡æåå¤ªå¤äºæã\n\n\n\nè§£å³\n\nå°è¿ä¸ªç±»çææç¹æ§æ¬ç§»å°å¦ä¸ä¸ªç±»ä¸­ï¼ç¶åç§»é¤åç±»ã\n\n\n\n# æå ç»§æ¿ä½ç³»(Collapse Hierarchy)\n\né®é¢\n\nè¶ç±»åå­ç±»ä¹é´æ å¤ªå¤§åºå«ã\n\n\n\nè§£å³\n\nå°å®ä»¬åä¸ºä¸ä½ã\n\n\n\n\n# å¤¸å¤¸å¶è°æªæ¥æ§\n\n> å¤¸å¤¸å¶è°æªæ¥æ§(Speculative Generality)\n> \n> å­å¨æªè¢«ä½¿ç¨çç±»ãå½æ°ãå­æ®µæåæ°ã\n\n\n\n\n# é®é¢åå \n\nææ¶ï¼ä»£ç ä»ä»ä¸ºäºæ¯ææªæ¥çç¹æ§èäº§çï¼ç¶èå´ä¸ç´æªå®ç°ãç»æï¼ä»£ç åå¾é¾ä»¥çè§£åç»´æ¤ã\n\n\n# è§£å³æ¹æ³\n\n * å¦æä½ çæä¸ªæ½è±¡ç±»å¶å®æ²¡æå¤ªå¤§ä½ç¨ï¼è¯·è¿ç¨ æå ç»§æ¿ä½ç³»(Collapse Hierarch) ã\n\n\n\n * ä¸å¿è¦çå§æå¯è¿ç¨ å°ç±»åèå(Inline Class) æ¶é¤ã\n * æ ç¨çå½æ°å¯è¿ç¨ åèå½æ°(Inline Method) æ¶é¤ã\n * å½æ°ä¸­ææ ç¨çåæ°åºè¯¥è¿ç¨ ç§»é¤åæ°(Remove Parameter) æ¶é¤ã\n * æ ç¨å­æ®µå¯ä»¥ç´æ¥å é¤ã\n\n\n# æ¶ç\n\n * åå°ä»£ç éã\n * æ´æç»´æ¤ã\n\n\n# ä½æ¶å¿½ç¥\n\n * å¦æä½ å¨ä¸ä¸ªæ¡æ¶ä¸å·¥ä½ï¼åå»ºæ¡æ¶æ¬èº«æ²¡æä½¿ç¨çåè½æ¯éå¸¸åççï¼åªè¦æ¡æ¶çç¨æ·éè¦è¿ä¸ªåè½ã\n * å é¤åç´ ä¹åï¼è¯·ç¡®ä¿å®ä»¬ä¸å¨ååæµè¯ä¸­ä½¿ç¨ãå¦ææµè¯éè¦ä»ç±»ä¸­è·åæäºåé¨ä¿¡æ¯ææ§è¡ç¹æ®çæµè¯ç¸å³æä½ï¼å°±ä¼åçè¿ç§æåµã\n\n\n# éææ¹æ³è¯´æ\n\n# æå ç»§æ¿ä½ç³»(Collapse Hierarchy)\n\né®é¢\n\nè¶ç±»åå­ç±»ä¹é´æ å¤ªå¤§åºå«ã\n\n\n\nè§£å³\n\nå°å®ä»¬åä¸ºä¸ä½ã\n\n\n\n# å°ç±»åèå(Inline Class)\n\né®é¢\n\næä¸ªç±»æ²¡æåå¤ªå¤äºæã\n\n\n\nè§£å³\n\nå°è¿ä¸ªç±»çææç¹æ§æ¬ç§»å°å¦ä¸ä¸ªç±»ä¸­ï¼ç¶åç§»é¤åç±»ã\n\n\n\n# åèå½æ°(Inline Method)\n\né®é¢\n\nä¸ä¸ªå½æ°çæ¬ä½æ¯å½æ°åæ´æ¸æ¥ææã\n\nclass PizzaDelivery {\n  //...\n  int getRating() {\n    return moreThanFiveLateDeliveries() ? 2 : 1;\n  }\n  boolean moreThanFiveLateDeliveries() {\n    return numberOfLateDeliveries > 5;\n  }\n}\n\n\nè§£å³\n\nå¨å½æ°è°ç¨ç¹æå¥å½æ°æ¬ä½ï¼ç¶åç§»é¤è¯¥å½æ°ã\n\nclass PizzaDelivery {\n  //...\n  int getRating() {\n    return numberOfLateDeliveries > 5 ? 2 : 1;\n  }\n}\n\n\n# ç§»é¤åæ°(Remove Parameter)\n\né®é¢\n\nå½æ°æ¬ä½ä¸åéè¦æä¸ªåæ°ã\n\n\n\nè§£å³\n\nå°è¯¥åæ°å»é¤ã\n\n\n\n\n# çº¯ç¨çæ°æ®ç±»\n\n> çº¯ç¨çæ°æ®ç±»(Data Class) æçæ¯åªåå«å­æ®µåè®¿é®å®ä»¬ç getter å setter å½æ°çç±»ãè¿äºä»ä»æ¯ä¾å¶ä»ç±»ä½¿ç¨çæ°æ®å®¹å¨ãè¿äºç±»ä¸åå«ä»»ä½éå åè½ï¼å¹¶ä¸ä¸è½å¯¹èªå·±æ¥æçæ°æ®è¿è¡ç¬ç«æä½ã\n\n\n\n\n# é®é¢åå \n\nå½ä¸ä¸ªæ°åå»ºçç±»åªåå«å ä¸ªå¬å±å­æ®µï¼çè³å¯è½å ä¸ª getters / settersï¼æ¯å¾æ­£å¸¸çãä½æ¯å¯¹è±¡ççæ­£åéå¨äºå®ä»¬å¯ä»¥åå«ä½ç¨äºæ°æ®çè¡ä¸ºç±»åææä½ã\n\n\n# è§£å³æ¹æ³\n\n * å¦æä¸ä¸ªç±»æå¬å±å­æ®µï¼ä½ åºè¯¥è¿ç¨ å°è£å­æ®µ(Encapsulated Field) æ¥éèå­æ®µçç´æ¥è®¿é®æ¹å¼ã\n * å¦æè¿äºç±»å«å®¹å¨ç±»çå­æ®µï¼ä½ åºè¯¥æ£æ¥å®ä»¬æ¯ä¸æ¯å¾å°äºæ°å½çå°è£ï¼å¦ææ²¡æï¼å°±è¿ç¨ å°è£éå(Encapsulated Collection) æå®ä»¬å°è£èµ·æ¥ã\n * æ¾åºè¿äº getter/setter å½æ°è¢«å¶ä»ç±»è¿ç¨çå°ç¹ãå°è¯ä»¥ æ¬ç§»å½æ°(Move Method) æé£äºè°ç¨è¡ä¸ºæ¬ç§»å° çº¯ç¨çæ°æ®ç±»(Data Class) æ¥ãå¦ææ æ³æ¬ç§»è¿ä¸ªå½æ°ï¼å°±è¿ç¨ æç¼å½æ°(Extract Method) äº§çä¸ä¸ªå¯æ¬ç§»çå½æ°ã\n\n\n\n * å¨ç±»å·²ç»åæ»¡äºæ·±æçèçå½æ°ä¹åï¼ä½ å¯è½æ³è¦æè±æ§çæ°æ®è®¿é®æ¹æ³ï¼ä»¥æä¾éåºé¢è¾å¹¿çç±»æ°æ®è®¿é®æ¥å£ãä¸ºæ­¤ï¼å¯ä»¥è¿ç¨ ç§»é¤è®¾ç½®å½æ°(Remove Setting Method) å éèå½æ°(Hide Method) ã\n\n\n# æ¶ç\n\n * æé«ä»£ç çå¯è¯»æ§åç»ç»æ§ãç¹å®æ°æ®çæä½ç°å¨è¢«éä¸­å¨ä¸ä¸ªå°æ¹ï¼èä¸æ¯å¨åæ£å¨ä»£ç åå¤ã\n * å¸®å©ä½ åç°å®¢æ·ç«¯ä»£ç çéå¤å¤ã\n\n\n# éææ¹æ³è¯´æ\n\n# å°è£å­æ®µ(Encapsulated Field)\n\né®é¢\n\nä½ çç±»ä¸­å­å¨ public å­æ®µã\n\nclass Person {\n  public String name;\n}\n\n\nè§£å³\n\nå°å®å£°æä¸º privateï¼å¹¶æä¾ç¸åºçè®¿é®å½æ°ã\n\nclass Person {\n  private String name;\n\n  public String getName() {\n    return name;\n  }\n  public void setName(String arg) {\n    name = arg;\n  }\n}\n\n\n# å°è£éå(Encapsulated Collection)\n\né®é¢\n\næä¸ªå½æ°è¿åä¸ä¸ªéåã\n\n\n\nè§£å³\n\nè®©è¯¥å½æ°è¿åè¯¥éåçä¸ä¸ªåªè¯»å¯æ¬ï¼å¹¶å¨è¿ä¸ªç±»ä¸­æä¾æ·»å ãç§»é¤éååç´ çå½æ°ã\n\n\n\n# æ¬ç§»å½æ°(Move Method)\n\né®é¢\n\nä½ çç¨åºä¸­ï¼æä¸ªå½æ°ä¸å¶æé©»ç±»ä¹å¤çå¦ä¸ä¸ªç±»è¿è¡æ´å¤äº¤æµï¼è°ç¨åèï¼æè¢«åèè°ç¨ã\n\n\n\nè§£å³\n\nå¨è¯¥å½æ°æå¸¸å¼ç¨çç±»ä¸­å»ºç«ä¸ä¸ªæçç±»ä¼¼è¡ä¸ºçæ°å½æ°ãå°æ§å½æ°åæä¸ä¸ªåçº¯çå§æå½æ°ï¼ææ¯æ§å½æ°å®å¨ç§»é¤ã\n\n\n\n# æç¼å½æ°(Extract Method)\n\né®é¢\n\nä½ æä¸æ®µä»£ç å¯ä»¥ç»ç»å¨ä¸èµ·ã\n\nvoid printOwing() {\n  printBanner();\n\n  //print details\n  System.out.println("name: " + name);\n  System.out.println("amount: " + getOutstanding());\n}\n\n\nè§£å³\n\nç§»å¨è¿æ®µä»£ç å°ä¸ä¸ªæ°çå½æ°ä¸­ï¼ä½¿ç¨å½æ°çè°ç¨æ¥æ¿ä»£èä»£ç ã\n\nvoid printOwing() {\n  printBanner();\n  printDetails(getOutstanding());\n}\n\nvoid printDetails(double outstanding) {\n  System.out.println("name: " + name);\n  System.out.println("amount: " + outstanding);\n}\n\n\n# ç§»é¤è®¾ç½®å½æ°(Remove Setting Method)\n\né®é¢\n\nç±»ä¸­çæä¸ªå­æ®µåºè¯¥å¨å¯¹è±¡åå»ºæ¶è¢«è®¾å¼ï¼ç¶åå°±ä¸åæ¹åã\n\n\n\nè§£å³\n\nå»æè¯¥å­æ®µçææè®¾å¼å½æ°ã\n\n\n\n# éèå½æ°(Hide Method)\n\né®é¢\n\næä¸ä¸ªå½æ°ï¼ä»æ¥æ²¡æè¢«å¶ä»ä»»ä½ç±»ç¨å°ã\n\n\n\nè§£å³\n\nå°è¿ä¸ªå½æ°ä¿®æ¹ä¸º privateã\n\n\n\n\n# è¿å¤çæ³¨é\n\n> è¿å¤çæ³¨é(Comments)\n> \n> æ³¨éæ¬èº«å¹¶ä¸æ¯åäºãä½æ¯å¸¸å¸¸æè¿æ ·çæåµï¼ä¸æ®µä»£ç ä¸­åºç°é¿é¿çæ³¨éï¼èå®ä¹æä»¥å­å¨ï¼æ¯å ä¸ºä»£ç å¾ç³ç³ã\n\n\n\n\n# é®é¢åå \n\næ³¨éçä½èæè¯å°èªå·±çä»£ç ä¸ç´è§æä¸ææ¾ï¼æä»¥æ³ä½¿ç¨æ³¨éæ¥è¯´æèªå·±çæå¾ãè¿ç§æåµä¸ï¼æ³¨éå°±åæ¯çä»£ç çé¤è­åã\n\n> æå¥½çæ³¨éæ¯ä¸ºå½æ°æç±»èµ·ä¸ä¸ªæ°å½çåå­ã\n\nå¦æä½ è§å¾ä¸ä¸ªä»£ç çæ®µæ²¡ææ³¨éå°±æ æ³çè§£ï¼è¯·åå°è¯éæï¼è¯çè®©æææ³¨éé½åå¾å¤ä½ã\n\n\n# è§£å³æ¹æ³\n\n * å¦æä¸ä¸ªæ³¨éæ¯ä¸ºäºè§£éä¸ä¸ªå¤æçè¡¨è¾¾å¼ï¼å¯ä»¥è¿ç¨ æç¼åé(Extract Variable) å°è¡¨è¾¾å¼ååä¸ºæçè§£çå­è¡¨è¾¾å¼ã\n * å¦æä½ éè¦éè¿æ³¨éæ¥è§£éä¸æ®µä»£ç åäºä»ä¹ï¼è¯·è¯è¯ æç¼å½æ°(Extract Method) ã\n * å¦æå½æ°å·²ç»è¢«æç¼ï¼ä½ä»éè¦æ³¨éå½æ°åäºä»ä¹ï¼è¯è¯è¿ç¨ å½æ°æ¹å(Rename Method) æ¥ä¸ºå½æ°èµ·ä¸ä¸ªå¯ä»¥èªè§£éçåå­ã\n * å¦æéè¦å¯¹ç³»ç»æç¶æè¿è¡æ­è¨ï¼è¯·è¿ç¨ å¼å¥æ­è¨(Introduce Assertion) ã\n\n\n# æ¶ç\n\n * ä»£ç åå¾æ´ç´è§åææ¾ã\n\n\n# ä½æ¶å¿½ç¥\n\næ³¨éææ¶åå¾æç¨ï¼\n\n * å½è§£éä¸ºä»ä¹æäºç©è¦ä»¥ç¹æ®æ¹å¼å®ç°æ¶ã\n * å½è§£éæç§å¤æç®æ³æ¶ã\n * å½ä½ å®å¨ä¸ç¥å¯ä»¥åäºä»ä¹æ¶ã\n\n\n# éææ¹æ³è¯´æ\n\n# æç¼åé(Extract Variable)\n\né®é¢\n\nä½ æä¸ªé¾ä»¥çè§£çè¡¨è¾¾å¼ã\n\nvoid renderBanner() {\n  if ((platform.toUpperCase().indexOf("MAC") > -1) &&\n       (browser.toUpperCase().indexOf("IE") > -1) &&\n        wasInitialized() && resize > 0 )\n  {\n    // do something\n  }\n}\n\n\nè§£å³\n\nå°è¡¨è¾¾å¼çç»ææå®çå­è¡¨è¾¾å¼çç»æç¨ä¸è¨èªæçåéæ¥æ¿ä»£ã\n\nvoid renderBanner() {\n  final boolean isMacOs = platform.toUpperCase().indexOf("MAC") > -1;\n  final boolean isIE = browser.toUpperCase().indexOf("IE") > -1;\n  final boolean wasResized = resize > 0;\n\n  if (isMacOs && isIE && wasInitialized() && wasResized) {\n    // do something\n  }\n}\n\n\n# æç¼å½æ°(Extract Method)\n\né®é¢\n\nä½ æä¸æ®µä»£ç å¯ä»¥ç»ç»å¨ä¸èµ·ã\n\nvoid printOwing() {\n  printBanner();\n\n  //print details\n  System.out.println("name: " + name);\n  System.out.println("amount: " + getOutstanding());\n}\n\n\nè§£å³\n\nç§»å¨è¿æ®µä»£ç å°ä¸ä¸ªæ°çå½æ°ä¸­ï¼ä½¿ç¨å½æ°çè°ç¨æ¥æ¿ä»£èä»£ç ã\n\nvoid printOwing() {\n  printBanner();\n  printDetails(getOutstanding());\n}\n\nvoid printDetails(double outstanding) {\n  System.out.println("name: " + name);\n  System.out.println("amount: " + outstanding);\n}\n\n\n# å½æ°æ¹å(Rename Method)\n\né®é¢\n\nå½æ°çåç§°æªè½æ°å½çæ­ç¤ºå½æ°çç¨éã\n\nclass Person {\n  public String getsnm();\n}\n\n\nè§£å³\n\nä¿®æ¹å½æ°åã\n\nclass Person {\n  public String getSecondName();\n}\n\n\n# å¼å¥æ­è¨(Introduce Assertion)\n\né®é¢\n\næä¸æ®µä»£ç éè¦å¯¹ç¨åºç¶æååºæç§åè®¾ã\n\ndouble getExpenseLimit() {\n  // should have either expense limit or a primary project\n  return (expenseLimit != NULL_EXPENSE) ?\n    expenseLimit:\n    primaryProject.getMemberExpenseLimit();\n}\n\n\nè§£å³\n\nä»¥æ­è¨æç¡®è¡¨ç°è¿ç§åè®¾ã\n\ndouble getExpenseLimit() {\n  Assert.isTrue(expenseLimit != NULL_EXPENSE || primaryProject != null);\n\n  return (expenseLimit != NULL_EXPENSE) ?\n    expenseLimit:\n    primaryProject.getMemberExpenseLimit();\n}\n\n\næ³¨ï¼è¯·ä¸è¦æ»¥ç¨æ­è¨ãä¸è¦ä½¿ç¨å®æ¥æ£æ¥âåºè¯¥ä¸ºçâçæ¡ä»¶ï¼åªè½ä½¿ç¨å®æ¥æ£æ¥âä¸å®å¿é¡»ä¸ºçâçæ¡ä»¶ãå®éä¸ï¼æ­è¨æ´å¤æ¯ç¨äºèªææ£æµä»£ç çä¸ç§ææ®µãå¨äº§åçæ­£äº¤ä»æ¶ï¼å¾å¾é½ä¼æ¶é¤æææ­è¨ã\n\n\n# éå¤ä»£ç \n\n> éå¤ä»£ç (Duplicate Code)\n> \n> éå¤ä»£ç å ªç§°ä¸ºä»£ç åå³éä¹é¦ãæ¶é¤éå¤ä»£ç æ»æ¯æå©æ å®³çã\n\n\n\n\n# é®é¢åå \n\néå¤ä»£ç éå¸¸åçå¨å¤ä¸ªç¨åºååæ¶å¨åä¸ç¨åºçä¸åé¨åä¸å·¥ä½æ¶ãç±äºä»ä»¬æ­£å¨å¤çä¸åçä»»å¡ï¼ä»ä»¬å¯è½ä¸ç¥éä»ä»¬çåäºå·²ç»åäºç±»ä¼¼çä»£ç ã\n\nè¿æä¸ç§æ´éæ¦çéå¤ï¼ç¹å®é¨åçä»£ç çä¸å»ä¸åä½å®éå¨ååä¸ä»¶äºãè¿ç§éå¤ä»£ç å¾å¾é¾ä»¥æ¾å°åæ¶é¤ã\n\nææ¶éå¤æ¯æç®çæ§çãå½æ¥äºæ»¡è¶³ deadlineï¼å¹¶ä¸ç°æä»£ç å¯¹äºè¦äº¤ä»çä»»å¡æ¯âå ä¹æ­£ç¡®çâæ¶ï¼æ°æç¨åºåå¯è½æ æ³æµæå¤å¶åç²è´´ç¸å³ä»£ç çè¯±æãå¨æäºæåµä¸ï¼ç¨åºååªæ¯å¤ªææ°ã\n\n\n# è§£å³æ¹æ³\n\n * åä¸ä¸ªç±»çä¸¤ä¸ªå½æ°å«æç¸åçè¡¨è¾¾å¼ï¼è¿æ¶å¯ä»¥éç¨ æç¼å½æ°(Extract Method) æç¼åºéå¤çä»£ç ï¼ç¶åè®©è¿ä¸¤ä¸ªå°ç¹é½è°ç¨è¢«æç¼åºæ¥çé£æ®µä»£ç ã\n\n\n\n * å¦æä¸¤ä¸ªäºä¸ºåå¼çå­ç±»å«æéå¤ä»£ç ï¼\n   * é¦åå¯¹ä¸¤ä¸ªç±»é½è¿ç¨ æç¼å½æ°(Extract Method) ï¼ç¶åå¯¹è¢«æç¼åºæ¥çå½æ°è¿ç¨ å½æ°ä¸ç§»(Pull Up Method) ï¼å°å®æ¨å¥è¶ç±»ã\n   * å¦æéå¤ä»£ç å¨æé å½æ°ä¸­ï¼è¿ç¨ æé å½æ°æ¬ä½ä¸ç§»(Pull Up Constructor Body) ã\n   * å¦æéå¤ä»£ç åªæ¯ç¸ä¼¼ä½ä¸æ¯å®å¨ç¸åï¼è¿ç¨ å¡é æ¨¡æ¿å½æ°(Form Template Method) è·å¾ä¸ä¸ª æ¨¡æ¿æ¹æ³æ¨¡å¼(Template Method) ã\n   * å¦ææäºå½æ°ä»¥ä¸åçç®æ³åç¸åçäºï¼ä½ å¯ä»¥éæ©å¶ä¸­è¾æ¸æ°å°ä¸ä¸ªï¼å¹¶è¿ç¨ æ¿æ¢ç®æ³(Substitute Algorithm) å°å¶ä»å½æ°çç®æ³æ¿æ¢æã\n * å¦æä¸¤ä¸ªæ¯«ä¸ç¸å³çç±»ä¸­æéå¤ä»£ç ï¼\n   * è¯·å°è¯è¿ç¨ æç¼è¶ç±»(Extract Superclass) ï¼ä»¥ä¾¿ä¸ºç»´æ¤ææåååè½çè¿äºç±»åå»ºä¸ä¸ªè¶ç±»ã\n   * å¦æåå»ºè¶ç±»ååå°é¾ï¼å¯ä»¥å¨ä¸ä¸ªç±»ä¸­è¿ç¨ æç¼ç±»(Extract Class) ï¼å¹¶å¨å¦ä¸ä¸ªç±»ä¸­ä½¿ç¨è¿ä¸ªæ°çç»ä»¶ã\n * å¦æå­å¨å¤§éçæ¡ä»¶è¡¨è¾¾å¼ï¼å¹¶ä¸å®ä»¬æ§è¡å®å¨ç¸åçä»£ç ï¼ä»ä»æ¯å®ä»¬çæ¡ä»¶ä¸åï¼ï¼å¯ä»¥è¿ç¨ åå¹¶æ¡ä»¶è¡¨è¾¾å¼(Consolidate Conditional Expression) å°è¿äºæä½åå¹¶ä¸ºåä¸ªæ¡ä»¶ï¼å¹¶è¿ç¨ æç¼å½æ°(Extract Method) å°è¯¥æ¡ä»¶æ¾å¥ä¸ä¸ªåå­å®¹æçè§£çç¬ç«å½æ°ä¸­ã\n * å¦ææ¡ä»¶è¡¨è¾¾å¼çææåæ¯é½æé¨åç¸åçä»£ç çæ®µï¼å¯ä»¥è¿ç¨ åå¹¶éå¤çæ¡ä»¶çæ®µ(Consolidate Duplicate Conditional Fragments) å°å®ä»¬é½å­å¨çä»£ç çæ®µç½®äºæ¡ä»¶è¡¨è¾¾å¼å¤é¨ã\n\n\n# æ¶ç\n\n * åå¹¶éå¤ä»£ç ä¼ç®åä»£ç çç»æï¼å¹¶åå°ä»£ç éã\n * ä»£ç æ´ç®åãæ´æç»´æ¤ã\n\n\n# éææ¹æ³è¯´æ\n\n# æç¼å½æ°(Extract Method)\n\né®é¢\n\nä½ æä¸æ®µä»£ç å¯ä»¥ç»ç»å¨ä¸èµ·ã\n\nvoid printOwing() {\n  printBanner();\n\n  //print details\n  System.out.println("name: " + name);\n  System.out.println("amount: " + getOutstanding());\n}\n\n\nè§£å³\n\nç§»å¨è¿æ®µä»£ç å°ä¸ä¸ªæ°çå½æ°ä¸­ï¼ä½¿ç¨å½æ°çè°ç¨æ¥æ¿ä»£èä»£ç ã\n\nvoid printOwing() {\n  printBanner();\n  printDetails(getOutstanding());\n}\n\nvoid printDetails(double outstanding) {\n  System.out.println("name: " + name);\n  System.out.println("amount: " + outstanding);\n}\n\n\n# å½æ°ä¸ç§»(Pull Up Method)\n\né®é¢\n\næäºå½æ°ï¼å¨åä¸ªå­ç±»ä¸­äº§çå®å¨ç¸åçç»æã\n\n\n\nè§£å³\n\nå°è¯¥å½æ°ç§»è³è¶ç±»ã\n\n\n\n# æé å½æ°æ¬ä½ä¸ç§»(Pull Up Constructor Body)\n\né®é¢\n\nä½ å¨åä¸ªå­ç±»ä¸­æ¥æä¸äºæé å½æ°ï¼å®ä»¬çæ¬ä½å ä¹å®å¨ä¸è´ã\n\nclass Manager extends Employee {\n  public Manager(String name, String id, int grade) {\n    this.name = name;\n    this.id = id;\n    this.grade = grade;\n  }\n  //...\n}\n\n\nè§£å³\n\nå¨è¶ç±»ä¸­æ°å»ºä¸ä¸ªæé å½æ°ï¼å¹¶å¨å­ç±»æé å½æ°ä¸­è°ç¨å®ã\n\nclass Manager extends Employee {\n  public Manager(String name, String id, int grade) {\n    super(name, id);\n    this.grade = grade;\n  }\n  //...\n}\n\n\n# å¡é æ¨¡æ¿å½æ°(Form Template Method)\n\né®é¢\n\nä½ æä¸äºå­ç±»ï¼å¶ä¸­ç¸åºçæäºå½æ°ä»¥ç¸åçé¡ºåºæ§è¡ç±»ä¼¼çæä½ï¼ä½åä¸ªæä½çç»èä¸ææä¸åã\n\n\n\nè§£å³\n\nå°è¿äºæä½åå«æ¾è¿ç¬ç«å½æ°ä¸­ï¼å¹¶ä¿æå®ä»¬é½æç¸åçç­¾åï¼äºæ¯åå½æ°ä¹å°±åå¾ç¸åäºãç¶åå°åå½æ°ä¸ç§»è³è¶ç±»ã\n\n\n\næ³¨ï¼è¿éåªæå°å·ä½åæ³ï¼å»ºè®®äºè§£ä¸ä¸æ¨¡æ¿æ¹æ³è®¾è®¡æ¨¡å¼ã\n\n# æ¿æ¢ç®æ³(Substitute Algorithm)\n\né®é¢\n\nä½ æ³è¦ææä¸ªç®æ³æ¿æ¢ä¸ºå¦ä¸ä¸ªæ´æ¸æ°çç®æ³ã\n\nString foundPerson(String[] people){\n  for (int i = 0; i < people.length; i++) {\n    if (people[i].equals("Don")){\n      return "Don";\n    }\n    if (people[i].equals("John")){\n      return "John";\n    }\n    if (people[i].equals("Kent")){\n      return "Kent";\n    }\n  }\n  return "";\n}\n\n\nè§£å³\n\nå°å½æ°æ¬ä½æ¿æ¢ä¸ºå¦ä¸ä¸ªç®æ³ã\n\nString foundPerson(String[] people){\n  List candidates =\n    Arrays.asList(new String[] {"Don", "John", "Kent"});\n  for (int i=0; i < people.length; i++) {\n    if (candidates.contains(people[i])) {\n      return people[i];\n    }\n  }\n  return "";\n}\n\n\n# æç¼è¶ç±»(Extract Superclass)\n\né®é¢\n\nä¸¤ä¸ªç±»æç¸ä¼¼ç¹æ§ã\n\n\n\nè§£å³\n\nä¸ºè¿ä¸¤ä¸ªç±»å»ºç«ä¸ä¸ªè¶ç±»ï¼å°ç¸åç¹æ§ç§»è³è¶ç±»ã\n\n\n\n# æç¼ç±»(Extract Class)\n\né®é¢\n\næä¸ªç±»åäºä¸æ­¢ä¸ä»¶äºã\n\n\n\nè§£å³\n\nå»ºç«ä¸ä¸ªæ°ç±»ï¼å°ç¸å³çå­æ®µåå½æ°ä»æ§ç±»æ¬ç§»å°æ°ç±»ã\n\n\n\n# åå¹¶æ¡ä»¶è¡¨è¾¾å¼(Consolidate Conditional Expression)\n\né®é¢\n\nä½ æä¸ç³»åæ¡ä»¶åæ¯ï¼é½å¾å°ç¸åç»æã\n\ndouble disabilityAmount() {\n  if (seniority < 2) {\n    return 0;\n  }\n  if (monthsDisabled > 12) {\n    return 0;\n  }\n  if (isPartTime) {\n    return 0;\n  }\n  // compute the disability amount\n  //...\n}\n\n\nè§£å³\n\nå°è¿äºæ¡ä»¶åæ¯åå¹¶ä¸ºä¸ä¸ªæ¡ä»¶ï¼å¹¶å°è¿ä¸ªæ¡ä»¶æç¼ä¸ºä¸ä¸ªç¬ç«å½æ°ã\n\ndouble disabilityAmount() {\n  if (isNotEligableForDisability()) {\n    return 0;\n  }\n  // compute the disability amount\n  //...\n}\n\n\n# åå¹¶éå¤çæ¡ä»¶çæ®µ(Consolidate Duplicate Conditional Fragments)\n\né®é¢\n\nå¨æ¡ä»¶è¡¨è¾¾å¼çæ¯ä¸ªåæ¯ä¸æçç¸åçä¸æ®µä»£ç ã\n\nif (isSpecialDeal()) {\n  total = price * 0.95;\n  send();\n}\nelse {\n  total = price * 0.98;\n  send();\n}\n\n\nè§£å³\n\nå°è¿æ®µéå¤ä»£ç æ¬ç§»å°æ¡ä»¶è¡¨è¾¾å¼ä¹å¤ã\n\nif (isSpecialDeal()) {\n  total = price * 0.95;\n}\nelse {\n  total = price * 0.98;\n}\nsend();\n\n\n\n# æ©å±éè¯»\n\n * ä»£ç çåå³éåéæ\n * ä»£ç åå³éä¹ä»£ç èè¿\n * ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡\n * ä»£ç åå³éä¹åé©çéç¢\n * ä»£ç åå³éä¹éå¿è¦ç\n * ä»£ç åå³éä¹è¦å\n\n\n# åèèµæ\n\n * ãä»£ç æ´æ´ä¹éã\n * ãéæ - æ¹åæ¢æä»£ç çè®¾è®¡ã\n * ãä»£ç å¤§å¨ã\n * https://sourcemaking.com/refactoring',normalizedContent:'> ç¿»è¯èªï¼https://sourcemaking.com/refactoring/smells/dispensables\n> \n> éå¿è¦ç(dispensables)è¿ç»åå³éæå³çï¼è¿æ ·çä»£ç å¯æå¯æ ï¼å®çå­å¨åèå½±åæ´ä½ä»£ç çæ´æ´åå¯è¯»æ§ã\n\n\n# åä½ç±»\n\n> åä½ç±»(lazy class)\n> \n> çè§£åç»´æ¤æ»æ¯è´¹æ¶è´¹åçãå¦æä¸ä¸ªç±»ä¸å¼å¾ä½ è±è´¹ç²¾åï¼å®å°±åºè¯¥è¢«å é¤ã\n\n\n\n\n# é®é¢åå \n\nä¹è®¸ä¸ä¸ªç±»çåå§è®¾è®¡æ¯ä¸ä¸ªåè½å®å¨çç±»ï¼ç¶èéçä»£ç çåè¿ï¼åå¾æ²¡ä»ä¹ç¨äºã åæèç±»èµ·åçè®¾è®¡æ¯ä¸ºäºæ¯ææªæ¥çåè½æ©å±ï¼ç¶èå´ä¸ç´æªæ´¾ä¸ç¨åºã\n\n\n# è§£å³æ¹æ³\n\n * æ²¡ä»ä¹ç¨çç±»å¯ä»¥è¿ç¨ å°ç±»åèå(inline class) æ¥å¹²æã\n\n\n\n * å¦æå­ç±»ç¨å¤ä¸å¤§ï¼è¯è¯ æå ç»§æ¿ä½ç³»(collapse hierarchy) ã\n\n\n# æ¶ç\n\n * åå°ä»£ç é\n * æäºç»´æ¤\n\n\n# ä½æ¶å¿½ç¥\n\n * ææ¶ï¼åå»ºåä½ç±»æ¯ä¸ºäºæè¿°æªæ¥å¼åçæå¾ãå¨è¿ç§æåµä¸ï¼å°è¯å¨ä»£ç ä¸­ä¿ææ¸æ°åç®åä¹é´çå¹³è¡¡ã\n\n\n# éææ¹æ³è¯´æ\n\n# å°ç±»åèå(inline class)\n\né®é¢\n\næä¸ªç±»æ²¡æåå¤ªå¤äºæã\n\n\n\nè§£å³\n\nå°è¿ä¸ªç±»çææç¹æ§æ¬ç§»å°å¦ä¸ä¸ªç±»ä¸­ï¼ç¶åç§»é¤åç±»ã\n\n\n\n# æå ç»§æ¿ä½ç³»(collapse hierarchy)\n\né®é¢\n\nè¶ç±»åå­ç±»ä¹é´æ å¤ªå¤§åºå«ã\n\n\n\nè§£å³\n\nå°å®ä»¬åä¸ºä¸ä½ã\n\n\n\n\n# å¤¸å¤¸å¶è°æªæ¥æ§\n\n> å¤¸å¤¸å¶è°æªæ¥æ§(speculative generality)\n> \n> å­å¨æªè¢«ä½¿ç¨çç±»ãå½æ°ãå­æ®µæåæ°ã\n\n\n\n\n# é®é¢åå \n\nææ¶ï¼ä»£ç ä»ä»ä¸ºäºæ¯ææªæ¥çç¹æ§èäº§çï¼ç¶èå´ä¸ç´æªå®ç°ãç»æï¼ä»£ç åå¾é¾ä»¥çè§£åç»´æ¤ã\n\n\n# è§£å³æ¹æ³\n\n * å¦æä½ çæä¸ªæ½è±¡ç±»å¶å®æ²¡æå¤ªå¤§ä½ç¨ï¼è¯·è¿ç¨ æå ç»§æ¿ä½ç³»(collapse hierarch) ã\n\n\n\n * ä¸å¿è¦çå§æå¯è¿ç¨ å°ç±»åèå(inline class) æ¶é¤ã\n * æ ç¨çå½æ°å¯è¿ç¨ åèå½æ°(inline method) æ¶é¤ã\n * å½æ°ä¸­ææ ç¨çåæ°åºè¯¥è¿ç¨ ç§»é¤åæ°(remove parameter) æ¶é¤ã\n * æ ç¨å­æ®µå¯ä»¥ç´æ¥å é¤ã\n\n\n# æ¶ç\n\n * åå°ä»£ç éã\n * æ´æç»´æ¤ã\n\n\n# ä½æ¶å¿½ç¥\n\n * å¦æä½ å¨ä¸ä¸ªæ¡æ¶ä¸å·¥ä½ï¼åå»ºæ¡æ¶æ¬èº«æ²¡æä½¿ç¨çåè½æ¯éå¸¸åççï¼åªè¦æ¡æ¶çç¨æ·éè¦è¿ä¸ªåè½ã\n * å é¤åç´ ä¹åï¼è¯·ç¡®ä¿å®ä»¬ä¸å¨ååæµè¯ä¸­ä½¿ç¨ãå¦ææµè¯éè¦ä»ç±»ä¸­è·åæäºåé¨ä¿¡æ¯ææ§è¡ç¹æ®çæµè¯ç¸å³æä½ï¼å°±ä¼åçè¿ç§æåµã\n\n\n# éææ¹æ³è¯´æ\n\n# æå ç»§æ¿ä½ç³»(collapse hierarchy)\n\né®é¢\n\nè¶ç±»åå­ç±»ä¹é´æ å¤ªå¤§åºå«ã\n\n\n\nè§£å³\n\nå°å®ä»¬åä¸ºä¸ä½ã\n\n\n\n# å°ç±»åèå(inline class)\n\né®é¢\n\næä¸ªç±»æ²¡æåå¤ªå¤äºæã\n\n\n\nè§£å³\n\nå°è¿ä¸ªç±»çææç¹æ§æ¬ç§»å°å¦ä¸ä¸ªç±»ä¸­ï¼ç¶åç§»é¤åç±»ã\n\n\n\n# åèå½æ°(inline method)\n\né®é¢\n\nä¸ä¸ªå½æ°çæ¬ä½æ¯å½æ°åæ´æ¸æ¥ææã\n\nclass pizzadelivery {\n  //...\n  int getrating() {\n    return morethanfivelatedeliveries() ? 2 : 1;\n  }\n  boolean morethanfivelatedeliveries() {\n    return numberoflatedeliveries > 5;\n  }\n}\n\n\nè§£å³\n\nå¨å½æ°è°ç¨ç¹æå¥å½æ°æ¬ä½ï¼ç¶åç§»é¤è¯¥å½æ°ã\n\nclass pizzadelivery {\n  //...\n  int getrating() {\n    return numberoflatedeliveries > 5 ? 2 : 1;\n  }\n}\n\n\n# ç§»é¤åæ°(remove parameter)\n\né®é¢\n\nå½æ°æ¬ä½ä¸åéè¦æä¸ªåæ°ã\n\n\n\nè§£å³\n\nå°è¯¥åæ°å»é¤ã\n\n\n\n\n# çº¯ç¨çæ°æ®ç±»\n\n> çº¯ç¨çæ°æ®ç±»(data class) æçæ¯åªåå«å­æ®µåè®¿é®å®ä»¬ç getter å setter å½æ°çç±»ãè¿äºä»ä»æ¯ä¾å¶ä»ç±»ä½¿ç¨çæ°æ®å®¹å¨ãè¿äºç±»ä¸åå«ä»»ä½éå åè½ï¼å¹¶ä¸ä¸è½å¯¹èªå·±æ¥æçæ°æ®è¿è¡ç¬ç«æä½ã\n\n\n\n\n# é®é¢åå \n\nå½ä¸ä¸ªæ°åå»ºçç±»åªåå«å ä¸ªå¬å±å­æ®µï¼çè³å¯è½å ä¸ª getters / settersï¼æ¯å¾æ­£å¸¸çãä½æ¯å¯¹è±¡ççæ­£åéå¨äºå®ä»¬å¯ä»¥åå«ä½ç¨äºæ°æ®çè¡ä¸ºç±»åææä½ã\n\n\n# è§£å³æ¹æ³\n\n * å¦æä¸ä¸ªç±»æå¬å±å­æ®µï¼ä½ åºè¯¥è¿ç¨ å°è£å­æ®µ(encapsulated field) æ¥éèå­æ®µçç´æ¥è®¿é®æ¹å¼ã\n * å¦æè¿äºç±»å«å®¹å¨ç±»çå­æ®µï¼ä½ åºè¯¥æ£æ¥å®ä»¬æ¯ä¸æ¯å¾å°äºæ°å½çå°è£ï¼å¦ææ²¡æï¼å°±è¿ç¨ å°è£éå(encapsulated collection) æå®ä»¬å°è£èµ·æ¥ã\n * æ¾åºè¿äº getter/setter å½æ°è¢«å¶ä»ç±»è¿ç¨çå°ç¹ãå°è¯ä»¥ æ¬ç§»å½æ°(move method) æé£äºè°ç¨è¡ä¸ºæ¬ç§»å° çº¯ç¨çæ°æ®ç±»(data class) æ¥ãå¦ææ æ³æ¬ç§»è¿ä¸ªå½æ°ï¼å°±è¿ç¨ æç¼å½æ°(extract method) äº§çä¸ä¸ªå¯æ¬ç§»çå½æ°ã\n\n\n\n * å¨ç±»å·²ç»åæ»¡äºæ·±æçèçå½æ°ä¹åï¼ä½ å¯è½æ³è¦æè±æ§çæ°æ®è®¿é®æ¹æ³ï¼ä»¥æä¾éåºé¢è¾å¹¿çç±»æ°æ®è®¿é®æ¥å£ãä¸ºæ­¤ï¼å¯ä»¥è¿ç¨ ç§»é¤è®¾ç½®å½æ°(remove setting method) å éèå½æ°(hide method) ã\n\n\n# æ¶ç\n\n * æé«ä»£ç çå¯è¯»æ§åç»ç»æ§ãç¹å®æ°æ®çæä½ç°å¨è¢«éä¸­å¨ä¸ä¸ªå°æ¹ï¼èä¸æ¯å¨åæ£å¨ä»£ç åå¤ã\n * å¸®å©ä½ åç°å®¢æ·ç«¯ä»£ç çéå¤å¤ã\n\n\n# éææ¹æ³è¯´æ\n\n# å°è£å­æ®µ(encapsulated field)\n\né®é¢\n\nä½ çç±»ä¸­å­å¨ public å­æ®µã\n\nclass person {\n  public string name;\n}\n\n\nè§£å³\n\nå°å®å£°æä¸º privateï¼å¹¶æä¾ç¸åºçè®¿é®å½æ°ã\n\nclass person {\n  private string name;\n\n  public string getname() {\n    return name;\n  }\n  public void setname(string arg) {\n    name = arg;\n  }\n}\n\n\n# å°è£éå(encapsulated collection)\n\né®é¢\n\næä¸ªå½æ°è¿åä¸ä¸ªéåã\n\n\n\nè§£å³\n\nè®©è¯¥å½æ°è¿åè¯¥éåçä¸ä¸ªåªè¯»å¯æ¬ï¼å¹¶å¨è¿ä¸ªç±»ä¸­æä¾æ·»å ãç§»é¤éååç´ çå½æ°ã\n\n\n\n# æ¬ç§»å½æ°(move method)\n\né®é¢\n\nä½ çç¨åºä¸­ï¼æä¸ªå½æ°ä¸å¶æé©»ç±»ä¹å¤çå¦ä¸ä¸ªç±»è¿è¡æ´å¤äº¤æµï¼è°ç¨åèï¼æè¢«åèè°ç¨ã\n\n\n\nè§£å³\n\nå¨è¯¥å½æ°æå¸¸å¼ç¨çç±»ä¸­å»ºç«ä¸ä¸ªæçç±»ä¼¼è¡ä¸ºçæ°å½æ°ãå°æ§å½æ°åæä¸ä¸ªåçº¯çå§æå½æ°ï¼ææ¯æ§å½æ°å®å¨ç§»é¤ã\n\n\n\n# æç¼å½æ°(extract method)\n\né®é¢\n\nä½ æä¸æ®µä»£ç å¯ä»¥ç»ç»å¨ä¸èµ·ã\n\nvoid printowing() {\n  printbanner();\n\n  //print details\n  system.out.println("name: " + name);\n  system.out.println("amount: " + getoutstanding());\n}\n\n\nè§£å³\n\nç§»å¨è¿æ®µä»£ç å°ä¸ä¸ªæ°çå½æ°ä¸­ï¼ä½¿ç¨å½æ°çè°ç¨æ¥æ¿ä»£èä»£ç ã\n\nvoid printowing() {\n  printbanner();\n  printdetails(getoutstanding());\n}\n\nvoid printdetails(double outstanding) {\n  system.out.println("name: " + name);\n  system.out.println("amount: " + outstanding);\n}\n\n\n# ç§»é¤è®¾ç½®å½æ°(remove setting method)\n\né®é¢\n\nç±»ä¸­çæä¸ªå­æ®µåºè¯¥å¨å¯¹è±¡åå»ºæ¶è¢«è®¾å¼ï¼ç¶åå°±ä¸åæ¹åã\n\n\n\nè§£å³\n\nå»æè¯¥å­æ®µçææè®¾å¼å½æ°ã\n\n\n\n# éèå½æ°(hide method)\n\né®é¢\n\næä¸ä¸ªå½æ°ï¼ä»æ¥æ²¡æè¢«å¶ä»ä»»ä½ç±»ç¨å°ã\n\n\n\nè§£å³\n\nå°è¿ä¸ªå½æ°ä¿®æ¹ä¸º privateã\n\n\n\n\n# è¿å¤çæ³¨é\n\n> è¿å¤çæ³¨é(comments)\n> \n> æ³¨éæ¬èº«å¹¶ä¸æ¯åäºãä½æ¯å¸¸å¸¸æè¿æ ·çæåµï¼ä¸æ®µä»£ç ä¸­åºç°é¿é¿çæ³¨éï¼èå®ä¹æä»¥å­å¨ï¼æ¯å ä¸ºä»£ç å¾ç³ç³ã\n\n\n\n\n# é®é¢åå \n\næ³¨éçä½èæè¯å°èªå·±çä»£ç ä¸ç´è§æä¸ææ¾ï¼æä»¥æ³ä½¿ç¨æ³¨éæ¥è¯´æèªå·±çæå¾ãè¿ç§æåµä¸ï¼æ³¨éå°±åæ¯çä»£ç çé¤è­åã\n\n> æå¥½çæ³¨éæ¯ä¸ºå½æ°æç±»èµ·ä¸ä¸ªæ°å½çåå­ã\n\nå¦æä½ è§å¾ä¸ä¸ªä»£ç çæ®µæ²¡ææ³¨éå°±æ æ³çè§£ï¼è¯·åå°è¯éæï¼è¯çè®©æææ³¨éé½åå¾å¤ä½ã\n\n\n# è§£å³æ¹æ³\n\n * å¦æä¸ä¸ªæ³¨éæ¯ä¸ºäºè§£éä¸ä¸ªå¤æçè¡¨è¾¾å¼ï¼å¯ä»¥è¿ç¨ æç¼åé(extract variable) å°è¡¨è¾¾å¼ååä¸ºæçè§£çå­è¡¨è¾¾å¼ã\n * å¦æä½ éè¦éè¿æ³¨éæ¥è§£éä¸æ®µä»£ç åäºä»ä¹ï¼è¯·è¯è¯ æç¼å½æ°(extract method) ã\n * å¦æå½æ°å·²ç»è¢«æç¼ï¼ä½ä»éè¦æ³¨éå½æ°åäºä»ä¹ï¼è¯è¯è¿ç¨ å½æ°æ¹å(rename method) æ¥ä¸ºå½æ°èµ·ä¸ä¸ªå¯ä»¥èªè§£éçåå­ã\n * å¦æéè¦å¯¹ç³»ç»æç¶æè¿è¡æ­è¨ï¼è¯·è¿ç¨ å¼å¥æ­è¨(introduce assertion) ã\n\n\n# æ¶ç\n\n * ä»£ç åå¾æ´ç´è§åææ¾ã\n\n\n# ä½æ¶å¿½ç¥\n\næ³¨éææ¶åå¾æç¨ï¼\n\n * å½è§£éä¸ºä»ä¹æäºç©è¦ä»¥ç¹æ®æ¹å¼å®ç°æ¶ã\n * å½è§£éæç§å¤æç®æ³æ¶ã\n * å½ä½ å®å¨ä¸ç¥å¯ä»¥åäºä»ä¹æ¶ã\n\n\n# éææ¹æ³è¯´æ\n\n# æç¼åé(extract variable)\n\né®é¢\n\nä½ æä¸ªé¾ä»¥çè§£çè¡¨è¾¾å¼ã\n\nvoid renderbanner() {\n  if ((platform.touppercase().indexof("mac") > -1) &&\n       (browser.touppercase().indexof("ie") > -1) &&\n        wasinitialized() && resize > 0 )\n  {\n    // do something\n  }\n}\n\n\nè§£å³\n\nå°è¡¨è¾¾å¼çç»ææå®çå­è¡¨è¾¾å¼çç»æç¨ä¸è¨èªæçåéæ¥æ¿ä»£ã\n\nvoid renderbanner() {\n  final boolean ismacos = platform.touppercase().indexof("mac") > -1;\n  final boolean isie = browser.touppercase().indexof("ie") > -1;\n  final boolean wasresized = resize > 0;\n\n  if (ismacos && isie && wasinitialized() && wasresized) {\n    // do something\n  }\n}\n\n\n# æç¼å½æ°(extract method)\n\né®é¢\n\nä½ æä¸æ®µä»£ç å¯ä»¥ç»ç»å¨ä¸èµ·ã\n\nvoid printowing() {\n  printbanner();\n\n  //print details\n  system.out.println("name: " + name);\n  system.out.println("amount: " + getoutstanding());\n}\n\n\nè§£å³\n\nç§»å¨è¿æ®µä»£ç å°ä¸ä¸ªæ°çå½æ°ä¸­ï¼ä½¿ç¨å½æ°çè°ç¨æ¥æ¿ä»£èä»£ç ã\n\nvoid printowing() {\n  printbanner();\n  printdetails(getoutstanding());\n}\n\nvoid printdetails(double outstanding) {\n  system.out.println("name: " + name);\n  system.out.println("amount: " + outstanding);\n}\n\n\n# å½æ°æ¹å(rename method)\n\né®é¢\n\nå½æ°çåç§°æªè½æ°å½çæ­ç¤ºå½æ°çç¨éã\n\nclass person {\n  public string getsnm();\n}\n\n\nè§£å³\n\nä¿®æ¹å½æ°åã\n\nclass person {\n  public string getsecondname();\n}\n\n\n# å¼å¥æ­è¨(introduce assertion)\n\né®é¢\n\næä¸æ®µä»£ç éè¦å¯¹ç¨åºç¶æååºæç§åè®¾ã\n\ndouble getexpenselimit() {\n  // should have either expense limit or a primary project\n  return (expenselimit != null_expense) ?\n    expenselimit:\n    primaryproject.getmemberexpenselimit();\n}\n\n\nè§£å³\n\nä»¥æ­è¨æç¡®è¡¨ç°è¿ç§åè®¾ã\n\ndouble getexpenselimit() {\n  assert.istrue(expenselimit != null_expense || primaryproject != null);\n\n  return (expenselimit != null_expense) ?\n    expenselimit:\n    primaryproject.getmemberexpenselimit();\n}\n\n\næ³¨ï¼è¯·ä¸è¦æ»¥ç¨æ­è¨ãä¸è¦ä½¿ç¨å®æ¥æ£æ¥âåºè¯¥ä¸ºçâçæ¡ä»¶ï¼åªè½ä½¿ç¨å®æ¥æ£æ¥âä¸å®å¿é¡»ä¸ºçâçæ¡ä»¶ãå®éä¸ï¼æ­è¨æ´å¤æ¯ç¨äºèªææ£æµä»£ç çä¸ç§ææ®µãå¨äº§åçæ­£äº¤ä»æ¶ï¼å¾å¾é½ä¼æ¶é¤æææ­è¨ã\n\n\n# éå¤ä»£ç \n\n> éå¤ä»£ç (duplicate code)\n> \n> éå¤ä»£ç å ªç§°ä¸ºä»£ç åå³éä¹é¦ãæ¶é¤éå¤ä»£ç æ»æ¯æå©æ å®³çã\n\n\n\n\n# é®é¢åå \n\néå¤ä»£ç éå¸¸åçå¨å¤ä¸ªç¨åºååæ¶å¨åä¸ç¨åºçä¸åé¨åä¸å·¥ä½æ¶ãç±äºä»ä»¬æ­£å¨å¤çä¸åçä»»å¡ï¼ä»ä»¬å¯è½ä¸ç¥éä»ä»¬çåäºå·²ç»åäºç±»ä¼¼çä»£ç ã\n\nè¿æä¸ç§æ´éæ¦çéå¤ï¼ç¹å®é¨åçä»£ç çä¸å»ä¸åä½å®éå¨ååä¸ä»¶äºãè¿ç§éå¤ä»£ç å¾å¾é¾ä»¥æ¾å°åæ¶é¤ã\n\nææ¶éå¤æ¯æç®çæ§çãå½æ¥äºæ»¡è¶³ deadlineï¼å¹¶ä¸ç°æä»£ç å¯¹äºè¦äº¤ä»çä»»å¡æ¯âå ä¹æ­£ç¡®çâæ¶ï¼æ°æç¨åºåå¯è½æ æ³æµæå¤å¶åç²è´´ç¸å³ä»£ç çè¯±æãå¨æäºæåµä¸ï¼ç¨åºååªæ¯å¤ªææ°ã\n\n\n# è§£å³æ¹æ³\n\n * åä¸ä¸ªç±»çä¸¤ä¸ªå½æ°å«æç¸åçè¡¨è¾¾å¼ï¼è¿æ¶å¯ä»¥éç¨ æç¼å½æ°(extract method) æç¼åºéå¤çä»£ç ï¼ç¶åè®©è¿ä¸¤ä¸ªå°ç¹é½è°ç¨è¢«æç¼åºæ¥çé£æ®µä»£ç ã\n\n\n\n * å¦æä¸¤ä¸ªäºä¸ºåå¼çå­ç±»å«æéå¤ä»£ç ï¼\n   * é¦åå¯¹ä¸¤ä¸ªç±»é½è¿ç¨ æç¼å½æ°(extract method) ï¼ç¶åå¯¹è¢«æç¼åºæ¥çå½æ°è¿ç¨ å½æ°ä¸ç§»(pull up method) ï¼å°å®æ¨å¥è¶ç±»ã\n   * å¦æéå¤ä»£ç å¨æé å½æ°ä¸­ï¼è¿ç¨ æé å½æ°æ¬ä½ä¸ç§»(pull up constructor body) ã\n   * å¦æéå¤ä»£ç åªæ¯ç¸ä¼¼ä½ä¸æ¯å®å¨ç¸åï¼è¿ç¨ å¡é æ¨¡æ¿å½æ°(form template method) è·å¾ä¸ä¸ª æ¨¡æ¿æ¹æ³æ¨¡å¼(template method) ã\n   * å¦ææäºå½æ°ä»¥ä¸åçç®æ³åç¸åçäºï¼ä½ å¯ä»¥éæ©å¶ä¸­è¾æ¸æ°å°ä¸ä¸ªï¼å¹¶è¿ç¨ æ¿æ¢ç®æ³(substitute algorithm) å°å¶ä»å½æ°çç®æ³æ¿æ¢æã\n * å¦æä¸¤ä¸ªæ¯«ä¸ç¸å³çç±»ä¸­æéå¤ä»£ç ï¼\n   * è¯·å°è¯è¿ç¨ æç¼è¶ç±»(extract superclass) ï¼ä»¥ä¾¿ä¸ºç»´æ¤ææåååè½çè¿äºç±»åå»ºä¸ä¸ªè¶ç±»ã\n   * å¦æåå»ºè¶ç±»ååå°é¾ï¼å¯ä»¥å¨ä¸ä¸ªç±»ä¸­è¿ç¨ æç¼ç±»(extract class) ï¼å¹¶å¨å¦ä¸ä¸ªç±»ä¸­ä½¿ç¨è¿ä¸ªæ°çç»ä»¶ã\n * å¦æå­å¨å¤§éçæ¡ä»¶è¡¨è¾¾å¼ï¼å¹¶ä¸å®ä»¬æ§è¡å®å¨ç¸åçä»£ç ï¼ä»ä»æ¯å®ä»¬çæ¡ä»¶ä¸åï¼ï¼å¯ä»¥è¿ç¨ åå¹¶æ¡ä»¶è¡¨è¾¾å¼(consolidate conditional expression) å°è¿äºæä½åå¹¶ä¸ºåä¸ªæ¡ä»¶ï¼å¹¶è¿ç¨ æç¼å½æ°(extract method) å°è¯¥æ¡ä»¶æ¾å¥ä¸ä¸ªåå­å®¹æçè§£çç¬ç«å½æ°ä¸­ã\n * å¦ææ¡ä»¶è¡¨è¾¾å¼çææåæ¯é½æé¨åç¸åçä»£ç çæ®µï¼å¯ä»¥è¿ç¨ åå¹¶éå¤çæ¡ä»¶çæ®µ(consolidate duplicate conditional fragments) å°å®ä»¬é½å­å¨çä»£ç çæ®µç½®äºæ¡ä»¶è¡¨è¾¾å¼å¤é¨ã\n\n\n# æ¶ç\n\n * åå¹¶éå¤ä»£ç ä¼ç®åä»£ç çç»æï¼å¹¶åå°ä»£ç éã\n * ä»£ç æ´ç®åãæ´æç»´æ¤ã\n\n\n# éææ¹æ³è¯´æ\n\n# æç¼å½æ°(extract method)\n\né®é¢\n\nä½ æä¸æ®µä»£ç å¯ä»¥ç»ç»å¨ä¸èµ·ã\n\nvoid printowing() {\n  printbanner();\n\n  //print details\n  system.out.println("name: " + name);\n  system.out.println("amount: " + getoutstanding());\n}\n\n\nè§£å³\n\nç§»å¨è¿æ®µä»£ç å°ä¸ä¸ªæ°çå½æ°ä¸­ï¼ä½¿ç¨å½æ°çè°ç¨æ¥æ¿ä»£èä»£ç ã\n\nvoid printowing() {\n  printbanner();\n  printdetails(getoutstanding());\n}\n\nvoid printdetails(double outstanding) {\n  system.out.println("name: " + name);\n  system.out.println("amount: " + outstanding);\n}\n\n\n# å½æ°ä¸ç§»(pull up method)\n\né®é¢\n\næäºå½æ°ï¼å¨åä¸ªå­ç±»ä¸­äº§çå®å¨ç¸åçç»æã\n\n\n\nè§£å³\n\nå°è¯¥å½æ°ç§»è³è¶ç±»ã\n\n\n\n# æé å½æ°æ¬ä½ä¸ç§»(pull up constructor body)\n\né®é¢\n\nä½ å¨åä¸ªå­ç±»ä¸­æ¥æä¸äºæé å½æ°ï¼å®ä»¬çæ¬ä½å ä¹å®å¨ä¸è´ã\n\nclass manager extends employee {\n  public manager(string name, string id, int grade) {\n    this.name = name;\n    this.id = id;\n    this.grade = grade;\n  }\n  //...\n}\n\n\nè§£å³\n\nå¨è¶ç±»ä¸­æ°å»ºä¸ä¸ªæé å½æ°ï¼å¹¶å¨å­ç±»æé å½æ°ä¸­è°ç¨å®ã\n\nclass manager extends employee {\n  public manager(string name, string id, int grade) {\n    super(name, id);\n    this.grade = grade;\n  }\n  //...\n}\n\n\n# å¡é æ¨¡æ¿å½æ°(form template method)\n\né®é¢\n\nä½ æä¸äºå­ç±»ï¼å¶ä¸­ç¸åºçæäºå½æ°ä»¥ç¸åçé¡ºåºæ§è¡ç±»ä¼¼çæä½ï¼ä½åä¸ªæä½çç»èä¸ææä¸åã\n\n\n\nè§£å³\n\nå°è¿äºæä½åå«æ¾è¿ç¬ç«å½æ°ä¸­ï¼å¹¶ä¿æå®ä»¬é½æç¸åçç­¾åï¼äºæ¯åå½æ°ä¹å°±åå¾ç¸åäºãç¶åå°åå½æ°ä¸ç§»è³è¶ç±»ã\n\n\n\næ³¨ï¼è¿éåªæå°å·ä½åæ³ï¼å»ºè®®äºè§£ä¸ä¸æ¨¡æ¿æ¹æ³è®¾è®¡æ¨¡å¼ã\n\n# æ¿æ¢ç®æ³(substitute algorithm)\n\né®é¢\n\nä½ æ³è¦ææä¸ªç®æ³æ¿æ¢ä¸ºå¦ä¸ä¸ªæ´æ¸æ°çç®æ³ã\n\nstring foundperson(string[] people){\n  for (int i = 0; i < people.length; i++) {\n    if (people[i].equals("don")){\n      return "don";\n    }\n    if (people[i].equals("john")){\n      return "john";\n    }\n    if (people[i].equals("kent")){\n      return "kent";\n    }\n  }\n  return "";\n}\n\n\nè§£å³\n\nå°å½æ°æ¬ä½æ¿æ¢ä¸ºå¦ä¸ä¸ªç®æ³ã\n\nstring foundperson(string[] people){\n  list candidates =\n    arrays.aslist(new string[] {"don", "john", "kent"});\n  for (int i=0; i < people.length; i++) {\n    if (candidates.contains(people[i])) {\n      return people[i];\n    }\n  }\n  return "";\n}\n\n\n# æç¼è¶ç±»(extract superclass)\n\né®é¢\n\nä¸¤ä¸ªç±»æç¸ä¼¼ç¹æ§ã\n\n\n\nè§£å³\n\nä¸ºè¿ä¸¤ä¸ªç±»å»ºç«ä¸ä¸ªè¶ç±»ï¼å°ç¸åç¹æ§ç§»è³è¶ç±»ã\n\n\n\n# æç¼ç±»(extract class)\n\né®é¢\n\næä¸ªç±»åäºä¸æ­¢ä¸ä»¶äºã\n\n\n\nè§£å³\n\nå»ºç«ä¸ä¸ªæ°ç±»ï¼å°ç¸å³çå­æ®µåå½æ°ä»æ§ç±»æ¬ç§»å°æ°ç±»ã\n\n\n\n# åå¹¶æ¡ä»¶è¡¨è¾¾å¼(consolidate conditional expression)\n\né®é¢\n\nä½ æä¸ç³»åæ¡ä»¶åæ¯ï¼é½å¾å°ç¸åç»æã\n\ndouble disabilityamount() {\n  if (seniority < 2) {\n    return 0;\n  }\n  if (monthsdisabled > 12) {\n    return 0;\n  }\n  if (isparttime) {\n    return 0;\n  }\n  // compute the disability amount\n  //...\n}\n\n\nè§£å³\n\nå°è¿äºæ¡ä»¶åæ¯åå¹¶ä¸ºä¸ä¸ªæ¡ä»¶ï¼å¹¶å°è¿ä¸ªæ¡ä»¶æç¼ä¸ºä¸ä¸ªç¬ç«å½æ°ã\n\ndouble disabilityamount() {\n  if (isnoteligablefordisability()) {\n    return 0;\n  }\n  // compute the disability amount\n  //...\n}\n\n\n# åå¹¶éå¤çæ¡ä»¶çæ®µ(consolidate duplicate conditional fragments)\n\né®é¢\n\nå¨æ¡ä»¶è¡¨è¾¾å¼çæ¯ä¸ªåæ¯ä¸æçç¸åçä¸æ®µä»£ç ã\n\nif (isspecialdeal()) {\n  total = price * 0.95;\n  send();\n}\nelse {\n  total = price * 0.98;\n  send();\n}\n\n\nè§£å³\n\nå°è¿æ®µéå¤ä»£ç æ¬ç§»å°æ¡ä»¶è¡¨è¾¾å¼ä¹å¤ã\n\nif (isspecialdeal()) {\n  total = price * 0.95;\n}\nelse {\n  total = price * 0.98;\n}\nsend();\n\n\n\n# æ©å±éè¯»\n\n * ä»£ç çåå³éåéæ\n * ä»£ç åå³éä¹ä»£ç èè¿\n * ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡\n * ä»£ç åå³éä¹åé©çéç¢\n * ä»£ç åå³éä¹éå¿è¦ç\n * ä»£ç åå³éä¹è¦å\n\n\n# åèèµæ\n\n * ãä»£ç æ´æ´ä¹éã\n * ãéæ - æ¹åæ¢æä»£ç çè®¾è®¡ã\n * ãä»£ç å¤§å¨ã\n * https://sourcemaking.com/refactoring',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"ä»£ç åå³éä¹è¦å",frontmatter:{title:"ä»£ç åå³éä¹è¦å",date:"2018-10-13T22:48:00.000Z",categories:["è®¾è®¡","éæ"],tags:["è®¾è®¡","éæ","ä»£ç çåå³é"],permalink:"/pages/630e7a/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/03.%E9%87%8D%E6%9E%84/06.%E4%BB%A3%E7%A0%81%E5%9D%8F%E5%91%B3%E9%81%93%E4%B9%8B%E8%80%A6%E5%90%88.html",relativePath:"03.è®¾è®¡/03.éæ/06.ä»£ç åå³éä¹è¦å.md",key:"v-3a98d9f2",path:"/pages/630e7a/",headers:[{level:2,title:"ä¸å®ç¾çåºç±»",slug:"ä¸å®ç¾çåºç±»",normalizedTitle:"ä¸å®ç¾çåºç±»",charIndex:100},{level:3,title:"é®é¢åå ",slug:"é®é¢åå ",normalizedTitle:"é®é¢åå ",charIndex:198},{level:3,title:"è§£å³æ¹æ³",slug:"è§£å³æ¹æ³",normalizedTitle:"è§£å³æ¹æ³",charIndex:289},{level:3,title:"æ¶ç",slug:"æ¶ç",normalizedTitle:"æ¶ç",charIndex:415},{level:3,title:"ä½æ¶å¿½ç¥",slug:"ä½æ¶å¿½ç¥",normalizedTitle:"ä½æ¶å¿½ç¥",charIndex:462},{level:3,title:"éææ¹æ³è¯´æ",slug:"éææ¹æ³è¯´æ",normalizedTitle:"éææ¹æ³è¯´æ",charIndex:491},{level:4,title:"å¼å¥å¤å å½æ°(Introduce Foreign Method)",slug:"å¼å¥å¤å å½æ°-introduce-foreign-method",normalizedTitle:"å¼å¥å¤å å½æ°(introduce foreign method)",charIndex:319},{level:4,title:"å¼å¥æ¬å°æ©å±(Introduce Local Extension)",slug:"å¼å¥æ¬å°æ©å±-introduce-local-extension",normalizedTitle:"å¼å¥æ¬å°æ©å±(introduce local extension)",charIndex:375},{level:2,title:"ä¸­é´äºº",slug:"ä¸­é´äºº",normalizedTitle:"ä¸­é´äºº",charIndex:1118},{level:3,title:"é®é¢åå ",slug:"é®é¢åå -2",normalizedTitle:"é®é¢åå ",charIndex:198},{level:3,title:"è§£å³æ¹æ³",slug:"è§£å³æ¹æ³-2",normalizedTitle:"è§£å³æ¹æ³",charIndex:289},{level:3,title:"æ¶ç",slug:"æ¶ç-2",normalizedTitle:"æ¶ç",charIndex:415},{level:3,title:"ä½æ¶å¿½ç¥",slug:"ä½æ¶å¿½ç¥-2",normalizedTitle:"ä½æ¶å¿½ç¥",charIndex:462},{level:3,title:"éææ¹æ³è¯´æ",slug:"éææ¹æ³è¯´æ-2",normalizedTitle:"éææ¹æ³è¯´æ",charIndex:491},{level:4,title:"ç§»é¤ä¸­é´äºº(Remove Middle Man)",slug:"ç§»é¤ä¸­é´äºº-remove-middle-man",normalizedTitle:"ç§»é¤ä¸­é´äºº(remove middle man)",charIndex:1305},{level:2,title:"ä¾ææç»",slug:"ä¾ææç»",normalizedTitle:"ä¾ææç»",charIndex:1540},{level:3,title:"é®é¢åå ",slug:"é®é¢åå -3",normalizedTitle:"é®é¢åå ",charIndex:198},{level:3,title:"è§£å³æ¹æ³",slug:"è§£å³æ¹æ³-3",normalizedTitle:"è§£å³æ¹æ³",charIndex:289},{level:3,title:"æ¶ç",slug:"æ¶ç-3",normalizedTitle:"æ¶ç",charIndex:415},{level:3,title:"ä½æ¶å¿½ç¥",slug:"ä½æ¶å¿½ç¥-3",normalizedTitle:"ä½æ¶å¿½ç¥",charIndex:462},{level:3,title:"éææ¹æ³è¯´æ",slug:"éææ¹æ³è¯´æ-3",normalizedTitle:"éææ¹æ³è¯´æ",charIndex:491},{level:4,title:"æ¬ç§»å½æ°(Move Method)",slug:"æ¬ç§»å½æ°-move-method",normalizedTitle:"æ¬ç§»å½æ°(move method)",charIndex:1944},{level:4,title:"æç¼å½æ°(Extract Method)",slug:"æç¼å½æ°-extract-method",normalizedTitle:"æç¼å½æ°(extract method)",charIndex:1993},{level:2,title:"çæµå³ç³»",slug:"çæµå³ç³»",normalizedTitle:"çæµå³ç³»",charIndex:2863},{level:3,title:"é®é¢åå ",slug:"é®é¢åå -4",normalizedTitle:"é®é¢åå ",charIndex:198},{level:3,title:"è§£å³æ¹æ³",slug:"è§£å³æ¹æ³-4",normalizedTitle:"è§£å³æ¹æ³",charIndex:289},{level:3,title:"æ¶ç",slug:"æ¶ç-4",normalizedTitle:"æ¶ç",charIndex:415},{level:3,title:"éææ¹æ³è¯´æ",slug:"éææ¹æ³è¯´æ-4",normalizedTitle:"éææ¹æ³è¯´æ",charIndex:491},{level:4,title:"æ¬ç§»å½æ°(Move Method)",slug:"æ¬ç§»å½æ°-move-method-2",normalizedTitle:"æ¬ç§»å½æ°(move method)",charIndex:1944},{level:4,title:"æ¬ç§»å­æ®µ(Move Field)",slug:"æ¬ç§»å­æ®µ-move-field",normalizedTitle:"æ¬ç§»å­æ®µ(move field)",charIndex:3019},{level:4,title:"å°ååå³èæ¹ä¸ºååå³è(Change Bidirectional Association to Unidirectional)",slug:"å°ååå³èæ¹ä¸ºååå³è-change-bidirectional-association-to-unidirectional",normalizedTitle:"å°ååå³èæ¹ä¸ºååå³è(change bidirectional association to unidirectional)",charIndex:3065},{level:4,title:"æç¼ç±»(Extract Class)",slug:"æç¼ç±»-extract-class",normalizedTitle:"æç¼ç±»(extract class)",charIndex:3172},{level:4,title:"éèå§æå³ç³»(Hide Delegate)",slug:"éèå§æå³ç³»-hide-delegate",normalizedTitle:"éèå§æå³ç³»(hide delegate)",charIndex:3226},{level:4,title:"ä»¥å§æåä»£ç»§æ¿(Replace Inheritance with Delegation)",slug:"ä»¥å§æåä»£ç»§æ¿-replace-inheritance-with-delegation",normalizedTitle:"ä»¥å§æåä»£ç»§æ¿(replace inheritance with delegation)",charIndex:3323},{level:2,title:"è¿åº¦è¦åçæ¶æ¯é¾",slug:"è¿åº¦è¦åçæ¶æ¯é¾",normalizedTitle:"è¿åº¦è¦åçæ¶æ¯é¾",charIndex:4079},{level:3,title:"é®é¢åå ",slug:"é®é¢åå -5",normalizedTitle:"é®é¢åå ",charIndex:198},{level:3,title:"è§£å³æ¹æ³",slug:"è§£å³æ¹æ³-5",normalizedTitle:"è§£å³æ¹æ³",charIndex:289},{level:3,title:"æ¶ç",slug:"æ¶ç-5",normalizedTitle:"æ¶ç",charIndex:415},{level:3,title:"ä½æ¶å¿½ç¥",slug:"ä½æ¶å¿½ç¥-4",normalizedTitle:"ä½æ¶å¿½ç¥",charIndex:462},{level:3,title:"éææ¹æ³è¯´æ",slug:"éææ¹æ³è¯´æ-5",normalizedTitle:"éææ¹æ³è¯´æ",charIndex:491},{level:4,title:"éèå§æå³ç³»(Hide Delegate)",slug:"éèå§æå³ç³»-hide-delegate-2",normalizedTitle:"éèå§æå³ç³»(hide delegate)",charIndex:3226},{level:4,title:"æç¼å½æ°(Extract Method)",slug:"æç¼å½æ°-extract-method-2",normalizedTitle:"æç¼å½æ°(extract method)",charIndex:1993},{level:4,title:"æ¬ç§»å½æ°(Move Method)",slug:"æ¬ç§»å½æ°-move-method-3",normalizedTitle:"æ¬ç§»å½æ°(move method)",charIndex:1944},{level:2,title:"æ©å±éè¯»",slug:"æ©å±éè¯»",normalizedTitle:"æ©å±éè¯»",charIndex:5224},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:5318}],headersStr:"ä¸å®ç¾çåºç±» é®é¢åå  è§£å³æ¹æ³ æ¶ç ä½æ¶å¿½ç¥ éææ¹æ³è¯´æ å¼å¥å¤å å½æ°(Introduce Foreign Method) å¼å¥æ¬å°æ©å±(Introduce Local Extension) ä¸­é´äºº é®é¢åå  è§£å³æ¹æ³ æ¶ç ä½æ¶å¿½ç¥ éææ¹æ³è¯´æ ç§»é¤ä¸­é´äºº(Remove Middle Man) ä¾ææç» é®é¢åå  è§£å³æ¹æ³ æ¶ç ä½æ¶å¿½ç¥ éææ¹æ³è¯´æ æ¬ç§»å½æ°(Move Method) æç¼å½æ°(Extract Method) çæµå³ç³» é®é¢åå  è§£å³æ¹æ³ æ¶ç éææ¹æ³è¯´æ æ¬ç§»å½æ°(Move Method) æ¬ç§»å­æ®µ(Move Field) å°ååå³èæ¹ä¸ºååå³è(Change Bidirectional Association to Unidirectional) æç¼ç±»(Extract Class) éèå§æå³ç³»(Hide Delegate) ä»¥å§æåä»£ç»§æ¿(Replace Inheritance with Delegation) è¿åº¦è¦åçæ¶æ¯é¾ é®é¢åå  è§£å³æ¹æ³ æ¶ç ä½æ¶å¿½ç¥ éææ¹æ³è¯´æ éèå§æå³ç³»(Hide Delegate) æç¼å½æ°(Extract Method) æ¬ç§»å½æ°(Move Method) æ©å±éè¯» åèèµæ",content:'> ç¿»è¯èªï¼https://sourcemaking.com/refactoring/smells/couplers\n> \n> è¦å(Couplers)è¿ç»åå³éæå³çï¼ä¸åç±»ä¹é´è¿åº¦è¦åã\n\n\n# ä¸å®ç¾çåºç±»\n\n> ä¸å®ç¾çåºç±»(Incomplete Library Class)\n> \n> å½ä¸ä¸ªç±»åºå·²ç»ä¸è½æ»¡è¶³å®ééè¦æ¶ï¼ä½ å°±ä¸å¾ä¸æ¹åè¿ä¸ªåºï¼å¦æè¿ä¸ªåºæ¯åªè¯»çï¼é£å°±æ²¡è¾äºï¼ã\n\n\n# é®é¢åå \n\nè®¸å¤ç¼ç¨ææ¯é½å»ºç«å¨åºç±»çåºç¡ä¸ãåºç±»çä½èæ²¡ç¨æªååç¥çè½åï¼ä¸è½å æ­¤è´£æªä»ä»¬ãéº»ç¦çæ¯åºå¾å¾æé çä¸å¤å¥½ï¼èä¸å¾å¾ä¸å¯è½è®©æä»¬ä¿®æ¹å¶ä¸­çç±»ä»¥æ»¡è¶³æä»¬çéè¦ã\n\n\n# è§£å³æ¹æ³\n\n * å¦æä½ åªæ³ä¿®æ¹ç±»åºçä¸ä¸¤ä¸ªå½æ°ï¼å¯ä»¥è¿ç¨ å¼å¥å¤å å½æ°(Introduce Foreign Method)ï¼\n * å¦ææ³è¦æ·»å ä¸å¤§å é¢å¤è¡ä¸ºï¼å°±å¾è¿ç¨ å¼å¥æ¬å°æ©å±(Introduce Local Extension) ã\n\n\n# æ¶ç\n\n * åå°ä»£ç éå¤ï¼ä½ ä¸ç¨ä¸è¨ä¸åå°±èªå·±å¨æå®ç°ä¸ä¸ªåºçå¨é¨åè½ï¼ä»£ä»·å¤ªé«ï¼\n\n\n# ä½æ¶å¿½ç¥\n\n * å¦ææ©å±åºä¼å¸¦æ¥é¢å¤çå·¥ä½éã\n\n\n# éææ¹æ³è¯´æ\n\n# å¼å¥å¤å å½æ°(Introduce Foreign Method)\n\né®é¢\n\nä½ éè¦ä¸ºæä¾æå¡çç±»å¢å ä¸ä¸ªå½æ°ï¼ä½ä½ æ æ³ä¿®æ¹è¿ä¸ªç±»ã\n\nclass Report {\n  //...\n  void sendReport() {\n    Date nextDay = new Date(previousEnd.getYear(),\n      previousEnd.getMonth(), previousEnd.getDate() + 1);\n    //...\n  }\n}\n\n\nè§£å³\n\nå¨å®¢æ·ç±»ä¸­å»ºç«ä¸ä¸ªå½æ°ï¼å¹¶ä¸ä¸ªç¬¬ä¸ä¸ªåæ°å½¢å¼ä¼ å¥ä¸ä¸ªæå¡ç±»å®ä¾ã\n\nclass Report {\n  //...\n  void sendReport() {\n    Date newStart = nextDay(previousEnd);\n    //...\n  }\n  private static Date nextDay(Date arg) {\n    return new Date(arg.getYear(), arg.getMonth(), arg.getDate() + 1);\n  }\n}\n\n\n# å¼å¥æ¬å°æ©å±(Introduce Local Extension)\n\né®é¢\n\nä½ éè¦ä¸ºæå¡ç±»æä¾ä¸äºé¢å¤å½æ°ï¼ä½ä½ æ æ³ä¿®æ¹è¿ä¸ªç±»ã\n\n\n\nè§£å³\n\nå»ºç«ä¸ä¸ªæ°ç±»ï¼ä½¿å®åå«è¿äºé¢å¤å½æ°ï¼è®©è¿ä¸ªæ©å±åæä¸ºæºç±»çå­ç±»æåè£ç±»ã\n\n\n\n\n# ä¸­é´äºº\n\n> ä¸­é´äºº(Middle Man)\n> \n> å¦æä¸ä¸ªç±»çä½ç¨ä»ä»æ¯æåå¦ä¸ä¸ªç±»çå§æï¼ä¸ºä»ä¹è¦å­å¨å¢ï¼\n\n\n\n\n# é®é¢åå \n\nå¯¹è±¡çåºæ¬ç¹å¾ä¹ä¸å°±æ¯å°è£ï¼å¯¹å¤é¨ä¸çéèå¶åé¨ç»èãå°è£å¾å¾ä¼´éå§æãä½æ¯äººä»¬å¯è½è¿åº¦è¿ç¨å§æãæ¯å¦ï¼ä½ ä¹è®¸ä¼çå°ä¸ä¸ªç±»çå¤§é¨åæç¨å·¥ä½é½å§æç»äºå¶ä»ç±»ï¼ç±»æ¬èº«æäºä¸ä¸ªç©ºå£³ï¼é¤äºå§æä¹å¤ä¸åä»»ä½äºæã\n\n\n# è§£å³æ¹æ³\n\nåºè¯¥è¿ç¨ ç§»é¤ä¸­é´äºº(Remove Middle Man)ï¼ç´æ¥åçæ­£è´è´£çå¯¹è±¡æäº¤éã\n\n\n# æ¶ç\n\n * åå°ç¬¨éçä»£ç ã\n\n\n\n\n# ä½æ¶å¿½ç¥\n\nå¦ææ¯ä»¥ä¸æåµï¼ä¸è¦å é¤å·²åå»ºçä¸­é´äººï¼\n\n * æ·»å ä¸­é´äººæ¯ä¸ºäºé¿åç±»ä¹é´ä¾èµå³ç³»ã\n * ä¸äºè®¾è®¡æ¨¡å¼æç®çå°åå»ºä¸­é´äººï¼ä¾å¦ä»£çæ¨¡å¼åè£é¥°å¨æ¨¡å¼ï¼ã\n\n\n# éææ¹æ³è¯´æ\n\n# ç§»é¤ä¸­é´äºº(Remove Middle Man)\n\né®é¢\n\næä¸ªç±»åäºè¿å¤çç®åå§æå¨ä½ã\n\n\n\nè§£å³\n\nè®©å®¢æ·ç´æ¥è°ç¨å§æç±»ã\n\n\n\n\n# ä¾ææç»\n\n> ä¾ææç»(Feature Envy)\n> \n> ä¸ä¸ªå½æ°è®¿é®å¶å®å¯¹è±¡çæ°æ®æ¯è®¿é®èªå·±çæ°æ®æ´å¤ã\n\n\n\n\n# é®é¢åå \n\nè¿ç§æ°å³å¯è½åçå¨å­æ®µç§»å¨å°æ°æ®ç±»ä¹åãå¦ææ¯è¿ç§æåµï¼ä½ å¯è½æ³å°æ°æ®ç±»çæä½ç§»å¨å°è¿ä¸ªç±»ä¸­ã\n\n\n# è§£å³æ¹æ³\n\nAs a basic rule, if things change at the same time, you should keep them in the same place. Usually data and functions that use this data are changed together (although exceptions are possible).\n\næä¸ä¸ªåºæ¬ååï¼åæ¶ä¼åçæ¹åçäºæåºè¯¥è¢«æ¾å¨åä¸ä¸ªå°æ¹ãéå¸¸ï¼æ°æ®åä½¿ç¨è¿äºæ°æ®çå½æ°æ¯ä¸èµ·æ¹åçã\n\n\n\n * å¦æä¸ä¸ªå½æ°ææ¾åºè¯¥è¢«ç§»å°å¦ä¸ä¸ªå°æ¹ï¼å¯è¿ç¨ æ¬ç§»å½æ°(Move Method) ã\n * å¦æä»ä»æ¯å½æ°çé¨åä»£ç è®¿é®å¦ä¸ä¸ªå¯¹è±¡çæ°æ®ï¼è¿ç¨ æç¼å½æ°(Extract Method) å°è¿é¨åä»£ç ç§»å°ç¬ç«çå½æ°ä¸­ã\n * å¦æä¸ä¸ªæ¹æ³ä½¿ç¨æ¥èªå¶ä»å ä¸ªç±»çå½æ°ï¼é¦åç¡®å®åªä¸ªç±»åå«å¤§å¤æ°ä½¿ç¨çæ°æ®ãç¶åï¼å°è¯¥æ¹æ³ä¸å¶ä»æ°æ®ä¸èµ·æ¾å¨æ­¤ç±»ä¸­ãæèï¼ä½¿ç¨ æç¼å½æ°(Extract Method) å°æ¹æ³æåä¸ºå ä¸ªé¨åï¼å¯ä»¥æ¾ç½®å¨ä¸åç±»ä¸­çä¸åä½ç½®ã\n\n\n# æ¶ç\n\n * åå°éå¤ä»£ç ï¼å¦ææ°æ®å¤ççä»£ç æ¾å¨ä¸­å¿ä½ç½®ï¼ã\n * æ´å¥½çä»£ç ç»ç»æ§ï¼å¤çæ°æ®çå½æ°é è¿å®éæ°æ®ï¼ã\n\n\n\n\n# ä½æ¶å¿½ç¥\n\n * ææ¶ï¼è¡ä¸ºè¢«ææå°ä¸ä¿å­æ°æ®çç±»åå¼ãè¿éå¸¸çä¼ç¹æ¯è½å¤å¨æå°æ¹åè¡ä¸ºï¼è§ç­ç¥è®¾è®¡æ¨¡å¼ï¼è®¿é®èè®¾è®¡æ¨¡å¼åå¶ä»æ¨¡å¼ï¼ã\n\n\n# éææ¹æ³è¯´æ\n\n# æ¬ç§»å½æ°(Move Method)\n\né®é¢\n\nä½ çç¨åºä¸­ï¼æä¸ªå½æ°ä¸å¶æé©»ç±»ä¹å¤çå¦ä¸ä¸ªç±»è¿è¡æ´å¤äº¤æµï¼è°ç¨åèï¼æè¢«åèè°ç¨ã\n\n\n\nè§£å³\n\nå¨è¯¥å½æ°æå¸¸å¼ç¨çç±»ä¸­å»ºç«ä¸ä¸ªæçç±»ä¼¼è¡ä¸ºçæ°å½æ°ãå°æ§å½æ°åæä¸ä¸ªåçº¯çå§æå½æ°ï¼ææ¯æ§å½æ°å®å¨ç§»é¤ã\n\n\n\n# æç¼å½æ°(Extract Method)\n\né®é¢\n\nä½ æä¸æ®µä»£ç å¯ä»¥ç»ç»å¨ä¸èµ·ã\n\nvoid printOwing() {\n  printBanner();\n\n  //print details\n  System.out.println("name: " + name);\n  System.out.println("amount: " + getOutstanding());\n}\n\n\nè§£å³\n\nç§»å¨è¿æ®µä»£ç å°ä¸ä¸ªæ°çå½æ°ä¸­ï¼ä½¿ç¨å½æ°çè°ç¨æ¥æ¿ä»£èä»£ç ã\n\nvoid printOwing() {\n  printBanner();\n  printDetails(getOutstanding());\n}\n\nvoid printDetails(double outstanding) {\n  System.out.println("name: " + name);\n  System.out.println("amount: " + outstanding);\n}\n\n\n\n# çæµå³ç³»\n\n> çæµå³ç³»(Inappropriate Intimacy)\n> \n> ä¸ä¸ªç±»å¤§éä½¿ç¨å¦ä¸ä¸ªç±»çåé¨å­æ®µåæ¹æ³ã\n\n\n\n\n# é®é¢åå \n\nç±»åç±»ä¹é´åºè¯¥å°½éå°çæç¥å½¼æ­¤ï¼åå°è¦åï¼ãè¿æ ·çç±»æ´å®¹æç»´æ¤åå¤ç¨ã\n\n\n# è§£å³æ¹æ³\n\n * æç®åçè§£å³æ¹æ³æ¯è¿ç¨ æ¬ç§»å½æ°(Move Method) å æ¬ç§»å­æ®µ(Move Field) æ¥è®©ç±»ä¹é´æ©æ­ç¾ç»ã\n\n\n\n * ä½ ä¹å¯ä»¥ççæ¯å¦è½è¿ç¨ å°ååå³èæ¹ä¸ºååå³è(Change Bidirectional Association to Unidirectional) è®©å¶ä¸­ä¸ä¸ªç±»å¯¹å¦ä¸ä¸ªè¯´åæã\n\n * å¦æè¿ä¸¤ä¸ªç±»å®å¨æ¯ææ¯éåï¼é¾åé¾èï¼å¯ä»¥è¿ç¨ æç¼ç±»(Extract Class) æäºèå±åç¹æç¼å°ä¸ä¸ªæ°ç±»ä¸­ï¼è®©å®ä»¬äº§çç±çç»æ¶ãæèï¼å¯ä»¥å°è¯è¿ç¨ éèå§æå³ç³»(Hide Delegate) è®©å¦ä¸ä¸ªç±»æ¥ä¸ºå®ä»¬çµçº¿æ­æ¡¥ã\n\n * ç»§æ¿å¾å¾é æç±»ä¹é´è¿åç´§å¯ï¼å ä¸ºå­ç±»å¯¹è¶ç±»çäºè§£æ»æ¯è¶è¿åèçä¸»è§æ¿æï¼å¦æä½ è§å¾è¯¥è®©è¿ä¸ªå­ç±»èªå·±é¯è¡ï¼è¯·è¿ç¨ ä»¥å§æåä»£ç»§æ¿(Replace Inheritance with Delegation) æ¥è®©è¶ç±»åå­ç±»åå®¶ã\n\n\n# æ¶ç\n\n * æé«ä»£ç ç»ç»æ§ã\n * æé«ä»£ç å¤ç¨æ§ã\n\n\n\n\n# éææ¹æ³è¯´æ\n\n# æ¬ç§»å½æ°(Move Method)\n\né®é¢\n\nä½ çç¨åºä¸­ï¼æä¸ªå½æ°ä¸å¶æé©»ç±»ä¹å¤çå¦ä¸ä¸ªç±»è¿è¡æ´å¤äº¤æµï¼è°ç¨åèï¼æè¢«åèè°ç¨ã\n\n\n\nè§£å³\n\nå¨è¯¥å½æ°æå¸¸å¼ç¨çç±»ä¸­å»ºç«ä¸ä¸ªæçç±»ä¼¼è¡ä¸ºçæ°å½æ°ãå°æ§å½æ°åæä¸ä¸ªåçº¯çå§æå½æ°ï¼ææ¯æ§å½æ°å®å¨ç§»é¤ã\n\n\n\n# æ¬ç§»å­æ®µ(Move Field)\n\né®é¢\n\nå¨ä½ çç¨åºä¸­ï¼æä¸ªå­æ®µè¢«å¶æé©»ç±»ä¹å¤çå¦ä¸ä¸ªç±»æ´å¤å°ç¨å°ã\n\n\n\nè§£å³\n\nå¨ç®æ ç±»æ°å»ºä¸ä¸ªå­æ®µï¼ä¿®æ¹æºå­æ®µçææç¨æ·ï¼ä»¤ä»ä»¬æ¹ç¨æ°å­æ®µã\n\n\n\n# å°ååå³èæ¹ä¸ºååå³è(Change Bidirectional Association to Unidirectional)\n\né®é¢\n\nä¸¤ä¸ªç±»ä¹é´æååå³èï¼ä½å¶ä¸­ä¸ä¸ªç±»å¦ä»ä¸åéè¦å¦ä¸ä¸ªç±»çç¹æ§ã\n\n\n\nè§£å³\n\nå»é¤ä¸å¿è¦çå³èã\n\n\n\n# æç¼ç±»(Extract Class)\n\né®é¢\n\næä¸ªç±»åäºä¸æ­¢ä¸ä»¶äºã\n\n\n\nè§£å³\n\nå»ºç«ä¸ä¸ªæ°ç±»ï¼å°ç¸å³çå­æ®µåå½æ°ä»æ§ç±»æ¬ç§»å°æ°ç±»ã\n\n\n\n# éèå§æå³ç³»(Hide Delegate)\n\né®é¢\n\nå®¢æ·éè¿ä¸ä¸ªå§æç±»æ¥è°ç¨å¦ä¸ä¸ªå¯¹è±¡ã\n\n\n\nè§£å³\n\nå¨æå¡ç±»ä¸å»ºç«å®¢æ·æéçææå½æ°ï¼ç¨ä»¥éèå§æå³ç³»ã\n\n\n\n# ä»¥å§æåä»£ç»§æ¿(Replace Inheritance with Delegation)\n\né®é¢\n\næä¸ªå­ç±»åªä½¿ç¨è¶ç±»æ¥å£ä¸­çä¸é¨åï¼ææ¯æ ¹æ¬ä¸éè¦ç»§æ¿èæ¥çæ°æ®ã\n\n\n\nè§£å³\n\nå¨å­ç±»ä¸­æ°å»ºä¸ä¸ªå­æ®µç¨ä»¥ä¿å­è¶ç±»ï¼è°æ´å­ç±»å½æ°ï¼ä»¤å®æ¹èå§æè¶ç±»ï¼ç¶åå»æä¸¤èä¹é´çç»§æ¿å³ç³»ã\n\n\n\n\n# è¿åº¦è¦åçæ¶æ¯é¾\n\n> è¿åº¦è¦åçæ¶æ¯é¾(Message Chains)\n> \n> æ¶æ¯é¾çå½¢å¼ç±»ä¼¼äºï¼obj.getA().getB().getC()ã\n\n\n\n\n# é®é¢åå \n\nå¦æä½ çå°ç¨æ·åä¸ä¸ªå¯¹è±¡è¯·æ±å¦ä¸ä¸ªå¯¹è±¡ï¼ç¶ååååèè¯·æ±å¦ä¸ä¸ªå¯¹è±¡ï¼ç¶ååè¯·æ±å¦ä¸ä¸ªå¯¹è±¡â¦â¦è¿å°±æ¯æ¶æ¯é¾ãå®éä»£ç ä¸­ä½ çå°çå¯è½æ¯ä¸é¿ä¸² getThis()æä¸é¿ä¸²ä¸´æ¶åéãéåè¿ç§æ¹å¼ï¼æå³å®¢æ·ä»£ç å°ä¸æ¥æ¾è¿ç¨ä¸­çå¯¼èªç´§å¯è¦åãä¸æ¦å¯¹è±¡é´å³ç³»åçä»»ä½ååï¼å®¢æ·ç«¯å°±ä¸å¾ä¸ååºç¸åºçä¿®æ¹ã\n\n\n# è§£å³æ¹æ³\n\n * å¯ä»¥è¿ç¨ éèå§æå³ç³»(Hide Delegate) å é¤ä¸ä¸ªæ¶æ¯é¾ã\n\n\n\n * ææ¶æ´å¥½çéæ©æ¯ï¼åè§å¯æ¶æ¯é¾æç»å¾å°çå¯¹è±¡æ¯ç¨æ¥å¹²ä»ä¹çãççè½å¦ä»¥ æç¼å½æ°(Extract Method)æä½¿ç¨è¯¥å¯¹è±¡çä»£ç æç¼å°ä¸ä¸ªç¬ç«å½æ°ä¸­ï¼åè¿ç¨ æ¬ç§»å½æ°(Move Method) æè¿ä¸ªå½æ°æ¨å¥æ¶æ¯é¾ã\n\n\n# æ¶ç\n\n * è½åå°é¾ä¸­ç±»ä¹é´çä¾èµã\n * è½åå°ä»£ç éã\n\n\n\n\n# ä½æ¶å¿½ç¥\n\n * è¿äºä¾µç¥æ§çå§æå¯è½ä¼ä½¿ç¨åºåé¾ä»¥çè§£åè½æ¯å¦ä½è§¦åçã\n\n\n# éææ¹æ³è¯´æ\n\n# éèå§æå³ç³»(Hide Delegate)\n\né®é¢\n\nå®¢æ·éè¿ä¸ä¸ªå§æç±»æ¥è°ç¨å¦ä¸ä¸ªå¯¹è±¡ã\n\n\n\nè§£å³\n\nå¨æå¡ç±»ä¸å»ºç«å®¢æ·æéçææå½æ°ï¼ç¨ä»¥éèå§æå³ç³»ã\n\n\n\n# æç¼å½æ°(Extract Method)\n\né®é¢\n\nä½ æä¸æ®µä»£ç å¯ä»¥ç»ç»å¨ä¸èµ·ã\n\nvoid printOwing() {\n  printBanner();\n\n  //print details\n  System.out.println("name: " + name);\n  System.out.println("amount: " + getOutstanding());\n}\n\n\nè§£å³\n\nç§»å¨è¿æ®µä»£ç å°ä¸ä¸ªæ°çå½æ°ä¸­ï¼ä½¿ç¨å½æ°çè°ç¨æ¥æ¿ä»£èä»£ç ã\n\nvoid printOwing() {\n  printBanner();\n  printDetails(getOutstanding());\n}\n\nvoid printDetails(double outstanding) {\n  System.out.println("name: " + name);\n  System.out.println("amount: " + outstanding);\n}\n\n\n# æ¬ç§»å½æ°(Move Method)\n\né®é¢\n\nä½ çç¨åºä¸­ï¼æä¸ªå½æ°ä¸å¶æé©»ç±»ä¹å¤çå¦ä¸ä¸ªç±»è¿è¡æ´å¤äº¤æµï¼è°ç¨åèï¼æè¢«åèè°ç¨ã\n\n\n\nè§£å³\n\nå¨è¯¥å½æ°æå¸¸å¼ç¨çç±»ä¸­å»ºç«ä¸ä¸ªæçç±»ä¼¼è¡ä¸ºçæ°å½æ°ãå°æ§å½æ°åæä¸ä¸ªåçº¯çå§æå½æ°ï¼ææ¯æ§å½æ°å®å¨ç§»é¤ã\n\n\n\n\n# æ©å±éè¯»\n\n * ä»£ç çåå³éåéæ\n * ä»£ç åå³éä¹ä»£ç èè¿\n * ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡\n * ä»£ç åå³éä¹åé©çéç¢\n * ä»£ç åå³éä¹éå¿è¦ç\n * ä»£ç åå³éä¹è¦å\n\n\n# åèèµæ\n\n * ãä»£ç æ´æ´ä¹éã\n * ãéæ - æ¹åæ¢æä»£ç çè®¾è®¡ã\n * ãä»£ç å¤§å¨ã\n * https://sourcemaking.com/refactoring',normalizedContent:'> ç¿»è¯èªï¼https://sourcemaking.com/refactoring/smells/couplers\n> \n> è¦å(couplers)è¿ç»åå³éæå³çï¼ä¸åç±»ä¹é´è¿åº¦è¦åã\n\n\n# ä¸å®ç¾çåºç±»\n\n> ä¸å®ç¾çåºç±»(incomplete library class)\n> \n> å½ä¸ä¸ªç±»åºå·²ç»ä¸è½æ»¡è¶³å®ééè¦æ¶ï¼ä½ å°±ä¸å¾ä¸æ¹åè¿ä¸ªåºï¼å¦æè¿ä¸ªåºæ¯åªè¯»çï¼é£å°±æ²¡è¾äºï¼ã\n\n\n# é®é¢åå \n\nè®¸å¤ç¼ç¨ææ¯é½å»ºç«å¨åºç±»çåºç¡ä¸ãåºç±»çä½èæ²¡ç¨æªååç¥çè½åï¼ä¸è½å æ­¤è´£æªä»ä»¬ãéº»ç¦çæ¯åºå¾å¾æé çä¸å¤å¥½ï¼èä¸å¾å¾ä¸å¯è½è®©æä»¬ä¿®æ¹å¶ä¸­çç±»ä»¥æ»¡è¶³æä»¬çéè¦ã\n\n\n# è§£å³æ¹æ³\n\n * å¦æä½ åªæ³ä¿®æ¹ç±»åºçä¸ä¸¤ä¸ªå½æ°ï¼å¯ä»¥è¿ç¨ å¼å¥å¤å å½æ°(introduce foreign method)ï¼\n * å¦ææ³è¦æ·»å ä¸å¤§å é¢å¤è¡ä¸ºï¼å°±å¾è¿ç¨ å¼å¥æ¬å°æ©å±(introduce local extension) ã\n\n\n# æ¶ç\n\n * åå°ä»£ç éå¤ï¼ä½ ä¸ç¨ä¸è¨ä¸åå°±èªå·±å¨æå®ç°ä¸ä¸ªåºçå¨é¨åè½ï¼ä»£ä»·å¤ªé«ï¼\n\n\n# ä½æ¶å¿½ç¥\n\n * å¦ææ©å±åºä¼å¸¦æ¥é¢å¤çå·¥ä½éã\n\n\n# éææ¹æ³è¯´æ\n\n# å¼å¥å¤å å½æ°(introduce foreign method)\n\né®é¢\n\nä½ éè¦ä¸ºæä¾æå¡çç±»å¢å ä¸ä¸ªå½æ°ï¼ä½ä½ æ æ³ä¿®æ¹è¿ä¸ªç±»ã\n\nclass report {\n  //...\n  void sendreport() {\n    date nextday = new date(previousend.getyear(),\n      previousend.getmonth(), previousend.getdate() + 1);\n    //...\n  }\n}\n\n\nè§£å³\n\nå¨å®¢æ·ç±»ä¸­å»ºç«ä¸ä¸ªå½æ°ï¼å¹¶ä¸ä¸ªç¬¬ä¸ä¸ªåæ°å½¢å¼ä¼ å¥ä¸ä¸ªæå¡ç±»å®ä¾ã\n\nclass report {\n  //...\n  void sendreport() {\n    date newstart = nextday(previousend);\n    //...\n  }\n  private static date nextday(date arg) {\n    return new date(arg.getyear(), arg.getmonth(), arg.getdate() + 1);\n  }\n}\n\n\n# å¼å¥æ¬å°æ©å±(introduce local extension)\n\né®é¢\n\nä½ éè¦ä¸ºæå¡ç±»æä¾ä¸äºé¢å¤å½æ°ï¼ä½ä½ æ æ³ä¿®æ¹è¿ä¸ªç±»ã\n\n\n\nè§£å³\n\nå»ºç«ä¸ä¸ªæ°ç±»ï¼ä½¿å®åå«è¿äºé¢å¤å½æ°ï¼è®©è¿ä¸ªæ©å±åæä¸ºæºç±»çå­ç±»æåè£ç±»ã\n\n\n\n\n# ä¸­é´äºº\n\n> ä¸­é´äºº(middle man)\n> \n> å¦æä¸ä¸ªç±»çä½ç¨ä»ä»æ¯æåå¦ä¸ä¸ªç±»çå§æï¼ä¸ºä»ä¹è¦å­å¨å¢ï¼\n\n\n\n\n# é®é¢åå \n\nå¯¹è±¡çåºæ¬ç¹å¾ä¹ä¸å°±æ¯å°è£ï¼å¯¹å¤é¨ä¸çéèå¶åé¨ç»èãå°è£å¾å¾ä¼´éå§æãä½æ¯äººä»¬å¯è½è¿åº¦è¿ç¨å§æãæ¯å¦ï¼ä½ ä¹è®¸ä¼çå°ä¸ä¸ªç±»çå¤§é¨åæç¨å·¥ä½é½å§æç»äºå¶ä»ç±»ï¼ç±»æ¬èº«æäºä¸ä¸ªç©ºå£³ï¼é¤äºå§æä¹å¤ä¸åä»»ä½äºæã\n\n\n# è§£å³æ¹æ³\n\nåºè¯¥è¿ç¨ ç§»é¤ä¸­é´äºº(remove middle man)ï¼ç´æ¥åçæ­£è´è´£çå¯¹è±¡æäº¤éã\n\n\n# æ¶ç\n\n * åå°ç¬¨éçä»£ç ã\n\n\n\n\n# ä½æ¶å¿½ç¥\n\nå¦ææ¯ä»¥ä¸æåµï¼ä¸è¦å é¤å·²åå»ºçä¸­é´äººï¼\n\n * æ·»å ä¸­é´äººæ¯ä¸ºäºé¿åç±»ä¹é´ä¾èµå³ç³»ã\n * ä¸äºè®¾è®¡æ¨¡å¼æç®çå°åå»ºä¸­é´äººï¼ä¾å¦ä»£çæ¨¡å¼åè£é¥°å¨æ¨¡å¼ï¼ã\n\n\n# éææ¹æ³è¯´æ\n\n# ç§»é¤ä¸­é´äºº(remove middle man)\n\né®é¢\n\næä¸ªç±»åäºè¿å¤çç®åå§æå¨ä½ã\n\n\n\nè§£å³\n\nè®©å®¢æ·ç´æ¥è°ç¨å§æç±»ã\n\n\n\n\n# ä¾ææç»\n\n> ä¾ææç»(feature envy)\n> \n> ä¸ä¸ªå½æ°è®¿é®å¶å®å¯¹è±¡çæ°æ®æ¯è®¿é®èªå·±çæ°æ®æ´å¤ã\n\n\n\n\n# é®é¢åå \n\nè¿ç§æ°å³å¯è½åçå¨å­æ®µç§»å¨å°æ°æ®ç±»ä¹åãå¦ææ¯è¿ç§æåµï¼ä½ å¯è½æ³å°æ°æ®ç±»çæä½ç§»å¨å°è¿ä¸ªç±»ä¸­ã\n\n\n# è§£å³æ¹æ³\n\nas a basic rule, if things change at the same time, you should keep them in the same place. usually data and functions that use this data are changed together (although exceptions are possible).\n\næä¸ä¸ªåºæ¬ååï¼åæ¶ä¼åçæ¹åçäºæåºè¯¥è¢«æ¾å¨åä¸ä¸ªå°æ¹ãéå¸¸ï¼æ°æ®åä½¿ç¨è¿äºæ°æ®çå½æ°æ¯ä¸èµ·æ¹åçã\n\n\n\n * å¦æä¸ä¸ªå½æ°ææ¾åºè¯¥è¢«ç§»å°å¦ä¸ä¸ªå°æ¹ï¼å¯è¿ç¨ æ¬ç§»å½æ°(move method) ã\n * å¦æä»ä»æ¯å½æ°çé¨åä»£ç è®¿é®å¦ä¸ä¸ªå¯¹è±¡çæ°æ®ï¼è¿ç¨ æç¼å½æ°(extract method) å°è¿é¨åä»£ç ç§»å°ç¬ç«çå½æ°ä¸­ã\n * å¦æä¸ä¸ªæ¹æ³ä½¿ç¨æ¥èªå¶ä»å ä¸ªç±»çå½æ°ï¼é¦åç¡®å®åªä¸ªç±»åå«å¤§å¤æ°ä½¿ç¨çæ°æ®ãç¶åï¼å°è¯¥æ¹æ³ä¸å¶ä»æ°æ®ä¸èµ·æ¾å¨æ­¤ç±»ä¸­ãæèï¼ä½¿ç¨ æç¼å½æ°(extract method) å°æ¹æ³æåä¸ºå ä¸ªé¨åï¼å¯ä»¥æ¾ç½®å¨ä¸åç±»ä¸­çä¸åä½ç½®ã\n\n\n# æ¶ç\n\n * åå°éå¤ä»£ç ï¼å¦ææ°æ®å¤ççä»£ç æ¾å¨ä¸­å¿ä½ç½®ï¼ã\n * æ´å¥½çä»£ç ç»ç»æ§ï¼å¤çæ°æ®çå½æ°é è¿å®éæ°æ®ï¼ã\n\n\n\n\n# ä½æ¶å¿½ç¥\n\n * ææ¶ï¼è¡ä¸ºè¢«ææå°ä¸ä¿å­æ°æ®çç±»åå¼ãè¿éå¸¸çä¼ç¹æ¯è½å¤å¨æå°æ¹åè¡ä¸ºï¼è§ç­ç¥è®¾è®¡æ¨¡å¼ï¼è®¿é®èè®¾è®¡æ¨¡å¼åå¶ä»æ¨¡å¼ï¼ã\n\n\n# éææ¹æ³è¯´æ\n\n# æ¬ç§»å½æ°(move method)\n\né®é¢\n\nä½ çç¨åºä¸­ï¼æä¸ªå½æ°ä¸å¶æé©»ç±»ä¹å¤çå¦ä¸ä¸ªç±»è¿è¡æ´å¤äº¤æµï¼è°ç¨åèï¼æè¢«åèè°ç¨ã\n\n\n\nè§£å³\n\nå¨è¯¥å½æ°æå¸¸å¼ç¨çç±»ä¸­å»ºç«ä¸ä¸ªæçç±»ä¼¼è¡ä¸ºçæ°å½æ°ãå°æ§å½æ°åæä¸ä¸ªåçº¯çå§æå½æ°ï¼ææ¯æ§å½æ°å®å¨ç§»é¤ã\n\n\n\n# æç¼å½æ°(extract method)\n\né®é¢\n\nä½ æä¸æ®µä»£ç å¯ä»¥ç»ç»å¨ä¸èµ·ã\n\nvoid printowing() {\n  printbanner();\n\n  //print details\n  system.out.println("name: " + name);\n  system.out.println("amount: " + getoutstanding());\n}\n\n\nè§£å³\n\nç§»å¨è¿æ®µä»£ç å°ä¸ä¸ªæ°çå½æ°ä¸­ï¼ä½¿ç¨å½æ°çè°ç¨æ¥æ¿ä»£èä»£ç ã\n\nvoid printowing() {\n  printbanner();\n  printdetails(getoutstanding());\n}\n\nvoid printdetails(double outstanding) {\n  system.out.println("name: " + name);\n  system.out.println("amount: " + outstanding);\n}\n\n\n\n# çæµå³ç³»\n\n> çæµå³ç³»(inappropriate intimacy)\n> \n> ä¸ä¸ªç±»å¤§éä½¿ç¨å¦ä¸ä¸ªç±»çåé¨å­æ®µåæ¹æ³ã\n\n\n\n\n# é®é¢åå \n\nç±»åç±»ä¹é´åºè¯¥å°½éå°çæç¥å½¼æ­¤ï¼åå°è¦åï¼ãè¿æ ·çç±»æ´å®¹æç»´æ¤åå¤ç¨ã\n\n\n# è§£å³æ¹æ³\n\n * æç®åçè§£å³æ¹æ³æ¯è¿ç¨ æ¬ç§»å½æ°(move method) å æ¬ç§»å­æ®µ(move field) æ¥è®©ç±»ä¹é´æ©æ­ç¾ç»ã\n\n\n\n * ä½ ä¹å¯ä»¥ççæ¯å¦è½è¿ç¨ å°ååå³èæ¹ä¸ºååå³è(change bidirectional association to unidirectional) è®©å¶ä¸­ä¸ä¸ªç±»å¯¹å¦ä¸ä¸ªè¯´åæã\n\n * å¦æè¿ä¸¤ä¸ªç±»å®å¨æ¯ææ¯éåï¼é¾åé¾èï¼å¯ä»¥è¿ç¨ æç¼ç±»(extract class) æäºèå±åç¹æç¼å°ä¸ä¸ªæ°ç±»ä¸­ï¼è®©å®ä»¬äº§çç±çç»æ¶ãæèï¼å¯ä»¥å°è¯è¿ç¨ éèå§æå³ç³»(hide delegate) è®©å¦ä¸ä¸ªç±»æ¥ä¸ºå®ä»¬çµçº¿æ­æ¡¥ã\n\n * ç»§æ¿å¾å¾é æç±»ä¹é´è¿åç´§å¯ï¼å ä¸ºå­ç±»å¯¹è¶ç±»çäºè§£æ»æ¯è¶è¿åèçä¸»è§æ¿æï¼å¦æä½ è§å¾è¯¥è®©è¿ä¸ªå­ç±»èªå·±é¯è¡ï¼è¯·è¿ç¨ ä»¥å§æåä»£ç»§æ¿(replace inheritance with delegation) æ¥è®©è¶ç±»åå­ç±»åå®¶ã\n\n\n# æ¶ç\n\n * æé«ä»£ç ç»ç»æ§ã\n * æé«ä»£ç å¤ç¨æ§ã\n\n\n\n\n# éææ¹æ³è¯´æ\n\n# æ¬ç§»å½æ°(move method)\n\né®é¢\n\nä½ çç¨åºä¸­ï¼æä¸ªå½æ°ä¸å¶æé©»ç±»ä¹å¤çå¦ä¸ä¸ªç±»è¿è¡æ´å¤äº¤æµï¼è°ç¨åèï¼æè¢«åèè°ç¨ã\n\n\n\nè§£å³\n\nå¨è¯¥å½æ°æå¸¸å¼ç¨çç±»ä¸­å»ºç«ä¸ä¸ªæçç±»ä¼¼è¡ä¸ºçæ°å½æ°ãå°æ§å½æ°åæä¸ä¸ªåçº¯çå§æå½æ°ï¼ææ¯æ§å½æ°å®å¨ç§»é¤ã\n\n\n\n# æ¬ç§»å­æ®µ(move field)\n\né®é¢\n\nå¨ä½ çç¨åºä¸­ï¼æä¸ªå­æ®µè¢«å¶æé©»ç±»ä¹å¤çå¦ä¸ä¸ªç±»æ´å¤å°ç¨å°ã\n\n\n\nè§£å³\n\nå¨ç®æ ç±»æ°å»ºä¸ä¸ªå­æ®µï¼ä¿®æ¹æºå­æ®µçææç¨æ·ï¼ä»¤ä»ä»¬æ¹ç¨æ°å­æ®µã\n\n\n\n# å°ååå³èæ¹ä¸ºååå³è(change bidirectional association to unidirectional)\n\né®é¢\n\nä¸¤ä¸ªç±»ä¹é´æååå³èï¼ä½å¶ä¸­ä¸ä¸ªç±»å¦ä»ä¸åéè¦å¦ä¸ä¸ªç±»çç¹æ§ã\n\n\n\nè§£å³\n\nå»é¤ä¸å¿è¦çå³èã\n\n\n\n# æç¼ç±»(extract class)\n\né®é¢\n\næä¸ªç±»åäºä¸æ­¢ä¸ä»¶äºã\n\n\n\nè§£å³\n\nå»ºç«ä¸ä¸ªæ°ç±»ï¼å°ç¸å³çå­æ®µåå½æ°ä»æ§ç±»æ¬ç§»å°æ°ç±»ã\n\n\n\n# éèå§æå³ç³»(hide delegate)\n\né®é¢\n\nå®¢æ·éè¿ä¸ä¸ªå§æç±»æ¥è°ç¨å¦ä¸ä¸ªå¯¹è±¡ã\n\n\n\nè§£å³\n\nå¨æå¡ç±»ä¸å»ºç«å®¢æ·æéçææå½æ°ï¼ç¨ä»¥éèå§æå³ç³»ã\n\n\n\n# ä»¥å§æåä»£ç»§æ¿(replace inheritance with delegation)\n\né®é¢\n\næä¸ªå­ç±»åªä½¿ç¨è¶ç±»æ¥å£ä¸­çä¸é¨åï¼ææ¯æ ¹æ¬ä¸éè¦ç»§æ¿èæ¥çæ°æ®ã\n\n\n\nè§£å³\n\nå¨å­ç±»ä¸­æ°å»ºä¸ä¸ªå­æ®µç¨ä»¥ä¿å­è¶ç±»ï¼è°æ´å­ç±»å½æ°ï¼ä»¤å®æ¹èå§æè¶ç±»ï¼ç¶åå»æä¸¤èä¹é´çç»§æ¿å³ç³»ã\n\n\n\n\n# è¿åº¦è¦åçæ¶æ¯é¾\n\n> è¿åº¦è¦åçæ¶æ¯é¾(message chains)\n> \n> æ¶æ¯é¾çå½¢å¼ç±»ä¼¼äºï¼obj.geta().getb().getc()ã\n\n\n\n\n# é®é¢åå \n\nå¦æä½ çå°ç¨æ·åä¸ä¸ªå¯¹è±¡è¯·æ±å¦ä¸ä¸ªå¯¹è±¡ï¼ç¶ååååèè¯·æ±å¦ä¸ä¸ªå¯¹è±¡ï¼ç¶ååè¯·æ±å¦ä¸ä¸ªå¯¹è±¡â¦â¦è¿å°±æ¯æ¶æ¯é¾ãå®éä»£ç ä¸­ä½ çå°çå¯è½æ¯ä¸é¿ä¸² getthis()æä¸é¿ä¸²ä¸´æ¶åéãéåè¿ç§æ¹å¼ï¼æå³å®¢æ·ä»£ç å°ä¸æ¥æ¾è¿ç¨ä¸­çå¯¼èªç´§å¯è¦åãä¸æ¦å¯¹è±¡é´å³ç³»åçä»»ä½ååï¼å®¢æ·ç«¯å°±ä¸å¾ä¸ååºç¸åºçä¿®æ¹ã\n\n\n# è§£å³æ¹æ³\n\n * å¯ä»¥è¿ç¨ éèå§æå³ç³»(hide delegate) å é¤ä¸ä¸ªæ¶æ¯é¾ã\n\n\n\n * ææ¶æ´å¥½çéæ©æ¯ï¼åè§å¯æ¶æ¯é¾æç»å¾å°çå¯¹è±¡æ¯ç¨æ¥å¹²ä»ä¹çãççè½å¦ä»¥ æç¼å½æ°(extract method)æä½¿ç¨è¯¥å¯¹è±¡çä»£ç æç¼å°ä¸ä¸ªç¬ç«å½æ°ä¸­ï¼åè¿ç¨ æ¬ç§»å½æ°(move method) æè¿ä¸ªå½æ°æ¨å¥æ¶æ¯é¾ã\n\n\n# æ¶ç\n\n * è½åå°é¾ä¸­ç±»ä¹é´çä¾èµã\n * è½åå°ä»£ç éã\n\n\n\n\n# ä½æ¶å¿½ç¥\n\n * è¿äºä¾µç¥æ§çå§æå¯è½ä¼ä½¿ç¨åºåé¾ä»¥çè§£åè½æ¯å¦ä½è§¦åçã\n\n\n# éææ¹æ³è¯´æ\n\n# éèå§æå³ç³»(hide delegate)\n\né®é¢\n\nå®¢æ·éè¿ä¸ä¸ªå§æç±»æ¥è°ç¨å¦ä¸ä¸ªå¯¹è±¡ã\n\n\n\nè§£å³\n\nå¨æå¡ç±»ä¸å»ºç«å®¢æ·æéçææå½æ°ï¼ç¨ä»¥éèå§æå³ç³»ã\n\n\n\n# æç¼å½æ°(extract method)\n\né®é¢\n\nä½ æä¸æ®µä»£ç å¯ä»¥ç»ç»å¨ä¸èµ·ã\n\nvoid printowing() {\n  printbanner();\n\n  //print details\n  system.out.println("name: " + name);\n  system.out.println("amount: " + getoutstanding());\n}\n\n\nè§£å³\n\nç§»å¨è¿æ®µä»£ç å°ä¸ä¸ªæ°çå½æ°ä¸­ï¼ä½¿ç¨å½æ°çè°ç¨æ¥æ¿ä»£èä»£ç ã\n\nvoid printowing() {\n  printbanner();\n  printdetails(getoutstanding());\n}\n\nvoid printdetails(double outstanding) {\n  system.out.println("name: " + name);\n  system.out.println("amount: " + outstanding);\n}\n\n\n# æ¬ç§»å½æ°(move method)\n\né®é¢\n\nä½ çç¨åºä¸­ï¼æä¸ªå½æ°ä¸å¶æé©»ç±»ä¹å¤çå¦ä¸ä¸ªç±»è¿è¡æ´å¤äº¤æµï¼è°ç¨åèï¼æè¢«åèè°ç¨ã\n\n\n\nè§£å³\n\nå¨è¯¥å½æ°æå¸¸å¼ç¨çç±»ä¸­å»ºç«ä¸ä¸ªæçç±»ä¼¼è¡ä¸ºçæ°å½æ°ãå°æ§å½æ°åæä¸ä¸ªåçº¯çå§æå½æ°ï¼ææ¯æ§å½æ°å®å¨ç§»é¤ã\n\n\n\n\n# æ©å±éè¯»\n\n * ä»£ç çåå³éåéæ\n * ä»£ç åå³éä¹ä»£ç èè¿\n * ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡\n * ä»£ç åå³éä¹åé©çéç¢\n * ä»£ç åå³éä¹éå¿è¦ç\n * ä»£ç åå³éä¹è¦å\n\n\n# åèèµæ\n\n * ãä»£ç æ´æ´ä¹éã\n * ãéæ - æ¹åæ¢æä»£ç çè®¾è®¡ã\n * ãä»£ç å¤§å¨ã\n * https://sourcemaking.com/refactoring',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"é¢åé©±å¨è®¾è®¡ç®ä»",frontmatter:{title:"é¢åé©±å¨è®¾è®¡ç®ä»",date:"2020-08-10T10:59:18.000Z",categories:["è®¾è®¡","DDD"],tags:["è®¾è®¡","DDD"],permalink:"/pages/86db92/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/04.DDD/01.%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1%E7%AE%80%E4%BB%8B.html",relativePath:"03.è®¾è®¡/04.DDD/01.é¢åé©±å¨è®¾è®¡ç®ä».md",key:"v-1add83e9",path:"/pages/86db92/",headers:[{level:2,title:"DDD ç®ä»",slug:"ddd-ç®ä»",normalizedTitle:"ddd ç®ä»",charIndex:15},{level:3,title:"è½¯ä»¶æ¶ææ¨¡å¼çæ¼è¿",slug:"è½¯ä»¶æ¶ææ¨¡å¼çæ¼è¿",normalizedTitle:"è½¯ä»¶æ¶ææ¨¡å¼çæ¼è¿",charIndex:26},{level:3,title:"ä»ä¹æ¯ DDD",slug:"ä»ä¹æ¯-ddd",normalizedTitle:"ä»ä¹æ¯ ddd",charIndex:369},{level:3,title:"DDD ä¸å¾®æå¡çå³ç³»",slug:"ddd-ä¸å¾®æå¡çå³ç³»",normalizedTitle:"ddd ä¸å¾®æå¡çå³ç³»",charIndex:688},{level:2,title:"DDD æ ¸å¿æ¦å¿µ",slug:"ddd-æ ¸å¿æ¦å¿µ",normalizedTitle:"ddd æ ¸å¿æ¦å¿µ",charIndex:931},{level:3,title:"å",slug:"å",normalizedTitle:"å",charIndex:3},{level:3,title:"éç¨è¯­è¨åä¸ä¸æè¾¹ç",slug:"éç¨è¯­è¨åä¸ä¸æè¾¹ç",normalizedTitle:"éç¨è¯­è¨åä¸ä¸æè¾¹ç",charIndex:1351},{level:3,title:"å®ä½åå¼å¯¹è±¡",slug:"å®ä½åå¼å¯¹è±¡",normalizedTitle:"å®ä½åå¼å¯¹è±¡",charIndex:1605},{level:3,title:"èååèåè·",slug:"èååèåè·",normalizedTitle:"èååèåè·",charIndex:1887},{level:4,title:"èåè®¾è®¡æ­¥éª¤",slug:"èåè®¾è®¡æ­¥éª¤",normalizedTitle:"èåè®¾è®¡æ­¥éª¤",charIndex:2214},{level:4,title:"èåè®¾è®¡åå",slug:"èåè®¾è®¡åå",normalizedTitle:"èåè®¾è®¡åå",charIndex:2512},{level:2,title:"æ¶ææ¨¡å",slug:"æ¶ææ¨¡å",normalizedTitle:"æ¶ææ¨¡å",charIndex:2609},{level:3,title:"DDD æ¶æ",slug:"ddd-æ¶æ",normalizedTitle:"ddd æ¶æ",charIndex:2618},{level:3,title:"æ´æ´æ¶æ",slug:"æ´æ´æ¶æ",normalizedTitle:"æ´æ´æ¶æ",charIndex:2745},{level:3,title:"å­è¾¹å½¢æ¶æ",slug:"å­è¾¹å½¢æ¶æ",normalizedTitle:"å­è¾¹å½¢æ¶æ",charIndex:2906},{level:3,title:"ä¸ç§æ¶æå¯¹æ¯",slug:"ä¸ç§æ¶æå¯¹æ¯",normalizedTitle:"ä¸ç§æ¶æå¯¹æ¯",charIndex:3249},{level:4,title:"æ¶ææ¨¡ååä¸­å°ãå¾®æå¡çèç³»",slug:"æ¶ææ¨¡ååä¸­å°ãå¾®æå¡çèç³»",normalizedTitle:"æ¶ææ¨¡ååä¸­å°ãå¾®æå¡çèç³»",charIndex:3296},{level:4,title:"ä¸­å°å»ºè®¾è¦èç¦é¢åæ¨¡å",slug:"ä¸­å°å»ºè®¾è¦èç¦é¢åæ¨¡å",normalizedTitle:"ä¸­å°å»ºè®¾è¦èç¦é¢åæ¨¡å",charIndex:3465},{level:4,title:"å¾®æå¡è¦æåççæ¶æåå±",slug:"å¾®æå¡è¦æåççæ¶æåå±",normalizedTitle:"å¾®æå¡è¦æåççæ¶æåå±",charIndex:3642},{level:4,title:"åºç¨åèµæºçè§£è¦ä¸éé",slug:"åºç¨åèµæºçè§£è¦ä¸éé",normalizedTitle:"åºç¨åèµæºçè§£è¦ä¸éé",charIndex:3783},{level:2,title:"ä¸­å°æç¥",slug:"ä¸­å°æç¥",normalizedTitle:"ä¸­å°æç¥",charIndex:3898},{level:3,title:"å¹³å°ä¸æ¯ä¸­å°",slug:"å¹³å°ä¸æ¯ä¸­å°",normalizedTitle:"å¹³å°ä¸æ¯ä¸­å°",charIndex:3907},{level:3,title:"ä»ä¹æ¯ä¸­å°",slug:"ä»ä¹æ¯ä¸­å°",normalizedTitle:"ä»ä¹æ¯ä¸­å°",charIndex:4222},{level:3,title:"æ°å­åè½¬åä¸­å°",slug:"æ°å­åè½¬åä¸­å°",normalizedTitle:"æ°å­åè½¬åä¸­å°",charIndex:4481},{level:3,title:"åä¸­åå°åå",slug:"åä¸­åå°åå",normalizedTitle:"åä¸­åå°åå",charIndex:4493},{level:4,title:"åå°",slug:"åå°",normalizedTitle:"åå°",charIndex:4120},{level:4,title:"ä¸­å°",slug:"ä¸­å°",normalizedTitle:"ä¸­å°",charIndex:3301},{level:4,title:"åå°",slug:"åå°",normalizedTitle:"åå°",charIndex:4095},{level:3,title:"DDDãä¸­å°åå¾®æå¡çåä½",slug:"dddãä¸­å°åå¾®æå¡çåä½",normalizedTitle:"dddãä¸­å°åå¾®æå¡çåä½",charIndex:5273},{level:3,title:"å¦ä½æå»ºä¸­å°",slug:"å¦ä½æå»ºä¸­å°",normalizedTitle:"å¦ä½æå»ºä¸­å°",charIndex:5368},{level:4,title:"èªé¡¶åä¸ç­ç¥",slug:"èªé¡¶åä¸ç­ç¥",normalizedTitle:"èªé¡¶åä¸ç­ç¥",charIndex:5378},{level:4,title:"èªé¡¶åä¸ç­ç¥",slug:"èªé¡¶åä¸ç­ç¥-2",normalizedTitle:"èªé¡¶åä¸ç­ç¥",charIndex:5378},{level:4,title:"æå»ºæ­¥éª¤",slug:"æå»ºæ­¥éª¤",normalizedTitle:"æå»ºæ­¥éª¤",charIndex:5658},{level:2,title:"è¾¹ç",slug:"è¾¹ç",normalizedTitle:"è¾¹ç",charIndex:478},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:6021}],headersStr:"DDD ç®ä» è½¯ä»¶æ¶ææ¨¡å¼çæ¼è¿ ä»ä¹æ¯ DDD DDD ä¸å¾®æå¡çå³ç³» DDD æ ¸å¿æ¦å¿µ å éç¨è¯­è¨åä¸ä¸æè¾¹ç å®ä½åå¼å¯¹è±¡ èååèåè· èåè®¾è®¡æ­¥éª¤ èåè®¾è®¡åå æ¶ææ¨¡å DDD æ¶æ æ´æ´æ¶æ å­è¾¹å½¢æ¶æ ä¸ç§æ¶æå¯¹æ¯ æ¶ææ¨¡ååä¸­å°ãå¾®æå¡çèç³» ä¸­å°å»ºè®¾è¦èç¦é¢åæ¨¡å å¾®æå¡è¦æåççæ¶æåå± åºç¨åèµæºçè§£è¦ä¸éé ä¸­å°æç¥ å¹³å°ä¸æ¯ä¸­å° ä»ä¹æ¯ä¸­å° æ°å­åè½¬åä¸­å° åä¸­åå°åå åå° ä¸­å° åå° DDDãä¸­å°åå¾®æå¡çåä½ å¦ä½æå»ºä¸­å° èªé¡¶åä¸ç­ç¥ èªé¡¶åä¸ç­ç¥ æå»ºæ­¥éª¤ è¾¹ç åèèµæ",content:"# é¢åé©±å¨è®¾è®¡ç®ä»\n\n\n# DDD ç®ä»\n\n\n# è½¯ä»¶æ¶ææ¨¡å¼çæ¼è¿\n\n**ç¬¬ä¸é¶æ®µæ¯åæºæ¶æï¼**éç¨é¢åè¿ç¨çè®¾è®¡æ¹æ³ï¼ç³»ç»åæ¬å®¢æ·ç«¯ UI å±åæ°æ®åºä¸¤å±ï¼éç¨ C/S æ¶ææ¨¡å¼ï¼æ´ä¸ªç³»ç»å´ç»æ°æ®åºé©±å¨è®¾è®¡åå¼åï¼å¹¶ä¸æ»æ¯ä»è®¾è®¡æ°æ®åºåå­æ®µå¼å§ã\n\n**ç¬¬äºé¶æ®µæ¯éä¸­å¼æ¶æï¼**éç¨é¢åå¯¹è±¡çè®¾è®¡æ¹æ³ï¼ç³»ç»åæ¬ä¸å¡æ¥å¥å±ãä¸å¡é»è¾å±åæ°æ®åºå±ï¼éç¨ç»å¸çä¸å±æ¶æï¼ä¹æé¨ååºç¨éç¨ä¼ ç»ç SOA æ¶æãè¿ç§æ¶æå®¹æä½¿ç³»ç»åå¾èè¿ï¼å¯æ©å±æ§åå¼¹æ§ä¼¸ç¼©æ§å·®ã\n\n**ç¬¬ä¸é¶æ®µæ¯åå¸å¼å¾®æå¡æ¶æï¼**éçå¾®æå¡æ¶æçå¿µçæåºï¼éä¸­å¼æ¶ææ­£ååå¸å¼å¾®æå¡æ¶ææ¼è¿ãå¾®æå¡æ¶æå¯ä»¥å¾å¥½å°å®ç°åºç¨ä¹é´çè§£è¦ï¼è§£å³åä½åºç¨æ©å±æ§åå¼¹æ§ä¼¸ç¼©è½åä¸è¶³çé®é¢ã\n\nå¨åæºåéä¸­å¼æ¶ææ¶ä»£ï¼ç³»ç»åæãè®¾è®¡åå¼åå¾å¾æ¯ç¬ç«ãåé¶æ®µå²è£è¿è¡çã\n\n\n# ä»ä¹æ¯ DDD\n\nDDD æ¯ä¸ç§å¤çé«åº¦å¤æé¢åçè®¾è®¡ææ³ï¼å®è¯å¾åç¦»ææ¯å®ç°çå¤ææ§ï¼å¹¶å´ç»ä¸å¡æ¦å¿µæå»ºé¢åæ¨¡åæ¥æ§å¶ä¸å¡çå¤ææ§ï¼ä»¥è§£å³è½¯ä»¶é¾ä»¥çè§£ï¼é¾ä»¥æ¼è¿çé®é¢ãDDD ä¸æ¯æ¶æï¼èæ¯ä¸ç§æ¶æè®¾è®¡æ¹æ³è®ºï¼å®éè¿è¾¹çååå°å¤æä¸å¡é¢åç®ååï¼å¸®æä»¬è®¾è®¡åºæ¸æ°çé¢åååºç¨è¾¹çï¼å¯ä»¥å¾å®¹æå°å®ç°æ¶ææ¼è¿ãDDD åä¸ºä¸¤ä¸ªæç»´å±é¢ï¼\n\n * æç¥è®¾è®¡ä¸»è¦ä»ä¸å¡è§è§åºåï¼å»ºç«ä¸å¡é¢åæ¨¡åï¼ååé¢åè¾¹çï¼å»ºç«éç¨è¯­è¨çä¸ä¸æè¾¹çï¼ä¸ä¸æè¾¹çå¯ä»¥ä½ä¸ºå¾®æå¡è®¾è®¡çåèè¾¹çã\n * ææ¯è®¾è®¡åä»ææ¯è§è§åºåï¼ä¾§éäºé¢åæ¨¡åçææ¯å®ç°ï¼å®æè½¯ä»¶å¼ååè½å°ï¼åæ¬ï¼èåæ ¹ãå®ä½ãå¼å¯¹è±¡ãé¢åæå¡ãåºç¨æå¡åèµæºåºç­ä»£ç é»è¾çè®¾è®¡åå®ç°ã\n\n\n# DDD ä¸å¾®æå¡çå³ç³»\n\nDDD æ¯ä¸ç§æ¶æè®¾è®¡æ¹æ³ï¼å¾®æå¡æ¯ä¸ç§æ¶æé£æ ¼ãä¸¤èé½æ¯ä¸ºäºæè§£ä¸å¡å¤æåº¦ï¼åçååé¢åè¾¹çï¼æç»­è°æ´ç°ææ¶æï¼ä¼åç°æä»£ç ï¼ä»¥ä¿ææ¶æåä»£ç ççå½åï¼ä¹å°±æ¯æä»¬å¸¸è¯´çæ¼è¿å¼æ¶æã\n\nDDD ä¸»è¦å³æ³¨ï¼ä»ä¸å¡é¢åè§è§ååé¢åè¾¹çï¼æå»ºéç¨è¯­è¨è¿è¡é«ææ²éï¼éè¿ä¸å¡æ½è±¡ï¼å»ºç«é¢åæ¨¡åï¼ç»´æä¸å¡åä»£ç çé»è¾ä¸è´æ§ã\n\nå¾®æå¡ä¸»è¦å³æ³¨ï¼è¿è¡æ¶çè¿ç¨é´éä¿¡ãå®¹éåæééç¦»ï¼å®ç°å»ä¸­å¿åæ°æ®ç®¡çåå»ä¸­å¿åæå¡æ²»çï¼å³æ³¨å¾®æå¡çç¬ç«å¼åãæµè¯ãæå»ºåé¨ç½²ã\n\n\n# DDD æ ¸å¿æ¦å¿µ\n\n\n\n\n# å\n\n * é¢åï¼é¢åå·ä½æä¸ç§ç¹å®çèå´ãé¢åæ¯ç¨æ¥éå®ä¸å¡è¾¹ççï¼é£ä¹å°±ä¼æå¤§å°ä¹åï¼é¢åè¶å¤§ï¼ä¸å¡èå´å°±è¶å¤§ï¼åä¹åç¸åã\n * å­åï¼é¢åå¯ä»¥è¿ä¸æ­¥ååä¸ºå­é¢åãæä»¬æåååºæ¥çå¤ä¸ªå­é¢åç§°ä¸ºå­åï¼æ¯ä¸ªå­åå¯¹åºä¸ä¸ªæ´å°çé®é¢åææ´å°çä¸å¡èå´ã\n * æ ¸å¿åï¼å³å®äº§ååå¬å¸æ ¸å¿ç«äºåçå­åæ¯æ ¸å¿åã\n * éç¨åï¼åæ¶è¢«å¤ä¸ªå­åä½¿ç¨çéç¨åè½å­åæ¯éç¨åã\n * æ¯æåï¼è¿æä¸ç§åè½å­åæ¯å¿éçï¼ä½æ¢éæ ¸å¿åä¹ééç¨åï¼å®å°±æ¯æ¯æåã\n\n> é¢åçæ ¸å¿ææ³å°±æ¯å°é®é¢åéçº§ç»åï¼æ¥éä½ä¸å¡çè§£åç³»ç»å®ç°çå¤æåº¦ãéè¿é¢åç»åï¼éæ­¥ç¼©å°å¾®æå¡éè¦è§£å³çé®é¢åï¼æå»ºåéçé¢åæ¨¡åï¼èé¢åæ¨¡åæ å°æç³»ç»å°±æ¯å¾®æå¡äºã\n> \n> æ ¸å¿åãæ¯æååéç¨åçä¸»è¦ç®æ æ¯ï¼éè¿é¢åååï¼åºåä¸åå­åå¨å¬å¸åçä¸ååè½å±æ§åéè¦æ§ï¼ä»èå¬å¸å¯å¯¹ä¸åå­åéåä¸åçèµæºæå¥åå»ºè®¾ç­ç¥ï¼å¶å³æ³¨åº¦ä¹ä¼ä¸ä¸æ ·ã\n\n\n# éç¨è¯­è¨åä¸ä¸æè¾¹ç\n\néç¨è¯­è¨ï¼éè¿å¢éäº¤æµè¾¾æå±è¯æ§çï¼è½å¤ç®åãæ¸æ°ãåç¡®æè¿°ä¸å¡æ¶µä¹åè§åçè¯­è¨ã\n\nä¸ä¸æè¾¹çï¼éçå°±æ¯é¢åçè¾¹çï¼èä¸ä¸æåæ¯è¯­ä¹ç¯å¢ãéè¿é¢åçä¸ä¸æè¾¹çï¼æä»¬å°±å¯ä»¥å¨ç»ä¸çé¢åè¾¹çåç¨ç»ä¸çè¯­è¨è¿è¡äº¤æµãç»¼åä¸ä¸ï¼ä¸ä¸æè¾¹ççå®ä¹å°±æ¯ï¼ç¨æ¥å°è£éç¨è¯­è¨åé¢åå¯¹è±¡ï¼æä¾ä¸ä¸æç¯å¢ï¼ä¿è¯å¨é¢åä¹åçä¸äºæ¯è¯­ãä¸å¡ç¸å³å¯¹è±¡ç­ï¼éç¨è¯­è¨ï¼æä¸ä¸ªç¡®åçå«ä¹ï¼æ²¡æäºä¹æ§ãè¿ä¸ªè¾¹çå®ä¹äºæ¨¡åçéç¨èå´ï¼ä½¿å¢éæææåè½å¤æç¡®å°ç¥éä»ä¹åºè¯¥å¨æ¨¡åä¸­å®ç°ï¼ä»ä¹ä¸åºè¯¥å¨æ¨¡åä¸­å®ç°ã\n\n\n# å®ä½åå¼å¯¹è±¡\n\nå®ä½æ¯å¤ä¸ªå±æ§ãæä½æè¡ä¸ºçè½½ä½ãå¨äºä»¶é£æ´ä¸­ï¼æä»¬å¯ä»¥æ ¹æ®å½ä»¤ãæä½æèäºä»¶ï¼æ¾åºäº§çè¿äºè¡ä¸ºçä¸å¡å®ä½å¯¹è±¡ï¼è¿èæç§ä¸å®çä¸å¡è§åå°ä¾å­åº¦é«åä¸å¡å³èç´§å¯çå¤ä¸ªå®ä½å¯¹è±¡åå¼å¯¹è±¡è¿è¡èç±»ï¼å½¢æèåãä½ å¯ä»¥è¿ä¹çè§£ï¼å®ä½åå¼å¯¹è±¡æ¯ç»æé¢åæ¨¡åçåºç¡ååã\n\næ¬è´¨ä¸ï¼å®ä½æ¯çå¾å°ãæ¸å¾ççå®å®å¨å¨çä¸å¡å¯¹è±¡ï¼å®ä½å·æä¸å¡å±æ§ãä¸å¡è¡ä¸ºåä¸å¡é»è¾ãèå¼å¯¹è±¡åªæ¯è¥å¹²ä¸ªå±æ§çéåï¼åªææ°æ®åå§åæä½åæéçä¸æ¶åä¿®æ¹æ°æ®çè¡ä¸ºï¼åºæ¬ä¸åå«ä¸å¡é»è¾ãå¼å¯¹è±¡çå±æ§éè½ç¶å¨ç©çä¸ç¬ç«åºæ¥äºï¼ä½å¨é»è¾ä¸å®ä»ç¶æ¯å®ä½å±æ§çä¸é¨åï¼ç¨äºæè¿°å®ä½çç¹å¾ã\n\n\n# èååèåè·\n\né¢åæ¨¡ååçå®ä½åå¼å¯¹è±¡å°±å¥½æ¯ä¸ªä½ï¼èè½è®©å®ä½åå¼å¯¹è±¡ååå·¥ä½çç»ç»å°±æ¯èåï¼å®ç¨æ¥ç¡®ä¿è¿äºé¢åå¯¹è±¡å¨å®ç°å±åçä¸å¡é»è¾æ¶ï¼è½ä¿è¯æ°æ®çä¸è´æ§ã\n\nèåå°±æ¯ç±ä¸å¡åé»è¾ç´§å¯å³èçå®ä½åå¼å¯¹è±¡ç»åèæçï¼èåæ¯æ°æ®ä¿®æ¹åæä¹åçåºæ¬ååï¼æ¯ä¸ä¸ªèåå¯¹åºä¸ä¸ªä»å¨ï¼å®ç°æ°æ®çæä¹åãèåæä¸ä¸ªèåæ ¹åä¸ä¸æè¾¹çï¼è¿ä¸ªè¾¹çæ ¹æ®ä¸å¡åä¸èè´£åé«åèååï¼å®ä¹äºèååé¨åºè¯¥åå«åªäºå®ä½åå¼å¯¹è±¡ï¼èèåä¹é´çè¾¹çæ¯æ¾è¦åçã\n\nèåæ ¹çä¸»è¦ç®çæ¯ä¸ºäºé¿åç±äºå¤ææ°æ®æ¨¡åç¼ºå°ç»ä¸çä¸å¡è§åæ§å¶ï¼èå¯¼è´èåãå®ä½ä¹é´æ°æ®ä¸ä¸è´æ§çé®é¢ãå¦ææèåæ¯ä½ç»ç»ï¼é£èåæ ¹å°±æ¯è¿ä¸ªç»ç»çè´è´£äººãèåæ ¹ä¹ç§°ä¸ºæ ¹å®ä½ï¼å®ä¸ä»æ¯å®ä½ï¼è¿æ¯èåçç®¡çèã\n\n\n\n# èåè®¾è®¡æ­¥éª¤\n\n * ç¬¬ 1 æ­¥ï¼éç¨äºä»¶é£æ´ï¼æ ¹æ®ä¸å¡è¡ä¸ºï¼æ¢³çåºææçå®ä½åå¼å¯¹è±¡ã\n * ç¬¬ 2 æ­¥ï¼ä»ä¼å¤å®ä½ä¸­éåºéåä½ä¸ºå¯¹è±¡ç®¡çèçæ ¹å®ä½ï¼ä¹å°±æ¯èåæ ¹ãå¤æ­ä¸ä¸ªå®ä½ æ¯å¦æ¯èåæ ¹ï¼ä½ å¯ä»¥ç»åä»¥ä¸åºæ¯åæï¼æ¯å¦æç¬ç«ççå½å¨æï¼æ¯å¦æå¨å±å¯ä¸ IDï¼ æ¯å¦å¯ä»¥åå»ºæä¿®æ¹å¶å®å¯¹è±¡ï¼æ¯å¦æä¸é¨çæ¨¡åæ¥ç®¡è¿ä¸ªå®ä½ã\n * ç¬¬ 3 æ­¥ï¼æ ¹æ®ä¸å¡åä¸èè´£åé«åèååï¼æ¾åºä¸èåæ ¹å³èçææç´§å¯ä¾èµçå®ä½åå¼ å¯¹è±¡ã\n * ç¬¬ 4 æ­¥ï¼å¨èååæ ¹æ®èåæ ¹ãå®ä½åå¼å¯¹è±¡çä¾èµå³ç³»ï¼ç»åºå¯¹è±¡çå¼ç¨åä¾èµæ¨¡åã\n * ç¬¬ 5 æ­¥ï¼å¤ä¸ªèåæ ¹æ®ä¸å¡è¯­ä¹åä¸ä¸æä¸èµ·ååå°åä¸ä¸ªéçä¸ä¸æåã\n\n# èåè®¾è®¡åå\n\n * å¨ä¸è´æ§è¾¹çåå»ºæ¨¡çæ­£çä¸åæ¡ä»¶ã\n * è®¾è®¡å°èåã\n * éè¿å¯ä¸æ è¯å¼ç¨å¶å®èåã\n * å¨è¾¹çä¹å¤ä½¿ç¨æç»ä¸è´æ§ã\n * éè¿åºç¨å±å®ç°è·¨èåçæå¡è°ç¨ã\n\n\n# æ¶ææ¨¡å\n\n\n# DDD æ¶æ\n\n\n\nä¸å±æ¶æå DDD åå±æ¶ææ¼è¿ï¼ä¸»è¦åçå¨ä¸å¡é»è¾å±åæ°æ®è®¿é®å±ã\n\nDDD åå±æ¶æåå«ç¨æ·æ¥å£å±ãåºç¨å±ãé¢åå±ååºç¡å±ãéè¿è¿äºå±æ¬¡ååï¼æä»¬å¯ä»¥æç¡®å¾®æå¡åå±çèè½ï¼åå®åé¢åå¯¹è±¡çè¾¹çï¼ç¡®å®åé¢åå¯¹è±¡çåä½æ¹å¼ã\n\n\n# æ´æ´æ¶æ\n\nå¨æ´æ´æ¶æéï¼åå¿åä»£è¡¨åºç¨è½¯ä»¶çä¸åé¨åï¼ä»éå°å¤ä¾æ¬¡æ¯é¢åæ¨¡åãé¢åæå¡ãåºç¨æå¡åæå¤å´çå®¹æååçåå®¹ï¼æ¯å¦ç¨æ·çé¢ååºç¡è®¾æ½ã\n\næ´æ´æ¶ææä¸»è¦çååæ¯ä¾èµååï¼å®å®ä¹äºåå±çä¾èµå³ç³»ï¼è¶å¾éä¾èµè¶ä½ï¼ä»£ç çº§å«è¶é«ï¼è¶æ¯æ ¸å¿è½åãå¤åä»£ç ä¾èµåªè½æåååï¼ååä¸éè¦ç¥éå¤åçä»»ä½æåµã\n\n\n\n\n# å­è¾¹å½¢æ¶æ\n\nå­è¾¹å½¢æ¶æçæ ¸å¿çå¿µæ¯ï¼åºç¨æ¯éè¿ç«¯å£ä¸å¤é¨è¿è¡äº¤äºçãææ³è¿ä¹æ¯å¾®æå¡æ¶æä¸ API ç½å³çè¡çä¸»è¦åå å§ã\n\nä¹å°±æ¯è¯´ï¼å¨ä¸å¾çå­è¾¹å½¢æ¶æä¸­ï¼çº¢ååçæ ¸å¿ä¸å¡é»è¾ï¼åºç¨ç¨åºåé¢åæ¨¡åï¼ä¸å¤é¨èµæºï¼åæ¬ APPãWeb åºç¨ä»¥åæ°æ®åºèµæºç­ï¼å®å¨éç¦»ï¼ä»éè¿ééå¨è¿è¡äº¤äºãå®è§£å³äºä¸å¡é»è¾ä¸ç¨æ·çé¢çä»£ç äº¤éé®é¢ï¼å¾å¥½å°å®ç°äºååç«¯åç¦»ãå­è¾¹å½¢æ¶æåå±çä¾èµå³ç³»ä¸æ´æ´æ¶æä¸æ ·ï¼é½æ¯ç±å¤ååä¾èµã\n\nå­è¾¹å½¢æ¶æå°ç³»ç»åä¸ºåå­è¾¹å½¢åå¤å­è¾¹å½¢ä¸¤å±ï¼è¿ä¸¤å±çèè½ååå¦ä¸ï¼\n\nçº¢ååçå­è¾¹å½¢å®ç°åºç¨çæ ¸å¿ä¸å¡é»è¾ï¼\n\nå¤å­è¾¹å½¢å®æå¤é¨åºç¨ãé©±å¨ååºç¡èµæºç­çäº¤äºåè®¿é®ï¼å¯¹åç«¯åºç¨ä»¥ API ä¸»å¨ééçæ¹å¼æä¾æå¡ï¼å¯¹åºç¡èµæºä»¥ä¾èµåç½®è¢«å¨ééçæ¹å¼å®ç°èµæºè®¿é®ã\n\n\n# ä¸ç§æ¶æå¯¹æ¯\n\nè¿ä¸ç§æ¶ææ¨¡åçè®¾è®¡ææ³æ­£æ¯å¾®æå¡æ¶æé«åèä½è¦åååçå®ç¾ä½ç°ã\n\n\n\n# æ¶ææ¨¡ååä¸­å°ãå¾®æå¡çèç³»\n\nä¸­å°æ¬è´¨ä¸æ¯é¢åçå­åï¼å®å¯è½æ¯æ ¸å¿åï¼ä¹å¯è½æ¯éç¨åææ¯æåãéå¸¸å¤§å®¶è®¤ä¸ºé¿éçä¸­å°å¯¹åº DDD çéç¨åï¼å°éç¨çå¬å±è½åæ²æ·ä¸ºä¸­å°ï¼å¯¹å¤æä¾éç¨å±äº«æå¡ã\n\nDDDãä¸­å°ãå¾®æå¡è¿ä¸èä¹é´ä¼¼ä¹æ²¡ä»ä¹å³èï¼å®éä¸å®ä»¬çå³ç³»æ¯éå¸¸ç´§å¯çï¼ç»åå¨ä¸èµ·å¯ä»¥ä½ä¸º ä¸ä¸ªçè®ºä½ç³»ç¨äºä½ çä¸­å°åå¾®æå¡è®¾è®¡ã\n\n# ä¸­å°å»ºè®¾è¦èç¦é¢åæ¨¡å\n\nä¸­å°éè¦ç«å¨å¨ä¼ä¸çé«åº¦èèè½åçå±äº«åå¤ç¨ã\n\nä¸­å°è®¾è®¡æ¶ï¼æä»¬éè¦å»ºç«ä¸­å°åææéçä¸ä¸æçé¢åæ¨¡åï¼DDD å»ºæ¨¡è¿ç¨ä¸­ä¼èèæ¶ææ¼è¿ååè½çéæ°ç»åãé¢åæ¨¡åå»ºç«çè¿ç¨ä¼å¯¹ä¸å¡ååºç¨è¿è¡æ¸æ°çé»è¾åç©çè¾¹çï¼å¾®æå¡ï¼ååãé¢åæ¨¡åçç»æä¼å½±åå°åç»­çç³»ç»æ¨¡åãæ¶ææ¨¡ååä»£ç æ¨¡åï¼æç»å½±åå°å¾®æå¡çæååé¡¹ç®è½å°ã\n\n# å¾®æå¡è¦æåççæ¶æåå±\n\nå¾®æå¡è®¾è®¡è¦æåå±çè®¾è®¡ææ³ï¼è®©åå±åå¸å¶èï¼å»ºç«æ¾è¦åçå±é´å³ç³»ã\n\nä¸è¦æä¸é¢åæ å³çé»è¾æ¾å¨é¢åå±å®ç°ï¼ä¿è¯é¢åå±ççº¯æ´åé¢åé»è¾çç¨³å®ï¼é¿åæ±¡æé¢åæ¨¡åãä¹ä¸è¦æé¢åæ¨¡åçä¸å¡é»è¾æ¾å¨åºç¨å±ï¼è¿æ ·ä¼å¯¼è´åºç¨å±è¿äºåºå¤§ï¼æç»é¢åæ¨¡åä¼å¤±ç¦ã\n\n# åºç¨åèµæºçè§£è¦ä¸éé\n\nä¼ ç»ä»¥æ°æ®ä¸ºä¸­å¿çè®¾è®¡æ¨¡å¼ï¼åºç¨ä¼å¯¹æ°æ®åºãç¼å­ãæä»¶ç³»ç»ç­åºç¡èµæºäº§çä¸¥éä¾èµã\n\næ­£æ¯ç±äºå®ä»¬ä¹é´çè¿ç§å¼ºä¾èµçå³ç³»ï¼æä»¬ä¸æ¦æ´æ¢åºç¡èµæºå°±ä¼å¯¹åºç¨äº§çå¾å¤§çå½±åï¼å æ­¤éè¦ä¸ºåºç¨åèµæºè§£è¦ã\n\n\n# ä¸­å°æç¥\n\n\n# å¹³å°ä¸æ¯ä¸­å°\n\nä¸­å°æºäºå¹³å°ï¼ä½å®çæç¥é«åº¦è¦æ¯å¹³å°é«å¾å¤ã\n\nå¹³å°åªæ¯å°é¨åéç¨çå¬å±è½åç¬ç«ä¸ºå±äº«å¹³å°ãè½ç¶å¯ä»¥éè¿ API æèæ°æ®å¯¹å¤æä¾å¬å±å±äº«æå¡ï¼è§£å³ç³»ç»éå¤å»ºè®¾çé®é¢ï¼ä½è¿ç±»å¹³å°å¹¶æ²¡æåä¼ä¸åçå¶å®å¹³å°æåºç¨ï¼å®ç°é¡µé¢ãä¸å¡æµç¨åæ°æ®ä»åç«¯å°åç«¯çå¨é¢èåï¼å¹¶ä¸æ²¡æå°æ ¸å¿ä¸å¡æå¡é¾è·¯ä½ä¸ºä¸ä¸ªæ´ä½æ¹æ¡èèï¼åå¹³å°ä»ç¶æ¯åç¦»ä¸ç¬ç«çã\n\nç®åççè§£å°±æ¯æä¼ ç»çååå°ä½ç³»ä¸­çåå°è¿è¡äºç»åãé¿éå·´å·´æåºäºå¤§ä¸­å°å°åå°çæç¥ãå°±æ¯å¼ºåä¸å¡åææ¯ä¸­å°ï¼æåç«¯çåºç¨åå¾æ´å°æ´çµæ´»ãå½ä¸­å°è¶å¼ºå¤§ï¼è½åå°±è¶å¼ºï¼è¶è½æ´å¥½çå¿«éååºåå°çä¸å¡éæ±ãæä¸ªæ¯å»ï¼å°±æ¯åå£¤è¶è¥æ²ï¼è¶éåçé¿ä¸åççç©ï¼æé å¥½ççæç³»ç»ã\n\n\n\n\n# ä»ä¹æ¯ä¸­å°\n\nä¸­å°æ¯ä¸ä¸ªåºç¡ççå¿µåæ¶æï¼æä»¬è¦æææçåºç¡æå¡ç¨ä¸­å°çæè·¯å»ºè®¾ï¼è¿è¡èéï¼å±åæ¯æä¸ç«¯çä¸å¡ãä¸å¡ä¸­å°æ´å¤çæ¯æ¯æå¨çº¿ä¸å¡ï¼æ°æ®ä¸­å°æä¾äºåºç¡æ°æ®å¤çè½ååå¾å¤çæ°æ®äº§åç»ææä¸å¡æ¹å»ç¨ãä¸å¡ä¸­å°ãæ°æ®ä¸­å°ãç®æ³ä¸­å°ç­ç­ä¸èµ·æä¾å¯¹ä¸å±ä¸å¡çæ¯æã\n\nä¸­å°çå³é®è¯ï¼å±äº«ãèéãèåååæ°ãèéæ¯åå°ä»¥åä¸­å°ä¹é´çèéï¼èåæ¯åå°æµç¨åæ°æ®çèåï¼å¹¶ä»¥å±äº«çæ¹å¼æ¯æåç«¯ä¸çº¿ä¸å¡çåå±ååæ°ãå¶ä¸­æå³é®çæ¯å¿«éååºè½ååä¼ä¸çº§çæ ç¼èéåèåè½åï¼å°¤å¶æ¯å¯¹äºè·¨ä¸ç»è¥çè¶å¤§åä¼ä¸æ¥è¯´è³å³éè¦ã\n\n\n# æ°å­åè½¬åä¸­å°\n\n\n# åä¸­åå°åå\n\n# åå°\n\nå¨åå°è®¾è®¡ä¸­æä»¬å¯ä»¥åé´å¾®åç«¯çè®¾è®¡ææ³ï¼å¨ä¼ä¸åä¸ä»å®ç°åç«¯è§£è¦åå¤ç¨ï¼è¿å¯ä»¥æ ¹æ®æ ¸å¿é¾è·¯åä¸å¡æµç¨ï¼éè¿å¯¹å¾®åç«¯é¡µé¢çå¨æç»ååæµç¨ç¼æï¼å®ç°åå°ä¸å¡çèåã\n\nåç«¯é¡µé¢å¯ä»¥å¾èªç¶å°èåå°ä¸åçç»ç«¯åæ¸ éåºç¨æ ¸å¿ä¸å¡é¾è·¯ä¸­ï¼å®ç°åç«¯é¡µé¢ãæµç¨ååè½å¤ç¨ã\n\n# ä¸­å°\n\nä¸å¡ä¸­å°çå»ºè®¾å¯éç¨é¢åé©±å¨è®¾è®¡æ¹æ³ï¼éè¿é¢åå»ºæ¨¡ï¼å°å¯å¤ç¨çå¬å±è½åä»åä¸ªåä½å¥ç¦»ï¼æ²æ·å¹¶ç»åï¼éç¨å¾®æå¡æ¶ææ¨¡å¼ï¼å»ºè®¾æä¸ºå¯å±äº«çéç¨è½åä¸­å°ã\n\nåæ ·çï¼æä»¬å¯ä»¥å°æ ¸å¿è½åç¨å¾®æå¡æ¶ææ¨¡å¼ï¼å»ºè®¾æä¸ºå¯é¢åä¸åæ¸ éååºæ¯çå¯å¤ç¨çæ ¸å¿è½åä¸­å°ã ä¸å¡ä¸­å°ååå°ãç¬¬ä¸æ¹åå¶å®ä¸­å°æä¾ API æå¡ï¼å®ç°éç¨è½ååæ ¸å¿è½åçå¤ç¨ã\n\næ°æ®ä¸­å°çä¸»è¦ç®æ æ¯æéæ°æ®å­¤å²ï¼å®ç°ä¸å¡èåååæ°ï¼åæ¬ä¸å¤§ä¸»è¦èè½ï¼\n\n * ä¸æ¯å®æä¼ä¸å¨åæ°æ®çééä¸å­å¨ï¼å®ç°åä¸åä¸å¡ç±»å«ä¸­å°æ°æ®çæ±æ»åéä¸­ç®¡çã\n * äºæ¯æç§æ åçæ°æ®è§èææ°æ®æ¨¡åï¼å°æ°æ®æç§ä¸åä¸»é¢åæåºæ¯è¿è¡å å·¥åå¤çï¼å½¢æé¢åä¸åä¸»é¢ååºæ¯çæ°æ®åºç¨ï¼æ¯å¦å®¢æ·è§å¾ãä»£çäººè§å¾ãæ¸ éè§å¾ãæºæè§å¾ç­ä¸åæ°æ®ä½ç³»ã\n * ä¸æ¯å»ºç«ä¸å¡éæ±é©±å¨çæ°æ®ä½ç³»ï¼åºäºåä¸ªç»´åº¦çæ°æ®ï¼æ·±åº¦èåæ°æ®ä»·å¼ï¼æ¯æä¸å¡ååä¸æ¨¡å¼çåæ°ã\n\nç¸åºçï¼æ°æ®ä¸­å°çå»ºè®¾å°±å¯åä¸ºä¸æ­¥èµ°ï¼\n\n * ç¬¬ä¸æ­¥å®ç°åä¸­å°ä¸å¡æ°æ®çæ±éï¼è§£å³æ°æ®å­¤å²ååçº§æ°æ®å±äº«é®é¢ã\n * ç¬¬äºæ­¥å®ç°ä¼ä¸çº§å®æ¶æéå®æ¶å¨ç»´åº¦æ°æ®çæ·±åº¦èåãå å·¥åå±äº«ã\n * ç¬¬ä¸æ­¥èåæ°æ®ä»·å¼ï¼æ¯æä¸å¡åæ°ï¼å éä»æ°æ®è½¬æ¢ä¸ºä¸å¡ä»·å¼çè¿ç¨ã\n\n# åå°\n\nåå°ä¸»è¦é¢åå®¢æ·ä»¥åç»ç«¯éå®èï¼å®ç°è¥éæ¨å¹¿ä»¥åäº¤æè½¬åï¼ä¸­å°ä¸»è¦é¢åè¿è¥äººåï¼å®æè¿è¥æ¯æï¼åå°ä¸»è¦é¢ååå°ç®¡çäººåï¼å®ç°æµç¨å®¡æ ¸ãåé¨ç®¡çä»¥ååå¤æ¯æï¼æ¯å¦éè´­ãäººåãè´¢å¡å OA ç­ç³»ç»ã\n\n\n# DDDãä¸­å°åå¾®æå¡çåä½\n\nä¼ ç»ä¼ä¸å¯ä»¥å°éè¦å±äº«çå¬å±è½åè¿è¡é¢åå»ºæ¨¡ï¼å»ºè®¾å¯å±äº«çéç¨ä¸­å°ãé¤æ­¤ä¹å¤ï¼ä¼ ç»ä¼ä¸è¿ä¼å°æ ¸å¿è½åè¿è¡é¢åå»ºæ¨¡ï¼å»ºè®¾é¢åä¸åæ¸ éçå¯å¤ç¨çæ ¸å¿ä¸­å°ã\n\n\n# å¦ä½æå»ºä¸­å°\n\n# èªé¡¶åä¸ç­ç¥\n\nèªé¡¶åä¸çç­ç¥éç¨äºå¨æ°çåºç¨ç³»ç»å»ºè®¾ï¼ææ§ç³»ç»æ¨åéå»ºçæåµãè¿ç§ç­ç¥æ¯ååé¡¶å±è®¾è®¡ï¼ä»æé«é¢åéçº§åè§£ä¸ºä¸­å°ï¼åå«å»ºç«é¢åæ¨¡åï¼æ ¹æ®ä¸å¡å±æ§åä¸ºéç¨ä¸­å°ææ ¸å¿ä¸­å°ãé¢åå»ºæ¨¡è¿ç¨ä¸»è¦åºäºä¸å¡ç°ç¶ï¼ææ¶ä¸èèç³»ç»ç°ç¶ã\n\n# èªé¡¶åä¸ç­ç¥\n\nèªåºåä¸ç­ç¥éç¨äºéçç³»ç»ä¸å¡æ¨¡åçæ¼è¿å¼éæãè¿ç§ç­ç¥æ¯åºäºä¸å¡åç³»ç»ç°ç¶å®æé¢åå»ºæ¨¡ãé¦ååå«å®æç³»ç»æå¨ä¸å¡åçé¢åå»ºæ¨¡ï¼ç¶åå¯¹é½ä¸å¡åï¼æ¾åºå·æåç±»æç¸ä¼¼ä¸å¡åè½çé¢åæ¨¡åï¼å¯¹æ¯åæé¢åæ¨¡åçå·®å¼ï¼éç»é¢åå¯¹è±¡ï¼éæé¢åæ¨¡åãè¿ä¸ªè¿ç¨ä¼æ²æ·å¬å±åå¤ç¨çä¸å¡è½åï¼ä¼å°åæ£çä¸å¡æ¨¡åæ´åã\n\n# æå»ºæ­¥éª¤\n\nç¬¬ä¸æ­¥ï¼éå®ç³»ç»æå¨ä¸å¡åï¼æå»ºé¢åæ¨¡åã\n\n\n\nç¬¬äºæ­¥ï¼å¯¹é½ä¸å¡åï¼æå»ºä¸­å°ä¸å¡æ¨¡åã\n\nç¬¬ä¸æ­¥ï¼ä¸­å°å½ç±»ï¼æ ¹æ®é¢åæ¨¡åè®¾è®¡å¾®æå¡ã\n\n\n# è¾¹ç\n\né»è¾è¾¹çï¼å¾®æå¡åèåä¹é´çè¾¹çæ¯é»è¾è¾¹çãå®æ¯ä¸ä¸ªèæçè¾¹çï¼å¼ºè°ä¸å¡çåèï¼å¯æ ¹æ®éè¦åæç©çè¾¹çï¼ä¹å°±æ¯è¯´èåä¹å¯ä»¥ç¬ç«ä¸ºå¾®æå¡ã\n\nç©çè¾¹çï¼å¾®æå¡ä¹é´çè¾¹çæ¯ç©çè¾¹çãå®å¼ºè°å¾®æå¡é¨ç½²åè¿è¡çéç¦»ï¼å³æ³¨å¾®æå¡çæå¡è°ç¨ãå®¹éåè¿è¡ç­ã\n\nä»£ç è¾¹çï¼ä¸åå±æèèåä¹é´ä»£ç ç®å½çè¾¹çæ¯ä»£ç è¾¹çãå®å¼ºè°çæ¯ä»£ç ä¹é´çéç¦»ï¼æ¹ä¾¿æ¶ææ¼è¿æ¶ä»£ç çéç»ã\n\néè¿ä»¥ä¸è¾¹çï¼æä»¬å¯ä»¥è®©ä¸å¡è½åé«åèãä»£ç æ¾è¦åï¼ä¸æ¸æ°çè¾¹çï¼å¯ä»¥å¿«éå®ç°å¾®æå¡ä»£ç çæååç»åï¼è½»æ¾å®ç°å¾®æå¡æ¶ææ¼è¿ãä½æä¸ç¹ä¸å®è¦æ ¼å¤æ³¨æï¼è¾¹çæ¸æ°çå¾®æå¡ï¼ä¸æ¯å¤§åä½åå°åä½çæ¼è¿ã\n\n\n# åèèµæ\n\n * DDD å®æè¯¾",normalizedContent:"# é¢åé©±å¨è®¾è®¡ç®ä»\n\n\n# ddd ç®ä»\n\n\n# è½¯ä»¶æ¶ææ¨¡å¼çæ¼è¿\n\n**ç¬¬ä¸é¶æ®µæ¯åæºæ¶æï¼**éç¨é¢åè¿ç¨çè®¾è®¡æ¹æ³ï¼ç³»ç»åæ¬å®¢æ·ç«¯ ui å±åæ°æ®åºä¸¤å±ï¼éç¨ c/s æ¶ææ¨¡å¼ï¼æ´ä¸ªç³»ç»å´ç»æ°æ®åºé©±å¨è®¾è®¡åå¼åï¼å¹¶ä¸æ»æ¯ä»è®¾è®¡æ°æ®åºåå­æ®µå¼å§ã\n\n**ç¬¬äºé¶æ®µæ¯éä¸­å¼æ¶æï¼**éç¨é¢åå¯¹è±¡çè®¾è®¡æ¹æ³ï¼ç³»ç»åæ¬ä¸å¡æ¥å¥å±ãä¸å¡é»è¾å±åæ°æ®åºå±ï¼éç¨ç»å¸çä¸å±æ¶æï¼ä¹æé¨ååºç¨éç¨ä¼ ç»ç soa æ¶æãè¿ç§æ¶æå®¹æä½¿ç³»ç»åå¾èè¿ï¼å¯æ©å±æ§åå¼¹æ§ä¼¸ç¼©æ§å·®ã\n\n**ç¬¬ä¸é¶æ®µæ¯åå¸å¼å¾®æå¡æ¶æï¼**éçå¾®æå¡æ¶æçå¿µçæåºï¼éä¸­å¼æ¶ææ­£ååå¸å¼å¾®æå¡æ¶ææ¼è¿ãå¾®æå¡æ¶æå¯ä»¥å¾å¥½å°å®ç°åºç¨ä¹é´çè§£è¦ï¼è§£å³åä½åºç¨æ©å±æ§åå¼¹æ§ä¼¸ç¼©è½åä¸è¶³çé®é¢ã\n\nå¨åæºåéä¸­å¼æ¶ææ¶ä»£ï¼ç³»ç»åæãè®¾è®¡åå¼åå¾å¾æ¯ç¬ç«ãåé¶æ®µå²è£è¿è¡çã\n\n\n# ä»ä¹æ¯ ddd\n\nddd æ¯ä¸ç§å¤çé«åº¦å¤æé¢åçè®¾è®¡ææ³ï¼å®è¯å¾åç¦»ææ¯å®ç°çå¤ææ§ï¼å¹¶å´ç»ä¸å¡æ¦å¿µæå»ºé¢åæ¨¡åæ¥æ§å¶ä¸å¡çå¤ææ§ï¼ä»¥è§£å³è½¯ä»¶é¾ä»¥çè§£ï¼é¾ä»¥æ¼è¿çé®é¢ãddd ä¸æ¯æ¶æï¼èæ¯ä¸ç§æ¶æè®¾è®¡æ¹æ³è®ºï¼å®éè¿è¾¹çååå°å¤æä¸å¡é¢åç®ååï¼å¸®æä»¬è®¾è®¡åºæ¸æ°çé¢åååºç¨è¾¹çï¼å¯ä»¥å¾å®¹æå°å®ç°æ¶ææ¼è¿ãddd åä¸ºä¸¤ä¸ªæç»´å±é¢ï¼\n\n * æç¥è®¾è®¡ä¸»è¦ä»ä¸å¡è§è§åºåï¼å»ºç«ä¸å¡é¢åæ¨¡åï¼ååé¢åè¾¹çï¼å»ºç«éç¨è¯­è¨çä¸ä¸æè¾¹çï¼ä¸ä¸æè¾¹çå¯ä»¥ä½ä¸ºå¾®æå¡è®¾è®¡çåèè¾¹çã\n * ææ¯è®¾è®¡åä»ææ¯è§è§åºåï¼ä¾§éäºé¢åæ¨¡åçææ¯å®ç°ï¼å®æè½¯ä»¶å¼ååè½å°ï¼åæ¬ï¼èåæ ¹ãå®ä½ãå¼å¯¹è±¡ãé¢åæå¡ãåºç¨æå¡åèµæºåºç­ä»£ç é»è¾çè®¾è®¡åå®ç°ã\n\n\n# ddd ä¸å¾®æå¡çå³ç³»\n\nddd æ¯ä¸ç§æ¶æè®¾è®¡æ¹æ³ï¼å¾®æå¡æ¯ä¸ç§æ¶æé£æ ¼ãä¸¤èé½æ¯ä¸ºäºæè§£ä¸å¡å¤æåº¦ï¼åçååé¢åè¾¹çï¼æç»­è°æ´ç°ææ¶æï¼ä¼åç°æä»£ç ï¼ä»¥ä¿ææ¶æåä»£ç ççå½åï¼ä¹å°±æ¯æä»¬å¸¸è¯´çæ¼è¿å¼æ¶æã\n\nddd ä¸»è¦å³æ³¨ï¼ä»ä¸å¡é¢åè§è§ååé¢åè¾¹çï¼æå»ºéç¨è¯­è¨è¿è¡é«ææ²éï¼éè¿ä¸å¡æ½è±¡ï¼å»ºç«é¢åæ¨¡åï¼ç»´æä¸å¡åä»£ç çé»è¾ä¸è´æ§ã\n\nå¾®æå¡ä¸»è¦å³æ³¨ï¼è¿è¡æ¶çè¿ç¨é´éä¿¡ãå®¹éåæééç¦»ï¼å®ç°å»ä¸­å¿åæ°æ®ç®¡çåå»ä¸­å¿åæå¡æ²»çï¼å³æ³¨å¾®æå¡çç¬ç«å¼åãæµè¯ãæå»ºåé¨ç½²ã\n\n\n# ddd æ ¸å¿æ¦å¿µ\n\n\n\n\n# å\n\n * é¢åï¼é¢åå·ä½æä¸ç§ç¹å®çèå´ãé¢åæ¯ç¨æ¥éå®ä¸å¡è¾¹ççï¼é£ä¹å°±ä¼æå¤§å°ä¹åï¼é¢åè¶å¤§ï¼ä¸å¡èå´å°±è¶å¤§ï¼åä¹åç¸åã\n * å­åï¼é¢åå¯ä»¥è¿ä¸æ­¥ååä¸ºå­é¢åãæä»¬æåååºæ¥çå¤ä¸ªå­é¢åç§°ä¸ºå­åï¼æ¯ä¸ªå­åå¯¹åºä¸ä¸ªæ´å°çé®é¢åææ´å°çä¸å¡èå´ã\n * æ ¸å¿åï¼å³å®äº§ååå¬å¸æ ¸å¿ç«äºåçå­åæ¯æ ¸å¿åã\n * éç¨åï¼åæ¶è¢«å¤ä¸ªå­åä½¿ç¨çéç¨åè½å­åæ¯éç¨åã\n * æ¯æåï¼è¿æä¸ç§åè½å­åæ¯å¿éçï¼ä½æ¢éæ ¸å¿åä¹ééç¨åï¼å®å°±æ¯æ¯æåã\n\n> é¢åçæ ¸å¿ææ³å°±æ¯å°é®é¢åéçº§ç»åï¼æ¥éä½ä¸å¡çè§£åç³»ç»å®ç°çå¤æåº¦ãéè¿é¢åç»åï¼éæ­¥ç¼©å°å¾®æå¡éè¦è§£å³çé®é¢åï¼æå»ºåéçé¢åæ¨¡åï¼èé¢åæ¨¡åæ å°æç³»ç»å°±æ¯å¾®æå¡äºã\n> \n> æ ¸å¿åãæ¯æååéç¨åçä¸»è¦ç®æ æ¯ï¼éè¿é¢åååï¼åºåä¸åå­åå¨å¬å¸åçä¸ååè½å±æ§åéè¦æ§ï¼ä»èå¬å¸å¯å¯¹ä¸åå­åéåä¸åçèµæºæå¥åå»ºè®¾ç­ç¥ï¼å¶å³æ³¨åº¦ä¹ä¼ä¸ä¸æ ·ã\n\n\n# éç¨è¯­è¨åä¸ä¸æè¾¹ç\n\néç¨è¯­è¨ï¼éè¿å¢éäº¤æµè¾¾æå±è¯æ§çï¼è½å¤ç®åãæ¸æ°ãåç¡®æè¿°ä¸å¡æ¶µä¹åè§åçè¯­è¨ã\n\nä¸ä¸æè¾¹çï¼éçå°±æ¯é¢åçè¾¹çï¼èä¸ä¸æåæ¯è¯­ä¹ç¯å¢ãéè¿é¢åçä¸ä¸æè¾¹çï¼æä»¬å°±å¯ä»¥å¨ç»ä¸çé¢åè¾¹çåç¨ç»ä¸çè¯­è¨è¿è¡äº¤æµãç»¼åä¸ä¸ï¼ä¸ä¸æè¾¹ççå®ä¹å°±æ¯ï¼ç¨æ¥å°è£éç¨è¯­è¨åé¢åå¯¹è±¡ï¼æä¾ä¸ä¸æç¯å¢ï¼ä¿è¯å¨é¢åä¹åçä¸äºæ¯è¯­ãä¸å¡ç¸å³å¯¹è±¡ç­ï¼éç¨è¯­è¨ï¼æä¸ä¸ªç¡®åçå«ä¹ï¼æ²¡æäºä¹æ§ãè¿ä¸ªè¾¹çå®ä¹äºæ¨¡åçéç¨èå´ï¼ä½¿å¢éæææåè½å¤æç¡®å°ç¥éä»ä¹åºè¯¥å¨æ¨¡åä¸­å®ç°ï¼ä»ä¹ä¸åºè¯¥å¨æ¨¡åä¸­å®ç°ã\n\n\n# å®ä½åå¼å¯¹è±¡\n\nå®ä½æ¯å¤ä¸ªå±æ§ãæä½æè¡ä¸ºçè½½ä½ãå¨äºä»¶é£æ´ä¸­ï¼æä»¬å¯ä»¥æ ¹æ®å½ä»¤ãæä½æèäºä»¶ï¼æ¾åºäº§çè¿äºè¡ä¸ºçä¸å¡å®ä½å¯¹è±¡ï¼è¿èæç§ä¸å®çä¸å¡è§åå°ä¾å­åº¦é«åä¸å¡å³èç´§å¯çå¤ä¸ªå®ä½å¯¹è±¡åå¼å¯¹è±¡è¿è¡èç±»ï¼å½¢æèåãä½ å¯ä»¥è¿ä¹çè§£ï¼å®ä½åå¼å¯¹è±¡æ¯ç»æé¢åæ¨¡åçåºç¡ååã\n\næ¬è´¨ä¸ï¼å®ä½æ¯çå¾å°ãæ¸å¾ççå®å®å¨å¨çä¸å¡å¯¹è±¡ï¼å®ä½å·æä¸å¡å±æ§ãä¸å¡è¡ä¸ºåä¸å¡é»è¾ãèå¼å¯¹è±¡åªæ¯è¥å¹²ä¸ªå±æ§çéåï¼åªææ°æ®åå§åæä½åæéçä¸æ¶åä¿®æ¹æ°æ®çè¡ä¸ºï¼åºæ¬ä¸åå«ä¸å¡é»è¾ãå¼å¯¹è±¡çå±æ§éè½ç¶å¨ç©çä¸ç¬ç«åºæ¥äºï¼ä½å¨é»è¾ä¸å®ä»ç¶æ¯å®ä½å±æ§çä¸é¨åï¼ç¨äºæè¿°å®ä½çç¹å¾ã\n\n\n# èååèåè·\n\né¢åæ¨¡ååçå®ä½åå¼å¯¹è±¡å°±å¥½æ¯ä¸ªä½ï¼èè½è®©å®ä½åå¼å¯¹è±¡ååå·¥ä½çç»ç»å°±æ¯èåï¼å®ç¨æ¥ç¡®ä¿è¿äºé¢åå¯¹è±¡å¨å®ç°å±åçä¸å¡é»è¾æ¶ï¼è½ä¿è¯æ°æ®çä¸è´æ§ã\n\nèåå°±æ¯ç±ä¸å¡åé»è¾ç´§å¯å³èçå®ä½åå¼å¯¹è±¡ç»åèæçï¼èåæ¯æ°æ®ä¿®æ¹åæä¹åçåºæ¬ååï¼æ¯ä¸ä¸ªèåå¯¹åºä¸ä¸ªä»å¨ï¼å®ç°æ°æ®çæä¹åãèåæä¸ä¸ªèåæ ¹åä¸ä¸æè¾¹çï¼è¿ä¸ªè¾¹çæ ¹æ®ä¸å¡åä¸èè´£åé«åèååï¼å®ä¹äºèååé¨åºè¯¥åå«åªäºå®ä½åå¼å¯¹è±¡ï¼èèåä¹é´çè¾¹çæ¯æ¾è¦åçã\n\nèåæ ¹çä¸»è¦ç®çæ¯ä¸ºäºé¿åç±äºå¤ææ°æ®æ¨¡åç¼ºå°ç»ä¸çä¸å¡è§åæ§å¶ï¼èå¯¼è´èåãå®ä½ä¹é´æ°æ®ä¸ä¸è´æ§çé®é¢ãå¦ææèåæ¯ä½ç»ç»ï¼é£èåæ ¹å°±æ¯è¿ä¸ªç»ç»çè´è´£äººãèåæ ¹ä¹ç§°ä¸ºæ ¹å®ä½ï¼å®ä¸ä»æ¯å®ä½ï¼è¿æ¯èåçç®¡çèã\n\n\n\n# èåè®¾è®¡æ­¥éª¤\n\n * ç¬¬ 1 æ­¥ï¼éç¨äºä»¶é£æ´ï¼æ ¹æ®ä¸å¡è¡ä¸ºï¼æ¢³çåºææçå®ä½åå¼å¯¹è±¡ã\n * ç¬¬ 2 æ­¥ï¼ä»ä¼å¤å®ä½ä¸­éåºéåä½ä¸ºå¯¹è±¡ç®¡çèçæ ¹å®ä½ï¼ä¹å°±æ¯èåæ ¹ãå¤æ­ä¸ä¸ªå®ä½ æ¯å¦æ¯èåæ ¹ï¼ä½ å¯ä»¥ç»åä»¥ä¸åºæ¯åæï¼æ¯å¦æç¬ç«ççå½å¨æï¼æ¯å¦æå¨å±å¯ä¸ idï¼ æ¯å¦å¯ä»¥åå»ºæä¿®æ¹å¶å®å¯¹è±¡ï¼æ¯å¦æä¸é¨çæ¨¡åæ¥ç®¡è¿ä¸ªå®ä½ã\n * ç¬¬ 3 æ­¥ï¼æ ¹æ®ä¸å¡åä¸èè´£åé«åèååï¼æ¾åºä¸èåæ ¹å³èçææç´§å¯ä¾èµçå®ä½åå¼ å¯¹è±¡ã\n * ç¬¬ 4 æ­¥ï¼å¨èååæ ¹æ®èåæ ¹ãå®ä½åå¼å¯¹è±¡çä¾èµå³ç³»ï¼ç»åºå¯¹è±¡çå¼ç¨åä¾èµæ¨¡åã\n * ç¬¬ 5 æ­¥ï¼å¤ä¸ªèåæ ¹æ®ä¸å¡è¯­ä¹åä¸ä¸æä¸èµ·ååå°åä¸ä¸ªéçä¸ä¸æåã\n\n# èåè®¾è®¡åå\n\n * å¨ä¸è´æ§è¾¹çåå»ºæ¨¡çæ­£çä¸åæ¡ä»¶ã\n * è®¾è®¡å°èåã\n * éè¿å¯ä¸æ è¯å¼ç¨å¶å®èåã\n * å¨è¾¹çä¹å¤ä½¿ç¨æç»ä¸è´æ§ã\n * éè¿åºç¨å±å®ç°è·¨èåçæå¡è°ç¨ã\n\n\n# æ¶ææ¨¡å\n\n\n# ddd æ¶æ\n\n\n\nä¸å±æ¶æå ddd åå±æ¶ææ¼è¿ï¼ä¸»è¦åçå¨ä¸å¡é»è¾å±åæ°æ®è®¿é®å±ã\n\nddd åå±æ¶æåå«ç¨æ·æ¥å£å±ãåºç¨å±ãé¢åå±ååºç¡å±ãéè¿è¿äºå±æ¬¡ååï¼æä»¬å¯ä»¥æç¡®å¾®æå¡åå±çèè½ï¼åå®åé¢åå¯¹è±¡çè¾¹çï¼ç¡®å®åé¢åå¯¹è±¡çåä½æ¹å¼ã\n\n\n# æ´æ´æ¶æ\n\nå¨æ´æ´æ¶æéï¼åå¿åä»£è¡¨åºç¨è½¯ä»¶çä¸åé¨åï¼ä»éå°å¤ä¾æ¬¡æ¯é¢åæ¨¡åãé¢åæå¡ãåºç¨æå¡åæå¤å´çå®¹æååçåå®¹ï¼æ¯å¦ç¨æ·çé¢ååºç¡è®¾æ½ã\n\næ´æ´æ¶ææä¸»è¦çååæ¯ä¾èµååï¼å®å®ä¹äºåå±çä¾èµå³ç³»ï¼è¶å¾éä¾èµè¶ä½ï¼ä»£ç çº§å«è¶é«ï¼è¶æ¯æ ¸å¿è½åãå¤åä»£ç ä¾èµåªè½æåååï¼ååä¸éè¦ç¥éå¤åçä»»ä½æåµã\n\n\n\n\n# å­è¾¹å½¢æ¶æ\n\nå­è¾¹å½¢æ¶æçæ ¸å¿çå¿µæ¯ï¼åºç¨æ¯éè¿ç«¯å£ä¸å¤é¨è¿è¡äº¤äºçãææ³è¿ä¹æ¯å¾®æå¡æ¶æä¸ api ç½å³çè¡çä¸»è¦åå å§ã\n\nä¹å°±æ¯è¯´ï¼å¨ä¸å¾çå­è¾¹å½¢æ¶æä¸­ï¼çº¢ååçæ ¸å¿ä¸å¡é»è¾ï¼åºç¨ç¨åºåé¢åæ¨¡åï¼ä¸å¤é¨èµæºï¼åæ¬ appãweb åºç¨ä»¥åæ°æ®åºèµæºç­ï¼å®å¨éç¦»ï¼ä»éè¿ééå¨è¿è¡äº¤äºãå®è§£å³äºä¸å¡é»è¾ä¸ç¨æ·çé¢çä»£ç äº¤éé®é¢ï¼å¾å¥½å°å®ç°äºååç«¯åç¦»ãå­è¾¹å½¢æ¶æåå±çä¾èµå³ç³»ä¸æ´æ´æ¶æä¸æ ·ï¼é½æ¯ç±å¤ååä¾èµã\n\nå­è¾¹å½¢æ¶æå°ç³»ç»åä¸ºåå­è¾¹å½¢åå¤å­è¾¹å½¢ä¸¤å±ï¼è¿ä¸¤å±çèè½ååå¦ä¸ï¼\n\nçº¢ååçå­è¾¹å½¢å®ç°åºç¨çæ ¸å¿ä¸å¡é»è¾ï¼\n\nå¤å­è¾¹å½¢å®æå¤é¨åºç¨ãé©±å¨ååºç¡èµæºç­çäº¤äºåè®¿é®ï¼å¯¹åç«¯åºç¨ä»¥ api ä¸»å¨ééçæ¹å¼æä¾æå¡ï¼å¯¹åºç¡èµæºä»¥ä¾èµåç½®è¢«å¨ééçæ¹å¼å®ç°èµæºè®¿é®ã\n\n\n# ä¸ç§æ¶æå¯¹æ¯\n\nè¿ä¸ç§æ¶ææ¨¡åçè®¾è®¡ææ³æ­£æ¯å¾®æå¡æ¶æé«åèä½è¦åååçå®ç¾ä½ç°ã\n\n\n\n# æ¶ææ¨¡ååä¸­å°ãå¾®æå¡çèç³»\n\nä¸­å°æ¬è´¨ä¸æ¯é¢åçå­åï¼å®å¯è½æ¯æ ¸å¿åï¼ä¹å¯è½æ¯éç¨åææ¯æåãéå¸¸å¤§å®¶è®¤ä¸ºé¿éçä¸­å°å¯¹åº ddd çéç¨åï¼å°éç¨çå¬å±è½åæ²æ·ä¸ºä¸­å°ï¼å¯¹å¤æä¾éç¨å±äº«æå¡ã\n\ndddãä¸­å°ãå¾®æå¡è¿ä¸èä¹é´ä¼¼ä¹æ²¡ä»ä¹å³èï¼å®éä¸å®ä»¬çå³ç³»æ¯éå¸¸ç´§å¯çï¼ç»åå¨ä¸èµ·å¯ä»¥ä½ä¸º ä¸ä¸ªçè®ºä½ç³»ç¨äºä½ çä¸­å°åå¾®æå¡è®¾è®¡ã\n\n# ä¸­å°å»ºè®¾è¦èç¦é¢åæ¨¡å\n\nä¸­å°éè¦ç«å¨å¨ä¼ä¸çé«åº¦èèè½åçå±äº«åå¤ç¨ã\n\nä¸­å°è®¾è®¡æ¶ï¼æä»¬éè¦å»ºç«ä¸­å°åææéçä¸ä¸æçé¢åæ¨¡åï¼ddd å»ºæ¨¡è¿ç¨ä¸­ä¼èèæ¶ææ¼è¿ååè½çéæ°ç»åãé¢åæ¨¡åå»ºç«çè¿ç¨ä¼å¯¹ä¸å¡ååºç¨è¿è¡æ¸æ°çé»è¾åç©çè¾¹çï¼å¾®æå¡ï¼ååãé¢åæ¨¡åçç»æä¼å½±åå°åç»­çç³»ç»æ¨¡åãæ¶ææ¨¡ååä»£ç æ¨¡åï¼æç»å½±åå°å¾®æå¡çæååé¡¹ç®è½å°ã\n\n# å¾®æå¡è¦æåççæ¶æåå±\n\nå¾®æå¡è®¾è®¡è¦æåå±çè®¾è®¡ææ³ï¼è®©åå±åå¸å¶èï¼å»ºç«æ¾è¦åçå±é´å³ç³»ã\n\nä¸è¦æä¸é¢åæ å³çé»è¾æ¾å¨é¢åå±å®ç°ï¼ä¿è¯é¢åå±ççº¯æ´åé¢åé»è¾çç¨³å®ï¼é¿åæ±¡æé¢åæ¨¡åãä¹ä¸è¦æé¢åæ¨¡åçä¸å¡é»è¾æ¾å¨åºç¨å±ï¼è¿æ ·ä¼å¯¼è´åºç¨å±è¿äºåºå¤§ï¼æç»é¢åæ¨¡åä¼å¤±ç¦ã\n\n# åºç¨åèµæºçè§£è¦ä¸éé\n\nä¼ ç»ä»¥æ°æ®ä¸ºä¸­å¿çè®¾è®¡æ¨¡å¼ï¼åºç¨ä¼å¯¹æ°æ®åºãç¼å­ãæä»¶ç³»ç»ç­åºç¡èµæºäº§çä¸¥éä¾èµã\n\næ­£æ¯ç±äºå®ä»¬ä¹é´çè¿ç§å¼ºä¾èµçå³ç³»ï¼æä»¬ä¸æ¦æ´æ¢åºç¡èµæºå°±ä¼å¯¹åºç¨äº§çå¾å¤§çå½±åï¼å æ­¤éè¦ä¸ºåºç¨åèµæºè§£è¦ã\n\n\n# ä¸­å°æç¥\n\n\n# å¹³å°ä¸æ¯ä¸­å°\n\nä¸­å°æºäºå¹³å°ï¼ä½å®çæç¥é«åº¦è¦æ¯å¹³å°é«å¾å¤ã\n\nå¹³å°åªæ¯å°é¨åéç¨çå¬å±è½åç¬ç«ä¸ºå±äº«å¹³å°ãè½ç¶å¯ä»¥éè¿ api æèæ°æ®å¯¹å¤æä¾å¬å±å±äº«æå¡ï¼è§£å³ç³»ç»éå¤å»ºè®¾çé®é¢ï¼ä½è¿ç±»å¹³å°å¹¶æ²¡æåä¼ä¸åçå¶å®å¹³å°æåºç¨ï¼å®ç°é¡µé¢ãä¸å¡æµç¨åæ°æ®ä»åç«¯å°åç«¯çå¨é¢èåï¼å¹¶ä¸æ²¡æå°æ ¸å¿ä¸å¡æå¡é¾è·¯ä½ä¸ºä¸ä¸ªæ´ä½æ¹æ¡èèï¼åå¹³å°ä»ç¶æ¯åç¦»ä¸ç¬ç«çã\n\nç®åççè§£å°±æ¯æä¼ ç»çååå°ä½ç³»ä¸­çåå°è¿è¡äºç»åãé¿éå·´å·´æåºäºå¤§ä¸­å°å°åå°çæç¥ãå°±æ¯å¼ºåä¸å¡åææ¯ä¸­å°ï¼æåç«¯çåºç¨åå¾æ´å°æ´çµæ´»ãå½ä¸­å°è¶å¼ºå¤§ï¼è½åå°±è¶å¼ºï¼è¶è½æ´å¥½çå¿«éååºåå°çä¸å¡éæ±ãæä¸ªæ¯å»ï¼å°±æ¯åå£¤è¶è¥æ²ï¼è¶éåçé¿ä¸åççç©ï¼æé å¥½ççæç³»ç»ã\n\n\n\n\n# ä»ä¹æ¯ä¸­å°\n\nä¸­å°æ¯ä¸ä¸ªåºç¡ççå¿µåæ¶æï¼æä»¬è¦æææçåºç¡æå¡ç¨ä¸­å°çæè·¯å»ºè®¾ï¼è¿è¡èéï¼å±åæ¯æä¸ç«¯çä¸å¡ãä¸å¡ä¸­å°æ´å¤çæ¯æ¯æå¨çº¿ä¸å¡ï¼æ°æ®ä¸­å°æä¾äºåºç¡æ°æ®å¤çè½ååå¾å¤çæ°æ®äº§åç»ææä¸å¡æ¹å»ç¨ãä¸å¡ä¸­å°ãæ°æ®ä¸­å°ãç®æ³ä¸­å°ç­ç­ä¸èµ·æä¾å¯¹ä¸å±ä¸å¡çæ¯æã\n\nä¸­å°çå³é®è¯ï¼å±äº«ãèéãèåååæ°ãèéæ¯åå°ä»¥åä¸­å°ä¹é´çèéï¼èåæ¯åå°æµç¨åæ°æ®çèåï¼å¹¶ä»¥å±äº«çæ¹å¼æ¯æåç«¯ä¸çº¿ä¸å¡çåå±ååæ°ãå¶ä¸­æå³é®çæ¯å¿«éååºè½ååä¼ä¸çº§çæ ç¼èéåèåè½åï¼å°¤å¶æ¯å¯¹äºè·¨ä¸ç»è¥çè¶å¤§åä¼ä¸æ¥è¯´è³å³éè¦ã\n\n\n# æ°å­åè½¬åä¸­å°\n\n\n# åä¸­åå°åå\n\n# åå°\n\nå¨åå°è®¾è®¡ä¸­æä»¬å¯ä»¥åé´å¾®åç«¯çè®¾è®¡ææ³ï¼å¨ä¼ä¸åä¸ä»å®ç°åç«¯è§£è¦åå¤ç¨ï¼è¿å¯ä»¥æ ¹æ®æ ¸å¿é¾è·¯åä¸å¡æµç¨ï¼éè¿å¯¹å¾®åç«¯é¡µé¢çå¨æç»ååæµç¨ç¼æï¼å®ç°åå°ä¸å¡çèåã\n\nåç«¯é¡µé¢å¯ä»¥å¾èªç¶å°èåå°ä¸åçç»ç«¯åæ¸ éåºç¨æ ¸å¿ä¸å¡é¾è·¯ä¸­ï¼å®ç°åç«¯é¡µé¢ãæµç¨ååè½å¤ç¨ã\n\n# ä¸­å°\n\nä¸å¡ä¸­å°çå»ºè®¾å¯éç¨é¢åé©±å¨è®¾è®¡æ¹æ³ï¼éè¿é¢åå»ºæ¨¡ï¼å°å¯å¤ç¨çå¬å±è½åä»åä¸ªåä½å¥ç¦»ï¼æ²æ·å¹¶ç»åï¼éç¨å¾®æå¡æ¶ææ¨¡å¼ï¼å»ºè®¾æä¸ºå¯å±äº«çéç¨è½åä¸­å°ã\n\nåæ ·çï¼æä»¬å¯ä»¥å°æ ¸å¿è½åç¨å¾®æå¡æ¶ææ¨¡å¼ï¼å»ºè®¾æä¸ºå¯é¢åä¸åæ¸ éååºæ¯çå¯å¤ç¨çæ ¸å¿è½åä¸­å°ã ä¸å¡ä¸­å°ååå°ãç¬¬ä¸æ¹åå¶å®ä¸­å°æä¾ api æå¡ï¼å®ç°éç¨è½ååæ ¸å¿è½åçå¤ç¨ã\n\næ°æ®ä¸­å°çä¸»è¦ç®æ æ¯æéæ°æ®å­¤å²ï¼å®ç°ä¸å¡èåååæ°ï¼åæ¬ä¸å¤§ä¸»è¦èè½ï¼\n\n * ä¸æ¯å®æä¼ä¸å¨åæ°æ®çééä¸å­å¨ï¼å®ç°åä¸åä¸å¡ç±»å«ä¸­å°æ°æ®çæ±æ»åéä¸­ç®¡çã\n * äºæ¯æç§æ åçæ°æ®è§èææ°æ®æ¨¡åï¼å°æ°æ®æç§ä¸åä¸»é¢åæåºæ¯è¿è¡å å·¥åå¤çï¼å½¢æé¢åä¸åä¸»é¢ååºæ¯çæ°æ®åºç¨ï¼æ¯å¦å®¢æ·è§å¾ãä»£çäººè§å¾ãæ¸ éè§å¾ãæºæè§å¾ç­ä¸åæ°æ®ä½ç³»ã\n * ä¸æ¯å»ºç«ä¸å¡éæ±é©±å¨çæ°æ®ä½ç³»ï¼åºäºåä¸ªç»´åº¦çæ°æ®ï¼æ·±åº¦èåæ°æ®ä»·å¼ï¼æ¯æä¸å¡ååä¸æ¨¡å¼çåæ°ã\n\nç¸åºçï¼æ°æ®ä¸­å°çå»ºè®¾å°±å¯åä¸ºä¸æ­¥èµ°ï¼\n\n * ç¬¬ä¸æ­¥å®ç°åä¸­å°ä¸å¡æ°æ®çæ±éï¼è§£å³æ°æ®å­¤å²ååçº§æ°æ®å±äº«é®é¢ã\n * ç¬¬äºæ­¥å®ç°ä¼ä¸çº§å®æ¶æéå®æ¶å¨ç»´åº¦æ°æ®çæ·±åº¦èåãå å·¥åå±äº«ã\n * ç¬¬ä¸æ­¥èåæ°æ®ä»·å¼ï¼æ¯æä¸å¡åæ°ï¼å éä»æ°æ®è½¬æ¢ä¸ºä¸å¡ä»·å¼çè¿ç¨ã\n\n# åå°\n\nåå°ä¸»è¦é¢åå®¢æ·ä»¥åç»ç«¯éå®èï¼å®ç°è¥éæ¨å¹¿ä»¥åäº¤æè½¬åï¼ä¸­å°ä¸»è¦é¢åè¿è¥äººåï¼å®æè¿è¥æ¯æï¼åå°ä¸»è¦é¢ååå°ç®¡çäººåï¼å®ç°æµç¨å®¡æ ¸ãåé¨ç®¡çä»¥ååå¤æ¯æï¼æ¯å¦éè´­ãäººåãè´¢å¡å oa ç­ç³»ç»ã\n\n\n# dddãä¸­å°åå¾®æå¡çåä½\n\nä¼ ç»ä¼ä¸å¯ä»¥å°éè¦å±äº«çå¬å±è½åè¿è¡é¢åå»ºæ¨¡ï¼å»ºè®¾å¯å±äº«çéç¨ä¸­å°ãé¤æ­¤ä¹å¤ï¼ä¼ ç»ä¼ä¸è¿ä¼å°æ ¸å¿è½åè¿è¡é¢åå»ºæ¨¡ï¼å»ºè®¾é¢åä¸åæ¸ éçå¯å¤ç¨çæ ¸å¿ä¸­å°ã\n\n\n# å¦ä½æå»ºä¸­å°\n\n# èªé¡¶åä¸ç­ç¥\n\nèªé¡¶åä¸çç­ç¥éç¨äºå¨æ°çåºç¨ç³»ç»å»ºè®¾ï¼ææ§ç³»ç»æ¨åéå»ºçæåµãè¿ç§ç­ç¥æ¯ååé¡¶å±è®¾è®¡ï¼ä»æé«é¢åéçº§åè§£ä¸ºä¸­å°ï¼åå«å»ºç«é¢åæ¨¡åï¼æ ¹æ®ä¸å¡å±æ§åä¸ºéç¨ä¸­å°ææ ¸å¿ä¸­å°ãé¢åå»ºæ¨¡è¿ç¨ä¸»è¦åºäºä¸å¡ç°ç¶ï¼ææ¶ä¸èèç³»ç»ç°ç¶ã\n\n# èªé¡¶åä¸ç­ç¥\n\nèªåºåä¸ç­ç¥éç¨äºéçç³»ç»ä¸å¡æ¨¡åçæ¼è¿å¼éæãè¿ç§ç­ç¥æ¯åºäºä¸å¡åç³»ç»ç°ç¶å®æé¢åå»ºæ¨¡ãé¦ååå«å®æç³»ç»æå¨ä¸å¡åçé¢åå»ºæ¨¡ï¼ç¶åå¯¹é½ä¸å¡åï¼æ¾åºå·æåç±»æç¸ä¼¼ä¸å¡åè½çé¢åæ¨¡åï¼å¯¹æ¯åæé¢åæ¨¡åçå·®å¼ï¼éç»é¢åå¯¹è±¡ï¼éæé¢åæ¨¡åãè¿ä¸ªè¿ç¨ä¼æ²æ·å¬å±åå¤ç¨çä¸å¡è½åï¼ä¼å°åæ£çä¸å¡æ¨¡åæ´åã\n\n# æå»ºæ­¥éª¤\n\nç¬¬ä¸æ­¥ï¼éå®ç³»ç»æå¨ä¸å¡åï¼æå»ºé¢åæ¨¡åã\n\n\n\nç¬¬äºæ­¥ï¼å¯¹é½ä¸å¡åï¼æå»ºä¸­å°ä¸å¡æ¨¡åã\n\nç¬¬ä¸æ­¥ï¼ä¸­å°å½ç±»ï¼æ ¹æ®é¢åæ¨¡åè®¾è®¡å¾®æå¡ã\n\n\n# è¾¹ç\n\né»è¾è¾¹çï¼å¾®æå¡åèåä¹é´çè¾¹çæ¯é»è¾è¾¹çãå®æ¯ä¸ä¸ªèæçè¾¹çï¼å¼ºè°ä¸å¡çåèï¼å¯æ ¹æ®éè¦åæç©çè¾¹çï¼ä¹å°±æ¯è¯´èåä¹å¯ä»¥ç¬ç«ä¸ºå¾®æå¡ã\n\nç©çè¾¹çï¼å¾®æå¡ä¹é´çè¾¹çæ¯ç©çè¾¹çãå®å¼ºè°å¾®æå¡é¨ç½²åè¿è¡çéç¦»ï¼å³æ³¨å¾®æå¡çæå¡è°ç¨ãå®¹éåè¿è¡ç­ã\n\nä»£ç è¾¹çï¼ä¸åå±æèèåä¹é´ä»£ç ç®å½çè¾¹çæ¯ä»£ç è¾¹çãå®å¼ºè°çæ¯ä»£ç ä¹é´çéç¦»ï¼æ¹ä¾¿æ¶ææ¼è¿æ¶ä»£ç çéç»ã\n\néè¿ä»¥ä¸è¾¹çï¼æä»¬å¯ä»¥è®©ä¸å¡è½åé«åèãä»£ç æ¾è¦åï¼ä¸æ¸æ°çè¾¹çï¼å¯ä»¥å¿«éå®ç°å¾®æå¡ä»£ç çæååç»åï¼è½»æ¾å®ç°å¾®æå¡æ¶ææ¼è¿ãä½æä¸ç¹ä¸å®è¦æ ¼å¤æ³¨æï¼è¾¹çæ¸æ°çå¾®æå¡ï¼ä¸æ¯å¤§åä½åå°åä½çæ¼è¿ã\n\n\n# åèèµæ\n\n * ddd å®æè¯¾",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"éæ",frontmatter:{title:"éæ",date:"2021-04-29T16:05:03.000Z",categories:["è®¾è®¡","éæ"],tags:["è®¾è®¡","éæ"],permalink:"/pages/d200c3/",hidden:!0},regularPath:"/03.%E8%AE%BE%E8%AE%A1/03.%E9%87%8D%E6%9E%84/",relativePath:"03.è®¾è®¡/03.éæ/README.md",key:"v-45cada9f",path:"/pages/d200c3/",headers:[{level:2,title:"ð åå®¹",slug:"ð-åå®¹",normalizedTitle:"ð åå®¹",charIndex:68},{level:2,title:"ð èµæ",slug:"ð-èµæ",normalizedTitle:"ð èµæ",charIndex:163},{level:2,title:"ðª ä¼ é",slug:"ðª-ä¼ é",normalizedTitle:"ðª ä¼ é",charIndex:224}],headersStr:"ð åå®¹ ð èµæ ðª ä¼ é",content:"# éæ\n\n> éææ¯ä¸æ¹åè½¯ä»¶ç³»ç»å¤é¨è¡ä¸ºçåæä¸ï¼æ¹åå®çåé¨ç»æã\n> \n> éæçç®çæ¯ä¸ºäºæé«ä»£ç çè´¨éåæ§è½ã\n\n\n\n\n# ð åå®¹\n\n * ä»£ç çåå³éåéæ\n * ä»£ç åå³éä¹ä»£ç èè¿\n * ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡\n * ä»£ç åå³éä¹åé©çéç¢\n * ä»£ç åå³éä¹éå¿è¦ç\n * ä»£ç åå³éä¹è¦å\n\n\n# ð èµæ\n\n * ãä»£ç æ´æ´ä¹éã\n * ãéæ - æ¹åæ¢æä»£ç çè®¾è®¡ã\n * ãä»£ç å¤§å¨ã\n * éææç¨\n\n\n# ðª ä¼ é\n\nâ¾ ð§ éæç IT ç¥è¯å¾è°± â¾ ð¯ éæçåå®¢ â¾",normalizedContent:"# éæ\n\n> éææ¯ä¸æ¹åè½¯ä»¶ç³»ç»å¤é¨è¡ä¸ºçåæä¸ï¼æ¹åå®çåé¨ç»æã\n> \n> éæçç®çæ¯ä¸ºäºæé«ä»£ç çè´¨éåæ§è½ã\n\n\n\n\n# ð åå®¹\n\n * ä»£ç çåå³éåéæ\n * ä»£ç åå³éä¹ä»£ç èè¿\n * ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡\n * ä»£ç åå³éä¹åé©çéç¢\n * ä»£ç åå³éä¹éå¿è¦ç\n * ä»£ç åå³éä¹è¦å\n\n\n# ð èµæ\n\n * ãä»£ç æ´æ´ä¹éã\n * ãéæ - æ¹åæ¢æä»£ç çè®¾è®¡ã\n * ãä»£ç å¤§å¨ã\n * éææç¨\n\n\n# ðª ä¼ é\n\nâ¾ ð§ éæç it ç¥è¯å¾è°± â¾ ð¯ éæçåå®¢ â¾",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"UML å¿«éå¥é¨",frontmatter:{title:"UML å¿«éå¥é¨",date:"2019-03-06T00:00:00.000Z",categories:["è®¾è®¡","UML"],tags:["è®¾è®¡","UML"],permalink:"/pages/ae1396/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/11.UML/01.UML%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html",relativePath:"03.è®¾è®¡/11.UML/01.UMLå¿«éå¥é¨.md",key:"v-90dacde0",path:"/pages/ae1396/",headers:[{level:2,title:"UML ç®ä»",slug:"uml-ç®ä»",normalizedTitle:"uml ç®ä»",charIndex:15},{level:3,title:"UML å¾ç±»å",slug:"uml-å¾ç±»å",normalizedTitle:"uml å¾ç±»å",charIndex:26},{level:4,title:"ç»æå¼å»ºæ¨¡å¾",slug:"ç»æå¼å»ºæ¨¡å¾",normalizedTitle:"ç»æå¼å»ºæ¨¡å¾",charIndex:54},{level:4,title:"è¡ä¸ºå¼å»ºæ¨¡å¾",slug:"è¡ä¸ºå¼å»ºæ¨¡å¾",normalizedTitle:"è¡ä¸ºå¼å»ºæ¨¡å¾",charIndex:227},{level:3,title:"UML æ¦å¿µ",slug:"uml-æ¦å¿µ",normalizedTitle:"uml æ¦å¿µ",charIndex:410},{level:2,title:"UML å·¥å·",slug:"uml-å·¥å·",normalizedTitle:"uml å·¥å·",charIndex:680},{level:3,title:"äº¿å¾",slug:"äº¿å¾",normalizedTitle:"äº¿å¾",charIndex:742},{level:3,title:"Visio",slug:"visio",normalizedTitle:"visio",charIndex:816},{level:3,title:"StarUML",slug:"staruml",normalizedTitle:"staruml",charIndex:868},{level:3,title:"Astah",slug:"astah",normalizedTitle:"astah",charIndex:920},{level:3,title:"ArgoUML",slug:"argouml",normalizedTitle:"argouml",charIndex:965},{level:3,title:"ProcessOn",slug:"processon",normalizedTitle:"processon",charIndex:1006},{level:3,title:"drawio",slug:"drawio",normalizedTitle:"drawio",charIndex:1058},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:1107}],headersStr:"UML ç®ä» UML å¾ç±»å ç»æå¼å»ºæ¨¡å¾ è¡ä¸ºå¼å»ºæ¨¡å¾ UML æ¦å¿µ UML å·¥å· äº¿å¾ Visio StarUML Astah ArgoUML ProcessOn drawio åèèµæ",content:"# UML å¿«éå¥é¨\n\n\n# UML ç®ä»\n\n\n# UML å¾ç±»å\n\nUML å¾ç±»åå¦ä¸å¾æç¤ºï¼\n\n\n\n# ç»æå¼å»ºæ¨¡å¾\n\n> ç»æå¼å»ºæ¨¡å¾ï¼Structure diagramsï¼å¼ºè°çæ¯ç³»ç»å¼çå»ºæ¨¡ãç»æå¾å®ä¹äºä¸ä¸ªæ¨¡åçéææ¶æãå®ä»¬éå¸¸è¢«ç¨æ¥å¯¹é£äºæææ¨¡åçâè¦ç´ 'å»ºæ¨¡ï¼è¯¸å¦ï¼ç±»ï¼å¯¹è±¡ï¼æ¥å£åç©çç»ä»¶ãå¦å¤ï¼å®ä»¬ä¹è¢«ç¨æ¥å¯¹åç´ é´å³èåä¾èµå³ç³»è¿è¡å»ºæ¨¡ã\n\n * ç±»å¾\n * å¯¹è±¡å¾\n * åå¾\n * ç»ä»¶å¾\n * é¨ç½²å¾\n * å¤åç»æå¾\n\n# è¡ä¸ºå¼å»ºæ¨¡å¾\n\n> è¡ä¸ºå¼å»ºæ¨¡å¾ï¼Behavior diagramsï¼å¼ºè°ç³»ç»æ¨¡åä¸­è§¦åçäºãè¡ä¸ºå¾ç¨æ¥è®°å½å¨ä¸ä¸ªæ¨¡ååé¨ï¼éæ¶é´çååï¼æ¨¡åæ§è¡çäº¤äºåååç¬é´çç¶æï¼å¹¶è·è¸ªç³»ç»å¨çå®ç¯å¢ä¸å¦ä½è¡¨ç°ï¼ä»¥åè§å¯ç³»ç»å¯¹ä¸ä¸ªæä½æäºä»¶çååºï¼ä»¥åå®çç»æã\n\n * æ´»å¨å¾\n * ç¶æå¾\n * ç¨ä¾å¾\n * éä¿¡å¾\n * äº¤äºæ¦è¿°å¾\n * æ¶åºå¾\n * æ¶é´å¾\n\n\n# UML æ¦å¿µ\n\nUML ä»æ¥æºä¸­ä½¿ç¨ç¸å½å¤çæ¦å¿µãæä»¬å°ä¹å®ä¹äºç»ä¸å»ºæ¨¡è¯­è¨æ¯è¯­æ±è¡¨ãä¸é¢ä»åä»£è¡¨æ§çæ¦å¿µã\n\n * å¯¹äºç»æèè¨ - æ§è¡èï¼å±æ§ï¼ç±»ï¼åä»¶ï¼æ¥å£ï¼å¯¹è±¡ï¼åã\n * å¯¹äºè¡ä¸ºèè¨ - æ´»å¨ï¼UMLï¼ï¼äºä»¶ï¼UMLï¼ï¼æ¶æ¯ï¼UMLï¼ï¼æ¹æ³ï¼UMLï¼ï¼æä½ï¼UMLï¼ï¼ç¶æï¼UMLï¼ï¼ç¨ä¾ï¼UMLï¼ã\n * å¯¹äºå³ç³»èè¨ - èåï¼å³èï¼ç»åï¼ç¸ä¾ï¼å¹¿ä¹åï¼or ç»§æ¿ï¼ã\n * å¶ä»æ¦å¿µ\n   * æé åâè¿è§èç¬¦å·åºç¨å°çæ¨¡å\n   * å¤éæ§âå¤éæ§æ è®°æ³ä¸èµæåºå»ºæ¨¡åºæ°å¯¹åºï¼ä¾å¦ï¼1, 0..1, 1..*\n\n\n# UML å·¥å·\n\nUML å·¥å·éå¸¸å¤ï¼å°åºåªç§å·¥å·å¥½ï¼ççæ¯ä»èè§ä»æºèè§æºãè¿éåä¸¾ä¸äºææ¥è§¦è¿ç UML å·¥å·ï¼\n\n\n# äº¿å¾\n\n> å½åå¼åçãæ¶è´¹çç»å¾å·¥å·ãå¾å½¢æ¨¡æ¿ãç´ æéå¸¸å¨é¢ï¼æ ·å¼ä¹å¾ç²¾ç¾ï¼å¯ä»¥å¯¼åºä¸º wordãpdfãå¾çã\n> \n> äº¿å¾å®ç½\n\n\n\n\n# Visio\n\n> Office çç»å¾å·¥å·ï¼ç¹ç¹æ¯ç®åãæ¸æ°ã\n> \n> Visio å®ç½\n\n\n\n\n# StarUML\n\n> æ ·å¼ç²¾ç¾ï¼åè½å¨é¢ç UML å·¥å·ã\n> \n> StarUML å®ç½\n\n\n\n\n# Astah\n\n> æ ·å¼ä¸éï¼åè½å¨é¢çç»å¾å·¥å·ã\n> \n> Astah å®ç½\n\n\n\n\n# ArgoUML\n\n> UML å·¥å·ã\n> \n> ArgoUML å®ç½\n\n\n\n\n# ProcessOn\n\n> å¨çº¿ç»å¾å·¥å·ï¼ç¹ç¹æ¯ç®æ´ãæ¸æ°ã\n> \n> ProcessOn å®ç½\n\n\n# drawio\n\n> å¼æºçå¨çº¿ç»å¾å·¥å·ï¼ç¹ç¹æ¯ç®æ´ãæ¸æ°ã\n> \n> drawio å®ç½\n\n\n# åèèµæ\n\n * Wiki-UML\n * Sparx UML æç¨\n * OMG UML\n * UML Tutorial\n * W3Cschool UML æç¨\n * UML å­¦ä¹ å¥é¨å°±è¿ä¸ç¯æç« \n * http://www.cnblogs.com/ywqu/category/223486.html",normalizedContent:"# uml å¿«éå¥é¨\n\n\n# uml ç®ä»\n\n\n# uml å¾ç±»å\n\numl å¾ç±»åå¦ä¸å¾æç¤ºï¼\n\n\n\n# ç»æå¼å»ºæ¨¡å¾\n\n> ç»æå¼å»ºæ¨¡å¾ï¼structure diagramsï¼å¼ºè°çæ¯ç³»ç»å¼çå»ºæ¨¡ãç»æå¾å®ä¹äºä¸ä¸ªæ¨¡åçéææ¶æãå®ä»¬éå¸¸è¢«ç¨æ¥å¯¹é£äºæææ¨¡åçâè¦ç´ 'å»ºæ¨¡ï¼è¯¸å¦ï¼ç±»ï¼å¯¹è±¡ï¼æ¥å£åç©çç»ä»¶ãå¦å¤ï¼å®ä»¬ä¹è¢«ç¨æ¥å¯¹åç´ é´å³èåä¾èµå³ç³»è¿è¡å»ºæ¨¡ã\n\n * ç±»å¾\n * å¯¹è±¡å¾\n * åå¾\n * ç»ä»¶å¾\n * é¨ç½²å¾\n * å¤åç»æå¾\n\n# è¡ä¸ºå¼å»ºæ¨¡å¾\n\n> è¡ä¸ºå¼å»ºæ¨¡å¾ï¼behavior diagramsï¼å¼ºè°ç³»ç»æ¨¡åä¸­è§¦åçäºãè¡ä¸ºå¾ç¨æ¥è®°å½å¨ä¸ä¸ªæ¨¡ååé¨ï¼éæ¶é´çååï¼æ¨¡åæ§è¡çäº¤äºåååç¬é´çç¶æï¼å¹¶è·è¸ªç³»ç»å¨çå®ç¯å¢ä¸å¦ä½è¡¨ç°ï¼ä»¥åè§å¯ç³»ç»å¯¹ä¸ä¸ªæä½æäºä»¶çååºï¼ä»¥åå®çç»æã\n\n * æ´»å¨å¾\n * ç¶æå¾\n * ç¨ä¾å¾\n * éä¿¡å¾\n * äº¤äºæ¦è¿°å¾\n * æ¶åºå¾\n * æ¶é´å¾\n\n\n# uml æ¦å¿µ\n\numl ä»æ¥æºä¸­ä½¿ç¨ç¸å½å¤çæ¦å¿µãæä»¬å°ä¹å®ä¹äºç»ä¸å»ºæ¨¡è¯­è¨æ¯è¯­æ±è¡¨ãä¸é¢ä»åä»£è¡¨æ§çæ¦å¿µã\n\n * å¯¹äºç»æèè¨ - æ§è¡èï¼å±æ§ï¼ç±»ï¼åä»¶ï¼æ¥å£ï¼å¯¹è±¡ï¼åã\n * å¯¹äºè¡ä¸ºèè¨ - æ´»å¨ï¼umlï¼ï¼äºä»¶ï¼umlï¼ï¼æ¶æ¯ï¼umlï¼ï¼æ¹æ³ï¼umlï¼ï¼æä½ï¼umlï¼ï¼ç¶æï¼umlï¼ï¼ç¨ä¾ï¼umlï¼ã\n * å¯¹äºå³ç³»èè¨ - èåï¼å³èï¼ç»åï¼ç¸ä¾ï¼å¹¿ä¹åï¼or ç»§æ¿ï¼ã\n * å¶ä»æ¦å¿µ\n   * æé åâè¿è§èç¬¦å·åºç¨å°çæ¨¡å\n   * å¤éæ§âå¤éæ§æ è®°æ³ä¸èµæåºå»ºæ¨¡åºæ°å¯¹åºï¼ä¾å¦ï¼1, 0..1, 1..*\n\n\n# uml å·¥å·\n\numl å·¥å·éå¸¸å¤ï¼å°åºåªç§å·¥å·å¥½ï¼ççæ¯ä»èè§ä»æºèè§æºãè¿éåä¸¾ä¸äºææ¥è§¦è¿ç uml å·¥å·ï¼\n\n\n# äº¿å¾\n\n> å½åå¼åçãæ¶è´¹çç»å¾å·¥å·ãå¾å½¢æ¨¡æ¿ãç´ æéå¸¸å¨é¢ï¼æ ·å¼ä¹å¾ç²¾ç¾ï¼å¯ä»¥å¯¼åºä¸º wordãpdfãå¾çã\n> \n> äº¿å¾å®ç½\n\n\n\n\n# visio\n\n> office çç»å¾å·¥å·ï¼ç¹ç¹æ¯ç®åãæ¸æ°ã\n> \n> visio å®ç½\n\n\n\n\n# staruml\n\n> æ ·å¼ç²¾ç¾ï¼åè½å¨é¢ç uml å·¥å·ã\n> \n> staruml å®ç½\n\n\n\n\n# astah\n\n> æ ·å¼ä¸éï¼åè½å¨é¢çç»å¾å·¥å·ã\n> \n> astah å®ç½\n\n\n\n\n# argouml\n\n> uml å·¥å·ã\n> \n> argouml å®ç½\n\n\n\n\n# processon\n\n> å¨çº¿ç»å¾å·¥å·ï¼ç¹ç¹æ¯ç®æ´ãæ¸æ°ã\n> \n> processon å®ç½\n\n\n# drawio\n\n> å¼æºçå¨çº¿ç»å¾å·¥å·ï¼ç¹ç¹æ¯ç®æ´ãæ¸æ°ã\n> \n> drawio å®ç½\n\n\n# åèèµæ\n\n * wiki-uml\n * sparx uml æç¨\n * omg uml\n * uml tutorial\n * w3cschool uml æç¨\n * uml å­¦ä¹ å¥é¨å°±è¿ä¸ç¯æç« \n * http://www.cnblogs.com/ywqu/category/223486.html",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"UML ç»æå»ºæ¨¡å¾",frontmatter:{title:"UML ç»æå»ºæ¨¡å¾",date:"2018-10-26T17:39:34.000Z",categories:["è®¾è®¡","UML"],tags:["è®¾è®¡","UML"],permalink:"/pages/dd5922/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/11.UML/02.UML%E7%BB%93%E6%9E%84%E5%BB%BA%E6%A8%A1%E5%9B%BE.html",relativePath:"03.è®¾è®¡/11.UML/02.UMLç»æå»ºæ¨¡å¾.md",key:"v-7781c0b6",path:"/pages/dd5922/",headers:[{level:2,title:"é¨ç½²å¾",slug:"é¨ç½²å¾",normalizedTitle:"é¨ç½²å¾",charIndex:104},{level:3,title:"èç¹",slug:"èç¹",normalizedTitle:"èç¹",charIndex:223},{level:3,title:"èç¹å®ä¾",slug:"èç¹å®ä¾",normalizedTitle:"èç¹å®ä¾",charIndex:270},{level:3,title:"èç¹æé å",slug:"èç¹æé å",normalizedTitle:"èç¹æé å",charIndex:365},{level:3,title:"å·¥ä»¶",slug:"å·¥ä»¶",normalizedTitle:"å·¥ä»¶",charIndex:552},{level:3,title:"å³è",slug:"å³è",normalizedTitle:"å³è",charIndex:82},{level:3,title:"ä½ä¸ºå®¹å¨çèç¹",slug:"ä½ä¸ºå®¹å¨çèç¹",normalizedTitle:"ä½ä¸ºå®¹å¨çèç¹",charIndex:740},{level:2,title:"ç»ä»¶å¾",slug:"ç»ä»¶å¾",normalizedTitle:"ç»ä»¶å¾",charIndex:109},{level:3,title:"è¡¨ç°ç»ä»¶",slug:"è¡¨ç°ç»ä»¶",normalizedTitle:"è¡¨ç°ç»ä»¶",charIndex:1168},{level:3,title:"è£éè¿æ¥å¨",slug:"è£éè¿æ¥å¨",normalizedTitle:"è£éè¿æ¥å¨",charIndex:949},{level:3,title:"å¸¦ç«¯å£ç»ä»¶",slug:"å¸¦ç«¯å£ç»ä»¶",normalizedTitle:"å¸¦ç«¯å£ç»ä»¶",charIndex:1323},{level:2,title:"åå¾",slug:"åå¾",normalizedTitle:"åå¾",charIndex:114},{level:2,title:"ç±»å¾",slug:"ç±»å¾",normalizedTitle:"ç±»å¾",charIndex:118},{level:3,title:"ç±»ï¼Classesï¼",slug:"ç±»-classes",normalizedTitle:"ç±»ï¼classesï¼",charIndex:2371},{level:3,title:"ç±»çæ æ±ï¼Class Notationï¼",slug:"ç±»çæ æ±-class-notation",normalizedTitle:"ç±»çæ æ±ï¼class notationï¼",charIndex:2452},{level:3,title:"æ¥å£ï¼Interfacesï¼",slug:"æ¥å£-interfaces",normalizedTitle:"æ¥å£ï¼interfacesï¼",charIndex:2746},{level:3,title:"è¡¨ï¼Tablesï¼",slug:"è¡¨-tables",normalizedTitle:"è¡¨ï¼tablesï¼",charIndex:2918},{level:3,title:"å³èï¼Associationsï¼",slug:"å³è-associations",normalizedTitle:"å³èï¼associationsï¼",charIndex:3119},{level:3,title:"æ³åï¼Generalizationsï¼",slug:"æ³å-generalizations",normalizedTitle:"æ³åï¼generalizationsï¼",charIndex:2143},{level:3,title:"èåï¼Aggregationsï¼",slug:"èå-aggregations",normalizedTitle:"èåï¼aggregationsï¼",charIndex:3518},{level:3,title:"å³èç±»ï¼Association Classesï¼",slug:"å³èç±»-association-classes",normalizedTitle:"å³èç±»ï¼association classesï¼",charIndex:3963},{level:3,title:"ä¾èµï¼Dependenciesï¼",slug:"ä¾èµ-dependencies",normalizedTitle:"ä¾èµï¼dependenciesï¼",charIndex:4169},{level:3,title:"è·è¸ªï¼Tracesï¼",slug:"è·è¸ª-traces",normalizedTitle:"è·è¸ªï¼tracesï¼",charIndex:4352},{level:3,title:"å®ç°ï¼Realizationsï¼",slug:"å®ç°-realizations",normalizedTitle:"å®ç°ï¼realizationsï¼",charIndex:4490},{level:3,title:"åµå¥ï¼Nestingsï¼",slug:"åµå¥-nestings",normalizedTitle:"åµå¥ï¼nestingsï¼",charIndex:4667},{level:2,title:"å¤åç»æå¾",slug:"å¤åç»æå¾",normalizedTitle:"å¤åç»æå¾",charIndex:122},{level:3,title:"é¨ä»¶",slug:"é¨ä»¶",normalizedTitle:"é¨ä»¶",charIndex:3667},{level:3,title:"ç«¯å£",slug:"ç«¯å£",normalizedTitle:"ç«¯å£",charIndex:1324},{level:3,title:"æ¥å£",slug:"æ¥å£",normalizedTitle:"æ¥å£",charIndex:61},{level:3,title:"å§æ",slug:"å§æ",normalizedTitle:"å§æ",charIndex:5559},{level:3,title:"åä½",slug:"åä½",normalizedTitle:"åä½",charIndex:1703},{level:3,title:"è§è²ç»å®",slug:"è§è²ç»å®",normalizedTitle:"è§è²ç»å®",charIndex:5773},{level:3,title:"è¡¨ç°",slug:"è¡¨ç°",normalizedTitle:"è¡¨ç°",charIndex:1168},{level:2,title:"å¯¹è±¡å¾",slug:"å¯¹è±¡å¾",normalizedTitle:"å¯¹è±¡å¾",charIndex:129},{level:3,title:"ç±»åå¯¹è±¡åç´ ",slug:"ç±»åå¯¹è±¡åç´ ",normalizedTitle:"ç±»åå¯¹è±¡åç´ ",charIndex:6074},{level:3,title:"è¿è¡ç¶æ",slug:"è¿è¡ç¶æ",normalizedTitle:"è¿è¡ç¶æ",charIndex:6188},{level:3,title:"ç±»åå¯¹è±¡å¾ç¤ºä¾",slug:"ç±»åå¯¹è±¡å¾ç¤ºä¾",normalizedTitle:"ç±»åå¯¹è±¡å¾ç¤ºä¾",charIndex:6259},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:6392}],headersStr:"é¨ç½²å¾ èç¹ èç¹å®ä¾ èç¹æé å å·¥ä»¶ å³è ä½ä¸ºå®¹å¨çèç¹ ç»ä»¶å¾ è¡¨ç°ç»ä»¶ è£éè¿æ¥å¨ å¸¦ç«¯å£ç»ä»¶ åå¾ ç±»å¾ ç±»ï¼Classesï¼ ç±»çæ æ±ï¼Class Notationï¼ æ¥å£ï¼Interfacesï¼ è¡¨ï¼Tablesï¼ å³èï¼Associationsï¼ æ³åï¼Generalizationsï¼ èåï¼Aggregationsï¼ å³èç±»ï¼Association Classesï¼ ä¾èµï¼Dependenciesï¼ è·è¸ªï¼Tracesï¼ å®ç°ï¼Realizationsï¼ åµå¥ï¼Nestingsï¼ å¤åç»æå¾ é¨ä»¶ ç«¯å£ æ¥å£ å§æ åä½ è§è²ç»å® è¡¨ç° å¯¹è±¡å¾ ç±»åå¯¹è±¡åç´  è¿è¡ç¶æ ç±»åå¯¹è±¡å¾ç¤ºä¾ åèèµæ",content:'# UML ç»æå»ºæ¨¡å¾\n\n> ç»æå¾å®ä¹äºä¸ä¸ªæ¨¡åçéææ¶æãå®ä»¬éå¸¸è¢«ç¨æ¥å¯¹é£äºæææ¨¡åçâè¦ç´ \'å»ºæ¨¡ï¼è¯¸å¦ï¼ç±»ï¼å¯¹è±¡ï¼æ¥å£åç©çç»ä»¶ãå¦å¤ï¼å®ä»¬ä¹è¢«ç¨æ¥å¯¹åç´ é´å³èåä¾èµå³ç³»è¿è¡å»ºæ¨¡ã\n> \n> å³é®è¯ï¼é¨ç½²å¾, ç»ä»¶å¾, åå¾, ç±»å¾, å¤åç»æå¾, å¯¹è±¡å¾\n\n\n# é¨ç½²å¾\n\n> é¨ç½²å¾ï¼Deployment Diagramï¼ç¨äºå¯¹ç³»ç»çç©çç»æå»ºæ¨¡ãé¨ç½²å¾å°æ¾ç¤ºç³»ç»ä¸­çè½¯ä»¶ç»ä»¶åç¡¬ä»¶ç»ä»¶ä¹é´çå³ç³»ä»¥åå¤çå·¥ä½çç©çåå¸ã\n\n\n\n\n# èç¹\n\nèç¹æ¢å¯ä»¥æ¯ç¡¬ä»¶åç´ ï¼ä¹å¯ä»¥æ¯è½¯ä»¶åç´ ãå®æ¾ç¤ºä¸ºä¸ä¸ªç«æ¹ä½ï¼å¦ä¸å¾æç¤ºã\n\n\n\n\n# èç¹å®ä¾\n\nå¾å¯ä»¥æ¾ç¤ºèç¹å®ä¾ï¼å®ä¾ä¸èç¹çåºåæ¯ï¼å®ä¾çåç§°å¸¦ä¸åçº¿ï¼åå·æ¾å¨å®çåºæ¬èç¹ç±»åä¹åãå®ä¾å¨åå·ä¹åå¯ä»¥æåç§°ï¼ä¹å¯ä»¥æ²¡æåç§°ãä¸å¾æ¾ç¤ºäºä¸ä¸ªå·åçè®¡ç®æºå®ä¾ã\n\n\n\n\n# èç¹æé å\n\nä¸ºèç¹æä¾äºè®¸å¤æ åçæé åï¼åå«å½åä¸º Â«cdromÂ»ï¼ Â«cd-romÂ»ï¼ Â«computerÂ»ï¼ Â«disk arrayÂ»ï¼ Â«pcÂ»ï¼ Â«pc clientÂ»ï¼ Â«pc serverÂ»ï¼ Â«secureÂ»ï¼ Â«serverÂ»ï¼ Â«storageÂ»ï¼ Â«unix serverÂ»ï¼ Â«user pcÂ»ã å¹¶å¨èç¹ç¬¦å·çå³ä¸è§æ¾ç¤ºéå½çå¾æ ã\n\n\n\n\n# å·¥ä»¶\n\nå·¥ä»¶æ¯è½¯ä»¶å¼åè¿ç¨ä¸­çäº§åãåæ¬è¿ç¨æ¨¡åï¼å¦ï¼ç¨ä¾æ¨¡åï¼è®¾è®¡æ¨¡åç­ï¼ï¼æºæä»¶ï¼æ§è¡æä»¶ï¼è®¾è®¡ææ¡£ï¼æµè¯æ¥åï¼æé åï¼ç¨æ·æåç­ç­ã\n\nå·¥ä»¶è¡¨ç¤ºä¸ºå¸¦æå·¥ä»¶åç§°çç©å½¢ï¼å¹¶æ¾ç¤ºÂ«artifactÂ»å³é®å­åææ¡£ç¬¦å·ã\n\n\n\n\n# å³è\n\nå¨é¨ç½²å¾çä¸ä¸æèç³»ä¸­ï¼å³èä»£è¡¨èç¹é´çèç³»ééãä¸å¾æ¾ç¤ºäºä¸ä¸ªç½ç»ç³»ç»çé¨ç½²å¾ï¼æè¿°äºç½ç»åè®®ä¸ºæé ååå³èç»ç«¯çå¤éæ§ï¼\n\n\n\n\n# ä½ä¸ºå®¹å¨çèç¹\n\nèç¹å¯ä»¥åå«å¶ä»åç´ ï¼å¦ç»ä»¶åå·¥ä»¶ãä¸å¾æ¾ç¤ºäºä¸ä¸ªåµå¥å¼ç³»ç»æä¸ªé¨åçé¨ç½²å¾ãæåäºä¸ä¸ªè¢«ä¸»æ¿èç¹åå«çå¯æ§è¡å·¥ä»¶ã\n\n\n\n\n# ç»ä»¶å¾\n\n> ç»ä»¶å¾ï¼Component Diagramï¼æç»äºç»æä¸ä¸ªè½¯ä»¶ç³»ç»çæ¨¡åååµå¥æ§ä»¶ãç»ä»¶å¾æ¯ç±»å¾å·ææ´é«å±æ¬¡çæ½è±¡ï¼éå¸¸è¿è¡æ¶ä¸ä¸ªç»ä»¶è¢«ä¸ä¸ªæå¤ä¸ªç±»ï¼æå¯¹è±¡ï¼å®ç°ãå®ä»¬è±¡ç§¯æ¨é£æ ·ä½¿å¾ç»ä»¶è½æç»ææç³»ç»çç»å¤§é¨åã\n\n\n\nä¸å¾æ¼ç¤ºäºä¸äºç»ä»¶åå®ä»¬çåé¨å³ç³»ãè£éè¿æ¥å¨ï¼Assembly connectorsï¼âè¿æ¥âç±"Product"å"Customer"çæä¾æ¥å£å°ç± "Order"æå®çéæ±æ¥å£ã ä¸ä¸ªä¾èµå³ç³»æ å°äºå®¢æ·ç¸å³çå¸æ·ä¿¡æ¯å°âOrderâéè¦ç "Payment"éæ±æ¥å£ã\n\nå®éä¸ï¼ç»ä»¶å¾ååå¾å¾ç¸ä¼¼ï¼å®ä»¬é½ææç¡®ççéï¼æåç´ åç»å°é»è¾ç»æä¸­ãä»ä»¬ä¹é´çä¸åæ¯ï¼ç»ä»¶å¾æä¾äºè¯­ä¹æ´ä¸°å¯çåç»æºå¶ï¼å¨ç»ä»¶å¾ä¸­ï¼ææçæ¨¡ååç´ é½æ¯ç§æçï¼èåå¾åªæ¾ç¤ºå¬æçæåã\n\n\n# è¡¨ç°ç»ä»¶\n\nç»ä»¶å¯è¡¨ç¤ºä¸ºå¸¦å³é®å­ Â«componentÂ»çç©å½¢ç±»åï¼ä¹å¯ç¨å³ä¸è§æç»ä»¶å¾æ çç©å½¢è¡¨ç¤ºã\n\n\n\n\n# è£éè¿æ¥å¨\n\nè£éè¿æ¥å¨å¨ç»ä»¶ âComponent1âçéæ±æ¥å£åå¦ä¸ä¸ªç»ä»¶ âComponent2âçæä¾æ¥å£ä¹é´å»ºç«æ¡¥æ¢; è¿ä¸ªæ¡¥æ¢ä½¿å¾ä¸ä¸ªç»ä»¶è½æä¾å¦ä¸ä¸ªç»ä»¶æéè¦çæå¡ã\n\n\n\n\n# å¸¦ç«¯å£ç»ä»¶\n\nä½¿ç¨ç«¯å£çç»ä»¶å¾åè®¸å¨å®çç¯å¢æå®ä¸ä¸ªæå¡åè¡ä¸ºï¼åæ¶è¿ä¸ªæå¡åè¡ä¸ºä¹æ¯ç»ä»¶éè¦çãå½ç«¯å£è¿è¡ååæä½çæ¶åï¼å®å¯ä»¥æå®è¾å¥åè¾åºãä¸å¾è¯¦è¿°äºç¨äºå¨çº¿æå¡çå¸¦ç«¯å£ç»ä»¶ï¼å®æä¸¤ä¸ªæä¾æ¥å£ âorder entryâå âtrackingâï¼ä¹æ âpaymentâ éæ±æ¥å£ã\n\n\n\n\n# åå¾\n\n> åå¾ï¼Package Diagramï¼ç¨æ¥è¡¨ç°ååå®æåå«åç´ çç»ç»ãå½ç¨æ¥ä»£è¡¨ç±»åç´ æ¶ï¼åå¾æä¾äºå½åç©ºé´çå¯è§åãåå¾æå¸¸ç¨çç¨éæ¯ç¨æ¥ç»ç»ç¨ä¾å¾åç±»å¾ï¼å°½ç®¡å®ä¸å±éäºè¿äº UML åç´ ã\n\nä¸é¢æ¯ä¸ä¸ªåå¾çä¾å­ã\n\n\n\nåä¸­çåç´ å±äº«ç¸åçå½åç©ºé´ï¼å æ­¤ï¼ä¸ä¸ªæå®å½åç©ºé´çåç´ å¿é¡»æå¯ä¸çåç§°ã\n\nåå¯ä»¥ç¨æ¥ä»£è¡¨ç©çæé»è¾å³ç³»ãéæ©æç±»åæ¬å¨æå®çåéï¼æå©äºå¨åä¸ä¸ªåéèµäºè¿äºç±»ç¸åç»§æ¿å±æ¬¡ãéå¸¸è®¤ä¸ºæéè¿å¤åç¸å³èçç±»ï¼ä»¥åä¸å®ä»¬ç¸åä½çç±»æ¾å¨åä¸ä¸ªåéã\n\n\n\nå¨ UML2.5 ä¸­ï¼åç¨æä»¶å¤¹æ¥è¡¨ç¤ºï¼åä¸­çåç´ å±äº«åä¸ä¸ªå½åç©ºé´ï¼å¹¶ä¸å¿é¡»æ¯å¯è¯å«çï¼å æ­¤è¦æå¯ä¸çåç§°æç±»åãåå¿é¡»æ¾ç¤ºååï¼å¨éå±æ¹æ¡é¨åæéæ©çæ¾ç¤ºååçåç´ ã\n\n * åçåå¹¶ - åä¹é´çåå¹¶è¿æ¥ç¬¦Â«mergeÂ»å®ä¹äºæºååç´ ä¸ç®æ ååååç´ ä¹é´çæ³åå³ç³»ãæºååç´ çå®ä¹è¢«æ©å±æ¥åå«ç®æ ååç´ å®ä¹ãå½æºååç´ ä¸ç®æ ååæ²¡æåååç´ æ¶ï¼ç®æ ååç´ çå®ä¹ä¸åå½±åã\n * åçå¯¼å¥ - å¯¼å¥è¿æ¥ç¬¦ Â«importÂ»è¡¨æç®æ åçåç´ ï¼å¨è¯¥ä¾ä¸­æ¯ä¸ä¸ªç±» ï¼å¨æºåä¸­è¢«å¼ç¨è¦ç¨ééå®ä¿®é¥°åãæºåçå½åç©ºé´è·å¾ç®æ ç±»çæ¥å£ï¼ç®æ åçå½åç©ºé´åä¸åå½±åã\n * åµå¥è¿æ¥ç¬¦ - æºååç®æ åé´çåµå¥è¿æ¥ç¬¦è¯´æç®æ åå®å¨åå«æºåã\n\n\n# ç±»å¾\n\n> ç±»å¾ï¼Class Diagramï¼å±ç¤ºäºé¢åå¯¹è±¡ç³»ç»çæé æ¨¡åãæç»äºæ¨¡åæé¨åæ¨¡åçéæè§å¾ï¼æ¾ç¤ºå®åå«çå±æ§åè¡ä¸ºï¼èä¸æ¯è¯¦ç»æè¿°æä½çåè½æå®åæ¹æ³ãç±»å¾æå¸¸ç¨æ¥è¡¨è¾¾å¤ä¸ªç±»åæ¥å£ä¹é´çå³ç³»ãæ³åï¼Generalizationsï¼ï¼èåï¼aggregationsï¼åå³èï¼associationsï¼åå«æ¯ç±»ä¹é´ç»§æ¿ï¼å¤åæåºç¨ï¼åè¿æ¥çè¡¨ç°ã\n\nä¸é¢çå¾æ¾ç¤ºäºç±»ä¹é´çèåå³ç³»ãå¼±èåï¼æµè²ç®­å¤´ï¼è¡¨ç°å¨ç±» "Account" ä½¿ç¨ "AddressBook"ï¼ä½æ¯ä¸å¿è¦åå«å®çä¸ä¸ªå®ä¾ãå¼ºèåï¼å¾ä¸­çé»è²ç®­å¤´ï¼è¡¨ç¤ºäºç®æ ç±»åå«æºç±»ï¼ä¾å¦ï¼"Contact" å "ContactGroup"å¼è¢«åå«å¨ "AddressBook"ä¸­ã\n\n\n\n\n# ç±»ï¼Classesï¼\n\nç±»æ¯å®ä¹å¯¹è±¡æå·æçå±æ§åè¡ä¸ºçåç´ ãè¡ä¸ºç¨ç±»è½çè§£çåéæ¶æ¯åéåæ¯æ¡æ¶æ¯çæä½æ¥æè¿°ã ç±»ä¸­ä¹å¯è½å®ä¹çº¦æï¼æ è®°å¼ï¼æé åã\n\n\n# ç±»çæ æ±ï¼Class Notationï¼\n\nç±»ç¨ç©å½¢è¡¨ç¤ºãé¤ç±»çåç§°å¤ï¼è¿å¯ä»¥éæ©æ§å°æ¾ç¤ºå±æ§åæä½ã åæ åå«ç¨æ¥æ¾ç¤ºç±»çåç§°ï¼å±æ§åæä½ã\n\nå¨ä¸é¢å¾ä¸­ï¼ç±»çç±»åæ¾ç¤ºå¨æä¸é¢çåæ ï¼å®ä¸é¢çåæ æ¾ç¤ºè¯¦ç»å±æ§ï¼å¦ï¼"center" å±æ§æ¾ç¤ºåå§åçå¼ãæåé¢çåæ æ¾ç¤ºæä½ï¼å¦ï¼ setWidthï¼setLength å setPosition ä»¥åä»ä»¬çåæ°ã å±æ§åæä½ååçæ æ³¨è¡¨ç¤ºäºè¯¥å±æ§ææä½çå¯è§æ§: å¦æä½¿ç¨ "+"å·ï¼è¿ä¸ªå±æ§ææä½æ¯å¬å±ç ; "-" å·åä»£è¡¨è¿ä¸ªå±æ§ææä½æ¯ç§æçã "#"å·æ¯è¿ä¸ªå±æ§ææä½è¢«å®ä¹ä¸ºä¿æ¤çï¼" ~" å·ä»£è¡¨åçå¯è§æ§ã\n\n\n\n\n# æ¥å£ï¼Interfacesï¼\n\næ¥å£æ¯å®æ½èåææ»¡è¶³çè¡ä¸ºè§èï¼æ¯ä¸ç§çº¦å®ãå®ç°ä¸ä¸ªæ¥å£ï¼ç±»å¿éæ¯æå¶è¦æ±çè¡ä¸ºï¼ä½¿ç³»ç»æç§åæ ·çæ¹å¼ï¼å³å¬å±çæ¥å£ï¼å¤çä¸ç¸å³çåç´ ã\n\n\n\næ¥å£æç¸ä¼¼äºç±»çå¤å½¢é£æ ¼ï¼å«ææå®çæä½ï¼å¦ä¸å¾æç¤ºãå¦ææ²¡ææç¡®çè¯¦ç»æä½ï¼ä¹å¯ä»¥ç»æä¸ä¸ªåç¯ãå½ç»æåç¯çæ¶åï¼å°è¿ä¸ªç¯å½¢æ æ±çå®ç°è¿æ¥æ²¡æç®æ ç®­å¤´ã\n\n\n\n\n# è¡¨ï¼Tablesï¼\n\nè¡¨å°½ç®¡ä¸æ¯åºæ¬ UML çä¸é¨åï¼ä»ç¶æ¯âå¾åâè½å®æçå®ä¾ç¨ãå¨å³ä¸è§ç»ä¸ä¸ªè¡¨çå°å¾æ æ¥è¡¨ç¤ºãè¡¨å±æ§ç¨âå¾åâ Â«columnÂ»è¡¨ç¤ºã ç»å¤§å¤æ°è¡¨åæä¸ä¸ªä¸»é®ï¼æ¯ç±ä¸ä¸ªæå ä¸ªå­æ®µç»æçä¸ä¸ªå¯ä¸çå­ç ç»åå ä¸»é®æä½æ¥è®¿é®è¡¨æ ¼ï¼ä¸»é®æä½âå¾åâä¸ºÂ«PKÂ»ã ä¸äºè¡¨æä¸ä¸ªæå¤ä¸ªå¤é®ï¼ä½¿ç¨ä¸ä¸ªæå¤ä¸ªå­æ®µå ä¸ä¸ªå¤é®æä½ï¼æ å°å°ç¸å³è¡¨çä¸»é®ä¸å»ï¼å¤é®æä½âå¾åâä¸ºÂ«FKÂ»ã\n\n\n\n\n# å³èï¼Associationsï¼\n\nå³èè¡¨æä¸¤ä¸ªæ¨¡ååç´ ä¹é´æå³ç³»ï¼éå¸¸ç¨å¨ä¸ä¸ªç±»ä¸­è¢«å®ç°ä¸ºä¸ä¸ªå®ä¾åéãè¿æ¥ç¬¦å¯ä»¥åå«ä¸¤ç«¯çå½åçè§è²ï¼åºæ°æ§ï¼æ¹ååçº¦æãå³èæ¯åç´ ä¹é´æ®éçå³ç³»ãå¦æå¤äºä¸¤ä¸ªåç´ ï¼ä¹å¯ä»¥ä½¿ç¨è±å½¢çå³èå³ç³»ãå½ä»ç±»å¾çæä»£ç æ¶ï¼å³èæ«ç«¯çå¯¹è±¡å°åæç®æ ç±»ä¸­å®ä¾åéãè§ä¸å¾ç¤ºä¾ "playsFor" å°åæ"Player"ç±»ä¸­çå®ä¾åéã\n\n\n\n\n# æ³åï¼Generalizationsï¼\n\næ³åè¢«ç¨æ¥è¯´æç»§æ¿å³ç³»ãè¿æ¥ä»ç¹å®ç±»åå°ä¸è¬ç±»åãæ³åçå«ä¹æ¯æºç±»ç»§æ¿äºç®æ ç±»çç¹æ§ãä¸å¾çå¾æ¾ç¤ºäºä¸ä¸ªç¶ç±»æ³åä¸ä¸ªå­ç±»ï¼ ç±»âCircleâçä¸ä¸ªå®ä¾å°ä¼æå±æ§ â x_positionâï¼â y_positionâ ï¼ âradiusâ å æ¹æ³ âdisplay()âã æ³¨æï¼ç±» "Shape" æ¯æ½è±¡çï¼ç±»åæ¾ç¤ºä¸ºæä½ã\n\n\n\nä¸å¾æ¾ç¤ºäºä¸ä¸å¾ç¸åä¿¡æ¯çè§å¾ã\n\n\n\n\n# èåï¼Aggregationsï¼\n\nèåéå¸¸è¢«ç¨æ¥æè¿°ç±æ´å°çç»ä»¶æææçåç´ ãèåå³ç³»è¡¨ç¤ºä¸ºç½è²è±å½¢ç®­å¤´æåç®æ ç±»æç¶ç±»ã\n\nèåçæ´å¼ºå½¢å¼ -ç»åèåï¼å¼ºèåï¼ - æ¾ç¤ºä¸ºé»è²è±å½¢ç®­å¤´ï¼ç¨æ¥ç»åæ¯æ¬¡æå¤§åçåå«ç»ä»¶ãå¦æä¸ä¸ªç»åèåçç¶ç±»è¢«å é¤ï¼éå¸¸ä¸ä»ç¸å³çææé¨åé½ä¼è¢«å é¤ï¼ä½æ¯ï¼å¦æä¸ä¸ªé¨ä»¶ä»ç»åä¸­å»æï¼å°ä¸ç¨å é¤æ´ä¸ªç»åãç»åæ¯å¯è¿ï¼éå¯¹ç§°çå³ç³»åéå½çã\n\nä¸é¢çå¾ç¤ºï¼æ¾ç¤ºäºå¼±èååå¼ºèåçä¸åãâ address bookâ ç±è®¸å¤ âcontactsâ å âcontact groupsâç»æã âcontact groupâ æ¯ä¸ä¸ªâcontactsâçèåç»; âcontactâå¯ä»¥è¢«åå«å¨ä¸æ­¢ä¸ä¸ª â contact groupâã å¦æä½ å é¤ä¸ä¸ªâ address bookâï¼ææç âcontactsâ å âcontact groupsâ ä¹å°ä¼è¢«å é¤ï¼å¦æä½ å é¤â contact groupâï¼ æ²¡æ âcontactsâä¼è¢«å é¤ã\n\n\n\n\n# å³èç±»ï¼Association Classesï¼\n\nå³èç±»æ¯ä¸ä¸ªåè®¸å³èè¿æ¥æå±æ§åæä½çæé ãä¸é¢çç¤ºä¾ï¼æ¾ç¤ºäºè¿ä¸æ­¢ç®åè¿æ¥ä¸¤ä¸ªç±»çè¿æ¥ï¼å¦ç»âemployeeâåéé¡¹ç®ãâ employeeâå¨é¡¹ç®ä¸­æèµ·çä½ç¨æ¯ä¸ä¸ªå¤æçå®ä½ï¼æ¢æèªèº«çä¹æä¸å±äºâemployeeâ æ âprojectâ ç±»çç»èã ä¾å¦ï¼â employeeâå¯ä»¥åæ¶ä¸ºå ä¸ªé¡¹ç®å·¥ä½ï¼æä¸åçèå¡å¤´è¡åå¯¹åºçå®å¨æéã\n\n\n\n\n# ä¾èµï¼Dependenciesï¼\n\nä¾èµè¢«ç¨æ¥æè¿°æ¨¡ååç´ é´å¹¿æ³çä¾èµå³ç³»ãéå¸¸å¨è®¾è®¡è¿ç¨æ©ææ¾ç¤ºä¸¤ä¸ªåç´ ä¹é´å­å¨æç§å³ç³»ï¼å ä¸ºæ¯åæèä¸è½ç¡®å®å·ä½æ¯ä»ä¹å³ç³»ï¼å¨è®¾è®¡è¿ç¨æ«æï¼è¯¥ç»§æ¿å³ç³»ä¼è¢«å½å¥å·²ææé å (æé å å¯ä»¥æ¯å®ä¾å Â«instantiateÂ»ï¼è·è¸ª Â«traceÂ»ï¼å¯¼å¥ Â«importÂ»ï¼ åå¶å®çå³ç³»)ï¼æè¢«æ¿æ¢æä¸ä¸ªæ´æç¡®ç±»åçè¿æ¥ç¬¦ã\n\n\n# è·è¸ªï¼Tracesï¼\n\nè·è¸ªå³ç³»æ¯ä¸ç§ç¹æ®åçä¾èµå³ç³»ãè¿æ¥æ¨¡ååç´ æè·¨æ¨¡åä½æ¯å·æç¸åæ¦å¿µçæ¨¡ååç´ éãè·è¸ªè¢«ç»å¸¸ç¨æ¥è¿½è¸ªéæ±åæ¨¡åçååãç±äºååæ¯ååçï¼è¿ç§ä¾èµå³ç³»çé¡ºåºéå¸¸è¢«å¿½ç¥ãè¿ç§å³ç³»çå±æ§å¯ä»¥è¢«æå®ä¸ºååæ å°ï¼ä½è·è¸ªæ¯ååçï¼éæ­£å¼çåå¾å°å¯è®¡ç®çã\n\n\n# å®ç°ï¼Realizationsï¼\n\næ¯æºå¯¹è±¡æ§è¡æå®ç°ç®æ ï¼å®ç°è¢«ç¨æ¥è¡¨è¾¾æ¨¡åçå¯è·è¸ªæ§åå®æ´æ§ï¼ä¸å¡æ¨¡åæéæ±è¢«ä¸ä¸ªæå¤ä¸ªç¨ä¾å®ç°ï¼ç¨ä¾åè¢«ç±»å®ç°ï¼ç±»è¢«ç»ä»¶å®ç°ï¼ç­ç­ãè¿ç§å®ç°è´¯ç©¿äºç³»ç»è®¾è®¡çæ å°éæ±åç±»ç­ï¼ç´è³æ½è±¡å»ºæ¨¡æ°´å¹³çº§ãä»èç¡®ä¿æ´ä¸ªç³»ç»çä¸å¼ å®å¾ï¼å®ä¹åæ ç³»ç»çææå¾®å°ç»æï¼ä»¥åçº¦æåå®ä¹å®çç»èãå®ç°å³ç³»ç¨å¸¦èçº¿çå®ç®­å¤´è¡¨ç¤ºã\n\n\n\n\n# åµå¥ï¼Nestingsï¼\n\nåµå¥è¿æ¥ç¬¦ç¨æ¥è¡¨ç¤ºæºåç´ åµå¥å¨ç®æ åç´ ä¸­ãä¸å¾æ¾ç¤ºâ inner classâçå®ä¹ï¼å°½ç®¡å¨ EA ä¸­ï¼æ´å¤å°æç§çä»ä»¬å¨é¡¹ç®å±æ¬¡è§å¾ä¸­çä½ç½®æ¥æ¾ç¤ºè¿ç§å³ç³»ã\n\n\n\n\n# å¤åç»æå¾\n\n> å¤åç»æå¾æ¾ç¤ºç±»çåé¨ç»æï¼åæ¬å®ä¸ç³»ç»å¶ä»é¨åçäº¤äºç¹ãä¹æ¾ç¤ºåé¨åçéç½®ä¸å³ç³»ï¼è¿äºé¨åä¸èµ·æ§è¡ç±»åçè¡ä¸ºã\n\nç±»åç´ å·²ç»å¨ç±»å¾é¨åè¢«è¯¦ç»å°éè¿°ï¼è¿é¨åç¨æ¥è¯´æç±»è¡¨ç°å¤ååç´ çæ¹å¼ï¼å¦ï¼æ´é²æ¥å£ï¼åå«ç«¯å£åé¨ä»¶ã\n\n\n\n\n# é¨ä»¶\n\né¨ä»¶æ¯ä»£è¡¨ä¸ç»ï¼ä¸ä¸ªæå¤ä¸ªï¼å®ä¾çåç´ ï¼è¿ç»å®ä¾çæ¥æèæ¯ä¸ç±»åå®ä¾ï¼ä¾å¦ï¼å¦æä¸ä¸ªå¾çå®ä¾æä¸ç»å¾å½¢åç´ ï¼åè¿äºå¾å½¢åç´ å¯ä»¥è¢«è¡¨ç¤ºä¸ºé¨ä»¶ï¼å¹¶å¯ä»¥å¯¹ä»ä»¬ä¹é´çæç§å³ç³»å»ºæ¨¡ãæ³¨æï¼ä¸ä¸ªé¨ä»¶å¯ä»¥å¨å®çç¶ç±»è¢«å é¤ä¹åä»ç¶ç±»ä¸­è¢«å»æï¼è¿æ ·é¨ä»¶å°±ä¸ä¼è¢«åæ¶å é¤äºã é¨ä»¶å¨ç±»æç»ä»¶åé¨æ¾ç¤ºä¸ºä¸å ä¿®é¥°çæ¹æ¡ã\n\n\n\n\n# ç«¯å£\n\nç«¯å£æ¯ç±»ååçåç´ ï¼ä»£è¡¨ä¸ä¸ªåå«ç±»åå®ä¾çå¤é¨å¯è§çé¨åãç«¯å£å®ä¹äºç±»ååå®çç¯å¢ä¹é´çäº¤äºãç«¯å£æ¾ç¤ºå¨åå«å®çé¨ä»¶ï¼ç±»æç»åç»æçè¾¹ç¼ä¸ãç«¯å£æå®äºç±»åæä¾çæå¡ï¼ä»¥åç±»åè¦æ±ç¯å¢æä¾çæå¡ã ç«¯å£æ¾ç¤ºä¸ºæå±ç±»åè¾¹çæå®çæ¹æ¡ã\n\n\n\n\n# æ¥å£\n\næ¥å£ä¸ç±»ç¸ä¼¼ï¼ä½æ¯æä¸äºéå¶ï¼ææçæ¥å£æä½é½æ¯å¬å±åæ½è±¡çï¼ä¸æä¾ä»»ä½é»è®¤çå®ç°ãææçæ¥å£å±æ§é½å¿é¡»æ¯å¸¸éãç¶èï¼å½ä¸ä¸ªç±»ä»ä¸ä¸ªåç¬çè¶çº§ç±»ç»§æ¿èæ¥ï¼å®å¯ä»¥å®ç°å¤ä¸ªæ¥å£ã å½ä¸ä¸ªæ¥å£å¨å¾ä¸­åååºæ¥ï¼å®æ¢å¯ä»¥æ¾ç¤ºä¸ºç±»åç´ çæ¹æ¡ï¼å¸¦ Â«interfaceÂ» å³é®å­åè¡¨æå®æ¯æ½è±¡çæä½åç§°ï¼ä¹å¯ä»¥æ¾ç¤ºä¸ºåç¯ã\n\n\n\næ³¨æï¼åç¯æ æ³¨ä¸æ¾ç¤ºæ¥å£æä½ãå½æ¥å£æ¾ç¤ºä¸ºç±»ææçæ¥å£ï¼å®ä»¬ä¼è¢«å½ä½æ´é²æ¥å£å¼ç¨ãæ´é²æ¥å£å¯ä»¥å®ä¹ä¸ºæ¯æä¾çï¼è¿æ¯éæ±çãæä¾æ¥å£ç¡®è®¤åå«å®çç±»åæä¾æå®æ¥å£åç´ å®ä¹çæä½ï¼å¯éè¿ç±»åæ¥å£é´å®ç°çè¿æ¥æ¥å®ä¹ãéæ±æ¥å£è¯´æè¯¥ç±»åè½ä¸å¶ä»ç±»åè¿è¡éä¿¡ï¼è¿äºç±»åæä¾äºæå®æ¥å£åç´ æå®ä¹çæä½ãéæ±æ¥å£å¯éè¿å¨ç±»åæ¥å£é´å»ºç«ä¾èµè¿æ¥æ¥å®ä¹ã æä¾æ¥å£æ¾ç¤ºä¸ºâå¸¦æ£çä½âï¼ä¾éå¨ç±»åè¾¹ç¼ãéæ±æ¥å£æ¾ç¤ºä¸ºâå¸¦æ£æ¯ä½âï¼ä¹æ¯ä¾éå¨ç±»åè¾¹ç¼ã\n\n\n\n\n# å§æ\n\nå§æè¿æ¥å¨ç¨æ¥å®ä¹ç»ä»¶å¤é¨ç«¯å£åæ¥å£çåé¨å·¥ä½æ¹å¼ãå§æè¿æ¥å¨è¡¨ç¤ºä¸ºå¸¦æ Â«delegateÂ» å³é®å­çç®­å¤´ãå®è¿æ¥ç»ä»¶çå¤é¨çº¦å®ï¼è¡¨ç°ä¸ºå®çç«¯å£ï¼å°ç»ä»¶é¨ä»¶è¡ä¸ºçåé¨å®ç°ã\n\n\n\n\n# åä½\n\nåä½å®ä¹äºä¸ç³»åå±ååä½çè§è²ï¼å®ä»¬éä½å±ç¤ºä¸ä¸ªæå®çè®¾è®¡åè½ãåä½å¾åºä»ä»æ¾ç¤ºå®ææå®ä»»å¡æåè½çè§è²ä¸å±æ§ãéç¦»ä¸»è¦è§è²æ¯ç¨æ¥ç®åç»æåæ¾æ¸è¡ä¸ºï¼ä¹ç¨äºéç¨ãä¸ä¸ªåä½éå¸¸å®ç°ä¸ä¸ªæ¨¡å¼ã åä½åç´ æ¾ç¤ºä¸ºæ¤­åã\n\n\n\n\n# è§è²ç»å®\n\nè§è²ç»å®è¿æ¥å¨æ¯ä¸æ¡ä»è¿æ¥åä½å°æè¦å®æè¯¥ä»»å¡ç±»åçè¿çº¿ãå®æ¾ç¤ºä¸ºèçº¿ï¼å¹¶å¨ç±»åç«¯æ¾ç¤ºä½ç¨åã\n\n\n\n\n# è¡¨ç°\n\nè¡¨ç°è¿æ¥å¨ç¨äºè¿æ¥åä½å°ç±»åæ¥è¡¨ç¤ºæ­¤ç±»åä¸­ä½¿ç¨äºè¯¥åä½ãæ¾ç¤ºä¸ºå¸¦å³é®å­ Â«representsÂ»çèçº¿ç®­å¤´ã\n\n\n\nåç åçè¿æ¥å¨ç¨äºè¿æ¥åä½å°ç±»åæ¥è¡¨ç¤ºæ­¤åä½è¡¨ç°äºï¼ååæï¼è¯¥ç±»åï¼æ¾ç¤ºä¸ºå¸¦å³é®å­Â«occurrenceÂ»çèçº¿ç®­å¤´ã\n\n\n\n\n# å¯¹è±¡å¾\n\n> å¯¹è±¡å¾ï¼Object Diagramï¼å¯ä»¥è®¤ä¸ºæ¯ç±»å¾çç¹æ®æå½¢ï¼æ¯ç±»å¾åç´ å­éï¼è¢«ç¨æ¥åæ¶å¼ºè°å¨æäºç¹ï¼ç±»çå®ä¾é´çå³ç³»ãè¿å¯¹çè§£ç±»å¾å¾æå¸®å©ãä»ä»¬å¨æé ä¸ä¸ç±»å¾æ¾ç¤ºæ²¡æä¸åï¼ä½æ¯åæ åºå¤æ ·æ§åä½ç¨ã\n\n\n# ç±»åå¯¹è±¡åç´ \n\nä¸é¢çå¾æ¾ç¤ºäºç±»åç´ åå¯¹è±¡åç´ å¤è§ä¸çä¸åãæ³¨æï¼ç±»åç´ åæ¬ä¸ä¸ªé¨åï¼åå«æ¯åå­æ ï¼å±æ§æ åæä½æ ï¼å¯¹è±¡åç´ é»è®¤ä¸ºæ²¡æåæ ãåç§°æ¾ç¤ºä¹æä¸åï¼å¯¹è±¡åç§°æä¸åçº¿ï¼å¹¶å¯è½æ¾ç¤ºè¯¥å¯¹è±¡å®ä¾åæç¨ç±»åçåç§°ã\n\n\n\n\n# è¿è¡ç¶æ\n\nç±»ååç´ å¯ä»¥æä»»ææ°éçå±æ§åæä½ãå¨å¯¹è±¡å®ä¾ä¸­ä¸ä¼è¢«æ¾ç¤ºåºæ¥ãä½å¯è½å®ä¹å¯¹è±¡çè¿è¡ç¶æï¼æ¾ç¤ºç¹æ®å®ä¾çå±æ§è®¾ç½®å¼ã\n\n\n\n\n# ç±»åå¯¹è±¡å¾ç¤ºä¾\n\nä¸å¾æ¯ä¸ä¸ªå¯¹è±¡å¾ï¼å¶ä¸­æå¥äºç±»å®ä¹å¾ãå®ä¾ç¤ºå¦ä½ç¨å¯¹è±¡å¾æ¥æµè¯ç±»å¾ä¸­ä»»å¡å¤éæ§çæ¹æ³ãâcarâ ç±»å¯¹ âwheelâ ç±»æâ1 å¯¹å¤â çå¤éæ§ï¼ä½æ¯å¦æå·²ç»éæ©ç¨â1 å¯¹ 4â æ¥æ¿ä»£ï¼é£æ ·å°±ä¸ä¼å¨å¯¹è±¡å¾æ¾ç¤ºâ3 ä¸ªè½®å­âçæ±½è½¦ã\n\n\n\n\n# åèèµæ\n\n * https://sparxsystems.cn/resources/uml2_tutorial/index.html\n * http://www.cnblogs.com/ywqu/category/223486.html',normalizedContent:'# uml ç»æå»ºæ¨¡å¾\n\n> ç»æå¾å®ä¹äºä¸ä¸ªæ¨¡åçéææ¶æãå®ä»¬éå¸¸è¢«ç¨æ¥å¯¹é£äºæææ¨¡åçâè¦ç´ \'å»ºæ¨¡ï¼è¯¸å¦ï¼ç±»ï¼å¯¹è±¡ï¼æ¥å£åç©çç»ä»¶ãå¦å¤ï¼å®ä»¬ä¹è¢«ç¨æ¥å¯¹åç´ é´å³èåä¾èµå³ç³»è¿è¡å»ºæ¨¡ã\n> \n> å³é®è¯ï¼é¨ç½²å¾, ç»ä»¶å¾, åå¾, ç±»å¾, å¤åç»æå¾, å¯¹è±¡å¾\n\n\n# é¨ç½²å¾\n\n> é¨ç½²å¾ï¼deployment diagramï¼ç¨äºå¯¹ç³»ç»çç©çç»æå»ºæ¨¡ãé¨ç½²å¾å°æ¾ç¤ºç³»ç»ä¸­çè½¯ä»¶ç»ä»¶åç¡¬ä»¶ç»ä»¶ä¹é´çå³ç³»ä»¥åå¤çå·¥ä½çç©çåå¸ã\n\n\n\n\n# èç¹\n\nèç¹æ¢å¯ä»¥æ¯ç¡¬ä»¶åç´ ï¼ä¹å¯ä»¥æ¯è½¯ä»¶åç´ ãå®æ¾ç¤ºä¸ºä¸ä¸ªç«æ¹ä½ï¼å¦ä¸å¾æç¤ºã\n\n\n\n\n# èç¹å®ä¾\n\nå¾å¯ä»¥æ¾ç¤ºèç¹å®ä¾ï¼å®ä¾ä¸èç¹çåºåæ¯ï¼å®ä¾çåç§°å¸¦ä¸åçº¿ï¼åå·æ¾å¨å®çåºæ¬èç¹ç±»åä¹åãå®ä¾å¨åå·ä¹åå¯ä»¥æåç§°ï¼ä¹å¯ä»¥æ²¡æåç§°ãä¸å¾æ¾ç¤ºäºä¸ä¸ªå·åçè®¡ç®æºå®ä¾ã\n\n\n\n\n# èç¹æé å\n\nä¸ºèç¹æä¾äºè®¸å¤æ åçæé åï¼åå«å½åä¸º Â«cdromÂ»ï¼ Â«cd-romÂ»ï¼ Â«computerÂ»ï¼ Â«disk arrayÂ»ï¼ Â«pcÂ»ï¼ Â«pc clientÂ»ï¼ Â«pc serverÂ»ï¼ Â«secureÂ»ï¼ Â«serverÂ»ï¼ Â«storageÂ»ï¼ Â«unix serverÂ»ï¼ Â«user pcÂ»ã å¹¶å¨èç¹ç¬¦å·çå³ä¸è§æ¾ç¤ºéå½çå¾æ ã\n\n\n\n\n# å·¥ä»¶\n\nå·¥ä»¶æ¯è½¯ä»¶å¼åè¿ç¨ä¸­çäº§åãåæ¬è¿ç¨æ¨¡åï¼å¦ï¼ç¨ä¾æ¨¡åï¼è®¾è®¡æ¨¡åç­ï¼ï¼æºæä»¶ï¼æ§è¡æä»¶ï¼è®¾è®¡ææ¡£ï¼æµè¯æ¥åï¼æé åï¼ç¨æ·æåç­ç­ã\n\nå·¥ä»¶è¡¨ç¤ºä¸ºå¸¦æå·¥ä»¶åç§°çç©å½¢ï¼å¹¶æ¾ç¤ºÂ«artifactÂ»å³é®å­åææ¡£ç¬¦å·ã\n\n\n\n\n# å³è\n\nå¨é¨ç½²å¾çä¸ä¸æèç³»ä¸­ï¼å³èä»£è¡¨èç¹é´çèç³»ééãä¸å¾æ¾ç¤ºäºä¸ä¸ªç½ç»ç³»ç»çé¨ç½²å¾ï¼æè¿°äºç½ç»åè®®ä¸ºæé ååå³èç»ç«¯çå¤éæ§ï¼\n\n\n\n\n# ä½ä¸ºå®¹å¨çèç¹\n\nèç¹å¯ä»¥åå«å¶ä»åç´ ï¼å¦ç»ä»¶åå·¥ä»¶ãä¸å¾æ¾ç¤ºäºä¸ä¸ªåµå¥å¼ç³»ç»æä¸ªé¨åçé¨ç½²å¾ãæåäºä¸ä¸ªè¢«ä¸»æ¿èç¹åå«çå¯æ§è¡å·¥ä»¶ã\n\n\n\n\n# ç»ä»¶å¾\n\n> ç»ä»¶å¾ï¼component diagramï¼æç»äºç»æä¸ä¸ªè½¯ä»¶ç³»ç»çæ¨¡åååµå¥æ§ä»¶ãç»ä»¶å¾æ¯ç±»å¾å·ææ´é«å±æ¬¡çæ½è±¡ï¼éå¸¸è¿è¡æ¶ä¸ä¸ªç»ä»¶è¢«ä¸ä¸ªæå¤ä¸ªç±»ï¼æå¯¹è±¡ï¼å®ç°ãå®ä»¬è±¡ç§¯æ¨é£æ ·ä½¿å¾ç»ä»¶è½æç»ææç³»ç»çç»å¤§é¨åã\n\n\n\nä¸å¾æ¼ç¤ºäºä¸äºç»ä»¶åå®ä»¬çåé¨å³ç³»ãè£éè¿æ¥å¨ï¼assembly connectorsï¼âè¿æ¥âç±"product"å"customer"çæä¾æ¥å£å°ç± "order"æå®çéæ±æ¥å£ã ä¸ä¸ªä¾èµå³ç³»æ å°äºå®¢æ·ç¸å³çå¸æ·ä¿¡æ¯å°âorderâéè¦ç "payment"éæ±æ¥å£ã\n\nå®éä¸ï¼ç»ä»¶å¾ååå¾å¾ç¸ä¼¼ï¼å®ä»¬é½ææç¡®ççéï¼æåç´ åç»å°é»è¾ç»æä¸­ãä»ä»¬ä¹é´çä¸åæ¯ï¼ç»ä»¶å¾æä¾äºè¯­ä¹æ´ä¸°å¯çåç»æºå¶ï¼å¨ç»ä»¶å¾ä¸­ï¼ææçæ¨¡ååç´ é½æ¯ç§æçï¼èåå¾åªæ¾ç¤ºå¬æçæåã\n\n\n# è¡¨ç°ç»ä»¶\n\nç»ä»¶å¯è¡¨ç¤ºä¸ºå¸¦å³é®å­ Â«componentÂ»çç©å½¢ç±»åï¼ä¹å¯ç¨å³ä¸è§æç»ä»¶å¾æ çç©å½¢è¡¨ç¤ºã\n\n\n\n\n# è£éè¿æ¥å¨\n\nè£éè¿æ¥å¨å¨ç»ä»¶ âcomponent1âçéæ±æ¥å£åå¦ä¸ä¸ªç»ä»¶ âcomponent2âçæä¾æ¥å£ä¹é´å»ºç«æ¡¥æ¢; è¿ä¸ªæ¡¥æ¢ä½¿å¾ä¸ä¸ªç»ä»¶è½æä¾å¦ä¸ä¸ªç»ä»¶æéè¦çæå¡ã\n\n\n\n\n# å¸¦ç«¯å£ç»ä»¶\n\nä½¿ç¨ç«¯å£çç»ä»¶å¾åè®¸å¨å®çç¯å¢æå®ä¸ä¸ªæå¡åè¡ä¸ºï¼åæ¶è¿ä¸ªæå¡åè¡ä¸ºä¹æ¯ç»ä»¶éè¦çãå½ç«¯å£è¿è¡ååæä½çæ¶åï¼å®å¯ä»¥æå®è¾å¥åè¾åºãä¸å¾è¯¦è¿°äºç¨äºå¨çº¿æå¡çå¸¦ç«¯å£ç»ä»¶ï¼å®æä¸¤ä¸ªæä¾æ¥å£ âorder entryâå âtrackingâï¼ä¹æ âpaymentâ éæ±æ¥å£ã\n\n\n\n\n# åå¾\n\n> åå¾ï¼package diagramï¼ç¨æ¥è¡¨ç°ååå®æåå«åç´ çç»ç»ãå½ç¨æ¥ä»£è¡¨ç±»åç´ æ¶ï¼åå¾æä¾äºå½åç©ºé´çå¯è§åãåå¾æå¸¸ç¨çç¨éæ¯ç¨æ¥ç»ç»ç¨ä¾å¾åç±»å¾ï¼å°½ç®¡å®ä¸å±éäºè¿äº uml åç´ ã\n\nä¸é¢æ¯ä¸ä¸ªåå¾çä¾å­ã\n\n\n\nåä¸­çåç´ å±äº«ç¸åçå½åç©ºé´ï¼å æ­¤ï¼ä¸ä¸ªæå®å½åç©ºé´çåç´ å¿é¡»æå¯ä¸çåç§°ã\n\nåå¯ä»¥ç¨æ¥ä»£è¡¨ç©çæé»è¾å³ç³»ãéæ©æç±»åæ¬å¨æå®çåéï¼æå©äºå¨åä¸ä¸ªåéèµäºè¿äºç±»ç¸åç»§æ¿å±æ¬¡ãéå¸¸è®¤ä¸ºæéè¿å¤åç¸å³èçç±»ï¼ä»¥åä¸å®ä»¬ç¸åä½çç±»æ¾å¨åä¸ä¸ªåéã\n\n\n\nå¨ uml2.5 ä¸­ï¼åç¨æä»¶å¤¹æ¥è¡¨ç¤ºï¼åä¸­çåç´ å±äº«åä¸ä¸ªå½åç©ºé´ï¼å¹¶ä¸å¿é¡»æ¯å¯è¯å«çï¼å æ­¤è¦æå¯ä¸çåç§°æç±»åãåå¿é¡»æ¾ç¤ºååï¼å¨éå±æ¹æ¡é¨åæéæ©çæ¾ç¤ºååçåç´ ã\n\n * åçåå¹¶ - åä¹é´çåå¹¶è¿æ¥ç¬¦Â«mergeÂ»å®ä¹äºæºååç´ ä¸ç®æ ååååç´ ä¹é´çæ³åå³ç³»ãæºååç´ çå®ä¹è¢«æ©å±æ¥åå«ç®æ ååç´ å®ä¹ãå½æºååç´ ä¸ç®æ ååæ²¡æåååç´ æ¶ï¼ç®æ ååç´ çå®ä¹ä¸åå½±åã\n * åçå¯¼å¥ - å¯¼å¥è¿æ¥ç¬¦ Â«importÂ»è¡¨æç®æ åçåç´ ï¼å¨è¯¥ä¾ä¸­æ¯ä¸ä¸ªç±» ï¼å¨æºåä¸­è¢«å¼ç¨è¦ç¨ééå®ä¿®é¥°åãæºåçå½åç©ºé´è·å¾ç®æ ç±»çæ¥å£ï¼ç®æ åçå½åç©ºé´åä¸åå½±åã\n * åµå¥è¿æ¥ç¬¦ - æºååç®æ åé´çåµå¥è¿æ¥ç¬¦è¯´æç®æ åå®å¨åå«æºåã\n\n\n# ç±»å¾\n\n> ç±»å¾ï¼class diagramï¼å±ç¤ºäºé¢åå¯¹è±¡ç³»ç»çæé æ¨¡åãæç»äºæ¨¡åæé¨åæ¨¡åçéæè§å¾ï¼æ¾ç¤ºå®åå«çå±æ§åè¡ä¸ºï¼èä¸æ¯è¯¦ç»æè¿°æä½çåè½æå®åæ¹æ³ãç±»å¾æå¸¸ç¨æ¥è¡¨è¾¾å¤ä¸ªç±»åæ¥å£ä¹é´çå³ç³»ãæ³åï¼generalizationsï¼ï¼èåï¼aggregationsï¼åå³èï¼associationsï¼åå«æ¯ç±»ä¹é´ç»§æ¿ï¼å¤åæåºç¨ï¼åè¿æ¥çè¡¨ç°ã\n\nä¸é¢çå¾æ¾ç¤ºäºç±»ä¹é´çèåå³ç³»ãå¼±èåï¼æµè²ç®­å¤´ï¼è¡¨ç°å¨ç±» "account" ä½¿ç¨ "addressbook"ï¼ä½æ¯ä¸å¿è¦åå«å®çä¸ä¸ªå®ä¾ãå¼ºèåï¼å¾ä¸­çé»è²ç®­å¤´ï¼è¡¨ç¤ºäºç®æ ç±»åå«æºç±»ï¼ä¾å¦ï¼"contact" å "contactgroup"å¼è¢«åå«å¨ "addressbook"ä¸­ã\n\n\n\n\n# ç±»ï¼classesï¼\n\nç±»æ¯å®ä¹å¯¹è±¡æå·æçå±æ§åè¡ä¸ºçåç´ ãè¡ä¸ºç¨ç±»è½çè§£çåéæ¶æ¯åéåæ¯æ¡æ¶æ¯çæä½æ¥æè¿°ã ç±»ä¸­ä¹å¯è½å®ä¹çº¦æï¼æ è®°å¼ï¼æé åã\n\n\n# ç±»çæ æ±ï¼class notationï¼\n\nç±»ç¨ç©å½¢è¡¨ç¤ºãé¤ç±»çåç§°å¤ï¼è¿å¯ä»¥éæ©æ§å°æ¾ç¤ºå±æ§åæä½ã åæ åå«ç¨æ¥æ¾ç¤ºç±»çåç§°ï¼å±æ§åæä½ã\n\nå¨ä¸é¢å¾ä¸­ï¼ç±»çç±»åæ¾ç¤ºå¨æä¸é¢çåæ ï¼å®ä¸é¢çåæ æ¾ç¤ºè¯¦ç»å±æ§ï¼å¦ï¼"center" å±æ§æ¾ç¤ºåå§åçå¼ãæåé¢çåæ æ¾ç¤ºæä½ï¼å¦ï¼ setwidthï¼setlength å setposition ä»¥åä»ä»¬çåæ°ã å±æ§åæä½ååçæ æ³¨è¡¨ç¤ºäºè¯¥å±æ§ææä½çå¯è§æ§: å¦æä½¿ç¨ "+"å·ï¼è¿ä¸ªå±æ§ææä½æ¯å¬å±ç ; "-" å·åä»£è¡¨è¿ä¸ªå±æ§ææä½æ¯ç§æçã "#"å·æ¯è¿ä¸ªå±æ§ææä½è¢«å®ä¹ä¸ºä¿æ¤çï¼" ~" å·ä»£è¡¨åçå¯è§æ§ã\n\n\n\n\n# æ¥å£ï¼interfacesï¼\n\næ¥å£æ¯å®æ½èåææ»¡è¶³çè¡ä¸ºè§èï¼æ¯ä¸ç§çº¦å®ãå®ç°ä¸ä¸ªæ¥å£ï¼ç±»å¿éæ¯æå¶è¦æ±çè¡ä¸ºï¼ä½¿ç³»ç»æç§åæ ·çæ¹å¼ï¼å³å¬å±çæ¥å£ï¼å¤çä¸ç¸å³çåç´ ã\n\n\n\næ¥å£æç¸ä¼¼äºç±»çå¤å½¢é£æ ¼ï¼å«ææå®çæä½ï¼å¦ä¸å¾æç¤ºãå¦ææ²¡ææç¡®çè¯¦ç»æä½ï¼ä¹å¯ä»¥ç»æä¸ä¸ªåç¯ãå½ç»æåç¯çæ¶åï¼å°è¿ä¸ªç¯å½¢æ æ±çå®ç°è¿æ¥æ²¡æç®æ ç®­å¤´ã\n\n\n\n\n# è¡¨ï¼tablesï¼\n\nè¡¨å°½ç®¡ä¸æ¯åºæ¬ uml çä¸é¨åï¼ä»ç¶æ¯âå¾åâè½å®æçå®ä¾ç¨ãå¨å³ä¸è§ç»ä¸ä¸ªè¡¨çå°å¾æ æ¥è¡¨ç¤ºãè¡¨å±æ§ç¨âå¾åâ Â«columnÂ»è¡¨ç¤ºã ç»å¤§å¤æ°è¡¨åæä¸ä¸ªä¸»é®ï¼æ¯ç±ä¸ä¸ªæå ä¸ªå­æ®µç»æçä¸ä¸ªå¯ä¸çå­ç ç»åå ä¸»é®æä½æ¥è®¿é®è¡¨æ ¼ï¼ä¸»é®æä½âå¾åâä¸ºÂ«pkÂ»ã ä¸äºè¡¨æä¸ä¸ªæå¤ä¸ªå¤é®ï¼ä½¿ç¨ä¸ä¸ªæå¤ä¸ªå­æ®µå ä¸ä¸ªå¤é®æä½ï¼æ å°å°ç¸å³è¡¨çä¸»é®ä¸å»ï¼å¤é®æä½âå¾åâä¸ºÂ«fkÂ»ã\n\n\n\n\n# å³èï¼associationsï¼\n\nå³èè¡¨æä¸¤ä¸ªæ¨¡ååç´ ä¹é´æå³ç³»ï¼éå¸¸ç¨å¨ä¸ä¸ªç±»ä¸­è¢«å®ç°ä¸ºä¸ä¸ªå®ä¾åéãè¿æ¥ç¬¦å¯ä»¥åå«ä¸¤ç«¯çå½åçè§è²ï¼åºæ°æ§ï¼æ¹ååçº¦æãå³èæ¯åç´ ä¹é´æ®éçå³ç³»ãå¦æå¤äºä¸¤ä¸ªåç´ ï¼ä¹å¯ä»¥ä½¿ç¨è±å½¢çå³èå³ç³»ãå½ä»ç±»å¾çæä»£ç æ¶ï¼å³èæ«ç«¯çå¯¹è±¡å°åæç®æ ç±»ä¸­å®ä¾åéãè§ä¸å¾ç¤ºä¾ "playsfor" å°åæ"player"ç±»ä¸­çå®ä¾åéã\n\n\n\n\n# æ³åï¼generalizationsï¼\n\næ³åè¢«ç¨æ¥è¯´æç»§æ¿å³ç³»ãè¿æ¥ä»ç¹å®ç±»åå°ä¸è¬ç±»åãæ³åçå«ä¹æ¯æºç±»ç»§æ¿äºç®æ ç±»çç¹æ§ãä¸å¾çå¾æ¾ç¤ºäºä¸ä¸ªç¶ç±»æ³åä¸ä¸ªå­ç±»ï¼ ç±»âcircleâçä¸ä¸ªå®ä¾å°ä¼æå±æ§ â x_positionâï¼â y_positionâ ï¼ âradiusâ å æ¹æ³ âdisplay()âã æ³¨æï¼ç±» "shape" æ¯æ½è±¡çï¼ç±»åæ¾ç¤ºä¸ºæä½ã\n\n\n\nä¸å¾æ¾ç¤ºäºä¸ä¸å¾ç¸åä¿¡æ¯çè§å¾ã\n\n\n\n\n# èåï¼aggregationsï¼\n\nèåéå¸¸è¢«ç¨æ¥æè¿°ç±æ´å°çç»ä»¶æææçåç´ ãèåå³ç³»è¡¨ç¤ºä¸ºç½è²è±å½¢ç®­å¤´æåç®æ ç±»æç¶ç±»ã\n\nèåçæ´å¼ºå½¢å¼ -ç»åèåï¼å¼ºèåï¼ - æ¾ç¤ºä¸ºé»è²è±å½¢ç®­å¤´ï¼ç¨æ¥ç»åæ¯æ¬¡æå¤§åçåå«ç»ä»¶ãå¦æä¸ä¸ªç»åèåçç¶ç±»è¢«å é¤ï¼éå¸¸ä¸ä»ç¸å³çææé¨åé½ä¼è¢«å é¤ï¼ä½æ¯ï¼å¦æä¸ä¸ªé¨ä»¶ä»ç»åä¸­å»æï¼å°ä¸ç¨å é¤æ´ä¸ªç»åãç»åæ¯å¯è¿ï¼éå¯¹ç§°çå³ç³»åéå½çã\n\nä¸é¢çå¾ç¤ºï¼æ¾ç¤ºäºå¼±èååå¼ºèåçä¸åãâ address bookâ ç±è®¸å¤ âcontactsâ å âcontact groupsâç»æã âcontact groupâ æ¯ä¸ä¸ªâcontactsâçèåç»; âcontactâå¯ä»¥è¢«åå«å¨ä¸æ­¢ä¸ä¸ª â contact groupâã å¦æä½ å é¤ä¸ä¸ªâ address bookâï¼ææç âcontactsâ å âcontact groupsâ ä¹å°ä¼è¢«å é¤ï¼å¦æä½ å é¤â contact groupâï¼ æ²¡æ âcontactsâä¼è¢«å é¤ã\n\n\n\n\n# å³èç±»ï¼association classesï¼\n\nå³èç±»æ¯ä¸ä¸ªåè®¸å³èè¿æ¥æå±æ§åæä½çæé ãä¸é¢çç¤ºä¾ï¼æ¾ç¤ºäºè¿ä¸æ­¢ç®åè¿æ¥ä¸¤ä¸ªç±»çè¿æ¥ï¼å¦ç»âemployeeâåéé¡¹ç®ãâ employeeâå¨é¡¹ç®ä¸­æèµ·çä½ç¨æ¯ä¸ä¸ªå¤æçå®ä½ï¼æ¢æèªèº«çä¹æä¸å±äºâemployeeâ æ âprojectâ ç±»çç»èã ä¾å¦ï¼â employeeâå¯ä»¥åæ¶ä¸ºå ä¸ªé¡¹ç®å·¥ä½ï¼æä¸åçèå¡å¤´è¡åå¯¹åºçå®å¨æéã\n\n\n\n\n# ä¾èµï¼dependenciesï¼\n\nä¾èµè¢«ç¨æ¥æè¿°æ¨¡ååç´ é´å¹¿æ³çä¾èµå³ç³»ãéå¸¸å¨è®¾è®¡è¿ç¨æ©ææ¾ç¤ºä¸¤ä¸ªåç´ ä¹é´å­å¨æç§å³ç³»ï¼å ä¸ºæ¯åæèä¸è½ç¡®å®å·ä½æ¯ä»ä¹å³ç³»ï¼å¨è®¾è®¡è¿ç¨æ«æï¼è¯¥ç»§æ¿å³ç³»ä¼è¢«å½å¥å·²ææé å (æé å å¯ä»¥æ¯å®ä¾å Â«instantiateÂ»ï¼è·è¸ª Â«traceÂ»ï¼å¯¼å¥ Â«importÂ»ï¼ åå¶å®çå³ç³»)ï¼æè¢«æ¿æ¢æä¸ä¸ªæ´æç¡®ç±»åçè¿æ¥ç¬¦ã\n\n\n# è·è¸ªï¼tracesï¼\n\nè·è¸ªå³ç³»æ¯ä¸ç§ç¹æ®åçä¾èµå³ç³»ãè¿æ¥æ¨¡ååç´ æè·¨æ¨¡åä½æ¯å·æç¸åæ¦å¿µçæ¨¡ååç´ éãè·è¸ªè¢«ç»å¸¸ç¨æ¥è¿½è¸ªéæ±åæ¨¡åçååãç±äºååæ¯ååçï¼è¿ç§ä¾èµå³ç³»çé¡ºåºéå¸¸è¢«å¿½ç¥ãè¿ç§å³ç³»çå±æ§å¯ä»¥è¢«æå®ä¸ºååæ å°ï¼ä½è·è¸ªæ¯ååçï¼éæ­£å¼çåå¾å°å¯è®¡ç®çã\n\n\n# å®ç°ï¼realizationsï¼\n\næ¯æºå¯¹è±¡æ§è¡æå®ç°ç®æ ï¼å®ç°è¢«ç¨æ¥è¡¨è¾¾æ¨¡åçå¯è·è¸ªæ§åå®æ´æ§ï¼ä¸å¡æ¨¡åæéæ±è¢«ä¸ä¸ªæå¤ä¸ªç¨ä¾å®ç°ï¼ç¨ä¾åè¢«ç±»å®ç°ï¼ç±»è¢«ç»ä»¶å®ç°ï¼ç­ç­ãè¿ç§å®ç°è´¯ç©¿äºç³»ç»è®¾è®¡çæ å°éæ±åç±»ç­ï¼ç´è³æ½è±¡å»ºæ¨¡æ°´å¹³çº§ãä»èç¡®ä¿æ´ä¸ªç³»ç»çä¸å¼ å®å¾ï¼å®ä¹åæ ç³»ç»çææå¾®å°ç»æï¼ä»¥åçº¦æåå®ä¹å®çç»èãå®ç°å³ç³»ç¨å¸¦èçº¿çå®ç®­å¤´è¡¨ç¤ºã\n\n\n\n\n# åµå¥ï¼nestingsï¼\n\nåµå¥è¿æ¥ç¬¦ç¨æ¥è¡¨ç¤ºæºåç´ åµå¥å¨ç®æ åç´ ä¸­ãä¸å¾æ¾ç¤ºâ inner classâçå®ä¹ï¼å°½ç®¡å¨ ea ä¸­ï¼æ´å¤å°æç§çä»ä»¬å¨é¡¹ç®å±æ¬¡è§å¾ä¸­çä½ç½®æ¥æ¾ç¤ºè¿ç§å³ç³»ã\n\n\n\n\n# å¤åç»æå¾\n\n> å¤åç»æå¾æ¾ç¤ºç±»çåé¨ç»æï¼åæ¬å®ä¸ç³»ç»å¶ä»é¨åçäº¤äºç¹ãä¹æ¾ç¤ºåé¨åçéç½®ä¸å³ç³»ï¼è¿äºé¨åä¸èµ·æ§è¡ç±»åçè¡ä¸ºã\n\nç±»åç´ å·²ç»å¨ç±»å¾é¨åè¢«è¯¦ç»å°éè¿°ï¼è¿é¨åç¨æ¥è¯´æç±»è¡¨ç°å¤ååç´ çæ¹å¼ï¼å¦ï¼æ´é²æ¥å£ï¼åå«ç«¯å£åé¨ä»¶ã\n\n\n\n\n# é¨ä»¶\n\né¨ä»¶æ¯ä»£è¡¨ä¸ç»ï¼ä¸ä¸ªæå¤ä¸ªï¼å®ä¾çåç´ ï¼è¿ç»å®ä¾çæ¥æèæ¯ä¸ç±»åå®ä¾ï¼ä¾å¦ï¼å¦æä¸ä¸ªå¾çå®ä¾æä¸ç»å¾å½¢åç´ ï¼åè¿äºå¾å½¢åç´ å¯ä»¥è¢«è¡¨ç¤ºä¸ºé¨ä»¶ï¼å¹¶å¯ä»¥å¯¹ä»ä»¬ä¹é´çæç§å³ç³»å»ºæ¨¡ãæ³¨æï¼ä¸ä¸ªé¨ä»¶å¯ä»¥å¨å®çç¶ç±»è¢«å é¤ä¹åä»ç¶ç±»ä¸­è¢«å»æï¼è¿æ ·é¨ä»¶å°±ä¸ä¼è¢«åæ¶å é¤äºã é¨ä»¶å¨ç±»æç»ä»¶åé¨æ¾ç¤ºä¸ºä¸å ä¿®é¥°çæ¹æ¡ã\n\n\n\n\n# ç«¯å£\n\nç«¯å£æ¯ç±»ååçåç´ ï¼ä»£è¡¨ä¸ä¸ªåå«ç±»åå®ä¾çå¤é¨å¯è§çé¨åãç«¯å£å®ä¹äºç±»ååå®çç¯å¢ä¹é´çäº¤äºãç«¯å£æ¾ç¤ºå¨åå«å®çé¨ä»¶ï¼ç±»æç»åç»æçè¾¹ç¼ä¸ãç«¯å£æå®äºç±»åæä¾çæå¡ï¼ä»¥åç±»åè¦æ±ç¯å¢æä¾çæå¡ã ç«¯å£æ¾ç¤ºä¸ºæå±ç±»åè¾¹çæå®çæ¹æ¡ã\n\n\n\n\n# æ¥å£\n\næ¥å£ä¸ç±»ç¸ä¼¼ï¼ä½æ¯æä¸äºéå¶ï¼ææçæ¥å£æä½é½æ¯å¬å±åæ½è±¡çï¼ä¸æä¾ä»»ä½é»è®¤çå®ç°ãææçæ¥å£å±æ§é½å¿é¡»æ¯å¸¸éãç¶èï¼å½ä¸ä¸ªç±»ä»ä¸ä¸ªåç¬çè¶çº§ç±»ç»§æ¿èæ¥ï¼å®å¯ä»¥å®ç°å¤ä¸ªæ¥å£ã å½ä¸ä¸ªæ¥å£å¨å¾ä¸­åååºæ¥ï¼å®æ¢å¯ä»¥æ¾ç¤ºä¸ºç±»åç´ çæ¹æ¡ï¼å¸¦ Â«interfaceÂ» å³é®å­åè¡¨æå®æ¯æ½è±¡çæä½åç§°ï¼ä¹å¯ä»¥æ¾ç¤ºä¸ºåç¯ã\n\n\n\næ³¨æï¼åç¯æ æ³¨ä¸æ¾ç¤ºæ¥å£æä½ãå½æ¥å£æ¾ç¤ºä¸ºç±»ææçæ¥å£ï¼å®ä»¬ä¼è¢«å½ä½æ´é²æ¥å£å¼ç¨ãæ´é²æ¥å£å¯ä»¥å®ä¹ä¸ºæ¯æä¾çï¼è¿æ¯éæ±çãæä¾æ¥å£ç¡®è®¤åå«å®çç±»åæä¾æå®æ¥å£åç´ å®ä¹çæä½ï¼å¯éè¿ç±»åæ¥å£é´å®ç°çè¿æ¥æ¥å®ä¹ãéæ±æ¥å£è¯´æè¯¥ç±»åè½ä¸å¶ä»ç±»åè¿è¡éä¿¡ï¼è¿äºç±»åæä¾äºæå®æ¥å£åç´ æå®ä¹çæä½ãéæ±æ¥å£å¯éè¿å¨ç±»åæ¥å£é´å»ºç«ä¾èµè¿æ¥æ¥å®ä¹ã æä¾æ¥å£æ¾ç¤ºä¸ºâå¸¦æ£çä½âï¼ä¾éå¨ç±»åè¾¹ç¼ãéæ±æ¥å£æ¾ç¤ºä¸ºâå¸¦æ£æ¯ä½âï¼ä¹æ¯ä¾éå¨ç±»åè¾¹ç¼ã\n\n\n\n\n# å§æ\n\nå§æè¿æ¥å¨ç¨æ¥å®ä¹ç»ä»¶å¤é¨ç«¯å£åæ¥å£çåé¨å·¥ä½æ¹å¼ãå§æè¿æ¥å¨è¡¨ç¤ºä¸ºå¸¦æ Â«delegateÂ» å³é®å­çç®­å¤´ãå®è¿æ¥ç»ä»¶çå¤é¨çº¦å®ï¼è¡¨ç°ä¸ºå®çç«¯å£ï¼å°ç»ä»¶é¨ä»¶è¡ä¸ºçåé¨å®ç°ã\n\n\n\n\n# åä½\n\nåä½å®ä¹äºä¸ç³»åå±ååä½çè§è²ï¼å®ä»¬éä½å±ç¤ºä¸ä¸ªæå®çè®¾è®¡åè½ãåä½å¾åºä»ä»æ¾ç¤ºå®ææå®ä»»å¡æåè½çè§è²ä¸å±æ§ãéç¦»ä¸»è¦è§è²æ¯ç¨æ¥ç®åç»æåæ¾æ¸è¡ä¸ºï¼ä¹ç¨äºéç¨ãä¸ä¸ªåä½éå¸¸å®ç°ä¸ä¸ªæ¨¡å¼ã åä½åç´ æ¾ç¤ºä¸ºæ¤­åã\n\n\n\n\n# è§è²ç»å®\n\nè§è²ç»å®è¿æ¥å¨æ¯ä¸æ¡ä»è¿æ¥åä½å°æè¦å®æè¯¥ä»»å¡ç±»åçè¿çº¿ãå®æ¾ç¤ºä¸ºèçº¿ï¼å¹¶å¨ç±»åç«¯æ¾ç¤ºä½ç¨åã\n\n\n\n\n# è¡¨ç°\n\nè¡¨ç°è¿æ¥å¨ç¨äºè¿æ¥åä½å°ç±»åæ¥è¡¨ç¤ºæ­¤ç±»åä¸­ä½¿ç¨äºè¯¥åä½ãæ¾ç¤ºä¸ºå¸¦å³é®å­ Â«representsÂ»çèçº¿ç®­å¤´ã\n\n\n\nåç åçè¿æ¥å¨ç¨äºè¿æ¥åä½å°ç±»åæ¥è¡¨ç¤ºæ­¤åä½è¡¨ç°äºï¼ååæï¼è¯¥ç±»åï¼æ¾ç¤ºä¸ºå¸¦å³é®å­Â«occurrenceÂ»çèçº¿ç®­å¤´ã\n\n\n\n\n# å¯¹è±¡å¾\n\n> å¯¹è±¡å¾ï¼object diagramï¼å¯ä»¥è®¤ä¸ºæ¯ç±»å¾çç¹æ®æå½¢ï¼æ¯ç±»å¾åç´ å­éï¼è¢«ç¨æ¥åæ¶å¼ºè°å¨æäºç¹ï¼ç±»çå®ä¾é´çå³ç³»ãè¿å¯¹çè§£ç±»å¾å¾æå¸®å©ãä»ä»¬å¨æé ä¸ä¸ç±»å¾æ¾ç¤ºæ²¡æä¸åï¼ä½æ¯åæ åºå¤æ ·æ§åä½ç¨ã\n\n\n# ç±»åå¯¹è±¡åç´ \n\nä¸é¢çå¾æ¾ç¤ºäºç±»åç´ åå¯¹è±¡åç´ å¤è§ä¸çä¸åãæ³¨æï¼ç±»åç´ åæ¬ä¸ä¸ªé¨åï¼åå«æ¯åå­æ ï¼å±æ§æ åæä½æ ï¼å¯¹è±¡åç´ é»è®¤ä¸ºæ²¡æåæ ãåç§°æ¾ç¤ºä¹æä¸åï¼å¯¹è±¡åç§°æä¸åçº¿ï¼å¹¶å¯è½æ¾ç¤ºè¯¥å¯¹è±¡å®ä¾åæç¨ç±»åçåç§°ã\n\n\n\n\n# è¿è¡ç¶æ\n\nç±»ååç´ å¯ä»¥æä»»ææ°éçå±æ§åæä½ãå¨å¯¹è±¡å®ä¾ä¸­ä¸ä¼è¢«æ¾ç¤ºåºæ¥ãä½å¯è½å®ä¹å¯¹è±¡çè¿è¡ç¶æï¼æ¾ç¤ºç¹æ®å®ä¾çå±æ§è®¾ç½®å¼ã\n\n\n\n\n# ç±»åå¯¹è±¡å¾ç¤ºä¾\n\nä¸å¾æ¯ä¸ä¸ªå¯¹è±¡å¾ï¼å¶ä¸­æå¥äºç±»å®ä¹å¾ãå®ä¾ç¤ºå¦ä½ç¨å¯¹è±¡å¾æ¥æµè¯ç±»å¾ä¸­ä»»å¡å¤éæ§çæ¹æ³ãâcarâ ç±»å¯¹ âwheelâ ç±»æâ1 å¯¹å¤â çå¤éæ§ï¼ä½æ¯å¦æå·²ç»éæ©ç¨â1 å¯¹ 4â æ¥æ¿ä»£ï¼é£æ ·å°±ä¸ä¼å¨å¯¹è±¡å¾æ¾ç¤ºâ3 ä¸ªè½®å­âçæ±½è½¦ã\n\n\n\n\n# åèèµæ\n\n * https://sparxsystems.cn/resources/uml2_tutorial/index.html\n * http://www.cnblogs.com/ywqu/category/223486.html',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"UML è¡ä¸ºå»ºæ¨¡å¾",frontmatter:{title:"UML è¡ä¸ºå»ºæ¨¡å¾",date:"2018-10-17T13:25:36.000Z",categories:["è®¾è®¡","UML"],tags:["è®¾è®¡","UML"],permalink:"/pages/0b8e4b/"},regularPath:"/03.%E8%AE%BE%E8%AE%A1/11.UML/03.UML%E8%A1%8C%E4%B8%BA%E5%BB%BA%E6%A8%A1%E5%9B%BE.html",relativePath:"03.è®¾è®¡/11.UML/03.UMLè¡ä¸ºå»ºæ¨¡å¾.md",key:"v-5f40daea",path:"/pages/0b8e4b/",headers:[{level:2,title:"æ´»å¨å¾",slug:"æ´»å¨å¾",normalizedTitle:"æ´»å¨å¾",charIndex:104},{level:3,title:"æ´»å¨",slug:"æ´»å¨",normalizedTitle:"æ´»å¨",charIndex:104},{level:3,title:"å¨ä½",slug:"å¨ä½",normalizedTitle:"å¨ä½",charIndex:336},{level:3,title:"å¨ä½çº¦æ",slug:"å¨ä½çº¦æ",normalizedTitle:"å¨ä½çº¦æ",charIndex:396},{level:3,title:"æ§å¶æµ",slug:"æ§å¶æµ",normalizedTitle:"æ§å¶æµ",charIndex:439},{level:3,title:"åå§èç¹",slug:"åå§èç¹",normalizedTitle:"åå§èç¹",charIndex:477},{level:3,title:"ç»æèç¹",slug:"ç»æèç¹",normalizedTitle:"ç»æèç¹",charIndex:510},{level:3,title:"å¯¹è±¡åå¯¹è±¡æµ",slug:"å¯¹è±¡åå¯¹è±¡æµ",normalizedTitle:"å¯¹è±¡åå¯¹è±¡æµ",charIndex:638},{level:3,title:"å¤æ­èç¹ååå¹¶èç¹",slug:"å¤æ­èç¹ååå¹¶èç¹",normalizedTitle:"å¤æ­èç¹ååå¹¶èç¹",charIndex:785},{level:3,title:"åååç»åèç¹",slug:"åååç»åèç¹",normalizedTitle:"åååç»åèç¹",charIndex:880},{level:3,title:"æ©å±å",slug:"æ©å±å",normalizedTitle:"æ©å±å",charIndex:1091},{level:3,title:"å¼å¸¸å¤çå¨",slug:"å¼å¸¸å¤çå¨",normalizedTitle:"å¼å¸¸å¤çå¨",charIndex:1194},{level:3,title:"å¯ä¸­æ­æ´»å¨åº",slug:"å¯ä¸­æ­æ´»å¨åº",normalizedTitle:"å¯ä¸­æ­æ´»å¨åº",charIndex:1223},{level:3,title:"åå²",slug:"åå²",normalizedTitle:"åå²",charIndex:1381},{level:2,title:"ç¶ææºå¾",slug:"ç¶ææºå¾",normalizedTitle:"ç¶ææºå¾",charIndex:109},{level:3,title:"ç¶æ",slug:"ç¶æ",normalizedTitle:"ç¶æ",charIndex:50},{level:3,title:"èµ·å§åç»æç¶æ",slug:"èµ·å§åç»æç¶æ",normalizedTitle:"èµ·å§åç»æç¶æ",charIndex:1882},{level:3,title:"è½¬ç§»",slug:"è½¬ç§»",normalizedTitle:"è½¬ç§»",charIndex:1762},{level:3,title:"ç¶ææ´»å¨",slug:"ç¶ææ´»å¨",normalizedTitle:"ç¶ææ´»å¨",charIndex:2155},{level:3,title:"èªè½¬ç§»",slug:"èªè½¬ç§»",normalizedTitle:"èªè½¬ç§»",charIndex:2335},{level:3,title:"å¤åç¶æ",slug:"å¤åç¶æ",normalizedTitle:"å¤åç¶æ",charIndex:2383},{level:3,title:"å¥å£ç¹",slug:"å¥å£ç¹",normalizedTitle:"å¥å£ç¹",charIndex:2478},{level:3,title:"åºå£ç¹",slug:"åºå£ç¹",normalizedTitle:"åºå£ç¹",charIndex:2600},{level:3,title:"éæ©ä¼ªç¶æ",slug:"éæ©ä¼ªç¶æ",normalizedTitle:"éæ©ä¼ªç¶æ",charIndex:2677},{level:3,title:"è¿æ¥ä¼ªç¶æ",slug:"è¿æ¥ä¼ªç¶æ",normalizedTitle:"è¿æ¥ä¼ªç¶æ",charIndex:2764},{level:3,title:"ç»æ­¢ä¼ªç¶æ",slug:"ç»æ­¢ä¼ªç¶æ",normalizedTitle:"ç»æ­¢ä¼ªç¶æ",charIndex:2900},{level:3,title:"åå²ç¶æ",slug:"åå²ç¶æ",normalizedTitle:"åå²ç¶æ",charIndex:2945},{level:3,title:"å¹¶ååº",slug:"å¹¶ååº",normalizedTitle:"å¹¶ååº",charIndex:3150},{level:2,title:"ç¨ä¾å¾",slug:"ç¨ä¾å¾",normalizedTitle:"ç¨ä¾å¾",charIndex:115},{level:3,title:"æ§è¡è",slug:"æ§è¡è",normalizedTitle:"æ§è¡è",charIndex:3343},{level:3,title:"ç¨ä¾",slug:"ç¨ä¾",normalizedTitle:"ç¨ä¾",charIndex:115},{level:3,title:"ç¨ä¾å®ä¹",slug:"ç¨ä¾å®ä¹",normalizedTitle:"ç¨ä¾å®ä¹",charIndex:3690},{level:3,title:"åå«ç¨ä¾",slug:"åå«ç¨ä¾",normalizedTitle:"åå«ç¨ä¾",charIndex:4053},{level:3,title:"æ©å±ç¨ä¾",slug:"æ©å±ç¨ä¾",normalizedTitle:"æ©å±ç¨ä¾",charIndex:4212},{level:2,title:"éä¿¡å¾",slug:"éä¿¡å¾",normalizedTitle:"éä¿¡å¾",charIndex:120},{level:2,title:"äº¤äºæ¦è¿°å¾",slug:"äº¤äºæ¦è¿°å¾",normalizedTitle:"äº¤äºæ¦è¿°å¾",charIndex:125},{level:3,title:"äº¤äºåç",slug:"äº¤äºåç",normalizedTitle:"äº¤äºåç",charIndex:4708},{level:3,title:"äº¤äºåç´ ",slug:"äº¤äºåç´ ",normalizedTitle:"äº¤äºåç´ ",charIndex:4713},{level:3,title:"å°å®ä»¬æ¾å¨ä¸èµ·",slug:"å°å®ä»¬æ¾å¨ä¸èµ·",normalizedTitle:"å°å®ä»¬æ¾å¨ä¸èµ·",charIndex:4851},{level:2,title:"æ¶åºå¾",slug:"æ¶åºå¾",normalizedTitle:"æ¶åºå¾",charIndex:132},{level:3,title:"çå½çº¿",slug:"çå½çº¿",normalizedTitle:"çå½çº¿",charIndex:2919},{level:3,title:"æ¶æ¯",slug:"æ¶æ¯",normalizedTitle:"æ¶æ¯",charIndex:2752},{level:3,title:"æ§è¡åç",slug:"æ§è¡åç",normalizedTitle:"æ§è¡åç",charIndex:5357},{level:3,title:"åé¨éä¿¡",slug:"åé¨éä¿¡",normalizedTitle:"åé¨éä¿¡",charIndex:5474},{level:3,title:"è¿·è·¯æ¶æ¯åæ¾åæ¶æ¯",slug:"è¿·è·¯æ¶æ¯åæ¾åæ¶æ¯",normalizedTitle:"è¿·è·¯æ¶æ¯åæ¾åæ¶æ¯",charIndex:5543},{level:3,title:"çå½çº¿å¼å§ä¸ç»æ",slug:"çå½çº¿å¼å§ä¸ç»æ",normalizedTitle:"çå½çº¿å¼å§ä¸ç»æ",charIndex:5653},{level:3,title:"æ¶é´åæéçº¦æ",slug:"æ¶é´åæéçº¦æ",normalizedTitle:"æ¶é´åæéçº¦æ",charIndex:5780},{level:3,title:"å¤åçæ®µ",slug:"å¤åçæ®µ",normalizedTitle:"å¤åçæ®µ",charIndex:5898},{level:3,title:"é¨",slug:"é¨",normalizedTitle:"é¨",charIndex:1577},{level:3,title:"é¨ååè§£",slug:"é¨ååè§£",normalizedTitle:"é¨ååè§£",charIndex:6704},{level:3,title:"ç¶æå¸¸é/å»¶ç»­",slug:"ç¶æå¸¸é-å»¶ç»­",normalizedTitle:"ç¶æå¸¸é/å»¶ç»­",charIndex:6753},{level:2,title:"æ¶é´å¾",slug:"æ¶é´å¾",normalizedTitle:"æ¶é´å¾",charIndex:137},{level:3,title:"ç¶æçå½çº¿",slug:"ç¶æçå½çº¿",normalizedTitle:"ç¶æçå½çº¿",charIndex:6918},{level:3,title:"å¼çå½çº¿",slug:"å¼çå½çº¿",normalizedTitle:"å¼çå½çº¿",charIndex:7001},{level:3,title:"å°å®ä»¬æ¾å¨ä¸èµ·",slug:"å°å®ä»¬æ¾å¨ä¸èµ·-2",normalizedTitle:"å°å®ä»¬æ¾å¨ä¸èµ·",charIndex:4851},{level:2,title:"åèèµæ",slug:"åèèµæ",normalizedTitle:"åèèµæ",charIndex:7234}],headersStr:"æ´»å¨å¾ æ´»å¨ å¨ä½ å¨ä½çº¦æ æ§å¶æµ åå§èç¹ ç»æèç¹ å¯¹è±¡åå¯¹è±¡æµ å¤æ­èç¹ååå¹¶èç¹ åååç»åèç¹ æ©å±å å¼å¸¸å¤çå¨ å¯ä¸­æ­æ´»å¨åº åå² ç¶ææºå¾ ç¶æ èµ·å§åç»æç¶æ è½¬ç§» ç¶ææ´»å¨ èªè½¬ç§» å¤åç¶æ å¥å£ç¹ åºå£ç¹ éæ©ä¼ªç¶æ è¿æ¥ä¼ªç¶æ ç»æ­¢ä¼ªç¶æ åå²ç¶æ å¹¶ååº ç¨ä¾å¾ æ§è¡è ç¨ä¾ ç¨ä¾å®ä¹ åå«ç¨ä¾ æ©å±ç¨ä¾ éä¿¡å¾ äº¤äºæ¦è¿°å¾ äº¤äºåç äº¤äºåç´  å°å®ä»¬æ¾å¨ä¸èµ· æ¶åºå¾ çå½çº¿ æ¶æ¯ æ§è¡åç åé¨éä¿¡ è¿·è·¯æ¶æ¯åæ¾åæ¶æ¯ çå½çº¿å¼å§ä¸ç»æ æ¶é´åæéçº¦æ å¤åçæ®µ é¨ é¨ååè§£ ç¶æå¸¸é/å»¶ç»­ æ¶é´å¾ ç¶æçå½çº¿ å¼çå½çº¿ å°å®ä»¬æ¾å¨ä¸èµ· åèèµæ",content:'# UML è¡ä¸ºå»ºæ¨¡å¾\n\n> è¡ä¸ºå¾ç¨æ¥è®°å½å¨ä¸ä¸ªæ¨¡ååé¨ï¼éæ¶é´çååï¼æ¨¡åæ§è¡çäº¤äºåååç¬é´çç¶æï¼å¹¶è·è¸ªç³»ç»å¨çå®ç¯å¢ä¸å¦ä½è¡¨ç°ï¼ä»¥åè§å¯ç³»ç»å¯¹ä¸ä¸ªæä½æäºä»¶çååºï¼ä»¥åå®çç»æã\n> \n> å³é®è¯ï¼æ´»å¨å¾, ç¶ææºå¾, ç¨ä¾å¾, éä¿¡å¾, äº¤äºæ¦è¿°å¾, æ¶åºå¾, æ¶é´å¾\n\n\n# æ´»å¨å¾\n\n> UML ä¸­ï¼æ´»å¨å¾ç¨æ¥å±ç¤ºæ´»å¨çé¡ºåºãæ¾ç¤ºäºä»èµ·å§ç¹å°ç»ç¹çå·¥ä½æµï¼æè¿°äºæ´»å¨å¾ä¸­å­å¨äºäºä»¶è¿ç¨çå¤æ­è·¯å¾ãæ´»å¨å¾å¯ä»¥ç¨æ¥è¯¦ç»éè¿°æäºæ´»å¨æ§è¡ä¸­åçå¹¶è¡å¤ççæåµãæ´»å¨å¾å¯¹ä¸å¡å»ºæ¨¡ä¹æ¯è¾æç¨ï¼ç¨æ¥è¯¦ç»æè¿°åçå¨ä¸å¡æ´»å¨ä¸­çè¿ç¨ã ä¸ä¸ªæ´»å¨å¾çç¤ºä¾å¦ä¸æç¤ºã\n\n\n\nä¸é¢æè¿°ç»ææ´»å¨å¾çåç´ ã\n\n\n# æ´»å¨\n\næ´»å¨æ¯è¡ä¸ºåæ°åé¡ºåºçè§èãæ´»å¨è¢«è¡¨ç¤ºä¸ºåè§ç©å½¢ï¼åå«å¨é¨çå¨ä½ï¼å·¥ä½æµåå¶ä»ç»ææ´»å¨çåç´ ã\n\n\n\n\n# å¨ä½\n\nä¸ä¸ªå¨ä½ä»£è¡¨æ´»å¨ä¸­çä¸ä¸ªæ­¥éª¤ãå¨ä½ç¨åè§ç©å½¢è¡¨ç¤ºã\n\n\n\n\n# å¨ä½çº¦æ\n\nå¨ä½å¯ä»¥éå¸¦çº¦æï¼ä¸å¾æ¾ç¤ºäºä¸ä¸ªå¸¦åç½®æ¡ä»¶ååç½®æ¡ä»¶çå¨ä½ã\n\n\n\n\n# æ§å¶æµ\n\næ§å¶æµæ¾ç¤ºä¸ä¸ªå¨ä½å°ä¸ä¸ä¸ªå¨ä½çæµãè¡¨ç¤ºä¸ºå¸¦ç®­å¤´å®çº¿\n\n\n\n\n# åå§èç¹\n\nä¸ä¸ªå¼å§æèµ·å§ç¹ç¨å¤§é»åç¹è¡¨ç¤ºï¼å¦ä¸å¾ã\n\n\n\n\n# ç»æèç¹\n\nç»æèç¹æä¸¤ç§ç±»åï¼æ´»å¨ç»æèç¹åæµç»æèç¹ãæ´»å¨ç»æèç¹è¡¨ç¤ºä¸ºä¸­å¿å¸¦é»ç¹çåç¯ã\n\n\n\næµç»æèç¹è¡¨ç¤ºä¸ºåé¨ä¸ºåå·çåç¯ã\n\n\n\nè¿ä¸¤ç§ä¸åç±»åèç¹çåºå«ä¸ºï¼æµç»æèç¹è¡¨æåç¬çæ§å¶æµçç»ç¹ãæ´»å¨ç»æç»ç¹æ¯æ´»å¨å¾åæææ§å¶æµçç»æã\n\n\n# å¯¹è±¡åå¯¹è±¡æµ\n\nå¯¹è±¡æµæ¯å¯¹è±¡åæ°æ®è½¬éçééãå¯¹è±¡æ¾ç¤ºä¸ºç©å½¢ã\n\n\n\nå¯¹è±¡æµæ¾ç¤ºä¸ºå¸¦ç®­å¤´çè¿æ¥å¨ï¼è¡¨ææ¹ååéè¿çå¯¹è±¡ã\n\n\n\nä¸ä¸ªå¯¹è±¡æµå¨å®çè³å°ä¸ä¸ªç»ç«¯æä¸ä¸ªå¯¹è±¡ãå¨ä¸å¾ä¸­ï¼å¯ä»¥éç¨å¸¦è¾å¥è¾åºå¼èçéè®°æ æ±è¡¨ç¤ºã\n\n\n\næ°æ®å­å¨æ¾ç¤ºä¸ºå¸¦ Â«datastoreÂ» å³é®å­çå¯¹è±¡ã\n\n\n\n\n# å¤æ­èç¹ååå¹¶èç¹\n\nå¤æ­èç¹ååå¹¶èç¹æ¯ç¸åæ æ³¨ï¼è±å½¢ãå®ä»¬å¯ä»¥è¢«å½åãä»å¤æ­èç¹åºæ¥çæ§å¶æµæçæ¤æ¡ä»¶ï¼å½çæ¤æ¡ä»¶æ»¡è¶³æ¶ï¼å¯ä»¥å¯¹æµæ§å¶ãä¸å¾æ¾ç¤ºäºå¤æ­èç¹ååå¹¶èç¹çä½¿ç¨ã\n\n\n\n\n# åååç»åèç¹\n\nåååç»åèç¹æåæ ·çæ æ±ï¼åç´ææ°´å¹³æ¡ï¼æ¹ååå³äºå·¥ä½æµä»å·¦å°å³ï¼è¿æ¯ä»ä¸å°ä¸ï¼ãå®ä»¬è¯´æäºæ§å¶çå¹¶åçº¿ç¨çèµ·å§åç»ç¹ï¼ä¸å¾æ¾ç¤ºä»ä»¬çä½¿ç¨ç¤ºä¾ã\n\n\n\nç»åèç¹ä¸åå¹¶èç¹ä¸åä¹å¤å¨äºï¼ç»åèç¹åæ­¥ä¸¤ä¸ªè¾å¥éï¼äº§çä¸ä¸ªåç¬çè¾åºéãæ¥èªç»åèç¹çè¾åºéè¦æ¥æ¶å°ææçè¾å¥éåæè½æ§è¡ãåå¹¶èç¹ç´æ¥å°æ§å¶æµä¼ ééè¿ãå¦æä¸¤ä¸ªææ´å¤çè¾å¥éå°è¾¾åå¹¶èç¹ãåå®çè¾åºæµæå®çå¨ä½ä¼è¢«æ§è¡ä¸¤æ¬¡ææ´å¤æ¬¡ã\n\n\n# æ©å±å\n\næ©å±åæ¯ä¼æ§è¡å¤æ¬¡çç»ææ´»å¨åãè¾å¥è¾åºæ©å±èç¹è¡¨ç¤ºä¸ºä¸ç»â3 å¢â ï¼ä»£è¡¨å¤ä¸ªéæ©é¡¹ãå³é®è¯ "iterative"ï¼ "parallel" æ "stream"æ¾ç¤ºå¨åºåçå·¦ä¸è§\n\n\n\n\n# å¼å¸¸å¤çå¨\n\nå¼å¸¸å¤çå¨å¨æ´»å¨å¾ä¸­å¯ä»¥å»ºæ¨¡ã\n\n\n\n\n# å¯ä¸­æ­æ´»å¨åº\n\nå¯ä¸­æ­æ´»å¨åºç¯ç»ä¸ç»å¯ä»¥ä¸­æ­çå¨ä½ãå¨ä¸é¢éå¸¸ç®åçä¾å­ä¸­ï¼ å½æ§å¶è¢«ä¼ éå°ç»æè®¢å "Close Order" å¨ä½ï¼å®åå¤ç"Process Order" å¨ä½ä¼æ§è¡ç´å°å®æï¼é¤é"Cancel Request"åæ¶è¯·æ±ä¸­æ­è¢«æ¥åï¼è¿ä¼å°æ§å¶ä¼ éç»"Cancel Order"å¨ä½ã\n\n\n\n\n# åå²\n\nä¸ä¸ªæ´»å¨åå²æ¾ç¤ºä¸ºåç´ææ°´å¹³æ³³éãå¨ä¸å¾ä¸­ï¼åå²è¢«ç¨æ¥å¨æ´»å¨å¾ä¸­åéå¨ä½ï¼æå¨ "accounting department"ä¸­æ§è¡çï¼æå¨ "customer"ä¸­æ§è¡çã\n\n\n\n\n# ç¶ææºå¾\n\n> ç¶ææºå¾ï¼state-machine-diagramï¼å¯¹ä¸ä¸ªåç¬å¯¹è±¡çè¡ä¸ºå»ºæ¨¡ï¼ææå¯¹è±¡å¨å®çæ´ä¸ªçå½å¨æéï¼ååºä¸åäºä»¶æ¶ï¼æ§è¡ç¸å³äºä»¶çé¡ºåºã\n\nå¦ä¸ç¤ºä¾ï¼ ä¸åçç¶ææºå¾æ¾ç¤ºäºé¨å¨å®çæ´ä¸ªçå½å¨æéå¦ä½è¿ä½ã\n\n\n\né¨å¯ä»¥å¤äºä»¥ä¸çä¸ç§ç¶æä¹ä¸ï¼ "Opened"æå¼ç¶æï¼ "Closed"å³é­ç¶æï¼æè"Locked"éå®ç¶æã å®åå«ååºäºä»¶ï¼âOpenâå¼é¨ï¼ âCloseâå³é¨ï¼ âLockâéé¨ å âUnlockâè§£éã æ³¨æï¼ä¸æ¯ææçäºä»¶ï¼å¨ææçç¶æä¸é½æ¯ææçãå¦ï¼ä¸ä¸ªé¨æå¼çæ¶åæ¯ä¸å¯è½éå®çï¼é¤éä½ å³ä¸é¨ãå¹¶ä¸ï¼ç¶æè½¬ç§»å¯è½æéå çæ¤æ¡ä»¶ï¼åè®¾é¨æ¯å¼çï¼å¦æâdoorWay->isEmptyâï¼é¨æ¯ç©ºçï¼è¢«æ»¡è¶³ï¼é£ä¹å®åªè½ååºå³é¨äºä»¶ãç¶ææºå¾ä½¿ç¨çè¯­æ³åçº¦å®å°å¨ä¸é¢çé¨åè¿è¡è®¨è®ºã\n\n\n# ç¶æ\n\nç¶æè¢«è¡¨ç¤ºä¸ºåè§ç©å½¢ï¼ç¶æååå¨éé¢ã\n\n\n\n\n# èµ·å§åç»æç¶æ\n\nåå§ç¶æè¡¨ç¤ºä¸ºå®å¿é»åç¯ï¼å¯ä»¥æ æ³¨åç§°ãç»æç¶æè¡¨ç¤ºä¸ºä¸­å¿å¸¦é»ç¹åç¯ï¼ä¹å¯ä»¥è¢«æ æ³¨åç§°ã\n\n\n\n\n# è½¬ç§»\n\nä¸ä¸ªç¶æå°ä¸ä¸ä¸ªç¶æçè½¬ç§»è¡¨ç¤ºä¸ºå¸¦ç®­å¤´å®çº¿ãè½¬ç§»å¯ä»¥æä¸ä¸ªâTriggerâè§¦åå¨ï¼ä¸ä¸ªâGuardâçæ¤æ¡ä»¶åä¸ä¸ªâeffectâææãå¦ä¸æç¤ºï¼\n\n\n\n"Trigger"è§¦åå¨æ¯è½¬ç§»çèµ·å ï¼å®å¯ä»¥æ¯æä¸ªæ¡ä»¶ä¸çä¸ä¸ªä¿¡å·ï¼ä¸ä¸ªäºä»¶ï¼ä¸ä¸ªååæä¸ä¸ªæ¶é´éè·¯ã"Guard"çæ¤æ¯ä¸ä¸ªæ¡ä»¶ï¼èä¸å¿é¡»ä¸ºçï¼ä»¥ä¾¿äºè®©è§¦åå¨å¼èµ·è½¬ç§»ãææ"Effect"æ¯ç´æ¥ä½ç¨å°å¯¹è±¡ä¸çä¸ä¸ªå¨ä½ï¼è¯¥å¯¹è±¡å·æåä¸ºè½¬ç§»ç»æçç¶ææºã\n\n\n# ç¶ææ´»å¨\n\nå¨ä¸é¢çç¶æè½¬ç§»ç¤ºä¾ä¸­ï¼ä¸ä¸ªææä¸è¯¥è½¬ç§»ç¸å³èãå¦æç®æ ç¶ææå¤ä¸ªè½¬ç§»å°è¾¾ï¼å¹¶ä¸æ¯ä¸ä¸ªè½¬ç§»é½æç¸åçææä¸å®ç¸å³èï¼é£æå¥½å°è¯¥ææä¸ç®æ ç¶æç¸å³èï¼èä¸ä¸è½¬ç§»ç¸å³èãä½ å¯ä»¥éè¿ä¸ºè¿ä¸ªç¶æå®ä¹åå§å¨ä½æ¥å®ç°ãä¸å¾æ¾ç¤ºäºä¸ä¸ªå¸¦å¥å£å¨ä½ååºå£å¨ä½çç¶æã\n\n\n\nå¯ä»¥å®ä¹åçå¨äºä»¶ä¸çå¨ä½æä¸ç´åççå¨ä½ãæ¯ä¸ç§ç±»åçå¨ä½æ¯å¯ä»¥å®ä¹ä»»ææ°éçã\n\n\n# èªè½¬ç§»\n\nä¸ä¸ªç¶æå¯è½æä¸ä¸ªè¿åå°èªèº«çè½¬ç§»ï¼å¦ä¸å¾ãææä¸è½¬ç§»å³èæ¯ååæå¸®å©ã\n\n\n\n\n# å¤åç¶æ\n\nä¸ä¸ªç¶ææºå¾å¯ä»¥æå­ç¶ææºå¾ï¼å¦ä¸å¾æç¤ºï¼\n\n\n\nå¯éæ©ä¸åæ¹å¼æ¾ç¤ºç¸åä¿¡æ¯ï¼å¦ä¸å¾æç¤ºï¼\n\n\n\nä¸é¢çæ¬çæ æ³¨è¯´æ"Check PIN"çå­ç¶ææºå¾æ¾ç¤ºå¨åç¬çå¾ä¸­ã\n\n\n# å¥å£ç¹\n\nææ¶ï¼ä½ ä¸æ³å¨æ­£å¸¸çåå§ç¶æè¿å¥å­ç¶ææºãä¾å¦ä¸é¢çå­ç¶ææºï¼å®éå¸¸ä»"åå§å"ç¶æå¼å§ï¼ä½æ¯å¦æå ä¸ºæäºåå ï¼å®ä¸å¿æ§è¡åå§åï¼å¯è½é è½¬ç§»å°æå®çå¥å£ç¹æ¥ä» "Ready" ç¶æå¼å§ã\n\n\n\nä¸å¾æ¾ç¤ºäºç¶ææºçä¸ä¸å±ã\n\n\n\n\n# åºå£ç¹\n\næä¸å¥å£ç¹ç¸ç±»ä¼¼çæ¹å¼ï¼å®å¯è½ä¹æå®å¯éæ©çåºå£ç¹ãä¸å¾ç»åºäºä¸»å¤çç¶ææ§è¡åï¼ææ§è¡ç¶æçå»åå°åå³äºè¯¥ç¶æè½¬ç§»æ¶æä½¿ç¨çè·¯å¾ã\n\n\n\n\n# éæ©ä¼ªç¶æ\n\néæ©ä¼ªç¶ææ¾ç¤ºä¸ºè±å½¢ï¼æä¸ä¸ªè½¬ç§»è¾å¥ï¼ä¸¤ä¸ªæå¤ä¸ªè¾åºãä¸å¾æ¾ç¤ºä¸ç®¡å°è¾¾åªä¸ä¸ªç¶æï¼ç»è¿éæ©ä¼ªç¶æåçå»åï¼åå³äºå¨ä¼ªç¶æä¸­æ§è¡æ¶æéæ©çæ¶æ¯æ ¼å¼ã\n\n\n\n\n# è¿æ¥ä¼ªç¶æ\n\nè¿æ¥ä¼ªç¶æç¨æ¥å°å¤ä¸ªç¶æè½¬ç§»é¾æ¥å¨ä¸èµ·ãä¸ä¸ªåç¬çè¿æ¥ä¼ªç¶æå¯ä»¥æä¸ä¸ªæå¤ä¸ªè¾å¥åä¸ä¸ªæå¤ä¸ªè¾åºï¼çæ¤å¯è½åºç¨äºæ¯ä¸ä¸ªè½¬ç§»ï¼è¿æ¥æ¯æ²¡æè¯­ä¹çãè¿æ¥å¯ä»¥æä¸ä¸ªè¾å¥è½¬ç§»åæå¤ä¸ªè¾åºè½¬ç§»æ¥å®ç°ä¸ä¸ªéæåæ¯ãä¸ä¹å¯¹ç§çæ¯éæ©ä¼ªç¶æå®ç°ä¸ä¸ªå¨ææ¡ä»¶åæ¯ã\n\n\n\n\n# ç»æ­¢ä¼ªç¶æ\n\nè¿å¥ç»æ­¢ä¼ªç¶ææ¯æç¶ææºçå½çº¿å·²ç»ç»æ­¢ãç»æ­¢ä¼ªç¶æè¡¨ç¤ºä¸ºåå·ã\n\n\n\n\n# åå²ç¶æ\n\nåå²ç¶æç¨æ¥å½ç¶ææºä¸­æ­æ¶ï¼æ¢å¤ç¶ææºä¹åç¶æãä¸é¢ä¾å¾è¯´æäºåå²ç¶æçä½¿ç¨ãè¿ä¸ªä¾å­æ¯å³äºæ´è¡£æºçç¶ææºã\n\nå¨è¿ä¸ªç¶ææºä¸­ï¼å½æ´è¡£æºè¿è¡æ¶ï¼å®ä¼æç§"Washing" å° Rinsing"åå°"Spinning"æ¥è¿è¡ãå¦æçµæºè¢«åæ­ ï¼æ´è¡£æºä¼åæ­¢è¿è¡å¹¶è¿å¥"Power Off" ç¶æãå½çµæºæ¢å¤ï¼è¿è¡ç¶æå¨"History State"ç¬¦å·å¤è¿å¥ï¼è¡¨ç¤ºå®ä¼ä»ä¸æ¬¡ç¦»å¼çå°æ¹æ¢å¤ã\n\n\n# å¹¶ååº\n\nä¸ä¸ªç¶æå¯ä»¥è¢«åæå ä¸ªä¸åçåºï¼åå«åæ¶å­å¨åæ§è¡çå­ç¶æãä¸é¢çä¾å­æ¾ç¤ºç¶æ "Applying Brakes"ï¼ "front brake"å"rear brakes" å°åæ¶ç¬ç«è¿ä½ãæ³¨æä½¿ç¨äºåååç»åä¼ªç¶æèä¸æ¯éæ©ååå¹¶ä¼ªç¶æãè¿äºç¬¦å·ç¨æ¥åæ­¥å¹¶åççº¿ç¨ã\n\n\n\n\n# ç¨ä¾å¾\n\n> ç¨ä¾å¾ç¨æ¥è®°å½ç³»ç»çéæ±ï¼å®æä¾ç³»ç»ä¸ç¨æ·åå¶ä»åä¸èçä¸ç§éä¿¡ææ®µã\n\n\n# æ§è¡è\n\nç¨ä¾å¾æ¾ç¤ºäºç³»ç»åç³»ç»å¤å®ä½ä¹é´çäº¤äºãè¿äºå®ä½è¢«å¼ç¨ä¸ºæ§è¡èãæ§è¡èä»£è¡¨è§è²ï¼å¯ä»¥åæ¬ï¼ç¨æ·ï¼å¤é¨ç¡¬ä»¶åå¶ä»ç³»ç»ãæ§è¡èå¾å¾è¢«ç»æç®ç¬ç»å°äººãä¹å¯ä»¥ç¨å¸¦Â«actorÂ»å³é®å­çç±»ç©å½¢è¡¨ç¤ºã\n\n\n\nå¨ä¸å¾ä¸­ï¼æ§è¡èå¯ä»¥è¯¦ç»çæ³åå¶ä»æ§è¡è:\n\n\n\n\n# ç¨ä¾\n\nç¨ä¾æ¯ææä¹çåç¬å·¥ä½ååãå®åç³»ç»å¤é¨çäººæäºæä¾ä¸ä¸ªæäºè§å¯çé«å±æ¬¡è¡ä¸ºè§å¾ã ç¨ä¾çæ æ³¨ç¬¦å·æ¯ä¸ä¸ªæ¤­åã\n\n\n\nä½¿ç¨ç¨ä¾çç¬¦å·æ¯å¸¦å¯éæ©ç®­å¤´çè¿æ¥çº¿ï¼ç®­å¤´æ¾ç¤ºæ§å¶çæ¹åãä¸å¾è¯´ææ§è¡è "Customer"ä½¿ç¨ "Withdraw"ç¨ä¾ã\n\n\n\nç¨éè¿æ¥å¨ï¼uses connectorï¼å¯ä»¥æéæ©æ§çå¨æ¯ä¸ä¸ªç«¯ç¹æå¤éæ§å¼ï¼å¦ä¸å¾ï¼æ¾ç¤ºå®¢æ·ä¸æ¬¡å¯è½åªæ§è¡ä¸æ¬¡åæ¬¾äº¤æãä½æ¯é¶è¡å¯ä»¥åæ¶æ§è¡è®¸å¤åæ¬¾äº¤æã\n\n\n\n\n# ç¨ä¾å®ä¹\n\nä¸ä¸ªå¸åçç¨ä¾åæ¬:\n\n * åç§°åæè¿° - ç¨ä¾éå¸¸ç¨ä¸ä¸ªå¨è¯è¯ç»å®ä¹ï¼èä¸æä¸ä¸ªç®ç­çæå­è¯´æã\n * éæ± - éæ±å®ä¹äºä¸ä¸ªç¨ä¾å¿é¡»æä¾ç»ç»ç«¯ç¨æ·çæ­£å¼åè½æ§éæ±ãå®ä»¬ç¬¦åæé æ¹æ³å»ºç«çåè½æ§è§èãä¸ä¸ªéæ±æ¯ç¨ä¾å°æ§è¡ä¸ä¸ªå¨ä½ææä¾å¤ä¸ªå¼ç»ç³»ç»ççº¦å®ææ¿è¯ºã\n * çº¦æ - ä¸ä¸ªçº¦ææ¯ä¸ä¸ªç¨ä¾è¿è¡çæ¡ä»¶æéå¶ãå®åæ¬ï¼åç½®æ¡ä»¶ï¼åç½®æ¡ä»¶åä¸ååæ¡ä»¶ ãåç½®æ¡ä»¶ææäºç¨ä¾å¨åçä¹åéè¦ç¬¦åçæ¡ä»¶ãåç½®æ¡ä»¶ç¨æ¥è¯´æå¨ç¨ä¾æ§è¡ä¹åä¸äºæ¡ä»¶å¿é¡»ä¸º"ç"ãä¸ååæ¡ä»¶è¯´æç¨ä¾æ´ä¸ªæ§è¡è¿ç¨ä¸­è¯¥æ¡ä»¶å§ç»ä¸º"ç"ã\n * æå½¢ - æå½¢æ¯ç¨ä¾çå®ä¾å¨æ§è¡è¿ç¨ä¸­ï¼äºä»¶åçæµç¨çå½¢å¼æè¿°ãå®å®ä¹äºç³»ç»åå¤é¨æ§è¡èä¹é´çäºä»¶æå®é¡ºåºãéå¸¸ç¨ææ¬æ¹å¼æ¥è¡¨ç¤ºï¼å¹¶å¯¹åºæ¶åºå¾ä¸­çæå­æè¿°ã\n * æå½¢å¾\n * éå ä¿¡æ¯\n\n\n# åå«ç¨ä¾\n\nç¨ä¾å¯è½åå«å¶ä»ç¨ä¾çåè½æ¥ä½ä¸ºå®æ­£å¸¸å¤ççä¸é¨åãéå¸¸å®åè®¾ï¼ä»»ä½è¢«åå«çç¨ä¾å¨åºæ¬ç¨åºè¿è¡æ¶æ¯ä¸æ¬¡é½ä¼è¢«è°ç¨ãä¸é¢ä¾å­ï¼ç¨ä¾âå¡çç¡®è®¤â å¨è¿è¡æ¶ï¼è¢«ç¨ä¾âåé±âå½ä½ä¸ä¸ªå­é¨åã\n\n\n\nç¨ä¾å¯ä»¥è¢«ä¸ä¸ªæå¤ä¸ªç¨ä¾åå«ãéè¿æç¼éç¨çè¡ä¸ºï¼å°å®åæå¯ä»¥å¤æ¬¡éå¤ä½¿ç¨çç¨ä¾ãæå©äºéä½åè½éå¤çº§å«ã\n\n\n# æ©å±ç¨ä¾\n\nä¸ä¸ªç¨ä¾å¯ä»¥è¢«ç¨æ¥æ©å±å¦ä¸ä¸ªç¨ä¾çè¡ä¸ºï¼éå¸¸ä½¿ç¨å¨ç¹å«æåµä¸ãä¾å¦ï¼åè®¾å¨ä¿®æ¹ä¸ä¸ªç¹å«ç±»åçå®¢æ·è®¢åä¹åï¼ç¨æ·å¿é¡»å¾å°æç§æ´é«çº§å«çè®¸å¯ï¼ç¶åâè·å¾è®¸å¯âç¨ä¾å°æéæ©çæ©å±å¸¸è§çâä¿®æ¹è®¢åâç¨ä¾ã\n\n\n\næ©å±ç¹ - æ©å±ç¨ä¾çå å¥ç¹è¢«å®ä¹ä¸ºæ©å±ç¹ã\n\n\n\nç³»ç»è¾¹ç - å®ç¨æ¥æ¾ç¤ºç¨ä¾å¨ç³»ç»åé¨ï¼æ§è¡èå¨ç³»ç»çå¤é¨ã\n\n\n\n\n# éä¿¡å¾\n\n> éä¿¡å¾ï¼ä»¥åç§°ä¹ä¸ºåä½å¾ï¼æ¯ä¸ç§äº¤äºå¾ï¼ææ¾ç¤ºæ¶æ¯ä¸æ¶åºå¾ç¸ä¼¼ï¼ä½æ¯å®æ´ä¾§éäºå¯¹è±¡é´çèç³»ã\n\nå¨éä¿¡å¾ä¸­ï¼å¯¹è±¡ä¹é´æ¾ç¤ºå³èè¿æ¥å¨ãæ¶æ¯éå å°è¿äºå³èä¸ï¼æ¾ç¤ºç­ç®­å¤´æåæ¶æ¯æµçæ¹åãæ¶æ¯çé¡ºåºéè¿ç¼å·ç æ¾ç¤ºã\n\nä¸é¢çä¸¤ä¸ªå¾ç¨éä¿¡å¾åæ¶åºå¾åå«æ¾ç¤ºç¸åçä¿¡æ¯ãå°½ç®¡æä»¬å¯è½ä»éä¿¡å¾çç¼å·ç å¾å°æ¶æ¯é¡ºåºï¼ä½å®ä¸æ¯ç«å³å¯è§çãéä¿¡å¾ååæ¸æ¥çæ¾ç¤ºäºé»è¿å¯¹è±¡é´å¨é¨å®æ´çæ¶æ¯ä¼ éã\n\n\n\n\n\n# äº¤äºæ¦è¿°å¾\n\n> ä¸ä¸ªäº¤äºæ¦è§å¾æ¯æ´»å¨å¾çä¸ç§å½¢å¼ï¼å®çèç¹ä»£è¡¨äº¤äºå¾ãäº¤äºå¾åå«æ¶åºå¾ï¼éä¿¡å¾ï¼äº¤äºæ¦è§å¾åæ¶é´å¾ã å¤§å¤æ°äº¤äºæ¦è§å¾æ æ³¨ä¸æ´»å¨å¾ä¸æ ·ãä¾å¦ï¼èµ·å§ï¼ç»æï¼å¤æ­ï¼åå¹¶ï¼åååç»åèç¹æ¯å®å¨ç¸åãå¹¶ä¸ï¼äº¤äºæ¦è§å¾ä»ç»äºä¸¤ç§æ°çåç´ ï¼äº¤äºåçåäº¤äºåç´ ã\n\n\n# äº¤äºåç\n\näº¤äºåçå¼ç¨ç°æçäº¤äºå¾ãæ¾ç¤ºä¸ºä¸ä¸ªå¼ç¨æ¡ï¼å·¦ä¸è§æ¾ç¤º "ref" ãè¢«å¼ç¨çå¾åæ¾ç¤ºå¨æ¡çä¸­å¤®ã\n\n\n\n\n# äº¤äºåç´ \n\näº¤äºåç´ ä¸äº¤äºåçç¸ä¼¼ä¹å¤å¨äºé½æ¯å¨ä¸ä¸ªç©å½¢æ¡ä¸­æ¾ç¤ºä¸ä¸ªç°æçäº¤äºå¾ãä¸åä¹å¤å¨åé¨æ¾ç¤ºåèå¾çåå®¹ä¸åã\n\n\n\n\n# å°å®ä»¬æ¾å¨ä¸èµ·\n\nææçæ´»å¨å¾æ§ä»¶ï¼é½å¯ä»¥ç¸åå°è¢«ä½¿ç¨äºäº¤äºæ¦è§å¾ï¼å¦ï¼ååï¼ç»åï¼åå¹¶ç­ç­ãå®ææ§å¶é»è¾æ¾å¥è¾ä½ä¸çº§çå¾ä¸­ãä¸é¢çä¾å­å°±è¯´æäºä¸ä¸ªå¸åçéå®è¿ç¨ãå­è¿ç¨æ¯ä»äº¤äºåçæ½è±¡èæ¥ã\n\n\n\n\n# æ¶åºå¾\n\n> æ¶åºå¾æ¯äº¤äºå¾çä¸ç§å½¢å¼ï¼å®æ¾ç¤ºå¯¹è±¡æ²¿çå½çº¿åå±ï¼å¯¹è±¡ä¹é´éæ¶é´çäº¤äºè¡¨ç¤ºä¸ºä»æºçå½çº¿æåç®æ çå½çº¿çæ¶æ¯ãæ¶åºå¾è½å¾å¥½å°æ¾ç¤ºé£äºå¯¹è±¡ä¸å¶å®é£äºå¯¹è±¡éä¿¡ï¼ä»ä¹æ¶æ¯è§¦åäºè¿äºéä¿¡ï¼æ¶åºå¾ä¸è½å¾å¥½æ¾ç¤ºå¤æè¿ç¨çé»è¾ã\n\n\n# çå½çº¿\n\nä¸æ¡çå½çº¿å¨æ¶åºå¾ä¸­ä»£è¡¨ä¸ä¸ªç¬ç«çåä¸èãè¡¨ç¤ºä¸ºåå«å¯¹è±¡åçç©å½¢ï¼å¦æå®çåå­æ¯"self"ï¼åè¯´æè¯¥çå½çº¿ä»£è¡¨æ§å¶å¸¦æ¶åºå¾çç±»åã\n\n\n\nææ¶ï¼æ¶åºå¾ä¼åå«ä¸ä¸ªé¡¶ç«¯æ¯æ§è¡èççå½çº¿ãè¿æåµè¯´æææ¡è¿ä¸ªæ¶åºå¾çæ¯ç¨ä¾ãå¥å£®å¾ä¸­çè¾¹çï¼æ§å¶åå®ä½åç´ ä¹å¯ä»¥æçå½çº¿ã\n\n\n\n\n# æ¶æ¯\n\næ¶æ¯æ¾ç¤ºä¸ºç®­å¤´ãæ¶æ¯å¯ä»¥å®æä¼ è¾ï¼ä¹å¯è½ä¸¢å¤±åæ¾åï¼å®å¯ä»¥æ¯åæ­¥çï¼ä¹å¯ä»¥æ¯å¼æ­¥çï¼å³å¯ä»¥æ¯è°ç¨ï¼ä¹å¯ä»¥æ¯ä¿¡å·ãå¨ä¸å¾ä¸­ï¼ç¬¬ä¸æ¡æ¶æ¯æ¯åæ­¥æ¶æ¯(æ ä¸ºå®ç®­å¤´)å®æä¼ è¾ï¼å¹¶éå«ä¸æ¡è¿åæ¶æ¯ãç¬¬äºæ¡æ¶æ¯æ¯å¼æ­¥æ¶æ¯ (æ ä¸ºå®çº¿ç®­å¤´)ï¼ç¬¬ä¸æ¡æ¯å¼æ­¥è¿åæ¶æ¯(æ ä¸ºèçº¿)ã\n\n\n\n\n# æ§è¡åç\n\nåä¸å»¶ä¼¸çç»æ¡ç¶ç©å½¢è¡¨ç¤ºæ§è¡äºä»¶ææ§å¶ç¦ç¹çæ¿æ´»ãå¨ä¸å¾ä¸­æä¸ä¸ªæ§è¡äºä»¶ãç¬¬ä¸ä¸ªæ¯æºå¯¹è±¡åéä¸¤æ¡æ¶æ¯åæ¶å°ä¸¤æ¡åå¤ãç¬¬äºä¸ªæ¯ç®æ å¯¹è±¡æ¶å°ä¸æ¡åæ­¥æ¶æ¯å¹¶è¿åä¸æ¡åå¤ãç¬¬ä¸ä¸ªæ¯ç®æ å¯¹è±¡æ¶å°ä¸æ¡å¼æ­¥æ¶æ¯å¹¶è¿åä¸æ¡åå¤ã\n\n\n# åé¨éä¿¡\n\nåé¨æ¶æ¯è¡¨ç°ä¸ºä¸ä¸ªæä½çéå½è°ç¨ï¼æä¸ä¸ªæ¹æ³è°ç¨å±äºåä¸ä¸ªå¯¹è±¡çå¶ä»æ¹æ³ãæ¾ç¤ºä¸ºçå½çº¿ä¸æ§è¡äºä»¶çåµå¥æ§å¶ç¦ç¹ã\n\n\n\n\n# è¿·è·¯æ¶æ¯åæ¾åæ¶æ¯\n\nè¿·è·¯æ¶æ¯æ¯é£äºåéäºå´æ²¡æå°è¾¾æå®æ¥æ¶èï¼æèå°è¾¾çæ¥æ¶èä¸åå½åå¾ä¸­ãæ¾åæ¶æ¯æ¯æ¶å°æ¥èªé£äºæªç¥çåéèï¼æèæ¥èªæ²¡ææ¾ç¤ºå¨å½åå¾çåéèçæ¶æ¯ãå®ä»¬é½è¡¨ææ¯å»å¾ææ¥èªä¸ä¸ªç»ç¹åç´ ã\n\n\n\n\n# çå½çº¿å¼å§ä¸ç»æ\n\nçå½çº¿å¯ä»¥å¨æ¶åºå¾æ¶é´å»åº¦èå´ååå»ºåéæ¯ï¼å¨ä¸é¢çä¾å­ä¸­ï¼çå½çº¿è¢«åæ­¢ç¬¦å·ï¼åå·ï¼ç»æ­¢ãå¨åé¢çä¾å­ä¸­ï¼çå½çº¿é¡¶ç«¯çç¬¦å·ï¼Childï¼æ¾ç¤ºå¨æ¯åå»ºå®çå¯¹è±¡ç¬¦å·ï¼parentï¼æ²¿é¡µé¢è¦ä½çä½ç½®ä¸ãä¸å¾æ¾ç¤ºåå»ºåç»æ­¢å¯¹è±¡ã\n\n\n\n\n# æ¶é´åæéçº¦æ\n\næ¶æ¯é»è®¤æ¾ç¤ºä¸ºæ°´å¹³çº¿ãå ä¸ºçå½çº¿æ¾ç¤ºä¸ºæ²¿å±å¹åä¸çæ¶é´ééï¼æä»¥å½ç»å®æ¶ç³»ç»å»ºæ¨¡ï¼ææ¯ææ¶é´çº¦æçä¸å¡è¿ç¨å»ºæ¨¡ï¼èèæ§è¡å¨ä½æéæ¶é´é¿åº¦æ¯å¾éè¦çãå æ­¤å¯ä»¥ç»æ¶æ¯è®¾ç½®ä¸ä¸ªæéçº¦æï¼è¿æ ·çæ¶æ¯æ¾ç¤ºä¸ºä¸æçº¿ã\n\n\n\n\n# å¤åçæ®µ\n\nå¦åé¢æè¯´ï¼æ¶åºå¾ä¸éåè¡¨è¾¾å¤æçè¿ç¨é»è¾ãå¨ä¸ç§æåµä¸ï¼æè®¸å¤æºå¶åè®¸æä¸å®ç¨åº¦çè¿ç¨é»è¾å å¥å°å¾ä¸­ï¼å¹¶æå®ä»¬æ¾å°å¤åçæ®µçæ é¢ä¸ãå¤åçæ®µæ¯ä¸ä¸ªæå¤ä¸ªå¤çé¡ºåºè¢«åå«å¨ä¸ä¸ªæ¡æ¶ä¸­ï¼å¹¶å¨æå®åç§°çç¯å¢ä¸æ§è¡ãçæ®µå¯ä»¥æ¯:\n\n * éæ©æ§çæ®µ (æ¾ç¤º âaltâ) ä¸º ifâ¦thenâ¦else ç»æå»ºæ¨¡ã\n * éé¡¹çæ®µ (æ¾ç¤º âoptâ) ä¸º "switch"(å¼å³) ç»æå»ºæ¨¡ã\n * ä¸­æ­çæ®µå¯¹è¢«å¤çäºä»¶çå¯éæ©é¡ºåºå»ºæ¨¡ï¼èä¸æ¯è¯¥å¾çå¶ä»é¨åã\n * å¹¶è¡çæ®µ(æ¾ç¤º âparâ) ä¸ºå¹¶åå¤çå»ºæ¨¡ã\n * å¼±é¡ºåºçæ®µ (æ¾ç¤º âseqâ) åå«äºä¸ç»æ¶æ¯ï¼è¿ç»æ¶æ¯å¿é¡»å¨åç»§çæ®µå¼å§ä¹åè¢«å¤çãä½ä¸ä¼æçæ®µåæ¶æ¯çååé¡ºåºå¼ºå å°ä¸å±äº«åä¸æ¡çå½çº¿çæ¶æ¯ä¸ã\n * ä¸¥æ ¼é¡ºåºçæ®µ (æ¾ç¤º âstrictâ) åå«äºä¸ç³»åéè¦æç§ç»å®é¡ºåºå¤ççæ¶æ¯ã\n * éçæ®µ (æ¾ç¤º ânegâ) åå«äºä¸ç³»åä¸å¯ç¨çæ¶æ¯ã\n * å³é®çæ®µ å·æå³é®é¨åã\n * å¿½ç¥çæ®µ å£°æä¸ä¸ªæ²¡ææä¹çæ¶æ¯ï¼å¦æå®åºç°å¨å½åä¸ä¸æä¸­ã\n * èèçæ®µä¸å¿½ç¥çæ®µç¸åï¼ä¸åå«å¨èèçæ®µåçæ¶æ¯é½åºè¯¥è¢«å¿½ç¥ã\n * æ­è¨çæ®µ (æ¾ç¤º âassertâ)æ æä»»ä½æ²¡ææ¾ç¤ºä¸ºå£°ææä½æ°çé¡ºåºé½æ¯æ æçã\n * å¾ªç¯çæ®µ åå«ä¸ç³»åè¢«éå¤çæ¶æ¯ã\n\nä¸å¾æ¾ç¤ºçæ¯å¾ªç¯çæ®µï¼\n\n\n\nè¿ä¹æ¯ä¸ä¸ªç±»ä¼¼äºå¤åçæ®µçäº¤äºåçã äº¤äºåçè¢«å¶ä»å¾åèï¼æ¾ç¤ºä¸ºå·¦ä¸è§å¸¦"ref"ï¼å°è¢«åèå¾åæ¾ç¤ºå¨æ¹æ¡çä¸­é´ã\n\n\n# é¨\n\né¨æ¯è¿æ¥çæ®µåæ¶æ¯åçæ®µå¤æ¶æ¯çè¿æ¥ç¹ã å¨ EA ä¸­ï¼é¨æ¾ç¤ºä¸ºçæ®µæ¡æ¶ä¸çå°æ­£æ¹å½¢ãä½ç¨ä¸ºæ¶åºå¾ä¸é¡µé¢å¤çè¿æ¥å¨ã ç¨æ¥è¡¨ç¤ºè¿æ¥çæ¶æ¯æºï¼æèåºå»æ¶æ¯çç»ç¹ãä¸é¢ä¸¤ä¸ªå¾æ¾ç¤ºå®ä»¬å¨å®è·µä¸­çä½¿ç¨ãæ³¨æï¼" top level diagram"ä¸­çé¨ç¨æ¶æ¯ç®­å¤´æååèçæ®µï¼å¨è¿éæ²¡æå¿è¦æå®ç»ææ¹åã\n\n\n\n\n\n# é¨ååè§£\n\nä¸ä¸ªå¯¹è±¡å¯ä»¥å¼åºå¤æ¡çå½çº¿ï¼ä½¿å¾å¯¹è±¡åé¨åå¯¹è±¡ä¹é´çæ¶æ¯æ¾ç¤ºå¨åä¸å¾ä¸ã\n\n\n\n\n# ç¶æå¸¸é/å»¶ç»­\n\nç¶æå¸¸éæ¯çå½çº¿ççº¦æï¼è¿è¡æ¶å§ç»ä¸º"ç"ãæ¾ç¤ºä¸ºä¸¤ä¾§ååçç©å½¢ï¼å¦ä¸å¾ï¼\n\n\n\nå»¶ç»­è½ä¸ç¶æå¸¸éæåæ ·çæ æ³¨ï¼ä½æ¯è¢«ç¨äºå¤åçæ®µï¼å¹¶å¯ä»¥å»¶ä¼¸è·¨è¶å¤æ¡çå½çº¿ã\n\n\n# æ¶é´å¾\n\n> UML æ¶é´å¾è¢«ç¨æ¥æ¾ç¤ºéæ¶é´ååï¼ä¸ä¸ªæå¤ä¸ªåç´ çå¼æç¶æçæ´æ¹ãä¹æ¾ç¤ºæ¶æ§äºä»¶ä¹é´çäº¤äºåç®¡çå®ä»¬çæ¶é´åæéçº¦æã\n\n\n# ç¶æçå½çº¿\n\nç¶æçå½çº¿æ¾ç¤ºéæ¶é´ååï¼ä¸ä¸ªåé¡¹ç¶æçæ¹åãä¸è®ºæ¶é´åä½å¦ä½éæ©ï¼X è½´æ¾ç¤ºç»è¿çæ¶é´ï¼Y è½´è¢«æ ä¸ºç»åºç¶æçåè¡¨ãç¶æçå½çº¿å¦ä¸æç¤ºï¼\n\n\n\n\n# å¼çå½çº¿\n\nå¼çå½çº¿æ¾ç¤ºéæ¶é´ååï¼ä¸ä¸ªåé¡¹çå¼çååãX è½´æ¾ç¤ºç»è¿çæ¶é´ï¼æ¶é´åä½ä¸ºä»»æï¼åç¶æçå½çº¿ä¸æ ·ãå¹³è¡çº¿ä¹é´æ¾ç¤ºå¼ï¼æ¯æ¬¡å¼ååï¼å¹³è¡çº¿äº¤åãå¦ä¸å¾æç¤ºã\n\n\n\n\n# å°å®ä»¬æ¾å¨ä¸èµ·\n\nç¶æåå¼ççå½çº¿è½å å ç»åãå®ä»¬å¿é¡»æç¸åç X è½´ã æ¶æ¯å¯ä»¥ä»ä¸ä¸ªçå½çº¿ä¼ éå°å¦ä¸ä¸ªãæ¯ä¸ä¸ªç¶æåå¼çåæ¢è½æä¸ä¸ªå®ä¹çäºä»¶ï¼ä¸ä¸ªæ¶é´éå¶æ¯æä¸ä¸ªäºä»¶ä½æ¶å¿é¡»åçï¼åä¸ä¸ªæééå¶è¯´æç¶ææå¼å¤é¿æ¶é´å¿é¡»ææãä¸æ¦è¿äºå·²ç»è¢«åºç¨ï¼å¶æ¶é´å¾å¯è½æ¾ç¤ºå¦ä¸ã\n\n\n\n\n# åèèµæ\n\n * https://sparxsystems.cn/resources/uml2_tutorial/index.html',normalizedContent:'# uml è¡ä¸ºå»ºæ¨¡å¾\n\n> è¡ä¸ºå¾ç¨æ¥è®°å½å¨ä¸ä¸ªæ¨¡ååé¨ï¼éæ¶é´çååï¼æ¨¡åæ§è¡çäº¤äºåååç¬é´çç¶æï¼å¹¶è·è¸ªç³»ç»å¨çå®ç¯å¢ä¸å¦ä½è¡¨ç°ï¼ä»¥åè§å¯ç³»ç»å¯¹ä¸ä¸ªæä½æäºä»¶çååºï¼ä»¥åå®çç»æã\n> \n> å³é®è¯ï¼æ´»å¨å¾, ç¶ææºå¾, ç¨ä¾å¾, éä¿¡å¾, äº¤äºæ¦è¿°å¾, æ¶åºå¾, æ¶é´å¾\n\n\n# æ´»å¨å¾\n\n> uml ä¸­ï¼æ´»å¨å¾ç¨æ¥å±ç¤ºæ´»å¨çé¡ºåºãæ¾ç¤ºäºä»èµ·å§ç¹å°ç»ç¹çå·¥ä½æµï¼æè¿°äºæ´»å¨å¾ä¸­å­å¨äºäºä»¶è¿ç¨çå¤æ­è·¯å¾ãæ´»å¨å¾å¯ä»¥ç¨æ¥è¯¦ç»éè¿°æäºæ´»å¨æ§è¡ä¸­åçå¹¶è¡å¤ççæåµãæ´»å¨å¾å¯¹ä¸å¡å»ºæ¨¡ä¹æ¯è¾æç¨ï¼ç¨æ¥è¯¦ç»æè¿°åçå¨ä¸å¡æ´»å¨ä¸­çè¿ç¨ã ä¸ä¸ªæ´»å¨å¾çç¤ºä¾å¦ä¸æç¤ºã\n\n\n\nä¸é¢æè¿°ç»ææ´»å¨å¾çåç´ ã\n\n\n# æ´»å¨\n\næ´»å¨æ¯è¡ä¸ºåæ°åé¡ºåºçè§èãæ´»å¨è¢«è¡¨ç¤ºä¸ºåè§ç©å½¢ï¼åå«å¨é¨çå¨ä½ï¼å·¥ä½æµåå¶ä»ç»ææ´»å¨çåç´ ã\n\n\n\n\n# å¨ä½\n\nä¸ä¸ªå¨ä½ä»£è¡¨æ´»å¨ä¸­çä¸ä¸ªæ­¥éª¤ãå¨ä½ç¨åè§ç©å½¢è¡¨ç¤ºã\n\n\n\n\n# å¨ä½çº¦æ\n\nå¨ä½å¯ä»¥éå¸¦çº¦æï¼ä¸å¾æ¾ç¤ºäºä¸ä¸ªå¸¦åç½®æ¡ä»¶ååç½®æ¡ä»¶çå¨ä½ã\n\n\n\n\n# æ§å¶æµ\n\næ§å¶æµæ¾ç¤ºä¸ä¸ªå¨ä½å°ä¸ä¸ä¸ªå¨ä½çæµãè¡¨ç¤ºä¸ºå¸¦ç®­å¤´å®çº¿\n\n\n\n\n# åå§èç¹\n\nä¸ä¸ªå¼å§æèµ·å§ç¹ç¨å¤§é»åç¹è¡¨ç¤ºï¼å¦ä¸å¾ã\n\n\n\n\n# ç»æèç¹\n\nç»æèç¹æä¸¤ç§ç±»åï¼æ´»å¨ç»æèç¹åæµç»æèç¹ãæ´»å¨ç»æèç¹è¡¨ç¤ºä¸ºä¸­å¿å¸¦é»ç¹çåç¯ã\n\n\n\næµç»æèç¹è¡¨ç¤ºä¸ºåé¨ä¸ºåå·çåç¯ã\n\n\n\nè¿ä¸¤ç§ä¸åç±»åèç¹çåºå«ä¸ºï¼æµç»æèç¹è¡¨æåç¬çæ§å¶æµçç»ç¹ãæ´»å¨ç»æç»ç¹æ¯æ´»å¨å¾åæææ§å¶æµçç»æã\n\n\n# å¯¹è±¡åå¯¹è±¡æµ\n\nå¯¹è±¡æµæ¯å¯¹è±¡åæ°æ®è½¬éçééãå¯¹è±¡æ¾ç¤ºä¸ºç©å½¢ã\n\n\n\nå¯¹è±¡æµæ¾ç¤ºä¸ºå¸¦ç®­å¤´çè¿æ¥å¨ï¼è¡¨ææ¹ååéè¿çå¯¹è±¡ã\n\n\n\nä¸ä¸ªå¯¹è±¡æµå¨å®çè³å°ä¸ä¸ªç»ç«¯æä¸ä¸ªå¯¹è±¡ãå¨ä¸å¾ä¸­ï¼å¯ä»¥éç¨å¸¦è¾å¥è¾åºå¼èçéè®°æ æ±è¡¨ç¤ºã\n\n\n\næ°æ®å­å¨æ¾ç¤ºä¸ºå¸¦ Â«datastoreÂ» å³é®å­çå¯¹è±¡ã\n\n\n\n\n# å¤æ­èç¹ååå¹¶èç¹\n\nå¤æ­èç¹ååå¹¶èç¹æ¯ç¸åæ æ³¨ï¼è±å½¢ãå®ä»¬å¯ä»¥è¢«å½åãä»å¤æ­èç¹åºæ¥çæ§å¶æµæçæ¤æ¡ä»¶ï¼å½çæ¤æ¡ä»¶æ»¡è¶³æ¶ï¼å¯ä»¥å¯¹æµæ§å¶ãä¸å¾æ¾ç¤ºäºå¤æ­èç¹ååå¹¶èç¹çä½¿ç¨ã\n\n\n\n\n# åååç»åèç¹\n\nåååç»åèç¹æåæ ·çæ æ±ï¼åç´ææ°´å¹³æ¡ï¼æ¹ååå³äºå·¥ä½æµä»å·¦å°å³ï¼è¿æ¯ä»ä¸å°ä¸ï¼ãå®ä»¬è¯´æäºæ§å¶çå¹¶åçº¿ç¨çèµ·å§åç»ç¹ï¼ä¸å¾æ¾ç¤ºä»ä»¬çä½¿ç¨ç¤ºä¾ã\n\n\n\nç»åèç¹ä¸åå¹¶èç¹ä¸åä¹å¤å¨äºï¼ç»åèç¹åæ­¥ä¸¤ä¸ªè¾å¥éï¼äº§çä¸ä¸ªåç¬çè¾åºéãæ¥èªç»åèç¹çè¾åºéè¦æ¥æ¶å°ææçè¾å¥éåæè½æ§è¡ãåå¹¶èç¹ç´æ¥å°æ§å¶æµä¼ ééè¿ãå¦æä¸¤ä¸ªææ´å¤çè¾å¥éå°è¾¾åå¹¶èç¹ãåå®çè¾åºæµæå®çå¨ä½ä¼è¢«æ§è¡ä¸¤æ¬¡ææ´å¤æ¬¡ã\n\n\n# æ©å±å\n\næ©å±åæ¯ä¼æ§è¡å¤æ¬¡çç»ææ´»å¨åãè¾å¥è¾åºæ©å±èç¹è¡¨ç¤ºä¸ºä¸ç»â3 å¢â ï¼ä»£è¡¨å¤ä¸ªéæ©é¡¹ãå³é®è¯ "iterative"ï¼ "parallel" æ "stream"æ¾ç¤ºå¨åºåçå·¦ä¸è§\n\n\n\n\n# å¼å¸¸å¤çå¨\n\nå¼å¸¸å¤çå¨å¨æ´»å¨å¾ä¸­å¯ä»¥å»ºæ¨¡ã\n\n\n\n\n# å¯ä¸­æ­æ´»å¨åº\n\nå¯ä¸­æ­æ´»å¨åºç¯ç»ä¸ç»å¯ä»¥ä¸­æ­çå¨ä½ãå¨ä¸é¢éå¸¸ç®åçä¾å­ä¸­ï¼ å½æ§å¶è¢«ä¼ éå°ç»æè®¢å "close order" å¨ä½ï¼å®åå¤ç"process order" å¨ä½ä¼æ§è¡ç´å°å®æï¼é¤é"cancel request"åæ¶è¯·æ±ä¸­æ­è¢«æ¥åï¼è¿ä¼å°æ§å¶ä¼ éç»"cancel order"å¨ä½ã\n\n\n\n\n# åå²\n\nä¸ä¸ªæ´»å¨åå²æ¾ç¤ºä¸ºåç´ææ°´å¹³æ³³éãå¨ä¸å¾ä¸­ï¼åå²è¢«ç¨æ¥å¨æ´»å¨å¾ä¸­åéå¨ä½ï¼æå¨ "accounting department"ä¸­æ§è¡çï¼æå¨ "customer"ä¸­æ§è¡çã\n\n\n\n\n# ç¶ææºå¾\n\n> ç¶ææºå¾ï¼state-machine-diagramï¼å¯¹ä¸ä¸ªåç¬å¯¹è±¡çè¡ä¸ºå»ºæ¨¡ï¼ææå¯¹è±¡å¨å®çæ´ä¸ªçå½å¨æéï¼ååºä¸åäºä»¶æ¶ï¼æ§è¡ç¸å³äºä»¶çé¡ºåºã\n\nå¦ä¸ç¤ºä¾ï¼ ä¸åçç¶ææºå¾æ¾ç¤ºäºé¨å¨å®çæ´ä¸ªçå½å¨æéå¦ä½è¿ä½ã\n\n\n\né¨å¯ä»¥å¤äºä»¥ä¸çä¸ç§ç¶æä¹ä¸ï¼ "opened"æå¼ç¶æï¼ "closed"å³é­ç¶æï¼æè"locked"éå®ç¶æã å®åå«ååºäºä»¶ï¼âopenâå¼é¨ï¼ âcloseâå³é¨ï¼ âlockâéé¨ å âunlockâè§£éã æ³¨æï¼ä¸æ¯ææçäºä»¶ï¼å¨ææçç¶æä¸é½æ¯ææçãå¦ï¼ä¸ä¸ªé¨æå¼çæ¶åæ¯ä¸å¯è½éå®çï¼é¤éä½ å³ä¸é¨ãå¹¶ä¸ï¼ç¶æè½¬ç§»å¯è½æéå çæ¤æ¡ä»¶ï¼åè®¾é¨æ¯å¼çï¼å¦æâdoorway->isemptyâï¼é¨æ¯ç©ºçï¼è¢«æ»¡è¶³ï¼é£ä¹å®åªè½ååºå³é¨äºä»¶ãç¶ææºå¾ä½¿ç¨çè¯­æ³åçº¦å®å°å¨ä¸é¢çé¨åè¿è¡è®¨è®ºã\n\n\n# ç¶æ\n\nç¶æè¢«è¡¨ç¤ºä¸ºåè§ç©å½¢ï¼ç¶æååå¨éé¢ã\n\n\n\n\n# èµ·å§åç»æç¶æ\n\nåå§ç¶æè¡¨ç¤ºä¸ºå®å¿é»åç¯ï¼å¯ä»¥æ æ³¨åç§°ãç»æç¶æè¡¨ç¤ºä¸ºä¸­å¿å¸¦é»ç¹åç¯ï¼ä¹å¯ä»¥è¢«æ æ³¨åç§°ã\n\n\n\n\n# è½¬ç§»\n\nä¸ä¸ªç¶æå°ä¸ä¸ä¸ªç¶æçè½¬ç§»è¡¨ç¤ºä¸ºå¸¦ç®­å¤´å®çº¿ãè½¬ç§»å¯ä»¥æä¸ä¸ªâtriggerâè§¦åå¨ï¼ä¸ä¸ªâguardâçæ¤æ¡ä»¶åä¸ä¸ªâeffectâææãå¦ä¸æç¤ºï¼\n\n\n\n"trigger"è§¦åå¨æ¯è½¬ç§»çèµ·å ï¼å®å¯ä»¥æ¯æä¸ªæ¡ä»¶ä¸çä¸ä¸ªä¿¡å·ï¼ä¸ä¸ªäºä»¶ï¼ä¸ä¸ªååæä¸ä¸ªæ¶é´éè·¯ã"guard"çæ¤æ¯ä¸ä¸ªæ¡ä»¶ï¼èä¸å¿é¡»ä¸ºçï¼ä»¥ä¾¿äºè®©è§¦åå¨å¼èµ·è½¬ç§»ãææ"effect"æ¯ç´æ¥ä½ç¨å°å¯¹è±¡ä¸çä¸ä¸ªå¨ä½ï¼è¯¥å¯¹è±¡å·æåä¸ºè½¬ç§»ç»æçç¶ææºã\n\n\n# ç¶ææ´»å¨\n\nå¨ä¸é¢çç¶æè½¬ç§»ç¤ºä¾ä¸­ï¼ä¸ä¸ªææä¸è¯¥è½¬ç§»ç¸å³èãå¦æç®æ ç¶ææå¤ä¸ªè½¬ç§»å°è¾¾ï¼å¹¶ä¸æ¯ä¸ä¸ªè½¬ç§»é½æç¸åçææä¸å®ç¸å³èï¼é£æå¥½å°è¯¥ææä¸ç®æ ç¶æç¸å³èï¼èä¸ä¸è½¬ç§»ç¸å³èãä½ å¯ä»¥éè¿ä¸ºè¿ä¸ªç¶æå®ä¹åå§å¨ä½æ¥å®ç°ãä¸å¾æ¾ç¤ºäºä¸ä¸ªå¸¦å¥å£å¨ä½ååºå£å¨ä½çç¶æã\n\n\n\nå¯ä»¥å®ä¹åçå¨äºä»¶ä¸çå¨ä½æä¸ç´åççå¨ä½ãæ¯ä¸ç§ç±»åçå¨ä½æ¯å¯ä»¥å®ä¹ä»»ææ°éçã\n\n\n# èªè½¬ç§»\n\nä¸ä¸ªç¶æå¯è½æä¸ä¸ªè¿åå°èªèº«çè½¬ç§»ï¼å¦ä¸å¾ãææä¸è½¬ç§»å³èæ¯ååæå¸®å©ã\n\n\n\n\n# å¤åç¶æ\n\nä¸ä¸ªç¶ææºå¾å¯ä»¥æå­ç¶ææºå¾ï¼å¦ä¸å¾æç¤ºï¼\n\n\n\nå¯éæ©ä¸åæ¹å¼æ¾ç¤ºç¸åä¿¡æ¯ï¼å¦ä¸å¾æç¤ºï¼\n\n\n\nä¸é¢çæ¬çæ æ³¨è¯´æ"check pin"çå­ç¶ææºå¾æ¾ç¤ºå¨åç¬çå¾ä¸­ã\n\n\n# å¥å£ç¹\n\nææ¶ï¼ä½ ä¸æ³å¨æ­£å¸¸çåå§ç¶æè¿å¥å­ç¶ææºãä¾å¦ä¸é¢çå­ç¶ææºï¼å®éå¸¸ä»"åå§å"ç¶æå¼å§ï¼ä½æ¯å¦æå ä¸ºæäºåå ï¼å®ä¸å¿æ§è¡åå§åï¼å¯è½é è½¬ç§»å°æå®çå¥å£ç¹æ¥ä» "ready" ç¶æå¼å§ã\n\n\n\nä¸å¾æ¾ç¤ºäºç¶ææºçä¸ä¸å±ã\n\n\n\n\n# åºå£ç¹\n\næä¸å¥å£ç¹ç¸ç±»ä¼¼çæ¹å¼ï¼å®å¯è½ä¹æå®å¯éæ©çåºå£ç¹ãä¸å¾ç»åºäºä¸»å¤çç¶ææ§è¡åï¼ææ§è¡ç¶æçå»åå°åå³äºè¯¥ç¶æè½¬ç§»æ¶æä½¿ç¨çè·¯å¾ã\n\n\n\n\n# éæ©ä¼ªç¶æ\n\néæ©ä¼ªç¶ææ¾ç¤ºä¸ºè±å½¢ï¼æä¸ä¸ªè½¬ç§»è¾å¥ï¼ä¸¤ä¸ªæå¤ä¸ªè¾åºãä¸å¾æ¾ç¤ºä¸ç®¡å°è¾¾åªä¸ä¸ªç¶æï¼ç»è¿éæ©ä¼ªç¶æåçå»åï¼åå³äºå¨ä¼ªç¶æä¸­æ§è¡æ¶æéæ©çæ¶æ¯æ ¼å¼ã\n\n\n\n\n# è¿æ¥ä¼ªç¶æ\n\nè¿æ¥ä¼ªç¶æç¨æ¥å°å¤ä¸ªç¶æè½¬ç§»é¾æ¥å¨ä¸èµ·ãä¸ä¸ªåç¬çè¿æ¥ä¼ªç¶æå¯ä»¥æä¸ä¸ªæå¤ä¸ªè¾å¥åä¸ä¸ªæå¤ä¸ªè¾åºï¼çæ¤å¯è½åºç¨äºæ¯ä¸ä¸ªè½¬ç§»ï¼è¿æ¥æ¯æ²¡æè¯­ä¹çãè¿æ¥å¯ä»¥æä¸ä¸ªè¾å¥è½¬ç§»åæå¤ä¸ªè¾åºè½¬ç§»æ¥å®ç°ä¸ä¸ªéæåæ¯ãä¸ä¹å¯¹ç§çæ¯éæ©ä¼ªç¶æå®ç°ä¸ä¸ªå¨ææ¡ä»¶åæ¯ã\n\n\n\n\n# ç»æ­¢ä¼ªç¶æ\n\nè¿å¥ç»æ­¢ä¼ªç¶ææ¯æç¶ææºçå½çº¿å·²ç»ç»æ­¢ãç»æ­¢ä¼ªç¶æè¡¨ç¤ºä¸ºåå·ã\n\n\n\n\n# åå²ç¶æ\n\nåå²ç¶æç¨æ¥å½ç¶ææºä¸­æ­æ¶ï¼æ¢å¤ç¶ææºä¹åç¶æãä¸é¢ä¾å¾è¯´æäºåå²ç¶æçä½¿ç¨ãè¿ä¸ªä¾å­æ¯å³äºæ´è¡£æºçç¶ææºã\n\nå¨è¿ä¸ªç¶ææºä¸­ï¼å½æ´è¡£æºè¿è¡æ¶ï¼å®ä¼æç§"washing" å° rinsing"åå°"spinning"æ¥è¿è¡ãå¦æçµæºè¢«åæ­ ï¼æ´è¡£æºä¼åæ­¢è¿è¡å¹¶è¿å¥"power off" ç¶æãå½çµæºæ¢å¤ï¼è¿è¡ç¶æå¨"history state"ç¬¦å·å¤è¿å¥ï¼è¡¨ç¤ºå®ä¼ä»ä¸æ¬¡ç¦»å¼çå°æ¹æ¢å¤ã\n\n\n# å¹¶ååº\n\nä¸ä¸ªç¶æå¯ä»¥è¢«åæå ä¸ªä¸åçåºï¼åå«åæ¶å­å¨åæ§è¡çå­ç¶æãä¸é¢çä¾å­æ¾ç¤ºç¶æ "applying brakes"ï¼ "front brake"å"rear brakes" å°åæ¶ç¬ç«è¿ä½ãæ³¨æä½¿ç¨äºåååç»åä¼ªç¶æèä¸æ¯éæ©ååå¹¶ä¼ªç¶æãè¿äºç¬¦å·ç¨æ¥åæ­¥å¹¶åççº¿ç¨ã\n\n\n\n\n# ç¨ä¾å¾\n\n> ç¨ä¾å¾ç¨æ¥è®°å½ç³»ç»çéæ±ï¼å®æä¾ç³»ç»ä¸ç¨æ·åå¶ä»åä¸èçä¸ç§éä¿¡ææ®µã\n\n\n# æ§è¡è\n\nç¨ä¾å¾æ¾ç¤ºäºç³»ç»åç³»ç»å¤å®ä½ä¹é´çäº¤äºãè¿äºå®ä½è¢«å¼ç¨ä¸ºæ§è¡èãæ§è¡èä»£è¡¨è§è²ï¼å¯ä»¥åæ¬ï¼ç¨æ·ï¼å¤é¨ç¡¬ä»¶åå¶ä»ç³»ç»ãæ§è¡èå¾å¾è¢«ç»æç®ç¬ç»å°äººãä¹å¯ä»¥ç¨å¸¦Â«actorÂ»å³é®å­çç±»ç©å½¢è¡¨ç¤ºã\n\n\n\nå¨ä¸å¾ä¸­ï¼æ§è¡èå¯ä»¥è¯¦ç»çæ³åå¶ä»æ§è¡è:\n\n\n\n\n# ç¨ä¾\n\nç¨ä¾æ¯ææä¹çåç¬å·¥ä½ååãå®åç³»ç»å¤é¨çäººæäºæä¾ä¸ä¸ªæäºè§å¯çé«å±æ¬¡è¡ä¸ºè§å¾ã ç¨ä¾çæ æ³¨ç¬¦å·æ¯ä¸ä¸ªæ¤­åã\n\n\n\nä½¿ç¨ç¨ä¾çç¬¦å·æ¯å¸¦å¯éæ©ç®­å¤´çè¿æ¥çº¿ï¼ç®­å¤´æ¾ç¤ºæ§å¶çæ¹åãä¸å¾è¯´ææ§è¡è "customer"ä½¿ç¨ "withdraw"ç¨ä¾ã\n\n\n\nç¨éè¿æ¥å¨ï¼uses connectorï¼å¯ä»¥æéæ©æ§çå¨æ¯ä¸ä¸ªç«¯ç¹æå¤éæ§å¼ï¼å¦ä¸å¾ï¼æ¾ç¤ºå®¢æ·ä¸æ¬¡å¯è½åªæ§è¡ä¸æ¬¡åæ¬¾äº¤æãä½æ¯é¶è¡å¯ä»¥åæ¶æ§è¡è®¸å¤åæ¬¾äº¤æã\n\n\n\n\n# ç¨ä¾å®ä¹\n\nä¸ä¸ªå¸åçç¨ä¾åæ¬:\n\n * åç§°åæè¿° - ç¨ä¾éå¸¸ç¨ä¸ä¸ªå¨è¯è¯ç»å®ä¹ï¼èä¸æä¸ä¸ªç®ç­çæå­è¯´æã\n * éæ± - éæ±å®ä¹äºä¸ä¸ªç¨ä¾å¿é¡»æä¾ç»ç»ç«¯ç¨æ·çæ­£å¼åè½æ§éæ±ãå®ä»¬ç¬¦åæé æ¹æ³å»ºç«çåè½æ§è§èãä¸ä¸ªéæ±æ¯ç¨ä¾å°æ§è¡ä¸ä¸ªå¨ä½ææä¾å¤ä¸ªå¼ç»ç³»ç»ççº¦å®ææ¿è¯ºã\n * çº¦æ - ä¸ä¸ªçº¦ææ¯ä¸ä¸ªç¨ä¾è¿è¡çæ¡ä»¶æéå¶ãå®åæ¬ï¼åç½®æ¡ä»¶ï¼åç½®æ¡ä»¶åä¸ååæ¡ä»¶ ãåç½®æ¡ä»¶ææäºç¨ä¾å¨åçä¹åéè¦ç¬¦åçæ¡ä»¶ãåç½®æ¡ä»¶ç¨æ¥è¯´æå¨ç¨ä¾æ§è¡ä¹åä¸äºæ¡ä»¶å¿é¡»ä¸º"ç"ãä¸ååæ¡ä»¶è¯´æç¨ä¾æ´ä¸ªæ§è¡è¿ç¨ä¸­è¯¥æ¡ä»¶å§ç»ä¸º"ç"ã\n * æå½¢ - æå½¢æ¯ç¨ä¾çå®ä¾å¨æ§è¡è¿ç¨ä¸­ï¼äºä»¶åçæµç¨çå½¢å¼æè¿°ãå®å®ä¹äºç³»ç»åå¤é¨æ§è¡èä¹é´çäºä»¶æå®é¡ºåºãéå¸¸ç¨ææ¬æ¹å¼æ¥è¡¨ç¤ºï¼å¹¶å¯¹åºæ¶åºå¾ä¸­çæå­æè¿°ã\n * æå½¢å¾\n * éå ä¿¡æ¯\n\n\n# åå«ç¨ä¾\n\nç¨ä¾å¯è½åå«å¶ä»ç¨ä¾çåè½æ¥ä½ä¸ºå®æ­£å¸¸å¤ççä¸é¨åãéå¸¸å®åè®¾ï¼ä»»ä½è¢«åå«çç¨ä¾å¨åºæ¬ç¨åºè¿è¡æ¶æ¯ä¸æ¬¡é½ä¼è¢«è°ç¨ãä¸é¢ä¾å­ï¼ç¨ä¾âå¡çç¡®è®¤â å¨è¿è¡æ¶ï¼è¢«ç¨ä¾âåé±âå½ä½ä¸ä¸ªå­é¨åã\n\n\n\nç¨ä¾å¯ä»¥è¢«ä¸ä¸ªæå¤ä¸ªç¨ä¾åå«ãéè¿æç¼éç¨çè¡ä¸ºï¼å°å®åæå¯ä»¥å¤æ¬¡éå¤ä½¿ç¨çç¨ä¾ãæå©äºéä½åè½éå¤çº§å«ã\n\n\n# æ©å±ç¨ä¾\n\nä¸ä¸ªç¨ä¾å¯ä»¥è¢«ç¨æ¥æ©å±å¦ä¸ä¸ªç¨ä¾çè¡ä¸ºï¼éå¸¸ä½¿ç¨å¨ç¹å«æåµä¸ãä¾å¦ï¼åè®¾å¨ä¿®æ¹ä¸ä¸ªç¹å«ç±»åçå®¢æ·è®¢åä¹åï¼ç¨æ·å¿é¡»å¾å°æç§æ´é«çº§å«çè®¸å¯ï¼ç¶åâè·å¾è®¸å¯âç¨ä¾å°æéæ©çæ©å±å¸¸è§çâä¿®æ¹è®¢åâç¨ä¾ã\n\n\n\næ©å±ç¹ - æ©å±ç¨ä¾çå å¥ç¹è¢«å®ä¹ä¸ºæ©å±ç¹ã\n\n\n\nç³»ç»è¾¹ç - å®ç¨æ¥æ¾ç¤ºç¨ä¾å¨ç³»ç»åé¨ï¼æ§è¡èå¨ç³»ç»çå¤é¨ã\n\n\n\n\n# éä¿¡å¾\n\n> éä¿¡å¾ï¼ä»¥åç§°ä¹ä¸ºåä½å¾ï¼æ¯ä¸ç§äº¤äºå¾ï¼ææ¾ç¤ºæ¶æ¯ä¸æ¶åºå¾ç¸ä¼¼ï¼ä½æ¯å®æ´ä¾§éäºå¯¹è±¡é´çèç³»ã\n\nå¨éä¿¡å¾ä¸­ï¼å¯¹è±¡ä¹é´æ¾ç¤ºå³èè¿æ¥å¨ãæ¶æ¯éå å°è¿äºå³èä¸ï¼æ¾ç¤ºç­ç®­å¤´æåæ¶æ¯æµçæ¹åãæ¶æ¯çé¡ºåºéè¿ç¼å·ç æ¾ç¤ºã\n\nä¸é¢çä¸¤ä¸ªå¾ç¨éä¿¡å¾åæ¶åºå¾åå«æ¾ç¤ºç¸åçä¿¡æ¯ãå°½ç®¡æä»¬å¯è½ä»éä¿¡å¾çç¼å·ç å¾å°æ¶æ¯é¡ºåºï¼ä½å®ä¸æ¯ç«å³å¯è§çãéä¿¡å¾ååæ¸æ¥çæ¾ç¤ºäºé»è¿å¯¹è±¡é´å¨é¨å®æ´çæ¶æ¯ä¼ éã\n\n\n\n\n\n# äº¤äºæ¦è¿°å¾\n\n> ä¸ä¸ªäº¤äºæ¦è§å¾æ¯æ´»å¨å¾çä¸ç§å½¢å¼ï¼å®çèç¹ä»£è¡¨äº¤äºå¾ãäº¤äºå¾åå«æ¶åºå¾ï¼éä¿¡å¾ï¼äº¤äºæ¦è§å¾åæ¶é´å¾ã å¤§å¤æ°äº¤äºæ¦è§å¾æ æ³¨ä¸æ´»å¨å¾ä¸æ ·ãä¾å¦ï¼èµ·å§ï¼ç»æï¼å¤æ­ï¼åå¹¶ï¼åååç»åèç¹æ¯å®å¨ç¸åãå¹¶ä¸ï¼äº¤äºæ¦è§å¾ä»ç»äºä¸¤ç§æ°çåç´ ï¼äº¤äºåçåäº¤äºåç´ ã\n\n\n# äº¤äºåç\n\näº¤äºåçå¼ç¨ç°æçäº¤äºå¾ãæ¾ç¤ºä¸ºä¸ä¸ªå¼ç¨æ¡ï¼å·¦ä¸è§æ¾ç¤º "ref" ãè¢«å¼ç¨çå¾åæ¾ç¤ºå¨æ¡çä¸­å¤®ã\n\n\n\n\n# äº¤äºåç´ \n\näº¤äºåç´ ä¸äº¤äºåçç¸ä¼¼ä¹å¤å¨äºé½æ¯å¨ä¸ä¸ªç©å½¢æ¡ä¸­æ¾ç¤ºä¸ä¸ªç°æçäº¤äºå¾ãä¸åä¹å¤å¨åé¨æ¾ç¤ºåèå¾çåå®¹ä¸åã\n\n\n\n\n# å°å®ä»¬æ¾å¨ä¸èµ·\n\nææçæ´»å¨å¾æ§ä»¶ï¼é½å¯ä»¥ç¸åå°è¢«ä½¿ç¨äºäº¤äºæ¦è§å¾ï¼å¦ï¼ååï¼ç»åï¼åå¹¶ç­ç­ãå®ææ§å¶é»è¾æ¾å¥è¾ä½ä¸çº§çå¾ä¸­ãä¸é¢çä¾å­å°±è¯´æäºä¸ä¸ªå¸åçéå®è¿ç¨ãå­è¿ç¨æ¯ä»äº¤äºåçæ½è±¡èæ¥ã\n\n\n\n\n# æ¶åºå¾\n\n> æ¶åºå¾æ¯äº¤äºå¾çä¸ç§å½¢å¼ï¼å®æ¾ç¤ºå¯¹è±¡æ²¿çå½çº¿åå±ï¼å¯¹è±¡ä¹é´éæ¶é´çäº¤äºè¡¨ç¤ºä¸ºä»æºçå½çº¿æåç®æ çå½çº¿çæ¶æ¯ãæ¶åºå¾è½å¾å¥½å°æ¾ç¤ºé£äºå¯¹è±¡ä¸å¶å®é£äºå¯¹è±¡éä¿¡ï¼ä»ä¹æ¶æ¯è§¦åäºè¿äºéä¿¡ï¼æ¶åºå¾ä¸è½å¾å¥½æ¾ç¤ºå¤æè¿ç¨çé»è¾ã\n\n\n# çå½çº¿\n\nä¸æ¡çå½çº¿å¨æ¶åºå¾ä¸­ä»£è¡¨ä¸ä¸ªç¬ç«çåä¸èãè¡¨ç¤ºä¸ºåå«å¯¹è±¡åçç©å½¢ï¼å¦æå®çåå­æ¯"self"ï¼åè¯´æè¯¥çå½çº¿ä»£è¡¨æ§å¶å¸¦æ¶åºå¾çç±»åã\n\n\n\nææ¶ï¼æ¶åºå¾ä¼åå«ä¸ä¸ªé¡¶ç«¯æ¯æ§è¡èççå½çº¿ãè¿æåµè¯´æææ¡è¿ä¸ªæ¶åºå¾çæ¯ç¨ä¾ãå¥å£®å¾ä¸­çè¾¹çï¼æ§å¶åå®ä½åç´ ä¹å¯ä»¥æçå½çº¿ã\n\n\n\n\n# æ¶æ¯\n\næ¶æ¯æ¾ç¤ºä¸ºç®­å¤´ãæ¶æ¯å¯ä»¥å®æä¼ è¾ï¼ä¹å¯è½ä¸¢å¤±åæ¾åï¼å®å¯ä»¥æ¯åæ­¥çï¼ä¹å¯ä»¥æ¯å¼æ­¥çï¼å³å¯ä»¥æ¯è°ç¨ï¼ä¹å¯ä»¥æ¯ä¿¡å·ãå¨ä¸å¾ä¸­ï¼ç¬¬ä¸æ¡æ¶æ¯æ¯åæ­¥æ¶æ¯(æ ä¸ºå®ç®­å¤´)å®æä¼ è¾ï¼å¹¶éå«ä¸æ¡è¿åæ¶æ¯ãç¬¬äºæ¡æ¶æ¯æ¯å¼æ­¥æ¶æ¯ (æ ä¸ºå®çº¿ç®­å¤´)ï¼ç¬¬ä¸æ¡æ¯å¼æ­¥è¿åæ¶æ¯(æ ä¸ºèçº¿)ã\n\n\n\n\n# æ§è¡åç\n\nåä¸å»¶ä¼¸çç»æ¡ç¶ç©å½¢è¡¨ç¤ºæ§è¡äºä»¶ææ§å¶ç¦ç¹çæ¿æ´»ãå¨ä¸å¾ä¸­æä¸ä¸ªæ§è¡äºä»¶ãç¬¬ä¸ä¸ªæ¯æºå¯¹è±¡åéä¸¤æ¡æ¶æ¯åæ¶å°ä¸¤æ¡åå¤ãç¬¬äºä¸ªæ¯ç®æ å¯¹è±¡æ¶å°ä¸æ¡åæ­¥æ¶æ¯å¹¶è¿åä¸æ¡åå¤ãç¬¬ä¸ä¸ªæ¯ç®æ å¯¹è±¡æ¶å°ä¸æ¡å¼æ­¥æ¶æ¯å¹¶è¿åä¸æ¡åå¤ã\n\n\n# åé¨éä¿¡\n\nåé¨æ¶æ¯è¡¨ç°ä¸ºä¸ä¸ªæä½çéå½è°ç¨ï¼æä¸ä¸ªæ¹æ³è°ç¨å±äºåä¸ä¸ªå¯¹è±¡çå¶ä»æ¹æ³ãæ¾ç¤ºä¸ºçå½çº¿ä¸æ§è¡äºä»¶çåµå¥æ§å¶ç¦ç¹ã\n\n\n\n\n# è¿·è·¯æ¶æ¯åæ¾åæ¶æ¯\n\nè¿·è·¯æ¶æ¯æ¯é£äºåéäºå´æ²¡æå°è¾¾æå®æ¥æ¶èï¼æèå°è¾¾çæ¥æ¶èä¸åå½åå¾ä¸­ãæ¾åæ¶æ¯æ¯æ¶å°æ¥èªé£äºæªç¥çåéèï¼æèæ¥èªæ²¡ææ¾ç¤ºå¨å½åå¾çåéèçæ¶æ¯ãå®ä»¬é½è¡¨ææ¯å»å¾ææ¥èªä¸ä¸ªç»ç¹åç´ ã\n\n\n\n\n# çå½çº¿å¼å§ä¸ç»æ\n\nçå½çº¿å¯ä»¥å¨æ¶åºå¾æ¶é´å»åº¦èå´ååå»ºåéæ¯ï¼å¨ä¸é¢çä¾å­ä¸­ï¼çå½çº¿è¢«åæ­¢ç¬¦å·ï¼åå·ï¼ç»æ­¢ãå¨åé¢çä¾å­ä¸­ï¼çå½çº¿é¡¶ç«¯çç¬¦å·ï¼childï¼æ¾ç¤ºå¨æ¯åå»ºå®çå¯¹è±¡ç¬¦å·ï¼parentï¼æ²¿é¡µé¢è¦ä½çä½ç½®ä¸ãä¸å¾æ¾ç¤ºåå»ºåç»æ­¢å¯¹è±¡ã\n\n\n\n\n# æ¶é´åæéçº¦æ\n\næ¶æ¯é»è®¤æ¾ç¤ºä¸ºæ°´å¹³çº¿ãå ä¸ºçå½çº¿æ¾ç¤ºä¸ºæ²¿å±å¹åä¸çæ¶é´ééï¼æä»¥å½ç»å®æ¶ç³»ç»å»ºæ¨¡ï¼ææ¯ææ¶é´çº¦æçä¸å¡è¿ç¨å»ºæ¨¡ï¼èèæ§è¡å¨ä½æéæ¶é´é¿åº¦æ¯å¾éè¦çãå æ­¤å¯ä»¥ç»æ¶æ¯è®¾ç½®ä¸ä¸ªæéçº¦æï¼è¿æ ·çæ¶æ¯æ¾ç¤ºä¸ºä¸æçº¿ã\n\n\n\n\n# å¤åçæ®µ\n\nå¦åé¢æè¯´ï¼æ¶åºå¾ä¸éåè¡¨è¾¾å¤æçè¿ç¨é»è¾ãå¨ä¸ç§æåµä¸ï¼æè®¸å¤æºå¶åè®¸æä¸å®ç¨åº¦çè¿ç¨é»è¾å å¥å°å¾ä¸­ï¼å¹¶æå®ä»¬æ¾å°å¤åçæ®µçæ é¢ä¸ãå¤åçæ®µæ¯ä¸ä¸ªæå¤ä¸ªå¤çé¡ºåºè¢«åå«å¨ä¸ä¸ªæ¡æ¶ä¸­ï¼å¹¶å¨æå®åç§°çç¯å¢ä¸æ§è¡ãçæ®µå¯ä»¥æ¯:\n\n * éæ©æ§çæ®µ (æ¾ç¤º âaltâ) ä¸º ifâ¦thenâ¦else ç»æå»ºæ¨¡ã\n * éé¡¹çæ®µ (æ¾ç¤º âoptâ) ä¸º "switch"(å¼å³) ç»æå»ºæ¨¡ã\n * ä¸­æ­çæ®µå¯¹è¢«å¤çäºä»¶çå¯éæ©é¡ºåºå»ºæ¨¡ï¼èä¸æ¯è¯¥å¾çå¶ä»é¨åã\n * å¹¶è¡çæ®µ(æ¾ç¤º âparâ) ä¸ºå¹¶åå¤çå»ºæ¨¡ã\n * å¼±é¡ºåºçæ®µ (æ¾ç¤º âseqâ) åå«äºä¸ç»æ¶æ¯ï¼è¿ç»æ¶æ¯å¿é¡»å¨åç»§çæ®µå¼å§ä¹åè¢«å¤çãä½ä¸ä¼æçæ®µåæ¶æ¯çååé¡ºåºå¼ºå å°ä¸å±äº«åä¸æ¡çå½çº¿çæ¶æ¯ä¸ã\n * ä¸¥æ ¼é¡ºåºçæ®µ (æ¾ç¤º âstrictâ) åå«äºä¸ç³»åéè¦æç§ç»å®é¡ºåºå¤ççæ¶æ¯ã\n * éçæ®µ (æ¾ç¤º ânegâ) åå«äºä¸ç³»åä¸å¯ç¨çæ¶æ¯ã\n * å³é®çæ®µ å·æå³é®é¨åã\n * å¿½ç¥çæ®µ å£°æä¸ä¸ªæ²¡ææä¹çæ¶æ¯ï¼å¦æå®åºç°å¨å½åä¸ä¸æä¸­ã\n * èèçæ®µä¸å¿½ç¥çæ®µç¸åï¼ä¸åå«å¨èèçæ®µåçæ¶æ¯é½åºè¯¥è¢«å¿½ç¥ã\n * æ­è¨çæ®µ (æ¾ç¤º âassertâ)æ æä»»ä½æ²¡ææ¾ç¤ºä¸ºå£°ææä½æ°çé¡ºåºé½æ¯æ æçã\n * å¾ªç¯çæ®µ åå«ä¸ç³»åè¢«éå¤çæ¶æ¯ã\n\nä¸å¾æ¾ç¤ºçæ¯å¾ªç¯çæ®µï¼\n\n\n\nè¿ä¹æ¯ä¸ä¸ªç±»ä¼¼äºå¤åçæ®µçäº¤äºåçã äº¤äºåçè¢«å¶ä»å¾åèï¼æ¾ç¤ºä¸ºå·¦ä¸è§å¸¦"ref"ï¼å°è¢«åèå¾åæ¾ç¤ºå¨æ¹æ¡çä¸­é´ã\n\n\n# é¨\n\né¨æ¯è¿æ¥çæ®µåæ¶æ¯åçæ®µå¤æ¶æ¯çè¿æ¥ç¹ã å¨ ea ä¸­ï¼é¨æ¾ç¤ºä¸ºçæ®µæ¡æ¶ä¸çå°æ­£æ¹å½¢ãä½ç¨ä¸ºæ¶åºå¾ä¸é¡µé¢å¤çè¿æ¥å¨ã ç¨æ¥è¡¨ç¤ºè¿æ¥çæ¶æ¯æºï¼æèåºå»æ¶æ¯çç»ç¹ãä¸é¢ä¸¤ä¸ªå¾æ¾ç¤ºå®ä»¬å¨å®è·µä¸­çä½¿ç¨ãæ³¨æï¼" top level diagram"ä¸­çé¨ç¨æ¶æ¯ç®­å¤´æååèçæ®µï¼å¨è¿éæ²¡æå¿è¦æå®ç»ææ¹åã\n\n\n\n\n\n# é¨ååè§£\n\nä¸ä¸ªå¯¹è±¡å¯ä»¥å¼åºå¤æ¡çå½çº¿ï¼ä½¿å¾å¯¹è±¡åé¨åå¯¹è±¡ä¹é´çæ¶æ¯æ¾ç¤ºå¨åä¸å¾ä¸ã\n\n\n\n\n# ç¶æå¸¸é/å»¶ç»­\n\nç¶æå¸¸éæ¯çå½çº¿ççº¦æï¼è¿è¡æ¶å§ç»ä¸º"ç"ãæ¾ç¤ºä¸ºä¸¤ä¾§ååçç©å½¢ï¼å¦ä¸å¾ï¼\n\n\n\nå»¶ç»­è½ä¸ç¶æå¸¸éæåæ ·çæ æ³¨ï¼ä½æ¯è¢«ç¨äºå¤åçæ®µï¼å¹¶å¯ä»¥å»¶ä¼¸è·¨è¶å¤æ¡çå½çº¿ã\n\n\n# æ¶é´å¾\n\n> uml æ¶é´å¾è¢«ç¨æ¥æ¾ç¤ºéæ¶é´ååï¼ä¸ä¸ªæå¤ä¸ªåç´ çå¼æç¶æçæ´æ¹ãä¹æ¾ç¤ºæ¶æ§äºä»¶ä¹é´çäº¤äºåç®¡çå®ä»¬çæ¶é´åæéçº¦æã\n\n\n# ç¶æçå½çº¿\n\nç¶æçå½çº¿æ¾ç¤ºéæ¶é´ååï¼ä¸ä¸ªåé¡¹ç¶æçæ¹åãä¸è®ºæ¶é´åä½å¦ä½éæ©ï¼x è½´æ¾ç¤ºç»è¿çæ¶é´ï¼y è½´è¢«æ ä¸ºç»åºç¶æçåè¡¨ãç¶æçå½çº¿å¦ä¸æç¤ºï¼\n\n\n\n\n# å¼çå½çº¿\n\nå¼çå½çº¿æ¾ç¤ºéæ¶é´ååï¼ä¸ä¸ªåé¡¹çå¼çååãx è½´æ¾ç¤ºç»è¿çæ¶é´ï¼æ¶é´åä½ä¸ºä»»æï¼åç¶æçå½çº¿ä¸æ ·ãå¹³è¡çº¿ä¹é´æ¾ç¤ºå¼ï¼æ¯æ¬¡å¼ååï¼å¹³è¡çº¿äº¤åãå¦ä¸å¾æç¤ºã\n\n\n\n\n# å°å®ä»¬æ¾å¨ä¸èµ·\n\nç¶æåå¼ççå½çº¿è½å å ç»åãå®ä»¬å¿é¡»æç¸åç x è½´ã æ¶æ¯å¯ä»¥ä»ä¸ä¸ªçå½çº¿ä¼ éå°å¦ä¸ä¸ªãæ¯ä¸ä¸ªç¶æåå¼çåæ¢è½æä¸ä¸ªå®ä¹çäºä»¶ï¼ä¸ä¸ªæ¶é´éå¶æ¯æä¸ä¸ªäºä»¶ä½æ¶å¿é¡»åçï¼åä¸ä¸ªæééå¶è¯´æç¶ææå¼å¤é¿æ¶é´å¿é¡»ææãä¸æ¦è¿äºå·²ç»è¢«åºç¨ï¼å¶æ¶é´å¾å¯è½æ¾ç¤ºå¦ä¸ã\n\n\n\n\n# åèèµæ\n\n * https://sparxsystems.cn/resources/uml2_tutorial/index.html',charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"è®¾è®¡",frontmatter:{title:"è®¾è®¡",date:"2022-04-27T17:26:27.000Z",categories:["è®¾è®¡"],tags:["ç¼ç¨"],permalink:"/pages/8ea43c/",hidden:!0},regularPath:"/03.%E8%AE%BE%E8%AE%A1/",relativePath:"03.è®¾è®¡/README.md",key:"v-34e3a8ae",path:"/pages/8ea43c/",headers:[{level:2,title:"ð åå®¹",slug:"ð-åå®¹",normalizedTitle:"ð åå®¹",charIndex:9},{level:3,title:"æ¶æ",slug:"æ¶æ",normalizedTitle:"æ¶æ",charIndex:19},{level:4,title:"ç»¼å",slug:"ç»¼å",normalizedTitle:"ç»¼å",charIndex:25},{level:4,title:"å¾®æå¡",slug:"å¾®æå¡",normalizedTitle:"å¾®æå¡",charIndex:141},{level:4,title:"å®å¨",slug:"å®å¨",normalizedTitle:"å®å¨",charIndex:110},{level:3,title:"è®¾è®¡æ¨¡å¼",slug:"è®¾è®¡æ¨¡å¼",normalizedTitle:"è®¾è®¡æ¨¡å¼",charIndex:198},{level:4,title:"åå»ºåæ¨¡å¼",slug:"åå»ºåæ¨¡å¼",normalizedTitle:"åå»ºåæ¨¡å¼",charIndex:217},{level:4,title:"ç»æåæ¨¡å¼",slug:"ç»æåæ¨¡å¼",normalizedTitle:"ç»æåæ¨¡å¼",charIndex:408},{level:4,title:"è¡ä¸ºåæ¨¡å¼",slug:"è¡ä¸ºåæ¨¡å¼",normalizedTitle:"è¡ä¸ºåæ¨¡å¼",charIndex:589},{level:3,title:"éæ",slug:"éæ",normalizedTitle:"éæ",charIndex:861},{level:3,title:"UML",slug:"uml",normalizedTitle:"uml",charIndex:953},{level:2,title:"ð èµæ",slug:"ð-èµæ",normalizedTitle:"ð èµæ",charIndex:1e3},{level:2,title:"ðª ä¼ é",slug:"ðª-ä¼ é",normalizedTitle:"ðª ä¼ é",charIndex:1244}],headersStr:"ð åå®¹ æ¶æ ç»¼å å¾®æå¡ å®å¨ è®¾è®¡æ¨¡å¼ åå»ºåæ¨¡å¼ ç»æåæ¨¡å¼ è¡ä¸ºåæ¨¡å¼ éæ UML ð èµæ ðª ä¼ é",content:"# è®¾è®¡\n\n\n# ð åå®¹\n\n\n# æ¶æ\n\n# ç»¼å\n\n * å¦ä½è®¾è®¡ç³»ç»\n * ç³»ç»æ¶æé¢è¯æ»ç»\n * ç³»ç»æ¶ææ¦è¿°\n * ç³»ç»é«æ§è½æ¶æ\n * ç³»ç»é«å¯ç¨æ¶æ\n * ç³»ç»ä¼¸ç¼©æ§æ¶æ\n * ç³»ç»æ©å±æ§æ¶æ\n * ç³»ç»å®å¨æ§æ¶æ\n * å¤§åç³»ç»æ ¸å¿ææ¯\n * ç³»ç»æµè¯æ¶æ\n\n# å¾®æå¡\n\n * å¾®æå¡ç®ä»\n * å¾®æå¡åºæ¬åç\n\n# å®å¨\n\n * è®¤è¯åææ\n * OAuth2.0\n\n\n# è®¾è®¡æ¨¡å¼\n\n * é¢åå¯¹è±¡åå\n\n# åå»ºåæ¨¡å¼\n\n> åå»ºåæ¨¡å¼æä¾äºåå»ºå¯¹è±¡çæºå¶ï¼ è½å¤æåå·²æä»£ç ççµæ´»æ§åå¯å¤ç¨æ§ã\n\n * ç®åå·¥åæ¨¡å¼ (Simple Factory)\n * å·¥åæ¹æ³æ¨¡å¼ (Factory Method)\n * æ½è±¡å·¥åæ¨¡å¼ (Abstract Factory)\n * å»ºé èæ¨¡å¼ (Builder)\n * ååæ¨¡å¼ (Prototype)\n * åä¾æ¨¡å¼ (Singleton)\n\n# ç»æåæ¨¡å¼\n\n> ç»æåæ¨¡å¼ä»ç»å¦ä½å°å¯¹è±¡åç±»ç»è£æè¾å¤§çç»æï¼ å¹¶åæ¶ä¿æç»æççµæ´»åé«æã\n\n * ééå¨æ¨¡å¼ (Adapter)\n * æ¡¥æ¥æ¨¡å¼ (Bridge)\n * ç»åæ¨¡å¼ (Composite)\n * è£é¥°æ¨¡å¼ (Decorator)\n * å¤è§æ¨¡å¼ (Facade)\n * äº«åæ¨¡å¼ (Flyweight)\n * ä»£çæ¨¡å¼ (Proxy)\n\n# è¡ä¸ºåæ¨¡å¼\n\n> è¡ä¸ºæ¨¡å¼è´è´£å¯¹è±¡é´çé«ææ²éåèè´£å§æ´¾ã\n\n * æ¨¡æ¿æ¹æ³æ¨¡å¼ (Template Method)\n * å½ä»¤æ¨¡å¼ (Command)\n * è¿­ä»£å¨æ¨¡å¼ (Iterator)\n * è§å¯èæ¨¡å¼ (Observer)\n * è§£éå¨æ¨¡å¼ (Interpreter)\n * ä¸­ä»èæ¨¡å¼ (Mediator)\n * èè´£é¾æ¨¡å¼ (Chain of Responsibility)\n * å¤å¿å½æ¨¡å¼ (Memento)\n * ç­ç¥æ¨¡å¼ (Strategy)\n * è®¿é®èæ¨¡å¼ (Visitor)\n * ç¶ææ¨¡å¼ (State)\n\n\n# éæ\n\n * ä»£ç çåå³éåéæ\n * ä»£ç åå³éä¹ä»£ç èè¿\n * ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡\n * ä»£ç åå³éä¹åé©çéç¢\n * ä»£ç åå³éä¹éå¿è¦ç\n * ä»£ç åå³éä¹è¦å\n\n\n# UML\n\n * UML å¿«éå¥é¨\n * UML ç»æå»ºæ¨¡å¾\n * UML è¡ä¸ºå»ºæ¨¡å¾\n\n\n# ð èµæ\n\n * UML\n   * Wiki-UML\n   * Sparx UML æç¨\n   * OMG UML\n   * UML Tutorial\n   * W3Cschool UML æç¨\n   * UML å­¦ä¹ å¥é¨å°±è¿ä¸ç¯æç« \n * è®¾è®¡æ¨¡å¼\n   * ãHead First è®¾è®¡æ¨¡å¼ã\n   * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n   * è®¾è®¡æ¨¡å¼æç¨\n * éæ\n   * ãä»£ç æ´æ´ä¹éã\n   * ãéæ - æ¹åæ¢æä»£ç çè®¾è®¡ã\n   * ãä»£ç å¤§å¨ã\n   * éææç¨\n\n\n# ðª ä¼ é\n\nâ¾ ð§ éæç IT ç¥è¯å¾è°± â¾ ð¯ éæçåå®¢ â¾",normalizedContent:"# è®¾è®¡\n\n\n# ð åå®¹\n\n\n# æ¶æ\n\n# ç»¼å\n\n * å¦ä½è®¾è®¡ç³»ç»\n * ç³»ç»æ¶æé¢è¯æ»ç»\n * ç³»ç»æ¶ææ¦è¿°\n * ç³»ç»é«æ§è½æ¶æ\n * ç³»ç»é«å¯ç¨æ¶æ\n * ç³»ç»ä¼¸ç¼©æ§æ¶æ\n * ç³»ç»æ©å±æ§æ¶æ\n * ç³»ç»å®å¨æ§æ¶æ\n * å¤§åç³»ç»æ ¸å¿ææ¯\n * ç³»ç»æµè¯æ¶æ\n\n# å¾®æå¡\n\n * å¾®æå¡ç®ä»\n * å¾®æå¡åºæ¬åç\n\n# å®å¨\n\n * è®¤è¯åææ\n * oauth2.0\n\n\n# è®¾è®¡æ¨¡å¼\n\n * é¢åå¯¹è±¡åå\n\n# åå»ºåæ¨¡å¼\n\n> åå»ºåæ¨¡å¼æä¾äºåå»ºå¯¹è±¡çæºå¶ï¼ è½å¤æåå·²æä»£ç ççµæ´»æ§åå¯å¤ç¨æ§ã\n\n * ç®åå·¥åæ¨¡å¼ (simple factory)\n * å·¥åæ¹æ³æ¨¡å¼ (factory method)\n * æ½è±¡å·¥åæ¨¡å¼ (abstract factory)\n * å»ºé èæ¨¡å¼ (builder)\n * ååæ¨¡å¼ (prototype)\n * åä¾æ¨¡å¼ (singleton)\n\n# ç»æåæ¨¡å¼\n\n> ç»æåæ¨¡å¼ä»ç»å¦ä½å°å¯¹è±¡åç±»ç»è£æè¾å¤§çç»æï¼ å¹¶åæ¶ä¿æç»æççµæ´»åé«æã\n\n * ééå¨æ¨¡å¼ (adapter)\n * æ¡¥æ¥æ¨¡å¼ (bridge)\n * ç»åæ¨¡å¼ (composite)\n * è£é¥°æ¨¡å¼ (decorator)\n * å¤è§æ¨¡å¼ (facade)\n * äº«åæ¨¡å¼ (flyweight)\n * ä»£çæ¨¡å¼ (proxy)\n\n# è¡ä¸ºåæ¨¡å¼\n\n> è¡ä¸ºæ¨¡å¼è´è´£å¯¹è±¡é´çé«ææ²éåèè´£å§æ´¾ã\n\n * æ¨¡æ¿æ¹æ³æ¨¡å¼ (template method)\n * å½ä»¤æ¨¡å¼ (command)\n * è¿­ä»£å¨æ¨¡å¼ (iterator)\n * è§å¯èæ¨¡å¼ (observer)\n * è§£éå¨æ¨¡å¼ (interpreter)\n * ä¸­ä»èæ¨¡å¼ (mediator)\n * èè´£é¾æ¨¡å¼ (chain of responsibility)\n * å¤å¿å½æ¨¡å¼ (memento)\n * ç­ç¥æ¨¡å¼ (strategy)\n * è®¿é®èæ¨¡å¼ (visitor)\n * ç¶ææ¨¡å¼ (state)\n\n\n# éæ\n\n * ä»£ç çåå³éåéæ\n * ä»£ç åå³éä¹ä»£ç èè¿\n * ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡\n * ä»£ç åå³éä¹åé©çéç¢\n * ä»£ç åå³éä¹éå¿è¦ç\n * ä»£ç åå³éä¹è¦å\n\n\n# uml\n\n * uml å¿«éå¥é¨\n * uml ç»æå»ºæ¨¡å¾\n * uml è¡ä¸ºå»ºæ¨¡å¾\n\n\n# ð èµæ\n\n * uml\n   * wiki-uml\n   * sparx uml æç¨\n   * omg uml\n   * uml tutorial\n   * w3cschool uml æç¨\n   * uml å­¦ä¹ å¥é¨å°±è¿ä¸ç¯æç« \n * è®¾è®¡æ¨¡å¼\n   * ãhead first è®¾è®¡æ¨¡å¼ã\n   * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n   * è®¾è®¡æ¨¡å¼æç¨\n * éæ\n   * ãä»£ç æ´æ´ä¹éã\n   * ãéæ - æ¹åæ¢æä»£ç çè®¾è®¡ã\n   * ãä»£ç å¤§å¨ã\n   * éææç¨\n\n\n# ðª ä¼ é\n\nâ¾ ð§ éæç it ç¥è¯å¾è°± â¾ ð¯ éæçåå®¢ â¾",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"å½æ¡£",frontmatter:{archivesPage:!0,title:"å½æ¡£",permalink:"/archives/",article:!1},regularPath:"/@pages/archivesPage.html",relativePath:"@pages/archivesPage.md",key:"v-02e2a776",path:"/archives/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"UML",frontmatter:{title:"UML",date:"2020-08-10T10:59:18.000Z",categories:["è®¾è®¡","UML"],tags:["è®¾è®¡","UML"],permalink:"/pages/13ccb0/",hidden:!0},regularPath:"/03.%E8%AE%BE%E8%AE%A1/11.UML/",relativePath:"03.è®¾è®¡/11.UML/README.md",key:"v-de1804e0",path:"/pages/13ccb0/",headers:[{level:2,title:"ð åå®¹",slug:"ð-åå®¹",normalizedTitle:"ð åå®¹",charIndex:189},{level:2,title:"ð èµæ",slug:"ð-èµæ",normalizedTitle:"ð èµæ",charIndex:238},{level:2,title:"ðª ä¼ é",slug:"ðª-ä¼ é",normalizedTitle:"ðª ä¼ é",charIndex:342}],headersStr:"ð åå®¹ ð èµæ ðª ä¼ é",content:"# UML\n\n> ç»ä¸å»ºæ¨¡è¯­è¨ï¼è±è¯­ - Unified Modeling Languageï¼ç¼©å UMLï¼æ¯éä¸å©çç¬¬ä¸ä»£å»ºæ¨¡åè§çº¦è¯­è¨ãUML æ¯ä¸ç§å¼æ¾çæ¹æ³ï¼ç¨äºè¯´æãå¯è§åãæå»ºåç¼åä¸ä¸ªæ­£å¨å¼åçãé¢åå¯¹è±¡çãè½¯ä»¶å¯éç³»ç»çå¶åçå¼æ¾æ¹æ³ãUML å±ç°äºä¸ç³»åæä½³å·¥ç¨å®è·µï¼è¿äºæä½³å®è·µå¨å¯¹å¤§è§æ¨¡ï¼å¤æç³»ç»è¿è¡å»ºæ¨¡æ¹é¢ï¼ç¹å«æ¯å¨è½¯ä»¶æ¶æå±æ¬¡å·²ç»è¢«éªè¯ææã\n\n\n# ð åå®¹\n\n * UML å¿«éå¥é¨\n * UML ç»æå»ºæ¨¡å¾\n * UML è¡ä¸ºå»ºæ¨¡å¾\n\n\n# ð èµæ\n\n * Wiki-UML\n * Sparx UML æç¨\n * OMG UML\n * UML Tutorial\n * W3Cschool UML æç¨\n * UML å­¦ä¹ å¥é¨å°±è¿ä¸ç¯æç« \n\n\n# ðª ä¼ é\n\nâ¾ ð§ éæç IT ç¥è¯å¾è°± â¾ ð¯ éæçåå®¢ â¾",normalizedContent:"# uml\n\n> ç»ä¸å»ºæ¨¡è¯­è¨ï¼è±è¯­ - unified modeling languageï¼ç¼©å umlï¼æ¯éä¸å©çç¬¬ä¸ä»£å»ºæ¨¡åè§çº¦è¯­è¨ãuml æ¯ä¸ç§å¼æ¾çæ¹æ³ï¼ç¨äºè¯´æãå¯è§åãæå»ºåç¼åä¸ä¸ªæ­£å¨å¼åçãé¢åå¯¹è±¡çãè½¯ä»¶å¯éç³»ç»çå¶åçå¼æ¾æ¹æ³ãuml å±ç°äºä¸ç³»åæä½³å·¥ç¨å®è·µï¼è¿äºæä½³å®è·µå¨å¯¹å¤§è§æ¨¡ï¼å¤æç³»ç»è¿è¡å»ºæ¨¡æ¹é¢ï¼ç¹å«æ¯å¨è½¯ä»¶æ¶æå±æ¬¡å·²ç»è¢«éªè¯ææã\n\n\n# ð åå®¹\n\n * uml å¿«éå¥é¨\n * uml ç»æå»ºæ¨¡å¾\n * uml è¡ä¸ºå»ºæ¨¡å¾\n\n\n# ð èµæ\n\n * wiki-uml\n * sparx uml æç¨\n * omg uml\n * uml tutorial\n * w3cschool uml æç¨\n * uml å­¦ä¹ å¥é¨å°±è¿ä¸ç¯æç« \n\n\n# ðª ä¼ é\n\nâ¾ ð§ éæç it ç¥è¯å¾è°± â¾ ð¯ éæçåå®¢ â¾",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"Home",frontmatter:{home:!0,heroImage:"img/bg.gif",heroText:"Design",tagline:"Design æ¯ä¸ªäººå¯¹äºæ¶æçå¿å¾åæ»ç»ã",bannerBg:"none",postList:"none",footer:"CC-BY-SA-4.0 Licensed | Copyright Â© 2018-Now Dunwu"},regularPath:"/",relativePath:"README.md",key:"v-7e5bbd14",path:"/",headers:[{level:2,title:"ð åå®¹",slug:"ð-åå®¹",normalizedTitle:"ð åå®¹",charIndex:134},{level:3,title:"è®¾è®¡æ­¥éª¤",slug:"è®¾è®¡æ­¥éª¤",normalizedTitle:"è®¾è®¡æ­¥éª¤",charIndex:144},{level:4,title:"ç¬¬ä¸æ­¥ï¼éæ±åæ",slug:"ç¬¬ä¸æ­¥-éæ±åæ",normalizedTitle:"ç¬¬ä¸æ­¥ï¼éæ±åæ",charIndex:296},{level:4,title:"ç¬¬äºæ­¥ï¼é¡¶å±è®¾è®¡",slug:"ç¬¬äºæ­¥-é¡¶å±è®¾è®¡",normalizedTitle:"ç¬¬äºæ­¥ï¼é¡¶å±è®¾è®¡",charIndex:638},{level:4,title:"ç¬¬ä¸æ­¥ï¼ç»ä»¶è®¾è®¡",slug:"ç¬¬ä¸æ­¥-ç»ä»¶è®¾è®¡",normalizedTitle:"ç¬¬ä¸æ­¥ï¼ç»ä»¶è®¾è®¡",charIndex:699},{level:4,title:"ç¬¬åæ­¥ï¼æ©å±è®¾è®¡",slug:"ç¬¬åæ­¥-æ©å±è®¾è®¡",normalizedTitle:"ç¬¬åæ­¥ï¼æ©å±è®¾è®¡",charIndex:731},{level:3,title:"åå¸å¼",slug:"åå¸å¼",normalizedTitle:"åå¸å¼",charIndex:817},{level:4,title:"åå¸å¼ç»¼å",slug:"åå¸å¼ç»¼å",normalizedTitle:"åå¸å¼ç»¼å",charIndex:824},{level:4,title:"åå¸å¼çè®º",slug:"åå¸å¼çè®º",normalizedTitle:"åå¸å¼çè®º",charIndex:845},{level:4,title:"åå¸å¼å³é®ææ¯",slug:"åå¸å¼å³é®ææ¯",normalizedTitle:"åå¸å¼å³é®ææ¯",charIndex:974},{level:5,title:"æµéè°åº¦",slug:"æµéè°åº¦",normalizedTitle:"æµéè°åº¦",charIndex:1010},{level:5,title:"æ°æ®è°åº¦",slug:"æ°æ®è°åº¦",normalizedTitle:"æ°æ®è°åº¦",charIndex:1205},{level:5,title:"èµæºè°åº¦",slug:"èµæºè°åº¦",normalizedTitle:"èµæºè°åº¦",charIndex:1442},{level:5,title:"éä¿¡",slug:"éä¿¡",normalizedTitle:"éä¿¡",charIndex:1459},{level:5,title:"æå¡æ²»ç",slug:"æå¡æ²»ç",normalizedTitle:"æå¡æ²»ç",charIndex:1501},{level:2,title:"ð èµæ",slug:"ð-èµæ",normalizedTitle:"ð èµæ",charIndex:1712},{level:2,title:"ðª ä¼ é",slug:"ðª-ä¼ é",normalizedTitle:"ðª ä¼ é",charIndex:2254}],headersStr:"ð åå®¹ è®¾è®¡æ­¥éª¤ ç¬¬ä¸æ­¥ï¼éæ±åæ ç¬¬äºæ­¥ï¼é¡¶å±è®¾è®¡ ç¬¬ä¸æ­¥ï¼ç»ä»¶è®¾è®¡ ç¬¬åæ­¥ï¼æ©å±è®¾è®¡ åå¸å¼ åå¸å¼ç»¼å åå¸å¼çè®º åå¸å¼å³é®ææ¯ æµéè°åº¦ æ°æ®è°åº¦ èµæºè°åº¦ éä¿¡ æå¡æ²»ç ð èµæ ðª ä¼ é",content:"> â DESIGN æ¯ä¸ªäººå¯¹äºè½¯ä»¶ç³»ç»æ¶æçå¿å¾åæ»ç»ã\n> \n> æ¶æä¹éï¼å¨äºæè¡¡ï¼æè¡¡ä¹æ¯ï¼å¨äºåèã\n> \n>  * ð é¡¹ç®åæ­¥ç»´æ¤ï¼Github | Gitee\n>  * ð çµå­ä¹¦éè¯»ï¼Github Pages | Gitee Pages\n\n\n# ð åå®¹\n\n\n# è®¾è®¡æ­¥éª¤\n\nè§£å³æ¹æ¡ï¼Solutionï¼ï¼å°±æ¯éå¯¹æäºå·²ç»ä½ç°åºçï¼æèå¯ä»¥é¢æçé®é¢ãä¸è¶³ãç¼ºé·ãéæ±ç­ç­ï¼ææåºçä¸ä¸ªè§£å³æ´ä½é®é¢çå¯è¡æ§æ¹æ¡ãå°±è½¯ä»¶ç³»ç»èè¨ï¼è§£å³æ¹æ¡å°±æ¯ä¸ä¸ªå¯ä»¥è§£å³å·ä½ä¸å¡é®é¢ï¼å¹¶ä¸å¯ä»¥è½å°çè½¯ä»¶ç³»ç»ã\n\nè§£å³æ¹æ¡ï¼æ¯«æ çé®æ¯é¡¶å±ç³»ç»è®¾è®¡ï¼è¿éè¦è®¾è®¡èæ¢æææ¯ï¼ä¹æä¸å¡ã\n\n# ç¬¬ä¸æ­¥ï¼éæ±åæ\n\næææéè¦çä¸è¥¿èéå¨ä¸èµ·ï¼å®¡è§é®é¢ãä¸åçæé®ï¼ä»¥è³äºæä»¬å¯ä»¥æç¡®ä½¿ç¨åºæ¯åçº¦æãè®¨è®ºåè®¾ã\n\n * Whatï¼ç³»ç»çä½ç¨æ¯ä»ä¹ï¼ç³»ç»çç®æ æ¯ä»ä¹ï¼\n * Whoï¼ç³»ç»çç¨æ·ç¾¤ä½æ¯è°ï¼\n * Howï¼ç¨æ·å¸æææ ·ä½¿ç¨ç³»ç»ï¼ç³»ç»å¦ä½ä¸ºç¨æ·æä¾æå¡ï¼\n * How manyï¼æå¤å°ç¨æ·ï¼æ¥æ´»/ææ´»æå¤å°ï¼ââç¨æ·ä½éä¼æå¤§çå½±åç³»ç»çæ§è½è¦æ±ï¼ä»èå½±åç³»ç»çè§æ¨¡åå¤æåº¦ã\n * å®¹éï¼ç³»ç»éè¦å¤çå¤å°æ°æ®ï¼\n * å¹¶åéãååéï¼ç³»ç»éè¦æ¯ç§éå¤çå¤å°è¯·æ±ï¼\n * è¯»åæ¯çï¼ç³»ç»çè¯»åæ¯çæ¯å¤å°ï¼ââè¯»å¤åå°æåå¤è¯»å°å³å®äºä¸åçæ¶ææ¹æ¡ã\n * How muchï¼ç³»ç»çé¢ç®æ¯å¤å°ï¼åæ¬ç©æãäººåææ¬ç­ï¼ï¼\n * è¾å¥è¾åºï¼ç³»ç»çè¾å¥è¾åºåå«æ¯ä»ä¹ï¼\n\n# ç¬¬äºæ­¥ï¼é¡¶å±è®¾è®¡\n\nä½¿ç¨ææéè¦çç»ä»¶æ¥æç»åºä¸ä¸ªé«å±çº§çè®¾è®¡ã\n\n * ç»åºä¸»è¦çç»ä»¶åè¿æ¥\n * è¯æä½ çæ³æ³\n\n# ç¬¬ä¸æ­¥ï¼ç»ä»¶è®¾è®¡\n\nå¯¹æ¯ä¸ä¸ªæ ¸å¿ç»ä»¶è¿è¡è¯¦ç»æ·±å¥çåæã\n\n# ç¬¬åæ­¥ï¼æ©å±è®¾è®¡\n\nç¡®è®¤åå¤çç¶é¢ä»¥åä¸äºéå¶ãä¸¾ä¾æ¥è¯´å°±æ¯ä½ éè¦ä¸é¢çè¿äºæ¥å®ææ©å±æ§çè®®é¢åï¼\n\n * è´è½½åè¡¡\n * æ°´å¹³æ©å±\n * ç¼å­\n * æ°æ®åºåç\n\n\n# åå¸å¼\n\n# åå¸å¼ç»¼å\n\n * åå¸å¼é¢è¯æ»ç»\n\n# åå¸å¼çè®º\n\n * åå¸å¼çè®º - å³é®è¯ï¼æå åº­å°åãCAPãBASEãéè¯¯çåå¸å¼åè®¾\n * åå¸å¼ç®æ³ Paxos - å³é®è¯ï¼å±è¯æ§ç®æ³\n * åå¸å¼ç®æ³ Raft - å³é®è¯ï¼å±è¯æ§ç®æ³\n * åå¸å¼ç®æ³ Gossip - å³é®è¯ï¼æ°æ®ä¼ æ­\n\n# åå¸å¼å³é®ææ¯\n\n * éç¾¤\n * å¤å¶\n * ååº\n * éä¸»\n\n# æµéè°åº¦\n\n * æµéæ§å¶ - å³é®è¯ï¼éæµãçæ­ãéçº§ãè®¡æ°å¨æ³ãæ¶é´çªå£æ³ãä»¤çæ¡¶æ³ãæ¼æ¡¶æ³\n * è´è½½åè¡¡ - å³é®è¯ï¼è½®è¯¢ãéæºãæå°è¿æ¥ãæºå°ååå¸ãä¸è´æ§åå¸ãèæ hash æ§½\n * æå¡è·¯ç± - å³é®è¯ï¼è·¯ç±ãæ¡ä»¶è·¯ç±ãèæ¬è·¯ç±ãæ ç­¾è·¯ç±\n * æå¡ç½å³\n * åå¸å¼ä¼è¯ - å³é®è¯ï¼ç²æ§ SessionãSession å¤å¶å±äº«ãåºäºç¼å­ç session å±äº«\n\n# æ°æ®è°åº¦\n\n * æ°æ®ç¼å­ - å³é®è¯ï¼è¿ç¨åç¼å­ãåå¸å¼ç¼å­ãç¼å­éªå´©ãç¼å­ç©¿éãç¼å­å»ç©¿ãç¼å­æ´æ°ãç¼å­é¢ç­ãç¼å­éçº§\n * è¯»ååç¦»\n * ååºåè¡¨ - å³é®è¯ï¼åçãè·¯ç±ãè¿ç§»ãæ©å®¹ãååãèå\n * åå¸å¼ ID - å³é®è¯ï¼UUIDãèªå¢åºåãéªè±ç®æ³ãLeaf\n * åå¸å¼äºå¡ - å³é®è¯ï¼2PCã3PCãTCCãæ¬å°æ¶æ¯è¡¨ãMQ æ¶æ¯ãSAGA\n * åå¸å¼é - å³é®è¯ï¼æ°æ®åºãRedisãZooKeeperãäºæ¥ãå¯éå¥ãæ­»éãå®¹éãèªæå°è¯\n\n# èµæºè°åº¦\n\n * å¼¹æ§ä¼¸ç¼©\n\n# éä¿¡\n\n * æ¶æ¯éå - å³é®è¯ï¼éå¤æ¶è´¹ãæ¶æ¯ä¸¢å¤±ãæ¶æ¯é¡ºåºæ§ãæ¶æ¯ç§¯å\n\n# æå¡æ²»ç\n\n * æå¡æ³¨åååç°\n * æå¡çæ§\n * æå¡é¾è·¯çæ§\n * æå¡å®¹é\n * æå¡ç¼æ\n * æå¡çæ¬ç®¡ç\n * æµéè°åº¦\n   * æµéæ§å¶ - å³é®è¯ï¼éæµãçæ­ãéçº§ãè®¡æ°å¨æ³ãæ¶é´çªå£æ³ãä»¤çæ¡¶æ³ãæ¼æ¡¶æ³\n   * è´è½½åè¡¡ - å³é®è¯ï¼è½®è¯¢ãéæºãæå°è¿æ¥ãæºå°ååå¸ãä¸è´æ§åå¸ãèæ hash æ§½\n   * æå¡è·¯ç± - å³é®è¯ï¼è·¯ç±ãæ¡ä»¶è·¯ç±ãèæ¬è·¯ç±ãæ ç­¾è·¯ç±\n   * æå¡ç½å³\n\n\n# ð èµæ\n\n * ä¹¦ç±\n   * ãå¤§åç½ç«ææ¯æ¶æï¼æ ¸å¿åçä¸æ¡ä¾åæã - æµæ¾ææçå°è§£å¤§åç½ç«æ¶ææ¼è¿ä¹è·¯ï¼ç®ä»äºå¤§åç³»ç»æé¢ä¸´çææä»¥åæ ¸å¿ææ¯ç¹ã\n   * ãäº¿çº§æµéç½ç«æ¶ææ ¸å¿ææ¯ï¼è·å¼æ¶å­¦æ­å»ºé«å¯ç¨é«å¹¶åç³»ç»ã\n   * å¤§åç½ç«ç³»ç»ä¸ Java ä¸­é´ä»¶å®è·µ\n   * ä¼ä¸ IT æ¶æè½¬åä¹éï¼é¿éå·´å·´ä¸­å°æç¥ææ³ä¸æ¶æå®æ - éè¿°é¿éå·´å·´ä¸­å°ç³»ç»åå±ï¼æ´å¤çæ¯è®²è§£åºç¨åºæ¯åè½åï¼æ²¡æè®²è§£ææ¯ç»èã\n   * éæµèä¸ï¼é¿éå·´å·´ææ¯æé¿ä¹è·¯ - ä¸»è¦ä»¥è¿ç»´çè§è§éè¿°ç³»ç»è¿ç»´ä¸­éå°çå°é¾ï¼å®ä½æè·¯ä»¥åè§£å³æ¹æ³ã\n   * ãHead First è®¾è®¡æ¨¡å¼ã\n   * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n   * ãéæââæ¹åæ¢æä»£ç çè®¾è®¡ã\n * æç¨\n   * system-design-primer\n   * ä» 0 å¼å§å­¦æ¶æ\n   * ä» 0 å¼å§å­¦å¾®æå¡\n   * RPC å®æä¸æ ¸å¿åç\n   * å¾®æå¡æ¶ææ ¸å¿ 20 è®²\n   * DDD å®æè¯¾\n   * Sparx UML æç¨\n   * UML Tutorial\n   * W3Cschool UML æç¨\n   * https://sourcemaking.com/refactoring\n\n\n# ðª ä¼ é\n\nâ¾ ð  DESIGN é¦é¡µ â¾ ð¯ éæçåå®¢ â¾\n\n> ä½ å¯è½ä¼æå´è¶£ï¼\n\n * Java æç¨ ð\n * JavaCore æç¨ ð\n * JavaTech æç¨ ð\n * Spring æç¨ ð\n * Spring Boot æç¨ ð\n * æ°æ®åºæç¨ ð\n * æ°æ®ç»æåç®æ³æç¨ ð\n * Linux æç¨ ð\n * Nginx æç¨ ð",normalizedContent:"> â design æ¯ä¸ªäººå¯¹äºè½¯ä»¶ç³»ç»æ¶æçå¿å¾åæ»ç»ã\n> \n> æ¶æä¹éï¼å¨äºæè¡¡ï¼æè¡¡ä¹æ¯ï¼å¨äºåèã\n> \n>  * ð é¡¹ç®åæ­¥ç»´æ¤ï¼github | gitee\n>  * ð çµå­ä¹¦éè¯»ï¼github pages | gitee pages\n\n\n# ð åå®¹\n\n\n# è®¾è®¡æ­¥éª¤\n\nè§£å³æ¹æ¡ï¼solutionï¼ï¼å°±æ¯éå¯¹æäºå·²ç»ä½ç°åºçï¼æèå¯ä»¥é¢æçé®é¢ãä¸è¶³ãç¼ºé·ãéæ±ç­ç­ï¼ææåºçä¸ä¸ªè§£å³æ´ä½é®é¢çå¯è¡æ§æ¹æ¡ãå°±è½¯ä»¶ç³»ç»èè¨ï¼è§£å³æ¹æ¡å°±æ¯ä¸ä¸ªå¯ä»¥è§£å³å·ä½ä¸å¡é®é¢ï¼å¹¶ä¸å¯ä»¥è½å°çè½¯ä»¶ç³»ç»ã\n\nè§£å³æ¹æ¡ï¼æ¯«æ çé®æ¯é¡¶å±ç³»ç»è®¾è®¡ï¼è¿éè¦è®¾è®¡èæ¢æææ¯ï¼ä¹æä¸å¡ã\n\n# ç¬¬ä¸æ­¥ï¼éæ±åæ\n\næææéè¦çä¸è¥¿èéå¨ä¸èµ·ï¼å®¡è§é®é¢ãä¸åçæé®ï¼ä»¥è³äºæä»¬å¯ä»¥æç¡®ä½¿ç¨åºæ¯åçº¦æãè®¨è®ºåè®¾ã\n\n * whatï¼ç³»ç»çä½ç¨æ¯ä»ä¹ï¼ç³»ç»çç®æ æ¯ä»ä¹ï¼\n * whoï¼ç³»ç»çç¨æ·ç¾¤ä½æ¯è°ï¼\n * howï¼ç¨æ·å¸æææ ·ä½¿ç¨ç³»ç»ï¼ç³»ç»å¦ä½ä¸ºç¨æ·æä¾æå¡ï¼\n * how manyï¼æå¤å°ç¨æ·ï¼æ¥æ´»/ææ´»æå¤å°ï¼ââç¨æ·ä½éä¼æå¤§çå½±åç³»ç»çæ§è½è¦æ±ï¼ä»èå½±åç³»ç»çè§æ¨¡åå¤æåº¦ã\n * å®¹éï¼ç³»ç»éè¦å¤çå¤å°æ°æ®ï¼\n * å¹¶åéãååéï¼ç³»ç»éè¦æ¯ç§éå¤çå¤å°è¯·æ±ï¼\n * è¯»åæ¯çï¼ç³»ç»çè¯»åæ¯çæ¯å¤å°ï¼ââè¯»å¤åå°æåå¤è¯»å°å³å®äºä¸åçæ¶ææ¹æ¡ã\n * how muchï¼ç³»ç»çé¢ç®æ¯å¤å°ï¼åæ¬ç©æãäººåææ¬ç­ï¼ï¼\n * è¾å¥è¾åºï¼ç³»ç»çè¾å¥è¾åºåå«æ¯ä»ä¹ï¼\n\n# ç¬¬äºæ­¥ï¼é¡¶å±è®¾è®¡\n\nä½¿ç¨ææéè¦çç»ä»¶æ¥æç»åºä¸ä¸ªé«å±çº§çè®¾è®¡ã\n\n * ç»åºä¸»è¦çç»ä»¶åè¿æ¥\n * è¯æä½ çæ³æ³\n\n# ç¬¬ä¸æ­¥ï¼ç»ä»¶è®¾è®¡\n\nå¯¹æ¯ä¸ä¸ªæ ¸å¿ç»ä»¶è¿è¡è¯¦ç»æ·±å¥çåæã\n\n# ç¬¬åæ­¥ï¼æ©å±è®¾è®¡\n\nç¡®è®¤åå¤çç¶é¢ä»¥åä¸äºéå¶ãä¸¾ä¾æ¥è¯´å°±æ¯ä½ éè¦ä¸é¢çè¿äºæ¥å®ææ©å±æ§çè®®é¢åï¼\n\n * è´è½½åè¡¡\n * æ°´å¹³æ©å±\n * ç¼å­\n * æ°æ®åºåç\n\n\n# åå¸å¼\n\n# åå¸å¼ç»¼å\n\n * åå¸å¼é¢è¯æ»ç»\n\n# åå¸å¼çè®º\n\n * åå¸å¼çè®º - å³é®è¯ï¼æå åº­å°åãcapãbaseãéè¯¯çåå¸å¼åè®¾\n * åå¸å¼ç®æ³ paxos - å³é®è¯ï¼å±è¯æ§ç®æ³\n * åå¸å¼ç®æ³ raft - å³é®è¯ï¼å±è¯æ§ç®æ³\n * åå¸å¼ç®æ³ gossip - å³é®è¯ï¼æ°æ®ä¼ æ­\n\n# åå¸å¼å³é®ææ¯\n\n * éç¾¤\n * å¤å¶\n * ååº\n * éä¸»\n\n# æµéè°åº¦\n\n * æµéæ§å¶ - å³é®è¯ï¼éæµãçæ­ãéçº§ãè®¡æ°å¨æ³ãæ¶é´çªå£æ³ãä»¤çæ¡¶æ³ãæ¼æ¡¶æ³\n * è´è½½åè¡¡ - å³é®è¯ï¼è½®è¯¢ãéæºãæå°è¿æ¥ãæºå°ååå¸ãä¸è´æ§åå¸ãèæ hash æ§½\n * æå¡è·¯ç± - å³é®è¯ï¼è·¯ç±ãæ¡ä»¶è·¯ç±ãèæ¬è·¯ç±ãæ ç­¾è·¯ç±\n * æå¡ç½å³\n * åå¸å¼ä¼è¯ - å³é®è¯ï¼ç²æ§ sessionãsession å¤å¶å±äº«ãåºäºç¼å­ç session å±äº«\n\n# æ°æ®è°åº¦\n\n * æ°æ®ç¼å­ - å³é®è¯ï¼è¿ç¨åç¼å­ãåå¸å¼ç¼å­ãç¼å­éªå´©ãç¼å­ç©¿éãç¼å­å»ç©¿ãç¼å­æ´æ°ãç¼å­é¢ç­ãç¼å­éçº§\n * è¯»ååç¦»\n * ååºåè¡¨ - å³é®è¯ï¼åçãè·¯ç±ãè¿ç§»ãæ©å®¹ãååãèå\n * åå¸å¼ id - å³é®è¯ï¼uuidãèªå¢åºåãéªè±ç®æ³ãleaf\n * åå¸å¼äºå¡ - å³é®è¯ï¼2pcã3pcãtccãæ¬å°æ¶æ¯è¡¨ãmq æ¶æ¯ãsaga\n * åå¸å¼é - å³é®è¯ï¼æ°æ®åºãredisãzookeeperãäºæ¥ãå¯éå¥ãæ­»éãå®¹éãèªæå°è¯\n\n# èµæºè°åº¦\n\n * å¼¹æ§ä¼¸ç¼©\n\n# éä¿¡\n\n * æ¶æ¯éå - å³é®è¯ï¼éå¤æ¶è´¹ãæ¶æ¯ä¸¢å¤±ãæ¶æ¯é¡ºåºæ§ãæ¶æ¯ç§¯å\n\n# æå¡æ²»ç\n\n * æå¡æ³¨åååç°\n * æå¡çæ§\n * æå¡é¾è·¯çæ§\n * æå¡å®¹é\n * æå¡ç¼æ\n * æå¡çæ¬ç®¡ç\n * æµéè°åº¦\n   * æµéæ§å¶ - å³é®è¯ï¼éæµãçæ­ãéçº§ãè®¡æ°å¨æ³ãæ¶é´çªå£æ³ãä»¤çæ¡¶æ³ãæ¼æ¡¶æ³\n   * è´è½½åè¡¡ - å³é®è¯ï¼è½®è¯¢ãéæºãæå°è¿æ¥ãæºå°ååå¸ãä¸è´æ§åå¸ãèæ hash æ§½\n   * æå¡è·¯ç± - å³é®è¯ï¼è·¯ç±ãæ¡ä»¶è·¯ç±ãèæ¬è·¯ç±ãæ ç­¾è·¯ç±\n   * æå¡ç½å³\n\n\n# ð èµæ\n\n * ä¹¦ç±\n   * ãå¤§åç½ç«ææ¯æ¶æï¼æ ¸å¿åçä¸æ¡ä¾åæã - æµæ¾ææçå°è§£å¤§åç½ç«æ¶ææ¼è¿ä¹è·¯ï¼ç®ä»äºå¤§åç³»ç»æé¢ä¸´çææä»¥åæ ¸å¿ææ¯ç¹ã\n   * ãäº¿çº§æµéç½ç«æ¶ææ ¸å¿ææ¯ï¼è·å¼æ¶å­¦æ­å»ºé«å¯ç¨é«å¹¶åç³»ç»ã\n   * å¤§åç½ç«ç³»ç»ä¸ java ä¸­é´ä»¶å®è·µ\n   * ä¼ä¸ it æ¶æè½¬åä¹éï¼é¿éå·´å·´ä¸­å°æç¥ææ³ä¸æ¶æå®æ - éè¿°é¿éå·´å·´ä¸­å°ç³»ç»åå±ï¼æ´å¤çæ¯è®²è§£åºç¨åºæ¯åè½åï¼æ²¡æè®²è§£ææ¯ç»èã\n   * éæµèä¸ï¼é¿éå·´å·´ææ¯æé¿ä¹è·¯ - ä¸»è¦ä»¥è¿ç»´çè§è§éè¿°ç³»ç»è¿ç»´ä¸­éå°çå°é¾ï¼å®ä½æè·¯ä»¥åè§£å³æ¹æ³ã\n   * ãhead first è®¾è®¡æ¨¡å¼ã\n   * ãå¤§è¯è®¾è®¡æ¨¡å¼ã\n   * ãéæââæ¹åæ¢æä»£ç çè®¾è®¡ã\n * æç¨\n   * system-design-primer\n   * ä» 0 å¼å§å­¦æ¶æ\n   * ä» 0 å¼å§å­¦å¾®æå¡\n   * rpc å®æä¸æ ¸å¿åç\n   * å¾®æå¡æ¶ææ ¸å¿ 20 è®²\n   * ddd å®æè¯¾\n   * sparx uml æç¨\n   * uml tutorial\n   * w3cschool uml æç¨\n   * https://sourcemaking.com/refactoring\n\n\n# ðª ä¼ é\n\nâ¾ ð  design é¦é¡µ â¾ ð¯ éæçåå®¢ â¾\n\n> ä½ å¯è½ä¼æå´è¶£ï¼\n\n * java æç¨ ð\n * javacore æç¨ ð\n * javatech æç¨ ð\n * spring æç¨ ð\n * spring boot æç¨ ð\n * æ°æ®åºæç¨ ð\n * æ°æ®ç»æåç®æ³æç¨ ð\n * linux æç¨ ð\n * nginx æç¨ ð",charsets:{cjk:!0},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"æ ç­¾",frontmatter:{tagsPage:!0,title:"æ ç­¾",permalink:"/tags/",article:!1},regularPath:"/@pages/tagsPage.html",relativePath:"@pages/tagsPage.md",key:"v-0480d1c5",path:"/tags/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3},{title:"åç±»",frontmatter:{categoriesPage:!0,title:"åç±»",permalink:"/categories/",article:!1},regularPath:"/@pages/categoriesPage.html",relativePath:"@pages/categoriesPage.md",key:"v-20b770b6",path:"/categories/",headersStr:null,content:"",normalizedContent:"",charsets:{},lastUpdated:"2024/01/27, 23:24:21",lastUpdatedTimestamp:1706369061e3}],themeConfig:{nav:[{text:"è®¾è®¡",link:"/03.è®¾è®¡/",items:[{text:"æ¶æ",link:"/03.è®¾è®¡/01.æ¶æ/"},{text:"è®¾è®¡æ¨¡å¼",link:"/03.è®¾è®¡/02.è®¾è®¡æ¨¡å¼/"},{text:"éæ",link:"/03.è®¾è®¡/03.éæ/"},{text:"UML",link:"/03.è®¾è®¡/11.UML/"}]}],sidebarDepth:2,logo:"https://raw.githubusercontent.com/dunwu/images/master/common/dunwu-logo.png",repo:"dunwu/design",searchMaxSuggestions:10,lastUpdated:"ä¸æ¬¡æ´æ°",docsDir:"docs",editLinks:!0,editLinkText:"ð å¸®å©æ¹åæ­¤é¡µé¢ï¼",sidebar:{"/03.è®¾è®¡/":[{title:"æ¶æ",collapsable:!0,children:[{title:"ç»¼å",collapsable:!0,children:[["01.æ¶æ/00.ç»¼å/00.å¦ä½è®¾è®¡ç³»ç».md","å¦ä½è®¾è®¡ç³»ç»","/pages/0a89f3/"],["01.æ¶æ/00.ç»¼å/01.ç³»ç»æ¶æé¢è¯.md","ç³»ç»æ¶æé¢è¯","/pages/000a7b/"],["01.æ¶æ/00.ç»¼å/02.ç³»ç»æ¶ææ¦è¿°.md","ç³»ç»æ¶ææ¦è¿°","/pages/db2390/"],["01.æ¶æ/00.ç»¼å/03.ç³»ç»é«æ§è½æ¶æ.md","ç³»ç»é«æ§è½æ¶æ","/pages/a49605/"],["01.æ¶æ/00.ç»¼å/04.ç³»ç»é«å¯ç¨æ¶æ.md","ç³»ç»é«å¯ç¨æ¶æ","/pages/9a462f/"],["01.æ¶æ/00.ç»¼å/05.ç³»ç»ä¼¸ç¼©æ§æ¶æ.md","ç³»ç»ä¼¸ç¼©æ§æ¶æ","/pages/1e5251/"],["01.æ¶æ/00.ç»¼å/06.ç³»ç»æ©å±æ§æ¶æ.md","ç³»ç»æ©å±æ§æ¶æ","/pages/943670/"],["01.æ¶æ/00.ç»¼å/07.ç³»ç»å®å¨æ§æ¶æ.md","ç³»ç»å®å¨æ§æ¶æ","/pages/a1adcf/"],["01.æ¶æ/00.ç»¼å/08.å¤§åç³»ç»æ ¸å¿ææ¯.md","å¤§åç³»ç»æ ¸å¿ææ¯","/pages/8cbae8/"],["01.æ¶æ/00.ç»¼å/09.ç³»ç»æµè¯æ¶æ.md","ç³»ç»æµè¯æ¶æ","/pages/641e5c/"]]},{title:"å¾®æå¡",collapsable:!0,children:[["01.æ¶æ/01.å¾®æå¡/01.å¾®æå¡ç®ä».md","å¾®æå¡ç®ä»","/pages/012075/"],["01.æ¶æ/01.å¾®æå¡/02.å¾®æå¡åºæ¬åç.md","å¾®æå¡åºæ¬åç","/pages/aa7497/"]]},{title:"å®å¨",collapsable:!0,children:[["01.æ¶æ/02.å®å¨/01.è®¤è¯åææ.md","è®¤è¯åææ","/pages/7ac4c5/"],["01.æ¶æ/02.å®å¨/02.OAuth2.0.md","OAuth 2.0","/pages/21bd0a/"]]},{title:"è§£å³æ¹æ¡",collapsable:!0,children:[]}]},{title:"è®¾è®¡æ¨¡å¼",collapsable:!0,children:[["02.è®¾è®¡æ¨¡å¼/00.è®¾è®¡æ¨¡å¼æ¦è¿°.md","è®¾è®¡æ¨¡å¼æ¦è¿°","/pages/9a2452/"],["02.è®¾è®¡æ¨¡å¼/01.ç®åå·¥åæ¨¡å¼.md","è®¾è®¡æ¨¡å¼ä¹ç®åå·¥åæ¨¡å¼","/pages/ff930b/"],["02.è®¾è®¡æ¨¡å¼/02.å·¥åæ¹æ³æ¨¡å¼.md","è®¾è®¡æ¨¡å¼ä¹å·¥åæ¹æ³æ¨¡å¼","/pages/65724c/"],["02.è®¾è®¡æ¨¡å¼/03.æ½è±¡å·¥åæ¨¡å¼.md","è®¾è®¡æ¨¡å¼ä¹æ½è±¡å·¥åæ¨¡å¼","/pages/340aa0/"],["02.è®¾è®¡æ¨¡å¼/04.å»ºé èæ¨¡å¼.md","è®¾è®¡æ¨¡å¼ä¹å»ºé èæ¨¡å¼","/pages/bf03f3/"],["02.è®¾è®¡æ¨¡å¼/05.ååæ¨¡å¼.md","è®¾è®¡æ¨¡å¼ä¹ååæ¨¡å¼","/pages/1af8ee/"],["02.è®¾è®¡æ¨¡å¼/06.åä¾æ¨¡å¼.md","è®¾è®¡æ¨¡å¼ä¹åä¾æ¨¡å¼","/pages/cf046f/"],["02.è®¾è®¡æ¨¡å¼/07.ééå¨æ¨¡å¼.md","è®¾è®¡æ¨¡å¼ä¹ééå¨æ¨¡å¼","/pages/2115cf/"],["02.è®¾è®¡æ¨¡å¼/08.æ¡¥æ¥æ¨¡å¼.md","è®¾è®¡æ¨¡å¼ä¹æ¡¥æ¥æ¨¡å¼","/pages/b05f5f/"],["02.è®¾è®¡æ¨¡å¼/09.ç»åæ¨¡å¼.md","è®¾è®¡æ¨¡å¼ä¹ç»åæ¨¡å¼","/pages/85c0a3/"],["02.è®¾è®¡æ¨¡å¼/10.è£é¥°æ¨¡å¼.md","è®¾è®¡æ¨¡å¼ä¹è£é¥°æ¨¡å¼","/pages/2e24a8/"],["02.è®¾è®¡æ¨¡å¼/11.å¤è§æ¨¡å¼.md","è®¾è®¡æ¨¡å¼ä¹å¤è§æ¨¡å¼","/pages/ea331b/"],["02.è®¾è®¡æ¨¡å¼/12.äº«åæ¨¡å¼.md","è®¾è®¡æ¨¡å¼ä¹äº«åæ¨¡å¼","/pages/9147e7/"],["02.è®¾è®¡æ¨¡å¼/13.ä»£çæ¨¡å¼.md","è®¾è®¡æ¨¡å¼ä¹ä»£çæ¨¡å¼","/pages/5a865c/"],["02.è®¾è®¡æ¨¡å¼/14.æ¨¡æ¿æ¹æ³æ¨¡å¼.md","è®¾è®¡æ¨¡å¼ä¹æ¨¡æ¿æ¹æ³æ¨¡å¼","/pages/6eaeb4/"],["02.è®¾è®¡æ¨¡å¼/15.å½ä»¤æ¨¡å¼.md","è®¾è®¡æ¨¡å¼ä¹å½ä»¤æ¨¡å¼","/pages/22353c/"],["02.è®¾è®¡æ¨¡å¼/16.è¿­ä»£å¨æ¨¡å¼.md","è®¾è®¡æ¨¡å¼ä¹è¿­ä»£å¨æ¨¡å¼","/pages/09d5af/"],["02.è®¾è®¡æ¨¡å¼/17.è§å¯èæ¨¡å¼.md","è®¾è®¡æ¨¡å¼ä¹è§å¯èæ¨¡å¼","/pages/056e1d/"],["02.è®¾è®¡æ¨¡å¼/18.è§£éå¨æ¨¡å¼.md","è®¾è®¡æ¨¡å¼ä¹è§£éå¨æ¨¡å¼","/pages/48e5aa/"],["02.è®¾è®¡æ¨¡å¼/19.ä¸­ä»èæ¨¡å¼.md","è®¾è®¡æ¨¡å¼ä¹ä¸­ä»èæ¨¡å¼","/pages/3b1f47/"],["02.è®¾è®¡æ¨¡å¼/20.èè´£é¾æ¨¡å¼.md","è®¾è®¡æ¨¡å¼ä¹èè´£é¾æ¨¡å¼","/pages/b25735/"],["02.è®¾è®¡æ¨¡å¼/21.å¤å¿å½æ¨¡å¼.md","è®¾è®¡æ¨¡å¼ä¹å¤å¿å½æ¨¡å¼","/pages/5ae0d5/"],["02.è®¾è®¡æ¨¡å¼/22.ç­ç¥æ¨¡å¼.md","è®¾è®¡æ¨¡å¼ä¹ç­ç¥æ¨¡å¼","/pages/dc8ecd/"],["02.è®¾è®¡æ¨¡å¼/23.è®¿é®èæ¨¡å¼.md","è®¾è®¡æ¨¡å¼ä¹è®¿é®èæ¨¡å¼","/pages/671352/"],["02.è®¾è®¡æ¨¡å¼/24.ç¶ææ¨¡å¼.md","è®¾è®¡æ¨¡å¼ä¹ç¶ææ¨¡å¼","/pages/d77095/"],["02.è®¾è®¡æ¨¡å¼/25.é¢åå¯¹è±¡åå.md","é¢åå¯¹è±¡åå","/pages/9703b1/"]]},{title:"éæ",collapsable:!0,children:[["03.éæ/01.ä»£ç çåå³éåéæ.md","ä»£ç çåå³éåéæ","/pages/d86872/"],["03.éæ/02.ä»£ç åå³éä¹ä»£ç èè¿.md","ä»£ç åå³éä¹ä»£ç èè¿","/pages/49d5ae/"],["03.éæ/03.ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡.md","ä»£ç åå³éä¹æ»¥ç¨é¢åå¯¹è±¡","/pages/65ee05/"],["03.éæ/04.ä»£ç åå³éä¹åé©çéç¢.md","ä»£ç åå³éä¹åé©çéç¢","/pages/56ca63/"],["03.éæ/05.ä»£ç åå³éä¹éå¿è¦ç.md","ä»£ç åå³éä¹éå¿è¦ç","/pages/47acb5/"],["03.éæ/06.ä»£ç åå³éä¹è¦å.md","ä»£ç åå³éä¹è¦å","/pages/630e7a/"]]},{title:"DDD",collapsable:!0,children:[["04.DDD/01.é¢åé©±å¨è®¾è®¡ç®ä».md","é¢åé©±å¨è®¾è®¡ç®ä»","/pages/86db92/"]]},{title:"UML",collapsable:!0,children:[["11.UML/01.UMLå¿«éå¥é¨.md","UML å¿«éå¥é¨","/pages/ae1396/"],["11.UML/02.UMLç»æå»ºæ¨¡å¾.md","UML ç»æå»ºæ¨¡å¾","/pages/dd5922/"],["11.UML/03.UMLè¡ä¸ºå»ºæ¨¡å¾.md","UML è¡ä¸ºå»ºæ¨¡å¾","/pages/0b8e4b/"]]}],catalogue:{}},sidebarOpen:!0,updateBar:{showToArticle:!0},category:!0,tag:!0,archive:!0,author:{name:"dunwu",href:"https://github.com/dunwu"},social:{icons:[{iconClass:"icon-youjian",title:"åé®ä»¶",link:"mailto:forbreak@163.com"},{iconClass:"icon-github",title:"GitHub",link:"https://github.com/dunwu"}]},footer:{createYear:2019,copyrightInfo:"éæï¼dunwuï¼ | CC-BY-SA-4.0"},htmlModules:{pageB:'\n  <div class="wwads-cn wwads-horizontal pageB" data-id="136" style="width:100%;max-height:80px;min-height:auto;"></div>\n  <style>\n    .pageB img{width:80px!important;}\n    .wwads-horizontal .wwads-text, .wwads-content .wwads-text{line-height:1;}\n  </style>\n  ',windowRB:'\n    <div class="wwads-cn wwads-vertical windowRB" data-id="136" style="max-width:160px;\n    min-width: auto;min-height:auto;"></div>\n    <style>\n      .windowRB{ padding: 0;}\n      .windowRB .wwads-img{margin-top: 10px;}\n      .windowRB .wwads-content{margin: 0 10px 10px 10px;}\n      .custom-html-window-rb .close-but{\n        display: none;\n      }\n    </style>\n  '}}};var Ts=t(95),Cs=t(96),Is=t(11);var Es={computed:{$filterPosts(){return this.$site.pages.filter(n=>{const{frontmatter:{pageComponent:e,article:t,home:r}}=n;return!(e||!1===t||!0===r)})},$sortPosts(){return(n=this.$filterPosts).sort((n,e)=>{const t=n.frontmatter.sticky,r=e.frontmatter.sticky;return t&&r?t==r?Object(Is.a)(n,e):t-r:t&&!r?-1:!t&&r?1:Object(Is.a)(n,e)}),n;var n},$sortPostsByDate(){return(n=this.$filterPosts).sort((n,e)=>Object(Is.a)(n,e)),n;var n},$groupPosts(){return function(n){const e={},t={};for(let r=0,i=n.length;r<i;r++){const{frontmatter:{categories:i,tags:a}}=n[r];"array"===Object(Is.n)(i)&&i.forEach(t=>{t&&(e[t]||(e[t]=[]),e[t].push(n[r]))}),"array"===Object(Is.n)(a)&&a.forEach(e=>{e&&(t[e]||(t[e]=[]),t[e].push(n[r]))})}return{categories:e,tags:t}}(this.$sortPosts)},$categoriesAndTags(){return function(n){const e=[],t=[];for(let t in n.categories)e.push({key:t,length:n.categories[t].length});for(let e in n.tags)t.push({key:e,length:n.tags[e].length});return{categories:e,tags:t}}(this.$groupPosts)}}};Gt.component(Ts.default),Gt.component(Cs.default);function Ss(n){return n.toString().padStart(2,"0")}t(245);Gt.component("Badge",()=>Promise.all([t.e(0),t.e(3)]).then(t.bind(null,413))),Gt.component("CodeBlock",()=>Promise.resolve().then(t.bind(null,95))),Gt.component("CodeGroup",()=>Promise.resolve().then(t.bind(null,96)));t(246),t(247);var ks=t(94),zs=t.n(ks),As=t(27);let _s,Ps;var js;"valine"===(js="gitalk")?t.e(75).then(t.t.bind(null,340,7)).then(n=>Ps=n.default):"gitalk"===js&&Promise.all([t.e(0),t.e(74)]).then(t.t.bind(null,341,7)).then(()=>t.e(73).then(t.t.bind(null,342,7))).then(n=>_s=n.default);function Bs(n,e){const t={};return Reflect.ownKeys(n).forEach(r=>{if("string"==typeof n[r])try{t[r]=zs.a.render(n[r],e)}catch(e){console.warn(`Comment config option error at key named "${r}"`),console.warn("More info: "+e.message),t[r]=n[r]}else t[r]=n[r]}),t}console.log(`How to use "gitalk" in ${As.name}@v${As.version}:`,As.homepage);const Os={gitalk:{render(n,e){const t=document.createElement("div");t.id=e;document.querySelector("main.page").appendChild(t);new _s(Bs({clientID:"e14ca3cdac2f448d544e",clientSecret:"75f09b9dede044939cf0ff690bc93c225bcb4063",repo:"design",owner:"dunwu",admin:["dunwu"],pagerDirection:"last",id:"<%- (frontmatter.permalink || frontmatter.to.path).slice(-16) %>",title:"ãè¯è®ºã<%- frontmatter.title %>",labels:["Gitalk","Comment"],body:"é¡µé¢ï¼<%- window.location.origin + (frontmatter.to.path || window.location.pathname) %>"},{frontmatter:n})).render(e)},clear(n){const e=document.querySelector("#"+n);return e&&e.remove(),!0}},valine:{render(n,e){const t=document.createElement("div");t.id=e;document.querySelector("main.page").appendChild(t),new Ps({...Bs({clientID:"e14ca3cdac2f448d544e",clientSecret:"75f09b9dede044939cf0ff690bc93c225bcb4063",repo:"design",owner:"dunwu",admin:["dunwu"],pagerDirection:"last",id:"<%- (frontmatter.permalink || frontmatter.to.path).slice(-16) %>",title:"ãè¯è®ºã<%- frontmatter.title %>",labels:["Gitalk","Comment"],body:"é¡µé¢ï¼<%- window.location.origin + (frontmatter.to.path || window.location.pathname) %>"},{frontmatter:n}),el:"#"+e})},clear(n){const e=document.querySelector("#"+n);return e&&e.remove(),!0}}},Ds="vuepress-plugin-comment";let Rs=null;function Ms(n){return Os.gitalk.clear(Ds)}function Ls(n){return!1!==n.comment&&!1!==n.comments}function Us(n){clearTimeout(Rs);if(document.querySelector("main.page"))return Os.gitalk.render(n,Ds);Rs=setTimeout(()=>Us(n),200)}var Fs={mounted(){Rs=setTimeout(()=>{const n={to:{},from:{},...this.$frontmatter};Ms()&&Ls(n)&&Us(n)},1e3),this.$router.afterEach((n,e)=>{if(n&&e&&n.path===e.path)return;const t={to:n,from:e,...this.$frontmatter};Ms()&&Ls(t)&&Us(t)})}},qs=Object(bs.a)(Fs,(function(){return(0,this._self._c)("div")}),[],!1,null,null,null).exports,Ns=[({Vue:n,options:e,router:t,siteData:r})=>{},({Vue:n,options:e,router:t,siteData:r})=>{r.pages.map(n=>{const{frontmatter:{date:e,author:t}}=n;"string"==typeof e&&"Z"===e.charAt(e.length-1)&&(n.frontmatter.date=function(n){n instanceof Date||(n=new Date(n));return`${n.getUTCFullYear()}-${Ss(n.getUTCMonth()+1)}-${Ss(n.getUTCDate())} ${Ss(n.getUTCHours())}:${Ss(n.getUTCMinutes())}:${Ss(n.getUTCSeconds())}`}(e)),t?n.author=t:r.themeConfig.author&&(n.author=r.themeConfig.author)}),n.mixin(Es)},{},({Vue:n})=>{n.mixin({computed:{$dataBlock(){return this.$options.__data__block__}}})},{},{},()=>{"undefined"!=typeof window&&function(n,e,t){function r(n){var t=e.createElement("div");t.className="heart",i.push({el:t,x:n.clientX-5,y:n.clientY-5,scale:1,alpha:1,color:"#11a8cd"}),e.body.appendChild(t)}var i=[];n.requestAnimationFrame=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(n){setTimeout(n,1e3/60)},function(n){var t=e.createElement("style");t.type="text/css";try{t.appendChild(e.createTextNode(n))}catch(e){t.styleSheet.cssText=n}e.getElementsByTagName("head")[0].appendChild(t)}(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"),function(){var e="function"==typeof n.onclick&&n.onclick;n.onclick=function(n){let t=!0;n.path&&n.path.forEach(n=>{1===n.nodeType&&"string"==typeof n.className&&n.className.indexOf("theme-vdoing-content")>-1&&(t=!1)}),t&&(e&&e(),r(n))}}(),function n(){for(var t=0;t<i.length;t++)i[t].alpha<=0?(e.body.removeChild(i[t].el),i.splice(t,1)):(i[t].y--,i[t].scale+=.004,i[t].alpha-=.013,i[t].el.style.cssText="left:"+i[t].x+"px;top:"+i[t].y+"px;opacity:"+i[t].alpha+";transform:scale("+i[t].scale+","+i[t].scale+") rotate(45deg);background:"+i[t].color+";z-index:99999");requestAnimationFrame(n)}()}(window,document)},({Vue:n})=>{n.component("Comment",qs)}],$s=["Comment"];class Hs extends class{constructor(){this.store=new Gt({data:{state:{}}})}$get(n){return this.store.state[n]}$set(n,e){Gt.set(this.store.state,n,e)}$emit(...n){this.store.$emit(...n)}$on(...n){this.store.$on(...n)}}{}Object.assign(Hs.prototype,{getPageAsyncComponent:ll,getLayoutAsyncComponent:sl,getAsyncComponent:cl,getVueComponent:dl});var Ws={install(n){const e=new Hs;n.$vuepress=e,n.prototype.$vuepress=e}};function Vs(n,e){const t=e.toLowerCase();return n.options.routes.some(n=>n.path.toLowerCase()===t)}var Gs={props:{pageKey:String,slotKey:{type:String,default:"default"}},render(n){const e=this.pageKey||this.$parent.$page.key;return pl("pageKey",e),Gt.component(e)||Gt.component(e,ll(e)),Gt.component(e)?n(e):n("")}},Js={functional:!0,props:{slotKey:String,required:!0},render:(n,{props:e,slots:t})=>n("div",{class:["content__"+e.slotKey]},t()[e.slotKey])},Qs={computed:{openInNewWindowTitle(){return this.$themeLocaleConfig.openNewWindowText||"(opens new window)"}}},Zs=(t(253),t(254),Object(bs.a)(Qs,(function(){var n=this._self._c;return n("span",[n("svg",{staticClass:"icon outbound",attrs:{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",x:"0px",y:"0px",viewBox:"0 0 100 100",width:"15",height:"15"}},[n("path",{attrs:{fill:"currentColor",d:"M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"}}),this._v(" "),n("polygon",{attrs:{fill:"currentColor",points:"45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"}})]),this._v(" "),n("span",{staticClass:"sr-only"},[this._v(this._s(this.openInNewWindowTitle))])])}),[],!1,null,null,null).exports),Xs={functional:!0,render(n,{parent:e,children:t}){if(e._isMounted)return t;e.$once("hook:mounted",()=>{e.$forceUpdate()})}};Gt.config.productionTip=!1,Gt.use(Wo),Gt.use(Ws),Gt.mixin(function(n,e,t=Gt){!function(n){n.locales&&Object.keys(n.locales).forEach(e=>{n.locales[e].path=e});Object.freeze(n)}(e),t.$vuepress.$set("siteData",e);const r=new(n(t.$vuepress.$get("siteData"))),i=Object.getOwnPropertyDescriptors(Object.getPrototypeOf(r)),a={};return Object.keys(i).reduce((n,e)=>(e.startsWith("$")&&(n[e]=i[e].get),n),a),{computed:a}}(n=>class{setPage(n){this.__page=n}get $site(){return n}get $themeConfig(){return this.$site.themeConfig}get $frontmatter(){return this.$page.frontmatter}get $localeConfig(){const{locales:n={}}=this.$site;let e,t;for(const r in n)"/"===r?t=n[r]:0===this.$page.path.indexOf(r)&&(e=n[r]);return e||t||{}}get $siteTitle(){return this.$localeConfig.title||this.$site.title||""}get $canonicalUrl(){const{canonicalUrl:n}=this.$page.frontmatter;return"string"==typeof n&&n}get $title(){const n=this.$page,{metaTitle:e}=this.$page.frontmatter;if("string"==typeof e)return e;const t=this.$siteTitle,r=n.frontmatter.home?null:n.frontmatter.title||n.title;return t?r?r+" | "+t:t:r||"VuePress"}get $description(){const n=function(n){if(n){const e=n.filter(n=>"description"===n.name)[0];if(e)return e.content}}(this.$page.frontmatter.meta);return n||(this.$page.frontmatter.description||this.$localeConfig.description||this.$site.description||"")}get $lang(){return this.$page.frontmatter.lang||this.$localeConfig.lang||"en-US"}get $localePath(){return this.$localeConfig.path||"/"}get $themeLocaleConfig(){return(this.$site.themeConfig.locales||{})[this.$localePath]||{}}get $page(){return this.__page?this.__page:function(n,e){for(let t=0;t<n.length;t++){const r=n[t];if(r.path.toLowerCase()===e.toLowerCase())return r}return{path:"",frontmatter:{}}}(this.$site.pages,this.$route.path)}},ws)),Gt.component("Content",Gs),Gt.component("ContentSlotsDistributor",Js),Gt.component("OutboundLink",Zs),Gt.component("ClientOnly",Xs),Gt.component("Layout",sl("Layout")),Gt.component("NotFound",sl("NotFound")),Gt.prototype.$withBase=function(n){const e=this.$site.base;return"/"===n.charAt(0)?e+n.slice(1):n},window.__VUEPRESS__={version:"1.9.2",hash:"80bfcf8"},async function(n){const e="undefined"!=typeof window&&window.__VUEPRESS_ROUTER_BASE__?window.__VUEPRESS_ROUTER_BASE__:ws.routerBase||ws.base,t=new Wo({base:e,mode:"history",fallback:!1,routes:xs,scrollBehavior:(n,e,t)=>t||(n.hash?!Gt.$vuepress.$get("disableScrollBehavior")&&{selector:decodeURIComponent(n.hash)}:{x:0,y:0})});!function(n){n.beforeEach((e,t,r)=>{if(Vs(n,e.path))r();else if(/(\/|\.html)$/.test(e.path))if(/\/$/.test(e.path)){const t=e.path.replace(/\/$/,"")+".html";Vs(n,t)?r(t):r()}else r();else{const t=e.path+"/",i=e.path+".html";Vs(n,i)?r(i):Vs(n,t)?r(t):r()}})}(t);const r={};try{await Promise.all(Ns.filter(n=>"function"==typeof n).map(e=>e({Vue:Gt,options:r,router:t,siteData:ws,isServer:n})))}catch(n){console.error(n)}return{app:new Gt(Object.assign(r,{router:t,render:n=>n("div",{attrs:{id:"app"}},[n("RouterView",{ref:"layout"}),n("div",{class:"global-ui"},$s.map(e=>n(e)))])})),router:t}}(!1).then(({app:n,router:e})=>{e.onReady(()=>{n.$mount("#app")})})}]);